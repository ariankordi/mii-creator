{
  "version": 3,
  "sources": ["..\\..\\src\\api.ts"],
  "sourcesContent": [
    "let promiseList = new Map<string, Promise<string | false>>();\r\n\r\nfunction makeFrame(params: string, fullscreen: boolean) {\r\n  const frame = document.createElement(\"iframe\");\r\n  if (fullscreen) {\r\n    frame.style.width = `${window.innerWidth}px`;\r\n    frame.style.height = `${window.innerHeight}px`;\r\n    frame.style.top = \"0\";\r\n    frame.style.left = \"0\";\r\n    frame.style.border = \"0\";\r\n    frame.style.position = \"fixed\";\r\n    frame.style.zIndex = \"99999\";\r\n    document.body.appendChild(frame);\r\n  }\r\n\r\n  frame.src = `${import.meta.url.replace(\"dist/api.js\", \"\")}?${params}`;\r\n  return frame;\r\n}\r\n\r\n// UNFINISHED, DO NOT USE YET\r\nexport default {\r\n  configuration: {\r\n    music: true,\r\n  },\r\n  async editMii(\r\n    data: string = \"AwEAAAAAAAAAAAAAgP9wmQAAAAAAAAAAAABNAGkAaQAAAAAAAAAAAAAAAAAAAEBAAAAhAQJoRBgmNEYUgRIXaA0AACkAUkhQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMNn\",\r\n    fullscreen: boolean = true,\r\n    renderTypes: string[] = [\"headshot\"]\r\n  ) {\r\n    return new Promise((resolve, reject) => {\r\n      const frame = makeFrame(\r\n        `data=${encodeURIComponent(data)}&renderTypes=${renderTypes\r\n          .map((r) => encodeURIComponent(r))\r\n          .join(\",\")}`,\r\n        fullscreen\r\n      );\r\n\r\n      function resizeCallback() {\r\n        if (fullscreen) {\r\n          frame.style.width = `${window.innerWidth}px`;\r\n          frame.style.height = `${window.innerHeight}px`;\r\n        }\r\n      }\r\n      function postmessageCallback(event: Event) {\r\n        // TS-specific hack\r\n        let evt = event as MessageEvent<any>;\r\n        if (evt.data === undefined) return;\r\n        if (evt.data.type === undefined) return;\r\n        if (evt.data.type !== \"miic-data-finalize\") return;\r\n\r\n        frame.style.transition = \"opacity 0.5s linear\";\r\n        frame.style.opacity = \"0\";\r\n        setTimeout(() => {\r\n          frame.remove();\r\n          window.removeEventListener(\"resize\", resizeCallback);\r\n          window.removeEventListener(\"onmessage\", postmessageCallback);\r\n          resolve(evt.data);\r\n        }, 500);\r\n      }\r\n\r\n      window.addEventListener(\"resize\", resizeCallback);\r\n      window.addEventListener(\"message\", postmessageCallback);\r\n    });\r\n  },\r\n  async selectMii(\r\n    fullscreen: boolean = true,\r\n    renderTypes: string[] = [\"headshot\"]\r\n  ) {\r\n    return new Promise((resolve, reject) => {\r\n      const frame = makeFrame(\r\n        `select=yes&renderTypes=${renderTypes\r\n          .map((r) => encodeURIComponent(r))\r\n          .join(\",\")}`,\r\n        fullscreen\r\n      );\r\n\r\n      function resizeCallback() {\r\n        if (fullscreen) {\r\n          frame.style.width = `${window.innerWidth}px`;\r\n          frame.style.height = `${window.innerHeight}px`;\r\n        }\r\n      }\r\n      function postmessageCallback(event: Event) {\r\n        // TS-specific hack\r\n        let evt = event as MessageEvent<any>;\r\n        if (evt.data === undefined) return;\r\n        if (evt.data.type === undefined) return;\r\n        if (evt.data.type !== \"miic-select\") return;\r\n\r\n        frame.style.transition = \"opacity 0.5s linear\";\r\n        frame.style.opacity = \"0\";\r\n        setTimeout(() => {\r\n          frame.remove();\r\n          window.removeEventListener(\"resize\", resizeCallback);\r\n          window.removeEventListener(\"onmessage\", postmessageCallback);\r\n          resolve(evt.data);\r\n        }, 500);\r\n      }\r\n\r\n      window.addEventListener(\"resize\", resizeCallback);\r\n      window.addEventListener(\"message\", postmessageCallback);\r\n    });\r\n  },\r\n  newMii(gender: \"male\" | \"female\" = \"male\") {\r\n    switch (gender) {\r\n      case \"male\":\r\n        return this.editMii(\r\n          \"AwEAAAAAAAAAAAAAgP9wmQAAAAAAAAAAAABNAGkAaQAAAAAAAAAAAAAAAAAAAEBAAAAhAQJoRBgmNEYUgRIXaA0AACkAUkhQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMNn\"\r\n        );\r\n      case \"female\":\r\n        return this.editMii(\r\n          \"AwEAAAAAAAAAAAAAgN8ZmgAAAAAAAAAAAQBNAGkAaQAAAAAAAAAAAAAAAAAAAEBAAAAMAQRoQxggNEYUgRIXaA0AACkAUkhQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFik\"\r\n        );\r\n    }\r\n  },\r\n  configure(newConfiguration: Record<string, any>) {\r\n    // Set music state\r\n    if (\r\n      newConfiguration.music !== undefined &&\r\n      typeof newConfiguration.music === \"boolean\"\r\n    ) {\r\n      this.configuration.music = newConfiguration.music;\r\n    }\r\n  },\r\n};\r\n"
  ],
  "mappings": "AAEA,SAAS,CAAS,CAAC,EAAgB,EAAqB,CACtD,MAAM,EAAQ,SAAS,cAAc,QAAQ,EAC7C,GAAI,EACF,EAAM,MAAM,MAAQ,GAAG,OAAO,eAC9B,EAAM,MAAM,OAAS,GAAG,OAAO,gBAC/B,EAAM,MAAM,IAAM,IAClB,EAAM,MAAM,KAAO,IACnB,EAAM,MAAM,OAAS,IACrB,EAAM,MAAM,SAAW,QACvB,EAAM,MAAM,OAAS,QACrB,SAAS,KAAK,YAAY,CAAK,EAIjC,OADA,EAAM,IAAM,GAAG,YAAY,IAAI,QAAQ,cAAe,EAAE,KAAK,IACtD,EAIT,IAAe,GACb,cAAe,CACb,MAAO,EACT,OACM,QAAO,CACX,EAAe,mIACf,EAAsB,GACtB,EAAwB,CAAC,UAAU,EACnC,CACA,OAAO,IAAI,QAAQ,CAAC,EAAS,IAAW,CACtC,MAAM,EAAQ,EACZ,QAAQ,mBAAmB,CAAI,iBAAiB,EAC7C,IAAI,CAAC,IAAM,mBAAmB,CAAC,CAAC,EAChC,KAAK,GAAG,IACX,CACF,EAEA,SAAS,CAAc,EAAG,CACxB,GAAI,EACF,EAAM,MAAM,MAAQ,GAAG,OAAO,eAC9B,EAAM,MAAM,OAAS,GAAG,OAAO,gBAGnC,SAAS,CAAmB,CAAC,EAAc,CAEzC,IAAI,EAAM,EACV,GAAI,EAAI,OAAS,OAAW,OAC5B,GAAI,EAAI,KAAK,OAAS,OAAW,OACjC,GAAI,EAAI,KAAK,OAAS,qBAAsB,OAE5C,EAAM,MAAM,WAAa,sBACzB,EAAM,MAAM,QAAU,IACtB,WAAW,IAAM,CACf,EAAM,OAAO,EACb,OAAO,oBAAoB,SAAU,CAAc,EACnD,OAAO,oBAAoB,YAAa,CAAmB,EAC3D,EAAQ,EAAI,IAAI,GACf,GAAG,EAGR,OAAO,iBAAiB,SAAU,CAAc,EAChD,OAAO,iBAAiB,UAAW,CAAmB,EACvD,QAEG,UAAS,CACb,EAAsB,GACtB,EAAwB,CAAC,UAAU,EACnC,CACA,OAAO,IAAI,QAAQ,CAAC,EAAS,IAAW,CACtC,MAAM,EAAQ,EACZ,0BAA0B,EACvB,IAAI,CAAC,IAAM,mBAAmB,CAAC,CAAC,EAChC,KAAK,GAAG,IACX,CACF,EAEA,SAAS,CAAc,EAAG,CACxB,GAAI,EACF,EAAM,MAAM,MAAQ,GAAG,OAAO,eAC9B,EAAM,MAAM,OAAS,GAAG,OAAO,gBAGnC,SAAS,CAAmB,CAAC,EAAc,CAEzC,IAAI,EAAM,EACV,GAAI,EAAI,OAAS,OAAW,OAC5B,GAAI,EAAI,KAAK,OAAS,OAAW,OACjC,GAAI,EAAI,KAAK,OAAS,cAAe,OAErC,EAAM,MAAM,WAAa,sBACzB,EAAM,MAAM,QAAU,IACtB,WAAW,IAAM,CACf,EAAM,OAAO,EACb,OAAO,oBAAoB,SAAU,CAAc,EACnD,OAAO,oBAAoB,YAAa,CAAmB,EAC3D,EAAQ,EAAI,IAAI,GACf,GAAG,EAGR,OAAO,iBAAiB,SAAU,CAAc,EAChD,OAAO,iBAAiB,UAAW,CAAmB,EACvD,GAEH,MAAM,CAAC,EAA4B,OAAQ,CACzC,OAAQ,OACD,OACH,OAAO,KAAK,QACV,kIACF,MACG,SACH,OAAO,KAAK,QACV,kIACF,IAGN,SAAS,CAAC,EAAuC,CAE/C,GACE,EAAiB,QAAU,eACpB,EAAiB,QAAU,UAElC,KAAK,cAAc,MAAQ,EAAiB,MAGlD",
  "debugId": "D002C3F1369224D064756E2164756E21",
  "names": []
}