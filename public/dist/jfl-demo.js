var sT=Object.create;var{getPrototypeOf:rT,defineProperty:HJ,getOwnPropertyNames:HW,getOwnPropertyDescriptor:aT}=Object,GW=Object.prototype.hasOwnProperty;var BH=(A,Q,E)=>{E=A!=null?sT(rT(A)):{};const B=Q||!A||!A.__esModule?HJ(E,"default",{value:A,enumerable:!0}):E;for(let I of HW(A))if(!GW.call(B,I))HJ(B,I,{get:()=>A[I],enumerable:!0});return B},YW=/*@__PURE__*/new WeakMap,ZW=(A)=>{var Q=YW.get(A),E;if(Q)return Q;if(Q=HJ({},"__esModule",{value:!0}),A&&typeof A==="object"||typeof A==="function")HW(A).map((B)=>!GW.call(Q,B)&&HJ(Q,B,{get:()=>A[B],enumerable:!(E=aT(A,B))||E.enumerable}));return YW.set(A,Q),Q},hA=(A,Q)=>()=>(Q||A((Q={exports:{}}).exports,Q),Q.exports);var IH=(A,Q)=>{for(var E in Q)HJ(A,E,{get:Q[E],enumerable:!0,configurable:!0,set:(B)=>Q[E]=()=>B})};var tT=(A,Q)=>()=>(A&&(Q=A(A=0)),Q);var GH={};IH(GH,{default:()=>wW});var eT,sC,AS,QS,ES,BS,IS=(A,Q)=>()=>(A&&(Q=A(A=0)),Q),m0=(A,Q)=>()=>(Q||A((Q={exports:{}}).exports,Q),Q.exports),OW=(A,Q)=>{for(var E in Q)sC(A,E,{get:Q[E],enumerable:!0})},oC=(A,Q,E,B)=>{if(Q&&typeof Q=="object"||typeof Q=="function")for(let I of QS(Q))!BS.call(A,I)&&I!==E&&sC(A,I,{get:()=>Q[I],enumerable:!(B=AS(Q,I))||B.enumerable});return A},$W=(A,Q,E)=>(oC(A,Q,"default"),E&&oC(E,Q,"default")),iC=(A,Q,E)=>(E=A!=null?eT(ES(A)):{},oC(Q||!A||!A.__esModule?sC(E,"default",{value:A,enumerable:!0}):E,A)),II=(A)=>oC(sC({},"__esModule",{value:!0}),A),KS,JS,UB,dQ,$8,KH,k1,rC,RW,X8,WW,KI,JI,CI,CS,R6,JH,CH,UH,US,YH,YS,HS,XW,aC,FW,GS,W8,qW,NW,HH,ZS,LW,RS,DW,MW,wW;var ZH=tT(()=>{eT=Object.create,sC=Object.defineProperty,AS=Object.getOwnPropertyDescriptor,QS=Object.getOwnPropertyNames,ES=Object.getPrototypeOf,BS=Object.prototype.hasOwnProperty,KS=m0((A)=>{A.byteLength=U,A.toByteArray=H,A.fromByteArray=O;var Q=[],E=[],B=typeof Uint8Array<"u"?Uint8Array:Array,I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(K=0,J=I.length;K<J;++K)Q[K]=I[K],E[I.charCodeAt(K)]=K;var K,J;E["-".charCodeAt(0)]=62,E["_".charCodeAt(0)]=63;function C(F){var q=F.length;if(q%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var W=F.indexOf("=");W===-1&&(W=q);var Z=W===q?0:4-W%4;return[W,Z]}function U(F){var q=C(F),W=q[0],Z=q[1];return(W+Z)*3/4-Z}function Y(F,q,W){return(q+W)*3/4-W}function H(F){var q,W=C(F),Z=W[0],$=W[1],X=new B(Y(F,Z,$)),N=0,M=$>0?Z-4:Z,L;for(L=0;L<M;L+=4)q=E[F.charCodeAt(L)]<<18|E[F.charCodeAt(L+1)]<<12|E[F.charCodeAt(L+2)]<<6|E[F.charCodeAt(L+3)],X[N++]=q>>16&255,X[N++]=q>>8&255,X[N++]=q&255;return $===2&&(q=E[F.charCodeAt(L)]<<2|E[F.charCodeAt(L+1)]>>4,X[N++]=q&255),$===1&&(q=E[F.charCodeAt(L)]<<10|E[F.charCodeAt(L+1)]<<4|E[F.charCodeAt(L+2)]>>2,X[N++]=q>>8&255,X[N++]=q&255),X}function R(F){return Q[F>>18&63]+Q[F>>12&63]+Q[F>>6&63]+Q[F&63]}function G(F,q,W){for(var Z,$=[],X=q;X<W;X+=3)Z=(F[X]<<16&16711680)+(F[X+1]<<8&65280)+(F[X+2]&255),$.push(R(Z));return $.join("")}function O(F){for(var q,W=F.length,Z=W%3,$=[],X=16383,N=0,M=W-Z;N<M;N+=X)$.push(G(F,N,N+X>M?M:N+X));return Z===1?(q=F[W-1],$.push(Q[q>>2]+Q[q<<4&63]+"==")):Z===2&&(q=(F[W-2]<<8)+F[W-1],$.push(Q[q>>10]+Q[q>>4&63]+Q[q<<2&63]+"=")),$.join("")}}),JS=m0((A)=>{A.read=function(Q,E,B,I,K){var J,C,U=K*8-I-1,Y=(1<<U)-1,H=Y>>1,R=-7,G=B?K-1:0,O=B?-1:1,F=Q[E+G];for(G+=O,J=F&(1<<-R)-1,F>>=-R,R+=U;R>0;J=J*256+Q[E+G],G+=O,R-=8);for(C=J&(1<<-R)-1,J>>=-R,R+=I;R>0;C=C*256+Q[E+G],G+=O,R-=8);if(J===0)J=1-H;else{if(J===Y)return C?NaN:(F?-1:1)*(1/0);C=C+Math.pow(2,I),J=J-H}return(F?-1:1)*C*Math.pow(2,J-I)},A.write=function(Q,E,B,I,K,J){var C,U,Y,H=J*8-K-1,R=(1<<H)-1,G=R>>1,O=K===23?Math.pow(2,-24)-Math.pow(2,-77):0,F=I?0:J-1,q=I?1:-1,W=E<0||E===0&&1/E<0?1:0;for(E=Math.abs(E),isNaN(E)||E===1/0?(U=isNaN(E)?1:0,C=R):(C=Math.floor(Math.log(E)/Math.LN2),E*(Y=Math.pow(2,-C))<1&&(C--,Y*=2),C+G>=1?E+=O/Y:E+=O*Math.pow(2,1-G),E*Y>=2&&(C++,Y/=2),C+G>=R?(U=0,C=R):C+G>=1?(U=(E*Y-1)*Math.pow(2,K),C=C+G):(U=E*Math.pow(2,G-1)*Math.pow(2,K),C=0));K>=8;Q[B+F]=U&255,F+=q,U/=256,K-=8);for(C=C<<K|U,H+=K;H>0;Q[B+F]=C&255,F+=q,C/=256,H-=8);Q[B+F-q]|=W*128}}),UB=m0((A)=>{var Q=KS(),E=JS(),B=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;A.Buffer=C,A.SlowBuffer=$,A.INSPECT_MAX_BYTES=50;var I=2147483647;A.kMaxLength=I,C.TYPED_ARRAY_SUPPORT=K(),!C.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function K(){try{let z=new Uint8Array(1),k={foo:function(){return 42}};return Object.setPrototypeOf(k,Uint8Array.prototype),Object.setPrototypeOf(z,k),z.foo()===42}catch{return!1}}Object.defineProperty(C.prototype,"parent",{enumerable:!0,get:function(){if(C.isBuffer(this))return this.buffer}}),Object.defineProperty(C.prototype,"offset",{enumerable:!0,get:function(){if(C.isBuffer(this))return this.byteOffset}});function J(z){if(z>I)throw new RangeError('The value "'+z+'" is invalid for option "size"');let k=new Uint8Array(z);return Object.setPrototypeOf(k,C.prototype),k}function C(z,k,u){if(typeof z=="number"){if(typeof k=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return R(z)}return U(z,k,u)}C.poolSize=8192;function U(z,k,u){if(typeof z=="string")return G(z,k);if(ArrayBuffer.isView(z))return F(z);if(z==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z);if(HA(z,ArrayBuffer)||z&&HA(z.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(HA(z,SharedArrayBuffer)||z&&HA(z.buffer,SharedArrayBuffer)))return q(z,k,u);if(typeof z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let d=z.valueOf&&z.valueOf();if(d!=null&&d!==z)return C.from(d,k,u);let a=W(z);if(a)return a;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof z[Symbol.toPrimitive]=="function")return C.from(z[Symbol.toPrimitive]("string"),k,u);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z)}C.from=function(z,k,u){return U(z,k,u)},Object.setPrototypeOf(C.prototype,Uint8Array.prototype),Object.setPrototypeOf(C,Uint8Array);function Y(z){if(typeof z!="number")throw new TypeError('"size" argument must be of type number');if(z<0)throw new RangeError('The value "'+z+'" is invalid for option "size"')}function H(z,k,u){return Y(z),z<=0?J(z):k!==void 0?typeof u=="string"?J(z).fill(k,u):J(z).fill(k):J(z)}C.alloc=function(z,k,u){return H(z,k,u)};function R(z){return Y(z),J(z<0?0:Z(z)|0)}C.allocUnsafe=function(z){return R(z)},C.allocUnsafeSlow=function(z){return R(z)};function G(z,k){if((typeof k!="string"||k==="")&&(k="utf8"),!C.isEncoding(k))throw new TypeError("Unknown encoding: "+k);let u=X(z,k)|0,d=J(u),a=d.write(z,k);return a!==u&&(d=d.slice(0,a)),d}function O(z){let k=z.length<0?0:Z(z.length)|0,u=J(k);for(let d=0;d<k;d+=1)u[d]=z[d]&255;return u}function F(z){if(HA(z,Uint8Array)){let k=new Uint8Array(z);return q(k.buffer,k.byteOffset,k.byteLength)}return O(z)}function q(z,k,u){if(k<0||z.byteLength<k)throw new RangeError('"offset" is outside of buffer bounds');if(z.byteLength<k+(u||0))throw new RangeError('"length" is outside of buffer bounds');let d;return k===void 0&&u===void 0?d=new Uint8Array(z):u===void 0?d=new Uint8Array(z,k):d=new Uint8Array(z,k,u),Object.setPrototypeOf(d,C.prototype),d}function W(z){if(C.isBuffer(z)){let k=Z(z.length)|0,u=J(k);return u.length===0||z.copy(u,0,0,k),u}if(z.length!==void 0)return typeof z.length!="number"||XA(z.length)?J(0):O(z);if(z.type==="Buffer"&&Array.isArray(z.data))return O(z.data)}function Z(z){if(z>=I)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+I.toString(16)+" bytes");return z|0}function $(z){return+z!=z&&(z=0),C.alloc(+z)}C.isBuffer=function(z){return z!=null&&z._isBuffer===!0&&z!==C.prototype},C.compare=function(z,k){if(HA(z,Uint8Array)&&(z=C.from(z,z.offset,z.byteLength)),HA(k,Uint8Array)&&(k=C.from(k,k.offset,k.byteLength)),!C.isBuffer(z)||!C.isBuffer(k))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(z===k)return 0;let u=z.length,d=k.length;for(let a=0,OA=Math.min(u,d);a<OA;++a)if(z[a]!==k[a]){u=z[a],d=k[a];break}return u<d?-1:d<u?1:0},C.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},C.concat=function(z,k){if(!Array.isArray(z))throw new TypeError('"list" argument must be an Array of Buffers');if(z.length===0)return C.alloc(0);let u;if(k===void 0)for(k=0,u=0;u<z.length;++u)k+=z[u].length;let d=C.allocUnsafe(k),a=0;for(u=0;u<z.length;++u){let OA=z[u];if(HA(OA,Uint8Array))a+OA.length>d.length?(C.isBuffer(OA)||(OA=C.from(OA)),OA.copy(d,a)):Uint8Array.prototype.set.call(d,OA,a);else if(C.isBuffer(OA))OA.copy(d,a);else throw new TypeError('"list" argument must be an Array of Buffers');a+=OA.length}return d};function X(z,k){if(C.isBuffer(z))return z.length;if(ArrayBuffer.isView(z)||HA(z,ArrayBuffer))return z.byteLength;if(typeof z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof z);let u=z.length,d=arguments.length>2&&arguments[2]===!0;if(!d&&u===0)return 0;let a=!1;for(;;)switch(k){case"ascii":case"latin1":case"binary":return u;case"utf8":case"utf-8":return KA(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u*2;case"hex":return u>>>1;case"base64":return e(z).length;default:if(a)return d?-1:KA(z).length;k=(""+k).toLowerCase(),a=!0}}C.byteLength=X;function N(z,k,u){let d=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((u===void 0||u>this.length)&&(u=this.length),u<=0)||(u>>>=0,k>>>=0,u<=k))return"";for(z||(z="utf8");;)switch(z){case"hex":return g(this,k,u);case"utf8":case"utf-8":return x(this,k,u);case"ascii":return v(this,k,u);case"latin1":case"binary":return _(this,k,u);case"base64":return h(this,k,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,k,u);default:if(d)throw new TypeError("Unknown encoding: "+z);z=(z+"").toLowerCase(),d=!0}}C.prototype._isBuffer=!0;function M(z,k,u){let d=z[k];z[k]=z[u],z[u]=d}C.prototype.swap16=function(){let z=this.length;if(z%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let k=0;k<z;k+=2)M(this,k,k+1);return this},C.prototype.swap32=function(){let z=this.length;if(z%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let k=0;k<z;k+=4)M(this,k,k+3),M(this,k+1,k+2);return this},C.prototype.swap64=function(){let z=this.length;if(z%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let k=0;k<z;k+=8)M(this,k,k+7),M(this,k+1,k+6),M(this,k+2,k+5),M(this,k+3,k+4);return this},C.prototype.toString=function(){let z=this.length;return z===0?"":arguments.length===0?x(this,0,z):N.apply(this,arguments)},C.prototype.toLocaleString=C.prototype.toString,C.prototype.equals=function(z){if(!C.isBuffer(z))throw new TypeError("Argument must be a Buffer");return this===z?!0:C.compare(this,z)===0},C.prototype.inspect=function(){let z="",k=A.INSPECT_MAX_BYTES;return z=this.toString("hex",0,k).replace(/(.{2})/g,"$1 ").trim(),this.length>k&&(z+=" ... "),"<Buffer "+z+">"},B&&(C.prototype[B]=C.prototype.inspect),C.prototype.compare=function(z,k,u,d,a){if(HA(z,Uint8Array)&&(z=C.from(z,z.offset,z.byteLength)),!C.isBuffer(z))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof z);if(k===void 0&&(k=0),u===void 0&&(u=z?z.length:0),d===void 0&&(d=0),a===void 0&&(a=this.length),k<0||u>z.length||d<0||a>this.length)throw new RangeError("out of range index");if(d>=a&&k>=u)return 0;if(d>=a)return-1;if(k>=u)return 1;if(k>>>=0,u>>>=0,d>>>=0,a>>>=0,this===z)return 0;let OA=a-d,LA=u-k,SA=Math.min(OA,LA),dA=this.slice(d,a),yA=z.slice(k,u);for(let lA=0;lA<SA;++lA)if(dA[lA]!==yA[lA]){OA=dA[lA],LA=yA[lA];break}return OA<LA?-1:LA<OA?1:0};function L(z,k,u,d,a){if(z.length===0)return-1;if(typeof u=="string"?(d=u,u=0):u>2147483647?u=2147483647:u<-2147483648&&(u=-2147483648),u=+u,XA(u)&&(u=a?0:z.length-1),u<0&&(u=z.length+u),u>=z.length){if(a)return-1;u=z.length-1}else if(u<0)if(a)u=0;else return-1;if(typeof k=="string"&&(k=C.from(k,d)),C.isBuffer(k))return k.length===0?-1:D(z,k,u,d,a);if(typeof k=="number")return k=k&255,typeof Uint8Array.prototype.indexOf=="function"?a?Uint8Array.prototype.indexOf.call(z,k,u):Uint8Array.prototype.lastIndexOf.call(z,k,u):D(z,[k],u,d,a);throw new TypeError("val must be string, number or Buffer")}function D(z,k,u,d,a){let OA=1,LA=z.length,SA=k.length;if(d!==void 0&&(d=String(d).toLowerCase(),d==="ucs2"||d==="ucs-2"||d==="utf16le"||d==="utf-16le")){if(z.length<2||k.length<2)return-1;OA=2,LA/=2,SA/=2,u/=2}function dA(lA,ZA){return OA===1?lA[ZA]:lA.readUInt16BE(ZA*OA)}let yA;if(a){let lA=-1;for(yA=u;yA<LA;yA++)if(dA(z,yA)===dA(k,lA===-1?0:yA-lA)){if(lA===-1&&(lA=yA),yA-lA+1===SA)return lA*OA}else lA!==-1&&(yA-=yA-lA),lA=-1}else for(u+SA>LA&&(u=LA-SA),yA=u;yA>=0;yA--){let lA=!0;for(let ZA=0;ZA<SA;ZA++)if(dA(z,yA+ZA)!==dA(k,ZA)){lA=!1;break}if(lA)return yA}return-1}C.prototype.includes=function(z,k,u){return this.indexOf(z,k,u)!==-1},C.prototype.indexOf=function(z,k,u){return L(this,z,k,u,!0)},C.prototype.lastIndexOf=function(z,k,u){return L(this,z,k,u,!1)};function w(z,k,u,d){u=Number(u)||0;let a=z.length-u;d?(d=Number(d),d>a&&(d=a)):d=a;let OA=k.length;d>OA/2&&(d=OA/2);let LA;for(LA=0;LA<d;++LA){let SA=parseInt(k.substr(LA*2,2),16);if(XA(SA))return LA;z[u+LA]=SA}return LA}function P(z,k,u,d){return c(KA(k,z.length-u),z,u,d)}function V(z,k,u,d){return c($A(k),z,u,d)}function T(z,k,u,d){return c(e(k),z,u,d)}function S(z,k,u,d){return c(FA(k,z.length-u),z,u,d)}C.prototype.write=function(z,k,u,d){if(k===void 0)d="utf8",u=this.length,k=0;else if(u===void 0&&typeof k=="string")d=k,u=this.length,k=0;else if(isFinite(k))k=k>>>0,isFinite(u)?(u=u>>>0,d===void 0&&(d="utf8")):(d=u,u=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let a=this.length-k;if((u===void 0||u>a)&&(u=a),z.length>0&&(u<0||k<0)||k>this.length)throw new RangeError("Attempt to write outside buffer bounds");d||(d="utf8");let OA=!1;for(;;)switch(d){case"hex":return w(this,z,k,u);case"utf8":case"utf-8":return P(this,z,k,u);case"ascii":case"latin1":case"binary":return V(this,z,k,u);case"base64":return T(this,z,k,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,z,k,u);default:if(OA)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),OA=!0}},C.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function h(z,k,u){return k===0&&u===z.length?Q.fromByteArray(z):Q.fromByteArray(z.slice(k,u))}function x(z,k,u){u=Math.min(z.length,u);let d=[],a=k;for(;a<u;){let OA=z[a],LA=null,SA=OA>239?4:OA>223?3:OA>191?2:1;if(a+SA<=u){let dA,yA,lA,ZA;switch(SA){case 1:OA<128&&(LA=OA);break;case 2:dA=z[a+1],(dA&192)===128&&(ZA=(OA&31)<<6|dA&63,ZA>127&&(LA=ZA));break;case 3:dA=z[a+1],yA=z[a+2],(dA&192)===128&&(yA&192)===128&&(ZA=(OA&15)<<12|(dA&63)<<6|yA&63,ZA>2047&&(ZA<55296||ZA>57343)&&(LA=ZA));break;case 4:dA=z[a+1],yA=z[a+2],lA=z[a+3],(dA&192)===128&&(yA&192)===128&&(lA&192)===128&&(ZA=(OA&15)<<18|(dA&63)<<12|(yA&63)<<6|lA&63,ZA>65535&&ZA<1114112&&(LA=ZA))}}LA===null?(LA=65533,SA=1):LA>65535&&(LA-=65536,d.push(LA>>>10&1023|55296),LA=56320|LA&1023),d.push(LA),a+=SA}return j(d)}var y=4096;function j(z){let k=z.length;if(k<=y)return String.fromCharCode.apply(String,z);let u="",d=0;for(;d<k;)u+=String.fromCharCode.apply(String,z.slice(d,d+=y));return u}function v(z,k,u){let d="";u=Math.min(z.length,u);for(let a=k;a<u;++a)d+=String.fromCharCode(z[a]&127);return d}function _(z,k,u){let d="";u=Math.min(z.length,u);for(let a=k;a<u;++a)d+=String.fromCharCode(z[a]);return d}function g(z,k,u){let d=z.length;(!k||k<0)&&(k=0),(!u||u<0||u>d)&&(u=d);let a="";for(let OA=k;OA<u;++OA)a+=CA[z[OA]];return a}function b(z,k,u){let d=z.slice(k,u),a="";for(let OA=0;OA<d.length-1;OA+=2)a+=String.fromCharCode(d[OA]+d[OA+1]*256);return a}C.prototype.slice=function(z,k){let u=this.length;z=~~z,k=k===void 0?u:~~k,z<0?(z+=u,z<0&&(z=0)):z>u&&(z=u),k<0?(k+=u,k<0&&(k=0)):k>u&&(k=u),k<z&&(k=z);let d=this.subarray(z,k);return Object.setPrototypeOf(d,C.prototype),d};function p(z,k,u){if(z%1!==0||z<0)throw new RangeError("offset is not uint");if(z+k>u)throw new RangeError("Trying to access beyond buffer length")}C.prototype.readUintLE=C.prototype.readUIntLE=function(z,k,u){z=z>>>0,k=k>>>0,u||p(z,k,this.length);let d=this[z],a=1,OA=0;for(;++OA<k&&(a*=256);)d+=this[z+OA]*a;return d},C.prototype.readUintBE=C.prototype.readUIntBE=function(z,k,u){z=z>>>0,k=k>>>0,u||p(z,k,this.length);let d=this[z+--k],a=1;for(;k>0&&(a*=256);)d+=this[z+--k]*a;return d},C.prototype.readUint8=C.prototype.readUInt8=function(z,k){return z=z>>>0,k||p(z,1,this.length),this[z]},C.prototype.readUint16LE=C.prototype.readUInt16LE=function(z,k){return z=z>>>0,k||p(z,2,this.length),this[z]|this[z+1]<<8},C.prototype.readUint16BE=C.prototype.readUInt16BE=function(z,k){return z=z>>>0,k||p(z,2,this.length),this[z]<<8|this[z+1]},C.prototype.readUint32LE=C.prototype.readUInt32LE=function(z,k){return z=z>>>0,k||p(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+this[z+3]*16777216},C.prototype.readUint32BE=C.prototype.readUInt32BE=function(z,k){return z=z>>>0,k||p(z,4,this.length),this[z]*16777216+(this[z+1]<<16|this[z+2]<<8|this[z+3])},C.prototype.readBigUInt64LE=GA(function(z){z=z>>>0,UA(z,"offset");let k=this[z],u=this[z+7];(k===void 0||u===void 0)&&BA(z,this.length-8);let d=k+this[++z]*256+this[++z]*65536+this[++z]*16777216,a=this[++z]+this[++z]*256+this[++z]*65536+u*16777216;return BigInt(d)+(BigInt(a)<<BigInt(32))}),C.prototype.readBigUInt64BE=GA(function(z){z=z>>>0,UA(z,"offset");let k=this[z],u=this[z+7];(k===void 0||u===void 0)&&BA(z,this.length-8);let d=k*16777216+this[++z]*65536+this[++z]*256+this[++z],a=this[++z]*16777216+this[++z]*65536+this[++z]*256+u;return(BigInt(d)<<BigInt(32))+BigInt(a)}),C.prototype.readIntLE=function(z,k,u){z=z>>>0,k=k>>>0,u||p(z,k,this.length);let d=this[z],a=1,OA=0;for(;++OA<k&&(a*=256);)d+=this[z+OA]*a;return a*=128,d>=a&&(d-=Math.pow(2,8*k)),d},C.prototype.readIntBE=function(z,k,u){z=z>>>0,k=k>>>0,u||p(z,k,this.length);let d=k,a=1,OA=this[z+--d];for(;d>0&&(a*=256);)OA+=this[z+--d]*a;return a*=128,OA>=a&&(OA-=Math.pow(2,8*k)),OA},C.prototype.readInt8=function(z,k){return z=z>>>0,k||p(z,1,this.length),this[z]&128?(255-this[z]+1)*-1:this[z]},C.prototype.readInt16LE=function(z,k){z=z>>>0,k||p(z,2,this.length);let u=this[z]|this[z+1]<<8;return u&32768?u|4294901760:u},C.prototype.readInt16BE=function(z,k){z=z>>>0,k||p(z,2,this.length);let u=this[z+1]|this[z]<<8;return u&32768?u|4294901760:u},C.prototype.readInt32LE=function(z,k){return z=z>>>0,k||p(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},C.prototype.readInt32BE=function(z,k){return z=z>>>0,k||p(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},C.prototype.readBigInt64LE=GA(function(z){z=z>>>0,UA(z,"offset");let k=this[z],u=this[z+7];(k===void 0||u===void 0)&&BA(z,this.length-8);let d=this[z+4]+this[z+5]*256+this[z+6]*65536+(u<<24);return(BigInt(d)<<BigInt(32))+BigInt(k+this[++z]*256+this[++z]*65536+this[++z]*16777216)}),C.prototype.readBigInt64BE=GA(function(z){z=z>>>0,UA(z,"offset");let k=this[z],u=this[z+7];(k===void 0||u===void 0)&&BA(z,this.length-8);let d=(k<<24)+this[++z]*65536+this[++z]*256+this[++z];return(BigInt(d)<<BigInt(32))+BigInt(this[++z]*16777216+this[++z]*65536+this[++z]*256+u)}),C.prototype.readFloatLE=function(z,k){return z=z>>>0,k||p(z,4,this.length),E.read(this,z,!0,23,4)},C.prototype.readFloatBE=function(z,k){return z=z>>>0,k||p(z,4,this.length),E.read(this,z,!1,23,4)},C.prototype.readDoubleLE=function(z,k){return z=z>>>0,k||p(z,8,this.length),E.read(this,z,!0,52,8)},C.prototype.readDoubleBE=function(z,k){return z=z>>>0,k||p(z,8,this.length),E.read(this,z,!1,52,8)};function m(z,k,u,d,a,OA){if(!C.isBuffer(z))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>a||k<OA)throw new RangeError('"value" argument is out of bounds');if(u+d>z.length)throw new RangeError("Index out of range")}C.prototype.writeUintLE=C.prototype.writeUIntLE=function(z,k,u,d){if(z=+z,k=k>>>0,u=u>>>0,!d){let LA=Math.pow(2,8*u)-1;m(this,z,k,u,LA,0)}let a=1,OA=0;for(this[k]=z&255;++OA<u&&(a*=256);)this[k+OA]=z/a&255;return k+u},C.prototype.writeUintBE=C.prototype.writeUIntBE=function(z,k,u,d){if(z=+z,k=k>>>0,u=u>>>0,!d){let LA=Math.pow(2,8*u)-1;m(this,z,k,u,LA,0)}let a=u-1,OA=1;for(this[k+a]=z&255;--a>=0&&(OA*=256);)this[k+a]=z/OA&255;return k+u},C.prototype.writeUint8=C.prototype.writeUInt8=function(z,k,u){return z=+z,k=k>>>0,u||m(this,z,k,1,255,0),this[k]=z&255,k+1},C.prototype.writeUint16LE=C.prototype.writeUInt16LE=function(z,k,u){return z=+z,k=k>>>0,u||m(this,z,k,2,65535,0),this[k]=z&255,this[k+1]=z>>>8,k+2},C.prototype.writeUint16BE=C.prototype.writeUInt16BE=function(z,k,u){return z=+z,k=k>>>0,u||m(this,z,k,2,65535,0),this[k]=z>>>8,this[k+1]=z&255,k+2},C.prototype.writeUint32LE=C.prototype.writeUInt32LE=function(z,k,u){return z=+z,k=k>>>0,u||m(this,z,k,4,4294967295,0),this[k+3]=z>>>24,this[k+2]=z>>>16,this[k+1]=z>>>8,this[k]=z&255,k+4},C.prototype.writeUint32BE=C.prototype.writeUInt32BE=function(z,k,u){return z=+z,k=k>>>0,u||m(this,z,k,4,4294967295,0),this[k]=z>>>24,this[k+1]=z>>>16,this[k+2]=z>>>8,this[k+3]=z&255,k+4};function o(z,k,u,d,a){l(k,d,a,z,u,7);let OA=Number(k&BigInt(4294967295));z[u++]=OA,OA=OA>>8,z[u++]=OA,OA=OA>>8,z[u++]=OA,OA=OA>>8,z[u++]=OA;let LA=Number(k>>BigInt(32)&BigInt(4294967295));return z[u++]=LA,LA=LA>>8,z[u++]=LA,LA=LA>>8,z[u++]=LA,LA=LA>>8,z[u++]=LA,u}function AA(z,k,u,d,a){l(k,d,a,z,u,7);let OA=Number(k&BigInt(4294967295));z[u+7]=OA,OA=OA>>8,z[u+6]=OA,OA=OA>>8,z[u+5]=OA,OA=OA>>8,z[u+4]=OA;let LA=Number(k>>BigInt(32)&BigInt(4294967295));return z[u+3]=LA,LA=LA>>8,z[u+2]=LA,LA=LA>>8,z[u+1]=LA,LA=LA>>8,z[u]=LA,u+8}C.prototype.writeBigUInt64LE=GA(function(z,k=0){return o(this,z,k,BigInt(0),BigInt("0xffffffffffffffff"))}),C.prototype.writeBigUInt64BE=GA(function(z,k=0){return AA(this,z,k,BigInt(0),BigInt("0xffffffffffffffff"))}),C.prototype.writeIntLE=function(z,k,u,d){if(z=+z,k=k>>>0,!d){let SA=Math.pow(2,8*u-1);m(this,z,k,u,SA-1,-SA)}let a=0,OA=1,LA=0;for(this[k]=z&255;++a<u&&(OA*=256);)z<0&&LA===0&&this[k+a-1]!==0&&(LA=1),this[k+a]=(z/OA>>0)-LA&255;return k+u},C.prototype.writeIntBE=function(z,k,u,d){if(z=+z,k=k>>>0,!d){let SA=Math.pow(2,8*u-1);m(this,z,k,u,SA-1,-SA)}let a=u-1,OA=1,LA=0;for(this[k+a]=z&255;--a>=0&&(OA*=256);)z<0&&LA===0&&this[k+a+1]!==0&&(LA=1),this[k+a]=(z/OA>>0)-LA&255;return k+u},C.prototype.writeInt8=function(z,k,u){return z=+z,k=k>>>0,u||m(this,z,k,1,127,-128),z<0&&(z=255+z+1),this[k]=z&255,k+1},C.prototype.writeInt16LE=function(z,k,u){return z=+z,k=k>>>0,u||m(this,z,k,2,32767,-32768),this[k]=z&255,this[k+1]=z>>>8,k+2},C.prototype.writeInt16BE=function(z,k,u){return z=+z,k=k>>>0,u||m(this,z,k,2,32767,-32768),this[k]=z>>>8,this[k+1]=z&255,k+2},C.prototype.writeInt32LE=function(z,k,u){return z=+z,k=k>>>0,u||m(this,z,k,4,2147483647,-2147483648),this[k]=z&255,this[k+1]=z>>>8,this[k+2]=z>>>16,this[k+3]=z>>>24,k+4},C.prototype.writeInt32BE=function(z,k,u){return z=+z,k=k>>>0,u||m(this,z,k,4,2147483647,-2147483648),z<0&&(z=4294967295+z+1),this[k]=z>>>24,this[k+1]=z>>>16,this[k+2]=z>>>8,this[k+3]=z&255,k+4},C.prototype.writeBigInt64LE=GA(function(z,k=0){return o(this,z,k,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),C.prototype.writeBigInt64BE=GA(function(z,k=0){return AA(this,z,k,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function s(z,k,u,d,a,OA){if(u+d>z.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("Index out of range")}function t(z,k,u,d,a){return k=+k,u=u>>>0,a||s(z,k,u,4,340282346638528860000000000000000000000,-340282346638528860000000000000000000000),E.write(z,k,u,d,23,4),u+4}C.prototype.writeFloatLE=function(z,k,u){return t(this,z,k,!0,u)},C.prototype.writeFloatBE=function(z,k,u){return t(this,z,k,!1,u)};function r(z,k,u,d,a){return k=+k,u=u>>>0,a||s(z,k,u,8,179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,-179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000),E.write(z,k,u,d,52,8),u+8}C.prototype.writeDoubleLE=function(z,k,u){return r(this,z,k,!0,u)},C.prototype.writeDoubleBE=function(z,k,u){return r(this,z,k,!1,u)},C.prototype.copy=function(z,k,u,d){if(!C.isBuffer(z))throw new TypeError("argument should be a Buffer");if(u||(u=0),!d&&d!==0&&(d=this.length),k>=z.length&&(k=z.length),k||(k=0),d>0&&d<u&&(d=u),d===u||z.length===0||this.length===0)return 0;if(k<0)throw new RangeError("targetStart out of bounds");if(u<0||u>=this.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),z.length-k<d-u&&(d=z.length-k+u);let a=d-u;return this===z&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(k,u,d):Uint8Array.prototype.set.call(z,this.subarray(u,d),k),a},C.prototype.fill=function(z,k,u,d){if(typeof z=="string"){if(typeof k=="string"?(d=k,k=0,u=this.length):typeof u=="string"&&(d=u,u=this.length),d!==void 0&&typeof d!="string")throw new TypeError("encoding must be a string");if(typeof d=="string"&&!C.isEncoding(d))throw new TypeError("Unknown encoding: "+d);if(z.length===1){let OA=z.charCodeAt(0);(d==="utf8"&&OA<128||d==="latin1")&&(z=OA)}}else typeof z=="number"?z=z&255:typeof z=="boolean"&&(z=Number(z));if(k<0||this.length<k||this.length<u)throw new RangeError("Out of range index");if(u<=k)return this;k=k>>>0,u=u===void 0?this.length:u>>>0,z||(z=0);let a;if(typeof z=="number")for(a=k;a<u;++a)this[a]=z;else{let OA=C.isBuffer(z)?z:C.from(z,d),LA=OA.length;if(LA===0)throw new TypeError('The value "'+z+'" is invalid for argument "value"');for(a=0;a<u-k;++a)this[a+k]=OA[a%LA]}return this};var EA={};function JA(z,k,u){EA[z]=class extends u{constructor(){super(),Object.defineProperty(this,"message",{value:k.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${z}]`,this.stack,delete this.name}get code(){return z}set code(d){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:d,writable:!0})}toString(){return`${this.name} [${z}]: ${this.message}`}}}JA("ERR_BUFFER_OUT_OF_BOUNDS",function(z){return z?`${z} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),JA("ERR_INVALID_ARG_TYPE",function(z,k){return`The "${z}" argument must be of type number. Received type ${typeof k}`},TypeError),JA("ERR_OUT_OF_RANGE",function(z,k,u){let d=`The value of "${z}" is out of range.`,a=u;return Number.isInteger(u)&&Math.abs(u)>4294967296?a=YA(String(u)):typeof u=="bigint"&&(a=String(u),(u>BigInt(2)**BigInt(32)||u<-(BigInt(2)**BigInt(32)))&&(a=YA(a)),a+="n"),d+=` It must be ${k}. Received ${a}`,d},RangeError);function YA(z){let k="",u=z.length,d=z[0]==="-"?1:0;for(;u>=d+4;u-=3)k=`_${z.slice(u-3,u)}${k}`;return`${z.slice(0,u)}${k}`}function IA(z,k,u){UA(k,"offset"),(z[k]===void 0||z[k+u]===void 0)&&BA(k,z.length-(u+1))}function l(z,k,u,d,a,OA){if(z>u||z<k){let LA=typeof k=="bigint"?"n":"",SA;throw OA>3?k===0||k===BigInt(0)?SA=`>= 0${LA} and < 2${LA} ** ${(OA+1)*8}${LA}`:SA=`>= -(2${LA} ** ${(OA+1)*8-1}${LA}) and < 2 ** ${(OA+1)*8-1}${LA}`:SA=`>= ${k}${LA} and <= ${u}${LA}`,new EA.ERR_OUT_OF_RANGE("value",SA,z)}IA(d,a,OA)}function UA(z,k){if(typeof z!="number")throw new EA.ERR_INVALID_ARG_TYPE(k,"number",z)}function BA(z,k,u){throw Math.floor(z)!==z?(UA(z,u),new EA.ERR_OUT_OF_RANGE(u||"offset","an integer",z)):k<0?new EA.ERR_BUFFER_OUT_OF_BOUNDS:new EA.ERR_OUT_OF_RANGE(u||"offset",`>= ${u?1:0} and <= ${k}`,z)}var n=/[^+/0-9A-Za-z-_]/g;function i(z){if(z=z.split("=")[0],z=z.trim().replace(n,""),z.length<2)return"";for(;z.length%4!==0;)z=z+"=";return z}function KA(z,k){k=k||1/0;let u,d=z.length,a=null,OA=[];for(let LA=0;LA<d;++LA){if(u=z.charCodeAt(LA),u>55295&&u<57344){if(!a){if(u>56319){(k-=3)>-1&&OA.push(239,191,189);continue}else if(LA+1===d){(k-=3)>-1&&OA.push(239,191,189);continue}a=u;continue}if(u<56320){(k-=3)>-1&&OA.push(239,191,189),a=u;continue}u=(a-55296<<10|u-56320)+65536}else a&&(k-=3)>-1&&OA.push(239,191,189);if(a=null,u<128){if((k-=1)<0)break;OA.push(u)}else if(u<2048){if((k-=2)<0)break;OA.push(u>>6|192,u&63|128)}else if(u<65536){if((k-=3)<0)break;OA.push(u>>12|224,u>>6&63|128,u&63|128)}else if(u<1114112){if((k-=4)<0)break;OA.push(u>>18|240,u>>12&63|128,u>>6&63|128,u&63|128)}else throw new Error("Invalid code point")}return OA}function $A(z){let k=[];for(let u=0;u<z.length;++u)k.push(z.charCodeAt(u)&255);return k}function FA(z,k){let u,d,a,OA=[];for(let LA=0;LA<z.length&&!((k-=2)<0);++LA)u=z.charCodeAt(LA),d=u>>8,a=u%256,OA.push(a),OA.push(d);return OA}function e(z){return Q.toByteArray(i(z))}function c(z,k,u,d){let a;for(a=0;a<d&&!(a+u>=k.length||a>=z.length);++a)k[a+u]=z[a];return a}function HA(z,k){return z instanceof k||z!=null&&z.constructor!=null&&z.constructor.name!=null&&z.constructor.name===k.name}function XA(z){return z!==z}var CA=function(){let z="0123456789abcdef",k=new Array(256);for(let u=0;u<16;++u){let d=u*16;for(let a=0;a<16;++a)k[d+a]=z[u]+z[a]}return k}();function GA(z){return typeof BigInt>"u"?uA:z}function uA(){throw new Error("BigInt not supported")}}),dQ=m0((A,Q)=>{Q.exports={ArrayIsArray(E){return Array.isArray(E)},ArrayPrototypeIncludes(E,B){return E.includes(B)},ArrayPrototypeIndexOf(E,B){return E.indexOf(B)},ArrayPrototypeJoin(E,B){return E.join(B)},ArrayPrototypeMap(E,B){return E.map(B)},ArrayPrototypePop(E,B){return E.pop(B)},ArrayPrototypePush(E,B){return E.push(B)},ArrayPrototypeSlice(E,B,I){return E.slice(B,I)},Error,FunctionPrototypeCall(E,B,...I){return E.call(B,...I)},FunctionPrototypeSymbolHasInstance(E,B){return Function.prototype[Symbol.hasInstance].call(E,B)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(E,B){return Object.defineProperties(E,B)},ObjectDefineProperty(E,B,I){return Object.defineProperty(E,B,I)},ObjectGetOwnPropertyDescriptor(E,B){return Object.getOwnPropertyDescriptor(E,B)},ObjectKeys(E){return Object.keys(E)},ObjectSetPrototypeOf(E,B){return Object.setPrototypeOf(E,B)},Promise,PromisePrototypeCatch(E,B){return E.catch(B)},PromisePrototypeThen(E,B,I){return E.then(B,I)},PromiseReject(E){return Promise.reject(E)},ReflectApply:Reflect.apply,RegExpPrototypeTest(E,B){return E.test(B)},SafeSet:Set,String,StringPrototypeSlice(E,B,I){return E.slice(B,I)},StringPrototypeToLowerCase(E){return E.toLowerCase()},StringPrototypeToUpperCase(E){return E.toUpperCase()},StringPrototypeTrim(E){return E.trim()},Symbol,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(E,B,I){return E.set(B,I)},Uint8Array}}),$8=m0((A,Q)=>{var E=UB(),B=Object.getPrototypeOf(async function(){}).constructor,I=globalThis.Blob||E.Blob,K=typeof I<"u"?function(C){return C instanceof I}:function(C){return!1},J=class extends Error{constructor(C){if(!Array.isArray(C))throw new TypeError(`Expected input to be an Array, got ${typeof C}`);let U="";for(let Y=0;Y<C.length;Y++)U+=`    ${C[Y].stack}
`;super(U),this.name="AggregateError",this.errors=C}};Q.exports={AggregateError:J,kEmptyObject:Object.freeze({}),once(C){let U=!1;return function(...Y){U||(U=!0,C.apply(this,Y))}},createDeferredPromise:function(){let C,U;return{promise:new Promise((Y,H)=>{C=Y,U=H}),resolve:C,reject:U}},promisify(C){return new Promise((U,Y)=>{C((H,...R)=>H?Y(H):U(...R))})},debuglog(){return function(){}},format(C,...U){return C.replace(/%([sdifj])/g,function(...[Y,H]){let R=U.shift();return H==="f"?R.toFixed(6):H==="j"?JSON.stringify(R):H==="s"&&typeof R=="object"?`${R.constructor!==Object?R.constructor.name:""} {}`.trim():R.toString()})},inspect(C){switch(typeof C){case"string":if(C.includes("'"))if(C.includes('"')){if(!C.includes("`")&&!C.includes("${"))return`\`${C}\``}else return`"${C}"`;return`'${C}'`;case"number":return isNaN(C)?"NaN":Object.is(C,-0)?String(C):C;case"bigint":return`${String(C)}n`;case"boolean":case"undefined":return String(C);case"object":return"{}"}},types:{isAsyncFunction(C){return C instanceof B},isArrayBufferView(C){return ArrayBuffer.isView(C)}},isBlob:K},Q.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),KH=m0((A,Q)=>{var{AbortController:E,AbortSignal:B}=typeof self<"u"?self:typeof window<"u"?window:void 0;Q.exports=E,Q.exports.AbortSignal=B,Q.exports.default=E}),k1=m0((A,Q)=>{var{format:E,inspect:B,AggregateError:I}=$8(),K=globalThis.AggregateError||I,J=Symbol("kIsNodeError"),C=["string","function","number","object","Function","Object","boolean","bigint","symbol"],U=/^([A-Z][a-z0-9]*)+$/,Y="__node_internal_",H={};function R($,X){if(!$)throw new H.ERR_INTERNAL_ASSERTION(X)}function G($){let X="",N=$.length,M=$[0]==="-"?1:0;for(;N>=M+4;N-=3)X=`_${$.slice(N-3,N)}${X}`;return`${$.slice(0,N)}${X}`}function O($,X,N){if(typeof X=="function")return R(X.length<=N.length,`Code: ${$}; The provided arguments length (${N.length}) does not match the required ones (${X.length}).`),X(...N);let M=(X.match(/%[dfijoOs]/g)||[]).length;return R(M===N.length,`Code: ${$}; The provided arguments length (${N.length}) does not match the required ones (${M}).`),N.length===0?X:E(X,...N)}function F($,X,N){N||(N=Error);class M extends N{constructor(...L){super(O($,X,L))}toString(){return`${this.name} [${$}]: ${this.message}`}}Object.defineProperties(M.prototype,{name:{value:N.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${$}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),M.prototype.code=$,M.prototype[J]=!0,H[$]=M}function q($){let X=Y+$.name;return Object.defineProperty($,"name",{value:X}),$}function W($,X){if($&&X&&$!==X){if(Array.isArray(X.errors))return X.errors.push($),X;let N=new K([X,$],X.message);return N.code=X.code,N}return $||X}var Z=class extends Error{constructor($="The operation was aborted",X=void 0){if(X!==void 0&&typeof X!="object")throw new H.ERR_INVALID_ARG_TYPE("options","Object",X);super($,X),this.code="ABORT_ERR",this.name="AbortError"}};F("ERR_ASSERTION","%s",Error),F("ERR_INVALID_ARG_TYPE",($,X,N)=>{R(typeof $=="string","'name' must be a string"),Array.isArray(X)||(X=[X]);let M="The ";$.endsWith(" argument")?M+=`${$} `:M+=`"${$}" ${$.includes(".")?"property":"argument"} `,M+="must be ";let L=[],D=[],w=[];for(let V of X)R(typeof V=="string","All expected entries have to be of type string"),C.includes(V)?L.push(V.toLowerCase()):U.test(V)?D.push(V):(R(V!=="object",'The value "object" should be written as "Object"'),w.push(V));if(D.length>0){let V=L.indexOf("object");V!==-1&&(L.splice(L,V,1),D.push("Object"))}if(L.length>0){switch(L.length){case 1:M+=`of type ${L[0]}`;break;case 2:M+=`one of type ${L[0]} or ${L[1]}`;break;default:{let V=L.pop();M+=`one of type ${L.join(", ")}, or ${V}`}}(D.length>0||w.length>0)&&(M+=" or ")}if(D.length>0){switch(D.length){case 1:M+=`an instance of ${D[0]}`;break;case 2:M+=`an instance of ${D[0]} or ${D[1]}`;break;default:{let V=D.pop();M+=`an instance of ${D.join(", ")}, or ${V}`}}w.length>0&&(M+=" or ")}switch(w.length){case 0:break;case 1:w[0].toLowerCase()!==w[0]&&(M+="an "),M+=`${w[0]}`;break;case 2:M+=`one of ${w[0]} or ${w[1]}`;break;default:{let V=w.pop();M+=`one of ${w.join(", ")}, or ${V}`}}if(N==null)M+=`. Received ${N}`;else if(typeof N=="function"&&N.name)M+=`. Received function ${N.name}`;else if(typeof N=="object"){var P;(P=N.constructor)!==null&&P!==void 0&&P.name?M+=`. Received an instance of ${N.constructor.name}`:M+=`. Received ${B(N,{depth:-1})}`}else{let V=B(N,{colors:!1});V.length>25&&(V=`${V.slice(0,25)}...`),M+=`. Received type ${typeof N} (${V})`}return M},TypeError),F("ERR_INVALID_ARG_VALUE",($,X,N="is invalid")=>{let M=B(X);return M.length>128&&(M=M.slice(0,128)+"..."),`The ${$.includes(".")?"property":"argument"} '${$}' ${N}. Received ${M}`},TypeError),F("ERR_INVALID_RETURN_VALUE",($,X,N)=>{var M;let L=N!=null&&(M=N.constructor)!==null&&M!==void 0&&M.name?`instance of ${N.constructor.name}`:`type ${typeof N}`;return`Expected ${$} to be returned from the "${X}" function but got ${L}.`},TypeError),F("ERR_MISSING_ARGS",(...$)=>{R($.length>0,"At least one arg needs to be specified");let X,N=$.length;switch($=(Array.isArray($)?$:[$]).map((M)=>`"${M}"`).join(" or "),N){case 1:X+=`The ${$[0]} argument`;break;case 2:X+=`The ${$[0]} and ${$[1]} arguments`;break;default:{let M=$.pop();X+=`The ${$.join(", ")}, and ${M} arguments`}break}return`${X} must be specified`},TypeError),F("ERR_OUT_OF_RANGE",($,X,N)=>{R(X,'Missing "range" argument');let M;return Number.isInteger(N)&&Math.abs(N)>4294967296?M=G(String(N)):typeof N=="bigint"?(M=String(N),(N>2n**32n||N<-(2n**32n))&&(M=G(M)),M+="n"):M=B(N),`The value of "${$}" is out of range. It must be ${X}. Received ${M}`},RangeError),F("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),F("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),F("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),F("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),F("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),F("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),F("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),F("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),F("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),F("ERR_STREAM_WRITE_AFTER_END","write after end",Error),F("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Q.exports={AbortError:Z,aggregateTwoErrors:q(W),hideStackFrames:q,codes:H}}),rC=m0((A,Q)=>{var{ArrayIsArray:E,ArrayPrototypeIncludes:B,ArrayPrototypeJoin:I,ArrayPrototypeMap:K,NumberIsInteger:J,NumberIsNaN:C,NumberMAX_SAFE_INTEGER:U,NumberMIN_SAFE_INTEGER:Y,NumberParseInt:H,ObjectPrototypeHasOwnProperty:R,RegExpPrototypeExec:G,String:O,StringPrototypeToUpperCase:F,StringPrototypeTrim:q}=dQ(),{hideStackFrames:W,codes:{ERR_SOCKET_BAD_PORT:Z,ERR_INVALID_ARG_TYPE:$,ERR_INVALID_ARG_VALUE:X,ERR_OUT_OF_RANGE:N,ERR_UNKNOWN_SIGNAL:M}}=k1(),{normalizeEncoding:L}=$8(),{isAsyncFunction:D,isArrayBufferView:w}=$8().types,P={};function V(BA){return BA===(BA|0)}function T(BA){return BA===BA>>>0}var S=/^[0-7]+$/,h="must be a 32-bit unsigned integer or an octal string";function x(BA,n,i){if(typeof BA>"u"&&(BA=i),typeof BA=="string"){if(G(S,BA)===null)throw new X(n,BA,h);BA=H(BA,8)}return v(BA,n),BA}var y=W((BA,n,i=Y,KA=U)=>{if(typeof BA!="number")throw new $(n,"number",BA);if(!J(BA))throw new N(n,"an integer",BA);if(BA<i||BA>KA)throw new N(n,`>= ${i} && <= ${KA}`,BA)}),j=W((BA,n,i=-2147483648,KA=2147483647)=>{if(typeof BA!="number")throw new $(n,"number",BA);if(!J(BA))throw new N(n,"an integer",BA);if(BA<i||BA>KA)throw new N(n,`>= ${i} && <= ${KA}`,BA)}),v=W((BA,n,i=!1)=>{if(typeof BA!="number")throw new $(n,"number",BA);if(!J(BA))throw new N(n,"an integer",BA);let KA=i?1:0,$A=4294967295;if(BA<KA||BA>$A)throw new N(n,`>= ${KA} && <= ${$A}`,BA)});function _(BA,n){if(typeof BA!="string")throw new $(n,"string",BA)}function g(BA,n,i=void 0,KA){if(typeof BA!="number")throw new $(n,"number",BA);if(i!=null&&BA<i||KA!=null&&BA>KA||(i!=null||KA!=null)&&C(BA))throw new N(n,`${i!=null?`>= ${i}`:""}${i!=null&&KA!=null?" && ":""}${KA!=null?`<= ${KA}`:""}`,BA)}var b=W((BA,n,i)=>{if(!B(i,BA)){let KA=I(K(i,(FA)=>typeof FA=="string"?`'${FA}'`:O(FA)),", "),$A="must be one of: "+KA;throw new X(n,BA,$A)}});function p(BA,n){if(typeof BA!="boolean")throw new $(n,"boolean",BA)}function m(BA,n,i){return BA==null||!R(BA,n)?i:BA[n]}var o=W((BA,n,i=null)=>{let KA=m(i,"allowArray",!1),$A=m(i,"allowFunction",!1);if(!m(i,"nullable",!1)&&BA===null||!KA&&E(BA)||typeof BA!="object"&&(!$A||typeof BA!="function"))throw new $(n,"Object",BA)}),AA=W((BA,n,i=0)=>{if(!E(BA))throw new $(n,"Array",BA);if(BA.length<i){let KA=`must be longer than ${i}`;throw new X(n,BA,KA)}});function s(BA,n="signal"){if(_(BA,n),P[BA]===void 0)throw P[F(BA)]!==void 0?new M(BA+" (signals must use all capital letters)"):new M(BA)}var t=W((BA,n="buffer")=>{if(!w(BA))throw new $(n,["Buffer","TypedArray","DataView"],BA)});function r(BA,n){let i=L(n),KA=BA.length;if(i==="hex"&&KA%2!==0)throw new X("encoding",n,`is invalid for data of length ${KA}`)}function EA(BA,n="Port",i=!0){if(typeof BA!="number"&&typeof BA!="string"||typeof BA=="string"&&q(BA).length===0||+BA!==+BA>>>0||BA>65535||BA===0&&!i)throw new Z(n,BA,i);return BA|0}var JA=W((BA,n)=>{if(BA!==void 0&&(BA===null||typeof BA!="object"||!("aborted"in BA)))throw new $(n,"AbortSignal",BA)}),YA=W((BA,n)=>{if(typeof BA!="function")throw new $(n,"Function",BA)}),IA=W((BA,n)=>{if(typeof BA!="function"||D(BA))throw new $(n,"Function",BA)}),l=W((BA,n)=>{if(BA!==void 0)throw new $(n,"undefined",BA)});function UA(BA,n,i){if(!B(i,BA))throw new $(n,`('${I(i,"|")}')`,BA)}Q.exports={isInt32:V,isUint32:T,parseFileMode:x,validateArray:AA,validateBoolean:p,validateBuffer:t,validateEncoding:r,validateFunction:YA,validateInt32:j,validateInteger:y,validateNumber:g,validateObject:o,validateOneOf:b,validatePlainFunction:IA,validatePort:EA,validateSignalName:s,validateString:_,validateUint32:v,validateUndefined:l,validateUnion:UA,validateAbortSignal:JA}}),RW=m0((A,Q)=>{var E=Q.exports={},B,I;function K(){throw new Error("setTimeout has not been defined")}function J(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?B=setTimeout:B=K}catch{B=K}try{typeof clearTimeout=="function"?I=clearTimeout:I=J}catch{I=J}})();function C(Z){if(B===setTimeout)return setTimeout(Z,0);if((B===K||!B)&&setTimeout)return B=setTimeout,setTimeout(Z,0);try{return B(Z,0)}catch{try{return B.call(null,Z,0)}catch{return B.call(this,Z,0)}}}function U(Z){if(I===clearTimeout)return clearTimeout(Z);if((I===J||!I)&&clearTimeout)return I=clearTimeout,clearTimeout(Z);try{return I(Z)}catch{try{return I.call(null,Z)}catch{return I.call(this,Z)}}}var Y=[],H=!1,R,G=-1;function O(){!H||!R||(H=!1,R.length?Y=R.concat(Y):G=-1,Y.length&&F())}function F(){if(!H){var Z=C(O);H=!0;for(var $=Y.length;$;){for(R=Y,Y=[];++G<$;)R&&R[G].run();G=-1,$=Y.length}R=null,H=!1,U(Z)}}E.nextTick=function(Z){var $=new Array(arguments.length-1);if(arguments.length>1)for(var X=1;X<arguments.length;X++)$[X-1]=arguments[X];Y.push(new q(Z,$)),Y.length===1&&!H&&C(F)};function q(Z,$){this.fun=Z,this.array=$}q.prototype.run=function(){this.fun.apply(null,this.array)},E.title="browser",E.browser=!0,E.env={},E.argv=[],E.version="",E.versions={};function W(){}E.on=W,E.addListener=W,E.once=W,E.off=W,E.removeListener=W,E.removeAllListeners=W,E.emit=W,E.prependListener=W,E.prependOnceListener=W,E.listeners=function(Z){return[]},E.binding=function(Z){throw new Error("process.binding is not supported")},E.cwd=function(){return"/"},E.chdir=function(Z){throw new Error("process.chdir is not supported")},E.umask=function(){return 0}}),X8={};OW(X8,{default:()=>WW});KI=IS(()=>{$W(X8,iC(RW())),WW=iC(RW())}),JI=m0((A,Q)=>{var{Symbol:E,SymbolAsyncIterator:B,SymbolIterator:I}=dQ(),K=E("kDestroyed"),J=E("kIsErrored"),C=E("kIsReadable"),U=E("kIsDisturbed");function Y(y,j=!1){var v;return!!(y&&typeof y.pipe=="function"&&typeof y.on=="function"&&(!j||typeof y.pause=="function"&&typeof y.resume=="function")&&(!y._writableState||((v=y._readableState)===null||v===void 0?void 0:v.readable)!==!1)&&(!y._writableState||y._readableState))}function H(y){var j;return!!(y&&typeof y.write=="function"&&typeof y.on=="function"&&(!y._readableState||((j=y._writableState)===null||j===void 0?void 0:j.writable)!==!1))}function R(y){return!!(y&&typeof y.pipe=="function"&&y._readableState&&typeof y.on=="function"&&typeof y.write=="function")}function G(y){return y&&(y._readableState||y._writableState||typeof y.write=="function"&&typeof y.on=="function"||typeof y.pipe=="function"&&typeof y.on=="function")}function O(y,j){return y==null?!1:j===!0?typeof y[B]=="function":j===!1?typeof y[I]=="function":typeof y[B]=="function"||typeof y[I]=="function"}function F(y){if(!G(y))return null;let{_writableState:j,_readableState:v}=y,_=j||v;return!!(y.destroyed||y[K]||_!=null&&_.destroyed)}function q(y){if(!H(y))return null;if(y.writableEnded===!0)return!0;let j=y._writableState;return j!=null&&j.errored?!1:typeof j?.ended!="boolean"?null:j.ended}function W(y,j){if(!H(y))return null;if(y.writableFinished===!0)return!0;let v=y._writableState;return v!=null&&v.errored?!1:typeof v?.finished!="boolean"?null:!!(v.finished||j===!1&&v.ended===!0&&v.length===0)}function Z(y){if(!Y(y))return null;if(y.readableEnded===!0)return!0;let j=y._readableState;return!j||j.errored?!1:typeof j?.ended!="boolean"?null:j.ended}function $(y,j){if(!Y(y))return null;let v=y._readableState;return v!=null&&v.errored?!1:typeof v?.endEmitted!="boolean"?null:!!(v.endEmitted||j===!1&&v.ended===!0&&v.length===0)}function X(y){return y&&y[C]!=null?y[C]:typeof y?.readable!="boolean"?null:F(y)?!1:Y(y)&&y.readable&&!$(y)}function N(y){return typeof y?.writable!="boolean"?null:F(y)?!1:H(y)&&y.writable&&!q(y)}function M(y,j){return G(y)?F(y)?!0:!(j?.readable!==!1&&X(y)||j?.writable!==!1&&N(y)):null}function L(y){var j,v;return G(y)?y.writableErrored?y.writableErrored:(j=(v=y._writableState)===null||v===void 0?void 0:v.errored)!==null&&j!==void 0?j:null:null}function D(y){var j,v;return G(y)?y.readableErrored?y.readableErrored:(j=(v=y._readableState)===null||v===void 0?void 0:v.errored)!==null&&j!==void 0?j:null:null}function w(y){if(!G(y))return null;if(typeof y.closed=="boolean")return y.closed;let{_writableState:j,_readableState:v}=y;return typeof j?.closed=="boolean"||typeof v?.closed=="boolean"?j?.closed||v?.closed:typeof y._closed=="boolean"&&P(y)?y._closed:null}function P(y){return typeof y._closed=="boolean"&&typeof y._defaultKeepAlive=="boolean"&&typeof y._removedConnection=="boolean"&&typeof y._removedContLen=="boolean"}function V(y){return typeof y._sent100=="boolean"&&P(y)}function T(y){var j;return typeof y._consuming=="boolean"&&typeof y._dumped=="boolean"&&((j=y.req)===null||j===void 0?void 0:j.upgradeOrConnect)===void 0}function S(y){if(!G(y))return null;let{_writableState:j,_readableState:v}=y,_=j||v;return!_&&V(y)||!!(_&&_.autoDestroy&&_.emitClose&&_.closed===!1)}function h(y){var j;return!!(y&&((j=y[U])!==null&&j!==void 0?j:y.readableDidRead||y.readableAborted))}function x(y){var j,v,_,g,b,p,m,o,AA,s;return!!(y&&((j=(v=(_=(g=(b=(p=y[J])!==null&&p!==void 0?p:y.readableErrored)!==null&&b!==void 0?b:y.writableErrored)!==null&&g!==void 0?g:(m=y._readableState)===null||m===void 0?void 0:m.errorEmitted)!==null&&_!==void 0?_:(o=y._writableState)===null||o===void 0?void 0:o.errorEmitted)!==null&&v!==void 0?v:(AA=y._readableState)===null||AA===void 0?void 0:AA.errored)!==null&&j!==void 0?j:(s=y._writableState)===null||s===void 0?void 0:s.errored))}Q.exports={kDestroyed:K,isDisturbed:h,kIsDisturbed:U,isErrored:x,kIsErrored:J,isReadable:X,kIsReadable:C,isClosed:w,isDestroyed:F,isDuplexNodeStream:R,isFinished:M,isIterable:O,isReadableNodeStream:Y,isReadableEnded:Z,isReadableFinished:$,isReadableErrored:D,isNodeStream:G,isWritable:N,isWritableNodeStream:H,isWritableEnded:q,isWritableFinished:W,isWritableErrored:L,isServerRequest:T,isServerResponse:V,willEmitClose:S}}),CI=m0((A,Q)=>{var E=(KI(),II(X8)),{AbortError:B,codes:I}=k1(),{ERR_INVALID_ARG_TYPE:K,ERR_STREAM_PREMATURE_CLOSE:J}=I,{kEmptyObject:C,once:U}=$8(),{validateAbortSignal:Y,validateFunction:H,validateObject:R}=rC(),{Promise:G}=dQ(),{isClosed:O,isReadable:F,isReadableNodeStream:q,isReadableFinished:W,isReadableErrored:Z,isWritable:$,isWritableNodeStream:X,isWritableFinished:N,isWritableErrored:M,isNodeStream:L,willEmitClose:D}=JI();function w(S){return S.setHeader&&typeof S.abort=="function"}var P=()=>{};function V(S,h,x){var y,j;arguments.length===2?(x=h,h=C):h==null?h=C:R(h,"options"),H(x,"callback"),Y(h.signal,"options.signal"),x=U(x);let v=(y=h.readable)!==null&&y!==void 0?y:q(S),_=(j=h.writable)!==null&&j!==void 0?j:X(S);if(!L(S))throw new K("stream","Stream",S);let{_writableState:g,_readableState:b}=S,p=()=>{S.writable||AA()},m=D(S)&&q(S)===v&&X(S)===_,o=N(S,!1),AA=()=>{o=!0,S.destroyed&&(m=!1),!(m&&(!S.readable||v))&&(!v||s)&&x.call(S)},s=W(S,!1),t=()=>{s=!0,S.destroyed&&(m=!1),!(m&&(!S.writable||_))&&(!_||o)&&x.call(S)},r=(l)=>{x.call(S,l)},EA=O(S),JA=()=>{EA=!0;let l=M(S)||Z(S);if(l&&typeof l!="boolean")return x.call(S,l);if(v&&!s&&q(S,!0)&&!W(S,!1))return x.call(S,new J);if(_&&!o&&!N(S,!1))return x.call(S,new J);x.call(S)},YA=()=>{S.req.on("finish",AA)};w(S)?(S.on("complete",AA),m||S.on("abort",JA),S.req?YA():S.on("request",YA)):_&&!g&&(S.on("end",p),S.on("close",p)),!m&&typeof S.aborted=="boolean"&&S.on("aborted",JA),S.on("end",t),S.on("finish",AA),h.error!==!1&&S.on("error",r),S.on("close",JA),EA?E.nextTick(JA):g!=null&&g.errorEmitted||b!=null&&b.errorEmitted?m||E.nextTick(JA):(!v&&(!m||F(S))&&(o||$(S)===!1)||!_&&(!m||$(S))&&(s||F(S)===!1)||b&&S.req&&S.aborted)&&E.nextTick(JA);let IA=()=>{x=P,S.removeListener("aborted",JA),S.removeListener("complete",AA),S.removeListener("abort",JA),S.removeListener("request",YA),S.req&&S.req.removeListener("finish",AA),S.removeListener("end",p),S.removeListener("close",p),S.removeListener("finish",AA),S.removeListener("end",t),S.removeListener("error",r),S.removeListener("close",JA)};if(h.signal&&!EA){let l=()=>{let UA=x;IA(),UA.call(S,new B(void 0,{cause:h.signal.reason}))};if(h.signal.aborted)E.nextTick(l);else{let UA=x;x=U((...BA)=>{h.signal.removeEventListener("abort",l),UA.apply(S,BA)}),h.signal.addEventListener("abort",l)}}return IA}function T(S,h){return new G((x,y)=>{V(S,h,(j)=>{j?y(j):x()})})}Q.exports=V,Q.exports.finished=T}),CS=m0((A,Q)=>{var E=globalThis.AbortController||KH().AbortController,{codes:{ERR_INVALID_ARG_TYPE:B,ERR_MISSING_ARGS:I,ERR_OUT_OF_RANGE:K},AbortError:J}=k1(),{validateAbortSignal:C,validateInteger:U,validateObject:Y}=rC(),H=dQ().Symbol("kWeak"),{finished:R}=CI(),{ArrayPrototypePush:G,MathFloor:O,Number:F,NumberIsNaN:q,Promise:W,PromiseReject:Z,PromisePrototypeThen:$,Symbol:X}=dQ(),N=X("kEmpty"),M=X("kEof");function L(b,p){if(typeof b!="function")throw new B("fn",["Function","AsyncFunction"],b);p!=null&&Y(p,"options"),p?.signal!=null&&C(p.signal,"options.signal");let m=1;return p?.concurrency!=null&&(m=O(p.concurrency)),U(m,"concurrency",1),async function*(){var o,AA;let s=new E,t=this,r=[],EA=s.signal,JA={signal:EA},YA=()=>s.abort();p!=null&&(o=p.signal)!==null&&o!==void 0&&o.aborted&&YA(),p==null||(AA=p.signal)===null||AA===void 0||AA.addEventListener("abort",YA);let IA,l,UA=!1;function BA(){UA=!0}async function n(){try{for await(let $A of t){var i;if(UA)return;if(EA.aborted)throw new J;try{$A=b($A,JA)}catch(FA){$A=Z(FA)}$A!==N&&(typeof((i=$A)===null||i===void 0?void 0:i.catch)=="function"&&$A.catch(BA),r.push($A),IA&&(IA(),IA=null),!UA&&r.length&&r.length>=m&&await new W((FA)=>{l=FA}))}r.push(M)}catch($A){let FA=Z($A);$(FA,void 0,BA),r.push(FA)}finally{var KA;UA=!0,IA&&(IA(),IA=null),p==null||(KA=p.signal)===null||KA===void 0||KA.removeEventListener("abort",YA)}}n();try{for(;;){for(;r.length>0;){let i=await r[0];if(i===M)return;if(EA.aborted)throw new J;i!==N&&(yield i),r.shift(),l&&(l(),l=null)}await new W((i)=>{IA=i})}}finally{s.abort(),UA=!0,l&&(l(),l=null)}}.call(this)}function D(b=void 0){return b!=null&&Y(b,"options"),b?.signal!=null&&C(b.signal,"options.signal"),async function*(){let p=0;for await(let o of this){var m;if(b!=null&&(m=b.signal)!==null&&m!==void 0&&m.aborted)throw new J({cause:b.signal.reason});yield[p++,o]}}.call(this)}async function w(b,p=void 0){for await(let m of S.call(this,b,p))return!0;return!1}async function P(b,p=void 0){if(typeof b!="function")throw new B("fn",["Function","AsyncFunction"],b);return!await w.call(this,async(...m)=>!await b(...m),p)}async function V(b,p){for await(let m of S.call(this,b,p))return m}async function T(b,p){if(typeof b!="function")throw new B("fn",["Function","AsyncFunction"],b);async function m(o,AA){return await b(o,AA),N}for await(let o of L.call(this,m,p));}function S(b,p){if(typeof b!="function")throw new B("fn",["Function","AsyncFunction"],b);async function m(o,AA){return await b(o,AA)?o:N}return L.call(this,m,p)}var h=class extends I{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function x(b,p,m){var o;if(typeof b!="function")throw new B("reducer",["Function","AsyncFunction"],b);m!=null&&Y(m,"options"),m?.signal!=null&&C(m.signal,"options.signal");let AA=arguments.length>1;if(m!=null&&(o=m.signal)!==null&&o!==void 0&&o.aborted){let JA=new J(void 0,{cause:m.signal.reason});throw this.once("error",()=>{}),await R(this.destroy(JA)),JA}let s=new E,t=s.signal;if(m!=null&&m.signal){let JA={once:!0,[H]:this};m.signal.addEventListener("abort",()=>s.abort(),JA)}let r=!1;try{for await(let JA of this){var EA;if(r=!0,m!=null&&(EA=m.signal)!==null&&EA!==void 0&&EA.aborted)throw new J;AA?p=await b(p,JA,{signal:t}):(p=JA,AA=!0)}if(!r&&!AA)throw new h}finally{s.abort()}return p}async function y(b){b!=null&&Y(b,"options"),b?.signal!=null&&C(b.signal,"options.signal");let p=[];for await(let o of this){var m;if(b!=null&&(m=b.signal)!==null&&m!==void 0&&m.aborted)throw new J(void 0,{cause:b.signal.reason});G(p,o)}return p}function j(b,p){let m=L.call(this,b,p);return async function*(){for await(let o of m)yield*o}.call(this)}function v(b){if(b=F(b),q(b))return 0;if(b<0)throw new K("number",">= 0",b);return b}function _(b,p=void 0){return p!=null&&Y(p,"options"),p?.signal!=null&&C(p.signal,"options.signal"),b=v(b),async function*(){var m;if(p!=null&&(m=p.signal)!==null&&m!==void 0&&m.aborted)throw new J;for await(let AA of this){var o;if(p!=null&&(o=p.signal)!==null&&o!==void 0&&o.aborted)throw new J;b--<=0&&(yield AA)}}.call(this)}function g(b,p=void 0){return p!=null&&Y(p,"options"),p?.signal!=null&&C(p.signal,"options.signal"),b=v(b),async function*(){var m;if(p!=null&&(m=p.signal)!==null&&m!==void 0&&m.aborted)throw new J;for await(let AA of this){var o;if(p!=null&&(o=p.signal)!==null&&o!==void 0&&o.aborted)throw new J;if(b-- >0)yield AA;else return}}.call(this)}Q.exports.streamReturningOperators={asIndexedPairs:D,drop:_,filter:S,flatMap:j,map:L,take:g},Q.exports.promiseReturningOperators={every:P,forEach:T,reduce:x,toArray:y,some:w,find:V}}),R6=m0((A,Q)=>{var E=(KI(),II(X8)),{aggregateTwoErrors:B,codes:{ERR_MULTIPLE_CALLBACK:I},AbortError:K}=k1(),{Symbol:J}=dQ(),{kDestroyed:C,isDestroyed:U,isFinished:Y,isServerRequest:H}=JI(),R=J("kDestroy"),G=J("kConstruct");function O(S,h,x){S&&(S.stack,h&&!h.errored&&(h.errored=S),x&&!x.errored&&(x.errored=S))}function F(S,h){let x=this._readableState,y=this._writableState,j=y||x;return y&&y.destroyed||x&&x.destroyed?(typeof h=="function"&&h(),this):(O(S,y,x),y&&(y.destroyed=!0),x&&(x.destroyed=!0),j.constructed?q(this,S,h):this.once(R,function(v){q(this,B(v,S),h)}),this)}function q(S,h,x){let y=!1;function j(v){if(y)return;y=!0;let{_readableState:_,_writableState:g}=S;O(v,g,_),g&&(g.closed=!0),_&&(_.closed=!0),typeof x=="function"&&x(v),v?E.nextTick(W,S,v):E.nextTick(Z,S)}try{S._destroy(h||null,j)}catch(v){j(v)}}function W(S,h){$(S,h),Z(S)}function Z(S){let{_readableState:h,_writableState:x}=S;x&&(x.closeEmitted=!0),h&&(h.closeEmitted=!0),(x&&x.emitClose||h&&h.emitClose)&&S.emit("close")}function $(S,h){let{_readableState:x,_writableState:y}=S;y&&y.errorEmitted||x&&x.errorEmitted||(y&&(y.errorEmitted=!0),x&&(x.errorEmitted=!0),S.emit("error",h))}function X(){let S=this._readableState,h=this._writableState;S&&(S.constructed=!0,S.closed=!1,S.closeEmitted=!1,S.destroyed=!1,S.errored=null,S.errorEmitted=!1,S.reading=!1,S.ended=S.readable===!1,S.endEmitted=S.readable===!1),h&&(h.constructed=!0,h.destroyed=!1,h.closed=!1,h.closeEmitted=!1,h.errored=null,h.errorEmitted=!1,h.finalCalled=!1,h.prefinished=!1,h.ended=h.writable===!1,h.ending=h.writable===!1,h.finished=h.writable===!1)}function N(S,h,x){let{_readableState:y,_writableState:j}=S;if(j&&j.destroyed||y&&y.destroyed)return this;y&&y.autoDestroy||j&&j.autoDestroy?S.destroy(h):h&&(h.stack,j&&!j.errored&&(j.errored=h),y&&!y.errored&&(y.errored=h),x?E.nextTick($,S,h):$(S,h))}function M(S,h){if(typeof S._construct!="function")return;let{_readableState:x,_writableState:y}=S;x&&(x.constructed=!1),y&&(y.constructed=!1),S.once(G,h),!(S.listenerCount(G)>1)&&E.nextTick(L,S)}function L(S){let h=!1;function x(y){if(h){N(S,y??new I);return}h=!0;let{_readableState:j,_writableState:v}=S,_=v||j;j&&(j.constructed=!0),v&&(v.constructed=!0),_.destroyed?S.emit(R,y):y?N(S,y,!0):E.nextTick(D,S)}try{S._construct(x)}catch(y){x(y)}}function D(S){S.emit(G)}function w(S){return S&&S.setHeader&&typeof S.abort=="function"}function P(S){S.emit("close")}function V(S,h){S.emit("error",h),E.nextTick(P,S)}function T(S,h){!S||U(S)||(!h&&!Y(S)&&(h=new K),H(S)?(S.socket=null,S.destroy(h)):w(S)?S.abort():w(S.req)?S.req.abort():typeof S.destroy=="function"?S.destroy(h):typeof S.close=="function"?S.close():h?E.nextTick(V,S,h):E.nextTick(P,S),S.destroyed||(S[C]=!0))}Q.exports={construct:M,destroyer:T,destroy:F,undestroy:X,errorOrDestroy:N}}),JH=m0((A,Q)=>{var E=typeof Reflect=="object"?Reflect:null,B=E&&typeof E.apply=="function"?E.apply:function(L,D,w){return Function.prototype.apply.call(L,D,w)},I;E&&typeof E.ownKeys=="function"?I=E.ownKeys:Object.getOwnPropertySymbols?I=function(L){return Object.getOwnPropertyNames(L).concat(Object.getOwnPropertySymbols(L))}:I=function(L){return Object.getOwnPropertyNames(L)};function K(L){console&&console.warn&&console.warn(L)}var J=Number.isNaN||function(L){return L!==L};function C(){C.init.call(this)}Q.exports=C,Q.exports.once=X,C.EventEmitter=C,C.prototype._events=void 0,C.prototype._eventsCount=0,C.prototype._maxListeners=void 0;var U=10;function Y(L){if(typeof L!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof L)}Object.defineProperty(C,"defaultMaxListeners",{enumerable:!0,get:function(){return U},set:function(L){if(typeof L!="number"||L<0||J(L))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+L+".");U=L}}),C.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},C.prototype.setMaxListeners=function(L){if(typeof L!="number"||L<0||J(L))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+L+".");return this._maxListeners=L,this};function H(L){return L._maxListeners===void 0?C.defaultMaxListeners:L._maxListeners}C.prototype.getMaxListeners=function(){return H(this)},C.prototype.emit=function(L){for(var D=[],w=1;w<arguments.length;w++)D.push(arguments[w]);var P=L==="error",V=this._events;if(V!==void 0)P=P&&V.error===void 0;else if(!P)return!1;if(P){var T;if(D.length>0&&(T=D[0]),T instanceof Error)throw T;var S=new Error("Unhandled error."+(T?" ("+T.message+")":""));throw S.context=T,S}var h=V[L];if(h===void 0)return!1;if(typeof h=="function")B(h,this,D);else for(var x=h.length,y=W(h,x),w=0;w<x;++w)B(y[w],this,D);return!0};function R(L,D,w,P){var V,T,S;if(Y(w),T=L._events,T===void 0?(T=L._events=Object.create(null),L._eventsCount=0):(T.newListener!==void 0&&(L.emit("newListener",D,w.listener?w.listener:w),T=L._events),S=T[D]),S===void 0)S=T[D]=w,++L._eventsCount;else if(typeof S=="function"?S=T[D]=P?[w,S]:[S,w]:P?S.unshift(w):S.push(w),V=H(L),V>0&&S.length>V&&!S.warned){S.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+S.length+" "+String(D)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=L,h.type=D,h.count=S.length,K(h)}return L}C.prototype.addListener=function(L,D){return R(this,L,D,!1)},C.prototype.on=C.prototype.addListener,C.prototype.prependListener=function(L,D){return R(this,L,D,!0)};function G(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function O(L,D,w){var P={fired:!1,wrapFn:void 0,target:L,type:D,listener:w},V=G.bind(P);return V.listener=w,P.wrapFn=V,V}C.prototype.once=function(L,D){return Y(D),this.on(L,O(this,L,D)),this},C.prototype.prependOnceListener=function(L,D){return Y(D),this.prependListener(L,O(this,L,D)),this},C.prototype.removeListener=function(L,D){var w,P,V,T,S;if(Y(D),P=this._events,P===void 0)return this;if(w=P[L],w===void 0)return this;if(w===D||w.listener===D)--this._eventsCount===0?this._events=Object.create(null):(delete P[L],P.removeListener&&this.emit("removeListener",L,w.listener||D));else if(typeof w!="function"){for(V=-1,T=w.length-1;T>=0;T--)if(w[T]===D||w[T].listener===D){S=w[T].listener,V=T;break}if(V<0)return this;V===0?w.shift():Z(w,V),w.length===1&&(P[L]=w[0]),P.removeListener!==void 0&&this.emit("removeListener",L,S||D)}return this},C.prototype.off=C.prototype.removeListener,C.prototype.removeAllListeners=function(L){var D,w,P;if(w=this._events,w===void 0)return this;if(w.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):w[L]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete w[L]),this;if(arguments.length===0){var V=Object.keys(w),T;for(P=0;P<V.length;++P)T=V[P],T!=="removeListener"&&this.removeAllListeners(T);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(D=w[L],typeof D=="function")this.removeListener(L,D);else if(D!==void 0)for(P=D.length-1;P>=0;P--)this.removeListener(L,D[P]);return this};function F(L,D,w){var P=L._events;if(P===void 0)return[];var V=P[D];return V===void 0?[]:typeof V=="function"?w?[V.listener||V]:[V]:w?$(V):W(V,V.length)}C.prototype.listeners=function(L){return F(this,L,!0)},C.prototype.rawListeners=function(L){return F(this,L,!1)},C.listenerCount=function(L,D){return typeof L.listenerCount=="function"?L.listenerCount(D):q.call(L,D)},C.prototype.listenerCount=q;function q(L){var D=this._events;if(D!==void 0){var w=D[L];if(typeof w=="function")return 1;if(w!==void 0)return w.length}return 0}C.prototype.eventNames=function(){return this._eventsCount>0?I(this._events):[]};function W(L,D){for(var w=new Array(D),P=0;P<D;++P)w[P]=L[P];return w}function Z(L,D){for(;D+1<L.length;D++)L[D]=L[D+1];L.pop()}function $(L){for(var D=new Array(L.length),w=0;w<D.length;++w)D[w]=L[w].listener||L[w];return D}function X(L,D){return new Promise(function(w,P){function V(S){L.removeListener(D,T),P(S)}function T(){typeof L.removeListener=="function"&&L.removeListener("error",V),w([].slice.call(arguments))}M(L,D,T,{once:!0}),D!=="error"&&N(L,V,{once:!0})})}function N(L,D,w){typeof L.on=="function"&&M(L,"error",D,w)}function M(L,D,w,P){if(typeof L.on=="function")P.once?L.once(D,w):L.on(D,w);else if(typeof L.addEventListener=="function")L.addEventListener(D,function V(T){P.once&&L.removeEventListener(D,V),w(T)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof L)}}),CH=m0((A,Q)=>{var{ArrayIsArray:E,ObjectSetPrototypeOf:B}=dQ(),{EventEmitter:I}=JH();function K(C){I.call(this,C)}B(K.prototype,I.prototype),B(K,I),K.prototype.pipe=function(C,U){let Y=this;function H(Z){C.writable&&C.write(Z)===!1&&Y.pause&&Y.pause()}Y.on("data",H);function R(){Y.readable&&Y.resume&&Y.resume()}C.on("drain",R),!C._isStdio&&(!U||U.end!==!1)&&(Y.on("end",O),Y.on("close",F));let G=!1;function O(){G||(G=!0,C.end())}function F(){G||(G=!0,typeof C.destroy=="function"&&C.destroy())}function q(Z){W(),I.listenerCount(this,"error")===0&&this.emit("error",Z)}J(Y,"error",q),J(C,"error",q);function W(){Y.removeListener("data",H),C.removeListener("drain",R),Y.removeListener("end",O),Y.removeListener("close",F),Y.removeListener("error",q),C.removeListener("error",q),Y.removeListener("end",W),Y.removeListener("close",W),C.removeListener("close",W)}return Y.on("end",W),Y.on("close",W),C.on("close",W),C.emit("pipe",Y),C};function J(C,U,Y){if(typeof C.prependListener=="function")return C.prependListener(U,Y);!C._events||!C._events[U]?C.on(U,Y):E(C._events[U])?C._events[U].unshift(Y):C._events[U]=[Y,C._events[U]]}Q.exports={Stream:K,prependListener:J}}),UH=m0((A,Q)=>{var{AbortError:E,codes:B}=k1(),I=CI(),{ERR_INVALID_ARG_TYPE:K}=B,J=(U,Y)=>{if(typeof U!="object"||!("aborted"in U))throw new K(Y,"AbortSignal",U)};function C(U){return!!(U&&typeof U.pipe=="function")}Q.exports.addAbortSignal=function(U,Y){if(J(U,"signal"),!C(Y))throw new K("stream","stream.Stream",Y);return Q.exports.addAbortSignalNoValidate(U,Y)},Q.exports.addAbortSignalNoValidate=function(U,Y){if(typeof U!="object"||!("aborted"in U))return Y;let H=()=>{Y.destroy(new E(void 0,{cause:U.reason}))};return U.aborted?H():(U.addEventListener("abort",H),I(Y,()=>U.removeEventListener("abort",H))),Y}}),US=m0((A,Q)=>{var{StringPrototypeSlice:E,SymbolIterator:B,TypedArrayPrototypeSet:I,Uint8Array:K}=dQ(),{Buffer:J}=UB(),{inspect:C}=$8();Q.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(U){let Y={data:U,next:null};this.length>0?this.tail.next=Y:this.head=Y,this.tail=Y,++this.length}unshift(U){let Y={data:U,next:this.head};this.length===0&&(this.tail=Y),this.head=Y,++this.length}shift(){if(this.length===0)return;let U=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,U}clear(){this.head=this.tail=null,this.length=0}join(U){if(this.length===0)return"";let Y=this.head,H=""+Y.data;for(;(Y=Y.next)!==null;)H+=U+Y.data;return H}concat(U){if(this.length===0)return J.alloc(0);let Y=J.allocUnsafe(U>>>0),H=this.head,R=0;for(;H;)I(Y,H.data,R),R+=H.data.length,H=H.next;return Y}consume(U,Y){let H=this.head.data;if(U<H.length){let R=H.slice(0,U);return this.head.data=H.slice(U),R}return U===H.length?this.shift():Y?this._getString(U):this._getBuffer(U)}first(){return this.head.data}*[B](){for(let U=this.head;U;U=U.next)yield U.data}_getString(U){let Y="",H=this.head,R=0;do{let G=H.data;if(U>G.length)Y+=G,U-=G.length;else{U===G.length?(Y+=G,++R,H.next?this.head=H.next:this.head=this.tail=null):(Y+=E(G,0,U),this.head=H,H.data=E(G,U));break}++R}while((H=H.next)!==null);return this.length-=R,Y}_getBuffer(U){let Y=J.allocUnsafe(U),H=U,R=this.head,G=0;do{let O=R.data;if(U>O.length)I(Y,O,H-U),U-=O.length;else{U===O.length?(I(Y,O,H-U),++G,R.next?this.head=R.next:this.head=this.tail=null):(I(Y,new K(O.buffer,O.byteOffset,U),H-U),this.head=R,R.data=O.slice(U));break}++G}while((R=R.next)!==null);return this.length-=G,Y}[Symbol.for("nodejs.util.inspect.custom")](U,Y){return C(this,{...Y,depth:0,customInspect:!1})}}}),YH=m0((A,Q)=>{var{MathFloor:E,NumberIsInteger:B}=dQ(),{ERR_INVALID_ARG_VALUE:I}=k1().codes;function K(U,Y,H){return U.highWaterMark!=null?U.highWaterMark:Y?U[H]:null}function J(U){return U?16:16384}function C(U,Y,H,R){let G=K(Y,R,H);if(G!=null){if(!B(G)||G<0){let O=R?`options.${H}`:"options.highWaterMark";throw new I(O,G)}return E(G)}return J(U.objectMode)}Q.exports={getHighWaterMark:C,getDefaultHighWaterMark:J}}),YS=m0((A,Q)=>{var E=UB(),B=E.Buffer;function I(J,C){for(var U in J)C[U]=J[U]}B.from&&B.alloc&&B.allocUnsafe&&B.allocUnsafeSlow?Q.exports=E:(I(E,A),A.Buffer=K);function K(J,C,U){return B(J,C,U)}K.prototype=Object.create(B.prototype),I(B,K),K.from=function(J,C,U){if(typeof J=="number")throw new TypeError("Argument must not be a number");return B(J,C,U)},K.alloc=function(J,C,U){if(typeof J!="number")throw new TypeError("Argument must be a number");var Y=B(J);return C!==void 0?typeof U=="string"?Y.fill(C,U):Y.fill(C):Y.fill(0),Y},K.allocUnsafe=function(J){if(typeof J!="number")throw new TypeError("Argument must be a number");return B(J)},K.allocUnsafeSlow=function(J){if(typeof J!="number")throw new TypeError("Argument must be a number");return E.SlowBuffer(J)}}),HS=m0((A)=>{var Q=YS().Buffer,E=Q.isEncoding||function($){switch($=""+$,$&&$.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function B($){if(!$)return"utf8";for(var X;;)switch($){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return $;default:if(X)return;$=(""+$).toLowerCase(),X=!0}}function I($){var X=B($);if(typeof X!="string"&&(Q.isEncoding===E||!E($)))throw new Error("Unknown encoding: "+$);return X||$}A.StringDecoder=K;function K($){this.encoding=I($);var X;switch(this.encoding){case"utf16le":this.text=G,this.end=O,X=4;break;case"utf8":this.fillLast=Y,X=4;break;case"base64":this.text=F,this.end=q,X=3;break;default:this.write=W,this.end=Z;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Q.allocUnsafe(X)}K.prototype.write=function($){if($.length===0)return"";var X,N;if(this.lastNeed){if(X=this.fillLast($),X===void 0)return"";N=this.lastNeed,this.lastNeed=0}else N=0;return N<$.length?X?X+this.text($,N):this.text($,N):X||""},K.prototype.end=R,K.prototype.text=H,K.prototype.fillLast=function($){if(this.lastNeed<=$.length)return $.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);$.copy(this.lastChar,this.lastTotal-this.lastNeed,0,$.length),this.lastNeed-=$.length};function J($){return $<=127?0:$>>5===6?2:$>>4===14?3:$>>3===30?4:$>>6===2?-1:-2}function C($,X,N){var M=X.length-1;if(M<N)return 0;var L=J(X[M]);return L>=0?(L>0&&($.lastNeed=L-1),L):--M<N||L===-2?0:(L=J(X[M]),L>=0?(L>0&&($.lastNeed=L-2),L):--M<N||L===-2?0:(L=J(X[M]),L>=0?(L>0&&(L===2?L=0:$.lastNeed=L-3),L):0))}function U($,X,N){if((X[0]&192)!==128)return $.lastNeed=0,"\uFFFD";if($.lastNeed>1&&X.length>1){if((X[1]&192)!==128)return $.lastNeed=1,"\uFFFD";if($.lastNeed>2&&X.length>2&&(X[2]&192)!==128)return $.lastNeed=2,"\uFFFD"}}function Y($){var X=this.lastTotal-this.lastNeed,N=U(this,$,X);if(N!==void 0)return N;if(this.lastNeed<=$.length)return $.copy(this.lastChar,X,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);$.copy(this.lastChar,X,0,$.length),this.lastNeed-=$.length}function H($,X){var N=C(this,$,X);if(!this.lastNeed)return $.toString("utf8",X);this.lastTotal=N;var M=$.length-(N-this.lastNeed);return $.copy(this.lastChar,0,M),$.toString("utf8",X,M)}function R($){var X=$&&$.length?this.write($):"";return this.lastNeed?X+"\uFFFD":X}function G($,X){if(($.length-X)%2===0){var N=$.toString("utf16le",X);if(N){var M=N.charCodeAt(N.length-1);if(M>=55296&&M<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=$[$.length-2],this.lastChar[1]=$[$.length-1],N.slice(0,-1)}return N}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=$[$.length-1],$.toString("utf16le",X,$.length-1)}function O($){var X=$&&$.length?this.write($):"";if(this.lastNeed){var N=this.lastTotal-this.lastNeed;return X+this.lastChar.toString("utf16le",0,N)}return X}function F($,X){var N=($.length-X)%3;return N===0?$.toString("base64",X):(this.lastNeed=3-N,this.lastTotal=3,N===1?this.lastChar[0]=$[$.length-1]:(this.lastChar[0]=$[$.length-2],this.lastChar[1]=$[$.length-1]),$.toString("base64",X,$.length-N))}function q($){var X=$&&$.length?this.write($):"";return this.lastNeed?X+this.lastChar.toString("base64",0,3-this.lastNeed):X}function W($){return $.toString(this.encoding)}function Z($){return $&&$.length?this.write($):""}}),XW=m0((A,Q)=>{var E=(KI(),II(X8)),{PromisePrototypeThen:B,SymbolAsyncIterator:I,SymbolIterator:K}=dQ(),{Buffer:J}=UB(),{ERR_INVALID_ARG_TYPE:C,ERR_STREAM_NULL_VALUES:U}=k1().codes;function Y(H,R,G){let O;if(typeof R=="string"||R instanceof J)return new H({objectMode:!0,...G,read(){this.push(R),this.push(null)}});let F;if(R&&R[I])F=!0,O=R[I]();else if(R&&R[K])F=!1,O=R[K]();else throw new C("iterable",["Iterable"],R);let q=new H({objectMode:!0,highWaterMark:1,...G}),W=!1;q._read=function(){W||(W=!0,$())},q._destroy=function(X,N){B(Z(X),()=>E.nextTick(N,X),(M)=>E.nextTick(N,M||X))};async function Z(X){let N=X!=null,M=typeof O.throw=="function";if(N&&M){let{value:L,done:D}=await O.throw(X);if(await L,D)return}if(typeof O.return=="function"){let{value:L}=await O.return();await L}}async function $(){for(;;){try{let{value:X,done:N}=F?await O.next():O.next();if(N)q.push(null);else{let M=X&&typeof X.then=="function"?await X:X;if(M===null)throw W=!1,new U;if(q.push(M))continue;W=!1}}catch(X){q.destroy(X)}break}}return q}Q.exports=Y}),aC=m0((A,Q)=>{var E=(KI(),II(X8)),{ArrayPrototypeIndexOf:B,NumberIsInteger:I,NumberIsNaN:K,NumberParseInt:J,ObjectDefineProperties:C,ObjectKeys:U,ObjectSetPrototypeOf:Y,Promise:H,SafeSet:R,SymbolAsyncIterator:G,Symbol:O}=dQ();Q.exports=m,m.ReadableState=p;var{EventEmitter:F}=JH(),{Stream:q,prependListener:W}=CH(),{Buffer:Z}=UB(),{addAbortSignal:$}=UH(),X=CI(),N=$8().debuglog("stream",(z)=>{N=z}),M=US(),L=R6(),{getHighWaterMark:D,getDefaultHighWaterMark:w}=YH(),{aggregateTwoErrors:P,codes:{ERR_INVALID_ARG_TYPE:V,ERR_METHOD_NOT_IMPLEMENTED:T,ERR_OUT_OF_RANGE:S,ERR_STREAM_PUSH_AFTER_EOF:h,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:x}}=k1(),{validateObject:y}=rC(),j=O("kPaused"),{StringDecoder:v}=HS(),_=XW();Y(m.prototype,q.prototype),Y(m,q);var g=()=>{},{errorOrDestroy:b}=L;function p(z,k,u){typeof u!="boolean"&&(u=k instanceof W8()),this.objectMode=!!(z&&z.objectMode),u&&(this.objectMode=this.objectMode||!!(z&&z.readableObjectMode)),this.highWaterMark=z?D(this,z,"readableHighWaterMark",u):w(!1),this.buffer=new M,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[j]=null,this.errorEmitted=!1,this.emitClose=!z||z.emitClose!==!1,this.autoDestroy=!z||z.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=z&&z.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,z&&z.encoding&&(this.decoder=new v(z.encoding),this.encoding=z.encoding)}function m(z){if(!(this instanceof m))return new m(z);let k=this instanceof W8();this._readableState=new p(z,this,k),z&&(typeof z.read=="function"&&(this._read=z.read),typeof z.destroy=="function"&&(this._destroy=z.destroy),typeof z.construct=="function"&&(this._construct=z.construct),z.signal&&!k&&$(z.signal,this)),q.call(this,z),L.construct(this,()=>{this._readableState.needReadable&&IA(this,this._readableState)})}m.prototype.destroy=L.destroy,m.prototype._undestroy=L.undestroy,m.prototype._destroy=function(z,k){k(z)},m.prototype[F.captureRejectionSymbol]=function(z){this.destroy(z)},m.prototype.push=function(z,k){return o(this,z,k,!1)},m.prototype.unshift=function(z,k){return o(this,z,k,!0)};function o(z,k,u,d){N("readableAddChunk",k);let a=z._readableState,OA;if(a.objectMode||(typeof k=="string"?(u=u||a.defaultEncoding,a.encoding!==u&&(d&&a.encoding?k=Z.from(k,u).toString(a.encoding):(k=Z.from(k,u),u=""))):k instanceof Z?u="":q._isUint8Array(k)?(k=q._uint8ArrayToBuffer(k),u=""):k!=null&&(OA=new V("chunk",["string","Buffer","Uint8Array"],k))),OA)b(z,OA);else if(k===null)a.reading=!1,EA(z,a);else if(a.objectMode||k&&k.length>0)if(d)if(a.endEmitted)b(z,new x);else{if(a.destroyed||a.errored)return!1;AA(z,a,k,!0)}else if(a.ended)b(z,new h);else{if(a.destroyed||a.errored)return!1;a.reading=!1,a.decoder&&!u?(k=a.decoder.write(k),a.objectMode||k.length!==0?AA(z,a,k,!1):IA(z,a)):AA(z,a,k,!1)}else d||(a.reading=!1,IA(z,a));return!a.ended&&(a.length<a.highWaterMark||a.length===0)}function AA(z,k,u,d){k.flowing&&k.length===0&&!k.sync&&z.listenerCount("data")>0?(k.multiAwaitDrain?k.awaitDrainWriters.clear():k.awaitDrainWriters=null,k.dataEmitted=!0,z.emit("data",u)):(k.length+=k.objectMode?1:u.length,d?k.buffer.unshift(u):k.buffer.push(u),k.needReadable&&JA(z)),IA(z,k)}m.prototype.isPaused=function(){let z=this._readableState;return z[j]===!0||z.flowing===!1},m.prototype.setEncoding=function(z){let k=new v(z);this._readableState.decoder=k,this._readableState.encoding=this._readableState.decoder.encoding;let u=this._readableState.buffer,d="";for(let a of u)d+=k.write(a);return u.clear(),d!==""&&u.push(d),this._readableState.length=d.length,this};var s=1073741824;function t(z){if(z>s)throw new S("size","<= 1GiB",z);return z--,z|=z>>>1,z|=z>>>2,z|=z>>>4,z|=z>>>8,z|=z>>>16,z++,z}function r(z,k){return z<=0||k.length===0&&k.ended?0:k.objectMode?1:K(z)?k.flowing&&k.length?k.buffer.first().length:k.length:z<=k.length?z:k.ended?k.length:0}m.prototype.read=function(z){N("read",z),z===void 0?z=NaN:I(z)||(z=J(z,10));let k=this._readableState,u=z;if(z>k.highWaterMark&&(k.highWaterMark=t(z)),z!==0&&(k.emittedReadable=!1),z===0&&k.needReadable&&((k.highWaterMark!==0?k.length>=k.highWaterMark:k.length>0)||k.ended))return N("read: emitReadable",k.length,k.ended),k.length===0&&k.ended?HA(this):JA(this),null;if(z=r(z,k),z===0&&k.ended)return k.length===0&&HA(this),null;let d=k.needReadable;if(N("need readable",d),(k.length===0||k.length-z<k.highWaterMark)&&(d=!0,N("length less than watermark",d)),k.ended||k.reading||k.destroyed||k.errored||!k.constructed)d=!1,N("reading, ended or constructing",d);else if(d){N("do read"),k.reading=!0,k.sync=!0,k.length===0&&(k.needReadable=!0);try{this._read(k.highWaterMark)}catch(OA){b(this,OA)}k.sync=!1,k.reading||(z=r(u,k))}let a;return z>0?a=c(z,k):a=null,a===null?(k.needReadable=k.length<=k.highWaterMark,z=0):(k.length-=z,k.multiAwaitDrain?k.awaitDrainWriters.clear():k.awaitDrainWriters=null),k.length===0&&(k.ended||(k.needReadable=!0),u!==z&&k.ended&&HA(this)),a!==null&&!k.errorEmitted&&!k.closeEmitted&&(k.dataEmitted=!0,this.emit("data",a)),a};function EA(z,k){if(N("onEofChunk"),!k.ended){if(k.decoder){let u=k.decoder.end();u&&u.length&&(k.buffer.push(u),k.length+=k.objectMode?1:u.length)}k.ended=!0,k.sync?JA(z):(k.needReadable=!1,k.emittedReadable=!0,YA(z))}}function JA(z){let k=z._readableState;N("emitReadable",k.needReadable,k.emittedReadable),k.needReadable=!1,k.emittedReadable||(N("emitReadable",k.flowing),k.emittedReadable=!0,E.nextTick(YA,z))}function YA(z){let k=z._readableState;N("emitReadable_",k.destroyed,k.length,k.ended),!k.destroyed&&!k.errored&&(k.length||k.ended)&&(z.emit("readable"),k.emittedReadable=!1),k.needReadable=!k.flowing&&!k.ended&&k.length<=k.highWaterMark,$A(z)}function IA(z,k){!k.readingMore&&k.constructed&&(k.readingMore=!0,E.nextTick(l,z,k))}function l(z,k){for(;!k.reading&&!k.ended&&(k.length<k.highWaterMark||k.flowing&&k.length===0);){let u=k.length;if(N("maybeReadMore read 0"),z.read(0),u===k.length)break}k.readingMore=!1}m.prototype._read=function(z){throw new T("_read()")},m.prototype.pipe=function(z,k){let u=this,d=this._readableState;d.pipes.length===1&&(d.multiAwaitDrain||(d.multiAwaitDrain=!0,d.awaitDrainWriters=new R(d.awaitDrainWriters?[d.awaitDrainWriters]:[]))),d.pipes.push(z),N("pipe count=%d opts=%j",d.pipes.length,k);let a=(!k||k.end!==!1)&&z!==E.stdout&&z!==E.stderr?LA:oA;d.endEmitted?E.nextTick(a):u.once("end",a),z.on("unpipe",OA);function OA(iA,q0){N("onunpipe"),iA===u&&q0&&q0.hasUnpiped===!1&&(q0.hasUnpiped=!0,yA())}function LA(){N("onend"),z.end()}let SA,dA=!1;function yA(){N("cleanup"),z.removeListener("close",TA),z.removeListener("finish",kA),SA&&z.removeListener("drain",SA),z.removeListener("error",xA),z.removeListener("unpipe",OA),u.removeListener("end",LA),u.removeListener("end",oA),u.removeListener("data",ZA),dA=!0,SA&&d.awaitDrainWriters&&(!z._writableState||z._writableState.needDrain)&&SA()}function lA(){dA||(d.pipes.length===1&&d.pipes[0]===z?(N("false write response, pause",0),d.awaitDrainWriters=z,d.multiAwaitDrain=!1):d.pipes.length>1&&d.pipes.includes(z)&&(N("false write response, pause",d.awaitDrainWriters.size),d.awaitDrainWriters.add(z)),u.pause()),SA||(SA=UA(u,z),z.on("drain",SA))}u.on("data",ZA);function ZA(iA){N("ondata");let q0=z.write(iA);N("dest.write",q0),q0===!1&&lA()}function xA(iA){if(N("onerror",iA),oA(),z.removeListener("error",xA),z.listenerCount("error")===0){let q0=z._writableState||z._readableState;q0&&!q0.errorEmitted?b(z,iA):z.emit("error",iA)}}W(z,"error",xA);function TA(){z.removeListener("finish",kA),oA()}z.once("close",TA);function kA(){N("onfinish"),z.removeListener("close",TA),oA()}z.once("finish",kA);function oA(){N("unpipe"),u.unpipe(z)}return z.emit("pipe",u),z.writableNeedDrain===!0?d.flowing&&lA():d.flowing||(N("pipe resume"),u.resume()),z};function UA(z,k){return function(){let u=z._readableState;u.awaitDrainWriters===k?(N("pipeOnDrain",1),u.awaitDrainWriters=null):u.multiAwaitDrain&&(N("pipeOnDrain",u.awaitDrainWriters.size),u.awaitDrainWriters.delete(k)),(!u.awaitDrainWriters||u.awaitDrainWriters.size===0)&&z.listenerCount("data")&&z.resume()}}m.prototype.unpipe=function(z){let k=this._readableState,u={hasUnpiped:!1};if(k.pipes.length===0)return this;if(!z){let a=k.pipes;k.pipes=[],this.pause();for(let OA=0;OA<a.length;OA++)a[OA].emit("unpipe",this,{hasUnpiped:!1});return this}let d=B(k.pipes,z);return d===-1?this:(k.pipes.splice(d,1),k.pipes.length===0&&this.pause(),z.emit("unpipe",this,u),this)},m.prototype.on=function(z,k){let u=q.prototype.on.call(this,z,k),d=this._readableState;return z==="data"?(d.readableListening=this.listenerCount("readable")>0,d.flowing!==!1&&this.resume()):z==="readable"&&!d.endEmitted&&!d.readableListening&&(d.readableListening=d.needReadable=!0,d.flowing=!1,d.emittedReadable=!1,N("on readable",d.length,d.reading),d.length?JA(this):d.reading||E.nextTick(n,this)),u},m.prototype.addListener=m.prototype.on,m.prototype.removeListener=function(z,k){let u=q.prototype.removeListener.call(this,z,k);return z==="readable"&&E.nextTick(BA,this),u},m.prototype.off=m.prototype.removeListener,m.prototype.removeAllListeners=function(z){let k=q.prototype.removeAllListeners.apply(this,arguments);return(z==="readable"||z===void 0)&&E.nextTick(BA,this),k};function BA(z){let k=z._readableState;k.readableListening=z.listenerCount("readable")>0,k.resumeScheduled&&k[j]===!1?k.flowing=!0:z.listenerCount("data")>0?z.resume():k.readableListening||(k.flowing=null)}function n(z){N("readable nexttick read 0"),z.read(0)}m.prototype.resume=function(){let z=this._readableState;return z.flowing||(N("resume"),z.flowing=!z.readableListening,i(this,z)),z[j]=!1,this};function i(z,k){k.resumeScheduled||(k.resumeScheduled=!0,E.nextTick(KA,z,k))}function KA(z,k){N("resume",k.reading),k.reading||z.read(0),k.resumeScheduled=!1,z.emit("resume"),$A(z),k.flowing&&!k.reading&&z.read(0)}m.prototype.pause=function(){return N("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(N("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[j]=!0,this};function $A(z){let k=z._readableState;for(N("flow",k.flowing);k.flowing&&z.read()!==null;);}m.prototype.wrap=function(z){let k=!1;z.on("data",(d)=>{!this.push(d)&&z.pause&&(k=!0,z.pause())}),z.on("end",()=>{this.push(null)}),z.on("error",(d)=>{b(this,d)}),z.on("close",()=>{this.destroy()}),z.on("destroy",()=>{this.destroy()}),this._read=()=>{k&&z.resume&&(k=!1,z.resume())};let u=U(z);for(let d=1;d<u.length;d++){let a=u[d];this[a]===void 0&&typeof z[a]=="function"&&(this[a]=z[a].bind(z))}return this},m.prototype[G]=function(){return FA(this)},m.prototype.iterator=function(z){return z!==void 0&&y(z,"options"),FA(this,z)};function FA(z,k){typeof z.read!="function"&&(z=m.wrap(z,{objectMode:!0}));let u=e(z,k);return u.stream=z,u}async function*e(z,k){let u=g;function d(LA){this===z?(u(),u=g):u=LA}z.on("readable",d);let a,OA=X(z,{writable:!1},(LA)=>{a=LA?P(a,LA):null,u(),u=g});try{for(;;){let LA=z.destroyed?null:z.read();if(LA!==null)yield LA;else{if(a)throw a;if(a===null)return;await new H(d)}}}catch(LA){throw a=P(a,LA),a}finally{(a||k?.destroyOnReturn!==!1)&&(a===void 0||z._readableState.autoDestroy)?L.destroyer(z,null):(z.off("readable",d),OA())}}C(m.prototype,{readable:{__proto__:null,get(){let z=this._readableState;return!!z&&z.readable!==!1&&!z.destroyed&&!z.errorEmitted&&!z.endEmitted},set(z){this._readableState&&(this._readableState.readable=!!z)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(z){this._readableState&&(this._readableState.flowing=z)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(z){!this._readableState||(this._readableState.destroyed=z)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),C(p.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[j]!==!1},set(z){this[j]=!!z}}}),m._fromList=c;function c(z,k){if(k.length===0)return null;let u;return k.objectMode?u=k.buffer.shift():!z||z>=k.length?(k.decoder?u=k.buffer.join(""):k.buffer.length===1?u=k.buffer.first():u=k.buffer.concat(k.length),k.buffer.clear()):u=k.buffer.consume(z,k.decoder),u}function HA(z){let k=z._readableState;N("endReadable",k.endEmitted),k.endEmitted||(k.ended=!0,E.nextTick(XA,k,z))}function XA(z,k){if(N("endReadableNT",z.endEmitted,z.length),!z.errored&&!z.closeEmitted&&!z.endEmitted&&z.length===0){if(z.endEmitted=!0,k.emit("end"),k.writable&&k.allowHalfOpen===!1)E.nextTick(CA,k);else if(z.autoDestroy){let u=k._writableState;(!u||u.autoDestroy&&(u.finished||u.writable===!1))&&k.destroy()}}}function CA(z){z.writable&&!z.writableEnded&&!z.destroyed&&z.end()}m.from=function(z,k){return _(m,z,k)};var GA;function uA(){return GA===void 0&&(GA={}),GA}m.fromWeb=function(z,k){return uA().newStreamReadableFromReadableStream(z,k)},m.toWeb=function(z,k){return uA().newReadableStreamFromStreamReadable(z,k)},m.wrap=function(z,k){var u,d;return new m({objectMode:(u=(d=z.readableObjectMode)!==null&&d!==void 0?d:z.objectMode)!==null&&u!==void 0?u:!0,...k,destroy(a,OA){L.destroyer(z,a),OA(a)}}).wrap(z)}}),FW=m0((A,Q)=>{var E=(KI(),II(X8)),{ArrayPrototypeSlice:B,Error:I,FunctionPrototypeSymbolHasInstance:K,ObjectDefineProperty:J,ObjectDefineProperties:C,ObjectSetPrototypeOf:U,StringPrototypeToLowerCase:Y,Symbol:H,SymbolHasInstance:R}=dQ();Q.exports=v,v.WritableState=y;var{EventEmitter:G}=JH(),O=CH().Stream,{Buffer:F}=UB(),q=R6(),{addAbortSignal:W}=UH(),{getHighWaterMark:Z,getDefaultHighWaterMark:$}=YH(),{ERR_INVALID_ARG_TYPE:X,ERR_METHOD_NOT_IMPLEMENTED:N,ERR_MULTIPLE_CALLBACK:M,ERR_STREAM_CANNOT_PIPE:L,ERR_STREAM_DESTROYED:D,ERR_STREAM_ALREADY_FINISHED:w,ERR_STREAM_NULL_VALUES:P,ERR_STREAM_WRITE_AFTER_END:V,ERR_UNKNOWN_ENCODING:T}=k1().codes,{errorOrDestroy:S}=q;U(v.prototype,O.prototype),U(v,O);function h(){}var x=H("kOnFinished");function y(n,i,KA){typeof KA!="boolean"&&(KA=i instanceof W8()),this.objectMode=!!(n&&n.objectMode),KA&&(this.objectMode=this.objectMode||!!(n&&n.writableObjectMode)),this.highWaterMark=n?Z(this,n,"writableHighWaterMark",KA):$(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let $A=!!(n&&n.decodeStrings===!1);this.decodeStrings=!$A,this.defaultEncoding=n&&n.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=m.bind(void 0,i),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,j(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!n||n.emitClose!==!1,this.autoDestroy=!n||n.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[x]=[]}function j(n){n.buffered=[],n.bufferedIndex=0,n.allBuffers=!0,n.allNoop=!0}y.prototype.getBuffer=function(){return B(this.buffered,this.bufferedIndex)},J(y.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function v(n){let i=this instanceof W8();if(!i&&!K(v,this))return new v(n);this._writableState=new y(n,this,i),n&&(typeof n.write=="function"&&(this._write=n.write),typeof n.writev=="function"&&(this._writev=n.writev),typeof n.destroy=="function"&&(this._destroy=n.destroy),typeof n.final=="function"&&(this._final=n.final),typeof n.construct=="function"&&(this._construct=n.construct),n.signal&&W(n.signal,this)),O.call(this,n),q.construct(this,()=>{let KA=this._writableState;KA.writing||t(this,KA),YA(this,KA)})}J(v,R,{__proto__:null,value:function(n){return K(this,n)?!0:this!==v?!1:n&&n._writableState instanceof y}}),v.prototype.pipe=function(){S(this,new L)};function _(n,i,KA,$A){let FA=n._writableState;if(typeof KA=="function")$A=KA,KA=FA.defaultEncoding;else{if(!KA)KA=FA.defaultEncoding;else if(KA!=="buffer"&&!F.isEncoding(KA))throw new T(KA);typeof $A!="function"&&($A=h)}if(i===null)throw new P;if(!FA.objectMode)if(typeof i=="string")FA.decodeStrings!==!1&&(i=F.from(i,KA),KA="buffer");else if(i instanceof F)KA="buffer";else if(O._isUint8Array(i))i=O._uint8ArrayToBuffer(i),KA="buffer";else throw new X("chunk",["string","Buffer","Uint8Array"],i);let e;return FA.ending?e=new V:FA.destroyed&&(e=new D("write")),e?(E.nextTick($A,e),S(n,e,!0),e):(FA.pendingcb++,g(n,FA,i,KA,$A))}v.prototype.write=function(n,i,KA){return _(this,n,i,KA)===!0},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){let n=this._writableState;n.corked&&(n.corked--,n.writing||t(this,n))},v.prototype.setDefaultEncoding=function(n){if(typeof n=="string"&&(n=Y(n)),!F.isEncoding(n))throw new T(n);return this._writableState.defaultEncoding=n,this};function g(n,i,KA,$A,FA){let e=i.objectMode?1:KA.length;i.length+=e;let c=i.length<i.highWaterMark;return c||(i.needDrain=!0),i.writing||i.corked||i.errored||!i.constructed?(i.buffered.push({chunk:KA,encoding:$A,callback:FA}),i.allBuffers&&$A!=="buffer"&&(i.allBuffers=!1),i.allNoop&&FA!==h&&(i.allNoop=!1)):(i.writelen=e,i.writecb=FA,i.writing=!0,i.sync=!0,n._write(KA,$A,i.onwrite),i.sync=!1),c&&!i.errored&&!i.destroyed}function b(n,i,KA,$A,FA,e,c){i.writelen=$A,i.writecb=c,i.writing=!0,i.sync=!0,i.destroyed?i.onwrite(new D("write")):KA?n._writev(FA,i.onwrite):n._write(FA,e,i.onwrite),i.sync=!1}function p(n,i,KA,$A){--i.pendingcb,$A(KA),s(i),S(n,KA)}function m(n,i){let KA=n._writableState,$A=KA.sync,FA=KA.writecb;if(typeof FA!="function"){S(n,new M);return}KA.writing=!1,KA.writecb=null,KA.length-=KA.writelen,KA.writelen=0,i?(i.stack,KA.errored||(KA.errored=i),n._readableState&&!n._readableState.errored&&(n._readableState.errored=i),$A?E.nextTick(p,n,KA,i,FA):p(n,KA,i,FA)):(KA.buffered.length>KA.bufferedIndex&&t(n,KA),$A?KA.afterWriteTickInfo!==null&&KA.afterWriteTickInfo.cb===FA?KA.afterWriteTickInfo.count++:(KA.afterWriteTickInfo={count:1,cb:FA,stream:n,state:KA},E.nextTick(o,KA.afterWriteTickInfo)):AA(n,KA,1,FA))}function o({stream:n,state:i,count:KA,cb:$A}){return i.afterWriteTickInfo=null,AA(n,i,KA,$A)}function AA(n,i,KA,$A){for(!i.ending&&!n.destroyed&&i.length===0&&i.needDrain&&(i.needDrain=!1,n.emit("drain"));KA-- >0;)i.pendingcb--,$A();i.destroyed&&s(i),YA(n,i)}function s(n){if(n.writing)return;for(let FA=n.bufferedIndex;FA<n.buffered.length;++FA){var i;let{chunk:e,callback:c}=n.buffered[FA],HA=n.objectMode?1:e.length;n.length-=HA,c((i=n.errored)!==null&&i!==void 0?i:new D("write"))}let KA=n[x].splice(0);for(let FA=0;FA<KA.length;FA++){var $A;KA[FA](($A=n.errored)!==null&&$A!==void 0?$A:new D("end"))}j(n)}function t(n,i){if(i.corked||i.bufferProcessing||i.destroyed||!i.constructed)return;let{buffered:KA,bufferedIndex:$A,objectMode:FA}=i,e=KA.length-$A;if(!e)return;let c=$A;if(i.bufferProcessing=!0,e>1&&n._writev){i.pendingcb-=e-1;let HA=i.allNoop?h:(CA)=>{for(let GA=c;GA<KA.length;++GA)KA[GA].callback(CA)},XA=i.allNoop&&c===0?KA:B(KA,c);XA.allBuffers=i.allBuffers,b(n,i,!0,i.length,XA,"",HA),j(i)}else{do{let{chunk:HA,encoding:XA,callback:CA}=KA[c];KA[c++]=null;let GA=FA?1:HA.length;b(n,i,!1,GA,HA,XA,CA)}while(c<KA.length&&!i.writing);c===KA.length?j(i):c>256?(KA.splice(0,c),i.bufferedIndex=0):i.bufferedIndex=c}i.bufferProcessing=!1}v.prototype._write=function(n,i,KA){if(this._writev)this._writev([{chunk:n,encoding:i}],KA);else throw new N("_write()")},v.prototype._writev=null,v.prototype.end=function(n,i,KA){let $A=this._writableState;typeof n=="function"?(KA=n,n=null,i=null):typeof i=="function"&&(KA=i,i=null);let FA;if(n!=null){let e=_(this,n,i);e instanceof I&&(FA=e)}return $A.corked&&($A.corked=1,this.uncork()),FA||(!$A.errored&&!$A.ending?($A.ending=!0,YA(this,$A,!0),$A.ended=!0):$A.finished?FA=new w("end"):$A.destroyed&&(FA=new D("end"))),typeof KA=="function"&&(FA||$A.finished?E.nextTick(KA,FA):$A[x].push(KA)),this};function r(n){return n.ending&&!n.destroyed&&n.constructed&&n.length===0&&!n.errored&&n.buffered.length===0&&!n.finished&&!n.writing&&!n.errorEmitted&&!n.closeEmitted}function EA(n,i){let KA=!1;function $A(FA){if(KA){S(n,FA??M());return}if(KA=!0,i.pendingcb--,FA){let e=i[x].splice(0);for(let c=0;c<e.length;c++)e[c](FA);S(n,FA,i.sync)}else r(i)&&(i.prefinished=!0,n.emit("prefinish"),i.pendingcb++,E.nextTick(IA,n,i))}i.sync=!0,i.pendingcb++;try{n._final($A)}catch(FA){$A(FA)}i.sync=!1}function JA(n,i){!i.prefinished&&!i.finalCalled&&(typeof n._final=="function"&&!i.destroyed?(i.finalCalled=!0,EA(n,i)):(i.prefinished=!0,n.emit("prefinish")))}function YA(n,i,KA){r(i)&&(JA(n,i),i.pendingcb===0&&(KA?(i.pendingcb++,E.nextTick(($A,FA)=>{r(FA)?IA($A,FA):FA.pendingcb--},n,i)):r(i)&&(i.pendingcb++,IA(n,i))))}function IA(n,i){i.pendingcb--,i.finished=!0;let KA=i[x].splice(0);for(let $A=0;$A<KA.length;$A++)KA[$A]();if(n.emit("finish"),i.autoDestroy){let $A=n._readableState;(!$A||$A.autoDestroy&&($A.endEmitted||$A.readable===!1))&&n.destroy()}}C(v.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(n){this._writableState&&(this._writableState.destroyed=n)}},writable:{__proto__:null,get(){let n=this._writableState;return!!n&&n.writable!==!1&&!n.destroyed&&!n.errored&&!n.ending&&!n.ended},set(n){this._writableState&&(this._writableState.writable=!!n)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let n=this._writableState;return n?!n.destroyed&&!n.ending&&n.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var l=q.destroy;v.prototype.destroy=function(n,i){let KA=this._writableState;return!KA.destroyed&&(KA.bufferedIndex<KA.buffered.length||KA[x].length)&&E.nextTick(s,KA),l.call(this,n,i),this},v.prototype._undestroy=q.undestroy,v.prototype._destroy=function(n,i){i(n)},v.prototype[G.captureRejectionSymbol]=function(n){this.destroy(n)};var UA;function BA(){return UA===void 0&&(UA={}),UA}v.fromWeb=function(n,i){return BA().newStreamWritableFromWritableStream(n,i)},v.toWeb=function(n){return BA().newWritableStreamFromStreamWritable(n)}}),GS=m0((A,Q)=>{var E=(KI(),II(X8)),B=UB(),{isReadable:I,isWritable:K,isIterable:J,isNodeStream:C,isReadableNodeStream:U,isWritableNodeStream:Y,isDuplexNodeStream:H}=JI(),R=CI(),{AbortError:G,codes:{ERR_INVALID_ARG_TYPE:O,ERR_INVALID_RETURN_VALUE:F}}=k1(),{destroyer:q}=R6(),W=W8(),Z=aC(),{createDeferredPromise:$}=$8(),X=XW(),N=globalThis.Blob||B.Blob,M=typeof N<"u"?function(T){return T instanceof N}:function(T){return!1},L=globalThis.AbortController||KH().AbortController,{FunctionPrototypeCall:D}=dQ(),w=class extends W{constructor(T){super(T),T?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),T?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};Q.exports=function T(S,h){if(H(S))return S;if(U(S))return V({readable:S});if(Y(S))return V({writable:S});if(C(S))return V({writable:!1,readable:!1});if(typeof S=="function"){let{value:y,write:j,final:v,destroy:_}=P(S);if(J(y))return X(w,y,{objectMode:!0,write:j,final:v,destroy:_});let g=y?.then;if(typeof g=="function"){let b,p=D(g,y,(m)=>{if(m!=null)throw new F("nully","body",m)},(m)=>{q(b,m)});return b=new w({objectMode:!0,readable:!1,write:j,final(m){v(async()=>{try{await p,E.nextTick(m,null)}catch(o){E.nextTick(m,o)}})},destroy:_})}throw new F("Iterable, AsyncIterable or AsyncFunction",h,y)}if(M(S))return T(S.arrayBuffer());if(J(S))return X(w,S,{objectMode:!0,writable:!1});if(typeof S?.writable=="object"||typeof S?.readable=="object"){let y=S!=null&&S.readable?U(S?.readable)?S?.readable:T(S.readable):void 0,j=S!=null&&S.writable?Y(S?.writable)?S?.writable:T(S.writable):void 0;return V({readable:y,writable:j})}let x=S?.then;if(typeof x=="function"){let y;return D(x,S,(j)=>{j!=null&&y.push(j),y.push(null)},(j)=>{q(y,j)}),y=new w({objectMode:!0,writable:!1,read(){}})}throw new O(h,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],S)};function P(T){let{promise:S,resolve:h}=$(),x=new L,y=x.signal;return{value:T(async function*(){for(;;){let j=S;S=null;let{chunk:v,done:_,cb:g}=await j;if(E.nextTick(g),_)return;if(y.aborted)throw new G(void 0,{cause:y.reason});({promise:S,resolve:h}=$()),yield v}}(),{signal:y}),write(j,v,_){let g=h;h=null,g({chunk:j,done:!1,cb:_})},final(j){let v=h;h=null,v({done:!0,cb:j})},destroy(j,v){x.abort(),v(j)}}}function V(T){let S=T.readable&&typeof T.readable.read!="function"?Z.wrap(T.readable):T.readable,h=T.writable,x=!!I(S),y=!!K(h),j,v,_,g,b;function p(m){let o=g;g=null,o?o(m):m?b.destroy(m):!x&&!y&&b.destroy()}return b=new w({readableObjectMode:!!(S!=null&&S.readableObjectMode),writableObjectMode:!!(h!=null&&h.writableObjectMode),readable:x,writable:y}),y&&(R(h,(m)=>{y=!1,m&&q(S,m),p(m)}),b._write=function(m,o,AA){h.write(m,o)?AA():j=AA},b._final=function(m){h.end(),v=m},h.on("drain",function(){if(j){let m=j;j=null,m()}}),h.on("finish",function(){if(v){let m=v;v=null,m()}})),x&&(R(S,(m)=>{x=!1,m&&q(S,m),p(m)}),S.on("readable",function(){if(_){let m=_;_=null,m()}}),S.on("end",function(){b.push(null)}),b._read=function(){for(;;){let m=S.read();if(m===null){_=b._read;return}if(!b.push(m))return}}),b._destroy=function(m,o){!m&&g!==null&&(m=new G),_=null,j=null,v=null,g===null?o(m):(g=o,q(h,m),q(S,m))},b}}),W8=m0((A,Q)=>{var{ObjectDefineProperties:E,ObjectGetOwnPropertyDescriptor:B,ObjectKeys:I,ObjectSetPrototypeOf:K}=dQ();Q.exports=U;var J=aC(),C=FW();K(U.prototype,J.prototype),K(U,J);{let G=I(C.prototype);for(let O=0;O<G.length;O++){let F=G[O];U.prototype[F]||(U.prototype[F]=C.prototype[F])}}function U(G){if(!(this instanceof U))return new U(G);J.call(this,G),C.call(this,G),G?(this.allowHalfOpen=G.allowHalfOpen!==!1,G.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),G.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}E(U.prototype,{writable:{__proto__:null,...B(C.prototype,"writable")},writableHighWaterMark:{__proto__:null,...B(C.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...B(C.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...B(C.prototype,"writableBuffer")},writableLength:{__proto__:null,...B(C.prototype,"writableLength")},writableFinished:{__proto__:null,...B(C.prototype,"writableFinished")},writableCorked:{__proto__:null,...B(C.prototype,"writableCorked")},writableEnded:{__proto__:null,...B(C.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...B(C.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(G){this._readableState&&this._writableState&&(this._readableState.destroyed=G,this._writableState.destroyed=G)}}});var Y;function H(){return Y===void 0&&(Y={}),Y}U.fromWeb=function(G,O){return H().newStreamDuplexFromReadableWritablePair(G,O)},U.toWeb=function(G){return H().newReadableWritablePairFromDuplex(G)};var R;U.from=function(G){return R||(R=GS()),R(G,"body")}}),qW=m0((A,Q)=>{var{ObjectSetPrototypeOf:E,Symbol:B}=dQ();Q.exports=U;var{ERR_METHOD_NOT_IMPLEMENTED:I}=k1().codes,K=W8(),{getHighWaterMark:J}=YH();E(U.prototype,K.prototype),E(U,K);var C=B("kCallback");function U(R){if(!(this instanceof U))return new U(R);let G=R?J(this,R,"readableHighWaterMark",!0):null;G===0&&(R={...R,highWaterMark:null,readableHighWaterMark:G,writableHighWaterMark:R.writableHighWaterMark||0}),K.call(this,R),this._readableState.sync=!1,this[C]=null,R&&(typeof R.transform=="function"&&(this._transform=R.transform),typeof R.flush=="function"&&(this._flush=R.flush)),this.on("prefinish",H)}function Y(R){typeof this._flush=="function"&&!this.destroyed?this._flush((G,O)=>{if(G){R?R(G):this.destroy(G);return}O!=null&&this.push(O),this.push(null),R&&R()}):(this.push(null),R&&R())}function H(){this._final!==Y&&Y.call(this)}U.prototype._final=Y,U.prototype._transform=function(R,G,O){throw new I("_transform()")},U.prototype._write=function(R,G,O){let F=this._readableState,q=this._writableState,W=F.length;this._transform(R,G,(Z,$)=>{if(Z){O(Z);return}$!=null&&this.push($),q.ended||W===F.length||F.length<F.highWaterMark?O():this[C]=O})},U.prototype._read=function(){if(this[C]){let R=this[C];this[C]=null,R()}}}),NW=m0((A,Q)=>{var{ObjectSetPrototypeOf:E}=dQ();Q.exports=I;var B=qW();E(I.prototype,B.prototype),E(I,B);function I(K){if(!(this instanceof I))return new I(K);B.call(this,K)}I.prototype._transform=function(K,J,C){C(null,K)}}),HH=m0((A,Q)=>{var E=(KI(),II(X8)),{ArrayIsArray:B,Promise:I,SymbolAsyncIterator:K}=dQ(),J=CI(),{once:C}=$8(),U=R6(),Y=W8(),{aggregateTwoErrors:H,codes:{ERR_INVALID_ARG_TYPE:R,ERR_INVALID_RETURN_VALUE:G,ERR_MISSING_ARGS:O,ERR_STREAM_DESTROYED:F,ERR_STREAM_PREMATURE_CLOSE:q},AbortError:W}=k1(),{validateFunction:Z,validateAbortSignal:$}=rC(),{isIterable:X,isReadable:N,isReadableNodeStream:M,isNodeStream:L}=JI(),D=globalThis.AbortController||KH().AbortController,w,P;function V(_,g,b){let p=!1;_.on("close",()=>{p=!0});let m=J(_,{readable:g,writable:b},(o)=>{p=!o});return{destroy:(o)=>{p||(p=!0,U.destroyer(_,o||new F("pipe")))},cleanup:m}}function T(_){return Z(_[_.length-1],"streams[stream.length - 1]"),_.pop()}function S(_){if(X(_))return _;if(M(_))return h(_);throw new R("val",["Readable","Iterable","AsyncIterable"],_)}async function*h(_){P||(P=aC()),yield*P.prototype[K].call(_)}async function x(_,g,b,{end:p}){let m,o=null,AA=(r)=>{if(r&&(m=r),o){let EA=o;o=null,EA()}},s=()=>new I((r,EA)=>{m?EA(m):o=()=>{m?EA(m):r()}});g.on("drain",AA);let t=J(g,{readable:!1},AA);try{g.writableNeedDrain&&await s();for await(let r of _)g.write(r)||await s();p&&g.end(),await s(),b()}catch(r){b(m!==r?H(m,r):r)}finally{t(),g.off("drain",AA)}}function y(..._){return j(_,C(T(_)))}function j(_,g,b){if(_.length===1&&B(_[0])&&(_=_[0]),_.length<2)throw new O("streams");let p=new D,m=p.signal,o=b?.signal,AA=[];$(o,"options.signal");function s(){IA(new W)}o?.addEventListener("abort",s);let t,r,EA=[],JA=0;function YA(n){IA(n,--JA===0)}function IA(n,i){if(n&&(!t||t.code==="ERR_STREAM_PREMATURE_CLOSE")&&(t=n),!(!t&&!i)){for(;EA.length;)EA.shift()(t);o?.removeEventListener("abort",s),p.abort(),i&&(t||AA.forEach((KA)=>KA()),E.nextTick(g,t,r))}}let l;for(let n=0;n<_.length;n++){let i=_[n],KA=n<_.length-1,$A=n>0,FA=KA||b?.end!==!1,e=n===_.length-1;if(L(i)){let c=function(HA){HA&&HA.name!=="AbortError"&&HA.code!=="ERR_STREAM_PREMATURE_CLOSE"&&YA(HA)};var UA=c;if(FA){let{destroy:HA,cleanup:XA}=V(i,KA,$A);EA.push(HA),N(i)&&e&&AA.push(XA)}i.on("error",c),N(i)&&e&&AA.push(()=>{i.removeListener("error",c)})}if(n===0)if(typeof i=="function"){if(l=i({signal:m}),!X(l))throw new G("Iterable, AsyncIterable or Stream","source",l)}else X(i)||M(i)?l=i:l=Y.from(i);else if(typeof i=="function")if(l=S(l),l=i(l,{signal:m}),KA){if(!X(l,!0))throw new G("AsyncIterable",`transform[${n-1}]`,l)}else{var BA;w||(w=NW());let c=new w({objectMode:!0}),HA=(BA=l)===null||BA===void 0?void 0:BA.then;if(typeof HA=="function")JA++,HA.call(l,(GA)=>{r=GA,GA!=null&&c.write(GA),FA&&c.end(),E.nextTick(YA)},(GA)=>{c.destroy(GA),E.nextTick(YA,GA)});else if(X(l,!0))JA++,x(l,c,YA,{end:FA});else throw new G("AsyncIterable or Promise","destination",l);l=c;let{destroy:XA,cleanup:CA}=V(l,!1,!0);EA.push(XA),e&&AA.push(CA)}else if(L(i)){if(M(l)){JA+=2;let c=v(l,i,YA,{end:FA});N(i)&&e&&AA.push(c)}else if(X(l))JA++,x(l,i,YA,{end:FA});else throw new R("val",["Readable","Iterable","AsyncIterable"],l);l=i}else l=Y.from(i)}return(m!=null&&m.aborted||o!=null&&o.aborted)&&E.nextTick(s),l}function v(_,g,b,{end:p}){let m=!1;return g.on("close",()=>{m||b(new q)}),_.pipe(g,{end:p}),p?_.once("end",()=>{m=!0,g.end()}):b(),J(_,{readable:!0,writable:!1},(o)=>{let AA=_._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&AA&&AA.ended&&!AA.errored&&!AA.errorEmitted?_.once("end",b).once("error",b):b(o)}),J(g,{readable:!1,writable:!0},b)}Q.exports={pipelineImpl:j,pipeline:y}}),ZS=m0((A,Q)=>{var{pipeline:E}=HH(),B=W8(),{destroyer:I}=R6(),{isNodeStream:K,isReadable:J,isWritable:C}=JI(),{AbortError:U,codes:{ERR_INVALID_ARG_VALUE:Y,ERR_MISSING_ARGS:H}}=k1();Q.exports=function(...R){if(R.length===0)throw new H("streams");if(R.length===1)return B.from(R[0]);let G=[...R];if(typeof R[0]=="function"&&(R[0]=B.from(R[0])),typeof R[R.length-1]=="function"){let D=R.length-1;R[D]=B.from(R[D])}for(let D=0;D<R.length;++D)if(K(R[D])){if(D<R.length-1&&!J(R[D]))throw new Y(`streams[${D}]`,G[D],"must be readable");if(D>0&&!C(R[D]))throw new Y(`streams[${D}]`,G[D],"must be writable")}let O,F,q,W,Z;function $(D){let w=W;W=null,w?w(D):D?Z.destroy(D):!L&&!M&&Z.destroy()}let X=R[0],N=E(R,$),M=!!C(X),L=!!J(N);return Z=new B({writableObjectMode:!!(X!=null&&X.writableObjectMode),readableObjectMode:!!(N!=null&&N.writableObjectMode),writable:M,readable:L}),M&&(Z._write=function(D,w,P){X.write(D,w)?P():O=P},Z._final=function(D){X.end(),F=D},X.on("drain",function(){if(O){let D=O;O=null,D()}}),N.on("finish",function(){if(F){let D=F;F=null,D()}})),L&&(N.on("readable",function(){if(q){let D=q;q=null,D()}}),N.on("end",function(){Z.push(null)}),Z._read=function(){for(;;){let D=N.read();if(D===null){q=Z._read;return}if(!Z.push(D))return}}),Z._destroy=function(D,w){!D&&W!==null&&(D=new U),q=null,O=null,F=null,W===null?w(D):(W=w,I(N,D))},Z}}),LW=m0((A,Q)=>{var{ArrayPrototypePop:E,Promise:B}=dQ(),{isIterable:I,isNodeStream:K}=JI(),{pipelineImpl:J}=HH(),{finished:C}=CI();function U(...Y){return new B((H,R)=>{let G,O,F=Y[Y.length-1];if(F&&typeof F=="object"&&!K(F)&&!I(F)){let q=E(Y);G=q.signal,O=q.end}J(Y,(q,W)=>{q?R(q):H(W)},{signal:G,end:O})})}Q.exports={finished:C,pipeline:U}}),RS=m0((A,Q)=>{var{Buffer:E}=UB(),{ObjectDefineProperty:B,ObjectKeys:I,ReflectApply:K}=dQ(),{promisify:{custom:J}}=$8(),{streamReturningOperators:C,promiseReturningOperators:U}=CS(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:Y}}=k1(),H=ZS(),{pipeline:R}=HH(),{destroyer:G}=R6(),O=CI(),F=LW(),q=JI(),W=Q.exports=CH().Stream;W.isDisturbed=q.isDisturbed,W.isErrored=q.isErrored,W.isReadable=q.isReadable,W.Readable=aC();for(let X of I(C)){let N=function(...L){if(new.target)throw Y();return W.Readable.from(K(M,this,L))};Z=N;let M=C[X];B(N,"name",{__proto__:null,value:M.name}),B(N,"length",{__proto__:null,value:M.length}),B(W.Readable.prototype,X,{__proto__:null,value:N,enumerable:!1,configurable:!0,writable:!0})}var Z;for(let X of I(U)){let N=function(...L){if(new.target)throw Y();return K(M,this,L)};Z=N;let M=U[X];B(N,"name",{__proto__:null,value:M.name}),B(N,"length",{__proto__:null,value:M.length}),B(W.Readable.prototype,X,{__proto__:null,value:N,enumerable:!1,configurable:!0,writable:!0})}var Z;W.Writable=FW(),W.Duplex=W8(),W.Transform=qW(),W.PassThrough=NW(),W.pipeline=R;var{addAbortSignal:$}=UH();W.addAbortSignal=$,W.finished=O,W.destroy=G,W.compose=H,B(W,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return F}}),B(R,J,{__proto__:null,enumerable:!0,get(){return F.pipeline}}),B(O,J,{__proto__:null,enumerable:!0,get(){return F.finished}}),W.Stream=W,W._isUint8Array=function(X){return X instanceof Uint8Array},W._uint8ArrayToBuffer=function(X){return E.from(X.buffer,X.byteOffset,X.byteLength)}}),DW=m0((A,Q)=>{var E=RS(),B=LW(),I=E.Readable.destroy;Q.exports=E.Readable,Q.exports._uint8ArrayToBuffer=E._uint8ArrayToBuffer,Q.exports._isUint8Array=E._isUint8Array,Q.exports.isDisturbed=E.isDisturbed,Q.exports.isErrored=E.isErrored,Q.exports.isReadable=E.isReadable,Q.exports.Readable=E.Readable,Q.exports.Writable=E.Writable,Q.exports.Duplex=E.Duplex,Q.exports.Transform=E.Transform,Q.exports.PassThrough=E.PassThrough,Q.exports.addAbortSignal=E.addAbortSignal,Q.exports.finished=E.finished,Q.exports.destroy=E.destroy,Q.exports.destroy=I,Q.exports.pipeline=E.pipeline,Q.exports.compose=E.compose,Object.defineProperty(E,"promises",{configurable:!0,enumerable:!0,get(){return B}}),Q.exports.Stream=E.Stream,Q.exports.default=Q.exports}),MW={};OW(MW,{default:()=>wW});$W(MW,iC(DW()));wW=iC(DW());/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 *//*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *//*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */});var F8=hA(($S)=>{$S.base64=!0;$S.array=!0;$S.string=!0;$S.arraybuffer=typeof ArrayBuffer!=="undefined"&&typeof Uint8Array!=="undefined";$S.nodebuffer=typeof Buffer!=="undefined";$S.uint8array=typeof Uint8Array!=="undefined";if(typeof ArrayBuffer==="undefined")$S.blob=!1;else{OH=new ArrayBuffer(0);try{$S.blob=new Blob([OH],{type:"application/zip"}).size===0}catch(A){try{zW=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,$H=new zW,$H.append(OH),$S.blob=$H.getBlob("application/zip").size===0}catch(Q){$S.blob=!1}}}var OH,zW,$H;try{$S.nodestream=!!(ZH(),ZW(GH)).Readable}catch(A){$S.nodestream=!1}});var WH=hA((wS)=>{var DS=VQ(),MS=F8(),rE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";wS.encode=function(A){var Q=[],E,B,I,K,J,C,U,Y=0,H=A.length,R=H,G=DS.getTypeOf(A)!=="string";while(Y<A.length){if(R=H-Y,!G)E=A.charCodeAt(Y++),B=Y<H?A.charCodeAt(Y++):0,I=Y<H?A.charCodeAt(Y++):0;else E=A[Y++],B=Y<H?A[Y++]:0,I=Y<H?A[Y++]:0;K=E>>2,J=(E&3)<<4|B>>4,C=R>1?(B&15)<<2|I>>6:64,U=R>2?I&63:64,Q.push(rE.charAt(K)+rE.charAt(J)+rE.charAt(C)+rE.charAt(U))}return Q.join("")};wS.decode=function(A){var Q,E,B,I,K,J,C,U=0,Y=0,H="data:";if(A.substr(0,H.length)===H)throw new Error("Invalid base64 input, it looks like a data url.");A=A.replace(/[^A-Za-z0-9+/=]/g,"");var R=A.length*3/4;if(A.charAt(A.length-1)===rE.charAt(64))R--;if(A.charAt(A.length-2)===rE.charAt(64))R--;if(R%1!==0)throw new Error("Invalid base64 input, bad content length.");var G;if(MS.uint8array)G=new Uint8Array(R|0);else G=new Array(R|0);while(U<A.length){if(I=rE.indexOf(A.charAt(U++)),K=rE.indexOf(A.charAt(U++)),J=rE.indexOf(A.charAt(U++)),C=rE.indexOf(A.charAt(U++)),Q=I<<2|K>>4,E=(K&15)<<4|J>>2,B=(J&3)<<6|C,G[Y++]=Q,J!==64)G[Y++]=E;if(C!==64)G[Y++]=B}return G}});var GJ=hA((ue,VW)=>{VW.exports={isNode:typeof Buffer!=="undefined",newBufferFrom:function(A,Q){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(A,Q);else{if(typeof A==="number")throw new Error("The \"data\" argument must not be a number");return new Buffer(A,Q)}},allocBuffer:function(A){if(Buffer.alloc)return Buffer.alloc(A);else{var Q=new Buffer(A);return Q.fill(0),Q}},isBuffer:function(A){return Buffer.isBuffer(A)},isStream:function(A){return A&&typeof A.on==="function"&&typeof A.pause==="function"&&typeof A.resume==="function"}}});var _W=hA((pe,PW)=>{function tC(){NH=!0;var A,Q,E=RJ.length;while(E){Q=RJ,RJ=[],A=-1;while(++A<E)Q[A]();E=RJ.length}NH=!1}function TS(A){if(RJ.push(A)===1&&!NH)ZJ()}var TW=global.MutationObserver||global.WebKitMutationObserver,ZJ;if(TW)XH=0,SW=new TW(tC),FH=global.document.createTextNode(""),SW.observe(FH,{characterData:!0}),ZJ=function(){FH.data=XH=++XH%2};else if(!global.setImmediate&&typeof global.MessageChannel!=="undefined")qH=new global.MessageChannel,qH.port1.onmessage=tC,ZJ=function(){qH.port2.postMessage(0)};else if("document"in global&&"onreadystatechange"in global.document.createElement("script"))ZJ=function(){var A=global.document.createElement("script");A.onreadystatechange=function(){tC(),A.onreadystatechange=null,A.parentNode.removeChild(A),A=null},global.document.documentElement.appendChild(A)};else ZJ=function(){setTimeout(tC,0)};var XH,SW,FH,qH,NH,RJ=[];PW.exports=TS});var xW=hA((me,yW)=>{function O6(){}function YB(A){if(typeof A!=="function")throw new TypeError("resolver must be a function");if(this.state=jW,this.queue=[],this.outcome=void 0,A!==O6)hW(this,A)}function OJ(A,Q,E){if(this.promise=A,typeof Q==="function")this.onFulfilled=Q,this.callFulfilled=this.otherCallFulfilled;if(typeof E==="function")this.onRejected=E,this.callRejected=this.otherCallRejected}function DH(A,Q,E){SS(function(){var B;try{B=Q(E)}catch(I){return Z1.reject(A,I)}if(B===A)Z1.reject(A,new TypeError("Cannot resolve promise with itself"));else Z1.resolve(A,B)})}function PS(A){var Q=A&&A.then;if(A&&(typeof A==="object"||typeof A==="function")&&typeof Q==="function")return function E(){Q.apply(A,arguments)}}function hW(A,Q){var E=!1;function B(C){if(E)return;E=!0,Z1.reject(A,C)}function I(C){if(E)return;E=!0,Z1.resolve(A,C)}function K(){Q(I,B)}var J=vW(K);if(J.status==="error")B(J.value)}function vW(A,Q){var E={};try{E.value=A(Q),E.status="success"}catch(B){E.status="error",E.value=B}return E}function _S(A){if(A instanceof this)return A;return Z1.resolve(new this(O6),A)}function kS(A){var Q=new this(O6);return Z1.reject(Q,A)}function jS(A){var Q=this;if(Object.prototype.toString.call(A)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=A.length,B=!1;if(!E)return this.resolve([]);var I=new Array(E),K=0,J=-1,C=new this(O6);while(++J<E)U(A[J],J);return C;function U(Y,H){Q.resolve(Y).then(R,function(G){if(!B)B=!0,Z1.reject(C,G)});function R(G){if(I[H]=G,++K===E&&!B)B=!0,Z1.resolve(C,I)}}}function hS(A){var Q=this;if(Object.prototype.toString.call(A)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=A.length,B=!1;if(!E)return this.resolve([]);var I=-1,K=new this(O6);while(++I<E)J(A[I]);return K;function J(C){Q.resolve(C).then(function(U){if(!B)B=!0,Z1.resolve(K,U)},function(U){if(!B)B=!0,Z1.reject(K,U)})}}var SS=_W(),Z1={},kW=["REJECTED"],LH=["FULFILLED"],jW=["PENDING"];yW.exports=YB;YB.prototype.finally=function(A){if(typeof A!=="function")return this;var Q=this.constructor;return this.then(E,B);function E(I){function K(){return I}return Q.resolve(A()).then(K)}function B(I){function K(){throw I}return Q.resolve(A()).then(K)}};YB.prototype.catch=function(A){return this.then(null,A)};YB.prototype.then=function(A,Q){if(typeof A!=="function"&&this.state===LH||typeof Q!=="function"&&this.state===kW)return this;var E=new this.constructor(O6);if(this.state!==jW){var B=this.state===LH?A:Q;DH(E,B,this.outcome)}else this.queue.push(new OJ(E,A,Q));return E};OJ.prototype.callFulfilled=function(A){Z1.resolve(this.promise,A)};OJ.prototype.otherCallFulfilled=function(A){DH(this.promise,this.onFulfilled,A)};OJ.prototype.callRejected=function(A){Z1.reject(this.promise,A)};OJ.prototype.otherCallRejected=function(A){DH(this.promise,this.onRejected,A)};Z1.resolve=function(A,Q){var E=vW(PS,Q);if(E.status==="error")return Z1.reject(A,E.value);var B=E.value;if(B)hW(A,B);else{A.state=LH,A.outcome=Q;var I=-1,K=A.queue.length;while(++I<K)A.queue[I].callFulfilled(Q)}return A};Z1.reject=function(A,Q){A.state=kW,A.outcome=Q;var E=-1,B=A.queue.length;while(++E<B)A.queue[E].callRejected(Q);return A};YB.resolve=_S;YB.reject=kS;YB.all=jS;YB.race=hS});var $6=hA((ce,gW)=>{var MH=null;if(typeof Promise!=="undefined")MH=Promise;else MH=xW();gW.exports={Promise:MH}});var fW=hA((bW)=>{(function(A,Q){if(A.setImmediate)return;var E=1,B={},I=!1,K=A.document,J;function C($){if(typeof $!=="function")$=new Function(""+$);var X=new Array(arguments.length-1);for(var N=0;N<X.length;N++)X[N]=arguments[N+1];var M={callback:$,args:X};return B[E]=M,J(E),E++}function U($){delete B[$]}function Y($){var{callback:X,args:N}=$;switch(N.length){case 0:X();break;case 1:X(N[0]);break;case 2:X(N[0],N[1]);break;case 3:X(N[0],N[1],N[2]);break;default:X.apply(Q,N);break}}function H($){if(I)setTimeout(H,0,$);else{var X=B[$];if(X){I=!0;try{Y(X)}finally{U($),I=!1}}}}function R(){J=function($){process.nextTick(function(){H($)})}}function G(){if(A.postMessage&&!A.importScripts){var $=!0,X=A.onmessage;return A.onmessage=function(){$=!1},A.postMessage("","*"),A.onmessage=X,$}}function O(){var $="setImmediate$"+Math.random()+"$",X=function(N){if(N.source===A&&typeof N.data==="string"&&N.data.indexOf($)===0)H(+N.data.slice($.length))};if(A.addEventListener)A.addEventListener("message",X,!1);else A.attachEvent("onmessage",X);J=function(N){A.postMessage($+N,"*")}}function F(){var $=new MessageChannel;$.port1.onmessage=function(X){var N=X.data;H(N)},J=function(X){$.port2.postMessage(X)}}function q(){var $=K.documentElement;J=function(X){var N=K.createElement("script");N.onreadystatechange=function(){H(X),N.onreadystatechange=null,$.removeChild(N),N=null},$.appendChild(N)}}function W(){J=function($){setTimeout(H,0,$)}}var Z=Object.getPrototypeOf&&Object.getPrototypeOf(A);if(Z=Z&&Z.setTimeout?Z:A,{}.toString.call(A.process)==="[object process]")R();else if(G())O();else if(A.MessageChannel)F();else if(K&&"onreadystatechange"in K.createElement("script"))q();else W();Z.setImmediate=C,Z.clearImmediate=U})(typeof self==="undefined"?typeof global==="undefined"?bW:global:self)});var VQ=hA((xS)=>{function yS(A){var Q=null;if(HB.uint8array)Q=new Uint8Array(A.length);else Q=new Array(A.length);return AU(A,Q)}function $J(A){return A}function AU(A,Q){for(var E=0;E<A.length;++E)Q[E]=A.charCodeAt(E)&255;return Q}function WJ(A){var Q=65536,E=xS.getTypeOf(A),B=!0;if(E==="uint8array")B=eC.applyCanBeUsed.uint8array;else if(E==="nodebuffer")B=eC.applyCanBeUsed.nodebuffer;if(B)while(Q>1)try{return eC.stringifyByChunk(A,E,Q)}catch(I){Q=Math.floor(Q/2)}return eC.stringifyByChar(A)}function QU(A,Q){for(var E=0;E<A.length;E++)Q[E]=A[E];return Q}var HB=F8(),vS=WH(),W6=GJ(),wH=$6();fW();xS.newBlob=function(A,Q){xS.checkSupport("blob");try{return new Blob([A],{type:Q})}catch(I){try{var E=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,B=new E;return B.append(A),B.getBlob(Q)}catch(K){throw new Error("Bug : can't construct the Blob.")}}};var eC={stringifyByChunk:function(A,Q,E){var B=[],I=0,K=A.length;if(K<=E)return String.fromCharCode.apply(null,A);while(I<K){if(Q==="array"||Q==="nodebuffer")B.push(String.fromCharCode.apply(null,A.slice(I,Math.min(I+E,K))));else B.push(String.fromCharCode.apply(null,A.subarray(I,Math.min(I+E,K))));I+=E}return B.join("")},stringifyByChar:function(A){var Q="";for(var E=0;E<A.length;E++)Q+=String.fromCharCode(A[E]);return Q},applyCanBeUsed:{uint8array:function(){try{return HB.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(A){return!1}}(),nodebuffer:function(){try{return HB.nodebuffer&&String.fromCharCode.apply(null,W6.allocBuffer(1)).length===1}catch(A){return!1}}()}};xS.applyFromCharCode=WJ;var GB={};GB.string={string:$J,array:function(A){return AU(A,new Array(A.length))},arraybuffer:function(A){return GB.string.uint8array(A).buffer},uint8array:function(A){return AU(A,new Uint8Array(A.length))},nodebuffer:function(A){return AU(A,W6.allocBuffer(A.length))}};GB.array={string:WJ,array:$J,arraybuffer:function(A){return new Uint8Array(A).buffer},uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return W6.newBufferFrom(A)}};GB.arraybuffer={string:function(A){return WJ(new Uint8Array(A))},array:function(A){return QU(new Uint8Array(A),new Array(A.byteLength))},arraybuffer:$J,uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return W6.newBufferFrom(new Uint8Array(A))}};GB.uint8array={string:WJ,array:function(A){return QU(A,new Array(A.length))},arraybuffer:function(A){return A.buffer},uint8array:$J,nodebuffer:function(A){return W6.newBufferFrom(A)}};GB.nodebuffer={string:WJ,array:function(A){return QU(A,new Array(A.length))},arraybuffer:function(A){return GB.nodebuffer.uint8array(A).buffer},uint8array:function(A){return QU(A,new Uint8Array(A.length))},nodebuffer:$J};xS.transformTo=function(A,Q){if(!Q)Q="";if(!A)return Q;xS.checkSupport(A);var E=xS.getTypeOf(Q),B=GB[E][A](Q);return B};xS.resolve=function(A){var Q=A.split("/"),E=[];for(var B=0;B<Q.length;B++){var I=Q[B];if(I==="."||I===""&&B!==0&&B!==Q.length-1)continue;else if(I==="..")E.pop();else E.push(I)}return E.join("/")};xS.getTypeOf=function(A){if(typeof A==="string")return"string";if(Object.prototype.toString.call(A)==="[object Array]")return"array";if(HB.nodebuffer&&W6.isBuffer(A))return"nodebuffer";if(HB.uint8array&&A instanceof Uint8Array)return"uint8array";if(HB.arraybuffer&&A instanceof ArrayBuffer)return"arraybuffer"};xS.checkSupport=function(A){var Q=HB[A.toLowerCase()];if(!Q)throw new Error(A+" is not supported by this platform")};xS.MAX_VALUE_16BITS=65535;xS.MAX_VALUE_32BITS=-1;xS.pretty=function(A){var Q="",E,B;for(B=0;B<(A||"").length;B++)E=A.charCodeAt(B),Q+="\\x"+(E<16?"0":"")+E.toString(16).toUpperCase();return Q};xS.delay=function(A,Q,E){setImmediate(function(){A.apply(E||null,Q||[])})};xS.inherits=function(A,Q){var E=function(){};E.prototype=Q.prototype,A.prototype=new E};xS.extend=function(){var A={},Q,E;for(Q=0;Q<arguments.length;Q++)for(E in arguments[Q])if(Object.prototype.hasOwnProperty.call(arguments[Q],E)&&typeof A[E]==="undefined")A[E]=arguments[Q][E];return A};xS.prepareContent=function(A,Q,E,B,I){var K=wH.Promise.resolve(Q).then(function(J){var C=HB.blob&&(J instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(J))!==-1);if(C&&typeof FileReader!=="undefined")return new wH.Promise(function(U,Y){var H=new FileReader;H.onload=function(R){U(R.target.result)},H.onerror=function(R){Y(R.target.error)},H.readAsArrayBuffer(J)});else return J});return K.then(function(J){var C=xS.getTypeOf(J);if(!C)return wH.Promise.reject(new Error("Can't read the data of '"+A+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"));if(C==="arraybuffer")J=xS.transformTo("uint8array",J);else if(C==="string"){if(I)J=vS.decode(J);else if(E){if(B!==!0)J=yS(J)}}return J})}});var p1=hA((ne,cW)=>{function mW(A){this.name=A||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}mW.prototype={push:function(A){this.emit("data",A)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(A){this.emit("error",A)}return!0},error:function(A){if(this.isFinished)return!1;if(this.isPaused)this.generatedError=A;else{if(this.isFinished=!0,this.emit("error",A),this.previous)this.previous.error(A);this.cleanUp()}return!0},on:function(A,Q){return this._listeners[A].push(Q),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(A,Q){if(this._listeners[A])for(var E=0;E<this._listeners[A].length;E++)this._listeners[A][E].call(this,Q)},pipe:function(A){return A.registerPrevious(this)},registerPrevious:function(A){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=A.streamInfo,this.mergeStreamInfo(),this.previous=A;var Q=this;return A.on("data",function(E){Q.processChunk(E)}),A.on("end",function(){Q.end()}),A.on("error",function(E){Q.error(E)}),this},pause:function(){if(this.isPaused||this.isFinished)return!1;if(this.isPaused=!0,this.previous)this.previous.pause();return!0},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var A=!1;if(this.generatedError)this.error(this.generatedError),A=!0;if(this.previous)this.previous.resume();return!A},flush:function(){},processChunk:function(A){this.push(A)},withStreamInfo:function(A,Q){return this.extraStreamInfo[A]=Q,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var A in this.extraStreamInfo){if(!Object.prototype.hasOwnProperty.call(this.extraStreamInfo,A))continue;this.streamInfo[A]=this.extraStreamInfo[A]}},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");if(this.isLocked=!0,this.previous)this.previous.lock()},toString:function(){var A="Worker "+this.name;if(this.previous)return this.previous+" -> "+A;else return A}};cW.exports=mW});var F6=hA((aS)=>{function BU(){EU.call(this,"utf-8 decode"),this.leftOver=null}function VH(){EU.call(this,"utf-8 encode")}var X6=VQ(),UI=F8(),oS=GJ(),EU=p1(),XJ=new Array(256);for(q8=0;q8<256;q8++)XJ[q8]=q8>=252?6:q8>=248?5:q8>=240?4:q8>=224?3:q8>=192?2:1;var q8;XJ[254]=XJ[254]=1;var iS=function(A){var Q,E,B,I,K,J=A.length,C=0;for(I=0;I<J;I++){if(E=A.charCodeAt(I),(E&64512)===55296&&I+1<J){if(B=A.charCodeAt(I+1),(B&64512)===56320)E=65536+(E-55296<<10)+(B-56320),I++}C+=E<128?1:E<2048?2:E<65536?3:4}if(UI.uint8array)Q=new Uint8Array(C);else Q=new Array(C);for(K=0,I=0;K<C;I++){if(E=A.charCodeAt(I),(E&64512)===55296&&I+1<J){if(B=A.charCodeAt(I+1),(B&64512)===56320)E=65536+(E-55296<<10)+(B-56320),I++}if(E<128)Q[K++]=E;else if(E<2048)Q[K++]=192|E>>>6,Q[K++]=128|E&63;else if(E<65536)Q[K++]=224|E>>>12,Q[K++]=128|E>>>6&63,Q[K++]=128|E&63;else Q[K++]=240|E>>>18,Q[K++]=128|E>>>12&63,Q[K++]=128|E>>>6&63,Q[K++]=128|E&63}return Q},sS=function(A,Q){var E;if(Q=Q||A.length,Q>A.length)Q=A.length;E=Q-1;while(E>=0&&(A[E]&192)===128)E--;if(E<0)return Q;if(E===0)return Q;return E+XJ[A[E]]>Q?E:Q},rS=function(A){var Q,E,B,I,K=A.length,J=new Array(K*2);for(E=0,Q=0;Q<K;){if(B=A[Q++],B<128){J[E++]=B;continue}if(I=XJ[B],I>4){J[E++]=65533,Q+=I-1;continue}B&=I===2?31:I===3?15:7;while(I>1&&Q<K)B=B<<6|A[Q++]&63,I--;if(I>1){J[E++]=65533;continue}if(B<65536)J[E++]=B;else B-=65536,J[E++]=55296|B>>10&1023,J[E++]=56320|B&1023}if(J.length!==E)if(J.subarray)J=J.subarray(0,E);else J.length=E;return X6.applyFromCharCode(J)};aS.utf8encode=function A(Q){if(UI.nodebuffer)return oS.newBufferFrom(Q,"utf-8");return iS(Q)};aS.utf8decode=function A(Q){if(UI.nodebuffer)return X6.transformTo("nodebuffer",Q).toString("utf-8");return Q=X6.transformTo(UI.uint8array?"uint8array":"array",Q),rS(Q)};X6.inherits(BU,EU);BU.prototype.processChunk=function(A){var Q=X6.transformTo(UI.uint8array?"uint8array":"array",A.data);if(this.leftOver&&this.leftOver.length){if(UI.uint8array){var E=Q;Q=new Uint8Array(E.length+this.leftOver.length),Q.set(this.leftOver,0),Q.set(E,this.leftOver.length)}else Q=this.leftOver.concat(Q);this.leftOver=null}var B=sS(Q),I=Q;if(B!==Q.length)if(UI.uint8array)I=Q.subarray(0,B),this.leftOver=Q.subarray(B,Q.length);else I=Q.slice(0,B),this.leftOver=Q.slice(B,Q.length);this.push({data:aS.utf8decode(I),meta:A.meta})};BU.prototype.flush=function(){if(this.leftOver&&this.leftOver.length)this.push({data:aS.utf8decode(this.leftOver),meta:{}}),this.leftOver=null};aS.Utf8DecodeWorker=BU;X6.inherits(VH,EU);VH.prototype.processChunk=function(A){this.push({data:aS.utf8encode(A.data),meta:A.meta})};aS.Utf8EncodeWorker=VH});var iW=hA((ie,oW)=>{function SH(A){lW.call(this,"ConvertWorker to "+A),this.destType=A}var lW=p1(),nW=VQ();nW.inherits(SH,lW);SH.prototype.processChunk=function(A){this.push({data:nW.transformTo(this.destType,A.data),meta:A.meta})};oW.exports=SH});var aW=hA((se,rW)=>{function PH(A,Q,E){sW.call(this,Q),this._helper=A;var B=this;A.on("data",function(I,K){if(!B.push(I))B._helper.pause();if(E)E(K)}).on("error",function(I){B.emit("error",I)}).on("end",function(){B.push(null)})}var sW=(ZH(),ZW(GH)).Readable,AP=VQ();AP.inherits(PH,sW);PH.prototype._read=function(){this._helper.resume()};rW.exports=PH});var _H=hA((re,AX)=>{function JP(A,Q,E){switch(A){case"blob":return YI.newBlob(YI.transformTo("arraybuffer",Q),E);case"base64":return BP.encode(Q);default:return YI.transformTo(A,Q)}}function CP(A,Q){var E,B=0,I=null,K=0;for(E=0;E<Q.length;E++)K+=Q[E].length;switch(A){case"string":return Q.join("");case"array":return Array.prototype.concat.apply([],Q);case"uint8array":I=new Uint8Array(K);for(E=0;E<Q.length;E++)I.set(Q[E],B),B+=Q[E].length;return I;case"nodebuffer":return Buffer.concat(Q);default:throw new Error("concat : unsupported type '"+A+"'")}}function UP(A,Q){return new KP.Promise(function(E,B){var I=[],K=A._internalType,J=A._outputType,C=A._mimeType;A.on("data",function(U,Y){if(I.push(U),Q)Q(Y)}).on("error",function(U){I=[],B(U)}).on("end",function(){try{var U=JP(J,CP(K,I),C);E(U)}catch(Y){B(Y)}I=[]}).resume()})}function eW(A,Q,E){var B=Q;switch(Q){case"blob":case"arraybuffer":B="uint8array";break;case"base64":B="string";break}try{this._internalType=B,this._outputType=Q,this._mimeType=E,YI.checkSupport(B),this._worker=A.pipe(new QP(B)),A.lock()}catch(I){this._worker=new EP("error"),this._worker.error(I)}}var YI=VQ(),QP=iW(),EP=p1(),BP=WH(),IP=F8(),KP=$6(),tW=null;if(IP.nodestream)try{tW=aW()}catch(A){}eW.prototype={accumulate:function(A){return UP(this,A)},on:function(A,Q){var E=this;if(A==="data")this._worker.on(A,function(B){Q.call(E,B.data,B.meta)});else this._worker.on(A,function(){YI.delay(Q,arguments,E)});return this},resume:function(){return YI.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(A){if(YI.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new tW(this,{objectMode:this._outputType!=="nodebuffer"},A)}};AX.exports=eW});var kH=hA((YP)=>{YP.base64=!1;YP.binary=!1;YP.dir=!1;YP.createFolders=!0;YP.date=null;YP.compression=null;YP.compressionOptions=null;YP.comment=null;YP.unixPermissions=null;YP.dosPermissions=null});var jH=hA((te,QX)=>{function q6(A){KU.call(this,"DataWorker");var Q=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,A.then(function(E){if(Q.dataIsReady=!0,Q.data=E,Q.max=E&&E.length||0,Q.type=IU.getTypeOf(E),!Q.isPaused)Q._tickAndRepeat()},function(E){Q.error(E)})}var IU=VQ(),KU=p1(),NP=16384;IU.inherits(q6,KU);q6.prototype.cleanUp=function(){KU.prototype.cleanUp.call(this),this.data=null};q6.prototype.resume=function(){if(!KU.prototype.resume.call(this))return!1;if(!this._tickScheduled&&this.dataIsReady)this._tickScheduled=!0,IU.delay(this._tickAndRepeat,[],this);return!0};q6.prototype._tickAndRepeat=function(){if(this._tickScheduled=!1,this.isPaused||this.isFinished)return;if(this._tick(),!this.isFinished)IU.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0};q6.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var A=NP,Q=null,E=Math.min(this.max,this.index+A);if(this.index>=this.max)return this.end();else{switch(this.type){case"string":Q=this.data.substring(this.index,E);break;case"uint8array":Q=this.data.subarray(this.index,E);break;case"array":case"nodebuffer":Q=this.data.slice(this.index,E);break}return this.index=E,this.push({data:Q,meta:{percent:this.max?this.index/this.max*100:0}})}};QX.exports=q6});var JU=hA((ee,BX)=>{function DP(){var A,Q=[];for(var E=0;E<256;E++){A=E;for(var B=0;B<8;B++)A=A&1?3988292384^A>>>1:A>>>1;Q[E]=A}return Q}function MP(A,Q,E,B){var I=EX,K=B+E;A=A^-1;for(var J=B;J<K;J++)A=A>>>8^I[(A^Q[J])&255];return A^-1}function wP(A,Q,E,B){var I=EX,K=B+E;A=A^-1;for(var J=B;J<K;J++)A=A>>>8^I[(A^Q.charCodeAt(J))&255];return A^-1}var LP=VQ(),EX=DP();BX.exports=function A(Q,E){if(typeof Q==="undefined"||!Q.length)return 0;var B=LP.getTypeOf(Q)!=="string";if(B)return MP(E|0,Q,Q.length,0);else return wP(E|0,Q,Q.length,0)}});var vH=hA((AAA,KX)=>{function hH(){IX.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}var IX=p1(),zP=JU(),VP=VQ();VP.inherits(hH,IX);hH.prototype.processChunk=function(A){this.streamInfo.crc32=zP(A.data,this.streamInfo.crc32||0),this.push(A)};KX.exports=hH});var CX=hA((QAA,JX)=>{function xH(A){yH.call(this,"DataLengthProbe for "+A),this.propName=A,this.withStreamInfo(A,0)}var TP=VQ(),yH=p1();TP.inherits(xH,yH);xH.prototype.processChunk=function(A){if(A){var Q=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=Q+A.data.length}yH.prototype.processChunk.call(this,A)};JX.exports=xH});var CU=hA((EAA,HX)=>{function bH(A,Q,E,B,I){this.compressedSize=A,this.uncompressedSize=Q,this.crc32=E,this.compression=B,this.compressedContent=I}var UX=$6(),YX=jH(),SP=vH(),gH=CX();bH.prototype={getContentWorker:function(){var A=new YX(UX.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new gH("data_length")),Q=this;return A.on("end",function(){if(this.streamInfo.data_length!==Q.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),A},getCompressedWorker:function(){return new YX(UX.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}};bH.createWorkerFrom=function(A,Q,E){return A.pipe(new SP).pipe(new gH("uncompressedSize")).pipe(Q.compressWorker(E)).pipe(new gH("compressedSize")).withStreamInfo("compression",Q)};HX.exports=bH});var OX=hA((BAA,RX)=>{var PP=_H(),_P=jH(),fH=F6(),uH=CU(),GX=p1(),pH=function(A,Q,E){this.name=A,this.dir=E.dir,this.date=E.date,this.comment=E.comment,this.unixPermissions=E.unixPermissions,this.dosPermissions=E.dosPermissions,this._data=Q,this._dataBinary=E.binary,this.options={compression:E.compression,compressionOptions:E.compressionOptions}};pH.prototype={internalStream:function(A){var Q=null,E="string";try{if(!A)throw new Error("No output type specified.");E=A.toLowerCase();var B=E==="string"||E==="text";if(E==="binarystring"||E==="text")E="string";Q=this._decompressWorker();var I=!this._dataBinary;if(I&&!B)Q=Q.pipe(new fH.Utf8EncodeWorker);if(!I&&B)Q=Q.pipe(new fH.Utf8DecodeWorker)}catch(K){Q=new GX("error"),Q.error(K)}return new PP(Q,E,"")},async:function(A,Q){return this.internalStream(A).accumulate(Q)},nodeStream:function(A,Q){return this.internalStream(A||"nodebuffer").toNodejsStream(Q)},_compressWorker:function(A,Q){if(this._data instanceof uH&&this._data.compression.magic===A.magic)return this._data.getCompressedWorker();else{var E=this._decompressWorker();if(!this._dataBinary)E=E.pipe(new fH.Utf8EncodeWorker);return uH.createWorkerFrom(E,A,Q)}},_decompressWorker:function(){if(this._data instanceof uH)return this._data.getContentWorker();else if(this._data instanceof GX)return this._data;else return new _P(this._data)}};var ZX=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],kP=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")};for(UU=0;UU<ZX.length;UU++)pH.prototype[ZX[UU]]=kP;var UU;RX.exports=pH});var N8=hA((mH)=>{function xP(A,Q){return Object.prototype.hasOwnProperty.call(A,Q)}var yP=typeof Uint8Array!=="undefined"&&typeof Uint16Array!=="undefined"&&typeof Int32Array!=="undefined";mH.assign=function(A){var Q=Array.prototype.slice.call(arguments,1);while(Q.length){var E=Q.shift();if(!E)continue;if(typeof E!=="object")throw new TypeError(E+"must be non-object");for(var B in E)if(xP(E,B))A[B]=E[B]}return A};mH.shrinkBuf=function(A,Q){if(A.length===Q)return A;if(A.subarray)return A.subarray(0,Q);return A.length=Q,A};var gP={arraySet:function(A,Q,E,B,I){if(Q.subarray&&A.subarray){A.set(Q.subarray(E,E+B),I);return}for(var K=0;K<B;K++)A[I+K]=Q[E+K]},flattenChunks:function(A){var Q,E,B,I,K,J;B=0;for(Q=0,E=A.length;Q<E;Q++)B+=A[Q].length;J=new Uint8Array(B),I=0;for(Q=0,E=A.length;Q<E;Q++)K=A[Q],J.set(K,I),I+=K.length;return J}},bP={arraySet:function(A,Q,E,B,I){for(var K=0;K<B;K++)A[I+K]=Q[E+K]},flattenChunks:function(A){return[].concat.apply([],A)}};mH.setTyped=function(A){if(A)mH.Buf8=Uint8Array,mH.Buf16=Uint16Array,mH.Buf32=Int32Array,mH.assign(mH,gP);else mH.Buf8=Array,mH.Buf16=Array,mH.Buf32=Array,mH.assign(mH,bP)};mH.setTyped(yP)});var bX=hA((C_)=>{function L6(A){var Q=A.length;while(--Q>=0)A[Q]=0}function lH(A,Q,E,B,I){this.static_tree=A,this.extra_bits=Q,this.extra_base=E,this.elems=B,this.max_length=I,this.has_stree=A&&A.length}function nH(A,Q){this.dyn_tree=A,this.max_code=0,this.stat_desc=Q}function jX(A){return A<256?NJ[A]:NJ[256+(A>>>7)]}function DJ(A,Q){A.pending_buf[A.pending++]=Q&255,A.pending_buf[A.pending++]=Q>>>8&255}function j1(A,Q,E){if(A.bi_valid>dH-E)A.bi_buf|=Q<<A.bi_valid&65535,DJ(A,A.bi_buf),A.bi_buf=Q>>dH-A.bi_valid,A.bi_valid+=E-dH;else A.bi_buf|=Q<<A.bi_valid&65535,A.bi_valid+=E}function aE(A,Q,E){j1(A,E[Q*2],E[Q*2+1])}function hX(A,Q){var E=0;do E|=A&1,A>>>=1,E<<=1;while(--Q>0);return E>>>1}function rP(A){if(A.bi_valid===16)DJ(A,A.bi_buf),A.bi_buf=0,A.bi_valid=0;else if(A.bi_valid>=8)A.pending_buf[A.pending++]=A.bi_buf&255,A.bi_buf>>=8,A.bi_valid-=8}function aP(A,Q){var{dyn_tree:E,max_code:B}=Q,I=Q.stat_desc.static_tree,K=Q.stat_desc.has_stree,J=Q.stat_desc.extra_bits,C=Q.stat_desc.extra_base,U=Q.stat_desc.max_length,Y,H,R,G,O,F,q=0;for(G=0;G<=HI;G++)A.bl_count[G]=0;E[A.heap[A.heap_max]*2+1]=0;for(Y=A.heap_max+1;Y<wX;Y++){if(H=A.heap[Y],G=E[E[H*2+1]*2+1]+1,G>U)G=U,q++;if(E[H*2+1]=G,H>B)continue;if(A.bl_count[G]++,O=0,H>=C)O=J[H-C];if(F=E[H*2],A.opt_len+=F*(G+O),K)A.static_len+=F*(I[H*2+1]+O)}if(q===0)return;do{G=U-1;while(A.bl_count[G]===0)G--;A.bl_count[G]--,A.bl_count[G+1]+=2,A.bl_count[U]--,q-=2}while(q>0);for(G=U;G!==0;G--){H=A.bl_count[G];while(H!==0){if(R=A.heap[--Y],R>B)continue;if(E[R*2+1]!==G)A.opt_len+=(G-E[R*2+1])*E[R*2],E[R*2+1]=G;H--}}}function vX(A,Q,E){var B=new Array(HI+1),I=0,K,J;for(K=1;K<=HI;K++)B[K]=I=I+E[K-1]<<1;for(J=0;J<=Q;J++){var C=A[J*2+1];if(C===0)continue;A[J*2]=hX(B[C]++,C)}}function tP(){var A,Q,E,B,I,K=new Array(HI+1);E=0;for(B=0;B<rH-1;B++){eH[B]=E;for(A=0;A<1<<iH[B];A++)LJ[E++]=B}LJ[E-1]=B,I=0;for(B=0;B<16;B++){HU[B]=I;for(A=0;A<1<<YU[B];A++)NJ[I++]=B}I>>=7;for(;B<N6;B++){HU[B]=I<<7;for(A=0;A<1<<YU[B]-7;A++)NJ[256+I++]=B}for(Q=0;Q<=HI;Q++)K[Q]=0;A=0;while(A<=143)L8[A*2+1]=8,A++,K[8]++;while(A<=255)L8[A*2+1]=9,A++,K[9]++;while(A<=279)L8[A*2+1]=7,A++,K[7]++;while(A<=287)L8[A*2+1]=8,A++,K[8]++;vX(L8,qJ+1,K);for(A=0;A<N6;A++)FJ[A*2+1]=5,FJ[A*2]=hX(A,5);PX=new lH(L8,iH,MJ+1,qJ,HI),_X=new lH(FJ,YU,0,N6,HI),kX=new lH(new Array(0),iP,0,aH,oP)}function yX(A){var Q;for(Q=0;Q<qJ;Q++)A.dyn_ltree[Q*2]=0;for(Q=0;Q<N6;Q++)A.dyn_dtree[Q*2]=0;for(Q=0;Q<aH;Q++)A.bl_tree[Q*2]=0;A.dyn_ltree[tH*2]=1,A.opt_len=A.static_len=0,A.last_lit=A.matches=0}function xX(A){if(A.bi_valid>8)DJ(A,A.bi_buf);else if(A.bi_valid>0)A.pending_buf[A.pending++]=A.bi_buf;A.bi_buf=0,A.bi_valid=0}function eP(A,Q,E,B){if(xX(A),B)DJ(A,E),DJ(A,~E);uP.arraySet(A.pending_buf,A.window,Q,E,A.pending),A.pending+=E}function FX(A,Q,E,B){var I=Q*2,K=E*2;return A[I]<A[K]||A[I]===A[K]&&B[Q]<=B[E]}function oH(A,Q,E){var B=A.heap[E],I=E<<1;while(I<=A.heap_len){if(I<A.heap_len&&FX(Q,A.heap[I+1],A.heap[I],A.depth))I++;if(FX(Q,B,A.heap[I],A.depth))break;A.heap[E]=A.heap[I],E=I,I<<=1}A.heap[E]=B}function qX(A,Q,E){var B,I,K=0,J,C;if(A.last_lit!==0)do if(B=A.pending_buf[A.d_buf+K*2]<<8|A.pending_buf[A.d_buf+K*2+1],I=A.pending_buf[A.l_buf+K],K++,B===0)aE(A,I,Q);else{if(J=LJ[I],aE(A,J+MJ+1,Q),C=iH[J],C!==0)I-=eH[J],j1(A,I,C);if(B--,J=jX(B),aE(A,J,E),C=YU[J],C!==0)B-=HU[J],j1(A,B,C)}while(K<A.last_lit);aE(A,tH,Q)}function sH(A,Q){var E=Q.dyn_tree,B=Q.stat_desc.static_tree,I=Q.stat_desc.has_stree,K=Q.stat_desc.elems,J,C,U=-1,Y;A.heap_len=0,A.heap_max=wX;for(J=0;J<K;J++)if(E[J*2]!==0)A.heap[++A.heap_len]=U=J,A.depth[J]=0;else E[J*2+1]=0;while(A.heap_len<2)if(Y=A.heap[++A.heap_len]=U<2?++U:0,E[Y*2]=1,A.depth[Y]=0,A.opt_len--,I)A.static_len-=B[Y*2+1];Q.max_code=U;for(J=A.heap_len>>1;J>=1;J--)oH(A,E,J);Y=K;do J=A.heap[1],A.heap[1]=A.heap[A.heap_len--],oH(A,E,1),C=A.heap[1],A.heap[--A.heap_max]=J,A.heap[--A.heap_max]=C,E[Y*2]=E[J*2]+E[C*2],A.depth[Y]=(A.depth[J]>=A.depth[C]?A.depth[J]:A.depth[C])+1,E[J*2+1]=E[C*2+1]=Y,A.heap[1]=Y++,oH(A,E,1);while(A.heap_len>=2);A.heap[--A.heap_max]=A.heap[1],aP(A,Q),vX(E,U,A.bl_count)}function NX(A,Q,E){var B,I=-1,K,J=Q[1],C=0,U=7,Y=4;if(J===0)U=138,Y=3;Q[(E+1)*2+1]=65535;for(B=0;B<=E;B++){if(K=J,J=Q[(B+1)*2+1],++C<U&&K===J)continue;else if(C<Y)A.bl_tree[K*2]+=C;else if(K!==0){if(K!==I)A.bl_tree[K*2]++;A.bl_tree[zX*2]++}else if(C<=10)A.bl_tree[VX*2]++;else A.bl_tree[TX*2]++;if(C=0,I=K,J===0)U=138,Y=3;else if(K===J)U=6,Y=3;else U=7,Y=4}}function LX(A,Q,E){var B,I=-1,K,J=Q[1],C=0,U=7,Y=4;if(J===0)U=138,Y=3;for(B=0;B<=E;B++){if(K=J,J=Q[(B+1)*2+1],++C<U&&K===J)continue;else if(C<Y)do aE(A,K,A.bl_tree);while(--C!==0);else if(K!==0){if(K!==I)aE(A,K,A.bl_tree),C--;aE(A,zX,A.bl_tree),j1(A,C-3,2)}else if(C<=10)aE(A,VX,A.bl_tree),j1(A,C-3,3);else aE(A,TX,A.bl_tree),j1(A,C-11,7);if(C=0,I=K,J===0)U=138,Y=3;else if(K===J)U=6,Y=3;else U=7,Y=4}}function A_(A){var Q;NX(A,A.dyn_ltree,A.l_desc.max_code),NX(A,A.dyn_dtree,A.d_desc.max_code),sH(A,A.bl_desc);for(Q=aH-1;Q>=3;Q--)if(A.bl_tree[SX[Q]*2+1]!==0)break;return A.opt_len+=3*(Q+1)+5+5+4,Q}function Q_(A,Q,E,B){var I;j1(A,Q-257,5),j1(A,E-1,5),j1(A,B-4,4);for(I=0;I<B;I++)j1(A,A.bl_tree[SX[I]*2+1],3);LX(A,A.dyn_ltree,Q-1),LX(A,A.dyn_dtree,E-1)}function E_(A){var Q=4093624447,E;for(E=0;E<=31;E++,Q>>>=1)if(Q&1&&A.dyn_ltree[E*2]!==0)return WX;if(A.dyn_ltree[18]!==0||A.dyn_ltree[20]!==0||A.dyn_ltree[26]!==0)return XX;for(E=32;E<MJ;E++)if(A.dyn_ltree[E*2]!==0)return XX;return WX}function B_(A){if(!DX)tP(),DX=!0;A.l_desc=new nH(A.dyn_ltree,PX),A.d_desc=new nH(A.dyn_dtree,_X),A.bl_desc=new nH(A.bl_tree,kX),A.bi_buf=0,A.bi_valid=0,yX(A)}function gX(A,Q,E,B){j1(A,(cP<<1)+(B?1:0),3),eP(A,Q,E,!0)}function I_(A){j1(A,MX<<1,3),aE(A,tH,L8),rP(A)}function K_(A,Q,E,B){var I,K,J=0;if(A.level>0){if(A.strm.data_type===mP)A.strm.data_type=E_(A);if(sH(A,A.l_desc),sH(A,A.d_desc),J=A_(A),I=A.opt_len+3+7>>>3,K=A.static_len+3+7>>>3,K<=I)I=K}else I=K=E+5;if(E+4<=I&&Q!==-1)gX(A,Q,E,B);else if(A.strategy===pP||K===I)j1(A,(MX<<1)+(B?1:0),3),qX(A,L8,FJ);else j1(A,(dP<<1)+(B?1:0),3),Q_(A,A.l_desc.max_code+1,A.d_desc.max_code+1,J+1),qX(A,A.dyn_ltree,A.dyn_dtree);if(yX(A),B)xX(A)}function J_(A,Q,E){if(A.pending_buf[A.d_buf+A.last_lit*2]=Q>>>8&255,A.pending_buf[A.d_buf+A.last_lit*2+1]=Q&255,A.pending_buf[A.l_buf+A.last_lit]=E&255,A.last_lit++,Q===0)A.dyn_ltree[E*2]++;else A.matches++,Q--,A.dyn_ltree[(LJ[E]+MJ+1)*2]++,A.dyn_dtree[jX(Q)*2]++;return A.last_lit===A.lit_bufsize-1}var uP=N8(),pP=4,WX=0,XX=1,mP=2,cP=0,MX=1,dP=2,lP=3,nP=258,rH=29,MJ=256,qJ=MJ+1+rH,N6=30,aH=19,wX=2*qJ+1,HI=15,dH=16,oP=7,tH=256,zX=16,VX=17,TX=18,iH=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],YU=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],iP=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],SX=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],sP=512,L8=new Array((qJ+2)*2);L6(L8);var FJ=new Array(N6*2);L6(FJ);var NJ=new Array(sP);L6(NJ);var LJ=new Array(nP-lP+1);L6(LJ);var eH=new Array(rH);L6(eH);var HU=new Array(N6);L6(HU);var PX,_X,kX,DX=!1;C_._tr_init=B_;C_._tr_stored_block=gX;C_._tr_flush_block=K_;C_._tr_tally=J_;C_._tr_align=I_});var AG=hA((JAA,fX)=>{function R_(A,Q,E,B){var I=A&65535|0,K=A>>>16&65535|0,J=0;while(E!==0){J=E>2000?2000:E,E-=J;do I=I+Q[B++]|0,K=K+I|0;while(--J);I%=65521,K%=65521}return I|K<<16|0}fX.exports=R_});var QG=hA((CAA,uX)=>{function O_(){var A,Q=[];for(var E=0;E<256;E++){A=E;for(var B=0;B<8;B++)A=A&1?3988292384^A>>>1:A>>>1;Q[E]=A}return Q}function W_(A,Q,E,B){var I=$_,K=B+E;A^=-1;for(var J=B;J<K;J++)A=A>>>8^I[(A^Q[J])&255];return A^-1}var $_=O_();uX.exports=W_});var GU=hA((UAA,pX)=>{pX.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var rX=hA((s_)=>{function WB(A,Q){return A.msg=X_[Q],Q}function dX(A){return(A<<1)-(A>4?9:0)}function OB(A){var Q=A.length;while(--Q>=0)A[Q]=0}function RB(A){var Q=A.state,E=Q.pending;if(E>A.avail_out)E=A.avail_out;if(E===0)return;if(N1.arraySet(A.output,Q.pending_buf,Q.pending_out,E,A.next_out),A.next_out+=E,Q.pending_out+=E,A.total_out+=E,A.avail_out-=E,Q.pending-=E,Q.pending===0)Q.pending_out=0}function J1(A,Q){BE._tr_flush_block(A,A.block_start>=0?A.block_start:-1,A.strstart-A.block_start,Q),A.block_start=A.strstart,RB(A.strm)}function c0(A,Q){A.pending_buf[A.pending++]=Q}function wJ(A,Q){A.pending_buf[A.pending++]=Q>>>8&255,A.pending_buf[A.pending++]=Q&255}function b_(A,Q,E,B){var I=A.avail_in;if(I>B)I=B;if(I===0)return 0;if(A.avail_in-=I,N1.arraySet(Q,A.input,A.next_in,I,E),A.state.wrap===1)A.adler=lX(A.adler,Q,I,E);else if(A.state.wrap===2)A.adler=ZB(A.adler,Q,I,E);return A.next_in+=I,A.total_in+=I,I}function nX(A,Q){var{max_chain_length:E,strstart:B}=A,I,K,J=A.prev_length,C=A.nice_match,U=A.strstart>A.w_size-VE?A.strstart-(A.w_size-VE):0,Y=A.window,H=A.w_mask,R=A.prev,G=A.strstart+$B,O=Y[B+J-1],F=Y[B+J];if(A.prev_length>=A.good_match)E>>=2;if(C>A.lookahead)C=A.lookahead;do{if(I=Q,Y[I+J]!==F||Y[I+J-1]!==O||Y[I]!==Y[B]||Y[++I]!==Y[B+1])continue;B+=2,I++;do;while(Y[++B]===Y[++I]&&Y[++B]===Y[++I]&&Y[++B]===Y[++I]&&Y[++B]===Y[++I]&&Y[++B]===Y[++I]&&Y[++B]===Y[++I]&&Y[++B]===Y[++I]&&Y[++B]===Y[++I]&&B<G);if(K=$B-(G-B),B=G-$B,K>J){if(A.match_start=Q,J=K,K>=C)break;O=Y[B+J-1],F=Y[B+J]}}while((Q=R[Q&H])>U&&--E!==0);if(J<=A.lookahead)return J;return A.lookahead}function RI(A){var Q=A.w_size,E,B,I,K,J;do{if(K=A.window_size-A.lookahead-A.strstart,A.strstart>=Q+(Q-VE)){N1.arraySet(A.window,A.window,Q,Q,0),A.match_start-=Q,A.strstart-=Q,A.block_start-=Q,B=A.hash_size,E=B;do I=A.head[--E],A.head[E]=I>=Q?I-Q:0;while(--B);B=Q,E=B;do I=A.prev[--E],A.prev[E]=I>=Q?I-Q:0;while(--B);K+=Q}if(A.strm.avail_in===0)break;if(B=b_(A.strm,A.window,A.strstart+A.lookahead,K),A.lookahead+=B,A.lookahead+A.insert>=x0){J=A.strstart-A.insert,A.ins_h=A.window[J],A.ins_h=(A.ins_h<<A.hash_shift^A.window[J+1])&A.hash_mask;while(A.insert)if(A.ins_h=(A.ins_h<<A.hash_shift^A.window[J+x0-1])&A.hash_mask,A.prev[J&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=J,J++,A.insert--,A.lookahead+A.insert<x0)break}}while(A.lookahead<VE&&A.strm.avail_in!==0)}function f_(A,Q){var E=65535;if(E>A.pending_buf_size-5)E=A.pending_buf_size-5;for(;;){if(A.lookahead<=1){if(RI(A),A.lookahead===0&&Q===OI)return lQ;if(A.lookahead===0)break}A.strstart+=A.lookahead,A.lookahead=0;var B=A.block_start+E;if(A.strstart===0||A.strstart>=B){if(A.lookahead=A.strstart-B,A.strstart=B,J1(A,!1),A.strm.avail_out===0)return lQ}if(A.strstart-A.block_start>=A.w_size-VE){if(J1(A,!1),A.strm.avail_out===0)return lQ}}if(A.insert=0,Q===XB){if(J1(A,!0),A.strm.avail_out===0)return ZI;return w6}if(A.strstart>A.block_start){if(J1(A,!1),A.strm.avail_out===0)return lQ}return lQ}function BG(A,Q){var E,B;for(;;){if(A.lookahead<VE){if(RI(A),A.lookahead<VE&&Q===OI)return lQ;if(A.lookahead===0)break}if(E=0,A.lookahead>=x0)A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+x0-1])&A.hash_mask,E=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart;if(E!==0&&A.strstart-E<=A.w_size-VE)A.match_length=nX(A,E);if(A.match_length>=x0)if(B=BE._tr_tally(A,A.strstart-A.match_start,A.match_length-x0),A.lookahead-=A.match_length,A.match_length<=A.max_lazy_match&&A.lookahead>=x0){A.match_length--;do A.strstart++,A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+x0-1])&A.hash_mask,E=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart;while(--A.match_length!==0);A.strstart++}else A.strstart+=A.match_length,A.match_length=0,A.ins_h=A.window[A.strstart],A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+1])&A.hash_mask;else B=BE._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(B){if(J1(A,!1),A.strm.avail_out===0)return lQ}}if(A.insert=A.strstart<x0-1?A.strstart:x0-1,Q===XB){if(J1(A,!0),A.strm.avail_out===0)return ZI;return w6}if(A.last_lit){if(J1(A,!1),A.strm.avail_out===0)return lQ}return VJ}function D6(A,Q){var E,B,I;for(;;){if(A.lookahead<VE){if(RI(A),A.lookahead<VE&&Q===OI)return lQ;if(A.lookahead===0)break}if(E=0,A.lookahead>=x0)A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+x0-1])&A.hash_mask,E=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart;if(A.prev_length=A.match_length,A.prev_match=A.match_start,A.match_length=x0-1,E!==0&&A.prev_length<A.max_lazy_match&&A.strstart-E<=A.w_size-VE){if(A.match_length=nX(A,E),A.match_length<=5&&(A.strategy===D_||A.match_length===x0&&A.strstart-A.match_start>4096))A.match_length=x0-1}if(A.prev_length>=x0&&A.match_length<=A.prev_length){I=A.strstart+A.lookahead-x0,B=BE._tr_tally(A,A.strstart-1-A.prev_match,A.prev_length-x0),A.lookahead-=A.prev_length-1,A.prev_length-=2;do if(++A.strstart<=I)A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+x0-1])&A.hash_mask,E=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart;while(--A.prev_length!==0);if(A.match_available=0,A.match_length=x0-1,A.strstart++,B){if(J1(A,!1),A.strm.avail_out===0)return lQ}}else if(A.match_available){if(B=BE._tr_tally(A,0,A.window[A.strstart-1]),B)J1(A,!1);if(A.strstart++,A.lookahead--,A.strm.avail_out===0)return lQ}else A.match_available=1,A.strstart++,A.lookahead--}if(A.match_available)B=BE._tr_tally(A,0,A.window[A.strstart-1]),A.match_available=0;if(A.insert=A.strstart<x0-1?A.strstart:x0-1,Q===XB){if(J1(A,!0),A.strm.avail_out===0)return ZI;return w6}if(A.last_lit){if(J1(A,!1),A.strm.avail_out===0)return lQ}return VJ}function u_(A,Q){var E,B,I,K,J=A.window;for(;;){if(A.lookahead<=$B){if(RI(A),A.lookahead<=$B&&Q===OI)return lQ;if(A.lookahead===0)break}if(A.match_length=0,A.lookahead>=x0&&A.strstart>0){if(I=A.strstart-1,B=J[I],B===J[++I]&&B===J[++I]&&B===J[++I]){K=A.strstart+$B;do;while(B===J[++I]&&B===J[++I]&&B===J[++I]&&B===J[++I]&&B===J[++I]&&B===J[++I]&&B===J[++I]&&B===J[++I]&&I<K);if(A.match_length=$B-(K-I),A.match_length>A.lookahead)A.match_length=A.lookahead}}if(A.match_length>=x0)E=BE._tr_tally(A,1,A.match_length-x0),A.lookahead-=A.match_length,A.strstart+=A.match_length,A.match_length=0;else E=BE._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(E){if(J1(A,!1),A.strm.avail_out===0)return lQ}}if(A.insert=0,Q===XB){if(J1(A,!0),A.strm.avail_out===0)return ZI;return w6}if(A.last_lit){if(J1(A,!1),A.strm.avail_out===0)return lQ}return VJ}function p_(A,Q){var E;for(;;){if(A.lookahead===0){if(RI(A),A.lookahead===0){if(Q===OI)return lQ;break}}if(A.match_length=0,E=BE._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++,E){if(J1(A,!1),A.strm.avail_out===0)return lQ}}if(A.insert=0,Q===XB){if(J1(A,!0),A.strm.avail_out===0)return ZI;return w6}if(A.last_lit){if(J1(A,!1),A.strm.avail_out===0)return lQ}return VJ}function tE(A,Q,E,B,I){this.good_length=A,this.max_lazy=Q,this.nice_length=E,this.max_chain=B,this.func=I}function m_(A){A.window_size=2*A.w_size,OB(A.head),A.max_lazy_match=M6[A.level].max_lazy,A.good_match=M6[A.level].good_length,A.nice_match=M6[A.level].nice_length,A.max_chain_length=M6[A.level].max_chain,A.strstart=0,A.block_start=0,A.lookahead=0,A.insert=0,A.match_length=A.prev_length=x0-1,A.match_available=0,A.ins_h=0}function c_(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=WU,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new N1.Buf16(v_*2),this.dyn_dtree=new N1.Buf16((2*j_+1)*2),this.bl_tree=new N1.Buf16((2*h_+1)*2),OB(this.dyn_ltree),OB(this.dyn_dtree),OB(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new N1.Buf16(y_+1),this.heap=new N1.Buf16(2*IG+1),OB(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new N1.Buf16(2*IG+1),OB(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function oX(A){var Q;if(!A||!A.state)return WB(A,IE);if(A.total_in=A.total_out=0,A.data_type=V_,Q=A.state,Q.pending=0,Q.pending_out=0,Q.wrap<0)Q.wrap=-Q.wrap;return Q.status=Q.wrap?XU:GI,A.adler=Q.wrap===2?0:1,Q.last_flush=OI,BE._tr_init(Q),eE}function iX(A){var Q=oX(A);if(Q===eE)m_(A.state);return Q}function d_(A,Q){if(!A||!A.state)return IE;if(A.state.wrap!==2)return IE;return A.state.gzhead=Q,eE}function sX(A,Q,E,B,I,K){if(!A)return IE;var J=1;if(Q===L_)Q=6;if(B<0)J=0,B=-B;else if(B>15)J=2,B-=16;if(I<1||I>T_||E!==WU||B<8||B>15||Q<0||Q>9||K<0||K>w_)return WB(A,IE);if(B===8)B=9;var C=new c_;return A.state=C,C.strm=A,C.wrap=J,C.gzhead=null,C.w_bits=B,C.w_size=1<<C.w_bits,C.w_mask=C.w_size-1,C.hash_bits=I+7,C.hash_size=1<<C.hash_bits,C.hash_mask=C.hash_size-1,C.hash_shift=~~((C.hash_bits+x0-1)/x0),C.window=new N1.Buf8(C.w_size*2),C.head=new N1.Buf16(C.hash_size),C.prev=new N1.Buf16(C.w_size),C.lit_bufsize=1<<I+6,C.pending_buf_size=C.lit_bufsize*4,C.pending_buf=new N1.Buf8(C.pending_buf_size),C.d_buf=1*C.lit_bufsize,C.l_buf=3*C.lit_bufsize,C.level=Q,C.strategy=K,C.method=E,iX(A)}function l_(A,Q){return sX(A,Q,WU,S_,P_,z_)}function n_(A,Q){var E,B,I,K;if(!A||!A.state||Q>mX||Q<0)return A?WB(A,IE):IE;if(B=A.state,!A.output||!A.input&&A.avail_in!==0||B.status===zJ&&Q!==XB)return WB(A,A.avail_out===0?EG:IE);if(B.strm=A,E=B.last_flush,B.last_flush=Q,B.status===XU)if(B.wrap===2)if(A.adler=0,c0(B,31),c0(B,139),c0(B,8),!B.gzhead)c0(B,0),c0(B,0),c0(B,0),c0(B,0),c0(B,0),c0(B,B.level===9?2:B.strategy>=ZU||B.level<2?4:0),c0(B,g_),B.status=GI;else{if(c0(B,(B.gzhead.text?1:0)+(B.gzhead.hcrc?2:0)+(!B.gzhead.extra?0:4)+(!B.gzhead.name?0:8)+(!B.gzhead.comment?0:16)),c0(B,B.gzhead.time&255),c0(B,B.gzhead.time>>8&255),c0(B,B.gzhead.time>>16&255),c0(B,B.gzhead.time>>24&255),c0(B,B.level===9?2:B.strategy>=ZU||B.level<2?4:0),c0(B,B.gzhead.os&255),B.gzhead.extra&&B.gzhead.extra.length)c0(B,B.gzhead.extra.length&255),c0(B,B.gzhead.extra.length>>8&255);if(B.gzhead.hcrc)A.adler=ZB(A.adler,B.pending_buf,B.pending,0);B.gzindex=0,B.status=KG}else{var J=WU+(B.w_bits-8<<4)<<8,C=-1;if(B.strategy>=ZU||B.level<2)C=0;else if(B.level<6)C=1;else if(B.level===6)C=2;else C=3;if(J|=C<<6,B.strstart!==0)J|=x_;if(J+=31-J%31,B.status=GI,wJ(B,J),B.strstart!==0)wJ(B,A.adler>>>16),wJ(B,A.adler&65535);A.adler=1}if(B.status===KG)if(B.gzhead.extra){I=B.pending;while(B.gzindex<(B.gzhead.extra.length&65535)){if(B.pending===B.pending_buf_size){if(B.gzhead.hcrc&&B.pending>I)A.adler=ZB(A.adler,B.pending_buf,B.pending-I,I);if(RB(A),I=B.pending,B.pending===B.pending_buf_size)break}c0(B,B.gzhead.extra[B.gzindex]&255),B.gzindex++}if(B.gzhead.hcrc&&B.pending>I)A.adler=ZB(A.adler,B.pending_buf,B.pending-I,I);if(B.gzindex===B.gzhead.extra.length)B.gzindex=0,B.status=RU}else B.status=RU;if(B.status===RU)if(B.gzhead.name){I=B.pending;do{if(B.pending===B.pending_buf_size){if(B.gzhead.hcrc&&B.pending>I)A.adler=ZB(A.adler,B.pending_buf,B.pending-I,I);if(RB(A),I=B.pending,B.pending===B.pending_buf_size){K=1;break}}if(B.gzindex<B.gzhead.name.length)K=B.gzhead.name.charCodeAt(B.gzindex++)&255;else K=0;c0(B,K)}while(K!==0);if(B.gzhead.hcrc&&B.pending>I)A.adler=ZB(A.adler,B.pending_buf,B.pending-I,I);if(K===0)B.gzindex=0,B.status=OU}else B.status=OU;if(B.status===OU)if(B.gzhead.comment){I=B.pending;do{if(B.pending===B.pending_buf_size){if(B.gzhead.hcrc&&B.pending>I)A.adler=ZB(A.adler,B.pending_buf,B.pending-I,I);if(RB(A),I=B.pending,B.pending===B.pending_buf_size){K=1;break}}if(B.gzindex<B.gzhead.comment.length)K=B.gzhead.comment.charCodeAt(B.gzindex++)&255;else K=0;c0(B,K)}while(K!==0);if(B.gzhead.hcrc&&B.pending>I)A.adler=ZB(A.adler,B.pending_buf,B.pending-I,I);if(K===0)B.status=$U}else B.status=$U;if(B.status===$U)if(B.gzhead.hcrc){if(B.pending+2>B.pending_buf_size)RB(A);if(B.pending+2<=B.pending_buf_size)c0(B,A.adler&255),c0(B,A.adler>>8&255),A.adler=0,B.status=GI}else B.status=GI;if(B.pending!==0){if(RB(A),A.avail_out===0)return B.last_flush=-1,eE}else if(A.avail_in===0&&dX(Q)<=dX(E)&&Q!==XB)return WB(A,EG);if(B.status===zJ&&A.avail_in!==0)return WB(A,EG);if(A.avail_in!==0||B.lookahead!==0||Q!==OI&&B.status!==zJ){var U=B.strategy===ZU?p_(B,Q):B.strategy===M_?u_(B,Q):M6[B.level].func(B,Q);if(U===ZI||U===w6)B.status=zJ;if(U===lQ||U===ZI){if(A.avail_out===0)B.last_flush=-1;return eE}if(U===VJ){if(Q===F_)BE._tr_align(B);else if(Q!==mX){if(BE._tr_stored_block(B,0,0,!1),Q===q_){if(OB(B.head),B.lookahead===0)B.strstart=0,B.block_start=0,B.insert=0}}if(RB(A),A.avail_out===0)return B.last_flush=-1,eE}}if(Q!==XB)return eE;if(B.wrap<=0)return cX;if(B.wrap===2)c0(B,A.adler&255),c0(B,A.adler>>8&255),c0(B,A.adler>>16&255),c0(B,A.adler>>24&255),c0(B,A.total_in&255),c0(B,A.total_in>>8&255),c0(B,A.total_in>>16&255),c0(B,A.total_in>>24&255);else wJ(B,A.adler>>>16),wJ(B,A.adler&65535);if(RB(A),B.wrap>0)B.wrap=-B.wrap;return B.pending!==0?eE:cX}function o_(A){var Q;if(!A||!A.state)return IE;if(Q=A.state.status,Q!==XU&&Q!==KG&&Q!==RU&&Q!==OU&&Q!==$U&&Q!==GI&&Q!==zJ)return WB(A,IE);return A.state=null,Q===GI?WB(A,N_):eE}function i_(A,Q){var E=Q.length,B,I,K,J,C,U,Y,H;if(!A||!A.state)return IE;if(B=A.state,J=B.wrap,J===2||J===1&&B.status!==XU||B.lookahead)return IE;if(J===1)A.adler=lX(A.adler,Q,E,0);if(B.wrap=0,E>=B.w_size){if(J===0)OB(B.head),B.strstart=0,B.block_start=0,B.insert=0;H=new N1.Buf8(B.w_size),N1.arraySet(H,Q,E-B.w_size,B.w_size,0),Q=H,E=B.w_size}C=A.avail_in,U=A.next_in,Y=A.input,A.avail_in=E,A.next_in=0,A.input=Q,RI(B);while(B.lookahead>=x0){I=B.strstart,K=B.lookahead-(x0-1);do B.ins_h=(B.ins_h<<B.hash_shift^B.window[I+x0-1])&B.hash_mask,B.prev[I&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=I,I++;while(--K);B.strstart=I,B.lookahead=x0-1,RI(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=x0-1,B.match_available=0,A.next_in=U,A.input=Y,A.avail_in=C,B.wrap=J,eE}var N1=N8(),BE=bX(),lX=AG(),ZB=QG(),X_=GU(),OI=0,F_=1,q_=3,XB=4,mX=5,eE=0,cX=1,IE=-2,N_=-3,EG=-5,L_=-1,D_=1,ZU=2,M_=3,w_=4,z_=0,V_=2,WU=8,T_=9,S_=15,P_=8,__=29,k_=256,IG=k_+1+__,j_=30,h_=19,v_=2*IG+1,y_=15,x0=3,$B=258,VE=$B+x0+1,x_=32,XU=42,KG=69,RU=73,OU=91,$U=103,GI=113,zJ=666,lQ=1,VJ=2,ZI=3,w6=4,g_=3,M6;M6=[new tE(0,0,0,0,f_),new tE(4,4,8,4,BG),new tE(4,5,16,8,BG),new tE(4,6,32,32,BG),new tE(4,4,16,16,D6),new tE(8,16,32,32,D6),new tE(8,16,128,128,D6),new tE(8,32,128,256,D6),new tE(32,128,258,1024,D6),new tE(32,258,258,4096,D6)];s_.deflateInit=l_;s_.deflateInit2=sX;s_.deflateReset=iX;s_.deflateResetKeep=oX;s_.deflateSetHeader=d_;s_.deflate=n_;s_.deflateEnd=o_;s_.deflateSetDictionary=i_;s_.deflateInfo="pako deflate (from Nodeca project)"});var JG=hA((Kk)=>{function eX(A,Q){if(Q<65534){if(A.subarray&&tX||!A.subarray&&aX)return String.fromCharCode.apply(null,FU.shrinkBuf(A,Q))}var E="";for(var B=0;B<Q;B++)E+=String.fromCharCode(A[B]);return E}var FU=N8(),aX=!0,tX=!0;try{String.fromCharCode.apply(null,[0])}catch(A){aX=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(A){tX=!1}var TJ=new FU.Buf8(256);for(D8=0;D8<256;D8++)TJ[D8]=D8>=252?6:D8>=248?5:D8>=240?4:D8>=224?3:D8>=192?2:1;var D8;TJ[254]=TJ[254]=1;Kk.string2buf=function(A){var Q,E,B,I,K,J=A.length,C=0;for(I=0;I<J;I++){if(E=A.charCodeAt(I),(E&64512)===55296&&I+1<J){if(B=A.charCodeAt(I+1),(B&64512)===56320)E=65536+(E-55296<<10)+(B-56320),I++}C+=E<128?1:E<2048?2:E<65536?3:4}Q=new FU.Buf8(C);for(K=0,I=0;K<C;I++){if(E=A.charCodeAt(I),(E&64512)===55296&&I+1<J){if(B=A.charCodeAt(I+1),(B&64512)===56320)E=65536+(E-55296<<10)+(B-56320),I++}if(E<128)Q[K++]=E;else if(E<2048)Q[K++]=192|E>>>6,Q[K++]=128|E&63;else if(E<65536)Q[K++]=224|E>>>12,Q[K++]=128|E>>>6&63,Q[K++]=128|E&63;else Q[K++]=240|E>>>18,Q[K++]=128|E>>>12&63,Q[K++]=128|E>>>6&63,Q[K++]=128|E&63}return Q};Kk.buf2binstring=function(A){return eX(A,A.length)};Kk.binstring2buf=function(A){var Q=new FU.Buf8(A.length);for(var E=0,B=Q.length;E<B;E++)Q[E]=A.charCodeAt(E);return Q};Kk.buf2string=function(A,Q){var E,B,I,K,J=Q||A.length,C=new Array(J*2);for(B=0,E=0;E<J;){if(I=A[E++],I<128){C[B++]=I;continue}if(K=TJ[I],K>4){C[B++]=65533,E+=K-1;continue}I&=K===2?31:K===3?15:7;while(K>1&&E<J)I=I<<6|A[E++]&63,K--;if(K>1){C[B++]=65533;continue}if(I<65536)C[B++]=I;else I-=65536,C[B++]=55296|I>>10&1023,C[B++]=56320|I&1023}return eX(C,B)};Kk.utf8border=function(A,Q){var E;if(Q=Q||A.length,Q>A.length)Q=A.length;E=Q-1;while(E>=0&&(A[E]&192)===128)E--;if(E<0)return Q;if(E===0)return Q;return E+TJ[A[E]]>Q?E:Q}});var CG=hA((GAA,AF)=>{function Gk(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}AF.exports=Gk});var IF=hA((qk)=>{function $I(A){if(!(this instanceof $I))return new $I(A);this.options=PJ.assign({level:Ok,method:Wk,chunkSize:16384,windowBits:15,memLevel:8,strategy:$k,to:""},A||{});var Q=this.options;if(Q.raw&&Q.windowBits>0)Q.windowBits=-Q.windowBits;else if(Q.gzip&&Q.windowBits>0&&Q.windowBits<16)Q.windowBits+=16;this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Zk,this.strm.avail_out=0;var E=SJ.deflateInit2(this.strm,Q.level,Q.method,Q.windowBits,Q.memLevel,Q.strategy);if(E!==z6)throw new Error(HG[E]);if(Q.header)SJ.deflateSetHeader(this.strm,Q.header);if(Q.dictionary){var B;if(typeof Q.dictionary==="string")B=YG.string2buf(Q.dictionary);else if(BF.call(Q.dictionary)==="[object ArrayBuffer]")B=new Uint8Array(Q.dictionary);else B=Q.dictionary;if(E=SJ.deflateSetDictionary(this.strm,B),E!==z6)throw new Error(HG[E]);this._dict_set=!0}}function GG(A,Q){var E=new $I(Q);if(E.push(A,!0),E.err)throw E.msg||HG[E.err];return E.result}function Xk(A,Q){return Q=Q||{},Q.raw=!0,GG(A,Q)}function Fk(A,Q){return Q=Q||{},Q.gzip=!0,GG(A,Q)}var SJ=rX(),PJ=N8(),YG=JG(),HG=GU(),Zk=CG(),BF=Object.prototype.toString,Rk=0,UG=4,z6=0,QF=1,EF=2,Ok=-1,$k=0,Wk=8;$I.prototype.push=function(A,Q){var E=this.strm,B=this.options.chunkSize,I,K;if(this.ended)return!1;if(K=Q===~~Q?Q:Q===!0?UG:Rk,typeof A==="string")E.input=YG.string2buf(A);else if(BF.call(A)==="[object ArrayBuffer]")E.input=new Uint8Array(A);else E.input=A;E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0)E.output=new PJ.Buf8(B),E.next_out=0,E.avail_out=B;if(I=SJ.deflate(E,K),I!==QF&&I!==z6)return this.onEnd(I),this.ended=!0,!1;if(E.avail_out===0||E.avail_in===0&&(K===UG||K===EF))if(this.options.to==="string")this.onData(YG.buf2binstring(PJ.shrinkBuf(E.output,E.next_out)));else this.onData(PJ.shrinkBuf(E.output,E.next_out))}while((E.avail_in>0||E.avail_out===0)&&I!==QF);if(K===UG)return I=SJ.deflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===z6;if(K===EF)return this.onEnd(z6),E.avail_out=0,!0;return!0};$I.prototype.onData=function(A){this.chunks.push(A)};$I.prototype.onEnd=function(A){if(A===z6)if(this.options.to==="string")this.result=this.chunks.join("");else this.result=PJ.flattenChunks(this.chunks);this.chunks=[],this.err=A,this.msg=this.strm.msg};qk.Deflate=$I;qk.deflate=GG;qk.deflateRaw=Xk;qk.gzip=Fk});var JF=hA((RAA,KF)=>{var qU=30,wk=12;KF.exports=function A(Q,E){var B,I,K,J,C,U,Y,H,R,G,O,F,q,W,Z,$,X,N,M,L,D,w,P,V,T;B=Q.state,I=Q.next_in,V=Q.input,K=I+(Q.avail_in-5),J=Q.next_out,T=Q.output,C=J-(E-Q.avail_out),U=J+(Q.avail_out-257),Y=B.dmax,H=B.wsize,R=B.whave,G=B.wnext,O=B.window,F=B.hold,q=B.bits,W=B.lencode,Z=B.distcode,$=(1<<B.lenbits)-1,X=(1<<B.distbits)-1;A:do{if(q<15)F+=V[I++]<<q,q+=8,F+=V[I++]<<q,q+=8;N=W[F&$];Q:for(;;){if(M=N>>>24,F>>>=M,q-=M,M=N>>>16&255,M===0)T[J++]=N&65535;else if(M&16){if(L=N&65535,M&=15,M){if(q<M)F+=V[I++]<<q,q+=8;L+=F&(1<<M)-1,F>>>=M,q-=M}if(q<15)F+=V[I++]<<q,q+=8,F+=V[I++]<<q,q+=8;N=Z[F&X];E:for(;;){if(M=N>>>24,F>>>=M,q-=M,M=N>>>16&255,M&16){if(D=N&65535,M&=15,q<M){if(F+=V[I++]<<q,q+=8,q<M)F+=V[I++]<<q,q+=8}if(D+=F&(1<<M)-1,D>Y){Q.msg="invalid distance too far back",B.mode=qU;break A}if(F>>>=M,q-=M,M=J-C,D>M){if(M=D-M,M>R){if(B.sane){Q.msg="invalid distance too far back",B.mode=qU;break A}}if(w=0,P=O,G===0){if(w+=H-M,M<L){L-=M;do T[J++]=O[w++];while(--M);w=J-D,P=T}}else if(G<M){if(w+=H+G-M,M-=G,M<L){L-=M;do T[J++]=O[w++];while(--M);if(w=0,G<L){M=G,L-=M;do T[J++]=O[w++];while(--M);w=J-D,P=T}}}else if(w+=G-M,M<L){L-=M;do T[J++]=O[w++];while(--M);w=J-D,P=T}while(L>2)T[J++]=P[w++],T[J++]=P[w++],T[J++]=P[w++],L-=3;if(L){if(T[J++]=P[w++],L>1)T[J++]=P[w++]}}else{w=J-D;do T[J++]=T[w++],T[J++]=T[w++],T[J++]=T[w++],L-=3;while(L>2);if(L){if(T[J++]=T[w++],L>1)T[J++]=T[w++]}}}else if((M&64)===0){N=Z[(N&65535)+(F&(1<<M)-1)];continue E}else{Q.msg="invalid distance code",B.mode=qU;break A}break}}else if((M&64)===0){N=W[(N&65535)+(F&(1<<M)-1)];continue Q}else if(M&32){B.mode=wk;break A}else{Q.msg="invalid literal/length code",B.mode=qU;break A}break}}while(I<K&&J<U);L=q>>3,I-=L,q-=L<<3,F&=(1<<q)-1,Q.next_in=I,Q.next_out=J,Q.avail_in=I<K?5+(K-I):5-(I-K),Q.avail_out=J<U?257+(U-J):257-(J-U),B.hold=F,B.bits=q;return}});var RF=hA((OAA,ZF)=>{var CF=N8(),V6=15,UF=852,YF=592,HF=0,ZG=1,GF=2,zk=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Vk=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Tk=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Sk=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];ZF.exports=function A(Q,E,B,I,K,J,C,U){var Y=U.bits,H=0,R=0,G=0,O=0,F=0,q=0,W=0,Z=0,$=0,X=0,N,M,L,D,w,P=null,V=0,T,S=new CF.Buf16(V6+1),h=new CF.Buf16(V6+1),x=null,y=0,j,v,_;for(H=0;H<=V6;H++)S[H]=0;for(R=0;R<I;R++)S[E[B+R]]++;F=Y;for(O=V6;O>=1;O--)if(S[O]!==0)break;if(F>O)F=O;if(O===0)return K[J++]=20971520,K[J++]=20971520,U.bits=1,0;for(G=1;G<O;G++)if(S[G]!==0)break;if(F<G)F=G;Z=1;for(H=1;H<=V6;H++)if(Z<<=1,Z-=S[H],Z<0)return-1;if(Z>0&&(Q===HF||O!==1))return-1;h[1]=0;for(H=1;H<V6;H++)h[H+1]=h[H]+S[H];for(R=0;R<I;R++)if(E[B+R]!==0)C[h[E[B+R]]++]=R;if(Q===HF)P=x=C,T=19;else if(Q===ZG)P=zk,V-=257,x=Vk,y-=257,T=256;else P=Tk,x=Sk,T=-1;if(X=0,R=0,H=G,w=J,q=F,W=0,L=-1,$=1<<F,D=$-1,Q===ZG&&$>UF||Q===GF&&$>YF)return 1;for(;;){if(j=H-W,C[R]<T)v=0,_=C[R];else if(C[R]>T)v=x[y+C[R]],_=P[V+C[R]];else v=96,_=0;N=1<<H-W,M=1<<q,G=M;do M-=N,K[w+(X>>W)+M]=j<<24|v<<16|_|0;while(M!==0);N=1<<H-1;while(X&N)N>>=1;if(N!==0)X&=N-1,X+=N;else X=0;if(R++,--S[H]===0){if(H===O)break;H=E[B+C[R]]}if(H>F&&(X&D)!==L){if(W===0)W=F;w+=G,q=H-W,Z=1<<q;while(q+W<O){if(Z-=S[q+W],Z<=0)break;q++,Z<<=1}if($+=1<<q,Q===ZG&&$>UF||Q===GF&&$>YF)return 1;L=X&D,K[L]=F<<24|q<<16|w-J|0}}if(X!==0)K[w+X]=H-W<<24|4194304|0;return U.bits=F,0}});var iF=hA((ok)=>{function gF(A){return(A>>>24&255)+(A>>>8&65280)+((A&65280)<<8)+((A&255)<<24)}function uk(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m1.Buf16(320),this.work=new m1.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function cF(A){var Q;if(!A||!A.state)return KE;if(Q=A.state,A.total_in=A.total_out=Q.total=0,A.msg="",Q.wrap)A.adler=Q.wrap&1;return Q.mode=mF,Q.last=0,Q.havedict=0,Q.dmax=32768,Q.head=null,Q.hold=0,Q.bits=0,Q.lencode=Q.lendyn=new m1.Buf32(xk),Q.distcode=Q.distdyn=new m1.Buf32(gk),Q.sane=1,Q.back=-1,WI}function dF(A){var Q;if(!A||!A.state)return KE;return Q=A.state,Q.wsize=0,Q.whave=0,Q.wnext=0,cF(A)}function lF(A,Q){var E,B;if(!A||!A.state)return KE;if(B=A.state,Q<0)E=0,Q=-Q;else if(E=(Q>>4)+1,Q<48)Q&=15;if(Q&&(Q<8||Q>15))return KE;if(B.window!==null&&B.wbits!==Q)B.window=null;return B.wrap=E,B.wbits=Q,dF(A)}function nF(A,Q){var E,B;if(!A)return KE;if(B=new uk,A.state=B,B.window=null,E=lF(A,Q),E!==WI)A.state=null;return E}function pk(A){return nF(A,fk)}function mk(A){if(bF){var Q;WG=new m1.Buf32(512),XG=new m1.Buf32(32),Q=0;while(Q<144)A.lens[Q++]=8;while(Q<256)A.lens[Q++]=9;while(Q<280)A.lens[Q++]=7;while(Q<288)A.lens[Q++]=8;_J(fF,A.lens,0,288,WG,0,A.work,{bits:9}),Q=0;while(Q<32)A.lens[Q++]=5;_J(uF,A.lens,0,32,XG,0,A.work,{bits:5}),bF=!1}A.lencode=WG,A.lenbits=9,A.distcode=XG,A.distbits=5}function oF(A,Q,E,B){var I,K=A.state;if(K.window===null)K.wsize=1<<K.wbits,K.wnext=0,K.whave=0,K.window=new m1.Buf8(K.wsize);if(B>=K.wsize)m1.arraySet(K.window,Q,E-K.wsize,K.wsize,0),K.wnext=0,K.whave=K.wsize;else{if(I=K.wsize-K.wnext,I>B)I=B;if(m1.arraySet(K.window,Q,E-B,I,K.wnext),B-=I,B)m1.arraySet(K.window,Q,E-B,B,0),K.wnext=B,K.whave=K.wsize;else{if(K.wnext+=I,K.wnext===K.wsize)K.wnext=0;if(K.whave<K.wsize)K.whave+=I}}return 0}function ck(A,Q){var E,B,I,K,J,C,U,Y,H,R,G,O,F,q,W=0,Z,$,X,N,M,L,D,w,P=new m1.Buf8(4),V,T,S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!A||!A.state||!A.output||!A.input&&A.avail_in!==0)return KE;if(E=A.state,E.mode===M8)E.mode=RG;J=A.next_out,I=A.output,U=A.avail_out,K=A.next_in,B=A.input,C=A.avail_in,Y=E.hold,H=E.bits,R=C,G=U,w=WI;A:for(;;)switch(E.mode){case mF:if(E.wrap===0){E.mode=RG;break}while(H<16){if(C===0)break A;C--,Y+=B[K++]<<H,H+=8}if(E.wrap&2&&Y===35615){E.check=0,P[0]=Y&255,P[1]=Y>>>8&255,E.check=A8(E.check,P,2,0),Y=0,H=0,E.mode=WF;break}if(E.flags=0,E.head)E.head.done=!1;if(!(E.wrap&1)||(((Y&255)<<8)+(Y>>8))%31){A.msg="incorrect header check",E.mode=MQ;break}if((Y&15)!==$F){A.msg="unknown compression method",E.mode=MQ;break}if(Y>>>=4,H-=4,D=(Y&15)+8,E.wbits===0)E.wbits=D;else if(D>E.wbits){A.msg="invalid window size",E.mode=MQ;break}E.dmax=1<<D,A.adler=E.check=1,E.mode=Y&512?wF:M8,Y=0,H=0;break;case WF:while(H<16){if(C===0)break A;C--,Y+=B[K++]<<H,H+=8}if(E.flags=Y,(E.flags&255)!==$F){A.msg="unknown compression method",E.mode=MQ;break}if(E.flags&57344){A.msg="unknown header flags set",E.mode=MQ;break}if(E.head)E.head.text=Y>>8&1;if(E.flags&512)P[0]=Y&255,P[1]=Y>>>8&255,E.check=A8(E.check,P,2,0);Y=0,H=0,E.mode=XF;case XF:while(H<32){if(C===0)break A;C--,Y+=B[K++]<<H,H+=8}if(E.head)E.head.time=Y;if(E.flags&512)P[0]=Y&255,P[1]=Y>>>8&255,P[2]=Y>>>16&255,P[3]=Y>>>24&255,E.check=A8(E.check,P,4,0);Y=0,H=0,E.mode=FF;case FF:while(H<16){if(C===0)break A;C--,Y+=B[K++]<<H,H+=8}if(E.head)E.head.xflags=Y&255,E.head.os=Y>>8;if(E.flags&512)P[0]=Y&255,P[1]=Y>>>8&255,E.check=A8(E.check,P,2,0);Y=0,H=0,E.mode=qF;case qF:if(E.flags&1024){while(H<16){if(C===0)break A;C--,Y+=B[K++]<<H,H+=8}if(E.length=Y,E.head)E.head.extra_len=Y;if(E.flags&512)P[0]=Y&255,P[1]=Y>>>8&255,E.check=A8(E.check,P,2,0);Y=0,H=0}else if(E.head)E.head.extra=null;E.mode=NF;case NF:if(E.flags&1024){if(O=E.length,O>C)O=C;if(O){if(E.head){if(D=E.head.extra_len-E.length,!E.head.extra)E.head.extra=new Array(E.head.extra_len);m1.arraySet(E.head.extra,B,K,O,D)}if(E.flags&512)E.check=A8(E.check,B,O,K);C-=O,K+=O,E.length-=O}if(E.length)break A}E.length=0,E.mode=LF;case LF:if(E.flags&2048){if(C===0)break A;O=0;do if(D=B[K+O++],E.head&&D&&E.length<65536)E.head.name+=String.fromCharCode(D);while(D&&O<C);if(E.flags&512)E.check=A8(E.check,B,O,K);if(C-=O,K+=O,D)break A}else if(E.head)E.head.name=null;E.length=0,E.mode=DF;case DF:if(E.flags&4096){if(C===0)break A;O=0;do if(D=B[K+O++],E.head&&D&&E.length<65536)E.head.comment+=String.fromCharCode(D);while(D&&O<C);if(E.flags&512)E.check=A8(E.check,B,O,K);if(C-=O,K+=O,D)break A}else if(E.head)E.head.comment=null;E.mode=MF;case MF:if(E.flags&512){while(H<16){if(C===0)break A;C--,Y+=B[K++]<<H,H+=8}if(Y!==(E.check&65535)){A.msg="header crc mismatch",E.mode=MQ;break}Y=0,H=0}if(E.head)E.head.hcrc=E.flags>>9&1,E.head.done=!0;A.adler=E.check=0,E.mode=M8;break;case wF:while(H<32){if(C===0)break A;C--,Y+=B[K++]<<H,H+=8}A.adler=E.check=gF(Y),Y=0,H=0,E.mode=MU;case MU:if(E.havedict===0)return A.next_out=J,A.avail_out=U,A.next_in=K,A.avail_in=C,E.hold=Y,E.bits=H,hk;A.adler=E.check=1,E.mode=M8;case M8:if(Q===kk||Q===NU)break A;case RG:if(E.last){Y>>>=H&7,H-=H&7,E.mode=$G;break}while(H<3){if(C===0)break A;C--,Y+=B[K++]<<H,H+=8}switch(E.last=Y&1,Y>>>=1,H-=1,Y&3){case 0:E.mode=zF;break;case 1:if(mk(E),E.mode=LU,Q===NU){Y>>>=2,H-=2;break A}break;case 2:E.mode=TF;break;case 3:A.msg="invalid block type",E.mode=MQ}Y>>>=2,H-=2;break;case zF:Y>>>=H&7,H-=H&7;while(H<32){if(C===0)break A;C--,Y+=B[K++]<<H,H+=8}if((Y&65535)!==(Y>>>16^65535)){A.msg="invalid stored block lengths",E.mode=MQ;break}if(E.length=Y&65535,Y=0,H=0,E.mode=OG,Q===NU)break A;case OG:E.mode=VF;case VF:if(O=E.length,O){if(O>C)O=C;if(O>U)O=U;if(O===0)break A;m1.arraySet(I,B,K,O,J),C-=O,K+=O,U-=O,J+=O,E.length-=O;break}E.mode=M8;break;case TF:while(H<14){if(C===0)break A;C--,Y+=B[K++]<<H,H+=8}if(E.nlen=(Y&31)+257,Y>>>=5,H-=5,E.ndist=(Y&31)+1,Y>>>=5,H-=5,E.ncode=(Y&15)+4,Y>>>=4,H-=4,E.nlen>286||E.ndist>30){A.msg="too many length or distance symbols",E.mode=MQ;break}E.have=0,E.mode=SF;case SF:while(E.have<E.ncode){while(H<3){if(C===0)break A;C--,Y+=B[K++]<<H,H+=8}E.lens[S[E.have++]]=Y&7,Y>>>=3,H-=3}while(E.have<19)E.lens[S[E.have++]]=0;if(E.lencode=E.lendyn,E.lenbits=7,V={bits:E.lenbits},w=_J(_k,E.lens,0,19,E.lencode,0,E.work,V),E.lenbits=V.bits,w){A.msg="invalid code lengths set",E.mode=MQ;break}E.have=0,E.mode=PF;case PF:while(E.have<E.nlen+E.ndist){for(;;){if(W=E.lencode[Y&(1<<E.lenbits)-1],Z=W>>>24,$=W>>>16&255,X=W&65535,Z<=H)break;if(C===0)break A;C--,Y+=B[K++]<<H,H+=8}if(X<16)Y>>>=Z,H-=Z,E.lens[E.have++]=X;else{if(X===16){T=Z+2;while(H<T){if(C===0)break A;C--,Y+=B[K++]<<H,H+=8}if(Y>>>=Z,H-=Z,E.have===0){A.msg="invalid bit length repeat",E.mode=MQ;break}D=E.lens[E.have-1],O=3+(Y&3),Y>>>=2,H-=2}else if(X===17){T=Z+3;while(H<T){if(C===0)break A;C--,Y+=B[K++]<<H,H+=8}Y>>>=Z,H-=Z,D=0,O=3+(Y&7),Y>>>=3,H-=3}else{T=Z+7;while(H<T){if(C===0)break A;C--,Y+=B[K++]<<H,H+=8}Y>>>=Z,H-=Z,D=0,O=11+(Y&127),Y>>>=7,H-=7}if(E.have+O>E.nlen+E.ndist){A.msg="invalid bit length repeat",E.mode=MQ;break}while(O--)E.lens[E.have++]=D}}if(E.mode===MQ)break;if(E.lens[256]===0){A.msg="invalid code -- missing end-of-block",E.mode=MQ;break}if(E.lenbits=9,V={bits:E.lenbits},w=_J(fF,E.lens,0,E.nlen,E.lencode,0,E.work,V),E.lenbits=V.bits,w){A.msg="invalid literal/lengths set",E.mode=MQ;break}if(E.distbits=6,E.distcode=E.distdyn,V={bits:E.distbits},w=_J(uF,E.lens,E.nlen,E.ndist,E.distcode,0,E.work,V),E.distbits=V.bits,w){A.msg="invalid distances set",E.mode=MQ;break}if(E.mode=LU,Q===NU)break A;case LU:E.mode=DU;case DU:if(C>=6&&U>=258){if(A.next_out=J,A.avail_out=U,A.next_in=K,A.avail_in=C,E.hold=Y,E.bits=H,Pk(A,G),J=A.next_out,I=A.output,U=A.avail_out,K=A.next_in,B=A.input,C=A.avail_in,Y=E.hold,H=E.bits,E.mode===M8)E.back=-1;break}E.back=0;for(;;){if(W=E.lencode[Y&(1<<E.lenbits)-1],Z=W>>>24,$=W>>>16&255,X=W&65535,Z<=H)break;if(C===0)break A;C--,Y+=B[K++]<<H,H+=8}if($&&($&240)===0){N=Z,M=$,L=X;for(;;){if(W=E.lencode[L+((Y&(1<<N+M)-1)>>N)],Z=W>>>24,$=W>>>16&255,X=W&65535,N+Z<=H)break;if(C===0)break A;C--,Y+=B[K++]<<H,H+=8}Y>>>=N,H-=N,E.back+=N}if(Y>>>=Z,H-=Z,E.back+=Z,E.length=X,$===0){E.mode=vF;break}if($&32){E.back=-1,E.mode=M8;break}if($&64){A.msg="invalid literal/length code",E.mode=MQ;break}E.extra=$&15,E.mode=_F;case _F:if(E.extra){T=E.extra;while(H<T){if(C===0)break A;C--,Y+=B[K++]<<H,H+=8}E.length+=Y&(1<<E.extra)-1,Y>>>=E.extra,H-=E.extra,E.back+=E.extra}E.was=E.length,E.mode=kF;case kF:for(;;){if(W=E.distcode[Y&(1<<E.distbits)-1],Z=W>>>24,$=W>>>16&255,X=W&65535,Z<=H)break;if(C===0)break A;C--,Y+=B[K++]<<H,H+=8}if(($&240)===0){N=Z,M=$,L=X;for(;;){if(W=E.distcode[L+((Y&(1<<N+M)-1)>>N)],Z=W>>>24,$=W>>>16&255,X=W&65535,N+Z<=H)break;if(C===0)break A;C--,Y+=B[K++]<<H,H+=8}Y>>>=N,H-=N,E.back+=N}if(Y>>>=Z,H-=Z,E.back+=Z,$&64){A.msg="invalid distance code",E.mode=MQ;break}E.offset=X,E.extra=$&15,E.mode=jF;case jF:if(E.extra){T=E.extra;while(H<T){if(C===0)break A;C--,Y+=B[K++]<<H,H+=8}E.offset+=Y&(1<<E.extra)-1,Y>>>=E.extra,H-=E.extra,E.back+=E.extra}if(E.offset>E.dmax){A.msg="invalid distance too far back",E.mode=MQ;break}E.mode=hF;case hF:if(U===0)break A;if(O=G-U,E.offset>O){if(O=E.offset-O,O>E.whave){if(E.sane){A.msg="invalid distance too far back",E.mode=MQ;break}}if(O>E.wnext)O-=E.wnext,F=E.wsize-O;else F=E.wnext-O;if(O>E.length)O=E.length;q=E.window}else q=I,F=J-E.offset,O=E.length;if(O>U)O=U;U-=O,E.length-=O;do I[J++]=q[F++];while(--O);if(E.length===0)E.mode=DU;break;case vF:if(U===0)break A;I[J++]=E.length,U--,E.mode=DU;break;case $G:if(E.wrap){while(H<32){if(C===0)break A;C--,Y|=B[K++]<<H,H+=8}if(G-=U,A.total_out+=G,E.total+=G,G)A.adler=E.check=E.flags?A8(E.check,I,G,J-G):FG(E.check,I,G,J-G);if(G=U,(E.flags?Y:gF(Y))!==E.check){A.msg="incorrect data check",E.mode=MQ;break}Y=0,H=0}E.mode=yF;case yF:if(E.wrap&&E.flags){while(H<32){if(C===0)break A;C--,Y+=B[K++]<<H,H+=8}if(Y!==(E.total&4294967295)){A.msg="incorrect length check",E.mode=MQ;break}Y=0,H=0}E.mode=xF;case xF:w=jk;break A;case MQ:w=pF;break A;case NG:return qG;case yk:default:return KE}if(A.next_out=J,A.avail_out=U,A.next_in=K,A.avail_in=C,E.hold=Y,E.bits=H,E.wsize||G!==A.avail_out&&E.mode<MQ&&(E.mode<$G||Q!==OF)){if(oF(A,A.output,A.next_out,G-A.avail_out))return E.mode=NG,qG}if(R-=A.avail_in,G-=A.avail_out,A.total_in+=R,A.total_out+=G,E.total+=G,E.wrap&&G)A.adler=E.check=E.flags?A8(E.check,I,G,A.next_out-G):FG(E.check,I,G,A.next_out-G);if(A.data_type=E.bits+(E.last?64:0)+(E.mode===M8?128:0)+(E.mode===LU||E.mode===OG?256:0),(R===0&&G===0||Q===OF)&&w===WI)w=vk;return w}function dk(A){if(!A||!A.state)return KE;var Q=A.state;if(Q.window)Q.window=null;return A.state=null,WI}function lk(A,Q){var E;if(!A||!A.state)return KE;if(E=A.state,(E.wrap&2)===0)return KE;return E.head=Q,Q.done=!1,WI}function nk(A,Q){var E=Q.length,B,I,K;if(!A||!A.state)return KE;if(B=A.state,B.wrap!==0&&B.mode!==MU)return KE;if(B.mode===MU){if(I=1,I=FG(I,Q,E,0),I!==B.check)return pF}if(K=oF(A,Q,E,E),K)return B.mode=NG,qG;return B.havedict=1,WI}var m1=N8(),FG=AG(),A8=QG(),Pk=JF(),_J=RF(),_k=0,fF=1,uF=2,OF=4,kk=5,NU=6,WI=0,jk=1,hk=2,KE=-2,pF=-3,qG=-4,vk=-5,$F=8,mF=1,WF=2,XF=3,FF=4,qF=5,NF=6,LF=7,DF=8,MF=9,wF=10,MU=11,M8=12,RG=13,zF=14,OG=15,VF=16,TF=17,SF=18,PF=19,LU=20,DU=21,_F=22,kF=23,jF=24,hF=25,vF=26,$G=27,yF=28,xF=29,MQ=30,NG=31,yk=32,xk=852,gk=592,bk=15,fk=bk,bF=!0,WG,XG;ok.inflateReset=dF;ok.inflateReset2=lF;ok.inflateResetKeep=cF;ok.inflateInit=pk;ok.inflateInit2=nF;ok.inflate=ck;ok.inflateEnd=dk;ok.inflateGetHeader=lk;ok.inflateSetDictionary=nk;ok.inflateInfo="pako inflate (from Nodeca project)"});var LG=hA((WAA,sF)=>{sF.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var aF=hA((XAA,rF)=>{function Ij(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}rF.exports=Ij});var eF=hA((Uj)=>{function XI(A){if(!(this instanceof XI))return new XI(A);this.options=kJ.assign({chunkSize:16384,windowBits:0,to:""},A||{});var Q=this.options;if(Q.raw&&Q.windowBits>=0&&Q.windowBits<16){if(Q.windowBits=-Q.windowBits,Q.windowBits===0)Q.windowBits=-15}if(Q.windowBits>=0&&Q.windowBits<16&&!(A&&A.windowBits))Q.windowBits+=32;if(Q.windowBits>15&&Q.windowBits<48){if((Q.windowBits&15)===0)Q.windowBits|=15}this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Kj,this.strm.avail_out=0;var E=T6.inflateInit2(this.strm,Q.windowBits);if(E!==bQ.Z_OK)throw new Error(DG[E]);if(this.header=new Jj,T6.inflateGetHeader(this.strm,this.header),Q.dictionary){if(typeof Q.dictionary==="string")Q.dictionary=wU.string2buf(Q.dictionary);else if(tF.call(Q.dictionary)==="[object ArrayBuffer]")Q.dictionary=new Uint8Array(Q.dictionary);if(Q.raw){if(E=T6.inflateSetDictionary(this.strm,Q.dictionary),E!==bQ.Z_OK)throw new Error(DG[E])}}}function MG(A,Q){var E=new XI(Q);if(E.push(A,!0),E.err)throw E.msg||DG[E.err];return E.result}function Cj(A,Q){return Q=Q||{},Q.raw=!0,MG(A,Q)}var T6=iF(),kJ=N8(),wU=JG(),bQ=LG(),DG=GU(),Kj=CG(),Jj=aF(),tF=Object.prototype.toString;XI.prototype.push=function(A,Q){var E=this.strm,B=this.options.chunkSize,I=this.options.dictionary,K,J,C,U,Y,H=!1;if(this.ended)return!1;if(J=Q===~~Q?Q:Q===!0?bQ.Z_FINISH:bQ.Z_NO_FLUSH,typeof A==="string")E.input=wU.binstring2buf(A);else if(tF.call(A)==="[object ArrayBuffer]")E.input=new Uint8Array(A);else E.input=A;E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0)E.output=new kJ.Buf8(B),E.next_out=0,E.avail_out=B;if(K=T6.inflate(E,bQ.Z_NO_FLUSH),K===bQ.Z_NEED_DICT&&I)K=T6.inflateSetDictionary(this.strm,I);if(K===bQ.Z_BUF_ERROR&&H===!0)K=bQ.Z_OK,H=!1;if(K!==bQ.Z_STREAM_END&&K!==bQ.Z_OK)return this.onEnd(K),this.ended=!0,!1;if(E.next_out){if(E.avail_out===0||K===bQ.Z_STREAM_END||E.avail_in===0&&(J===bQ.Z_FINISH||J===bQ.Z_SYNC_FLUSH))if(this.options.to==="string"){if(C=wU.utf8border(E.output,E.next_out),U=E.next_out-C,Y=wU.buf2string(E.output,C),E.next_out=U,E.avail_out=B-U,U)kJ.arraySet(E.output,E.output,C,U,0);this.onData(Y)}else this.onData(kJ.shrinkBuf(E.output,E.next_out))}if(E.avail_in===0&&E.avail_out===0)H=!0}while((E.avail_in>0||E.avail_out===0)&&K!==bQ.Z_STREAM_END);if(K===bQ.Z_STREAM_END)J=bQ.Z_FINISH;if(J===bQ.Z_FINISH)return K=T6.inflateEnd(this.strm),this.onEnd(K),this.ended=!0,K===bQ.Z_OK;if(J===bQ.Z_SYNC_FLUSH)return this.onEnd(bQ.Z_OK),E.avail_out=0,!0;return!0};XI.prototype.onData=function(A){this.chunks.push(A)};XI.prototype.onEnd=function(A){if(A===bQ.Z_OK)if(this.options.to==="string")this.result=this.chunks.join("");else this.result=kJ.flattenChunks(this.chunks);this.chunks=[],this.err=A,this.msg=this.strm.msg};Uj.Inflate=XI;Uj.inflate=MG;Uj.inflateRaw=Cj;Uj.ungzip=MG});var Eq=hA((qAA,Qq)=>{var Rj=N8().assign,Oj=IF(),$j=eF(),Wj=LG(),Aq={};Rj(Aq,Oj,$j,Wj);Qq.exports=Aq});var Iq=hA((Nj)=>{function FI(A,Q){zU.call(this,"FlateWorker/"+A),this._pako=null,this._pakoAction=A,this._pakoOptions=Q,this.meta={}}var Xj=typeof Uint8Array!=="undefined"&&typeof Uint16Array!=="undefined"&&typeof Uint32Array!=="undefined",Fj=Eq(),Bq=VQ(),zU=p1(),qj=Xj?"uint8array":"array";Nj.magic="\b\0";Bq.inherits(FI,zU);FI.prototype.processChunk=function(A){if(this.meta=A.meta,this._pako===null)this._createPako();this._pako.push(Bq.transformTo(qj,A.data),!1)};FI.prototype.flush=function(){if(zU.prototype.flush.call(this),this._pako===null)this._createPako();this._pako.push([],!0)};FI.prototype.cleanUp=function(){zU.prototype.cleanUp.call(this),this._pako=null};FI.prototype._createPako=function(){this._pako=new Fj[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var A=this;this._pako.onData=function(Q){A.push({data:Q,meta:A.meta})}};Nj.compressWorker=function(A){return new FI("Deflate",A)};Nj.uncompressWorker=function(){return new FI("Inflate",{})}});var wG=hA((wj)=>{var Kq=p1();wj.STORE={magic:"\0\0",compressWorker:function(){return new Kq("STORE compression")},uncompressWorker:function(){return new Kq("STORE decompression")}};wj.DEFLATE=Iq()});var zG=hA((Tj)=>{Tj.LOCAL_FILE_HEADER="PK\x03\x04";Tj.CENTRAL_FILE_HEADER="PK\x01\x02";Tj.CENTRAL_DIRECTORY_END="PK\x05\x06";Tj.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07";Tj.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06";Tj.DATA_DESCRIPTOR="PK\x07\b"});var Yq=hA((MAA,Uq)=>{function TE(A,Q,E,B){P6.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=Q,this.zipPlatform=E,this.encodeFileName=B,this.streamFiles=A,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}var S6=VQ(),P6=p1(),VG=F6(),Jq=JU(),VU=zG(),HQ=function(A,Q){var E="",B;for(B=0;B<Q;B++)E+=String.fromCharCode(A&255),A=A>>>8;return E},vj=function(A,Q){var E=A;if(!A)E=Q?16893:33204;return(E&65535)<<16},yj=function(A){return(A||0)&63},Cq=function(A,Q,E,B,I,K){var{file:J,compression:C}=A,U=K!==VG.utf8encode,Y=S6.transformTo("string",K(J.name)),H=S6.transformTo("string",VG.utf8encode(J.name)),R=J.comment,G=S6.transformTo("string",K(R)),O=S6.transformTo("string",VG.utf8encode(R)),F=H.length!==J.name.length,q=O.length!==R.length,W,Z,$="",X="",N="",M=J.dir,L=J.date,D={crc32:0,compressedSize:0,uncompressedSize:0};if(!Q||E)D.crc32=A.crc32,D.compressedSize=A.compressedSize,D.uncompressedSize=A.uncompressedSize;var w=0;if(Q)w|=8;if(!U&&(F||q))w|=2048;var P=0,V=0;if(M)P|=16;if(I==="UNIX")V=798,P|=vj(J.unixPermissions,M);else V=20,P|=yj(J.dosPermissions,M);if(W=L.getUTCHours(),W=W<<6,W=W|L.getUTCMinutes(),W=W<<5,W=W|L.getUTCSeconds()/2,Z=L.getUTCFullYear()-1980,Z=Z<<4,Z=Z|L.getUTCMonth()+1,Z=Z<<5,Z=Z|L.getUTCDate(),F)X=HQ(1,1)+HQ(Jq(Y),4)+H,$+="up"+HQ(X.length,2)+X;if(q)N=HQ(1,1)+HQ(Jq(G),4)+O,$+="uc"+HQ(N.length,2)+N;var T="";T+=`
\0`,T+=HQ(w,2),T+=C.magic,T+=HQ(W,2),T+=HQ(Z,2),T+=HQ(D.crc32,4),T+=HQ(D.compressedSize,4),T+=HQ(D.uncompressedSize,4),T+=HQ(Y.length,2),T+=HQ($.length,2);var S=VU.LOCAL_FILE_HEADER+T+Y+$,h=VU.CENTRAL_FILE_HEADER+HQ(V,2)+T+HQ(G.length,2)+"\0\0"+"\0\0"+HQ(P,4)+HQ(B,4)+Y+$+G;return{fileRecord:S,dirRecord:h}},xj=function(A,Q,E,B,I){var K="",J=S6.transformTo("string",I(B));return K=VU.CENTRAL_DIRECTORY_END+"\0\0"+"\0\0"+HQ(A,2)+HQ(A,2)+HQ(Q,4)+HQ(E,4)+HQ(J.length,2)+J,K},gj=function(A){var Q="";return Q=VU.DATA_DESCRIPTOR+HQ(A.crc32,4)+HQ(A.compressedSize,4)+HQ(A.uncompressedSize,4),Q};S6.inherits(TE,P6);TE.prototype.push=function(A){var Q=A.meta.percent||0,E=this.entriesCount,B=this._sources.length;if(this.accumulate)this.contentBuffer.push(A);else this.bytesWritten+=A.data.length,P6.prototype.push.call(this,{data:A.data,meta:{currentFile:this.currentFile,percent:E?(Q+100*(E-B-1))/E:100}})};TE.prototype.openedSource=function(A){this.currentSourceOffset=this.bytesWritten,this.currentFile=A.file.name;var Q=this.streamFiles&&!A.file.dir;if(Q){var E=Cq(A,Q,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:E.fileRecord,meta:{percent:0}})}else this.accumulate=!0};TE.prototype.closedSource=function(A){this.accumulate=!1;var Q=this.streamFiles&&!A.file.dir,E=Cq(A,Q,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(E.dirRecord),Q)this.push({data:gj(A),meta:{percent:100}});else{this.push({data:E.fileRecord,meta:{percent:0}});while(this.contentBuffer.length)this.push(this.contentBuffer.shift())}this.currentFile=null};TE.prototype.flush=function(){var A=this.bytesWritten;for(var Q=0;Q<this.dirRecords.length;Q++)this.push({data:this.dirRecords[Q],meta:{percent:100}});var E=this.bytesWritten-A,B=xj(this.dirRecords.length,E,A,this.zipComment,this.encodeFileName);this.push({data:B,meta:{percent:100}})};TE.prototype.prepareNextSource=function(){if(this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused)this.previous.pause();else this.previous.resume()};TE.prototype.registerPrevious=function(A){this._sources.push(A);var Q=this;return A.on("data",function(E){Q.processChunk(E)}),A.on("end",function(){if(Q.closedSource(Q.previous.streamInfo),Q._sources.length)Q.prepareNextSource();else Q.end()}),A.on("error",function(E){Q.error(E)}),this};TE.prototype.resume=function(){if(!P6.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0};TE.prototype.error=function(A){var Q=this._sources;if(!P6.prototype.error.call(this,A))return!1;for(var E=0;E<Q.length;E++)try{Q[E].error(A)}catch(B){}return!0};TE.prototype.lock=function(){P6.prototype.lock.call(this);var A=this._sources;for(var Q=0;Q<A.length;Q++)A[Q].lock()};Uq.exports=TE});var Hq=hA((pj)=>{var bj=wG(),fj=Yq(),uj=function(A,Q){var E=A||Q,B=bj[E];if(!B)throw new Error(E+" is not a valid compression method !");return B};pj.generateWorker=function(A,Q,E){var B=new fj(Q.streamFiles,E,Q.platform,Q.encodeFileName),I=0;try{A.forEach(function(K,J){I++;var C=uj(J.options.compression,Q.compression),U=J.options.compressionOptions||Q.compressionOptions||{},Y=J.dir,H=J.date;J._compressWorker(C,U).withStreamInfo("file",{name:K,dir:Y,date:H,comment:J.comment||"",unixPermissions:J.unixPermissions,dosPermissions:J.dosPermissions}).pipe(B)}),B.entriesCount=I}catch(K){B.error(K)}return B}});var Zq=hA((zAA,Gq)=>{function jJ(A,Q){TU.call(this,"Nodejs stream input adapter for "+A),this._upstreamEnded=!1,this._bindStream(Q)}var cj=VQ(),TU=p1();cj.inherits(jJ,TU);jJ.prototype._bindStream=function(A){var Q=this;this._stream=A,A.pause(),A.on("data",function(E){Q.push({data:E,meta:{percent:0}})}).on("error",function(E){if(Q.isPaused)this.generatedError=E;else Q.error(E)}).on("end",function(){if(Q.isPaused)Q._upstreamEnded=!0;else Q.end()})};jJ.prototype.pause=function(){if(!TU.prototype.pause.call(this))return!1;return this._stream.pause(),!0};jJ.prototype.resume=function(){if(!TU.prototype.resume.call(this))return!1;if(this._upstreamEnded)this.end();else this._stream.resume();return!0};Gq.exports=jJ});var Dq=hA((VAA,Lq)=>{function $q(A){return Object.prototype.toString.call(A)==="[object RegExp]"}var dj=F6(),hJ=VQ(),Wq=p1(),lj=_H(),Xq=kH(),Rq=CU(),nj=OX(),oj=Hq(),Oq=GJ(),ij=Zq(),Fq=function(A,Q,E){var B=hJ.getTypeOf(Q),I,K=hJ.extend(E||{},Xq);if(K.date=K.date||/*@__PURE__*/new Date,K.compression!==null)K.compression=K.compression.toUpperCase();if(typeof K.unixPermissions==="string")K.unixPermissions=parseInt(K.unixPermissions,8);if(K.unixPermissions&&K.unixPermissions&16384)K.dir=!0;if(K.dosPermissions&&K.dosPermissions&16)K.dir=!0;if(K.dir)A=qq(A);if(K.createFolders&&(I=sj(A)))Nq.call(this,I,!0);var J=B==="string"&&K.binary===!1&&K.base64===!1;if(!E||typeof E.binary==="undefined")K.binary=!J;var C=Q instanceof Rq&&Q.uncompressedSize===0;if(C||K.dir||!Q||Q.length===0)K.base64=!1,K.binary=!0,Q="",K.compression="STORE",B="string";var U=null;if(Q instanceof Rq||Q instanceof Wq)U=Q;else if(Oq.isNode&&Oq.isStream(Q))U=new ij(A,Q);else U=hJ.prepareContent(A,Q,K.binary,K.optimizedBinaryString,K.base64);var Y=new nj(A,U,K);this.files[A]=Y},sj=function(A){if(A.slice(-1)==="/")A=A.substring(0,A.length-1);var Q=A.lastIndexOf("/");return Q>0?A.substring(0,Q):""},qq=function(A){if(A.slice(-1)!=="/")A+="/";return A},Nq=function(A,Q){if(Q=typeof Q!=="undefined"?Q:Xq.createFolders,A=qq(A),!this.files[A])Fq.call(this,A,null,{dir:!0,createFolders:Q});return this.files[A]},rj={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(A){var Q,E,B;for(Q in this.files)if(B=this.files[Q],E=Q.slice(this.root.length,Q.length),E&&Q.slice(0,this.root.length)===this.root)A(E,B)},filter:function(A){var Q=[];return this.forEach(function(E,B){if(A(E,B))Q.push(B)}),Q},file:function(A,Q,E){if(arguments.length===1)if($q(A)){var B=A;return this.filter(function(K,J){return!J.dir&&B.test(K)})}else{var I=this.files[this.root+A];if(I&&!I.dir)return I;else return null}else A=this.root+A,Fq.call(this,A,Q,E);return this},folder:function(A){if(!A)return this;if($q(A))return this.filter(function(I,K){return K.dir&&A.test(I)});var Q=this.root+A,E=Nq.call(this,Q),B=this.clone();return B.root=E.name,B},remove:function(A){A=this.root+A;var Q=this.files[A];if(!Q){if(A.slice(-1)!=="/")A+="/";Q=this.files[A]}if(Q&&!Q.dir)delete this.files[A];else{var E=this.filter(function(I,K){return K.name.slice(0,A.length)===A});for(var B=0;B<E.length;B++)delete this.files[E[B].name]}return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(A){var Q,E={};try{if(E=hJ.extend(A||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:dj.utf8encode}),E.type=E.type.toLowerCase(),E.compression=E.compression.toUpperCase(),E.type==="binarystring")E.type="string";if(!E.type)throw new Error("No output type specified.");if(hJ.checkSupport(E.type),E.platform==="darwin"||E.platform==="freebsd"||E.platform==="linux"||E.platform==="sunos")E.platform="UNIX";if(E.platform==="win32")E.platform="DOS";var B=E.comment||this.comment||"";Q=oj.generateWorker(this,E,B)}catch(I){Q=new Wq("error"),Q.error(I)}return new lj(Q,E.type||"string",E.mimeType)},generateAsync:function(A,Q){return this.generateInternalStream(A).accumulate(Q)},generateNodeStream:function(A,Q){if(A=A||{},!A.type)A.type="nodebuffer";return this.generateInternalStream(A).toNodejsStream(Q)}};Lq.exports=rj});var TG=hA((TAA,wq)=>{function Mq(A){this.data=A,this.length=A.length,this.index=0,this.zero=0}var aj=VQ();Mq.prototype={checkOffset:function(A){this.checkIndex(this.index+A)},checkIndex:function(A){if(this.length<this.zero+A||A<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+A+"). Corrupted zip ?")},setIndex:function(A){this.checkIndex(A),this.index=A},skip:function(A){this.setIndex(this.index+A)},byteAt:function(){},readInt:function(A){var Q=0,E;this.checkOffset(A);for(E=this.index+A-1;E>=this.index;E--)Q=(Q<<8)+this.byteAt(E);return this.index+=A,Q},readString:function(A){return aj.transformTo("string",this.readData(A))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var A=this.readInt(4);return new Date(Date.UTC((A>>25&127)+1980,(A>>21&15)-1,A>>16&31,A>>11&31,A>>5&63,(A&31)<<1))}};wq.exports=Mq});var SG=hA((SAA,Vq)=>{function _6(A){zq.call(this,A);for(var Q=0;Q<this.data.length;Q++)A[Q]=A[Q]&255}var zq=TG(),tj=VQ();tj.inherits(_6,zq);_6.prototype.byteAt=function(A){return this.data[this.zero+A]};_6.prototype.lastIndexOfSignature=function(A){var Q=A.charCodeAt(0),E=A.charCodeAt(1),B=A.charCodeAt(2),I=A.charCodeAt(3);for(var K=this.length-4;K>=0;--K)if(this.data[K]===Q&&this.data[K+1]===E&&this.data[K+2]===B&&this.data[K+3]===I)return K-this.zero;return-1};_6.prototype.readAndCheckSignature=function(A){var Q=A.charCodeAt(0),E=A.charCodeAt(1),B=A.charCodeAt(2),I=A.charCodeAt(3),K=this.readData(4);return Q===K[0]&&E===K[1]&&B===K[2]&&I===K[3]};_6.prototype.readData=function(A){if(this.checkOffset(A),A===0)return[];var Q=this.data.slice(this.zero+this.index,this.zero+this.index+A);return this.index+=A,Q};Vq.exports=_6});var Pq=hA((PAA,Sq)=>{function k6(A){Tq.call(this,A)}var Tq=TG(),ej=VQ();ej.inherits(k6,Tq);k6.prototype.byteAt=function(A){return this.data.charCodeAt(this.zero+A)};k6.prototype.lastIndexOfSignature=function(A){return this.data.lastIndexOf(A)-this.zero};k6.prototype.readAndCheckSignature=function(A){var Q=this.readData(4);return A===Q};k6.prototype.readData=function(A){this.checkOffset(A);var Q=this.data.slice(this.zero+this.index,this.zero+this.index+A);return this.index+=A,Q};Sq.exports=k6});var _G=hA((_AA,kq)=>{function PG(A){_q.call(this,A)}var _q=SG(),Ah=VQ();Ah.inherits(PG,_q);PG.prototype.readData=function(A){if(this.checkOffset(A),A===0)return new Uint8Array(0);var Q=this.data.subarray(this.zero+this.index,this.zero+this.index+A);return this.index+=A,Q};kq.exports=PG});var vq=hA((kAA,hq)=>{function kG(A){jq.call(this,A)}var jq=_G(),Qh=VQ();Qh.inherits(kG,jq);kG.prototype.readData=function(A){this.checkOffset(A);var Q=this.data.slice(this.zero+this.index,this.zero+this.index+A);return this.index+=A,Q};hq.exports=kG});var jG=hA((jAA,xq)=>{var SU=VQ(),yq=F8(),Eh=SG(),Bh=Pq(),Ih=vq(),Kh=_G();xq.exports=function(A){var Q=SU.getTypeOf(A);if(SU.checkSupport(Q),Q==="string"&&!yq.uint8array)return new Bh(A);if(Q==="nodebuffer")return new Ih(A);if(yq.uint8array)return new Kh(SU.transformTo("uint8array",A));return new Eh(SU.transformTo("array",A))}});var uq=hA((hAA,fq)=>{function bq(A,Q){this.options=A,this.loadOptions=Q}var hG=jG(),FB=VQ(),Jh=CU(),gq=JU(),PU=F6(),_U=wG(),Ch=F8(),Uh=0,Yh=3,Hh=function(A){for(var Q in _U){if(!Object.prototype.hasOwnProperty.call(_U,Q))continue;if(_U[Q].magic===A)return _U[Q]}return null};bq.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(A){var Q,E;if(A.skip(22),this.fileNameLength=A.readInt(2),E=A.readInt(2),this.fileName=A.readData(this.fileNameLength),A.skip(E),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(Q=Hh(this.compressionMethod),Q===null)throw new Error("Corrupted zip : compression "+FB.pretty(this.compressionMethod)+" unknown (inner file : "+FB.transformTo("string",this.fileName)+")");this.decompressed=new Jh(this.compressedSize,this.uncompressedSize,this.crc32,Q,A.readData(this.compressedSize))},readCentralPart:function(A){this.versionMadeBy=A.readInt(2),A.skip(2),this.bitFlag=A.readInt(2),this.compressionMethod=A.readString(2),this.date=A.readDate(),this.crc32=A.readInt(4),this.compressedSize=A.readInt(4),this.uncompressedSize=A.readInt(4);var Q=A.readInt(2);if(this.extraFieldsLength=A.readInt(2),this.fileCommentLength=A.readInt(2),this.diskNumberStart=A.readInt(2),this.internalFileAttributes=A.readInt(2),this.externalFileAttributes=A.readInt(4),this.localHeaderOffset=A.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");A.skip(Q),this.readExtraFields(A),this.parseZIP64ExtraField(A),this.fileComment=A.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var A=this.versionMadeBy>>8;if(this.dir=this.externalFileAttributes&16?!0:!1,A===Uh)this.dosPermissions=this.externalFileAttributes&63;if(A===Yh)this.unixPermissions=this.externalFileAttributes>>16&65535;if(!this.dir&&this.fileNameStr.slice(-1)==="/")this.dir=!0},parseZIP64ExtraField:function(){if(!this.extraFields[1])return;var A=hG(this.extraFields[1].value);if(this.uncompressedSize===FB.MAX_VALUE_32BITS)this.uncompressedSize=A.readInt(8);if(this.compressedSize===FB.MAX_VALUE_32BITS)this.compressedSize=A.readInt(8);if(this.localHeaderOffset===FB.MAX_VALUE_32BITS)this.localHeaderOffset=A.readInt(8);if(this.diskNumberStart===FB.MAX_VALUE_32BITS)this.diskNumberStart=A.readInt(4)},readExtraFields:function(A){var Q=A.index+this.extraFieldsLength,E,B,I;if(!this.extraFields)this.extraFields={};while(A.index+4<Q)E=A.readInt(2),B=A.readInt(2),I=A.readData(B),this.extraFields[E]={id:E,length:B,value:I};A.setIndex(Q)},handleUTF8:function(){var A=Ch.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=PU.utf8decode(this.fileName),this.fileCommentStr=PU.utf8decode(this.fileComment);else{var Q=this.findExtraFieldUnicodePath();if(Q!==null)this.fileNameStr=Q;else{var E=FB.transformTo(A,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(E)}var B=this.findExtraFieldUnicodeComment();if(B!==null)this.fileCommentStr=B;else{var I=FB.transformTo(A,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(I)}}},findExtraFieldUnicodePath:function(){var A=this.extraFields[28789];if(A){var Q=hG(A.value);if(Q.readInt(1)!==1)return null;if(gq(this.fileName)!==Q.readInt(4))return null;return PU.utf8decode(Q.readData(A.length-5))}return null},findExtraFieldUnicodeComment:function(){var A=this.extraFields[25461];if(A){var Q=hG(A.value);if(Q.readInt(1)!==1)return null;if(gq(this.fileComment)!==Q.readInt(4))return null;return PU.utf8decode(Q.readData(A.length-5))}return null}};fq.exports=bq});var cq=hA((vAA,mq)=>{function pq(A){this.files=[],this.loadOptions=A}var Gh=jG(),w8=VQ(),SE=zG(),Zh=uq(),Rh=F8();pq.prototype={checkSignature:function(A){if(!this.reader.readAndCheckSignature(A)){this.reader.index-=4;var Q=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+w8.pretty(Q)+", expected "+w8.pretty(A)+")")}},isSignature:function(A,Q){var E=this.reader.index;this.reader.setIndex(A);var B=this.reader.readString(4),I=B===Q;return this.reader.setIndex(E),I},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var A=this.reader.readData(this.zipCommentLength),Q=Rh.uint8array?"uint8array":"array",E=w8.transformTo(Q,A);this.zipComment=this.loadOptions.decodeFileName(E)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};var A=this.zip64EndOfCentralSize-44,Q=0,E,B,I;while(Q<A)E=this.reader.readInt(2),B=this.reader.readInt(4),I=this.reader.readData(B),this.zip64ExtensibleData[E]={id:E,length:B,value:I}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var A,Q;for(A=0;A<this.files.length;A++)Q=this.files[A],this.reader.setIndex(Q.localHeaderOffset),this.checkSignature(SE.LOCAL_FILE_HEADER),Q.readLocalPart(this.reader),Q.handleUTF8(),Q.processAttributes()},readCentralDir:function(){var A;this.reader.setIndex(this.centralDirOffset);while(this.reader.readAndCheckSignature(SE.CENTRAL_FILE_HEADER))A=new Zh({zip64:this.zip64},this.loadOptions),A.readCentralPart(this.reader),this.files.push(A);if(this.centralDirRecords!==this.files.length){if(this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)}},readEndOfCentral:function(){var A=this.reader.lastIndexOfSignature(SE.CENTRAL_DIRECTORY_END);if(A<0){var Q=!this.isSignature(0,SE.LOCAL_FILE_HEADER);if(Q)throw new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");else throw new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(A);var E=A;if(this.checkSignature(SE.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===w8.MAX_VALUE_16BITS||this.diskWithCentralDirStart===w8.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===w8.MAX_VALUE_16BITS||this.centralDirRecords===w8.MAX_VALUE_16BITS||this.centralDirSize===w8.MAX_VALUE_32BITS||this.centralDirOffset===w8.MAX_VALUE_32BITS){if(this.zip64=!0,A=this.reader.lastIndexOfSignature(SE.ZIP64_CENTRAL_DIRECTORY_LOCATOR),A<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(A),this.checkSignature(SE.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,SE.ZIP64_CENTRAL_DIRECTORY_END)){if(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(SE.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory")}this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(SE.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var B=this.centralDirOffset+this.centralDirSize;if(this.zip64)B+=20,B+=12+this.zip64EndOfCentralSize;var I=E-B;if(I>0)if(this.isSignature(E,SE.CENTRAL_FILE_HEADER));else this.reader.zero=I;else if(I<0)throw new Error("Corrupted zip: missing "+Math.abs(I)+" bytes.")},prepareReader:function(A){this.reader=Gh(A)},load:function(A){this.prepareReader(A),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}};mq.exports=pq});var nq=hA((yAA,lq)=>{function Xh(A){return new kU.Promise(function(Q,E){var B=A.decompressed.getContentWorker().pipe(new Wh);B.on("error",function(I){E(I)}).on("end",function(){if(B.streamInfo.crc32!==A.decompressed.crc32)E(new Error("Corrupted zip : CRC32 mismatch"));else Q()}).resume()})}var vG=VQ(),kU=$6(),Oh=F6(),$h=cq(),Wh=vH(),dq=GJ();lq.exports=function(A,Q){var E=this;if(Q=vG.extend(Q||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:Oh.utf8decode}),dq.isNode&&dq.isStream(A))return kU.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file."));return vG.prepareContent("the loaded zip file",A,!0,Q.optimizedBinaryString,Q.base64).then(function(B){var I=new $h(Q);return I.load(B),I}).then(function B(I){var K=[kU.Promise.resolve(I)],J=I.files;if(Q.checkCRC32)for(var C=0;C<J.length;C++)K.push(Xh(J[C]));return kU.Promise.all(K)}).then(function B(I){var K=I.shift(),J=K.files;for(var C=0;C<J.length;C++){var U=J[C],Y=U.fileNameStr,H=vG.resolve(U.fileNameStr);if(E.file(H,U.decompressed,{binary:!0,optimizedBinaryString:!0,date:U.date,dir:U.dir,comment:U.fileCommentStr.length?U.fileCommentStr:null,unixPermissions:U.unixPermissions,dosPermissions:U.dosPermissions,createFolders:Q.createFolders}),!U.dir)E.file(H).unsafeOriginalName=Y}if(K.zipComment.length)E.comment=K.zipComment;return E})}});var iq=hA((xAA,oq)=>{function JE(){if(!(this instanceof JE))return new JE;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var A=new JE;for(var Q in this)if(typeof this[Q]!=="function")A[Q]=this[Q];return A}}JE.prototype=Dq();JE.prototype.loadAsync=nq();JE.support=F8();JE.defaults=kH();JE.version="3.10.1";JE.loadAsync=function(A,Q){return new JE().loadAsync(A,Q)};JE.external=$6();oq.exports=JE});var eq=hA((bAA,tq)=>{(function(){var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Q={rotl:function(E,B){return E<<B|E>>>32-B},rotr:function(E,B){return E<<32-B|E>>>B},endian:function(E){if(E.constructor==Number)return Q.rotl(E,8)&16711935|Q.rotl(E,24)&4278255360;for(var B=0;B<E.length;B++)E[B]=Q.endian(E[B]);return E},randomBytes:function(E){for(var B=[];E>0;E--)B.push(Math.floor(Math.random()*256));return B},bytesToWords:function(E){for(var B=[],I=0,K=0;I<E.length;I++,K+=8)B[K>>>5]|=E[I]<<24-K%32;return B},wordsToBytes:function(E){for(var B=[],I=0;I<E.length*32;I+=8)B.push(E[I>>>5]>>>24-I%32&255);return B},bytesToHex:function(E){for(var B=[],I=0;I<E.length;I++)B.push((E[I]>>>4).toString(16)),B.push((E[I]&15).toString(16));return B.join("")},hexToBytes:function(E){for(var B=[],I=0;I<E.length;I+=2)B.push(parseInt(E.substr(I,2),16));return B},bytesToBase64:function(E){for(var B=[],I=0;I<E.length;I+=3){var K=E[I]<<16|E[I+1]<<8|E[I+2];for(var J=0;J<4;J++)if(I*8+J*6<=E.length*8)B.push(A.charAt(K>>>6*(3-J)&63));else B.push("=")}return B.join("")},base64ToBytes:function(E){E=E.replace(/[^A-Z0-9+\/]/ig,"");for(var B=[],I=0,K=0;I<E.length;K=++I%4){if(K==0)continue;B.push((A.indexOf(E.charAt(I-1))&Math.pow(2,-2*K+8)-1)<<K*2|A.indexOf(E.charAt(I))>>>6-K*2)}return B}};tq.exports=Q})()});var bG=hA((fAA,AN)=>{var gG={utf8:{stringToBytes:function(A){return gG.bin.stringToBytes(unescape(encodeURIComponent(A)))},bytesToString:function(A){return decodeURIComponent(escape(gG.bin.bytesToString(A)))}},bin:{stringToBytes:function(A){for(var Q=[],E=0;E<A.length;E++)Q.push(A.charCodeAt(E)&255);return Q},bytesToString:function(A){for(var Q=[],E=0;E<A.length;E++)Q.push(String.fromCharCode(A[E]));return Q.join("")}}};AN.exports=gG});var BN=hA((uAA,EN)=>{function QN(A){return!!A.constructor&&typeof A.constructor.isBuffer==="function"&&A.constructor.isBuffer(A)}function Fh(A){return typeof A.readFloatLE==="function"&&typeof A.slice==="function"&&QN(A.slice(0,0))}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */EN.exports=function(A){return A!=null&&(QN(A)||Fh(A)||!!A._isBuffer)}});var KN=hA((pAA,IN)=>{(function(){var A=eq(),Q=bG().utf8,E=BN(),B=bG().bin,I=function(K,J){if(K.constructor==String)if(J&&J.encoding==="binary")K=B.stringToBytes(K);else K=Q.stringToBytes(K);else if(E(K))K=Array.prototype.slice.call(K,0);else if(!Array.isArray(K)&&K.constructor!==Uint8Array)K=K.toString();var C=A.bytesToWords(K),U=K.length*8,Y=1732584193,H=-271733879,R=-1732584194,G=271733878;for(var O=0;O<C.length;O++)C[O]=(C[O]<<8|C[O]>>>24)&16711935|(C[O]<<24|C[O]>>>8)&4278255360;C[U>>>5]|=128<<U%32,C[(U+64>>>9<<4)+14]=U;var{_ff:F,_gg:q,_hh:W,_ii:Z}=I;for(var O=0;O<C.length;O+=16){var $=Y,X=H,N=R,M=G;Y=F(Y,H,R,G,C[O+0],7,-680876936),G=F(G,Y,H,R,C[O+1],12,-389564586),R=F(R,G,Y,H,C[O+2],17,606105819),H=F(H,R,G,Y,C[O+3],22,-1044525330),Y=F(Y,H,R,G,C[O+4],7,-176418897),G=F(G,Y,H,R,C[O+5],12,1200080426),R=F(R,G,Y,H,C[O+6],17,-1473231341),H=F(H,R,G,Y,C[O+7],22,-45705983),Y=F(Y,H,R,G,C[O+8],7,1770035416),G=F(G,Y,H,R,C[O+9],12,-1958414417),R=F(R,G,Y,H,C[O+10],17,-42063),H=F(H,R,G,Y,C[O+11],22,-1990404162),Y=F(Y,H,R,G,C[O+12],7,1804603682),G=F(G,Y,H,R,C[O+13],12,-40341101),R=F(R,G,Y,H,C[O+14],17,-1502002290),H=F(H,R,G,Y,C[O+15],22,1236535329),Y=q(Y,H,R,G,C[O+1],5,-165796510),G=q(G,Y,H,R,C[O+6],9,-1069501632),R=q(R,G,Y,H,C[O+11],14,643717713),H=q(H,R,G,Y,C[O+0],20,-373897302),Y=q(Y,H,R,G,C[O+5],5,-701558691),G=q(G,Y,H,R,C[O+10],9,38016083),R=q(R,G,Y,H,C[O+15],14,-660478335),H=q(H,R,G,Y,C[O+4],20,-405537848),Y=q(Y,H,R,G,C[O+9],5,568446438),G=q(G,Y,H,R,C[O+14],9,-1019803690),R=q(R,G,Y,H,C[O+3],14,-187363961),H=q(H,R,G,Y,C[O+8],20,1163531501),Y=q(Y,H,R,G,C[O+13],5,-1444681467),G=q(G,Y,H,R,C[O+2],9,-51403784),R=q(R,G,Y,H,C[O+7],14,1735328473),H=q(H,R,G,Y,C[O+12],20,-1926607734),Y=W(Y,H,R,G,C[O+5],4,-378558),G=W(G,Y,H,R,C[O+8],11,-2022574463),R=W(R,G,Y,H,C[O+11],16,1839030562),H=W(H,R,G,Y,C[O+14],23,-35309556),Y=W(Y,H,R,G,C[O+1],4,-1530992060),G=W(G,Y,H,R,C[O+4],11,1272893353),R=W(R,G,Y,H,C[O+7],16,-155497632),H=W(H,R,G,Y,C[O+10],23,-1094730640),Y=W(Y,H,R,G,C[O+13],4,681279174),G=W(G,Y,H,R,C[O+0],11,-358537222),R=W(R,G,Y,H,C[O+3],16,-722521979),H=W(H,R,G,Y,C[O+6],23,76029189),Y=W(Y,H,R,G,C[O+9],4,-640364487),G=W(G,Y,H,R,C[O+12],11,-421815835),R=W(R,G,Y,H,C[O+15],16,530742520),H=W(H,R,G,Y,C[O+2],23,-995338651),Y=Z(Y,H,R,G,C[O+0],6,-198630844),G=Z(G,Y,H,R,C[O+7],10,1126891415),R=Z(R,G,Y,H,C[O+14],15,-1416354905),H=Z(H,R,G,Y,C[O+5],21,-57434055),Y=Z(Y,H,R,G,C[O+12],6,1700485571),G=Z(G,Y,H,R,C[O+3],10,-1894986606),R=Z(R,G,Y,H,C[O+10],15,-1051523),H=Z(H,R,G,Y,C[O+1],21,-2054922799),Y=Z(Y,H,R,G,C[O+8],6,1873313359),G=Z(G,Y,H,R,C[O+15],10,-30611744),R=Z(R,G,Y,H,C[O+6],15,-1560198380),H=Z(H,R,G,Y,C[O+13],21,1309151649),Y=Z(Y,H,R,G,C[O+4],6,-145523070),G=Z(G,Y,H,R,C[O+11],10,-1120210379),R=Z(R,G,Y,H,C[O+2],15,718787259),H=Z(H,R,G,Y,C[O+9],21,-343485551),Y=Y+$>>>0,H=H+X>>>0,R=R+N>>>0,G=G+M>>>0}return A.endian([Y,H,R,G])};I._ff=function(K,J,C,U,Y,H,R){var G=K+(J&C|~J&U)+(Y>>>0)+R;return(G<<H|G>>>32-H)+J},I._gg=function(K,J,C,U,Y,H,R){var G=K+(J&U|C&~U)+(Y>>>0)+R;return(G<<H|G>>>32-H)+J},I._hh=function(K,J,C,U,Y,H,R){var G=K+(J^C^U)+(Y>>>0)+R;return(G<<H|G>>>32-H)+J},I._ii=function(K,J,C,U,Y,H,R){var G=K+(C^(J|~U))+(Y>>>0)+R;return(G<<H|G>>>32-H)+J},I._blocksize=16,I._digestsize=16,IN.exports=function(K,J){if(K===void 0||K===null)throw new Error("Illegal argument "+K);var C=A.wordsToBytes(I(K,J));return J&&J.asBytes?C:J&&J.asString?B.bytesToString(C):A.bytesToHex(C)}})()});var UN=hA((Vh)=>{function CN(A){var Q=A.length;if(Q%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=A.indexOf("=");if(E===-1)E=Q;var B=E===Q?0:4-E%4;return[E,B]}function Nh(A){var Q=CN(A),E=Q[0],B=Q[1];return(E+B)*3/4-B}function Lh(A,Q,E){return(Q+E)*3/4-E}function Dh(A){var Q,E=CN(A),B=E[0],I=E[1],K=new qh(Lh(A,B,I)),J=0,C=I>0?B-4:B,U;for(U=0;U<C;U+=4)Q=CE[A.charCodeAt(U)]<<18|CE[A.charCodeAt(U+1)]<<12|CE[A.charCodeAt(U+2)]<<6|CE[A.charCodeAt(U+3)],K[J++]=Q>>16&255,K[J++]=Q>>8&255,K[J++]=Q&255;if(I===2)Q=CE[A.charCodeAt(U)]<<2|CE[A.charCodeAt(U+1)]>>4,K[J++]=Q&255;if(I===1)Q=CE[A.charCodeAt(U)]<<10|CE[A.charCodeAt(U+1)]<<4|CE[A.charCodeAt(U+2)]>>2,K[J++]=Q>>8&255,K[J++]=Q&255;return K}function Mh(A){return Q8[A>>18&63]+Q8[A>>12&63]+Q8[A>>6&63]+Q8[A&63]}function wh(A,Q,E){var B,I=[];for(var K=Q;K<E;K+=3)B=(A[K]<<16&16711680)+(A[K+1]<<8&65280)+(A[K+2]&255),I.push(Mh(B));return I.join("")}function zh(A){var Q,E=A.length,B=E%3,I=[],K=16383;for(var J=0,C=E-B;J<C;J+=K)I.push(wh(A,J,J+K>C?C:J+K));if(B===1)Q=A[E-1],I.push(Q8[Q>>2]+Q8[Q<<4&63]+"==");else if(B===2)Q=(A[E-2]<<8)+A[E-1],I.push(Q8[Q>>10]+Q8[Q>>4&63]+Q8[Q<<2&63]+"=");return I.join("")}Vh.byteLength=Nh;Vh.toByteArray=Dh;Vh.fromByteArray=zh;var Q8=[],CE=[],qh=typeof Uint8Array!=="undefined"?Uint8Array:Array,fG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(qI=0,JN=fG.length;qI<JN;++qI)Q8[qI]=fG[qI],CE[fG.charCodeAt(qI)]=qI;var qI,JN;CE["-".charCodeAt(0)]=62;CE["_".charCodeAt(0)]=63});var YN=hA((_h)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */_h.read=function(A,Q,E,B,I){var K,J,C=I*8-B-1,U=(1<<C)-1,Y=U>>1,H=-7,R=E?I-1:0,G=E?-1:1,O=A[Q+R];R+=G,K=O&(1<<-H)-1,O>>=-H,H+=C;for(;H>0;K=K*256+A[Q+R],R+=G,H-=8);J=K&(1<<-H)-1,K>>=-H,H+=B;for(;H>0;J=J*256+A[Q+R],R+=G,H-=8);if(K===0)K=1-Y;else if(K===U)return J?NaN:(O?-1:1)*(1/0);else J=J+Math.pow(2,B),K=K-Y;return(O?-1:1)*J*Math.pow(2,K-B)};_h.write=function(A,Q,E,B,I,K){var J,C,U,Y=K*8-I-1,H=(1<<Y)-1,R=H>>1,G=I===23?Math.pow(2,-24)-Math.pow(2,-77):0,O=B?0:K-1,F=B?1:-1,q=Q<0||Q===0&&1/Q<0?1:0;if(Q=Math.abs(Q),isNaN(Q)||Q===1/0)C=isNaN(Q)?1:0,J=H;else{if(J=Math.floor(Math.log(Q)/Math.LN2),Q*(U=Math.pow(2,-J))<1)J--,U*=2;if(J+R>=1)Q+=G/U;else Q+=G*Math.pow(2,1-R);if(Q*U>=2)J++,U/=2;if(J+R>=H)C=0,J=H;else if(J+R>=1)C=(Q*U-1)*Math.pow(2,I),J=J+R;else C=Q*Math.pow(2,R-1)*Math.pow(2,I),J=0}for(;I>=8;A[E+O]=C&255,O+=F,C/=256,I-=8);J=J<<I|C,Y+=I;for(;Y>0;A[E+O]=J&255,O+=F,J/=256,Y-=8);A[E+O-F]|=q*128}});var sG=hA((aAA,PN)=>{var SN=Object.prototype.toString;PN.exports=function A(Q){var E=SN.call(Q),B=E==="[object Arguments]";if(!B)B=E!=="[object Array]"&&Q!==null&&typeof Q==="object"&&typeof Q.length==="number"&&Q.length>=0&&SN.call(Q.callee)==="[object Function]";return B}});var bN=hA((tAA,gN)=>{var xN;if(!Object.keys)yJ=Object.prototype.hasOwnProperty,rG=Object.prototype.toString,_N=sG(),aG=Object.prototype.propertyIsEnumerable,kN=!aG.call({toString:null},"toString"),jN=aG.call(function(){},"prototype"),xJ=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],yU=function(A){var Q=A.constructor;return Q&&Q.prototype===A},hN={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},vN=function(){if(typeof window==="undefined")return!1;for(var A in window)try{if(!hN["$"+A]&&yJ.call(window,A)&&window[A]!==null&&typeof window[A]==="object")try{yU(window[A])}catch(Q){return!0}}catch(Q){return!0}return!1}(),yN=function(A){if(typeof window==="undefined"||!vN)return yU(A);try{return yU(A)}catch(Q){return!1}},xN=function A(Q){var E=Q!==null&&typeof Q==="object",B=rG.call(Q)==="[object Function]",I=_N(Q),K=E&&rG.call(Q)==="[object String]",J=[];if(!E&&!B&&!I)throw new TypeError("Object.keys called on a non-object");var C=jN&&B;if(K&&Q.length>0&&!yJ.call(Q,0))for(var U=0;U<Q.length;++U)J.push(String(U));if(I&&Q.length>0)for(var Y=0;Y<Q.length;++Y)J.push(String(Y));else for(var H in Q)if(!(C&&H==="prototype")&&yJ.call(Q,H))J.push(String(H));if(kN){var R=yN(Q);for(var G=0;G<xJ.length;++G)if(!(R&&xJ[G]==="constructor")&&yJ.call(Q,xJ[G]))J.push(xJ[G])}return J};var yJ,rG,_N,aG,kN,jN,xJ,yU,hN,vN,yN;gN.exports=xN});var tG=hA((eAA,pN)=>{var Uv=Array.prototype.slice,Yv=sG(),fN=Object.keys,xU=fN?function A(Q){return fN(Q)}:bN(),uN=Object.keys;xU.shim=function A(){if(Object.keys){var Q=function(){var E=Object.keys(arguments);return E&&E.length===arguments.length}(1,2);if(!Q)Object.keys=function E(B){if(Yv(B))return uN(Uv.call(B));return uN(B)}}else Object.keys=xU;return Object.keys||xU};pN.exports=xU});var cN=hA((A0A,mN)=>{mN.exports=Error});var lN=hA((Q0A,dN)=>{dN.exports=EvalError});var oN=hA((E0A,nN)=>{nN.exports=RangeError});var sN=hA((B0A,iN)=>{iN.exports=ReferenceError});var eG=hA((I0A,rN)=>{rN.exports=SyntaxError});var gJ=hA((K0A,aN)=>{aN.exports=TypeError});var eN=hA((J0A,tN)=>{tN.exports=URIError});var gU=hA((C0A,AL)=>{AL.exports=function A(){if(typeof Symbol!=="function"||typeof Object.getOwnPropertySymbols!=="function")return!1;if(typeof Symbol.iterator==="symbol")return!0;var Q={},E=Symbol("test"),B=Object(E);if(typeof E==="string")return!1;if(Object.prototype.toString.call(E)!=="[object Symbol]")return!1;if(Object.prototype.toString.call(B)!=="[object Symbol]")return!1;var I=42;Q[E]=I;for(E in Q)return!1;if(typeof Object.keys==="function"&&Object.keys(Q).length!==0)return!1;if(typeof Object.getOwnPropertyNames==="function"&&Object.getOwnPropertyNames(Q).length!==0)return!1;var K=Object.getOwnPropertySymbols(Q);if(K.length!==1||K[0]!==E)return!1;if(!Object.prototype.propertyIsEnumerable.call(Q,E))return!1;if(typeof Object.getOwnPropertyDescriptor==="function"){var J=Object.getOwnPropertyDescriptor(Q,E);if(J.value!==I||J.enumerable!==!0)return!1}return!0}});var BL=hA((U0A,EL)=>{var QL=typeof Symbol!=="undefined"&&Symbol,Hv=gU();EL.exports=function A(){if(typeof QL!=="function")return!1;if(typeof Symbol!=="function")return!1;if(typeof QL("foo")!=="symbol")return!1;if(typeof Symbol("bar")!=="symbol")return!1;return Hv()}});var KL=hA((Y0A,IL)=>{var AZ={__proto__:null,foo:{}},Gv=Object;IL.exports=function A(){return{__proto__:AZ}.foo===AZ.foo&&!(AZ instanceof Gv)}});var UL=hA((H0A,CL)=>{var Zv="Function.prototype.bind called on incompatible ",Rv=Object.prototype.toString,Ov=Math.max,$v="[object Function]",JL=function A(Q,E){var B=[];for(var I=0;I<Q.length;I+=1)B[I]=Q[I];for(var K=0;K<E.length;K+=1)B[K+Q.length]=E[K];return B},Wv=function A(Q,E){var B=[];for(var I=E||0,K=0;I<Q.length;I+=1,K+=1)B[K]=Q[I];return B},Xv=function(A,Q){var E="";for(var B=0;B<A.length;B+=1)if(E+=A[B],B+1<A.length)E+=Q;return E};CL.exports=function A(Q){var E=this;if(typeof E!=="function"||Rv.apply(E)!==$v)throw new TypeError(Zv+E);var B=Wv(arguments,1),I,K=function(){if(this instanceof I){var H=E.apply(this,JL(B,arguments));if(Object(H)===H)return H;return this}return E.apply(Q,JL(B,arguments))},J=Ov(0,E.length-B.length),C=[];for(var U=0;U<J;U++)C[U]="$"+U;if(I=Function("binder","return function ("+Xv(C,",")+"){ return binder.apply(this,arguments); }")(K),E.prototype){var Y=function H(){};Y.prototype=E.prototype,I.prototype=new Y,Y.prototype=null}return I}});var bU=hA((G0A,YL)=>{var Fv=UL();YL.exports=Function.prototype.bind||Fv});var GL=hA((Z0A,HL)=>{var qv=Function.prototype.call,Nv=Object.prototype.hasOwnProperty,Lv=bU();HL.exports=Lv.call(qv,Nv)});var f6=hA((R0A,WL)=>{var v0,Dv=cN(),Mv=lN(),wv=oN(),zv=sN(),b6=eG(),g6=gJ(),Vv=eN(),$L=Function,QZ=function(A){try{return $L('"use strict"; return ('+A+").constructor;")()}catch(Q){}},LI=Object.getOwnPropertyDescriptor;if(LI)try{LI({},"")}catch(A){LI=null}var EZ=function(){throw new g6},Tv=LI?function(){try{return arguments.callee,EZ}catch(A){try{return LI(arguments,"callee").get}catch(Q){return EZ}}}():EZ,y6=BL()(),Sv=KL()(),Q1=Object.getPrototypeOf||(Sv?function(A){return A.__proto__}:null),x6={},Pv=typeof Uint8Array==="undefined"||!Q1?v0:Q1(Uint8Array),DI={__proto__:null,"%AggregateError%":typeof AggregateError==="undefined"?v0:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer==="undefined"?v0:ArrayBuffer,"%ArrayIteratorPrototype%":y6&&Q1?Q1([][Symbol.iterator]()):v0,"%AsyncFromSyncIteratorPrototype%":v0,"%AsyncFunction%":x6,"%AsyncGenerator%":x6,"%AsyncGeneratorFunction%":x6,"%AsyncIteratorPrototype%":x6,"%Atomics%":typeof Atomics==="undefined"?v0:Atomics,"%BigInt%":typeof BigInt==="undefined"?v0:BigInt,"%BigInt64Array%":typeof BigInt64Array==="undefined"?v0:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array==="undefined"?v0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView==="undefined"?v0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Dv,"%eval%":eval,"%EvalError%":Mv,"%Float32Array%":typeof Float32Array==="undefined"?v0:Float32Array,"%Float64Array%":typeof Float64Array==="undefined"?v0:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry==="undefined"?v0:FinalizationRegistry,"%Function%":$L,"%GeneratorFunction%":x6,"%Int8Array%":typeof Int8Array==="undefined"?v0:Int8Array,"%Int16Array%":typeof Int16Array==="undefined"?v0:Int16Array,"%Int32Array%":typeof Int32Array==="undefined"?v0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":y6&&Q1?Q1(Q1([][Symbol.iterator]())):v0,"%JSON%":typeof JSON==="object"?JSON:v0,"%Map%":typeof Map==="undefined"?v0:Map,"%MapIteratorPrototype%":typeof Map==="undefined"||!y6||!Q1?v0:Q1((/*@__PURE__*/new Map())[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise==="undefined"?v0:Promise,"%Proxy%":typeof Proxy==="undefined"?v0:Proxy,"%RangeError%":wv,"%ReferenceError%":zv,"%Reflect%":typeof Reflect==="undefined"?v0:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set==="undefined"?v0:Set,"%SetIteratorPrototype%":typeof Set==="undefined"||!y6||!Q1?v0:Q1((/*@__PURE__*/new Set())[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer==="undefined"?v0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":y6&&Q1?Q1(""[Symbol.iterator]()):v0,"%Symbol%":y6?Symbol:v0,"%SyntaxError%":b6,"%ThrowTypeError%":Tv,"%TypedArray%":Pv,"%TypeError%":g6,"%Uint8Array%":typeof Uint8Array==="undefined"?v0:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray==="undefined"?v0:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array==="undefined"?v0:Uint16Array,"%Uint32Array%":typeof Uint32Array==="undefined"?v0:Uint32Array,"%URIError%":Vv,"%WeakMap%":typeof WeakMap==="undefined"?v0:WeakMap,"%WeakRef%":typeof WeakRef==="undefined"?v0:WeakRef,"%WeakSet%":typeof WeakSet==="undefined"?v0:WeakSet};if(Q1)try{null.error}catch(A){ZL=Q1(Q1(A)),DI["%Error.prototype%"]=ZL}var ZL,_v=function A(Q){var E;if(Q==="%AsyncFunction%")E=QZ("async function () {}");else if(Q==="%GeneratorFunction%")E=QZ("function* () {}");else if(Q==="%AsyncGeneratorFunction%")E=QZ("async function* () {}");else if(Q==="%AsyncGenerator%"){var B=A("%AsyncGeneratorFunction%");if(B)E=B.prototype}else if(Q==="%AsyncIteratorPrototype%"){var I=A("%AsyncGenerator%");if(I&&Q1)E=Q1(I.prototype)}return DI[Q]=E,E},RL={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bJ=bU(),fU=GL(),kv=bJ.call(Function.call,Array.prototype.concat),jv=bJ.call(Function.apply,Array.prototype.splice),OL=bJ.call(Function.call,String.prototype.replace),uU=bJ.call(Function.call,String.prototype.slice),hv=bJ.call(Function.call,RegExp.prototype.exec),vv=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,yv=/\\(\\)?/g,xv=function A(Q){var E=uU(Q,0,1),B=uU(Q,-1);if(E==="%"&&B!=="%")throw new b6("invalid intrinsic syntax, expected closing `%`");else if(B==="%"&&E!=="%")throw new b6("invalid intrinsic syntax, expected opening `%`");var I=[];return OL(Q,vv,function(K,J,C,U){I[I.length]=C?OL(U,yv,"$1"):J||K}),I},gv=function A(Q,E){var B=Q,I;if(fU(RL,B))I=RL[B],B="%"+I[0]+"%";if(fU(DI,B)){var K=DI[B];if(K===x6)K=_v(B);if(typeof K==="undefined"&&!E)throw new g6("intrinsic "+Q+" exists, but is not available. Please file an issue!");return{alias:I,name:B,value:K}}throw new b6("intrinsic "+Q+" does not exist!")};WL.exports=function A(Q,E){if(typeof Q!=="string"||Q.length===0)throw new g6("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof E!=="boolean")throw new g6('"allowMissing" argument must be a boolean');if(hv(/^%?[^%]*%?$/,Q)===null)throw new b6("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var B=xv(Q),I=B.length>0?B[0]:"",K=gv("%"+I+"%",E),J=K.name,C=K.value,U=!1,Y=K.alias;if(Y)I=Y[0],jv(B,kv([0,1],Y));for(var H=1,R=!0;H<B.length;H+=1){var G=B[H],O=uU(G,0,1),F=uU(G,-1);if((O==='"'||O==="'"||O==="`"||(F==='"'||F==="'"||F==="`"))&&O!==F)throw new b6("property names with quotes must have matching quotes");if(G==="constructor"||!R)U=!0;if(I+="."+G,J="%"+I+"%",fU(DI,J))C=DI[J];else if(C!=null){if(!(G in C)){if(!E)throw new g6("base intrinsic for "+Q+" exists, but the property is not available.");return}if(LI&&H+1>=B.length){var q=LI(C,G);if(R=!!q,R&&"get"in q&&!("originalValue"in q.get))C=q.get;else C=C[G]}else R=fU(C,G),C=C[G];if(R&&!U)DI[J]=C}}return C}});var mU=hA((O0A,XL)=>{var bv=f6(),pU=bv("%Object.defineProperty%",!0)||!1;if(pU)try{pU({},"a",{value:1})}catch(A){pU=!1}XL.exports=pU});var dU=hA(($0A,FL)=>{var fv=f6(),cU=fv("%Object.getOwnPropertyDescriptor%",!0);if(cU)try{cU([],"length")}catch(A){cU=null}FL.exports=cU});var BZ=hA((W0A,LL)=>{var qL=mU(),uv=eG(),u6=gJ(),NL=dU();LL.exports=function A(Q,E,B){if(!Q||typeof Q!=="object"&&typeof Q!=="function")throw new u6("`obj` must be an object or a function`");if(typeof E!=="string"&&typeof E!=="symbol")throw new u6("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!=="boolean"&&arguments[3]!==null)throw new u6("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!=="boolean"&&arguments[4]!==null)throw new u6("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!=="boolean"&&arguments[5]!==null)throw new u6("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!=="boolean")throw new u6("`loose`, if provided, must be a boolean");var I=arguments.length>3?arguments[3]:null,K=arguments.length>4?arguments[4]:null,J=arguments.length>5?arguments[5]:null,C=arguments.length>6?arguments[6]:!1,U=!!NL&&NL(Q,E);if(qL)qL(Q,E,{configurable:J===null&&U?U.configurable:!J,enumerable:I===null&&U?U.enumerable:!I,value:B,writable:K===null&&U?U.writable:!K});else if(C||!I&&!K&&!J)Q[E]=B;else throw new uv("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var KZ=hA((X0A,ML)=>{var IZ=mU(),DL=function A(){return!!IZ};DL.hasArrayLengthDefineBug=function A(){if(!IZ)return null;try{return IZ([],"length",{value:1}).length!==1}catch(Q){return!0}};ML.exports=DL});var fJ=hA((F0A,TL)=>{var pv=tG(),mv=typeof Symbol==="function"&&typeof Symbol("foo")==="symbol",cv=Object.prototype.toString,dv=Array.prototype.concat,wL=BZ(),lv=function(A){return typeof A==="function"&&cv.call(A)==="[object Function]"},zL=KZ()(),nv=function(A,Q,E,B){if(Q in A){if(B===!0){if(A[Q]===E)return}else if(!lv(B)||!B())return}if(zL)wL(A,Q,E,!0);else wL(A,Q,E)},VL=function(A,Q){var E=arguments.length>2?arguments[2]:{},B=pv(Q);if(mv)B=dv.call(B,Object.getOwnPropertySymbols(Q));for(var I=0;I<B.length;I+=1)nv(A,B[I],Q[B[I]],E[B[I]])};VL.supportsDescriptors=!!zL;TL.exports=VL});var jL=hA((q0A,kL)=>{var ov=f6(),SL=BZ(),iv=KZ()(),PL=dU(),_L=gJ(),sv=ov("%Math.floor%");kL.exports=function A(Q,E){if(typeof Q!=="function")throw new _L("`fn` is not a function");if(typeof E!=="number"||E<0||E>4294967295||sv(E)!==E)throw new _L("`length` must be a positive 32-bit integer");var B=arguments.length>2&&!!arguments[2],I=!0,K=!0;if("length"in Q&&PL){var J=PL(Q,"length");if(J&&!J.configurable)I=!1;if(J&&!J.writable)K=!1}if(I||K||!B)if(iv)SL(Q,"length",E,!0,!0);else SL(Q,"length",E);return Q}});var uJ=hA((N0A,lU)=>{var JZ=bU(),nU=f6(),rv=jL(),av=gJ(),yL=nU("%Function.prototype.apply%"),xL=nU("%Function.prototype.call%"),gL=nU("%Reflect.apply%",!0)||JZ.call(xL,yL),hL=mU(),tv=nU("%Math.max%");lU.exports=function A(Q){if(typeof Q!=="function")throw new av("a function is required");var E=gL(JZ,xL,arguments);return rv(E,1+tv(0,Q.length-(arguments.length-1)),!0)};var vL=function A(){return gL(JZ,yL,arguments)};if(hL)hL(lU.exports,"apply",{value:vL});else lU.exports.apply=vL});var CZ=hA((L0A,fL)=>{var bL=function(A){return A!==A};fL.exports=function A(Q,E){if(Q===0&&E===0)return 1/Q===1/E;if(Q===E)return!0;if(bL(Q)&&bL(E))return!0;return!1}});var oU=hA((D0A,uL)=>{var ev=CZ();uL.exports=function A(){return typeof Object.is==="function"?Object.is:ev}});var mL=hA((M0A,pL)=>{var Ay=oU(),Qy=fJ();pL.exports=function A(){var Q=Ay();return Qy(Object,{is:Q},{is:function E(){return Object.is!==Q}}),Q}});var nL=hA((w0A,lL)=>{var Ey=fJ(),By=uJ(),Iy=CZ(),cL=oU(),Ky=mL(),dL=By(cL(),Object);Ey(dL,{getPolyfill:cL,implementation:Iy,shim:Ky});lL.exports=dL});var UZ=hA((z0A,oL)=>{oL.exports=function A(Q){return Q!==Q}});var YZ=hA((V0A,iL)=>{var Jy=UZ();iL.exports=function A(){if(Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a"))return Number.isNaN;return Jy}});var rL=hA((T0A,sL)=>{var Cy=fJ(),Uy=YZ();sL.exports=function A(){var Q=Uy();return Cy(Number,{isNaN:Q},{isNaN:function E(){return Number.isNaN!==Q}}),Q}});var A4=hA((S0A,eL)=>{var Yy=uJ(),Hy=fJ(),Gy=UZ(),aL=YZ(),Zy=rL(),tL=Yy(aL(),Number);Hy(tL,{getPolyfill:aL,implementation:Gy,shim:Zy});eL.exports=tL});var iU=hA((P0A,Q4)=>{var Ry=gU();Q4.exports=function A(){return Ry()&&!!Symbol.toStringTag}});var pJ=hA((_0A,I4)=>{var E4=f6(),B4=uJ(),Oy=B4(E4("String.prototype.indexOf"));I4.exports=function A(Q,E){var B=E4(Q,!!E);if(typeof B==="function"&&Oy(Q,".prototype.")>-1)return B4(B);return B}});var C4=hA((k0A,J4)=>{var $y=iU()(),Wy=pJ(),HZ=Wy("Object.prototype.toString"),sU=function A(Q){if($y&&Q&&typeof Q==="object"&&Symbol.toStringTag in Q)return!1;return HZ(Q)==="[object Arguments]"},K4=function A(Q){if(sU(Q))return!0;return Q!==null&&typeof Q==="object"&&typeof Q.length==="number"&&Q.length>=0&&HZ(Q)!=="[object Array]"&&HZ(Q.callee)==="[object Function]"},Xy=function(){return sU(arguments)}();sU.isLegacyArguments=K4;J4.exports=Xy?sU:K4});var H4=hA((j0A,Y4)=>{var Fy=Object.prototype.toString,qy=Function.prototype.toString,Ny=/^\s*(?:function)?\*/,U4=iU()(),GZ=Object.getPrototypeOf,Ly=function(){if(!U4)return!1;try{return Function("return function*() {}")()}catch(A){}},ZZ;Y4.exports=function A(Q){if(typeof Q!=="function")return!1;if(Ny.test(qy.call(Q)))return!0;if(!U4){var E=Fy.call(Q);return E==="[object GeneratorFunction]"}if(!GZ)return!1;if(typeof ZZ==="undefined"){var B=Ly();ZZ=B?GZ(B):!1}return GZ(Q)===ZZ}});var O4=hA((h0A,R4)=>{var Z4=Function.prototype.toString,p6=typeof Reflect==="object"&&Reflect!==null&&Reflect.apply,OZ,rU;if(typeof p6==="function"&&typeof Object.defineProperty==="function")try{OZ=Object.defineProperty({},"length",{get:function(){throw rU}}),rU={},p6(function(){throw 42},null,OZ)}catch(A){if(A!==rU)p6=null}else p6=null;var Dy=/^\s*class\b/,$Z=function A(Q){try{var E=Z4.call(Q);return Dy.test(E)}catch(B){return!1}},RZ=function A(Q){try{if($Z(Q))return!1;return Z4.call(Q),!0}catch(E){return!1}},aU=Object.prototype.toString,My="[object Object]",wy="[object Function]",zy="[object GeneratorFunction]",Vy="[object HTMLAllCollection]",Ty="[object HTML document.all class]",Sy="[object HTMLCollection]",Py=typeof Symbol==="function"&&!!Symbol.toStringTag,_y=!(0 in[,]),WZ=function A(){return!1};if(typeof document==="object"){if(G4=document.all,aU.call(G4)===aU.call(document.all))WZ=function A(Q){if((_y||!Q)&&(typeof Q==="undefined"||typeof Q==="object"))try{var E=aU.call(Q);return(E===Vy||E===Ty||E===Sy||E===My)&&Q("")==null}catch(B){}return!1}}var G4;R4.exports=p6?function A(Q){if(WZ(Q))return!0;if(!Q)return!1;if(typeof Q!=="function"&&typeof Q!=="object")return!1;try{p6(Q,null,OZ)}catch(E){if(E!==rU)return!1}return!$Z(Q)&&RZ(Q)}:function A(Q){if(WZ(Q))return!0;if(!Q)return!1;if(typeof Q!=="function"&&typeof Q!=="object")return!1;if(Py)return RZ(Q);if($Z(Q))return!1;var E=aU.call(Q);if(E!==wy&&E!==zy&&!/^\[object HTML/.test(E))return!1;return RZ(Q)}});var X4=hA((v0A,W4)=>{var ky=O4(),jy=Object.prototype.toString,$4=Object.prototype.hasOwnProperty,hy=function A(Q,E,B){for(var I=0,K=Q.length;I<K;I++)if($4.call(Q,I))if(B==null)E(Q[I],I,Q);else E.call(B,Q[I],I,Q)},vy=function A(Q,E,B){for(var I=0,K=Q.length;I<K;I++)if(B==null)E(Q.charAt(I),I,Q);else E.call(B,Q.charAt(I),I,Q)},yy=function A(Q,E,B){for(var I in Q)if($4.call(Q,I))if(B==null)E(Q[I],I,Q);else E.call(B,Q[I],I,Q)},xy=function A(Q,E,B){if(!ky(E))throw new TypeError("iterator must be a function");var I;if(arguments.length>=3)I=B;if(jy.call(Q)==="[object Array]")hy(Q,E,I);else if(typeof Q==="string")vy(Q,E,I);else yy(Q,E,I)};W4.exports=xy});var q4=hA((y0A,F4)=>{F4.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]});var L4=hA((x0A,N4)=>{var XZ=q4(),gy=typeof globalThis==="undefined"?global:globalThis;N4.exports=function A(){var Q=[];for(var E=0;E<XZ.length;E++)if(typeof gy[XZ[E]]==="function")Q[Q.length]=XZ[E];return Q}});var DZ=hA((g0A,z4)=>{var eU=X4(),by=L4(),D4=uJ(),NZ=pJ(),tU=dU(),fy=NZ("Object.prototype.toString"),w4=iU()(),M4=typeof globalThis==="undefined"?global:globalThis,qZ=by(),LZ=NZ("String.prototype.slice"),FZ=Object.getPrototypeOf,uy=NZ("Array.prototype.indexOf",!0)||function A(Q,E){for(var B=0;B<Q.length;B+=1)if(Q[B]===E)return B;return-1},A7={__proto__:null};if(w4&&tU&&FZ)eU(qZ,function(A){var Q=new M4[A];if(Symbol.toStringTag in Q){var E=FZ(Q),B=tU(E,Symbol.toStringTag);if(!B){var I=FZ(E);B=tU(I,Symbol.toStringTag)}A7["$"+A]=D4(B.get)}});else eU(qZ,function(A){var Q=new M4[A],E=Q.slice||Q.set;if(E)A7["$"+A]=D4(E)});var py=function A(Q){var E=!1;return eU(A7,function(B,I){if(!E)try{if("$"+B(Q)===I)E=LZ(I,1)}catch(K){}}),E},my=function A(Q){var E=!1;return eU(A7,function(B,I){if(!E)try{B(Q),E=LZ(I,1)}catch(K){}}),E};z4.exports=function A(Q){if(!Q||typeof Q!=="object")return!1;if(!w4){var E=LZ(fy(Q),8,-1);if(uy(qZ,E)>-1)return E;if(E!=="Object")return!1;return my(Q)}if(!tU)return null;return py(Q)}});var T4=hA((b0A,V4)=>{var cy=DZ();V4.exports=function A(Q){return!!cy(Q)}});var m4=hA((p4)=>{function m6(A){return A.call.bind(A)}function cJ(A,Q){if(typeof A!=="object")return!1;try{return Q(A),!0}catch(E){return!1}}function sy(A){return typeof Promise!=="undefined"&&A instanceof Promise||A!==null&&typeof A==="object"&&typeof A.then==="function"&&typeof A.catch==="function"}function ry(A){if(typeof ArrayBuffer!=="undefined"&&ArrayBuffer.isView)return ArrayBuffer.isView(A);return S4(A)||v4(A)}function ay(A){return PE(A)==="Uint8Array"}function ty(A){return PE(A)==="Uint8ClampedArray"}function ey(A){return PE(A)==="Uint16Array"}function Ax(A){return PE(A)==="Uint32Array"}function Qx(A){return PE(A)==="Int8Array"}function Ex(A){return PE(A)==="Int16Array"}function Bx(A){return PE(A)==="Int32Array"}function Ix(A){return PE(A)==="Float32Array"}function Kx(A){return PE(A)==="Float64Array"}function Jx(A){return PE(A)==="BigInt64Array"}function Cx(A){return PE(A)==="BigUint64Array"}function Q7(A){return UE(A)==="[object Map]"}function Ux(A){if(typeof Map==="undefined")return!1;return Q7.working?Q7(A):A instanceof Map}function E7(A){return UE(A)==="[object Set]"}function Yx(A){if(typeof Set==="undefined")return!1;return E7.working?E7(A):A instanceof Set}function B7(A){return UE(A)==="[object WeakMap]"}function Hx(A){if(typeof WeakMap==="undefined")return!1;return B7.working?B7(A):A instanceof WeakMap}function wZ(A){return UE(A)==="[object WeakSet]"}function Gx(A){return wZ(A)}function I7(A){return UE(A)==="[object ArrayBuffer]"}function h4(A){if(typeof ArrayBuffer==="undefined")return!1;return I7.working?I7(A):A instanceof ArrayBuffer}function K7(A){return UE(A)==="[object DataView]"}function v4(A){if(typeof DataView==="undefined")return!1;return K7.working?K7(A):A instanceof DataView}function mJ(A){return UE(A)==="[object SharedArrayBuffer]"}function y4(A){if(typeof MZ==="undefined")return!1;if(typeof mJ.working==="undefined")mJ.working=mJ(new MZ);return mJ.working?mJ(A):A instanceof MZ}function Zx(A){return UE(A)==="[object AsyncFunction]"}function Rx(A){return UE(A)==="[object Map Iterator]"}function Ox(A){return UE(A)==="[object Set Iterator]"}function $x(A){return UE(A)==="[object Generator]"}function Wx(A){return UE(A)==="[object WebAssembly.Module]"}function x4(A){return cJ(A,ny)}function g4(A){return cJ(A,oy)}function b4(A){return cJ(A,iy)}function f4(A){return P4&&cJ(A,k4)}function u4(A){return _4&&cJ(A,j4)}function Xx(A){return x4(A)||g4(A)||b4(A)||f4(A)||u4(A)}function Fx(A){return typeof Uint8Array!=="undefined"&&(h4(A)||y4(A))}var dy=C4(),ly=H4(),PE=DZ(),S4=T4(),P4=typeof BigInt!=="undefined",_4=typeof Symbol!=="undefined",UE=m6(Object.prototype.toString),ny=m6(Number.prototype.valueOf),oy=m6(String.prototype.valueOf),iy=m6(Boolean.prototype.valueOf);if(P4)k4=m6(BigInt.prototype.valueOf);var k4;if(_4)j4=m6(Symbol.prototype.valueOf);var j4;p4.isArgumentsObject=dy;p4.isGeneratorFunction=ly;p4.isTypedArray=S4;p4.isPromise=sy;p4.isArrayBufferView=ry;p4.isUint8Array=ay;p4.isUint8ClampedArray=ty;p4.isUint16Array=ey;p4.isUint32Array=Ax;p4.isInt8Array=Qx;p4.isInt16Array=Ex;p4.isInt32Array=Bx;p4.isFloat32Array=Ix;p4.isFloat64Array=Kx;p4.isBigInt64Array=Jx;p4.isBigUint64Array=Cx;Q7.working=typeof Map!=="undefined"&&Q7(/*@__PURE__*/new Map);p4.isMap=Ux;E7.working=typeof Set!=="undefined"&&E7(/*@__PURE__*/new Set);p4.isSet=Yx;B7.working=typeof WeakMap!=="undefined"&&B7(/*@__PURE__*/new WeakMap);p4.isWeakMap=Hx;wZ.working=typeof WeakSet!=="undefined"&&wZ(/*@__PURE__*/new WeakSet);p4.isWeakSet=Gx;I7.working=typeof ArrayBuffer!=="undefined"&&I7(new ArrayBuffer);p4.isArrayBuffer=h4;K7.working=typeof ArrayBuffer!=="undefined"&&typeof DataView!=="undefined"&&K7(new DataView(new ArrayBuffer(1),0,1));p4.isDataView=v4;var MZ=typeof SharedArrayBuffer!=="undefined"?SharedArrayBuffer:void 0;p4.isSharedArrayBuffer=y4;p4.isAsyncFunction=Zx;p4.isMapIterator=Rx;p4.isSetIterator=Ox;p4.isGeneratorObject=$x;p4.isWebAssemblyCompiledModule=Wx;p4.isNumberObject=x4;p4.isStringObject=g4;p4.isBooleanObject=b4;p4.isBigIntObject=f4;p4.isSymbolObject=u4;p4.isBoxedPrimitive=Xx;p4.isAnyArrayBuffer=Fx;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(A){Object.defineProperty(p4,A,{enumerable:!1,value:function(){throw new Error(A+" is not supported in userland")}})})});var d4=hA((u0A,c4)=>{c4.exports=function A(Q){return Q&&typeof Q==="object"&&typeof Q.copy==="function"&&typeof Q.fill==="function"&&typeof Q.readUInt8==="function"}});var l4=hA((p0A,zZ)=>{if(typeof Object.create==="function")zZ.exports=function A(Q,E){if(E)Q.super_=E,Q.prototype=Object.create(E.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}})};else zZ.exports=function A(Q,E){if(E){Q.super_=E;var B=function(){};B.prototype=E.prototype,Q.prototype=new B,Q.prototype.constructor=Q}}});var d6=hA((kZ)=>{function NB(A,Q){var E={seen:[],stylize:Eg};if(arguments.length>=3)E.depth=arguments[2];if(arguments.length>=4)E.colors=arguments[3];if(PZ(Q))E.showHidden=Q;else if(Q)kZ._extend(E,Q);if(wI(E.showHidden))E.showHidden=!1;if(wI(E.depth))E.depth=2;if(wI(E.colors))E.colors=!1;if(wI(E.customInspect))E.customInspect=!0;if(E.colors)E.stylize=Qg;return Y7(E,A,E.depth)}function Qg(A,Q){var E=NB.styles[Q];if(E)return"\x1B["+NB.colors[E][0]+"m"+A+"\x1B["+NB.colors[E][1]+"m";else return A}function Eg(A,Q){return A}function Bg(A){var Q={};return A.forEach(function(E,B){Q[E]=!0}),Q}function Y7(A,Q,E){if(A.customInspect&&Q&&U7(Q.inspect)&&Q.inspect!==kZ.inspect&&!(Q.constructor&&Q.constructor.prototype===Q)){var B=Q.inspect(E,A);if(!Z7(B))B=Y7(A,B,E);return B}var I=Ig(A,Q);if(I)return I;var K=Object.keys(Q),J=Bg(K);if(A.showHidden)K=Object.getOwnPropertyNames(Q);if(lJ(Q)&&(K.indexOf("message")>=0||K.indexOf("description")>=0))return VZ(Q);if(K.length===0){if(U7(Q)){var C=Q.name?": "+Q.name:"";return A.stylize("[Function"+C+"]","special")}if(dJ(Q))return A.stylize(RegExp.prototype.toString.call(Q),"regexp");if(H7(Q))return A.stylize(Date.prototype.toString.call(Q),"date");if(lJ(Q))return VZ(Q)}var U="",Y=!1,H=["{","}"];if(s4(Q))Y=!0,H=["[","]"];if(U7(Q)){var R=Q.name?": "+Q.name:"";U=" [Function"+R+"]"}if(dJ(Q))U=" "+RegExp.prototype.toString.call(Q);if(H7(Q))U=" "+Date.prototype.toUTCString.call(Q);if(lJ(Q))U=" "+VZ(Q);if(K.length===0&&(!Y||Q.length==0))return H[0]+U+H[1];if(E<0)if(dJ(Q))return A.stylize(RegExp.prototype.toString.call(Q),"regexp");else return A.stylize("[Object]","special");A.seen.push(Q);var G;if(Y)G=Kg(A,Q,E,J,K);else G=K.map(function(O){return SZ(A,Q,E,J,O,Y)});return A.seen.pop(),Jg(G,U,H)}function Ig(A,Q){if(wI(Q))return A.stylize("undefined","undefined");if(Z7(Q)){var E="\'"+JSON.stringify(Q).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"\'";return A.stylize(E,"string")}if(r4(Q))return A.stylize(""+Q,"number");if(PZ(Q))return A.stylize(""+Q,"boolean");if(G7(Q))return A.stylize("null","null")}function VZ(A){return"["+Error.prototype.toString.call(A)+"]"}function Kg(A,Q,E,B,I){var K=[];for(var J=0,C=Q.length;J<C;++J)if(a4(Q,String(J)))K.push(SZ(A,Q,E,B,String(J),!0));else K.push("");return I.forEach(function(U){if(!U.match(/^\d+$/))K.push(SZ(A,Q,E,B,U,!0))}),K}function SZ(A,Q,E,B,I,K){var J,C,U;if(U=Object.getOwnPropertyDescriptor(Q,I)||{value:Q[I]},U.get)if(U.set)C=A.stylize("[Getter/Setter]","special");else C=A.stylize("[Getter]","special");else if(U.set)C=A.stylize("[Setter]","special");if(!a4(B,I))J="["+I+"]";if(!C)if(A.seen.indexOf(U.value)<0){if(G7(E))C=Y7(A,U.value,null);else C=Y7(A,U.value,E-1);if(C.indexOf("\n")>-1)if(K)C=C.split("\n").map(function(Y){return"  "+Y}).join("\n").slice(2);else C="\n"+C.split("\n").map(function(Y){return"   "+Y}).join("\n")}else C=A.stylize("[Circular]","special");if(wI(J)){if(K&&I.match(/^\d+$/))return C;if(J=JSON.stringify(""+I),J.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/))J=J.slice(1,-1),J=A.stylize(J,"name");else J=J.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),J=A.stylize(J,"string")}return J+": "+C}function Jg(A,Q,E){var B=0,I=A.reduce(function(K,J){if(B++,J.indexOf("\n")>=0)B++;return K+J.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(I>60)return E[0]+(Q===""?"":Q+"\n ")+" "+A.join(",\n  ")+" "+E[1];return E[0]+Q+" "+A.join(", ")+" "+E[1]}function s4(A){return Array.isArray(A)}function PZ(A){return typeof A==="boolean"}function G7(A){return A===null}function Cg(A){return A==null}function r4(A){return typeof A==="number"}function Z7(A){return typeof A==="string"}function Ug(A){return typeof A==="symbol"}function wI(A){return A===void 0}function dJ(A){return c6(A)&&_Z(A)==="[object RegExp]"}function c6(A){return typeof A==="object"&&A!==null}function H7(A){return c6(A)&&_Z(A)==="[object Date]"}function lJ(A){return c6(A)&&(_Z(A)==="[object Error]"||A instanceof Error)}function U7(A){return typeof A==="function"}function Yg(A){return A===null||typeof A==="boolean"||typeof A==="number"||typeof A==="string"||typeof A==="symbol"||typeof A==="undefined"}function _Z(A){return Object.prototype.toString.call(A)}function TZ(A){return A<10?"0"+A.toString(10):A.toString(10)}function Gg(){var A=/*@__PURE__*/new Date,Q=[TZ(A.getHours()),TZ(A.getMinutes()),TZ(A.getSeconds())].join(":");return[A.getDate(),Hg[A.getMonth()],Q].join(" ")}function a4(A,Q){return Object.prototype.hasOwnProperty.call(A,Q)}function Zg(A,Q){if(!A){var E=new Error("Promise was rejected with a falsy value");E.reason=A,A=E}return Q(A)}function Rg(A){if(typeof A!=="function")throw new TypeError('The "original" argument must be of type Function');function Q(){var E=[];for(var B=0;B<arguments.length;B++)E.push(arguments[B]);var I=E.pop();if(typeof I!=="function")throw new TypeError("The last argument must be of type Function");var K=this,J=function(){return I.apply(K,arguments)};A.apply(this,E).then(function(C){process.nextTick(J.bind(null,null,C))},function(C){process.nextTick(Zg.bind(null,C,J))})}return Object.setPrototypeOf(Q,Object.getPrototypeOf(A)),Object.defineProperties(Q,o4(A)),Q}var o4=Object.getOwnPropertyDescriptors||function A(Q){var E=Object.keys(Q),B={};for(var I=0;I<E.length;I++)B[E[I]]=Object.getOwnPropertyDescriptor(Q,E[I]);return B},Ag=/%[sdj%]/g;kZ.format=function(A){if(!Z7(A)){var Q=[];for(var E=0;E<arguments.length;E++)Q.push(NB(arguments[E]));return Q.join(" ")}var E=1,B=arguments,I=B.length,K=String(A).replace(Ag,function(C){if(C==="%%")return"%";if(E>=I)return C;switch(C){case"%s":return String(B[E++]);case"%d":return Number(B[E++]);case"%j":try{return JSON.stringify(B[E++])}catch(U){return"[Circular]"}default:return C}});for(var J=B[E];E<I;J=B[++E])if(G7(J)||!c6(J))K+=" "+J;else K+=" "+NB(J);return K};kZ.deprecate=function(A,Q){if(typeof process!=="undefined"&&process.noDeprecation===!0)return A;if(typeof process==="undefined")return function(){return kZ.deprecate(A,Q).apply(this,arguments)};var E=!1;function B(){if(!E){if(process.throwDeprecation)throw new Error(Q);else if(process.traceDeprecation)console.trace(Q);else console.error(Q);E=!0}return A.apply(this,arguments)}return B};var J7={},i4=/^$/;if(process.env.NODE_DEBUG)C7=process.env.NODE_DEBUG,C7=C7.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i4=new RegExp("^"+C7+"$","i");var C7;kZ.debuglog=function(A){if(A=A.toUpperCase(),!J7[A])if(i4.test(A)){var Q=process.pid;J7[A]=function(){var E=kZ.format.apply(kZ,arguments);console.error("%s %d: %s",A,Q,E)}}else J7[A]=function(){};return J7[A]};kZ.inspect=NB;NB.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};NB.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};kZ.types=m4();kZ.isArray=s4;kZ.isBoolean=PZ;kZ.isNull=G7;kZ.isNullOrUndefined=Cg;kZ.isNumber=r4;kZ.isString=Z7;kZ.isSymbol=Ug;kZ.isUndefined=wI;kZ.isRegExp=dJ;kZ.types.isRegExp=dJ;kZ.isObject=c6;kZ.isDate=H7;kZ.types.isDate=H7;kZ.isError=lJ;kZ.types.isNativeError=lJ;kZ.isFunction=U7;kZ.isPrimitive=Yg;kZ.isBuffer=d4();var Hg=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];kZ.log=function(){console.log("%s - %s",Gg(),kZ.format.apply(kZ,arguments))};kZ.inherits=l4();kZ._extend=function(A,Q){if(!Q||!c6(Q))return A;var E=Object.keys(Q),B=E.length;while(B--)A[E[B]]=Q[E[B]];return A};var MI=typeof Symbol!=="undefined"?Symbol("util.promisify.custom"):void 0;kZ.promisify=function A(Q){if(typeof Q!=="function")throw new TypeError('The "original" argument must be of type Function');if(MI&&Q[MI]){var E=Q[MI];if(typeof E!=="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(E,MI,{value:E,enumerable:!1,writable:!1,configurable:!0}),E}function E(){var B,I,K=new Promise(function(U,Y){B=U,I=Y}),J=[];for(var C=0;C<arguments.length;C++)J.push(arguments[C]);J.push(function(U,Y){if(U)I(U);else B(Y)});try{Q.apply(this,J)}catch(U){I(U)}return K}if(Object.setPrototypeOf(E,Object.getPrototypeOf(Q)),MI)Object.defineProperty(E,MI,{value:E,enumerable:!1,writable:!1,configurable:!0});return Object.defineProperties(E,o4(Q))};kZ.promisify.custom=MI;kZ.callbackify=Rg});var q2=hA((c0A,F2)=>{function A2(A,Q){return gg(A)||xg(A,Q)||yg(A,Q)||vg()}function vg(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function yg(A,Q){if(!A)return;if(typeof A==="string")return Q2(A,Q);var E=Object.prototype.toString.call(A).slice(8,-1);if(E==="Object"&&A.constructor)E=A.constructor.name;if(E==="Map"||E==="Set")return Array.from(A);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return Q2(A,Q)}function Q2(A,Q){if(Q==null||Q>A.length)Q=A.length;for(var E=0,B=new Array(Q);E<Q;E++)B[E]=A[E];return B}function xg(A,Q){var E=A==null?null:typeof Symbol!="undefined"&&A[Symbol.iterator]||A["@@iterator"];if(E!=null){var B,I,K,J,C=[],U=!0,Y=!1;try{if(K=(E=E.call(A)).next,Q===0){if(Object(E)!==E)return;U=!1}else for(;!(U=(B=K.call(E)).done)&&(C.push(B.value),C.length!==Q);U=!0);}catch(H){Y=!0,I=H}finally{try{if(!U&&E.return!=null&&(J=E.return(),Object(J)!==J))return}finally{if(Y)throw I}}return C}}function gg(A){if(Array.isArray(A))return A}function YE(A){return YE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},YE(A)}function yZ(A){return A.call.bind(A)}function ng(A){if(A.length===0||A.length>10)return!0;for(var Q=0;Q<A.length;Q++){var E=A.charCodeAt(Q);if(E<48||E>57)return!0}return A.length===10&&A>=Math.pow(2,32)}function W7(A){return Object.keys(A).filter(ng).concat(F7(A).filter(Object.prototype.propertyIsEnumerable.bind(A)))}function O2(A,Q){if(A===Q)return 0;var E=A.length,B=Q.length;for(var I=0,K=Math.min(E,B);I<K;++I)if(A[I]!==Q[I]){E=A[I],B=Q[I];break}if(E<B)return-1;if(B<E)return 1;return 0}function sg(A,Q){return bg?A.source===Q.source&&A.flags===Q.flags:RegExp.prototype.toString.call(A)===RegExp.prototype.toString.call(Q)}function rg(A,Q){if(A.byteLength!==Q.byteLength)return!1;for(var E=0;E<A.byteLength;E++)if(A[E]!==Q[E])return!1;return!0}function ag(A,Q){if(A.byteLength!==Q.byteLength)return!1;return O2(new Uint8Array(A.buffer,A.byteOffset,A.byteLength),new Uint8Array(Q.buffer,Q.byteOffset,Q.byteLength))===0}function tg(A,Q){return A.byteLength===Q.byteLength&&O2(new Uint8Array(A),new Uint8Array(Q))===0}function eg(A,Q){if(J2(A))return J2(Q)&&R2(Number.prototype.valueOf.call(A),Number.prototype.valueOf.call(Q));if(C2(A))return C2(Q)&&String.prototype.valueOf.call(A)===String.prototype.valueOf.call(Q);if(U2(A))return U2(Q)&&Boolean.prototype.valueOf.call(A)===Boolean.prototype.valueOf.call(Q);if(Y2(A))return Y2(Q)&&BigInt.prototype.valueOf.call(A)===BigInt.prototype.valueOf.call(Q);return cg(Q)&&Symbol.prototype.valueOf.call(A)===Symbol.prototype.valueOf.call(Q)}function HE(A,Q,E,B){if(A===Q){if(A!==0)return!0;return E?R2(A,Q):!0}if(E){if(YE(A)!=="object")return typeof A==="number"&&hZ(A)&&hZ(Q);if(YE(Q)!=="object"||A===null||Q===null)return!1;if(Object.getPrototypeOf(A)!==Object.getPrototypeOf(Q))return!1}else{if(A===null||YE(A)!=="object"){if(Q===null||YE(Q)!=="object")return A==Q;return!1}if(Q===null||YE(Q)!=="object")return!1}var I=B2(A),K=B2(Q);if(I!==K)return!1;if(Array.isArray(A)){if(A.length!==Q.length)return!1;var J=W7(A,X7),C=W7(Q,X7);if(J.length!==C.length)return!1;return nJ(A,Q,E,B,xZ,J)}if(I==="[object Object]"){if(!O7(A)&&O7(Q)||!$7(A)&&$7(Q))return!1}if(I2(A)){if(!I2(Q)||Date.prototype.getTime.call(A)!==Date.prototype.getTime.call(Q))return!1}else if(K2(A)){if(!K2(Q)||!sg(A,Q))return!1}else if(pg(A)||A instanceof Error){if(A.message!==Q.message||A.name!==Q.name)return!1}else if(ug(A)){if(!E&&(dg(A)||lg(A))){if(!rg(A,Q))return!1}else if(!ag(A,Q))return!1;var U=W7(A,X7),Y=W7(Q,X7);if(U.length!==Y.length)return!1;return nJ(A,Q,E,B,vZ,U)}else if($7(A)){if(!$7(Q)||A.size!==Q.size)return!1;return nJ(A,Q,E,B,$2)}else if(O7(A)){if(!O7(Q)||A.size!==Q.size)return!1;return nJ(A,Q,E,B,W2)}else if(fg(A)){if(!tg(A,Q))return!1}else if(mg(A)&&!eg(A,Q))return!1;return nJ(A,Q,E,B,vZ)}function H2(A,Q){return Q.filter(function(E){return q7(A,E)})}function nJ(A,Q,E,B,I,K){if(arguments.length===5){K=Object.keys(A);var J=Object.keys(Q);if(K.length!==J.length)return!1}var C=0;for(;C<K.length;C++)if(!oJ(Q,K[C]))return!1;if(E&&arguments.length===5){var U=F7(A);if(U.length!==0){var Y=0;for(C=0;C<U.length;C++){var H=U[C];if(q7(A,H)){if(!q7(Q,H))return!1;K.push(H),Y++}else if(q7(Q,H))return!1}var R=F7(Q);if(U.length!==R.length&&H2(Q,R).length!==Y)return!1}else{var G=F7(Q);if(G.length!==0&&H2(Q,G).length!==0)return!1}}if(K.length===0&&(I===vZ||I===xZ&&A.length===0||A.size===0))return!0;if(B===void 0)B={val1:/*@__PURE__*/new Map,val2:/*@__PURE__*/new Map,position:0};else{var O=B.val1.get(A);if(O!==void 0){var F=B.val2.get(Q);if(F!==void 0)return O===F}B.position++}B.val1.set(A,B.position),B.val2.set(Q,B.position);var q=Ib(A,Q,E,K,B,I);return B.val1.delete(A),B.val2.delete(Q),q}function G2(A,Q,E,B){var I=N7(A);for(var K=0;K<I.length;K++){var J=I[K];if(HE(Q,J,E,B))return A.delete(J),!0}return!1}function X2(A){switch(YE(A)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":A=+A;case"number":if(hZ(A))return!1}return!0}function Ab(A,Q,E){var B=X2(E);if(B!=null)return B;return Q.has(B)&&!A.has(B)}function Qb(A,Q,E,B,I){var K=X2(E);if(K!=null)return K;var J=Q.get(K);if(J===void 0&&!Q.has(K)||!HE(B,J,!1,I))return!1;return!A.has(K)&&HE(B,J,!1,I)}function Eb(A,Q,E,B){var I=null,K=N7(A);for(var J=0;J<K.length;J++){var C=K[J];if(YE(C)==="object"&&C!==null){if(I===null)I=/*@__PURE__*/new Set;I.add(C)}else if(!Q.has(C)){if(E)return!1;if(!Ab(A,Q,C))return!1;if(I===null)I=/*@__PURE__*/new Set;I.add(C)}}if(I!==null){var U=N7(Q);for(var Y=0;Y<U.length;Y++){var H=U[Y];if(YE(H)==="object"&&H!==null){if(!G2(I,H,E,B))return!1}else if(!E&&!A.has(H)&&!G2(I,H,E,B))return!1}return I.size===0}return!0}function Z2(A,Q,E,B,I,K){var J=N7(A);for(var C=0;C<J.length;C++){var U=J[C];if(HE(E,U,I,K)&&HE(B,Q.get(U),I,K))return A.delete(U),!0}return!1}function Bb(A,Q,E,B){var I=null,K=E2(A);for(var J=0;J<K.length;J++){var C=A2(K[J],2),U=C[0],Y=C[1];if(YE(U)==="object"&&U!==null){if(I===null)I=/*@__PURE__*/new Set;I.add(U)}else{var H=Q.get(U);if(H===void 0&&!Q.has(U)||!HE(Y,H,E,B)){if(E)return!1;if(!Qb(A,Q,U,Y,B))return!1;if(I===null)I=/*@__PURE__*/new Set;I.add(U)}}}if(I!==null){var R=E2(Q);for(var G=0;G<R.length;G++){var O=A2(R[G],2),F=O[0],q=O[1];if(YE(F)==="object"&&F!==null){if(!Z2(I,A,F,q,E,B))return!1}else if(!E&&(!A.has(F)||!HE(A.get(F),q,!1,B))&&!Z2(I,A,F,q,!1,B))return!1}return I.size===0}return!0}function Ib(A,Q,E,B,I,K){var J=0;if(K===$2){if(!Eb(A,Q,E,I))return!1}else if(K===W2){if(!Bb(A,Q,E,I))return!1}else if(K===xZ)for(;J<A.length;J++)if(oJ(A,J)){if(!oJ(Q,J)||!HE(A[J],Q[J],E,I))return!1}else if(oJ(Q,J))return!1;else{var C=Object.keys(A);for(;J<C.length;J++){var U=C[J];if(!oJ(Q,U)||!HE(A[U],Q[U],E,I))return!1}if(C.length!==Object.keys(Q).length)return!1;return!0}for(J=0;J<B.length;J++){var Y=B[J];if(!HE(A[Y],Q[Y],E,I))return!1}return!0}function Kb(A,Q){return HE(A,Q,ig)}function Jb(A,Q){return HE(A,Q,og)}var bg=/a/g.flags!==void 0,N7=function A(Q){var E=[];return Q.forEach(function(B){return E.push(B)}),E},E2=function A(Q){var E=[];return Q.forEach(function(B,I){return E.push([I,B])}),E},R2=Object.is?Object.is:nL(),F7=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},hZ=Number.isNaN?Number.isNaN:A4(),oJ=yZ(Object.prototype.hasOwnProperty),q7=yZ(Object.prototype.propertyIsEnumerable),B2=yZ(Object.prototype.toString),L1=d6().types,fg=L1.isAnyArrayBuffer,ug=L1.isArrayBufferView,I2=L1.isDate,O7=L1.isMap,K2=L1.isRegExp,$7=L1.isSet,pg=L1.isNativeError,mg=L1.isBoxedPrimitive,J2=L1.isNumberObject,C2=L1.isStringObject,U2=L1.isBooleanObject,Y2=L1.isBigIntObject,cg=L1.isSymbolObject,dg=L1.isFloat32Array,lg=L1.isFloat64Array;/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var X7=void 0,og=!0,ig=!1,vZ=0,xZ=1,$2=2,W2=3;F2.exports={isDeepEqual:Kb,isDeepStrictEqual:Jb}});var fZ=hA((qb,M2)=>{function LB(A){return LB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},LB(A)}function N2(A,Q){for(var E=0;E<Q.length;E++){var B=Q[E];if(B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B)B.writable=!0;Object.defineProperty(A,Ub(B.key),B)}}function Cb(A,Q,E){if(Q)N2(A.prototype,Q);if(E)N2(A,E);return Object.defineProperty(A,"prototype",{writable:!1}),A}function Ub(A){var Q=Yb(A,"string");return LB(Q)==="symbol"?Q:String(Q)}function Yb(A,Q){if(LB(A)!=="object"||A===null)return A;var E=A[Symbol.toPrimitive];if(E!==void 0){var B=E.call(A,Q||"default");if(LB(B)!=="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Q==="string"?String:Number)(A)}function Hb(A,Q){if(!(A instanceof Q))throw new TypeError("Cannot call a class as a function")}function Gb(A,Q){if(typeof Q!=="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function");if(A.prototype=Object.create(Q&&Q.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),Q)bZ(A,Q)}function bZ(A,Q){return bZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function E(B,I){return B.__proto__=I,B},bZ(A,Q)}function Zb(A){var Q=$b();return function E(){var B=L7(A),I;if(Q){var K=L7(this).constructor;I=Reflect.construct(B,arguments,K)}else I=B.apply(this,arguments);return Rb(this,I)}}function Rb(A,Q){if(Q&&(LB(Q)==="object"||typeof Q==="function"))return Q;else if(Q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ob(A)}function Ob(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function $b(){if(typeof Reflect==="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy==="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(A){return!1}}function L7(A){return L7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function Q(E){return E.__proto__||Object.getPrototypeOf(E)},L7(A)}function iJ(A,Q,E){if(!E)E=Error;function B(K,J,C){if(typeof Q==="string")return Q;else return Q(K,J,C)}var I=/*@__PURE__*/function(K){Gb(C,K);var J=Zb(C);function C(U,Y,H){var R;return Hb(this,C),R=J.call(this,B(U,Y,H)),R.code=A,R}return Cb(C)}(E);D2[A]=I}function L2(A,Q){if(Array.isArray(A)){var E=A.length;if(A=A.map(function(B){return String(B)}),E>2)return"one of ".concat(Q," ").concat(A.slice(0,E-1).join(", "),", or ")+A[E-1];else if(E===2)return"one of ".concat(Q," ").concat(A[0]," or ").concat(A[1]);else return"of ".concat(Q," ").concat(A[0])}else return"of ".concat(Q," ").concat(String(A))}function Wb(A,Q,E){return A.substr(!E||E<0?0:+E,Q.length)===Q}function Xb(A,Q,E){if(E===void 0||E>A.length)E=A.length;return A.substring(E-Q.length,E)===Q}function Fb(A,Q,E){if(typeof E!=="number")E=0;if(E+Q.length>A.length)return!1;else return A.indexOf(Q,E)!==-1}var D2={},l6,gZ;iJ("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError);iJ("ERR_INVALID_ARG_TYPE",function(A,Q,E){if(l6===void 0)l6=D7();l6(typeof A==="string","'name' must be a string");var B;if(typeof Q==="string"&&Wb(Q,"not "))B="must not be",Q=Q.replace(/^not /,"");else B="must be";var I;if(Xb(A," argument"))I="The ".concat(A," ").concat(B," ").concat(L2(Q,"type"));else{var K=Fb(A,".")?"property":"argument";I="The \"".concat(A,"\" ").concat(K," ").concat(B," ").concat(L2(Q,"type"))}return I+=". Received type ".concat(LB(E)),I},TypeError);iJ("ERR_INVALID_ARG_VALUE",function(A,Q){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";if(gZ===void 0)gZ=d6();var B=gZ.inspect(Q);if(B.length>128)B="".concat(B.slice(0,128),"...");return"The argument '".concat(A,"' ").concat(E,". Received ").concat(B)},TypeError,RangeError);iJ("ERR_INVALID_RETURN_VALUE",function(A,Q,E){var B;if(E&&E.constructor&&E.constructor.name)B="instance of ".concat(E.constructor.name);else B="type ".concat(LB(E));return"Expected ".concat(A," to be returned from the \"").concat(Q,"\"")+" function but got ".concat(B,".")},TypeError);iJ("ERR_MISSING_ARGS",function(){for(var A=arguments.length,Q=new Array(A),E=0;E<A;E++)Q[E]=arguments[E];if(l6===void 0)l6=D7();l6(Q.length>0,"At least one arg needs to be specified");var B="The ",I=Q.length;switch(Q=Q.map(function(K){return"\"".concat(K,"\"")}),I){case 1:B+="".concat(Q[0]," argument");break;case 2:B+="".concat(Q[0]," and ").concat(Q[1]," arguments");break;default:B+=Q.slice(0,I-1).join(", "),B+=", and ".concat(Q[I-1]," arguments");break}return"".concat(B," must be specified")},TypeError);qb.codes=D2});var h2=hA((d0A,j2)=>{function w2(A,Q){var E=Object.keys(A);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(A);Q&&(B=B.filter(function(I){return Object.getOwnPropertyDescriptor(A,I).enumerable})),E.push.apply(E,B)}return E}function z2(A){for(var Q=1;Q<arguments.length;Q++){var E=arguments[Q]!=null?arguments[Q]:{};Q%2?w2(Object(E),!0).forEach(function(B){Lb(A,B,E[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(E)):w2(Object(E)).forEach(function(B){Object.defineProperty(A,B,Object.getOwnPropertyDescriptor(E,B))})}return A}function Lb(A,Q,E){if(Q=P2(Q),Q in A)Object.defineProperty(A,Q,{value:E,enumerable:!0,configurable:!0,writable:!0});else A[Q]=E;return A}function Db(A,Q){if(!(A instanceof Q))throw new TypeError("Cannot call a class as a function")}function V2(A,Q){for(var E=0;E<Q.length;E++){var B=Q[E];if(B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B)B.writable=!0;Object.defineProperty(A,P2(B.key),B)}}function Mb(A,Q,E){if(Q)V2(A.prototype,Q);if(E)V2(A,E);return Object.defineProperty(A,"prototype",{writable:!1}),A}function P2(A){var Q=wb(A,"string");return v1(Q)==="symbol"?Q:String(Q)}function wb(A,Q){if(v1(A)!=="object"||A===null)return A;var E=A[Symbol.toPrimitive];if(E!==void 0){var B=E.call(A,Q||"default");if(v1(B)!=="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Q==="string"?String:Number)(A)}function zb(A,Q){if(typeof Q!=="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function");if(A.prototype=Object.create(Q&&Q.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),Q)tJ(A,Q)}function Vb(A){var Q=k2();return function E(){var B=eJ(A),I;if(Q){var K=eJ(this).constructor;I=Reflect.construct(B,arguments,K)}else I=B.apply(this,arguments);return _2(this,I)}}function _2(A,Q){if(Q&&(v1(Q)==="object"||typeof Q==="function"))return Q;else if(Q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uZ(A)}function uZ(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function pZ(A){var Q=typeof Map==="function"?/*@__PURE__*/new Map:void 0;return pZ=function E(B){if(B===null||!Tb(B))return B;if(typeof B!=="function")throw new TypeError("Super expression must either be null or a function");if(typeof Q!=="undefined"){if(Q.has(B))return Q.get(B);Q.set(B,I)}function I(){return M7(B,arguments,eJ(this).constructor)}return I.prototype=Object.create(B.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),tJ(I,B)},pZ(A)}function M7(A,Q,E){if(k2())M7=Reflect.construct.bind();else M7=function B(I,K,J){var C=[null];C.push.apply(C,K);var U=Function.bind.apply(I,C),Y=new U;if(J)tJ(Y,J.prototype);return Y};return M7.apply(null,arguments)}function k2(){if(typeof Reflect==="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy==="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(A){return!1}}function Tb(A){return Function.toString.call(A).indexOf("[native code]")!==-1}function tJ(A,Q){return tJ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function E(B,I){return B.__proto__=I,B},tJ(A,Q)}function eJ(A){return eJ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function Q(E){return E.__proto__||Object.getPrototypeOf(E)},eJ(A)}function v1(A){return v1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},v1(A)}function T2(A,Q,E){if(E===void 0||E>A.length)E=A.length;return A.substring(E-Q.length,E)===Q}function kb(A,Q){if(Q=Math.floor(Q),A.length==0||Q==0)return"";var E=A.length*Q;Q=Math.floor(Math.log(Q)/Math.log(2));while(Q)A+=A,Q--;return A+=A.substring(0,E-A.length),A}function S2(A){var Q=Object.keys(A),E=Object.create(Object.getPrototypeOf(A));return Q.forEach(function(B){E[B]=A[B]}),Object.defineProperty(E,"message",{value:A.message}),E}function aJ(A){return mZ(A,{compact:!1,customInspect:!1,depth:1000,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function hb(A,Q,E){var B="",I="",K=0,J="",C=!1,U=aJ(A),Y=U.split("\n"),H=aJ(Q).split("\n"),R=0,G="";if(E==="strictEqual"&&v1(A)==="object"&&v1(Q)==="object"&&A!==null&&Q!==null)E="strictEqualObject";if(Y.length===1&&H.length===1&&Y[0]!==H[0]){var O=Y[0].length+H[0].length;if(O<=jb){if((v1(A)!=="object"||A===null)&&(v1(Q)!=="object"||Q===null)&&(A!==0||Q!==0))return"".concat(zI[E],"\n\n")+"".concat(Y[0]," !== ").concat(H[0],"\n")}else if(E!=="strictEqualObject"){var F=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(O<F){while(Y[0][R]===H[0][R])R++;if(R>2)G="\n  ".concat(kb(" ",R),"^"),R=0}}}var q=Y[Y.length-1],W=H[H.length-1];while(q===W){if(R++<2)J="\n  ".concat(q).concat(J);else B=q;if(Y.pop(),H.pop(),Y.length===0||H.length===0)break;q=Y[Y.length-1],W=H[H.length-1]}var Z=Math.max(Y.length,H.length);if(Z===0){var $=U.split("\n");if($.length>30){$[26]="".concat(_E,"...").concat(C1);while($.length>27)$.pop()}return"".concat(zI.notIdentical,"\n\n").concat($.join("\n"),"\n")}if(R>3)J="\n".concat(_E,"...").concat(C1).concat(J),C=!0;if(B!=="")J="\n  ".concat(B).concat(J),B="";var X=0,N=zI[E]+"\n".concat(sJ,"+ actual").concat(C1," ").concat(rJ,"- expected").concat(C1),M=" ".concat(_E,"...").concat(C1," Lines skipped");for(R=0;R<Z;R++){var L=R-K;if(Y.length<R+1){if(L>1&&R>2){if(L>4)I+="\n".concat(_E,"...").concat(C1),C=!0;else if(L>3)I+="\n  ".concat(H[R-2]),X++;I+="\n  ".concat(H[R-1]),X++}K=R,B+="\n".concat(rJ,"-").concat(C1," ").concat(H[R]),X++}else if(H.length<R+1){if(L>1&&R>2){if(L>4)I+="\n".concat(_E,"...").concat(C1),C=!0;else if(L>3)I+="\n  ".concat(Y[R-2]),X++;I+="\n  ".concat(Y[R-1]),X++}K=R,I+="\n".concat(sJ,"+").concat(C1," ").concat(Y[R]),X++}else{var D=H[R],w=Y[R],P=w!==D&&(!T2(w,",")||w.slice(0,-1)!==D);if(P&&T2(D,",")&&D.slice(0,-1)===w)P=!1,w+=",";if(P){if(L>1&&R>2){if(L>4)I+="\n".concat(_E,"...").concat(C1),C=!0;else if(L>3)I+="\n  ".concat(Y[R-2]),X++;I+="\n  ".concat(Y[R-1]),X++}K=R,I+="\n".concat(sJ,"+").concat(C1," ").concat(w),B+="\n".concat(rJ,"-").concat(C1," ").concat(D),X+=2}else if(I+=B,B="",L===1||R===0)I+="\n  ".concat(w),X++}if(X>20&&R<Z-2)return"".concat(N).concat(M,"\n").concat(I,"\n").concat(_E,"...").concat(C1).concat(B,"\n")+"".concat(_E,"...").concat(C1)}return"".concat(N).concat(C?M:"","\n").concat(I).concat(B).concat(J).concat(G)}var Sb=d6(),mZ=Sb.inspect,Pb=fZ(),_b=Pb.codes.ERR_INVALID_ARG_TYPE,_E="",sJ="",rJ="",C1="",zI={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},jb=10,vb=/*@__PURE__*/function(A,Q){zb(B,A);var E=Vb(B);function B(I){var K;if(Db(this,B),v1(I)!=="object"||I===null)throw new _b("options","Object",I);var{message:J,operator:C,stackStartFn:U,actual:Y,expected:H}=I,R=Error.stackTraceLimit;if(Error.stackTraceLimit=0,J!=null)K=E.call(this,String(J));else{if(process.stderr&&process.stderr.isTTY)if(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1)_E="\x1B[34m",sJ="\x1B[32m",C1="\x1B[39m",rJ="\x1B[31m";else _E="",sJ="",C1="",rJ="";if(v1(Y)==="object"&&Y!==null&&v1(H)==="object"&&H!==null&&"stack"in Y&&Y instanceof Error&&"stack"in H&&H instanceof Error)Y=S2(Y),H=S2(H);if(C==="deepStrictEqual"||C==="strictEqual")K=E.call(this,hb(Y,H,C));else if(C==="notDeepStrictEqual"||C==="notStrictEqual"){var G=zI[C],O=aJ(Y).split("\n");if(C==="notStrictEqual"&&v1(Y)==="object"&&Y!==null)G=zI.notStrictEqualObject;if(O.length>30){O[26]="".concat(_E,"...").concat(C1);while(O.length>27)O.pop()}if(O.length===1)K=E.call(this,"".concat(G," ").concat(O[0]));else K=E.call(this,"".concat(G,"\n\n").concat(O.join("\n"),"\n"))}else{var F=aJ(Y),q="",W=zI[C];if(C==="notDeepEqual"||C==="notEqual"){if(F="".concat(zI[C],"\n\n").concat(F),F.length>1024)F="".concat(F.slice(0,1021),"...")}else{if(q="".concat(aJ(H)),F.length>512)F="".concat(F.slice(0,509),"...");if(q.length>512)q="".concat(q.slice(0,509),"...");if(C==="deepEqual"||C==="equal")F="".concat(W,"\n\n").concat(F,"\n\nshould equal\n\n");else q=" ".concat(C," ").concat(q)}K=E.call(this,"".concat(F).concat(q))}}if(Error.stackTraceLimit=R,K.generatedMessage=!J,Object.defineProperty(uZ(K),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),K.code="ERR_ASSERTION",K.actual=Y,K.expected=H,K.operator=C,Error.captureStackTrace)Error.captureStackTrace(uZ(K),U);return K.stack,K.name="AssertionError",_2(K)}return Mb(B,[{key:"toString",value:function I(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:Q,value:function I(K,J){return mZ(this,z2(z2({},J),{},{customInspect:!1,depth:0}))}}]),B}(/*@__PURE__*/pZ(Error),mZ.custom);j2.exports=vb});var f2=hA((l0A,b2)=>{var yb=tG(),x2=gU()(),g2=pJ(),v2=Object,xb=g2("Array.prototype.push"),y2=g2("Object.prototype.propertyIsEnumerable"),gb=x2?Object.getOwnPropertySymbols:null;b2.exports=function A(Q,E){if(Q==null)throw new TypeError("target must be an object");var B=v2(Q);if(arguments.length===1)return B;for(var I=1;I<arguments.length;++I){var K=v2(arguments[I]),J=yb(K),C=x2&&(Object.getOwnPropertySymbols||gb);if(C){var U=C(K);for(var Y=0;Y<U.length;++Y){var H=U[Y];if(y2(K,H))xb(J,H)}}for(var R=0;R<J.length;++R){var G=J[R];if(y2(K,G)){var O=K[G];B[G]=O}}}return B}});var p2=hA((n0A,u2)=>{var cZ=f2(),bb=function(){if(!Object.assign)return!1;var A="abcdefghijklmnopqrst",Q=A.split(""),E={};for(var B=0;B<Q.length;++B)E[Q[B]]=Q[B];var I=Object.assign({},E),K="";for(var J in I)K+=J;return A!==K},fb=function(){if(!Object.assign||!Object.preventExtensions)return!1;var A=Object.preventExtensions({1:2});try{Object.assign(A,"xy")}catch(Q){return A[1]==="y"}return!1};u2.exports=function A(){if(!Object.assign)return cZ;if(bb())return cZ;if(fb())return cZ;return Object.assign}});var D7=hA((o0A,KD)=>{function kE(A){return kE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},kE(A)}function m2(A,Q){for(var E=0;E<Q.length;E++){var B=Q[E];if(B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B)B.writable=!0;Object.defineProperty(A,pb(B.key),B)}}function ub(A,Q,E){if(Q)m2(A.prototype,Q);if(E)m2(A,E);return Object.defineProperty(A,"prototype",{writable:!1}),A}function pb(A){var Q=mb(A,"string");return kE(Q)==="symbol"?Q:String(Q)}function mb(A,Q){if(kE(A)!=="object"||A===null)return A;var E=A[Symbol.toPrimitive];if(E!==void 0){var B=E.call(A,Q||"default");if(kE(B)!=="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Q==="string"?String:Number)(A)}function cb(A,Q){if(!(A instanceof Q))throw new TypeError("Cannot call a class as a function")}function Q9(){var A=q2();DB=A.isDeepEqual,T7=A.isDeepStrictEqual}function jE(A){if(A.message instanceof Error)throw A.message;throw new wB(A)}function s2(A,Q,E,B,I){var K=arguments.length,J;if(K===0)J="Failed";else if(K===1)E=A,A=void 0;else{if(d2===!1){d2=!0;var C=process.emitWarning?process.emitWarning:console.warn.bind(console);C("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}if(K===2)B="!="}if(E instanceof Error)throw E;var U={actual:A,expected:Q,operator:B===void 0?"fail":B,stackStartFn:I||s2};if(E!==void 0)U.message=E;var Y=new wB(U);if(J)Y.message=J,Y.generatedMessage=!0;throw Y}function r2(A,Q,E,B){if(!E){var I=!1;if(Q===0)I=!0,B="No value argument passed to `assert.ok()`";else if(B instanceof Error)throw B;var K=new wB({actual:E,expected:!0,message:B,operator:"==",stackStartFn:A});throw K.generatedMessage=I,K}}function dZ(){for(var A=arguments.length,Q=new Array(A),E=0;E<A;E++)Q[E]=arguments[E];r2.apply(void 0,[dZ,Q.length].concat(Q))}function a2(A,Q,E){if(arguments.length<2)throw new MB("actual","expected");if(DB===void 0)Q9();if(T7(A,Q))jE({actual:A,expected:Q,message:E,operator:"notDeepStrictEqual",stackStartFn:a2})}function ab(A,Q,E,B,I,K){if(!(E in A)||!T7(A[E],Q[E])){if(!B){var J=new l2(A,I),C=new l2(Q,I,A),U=new wB({actual:J,expected:C,operator:"deepStrictEqual",stackStartFn:K});throw U.actual=A,U.expected=Q,U.operator=K.name,U}jE({actual:A,expected:Q,message:B,operator:K.name,stackStartFn:K})}}function t2(A,Q,E,B){if(typeof Q!=="function"){if(z7(Q))return V7(Q,A);if(arguments.length===2)throw new n6("expected",["Function","RegExp"],Q);if(kE(A)!=="object"||A===null){var I=new wB({actual:A,expected:Q,message:E,operator:"deepStrictEqual",stackStartFn:B});throw I.operator=B.name,I}var K=Object.keys(Q);if(Q instanceof Error)K.push("name","message");else if(K.length===0)throw new lb("error",Q,"may not be an empty object");if(DB===void 0)Q9();return K.forEach(function(J){if(typeof A[J]==="string"&&z7(Q[J])&&V7(Q[J],A[J]))return;ab(A,Q,J,E,K,B)}),!0}if(Q.prototype!==void 0&&A instanceof Q)return!0;if(Error.isPrototypeOf(Q))return!1;return Q.call({},A)===!0}function e2(A){if(typeof A!=="function")throw new n6("fn","Function",A);try{A()}catch(Q){return Q}return S7}function n2(A){return sb(A)||A!==null&&kE(A)==="object"&&typeof A.then==="function"&&typeof A.catch==="function"}function AD(A){return Promise.resolve().then(function(){var Q;if(typeof A==="function"){if(Q=A(),!n2(Q))throw new nb("instance of Promise","promiseFn",Q)}else if(n2(A))Q=A;else throw new n6("promiseFn",["Function","Promise"],A);return Promise.resolve().then(function(){return Q}).then(function(){return S7}).catch(function(E){return E})})}function QD(A,Q,E,B){if(typeof E==="string"){if(arguments.length===4)throw new n6("error",["Object","Error","Function","RegExp"],E);if(kE(Q)==="object"&&Q!==null){if(Q.message===E)throw new c2("error/message","The error message \"".concat(Q.message,"\" is identical to the message."))}else if(Q===E)throw new c2("error/message","The error \"".concat(Q,"\" is identical to the message."));B=E,E=void 0}else if(E!=null&&kE(E)!=="object"&&typeof E!=="function")throw new n6("error",["Object","Error","Function","RegExp"],E);if(Q===S7){var I="";if(E&&E.name)I+=" (".concat(E.name,")");I+=B?": ".concat(B):".";var K=A.name==="rejects"?"rejection":"exception";jE({actual:void 0,expected:E,operator:A.name,message:"Missing expected ".concat(K).concat(I),stackStartFn:A})}if(E&&!t2(Q,E,B,A))throw Q}function ED(A,Q,E,B){if(Q===S7)return;if(typeof E==="string")B=E,E=void 0;if(!E||t2(Q,E)){var I=B?": ".concat(B):".",K=A.name==="doesNotReject"?"rejection":"exception";jE({actual:Q,expected:E,operator:A.name,message:"Got unwanted ".concat(K).concat(I,"\n")+"Actual message: \"".concat(Q&&Q.message,"\""),stackStartFn:A})}throw Q}function BD(A,Q,E,B,I){if(!z7(Q))throw new n6("regexp","RegExp",Q);var K=I==="match";if(typeof A!=="string"||V7(Q,A)!==K){if(E instanceof Error)throw E;var J=!E;E=E||(typeof A!=="string"?'The "string" argument must be of type string. Received type '+"".concat(kE(A)," (").concat(w7(A),")"):(K?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(w7(Q),". Input:\n\n").concat(w7(A),"\n"));var C=new wB({actual:A,expected:Q,message:E,operator:I,stackStartFn:B});throw C.generatedMessage=J,C}}function ID(){for(var A=arguments.length,Q=new Array(A),E=0;E<A;E++)Q[E]=arguments[E];r2.apply(void 0,[ID,Q.length].concat(Q))}var db=fZ(),A9=db.codes,c2=A9.ERR_AMBIGUOUS_ARGUMENT,n6=A9.ERR_INVALID_ARG_TYPE,lb=A9.ERR_INVALID_ARG_VALUE,nb=A9.ERR_INVALID_RETURN_VALUE,MB=A9.ERR_MISSING_ARGS,wB=h2(),ib=d6(),w7=ib.inspect,o2=d6().types,sb=o2.isPromise,z7=o2.isRegExp,rb=p2()(),i2=oU()(),V7=pJ()("RegExp.prototype.test"),DB,T7,d2=!1,GQ=KD.exports=dZ,S7={};GQ.fail=s2;GQ.AssertionError=wB;GQ.ok=dZ;GQ.equal=function A(Q,E,B){if(arguments.length<2)throw new MB("actual","expected");if(Q!=E)jE({actual:Q,expected:E,message:B,operator:"==",stackStartFn:A})};GQ.notEqual=function A(Q,E,B){if(arguments.length<2)throw new MB("actual","expected");if(Q==E)jE({actual:Q,expected:E,message:B,operator:"!=",stackStartFn:A})};GQ.deepEqual=function A(Q,E,B){if(arguments.length<2)throw new MB("actual","expected");if(DB===void 0)Q9();if(!DB(Q,E))jE({actual:Q,expected:E,message:B,operator:"deepEqual",stackStartFn:A})};GQ.notDeepEqual=function A(Q,E,B){if(arguments.length<2)throw new MB("actual","expected");if(DB===void 0)Q9();if(DB(Q,E))jE({actual:Q,expected:E,message:B,operator:"notDeepEqual",stackStartFn:A})};GQ.deepStrictEqual=function A(Q,E,B){if(arguments.length<2)throw new MB("actual","expected");if(DB===void 0)Q9();if(!T7(Q,E))jE({actual:Q,expected:E,message:B,operator:"deepStrictEqual",stackStartFn:A})};GQ.notDeepStrictEqual=a2;GQ.strictEqual=function A(Q,E,B){if(arguments.length<2)throw new MB("actual","expected");if(!i2(Q,E))jE({actual:Q,expected:E,message:B,operator:"strictEqual",stackStartFn:A})};GQ.notStrictEqual=function A(Q,E,B){if(arguments.length<2)throw new MB("actual","expected");if(i2(Q,E))jE({actual:Q,expected:E,message:B,operator:"notStrictEqual",stackStartFn:A})};var l2=/*@__PURE__*/ub(function A(Q,E,B){var I=this;cb(this,A),E.forEach(function(K){if(K in Q)if(B!==void 0&&typeof B[K]==="string"&&z7(Q[K])&&V7(Q[K],B[K]))I[K]=B[K];else I[K]=Q[K]})});GQ.throws=function A(Q){for(var E=arguments.length,B=new Array(E>1?E-1:0),I=1;I<E;I++)B[I-1]=arguments[I];QD.apply(void 0,[A,e2(Q)].concat(B))};GQ.rejects=function A(Q){for(var E=arguments.length,B=new Array(E>1?E-1:0),I=1;I<E;I++)B[I-1]=arguments[I];return AD(Q).then(function(K){return QD.apply(void 0,[A,K].concat(B))})};GQ.doesNotThrow=function A(Q){for(var E=arguments.length,B=new Array(E>1?E-1:0),I=1;I<E;I++)B[I-1]=arguments[I];ED.apply(void 0,[A,e2(Q)].concat(B))};GQ.doesNotReject=function A(Q){for(var E=arguments.length,B=new Array(E>1?E-1:0),I=1;I<E;I++)B[I-1]=arguments[I];return AD(Q).then(function(K){return ED.apply(void 0,[A,K].concat(B))})};GQ.ifError=function A(Q){if(Q!==null&&Q!==void 0){var E="ifError got unwanted exception: ";if(kE(Q)==="object"&&typeof Q.message==="string")if(Q.message.length===0&&Q.constructor)E+=Q.constructor.name;else E+=Q.message;else E+=w7(Q);var B=new wB({actual:Q,expected:null,operator:"ifError",message:E,stackStartFn:A}),I=Q.stack;if(typeof I==="string"){var K=I.split("\n");K.shift();var J=B.stack.split("\n");for(var C=0;C<K.length;C++){var U=J.indexOf(K[C]);if(U!==-1){J=J.slice(0,U);break}}B.stack="".concat(J.join("\n"),"\n").concat(K.join("\n"))}throw B}};GQ.match=function A(Q,E,B){BD(Q,E,B,A,"match")};GQ.doesNotMatch=function A(Q,E,B){BD(Q,E,B,A,"doesNotMatch")};GQ.strict=rb(ID,GQ,{equal:GQ.strictEqual,deepEqual:GQ.deepStrictEqual,notEqual:GQ.notStrictEqual,notDeepEqual:GQ.notDeepStrictEqual});GQ.strict.strict=GQ.strict});var sq=BH(iq(),1),jU=()=>yG,rq=()=>xG,yG,xG,aq=async(A="./JFLAssets/JFLAssets.zip")=>{if(yG!==void 0)return console.log("[jfl] mesh assets already set up");if(xG!==void 0)return console.log("[jfl] texture assets already set up");const Q=await fetch(A).then((R)=>R.blob()),E=await sq.default.loadAsync(Q),B=Object.keys(E.files).filter((R)=>!R.endsWith("/")),I=B.filter((R)=>R.includes("mesh/")),K=B.filter((R)=>R.includes("tex/")),J=(R,G,O)=>new Promise((F,q)=>{O.async("blob").then((W)=>F({type:G,name:R,data:W,success:!0})).catch((W)=>q({type:G,name:R,data:W,success:!1}))});let C=[];for(let R of I){if(R==="mesh/")continue;const G=E.file(R);R=R.replace("mesh/",""),C.push(J(R,"mesh",G))}for(let R of K){if(R==="tex/")continue;const G=E.file(R);R=R.replace("tex/",""),C.push(J(R,"tex",G))}const U=await Promise.all(C),Y=[];U.filter((R)=>R.type==="mesh").forEach((R)=>{Y[parseInt(R.name.slice(6,-4))]=R});const H=[];U.filter((R)=>R.type==="tex").forEach((R)=>{H[parseInt(R.name.slice(4,-4))]=R}),console.log("meshes:",Y),console.log("textures:",H),yG=Y,xG=H};var UD=BH(KN(),1);function hh(){try{const A=new Uint8Array(1),Q={foo:function(){return 42}};return Object.setPrototypeOf(Q,Uint8Array.prototype),Object.setPrototypeOf(A,Q),A.foo()===42}catch(A){return!1}}function z8(A){if(A>pG)throw new RangeError('The value "'+A+'" is invalid for option "size"');const Q=new Uint8Array(A);return Object.setPrototypeOf(Q,PA.prototype),Q}function PA(A,Q,E){if(typeof A==="number"){if(typeof Q==="string")throw new TypeError('The "string" argument must be of type string. Received type number');return lG(A)}return ON(A,Q,E)}function ON(A,Q,E){if(typeof A==="string")return yh(A,Q);if(ArrayBuffer.isView(A))return xh(A);if(A==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(E8(A,ArrayBuffer)||A&&E8(A.buffer,ArrayBuffer))return cG(A,Q,E);if(typeof SharedArrayBuffer!=="undefined"&&(E8(A,SharedArrayBuffer)||A&&E8(A.buffer,SharedArrayBuffer)))return cG(A,Q,E);if(typeof A==="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const B=A.valueOf&&A.valueOf();if(B!=null&&B!==A)return PA.from(B,Q,E);const I=gh(A);if(I)return I;if(typeof Symbol!=="undefined"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]==="function")return PA.from(A[Symbol.toPrimitive]("string"),Q,E);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}function $N(A){if(typeof A!=="number")throw new TypeError('"size" argument must be of type number');else if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function vh(A,Q,E){if($N(A),A<=0)return z8(A);if(Q!==void 0)return typeof E==="string"?z8(A).fill(Q,E):z8(A).fill(Q);return z8(A)}function lG(A){return $N(A),z8(A<0?0:nG(A)|0)}function yh(A,Q){if(typeof Q!=="string"||Q==="")Q="utf8";if(!PA.isEncoding(Q))throw new TypeError("Unknown encoding: "+Q);const E=WN(A,Q)|0;let B=z8(E);const I=B.write(A,Q);if(I!==E)B=B.slice(0,I);return B}function mG(A){const Q=A.length<0?0:nG(A.length)|0,E=z8(Q);for(let B=0;B<Q;B+=1)E[B]=A[B]&255;return E}function xh(A){if(E8(A,Uint8Array)){const Q=new Uint8Array(A);return cG(Q.buffer,Q.byteOffset,Q.byteLength)}return mG(A)}function cG(A,Q,E){if(Q<0||A.byteLength<Q)throw new RangeError('"offset" is outside of buffer bounds');if(A.byteLength<Q+(E||0))throw new RangeError('"length" is outside of buffer bounds');let B;if(Q===void 0&&E===void 0)B=new Uint8Array(A);else if(E===void 0)B=new Uint8Array(A,Q);else B=new Uint8Array(A,Q,E);return Object.setPrototypeOf(B,PA.prototype),B}function gh(A){if(PA.isBuffer(A)){const Q=nG(A.length)|0,E=z8(Q);if(E.length===0)return E;return A.copy(E,0,0,Q),E}if(A.length!==void 0){if(typeof A.length!=="number"||iG(A.length))return z8(0);return mG(A)}if(A.type==="Buffer"&&Array.isArray(A.data))return mG(A.data)}function nG(A){if(A>=pG)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+pG.toString(16)+" bytes");return A|0}function WN(A,Q){if(PA.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||E8(A,ArrayBuffer))return A.byteLength;if(typeof A!=="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);const E=A.length,B=arguments.length>2&&arguments[2]===!0;if(!B&&E===0)return 0;let I=!1;for(;;)switch(Q){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":return dG(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E*2;case"hex":return E>>>1;case"base64":return zN(A).length;default:if(I)return B?-1:dG(A).length;Q=(""+Q).toLowerCase(),I=!0}}function bh(A,Q,E){let B=!1;if(Q===void 0||Q<0)Q=0;if(Q>this.length)return"";if(E===void 0||E>this.length)E=this.length;if(E<=0)return"";if(E>>>=0,Q>>>=0,E<=Q)return"";if(!A)A="utf8";while(!0)switch(A){case"hex":return ih(this,Q,E);case"utf8":case"utf-8":return FN(this,Q,E);case"ascii":return nh(this,Q,E);case"latin1":case"binary":return oh(this,Q,E);case"base64":return dh(this,Q,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return sh(this,Q,E);default:if(B)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),B=!0}}function NI(A,Q,E){const B=A[Q];A[Q]=A[E],A[E]=B}function XN(A,Q,E,B,I){if(A.length===0)return-1;if(typeof E==="string")B=E,E=0;else if(E>2147483647)E=2147483647;else if(E<-2147483648)E=-2147483648;if(E=+E,iG(E))E=I?0:A.length-1;if(E<0)E=A.length+E;if(E>=A.length)if(I)return-1;else E=A.length-1;else if(E<0)if(I)E=0;else return-1;if(typeof Q==="string")Q=PA.from(Q,B);if(PA.isBuffer(Q)){if(Q.length===0)return-1;return GN(A,Q,E,B,I)}else if(typeof Q==="number"){if(Q=Q&255,typeof Uint8Array.prototype.indexOf==="function")if(I)return Uint8Array.prototype.indexOf.call(A,Q,E);else return Uint8Array.prototype.lastIndexOf.call(A,Q,E);return GN(A,[Q],E,B,I)}throw new TypeError("val must be string, number or Buffer")}function GN(A,Q,E,B,I){let K=1,J=A.length,C=Q.length;if(B!==void 0){if(B=String(B).toLowerCase(),B==="ucs2"||B==="ucs-2"||B==="utf16le"||B==="utf-16le"){if(A.length<2||Q.length<2)return-1;K=2,J/=2,C/=2,E/=2}}function U(H,R){if(K===1)return H[R];else return H.readUInt16BE(R*K)}let Y;if(I){let H=-1;for(Y=E;Y<J;Y++)if(U(A,Y)===U(Q,H===-1?0:Y-H)){if(H===-1)H=Y;if(Y-H+1===C)return H*K}else{if(H!==-1)Y-=Y-H;H=-1}}else{if(E+C>J)E=J-C;for(Y=E;Y>=0;Y--){let H=!0;for(let R=0;R<C;R++)if(U(A,Y+R)!==U(Q,R)){H=!1;break}if(H)return Y}}return-1}function fh(A,Q,E,B){E=Number(E)||0;const I=A.length-E;if(!B)B=I;else if(B=Number(B),B>I)B=I;const K=Q.length;if(B>K/2)B=K/2;let J;for(J=0;J<B;++J){const C=parseInt(Q.substr(J*2,2),16);if(iG(C))return J;A[E+J]=C}return J}function uh(A,Q,E,B){return hU(dG(Q,A.length-E),A,E,B)}function ph(A,Q,E,B){return hU(eh(Q),A,E,B)}function mh(A,Q,E,B){return hU(zN(Q),A,E,B)}function ch(A,Q,E,B){return hU(Av(Q,A.length-E),A,E,B)}function dh(A,Q,E){if(Q===0&&E===A.length)return uG.fromByteArray(A);else return uG.fromByteArray(A.slice(Q,E))}function FN(A,Q,E){E=Math.min(A.length,E);const B=[];let I=Q;while(I<E){const K=A[I];let J=null,C=K>239?4:K>223?3:K>191?2:1;if(I+C<=E){let U,Y,H,R;switch(C){case 1:if(K<128)J=K;break;case 2:if(U=A[I+1],(U&192)===128){if(R=(K&31)<<6|U&63,R>127)J=R}break;case 3:if(U=A[I+1],Y=A[I+2],(U&192)===128&&(Y&192)===128){if(R=(K&15)<<12|(U&63)<<6|Y&63,R>2047&&(R<55296||R>57343))J=R}break;case 4:if(U=A[I+1],Y=A[I+2],H=A[I+3],(U&192)===128&&(Y&192)===128&&(H&192)===128){if(R=(K&15)<<18|(U&63)<<12|(Y&63)<<6|H&63,R>65535&&R<1114112)J=R}}}if(J===null)J=65533,C=1;else if(J>65535)J-=65536,B.push(J>>>10&1023|55296),J=56320|J&1023;B.push(J),I+=C}return lh(B)}function lh(A){const Q=A.length;if(Q<=ZN)return String.fromCharCode.apply(String,A);let E="",B=0;while(B<Q)E+=String.fromCharCode.apply(String,A.slice(B,B+=ZN));return E}function nh(A,Q,E){let B="";E=Math.min(A.length,E);for(let I=Q;I<E;++I)B+=String.fromCharCode(A[I]&127);return B}function oh(A,Q,E){let B="";E=Math.min(A.length,E);for(let I=Q;I<E;++I)B+=String.fromCharCode(A[I]);return B}function ih(A,Q,E){const B=A.length;if(!Q||Q<0)Q=0;if(!E||E<0||E>B)E=B;let I="";for(let K=Q;K<E;++K)I+=Qv[A[K]];return I}function sh(A,Q,E){const B=A.slice(Q,E);let I="";for(let K=0;K<B.length-1;K+=2)I+=String.fromCharCode(B[K]+B[K+1]*256);return I}function eQ(A,Q,E){if(A%1!==0||A<0)throw new RangeError("offset is not uint");if(A+Q>E)throw new RangeError("Trying to access beyond buffer length")}function h1(A,Q,E,B,I,K){if(!PA.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(Q>I||Q<K)throw new RangeError('"value" argument is out of bounds');if(E+B>A.length)throw new RangeError("Index out of range")}function qN(A,Q,E,B,I){wN(Q,B,I,A,E,7);let K=Number(Q&BigInt(4294967295));A[E++]=K,K=K>>8,A[E++]=K,K=K>>8,A[E++]=K,K=K>>8,A[E++]=K;let J=Number(Q>>BigInt(32)&BigInt(4294967295));return A[E++]=J,J=J>>8,A[E++]=J,J=J>>8,A[E++]=J,J=J>>8,A[E++]=J,E}function NN(A,Q,E,B,I){wN(Q,B,I,A,E,7);let K=Number(Q&BigInt(4294967295));A[E+7]=K,K=K>>8,A[E+6]=K,K=K>>8,A[E+5]=K,K=K>>8,A[E+4]=K;let J=Number(Q>>BigInt(32)&BigInt(4294967295));return A[E+3]=J,J=J>>8,A[E+2]=J,J=J>>8,A[E+1]=J,J=J>>8,A[E]=J,E+8}function LN(A,Q,E,B,I,K){if(E+B>A.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}function DN(A,Q,E,B,I){if(Q=+Q,E=E>>>0,!I)LN(A,Q,E,4,340282346638528860000000000000000000000,-340282346638528860000000000000000000000);return h6.write(A,Q,E,B,23,4),E+4}function MN(A,Q,E,B,I){if(Q=+Q,E=E>>>0,!I)LN(A,Q,E,8,179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,-179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000);return h6.write(A,Q,E,B,52,8),E+8}function oG(A,Q,E){j6[A]=class B extends E{constructor(){super();Object.defineProperty(this,"message",{value:Q.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${A}]`,this.stack,delete this.name}get code(){return A}set code(I){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:I,writable:!0})}toString(){return`${this.name} [${A}]: ${this.message}`}}}function RN(A){let Q="",E=A.length;const B=A[0]==="-"?1:0;for(;E>=B+4;E-=3)Q=`_${A.slice(E-3,E)}${Q}`;return`${A.slice(0,E)}${Q}`}function rh(A,Q,E){if(v6(Q,"offset"),A[Q]===void 0||A[Q+E]===void 0)vJ(Q,A.length-(E+1))}function wN(A,Q,E,B,I,K){if(A>E||A<Q){const J=typeof Q==="bigint"?"n":"";let C;if(K>3)if(Q===0||Q===BigInt(0))C=`>= 0${J} and < 2${J} ** ${(K+1)*8}${J}`;else C=`>= -(2${J} ** ${(K+1)*8-1}${J}) and < 2 ** ${(K+1)*8-1}${J}`;else C=`>= ${Q}${J} and <= ${E}${J}`;throw new j6.ERR_OUT_OF_RANGE("value",C,A)}rh(B,I,K)}function v6(A,Q){if(typeof A!=="number")throw new j6.ERR_INVALID_ARG_TYPE(Q,"number",A)}function vJ(A,Q,E){if(Math.floor(A)!==A)throw v6(A,E),new j6.ERR_OUT_OF_RANGE(E||"offset","an integer",A);if(Q<0)throw new j6.ERR_BUFFER_OUT_OF_BOUNDS;throw new j6.ERR_OUT_OF_RANGE(E||"offset",`>= ${E?1:0} and <= ${Q}`,A)}function th(A){if(A=A.split("=")[0],A=A.trim().replace(ah,""),A.length<2)return"";while(A.length%4!==0)A=A+"=";return A}function dG(A,Q){Q=Q||1/0;let E;const B=A.length;let I=null;const K=[];for(let J=0;J<B;++J){if(E=A.charCodeAt(J),E>55295&&E<57344){if(!I){if(E>56319){if((Q-=3)>-1)K.push(239,191,189);continue}else if(J+1===B){if((Q-=3)>-1)K.push(239,191,189);continue}I=E;continue}if(E<56320){if((Q-=3)>-1)K.push(239,191,189);I=E;continue}E=(I-55296<<10|E-56320)+65536}else if(I){if((Q-=3)>-1)K.push(239,191,189)}if(I=null,E<128){if((Q-=1)<0)break;K.push(E)}else if(E<2048){if((Q-=2)<0)break;K.push(E>>6|192,E&63|128)}else if(E<65536){if((Q-=3)<0)break;K.push(E>>12|224,E>>6&63|128,E&63|128)}else if(E<1114112){if((Q-=4)<0)break;K.push(E>>18|240,E>>12&63|128,E>>6&63|128,E&63|128)}else throw new Error("Invalid code point")}return K}function eh(A){const Q=[];for(let E=0;E<A.length;++E)Q.push(A.charCodeAt(E)&255);return Q}function Av(A,Q){let E,B,I;const K=[];for(let J=0;J<A.length;++J){if((Q-=2)<0)break;E=A.charCodeAt(J),B=E>>8,I=E%256,K.push(I),K.push(B)}return K}function zN(A){return uG.toByteArray(th(A))}function hU(A,Q,E,B){let I;for(I=0;I<B;++I){if(I+E>=Q.length||I>=A.length)break;Q[I+E]=A[I]}return I}function E8(A,Q){return A instanceof Q||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===Q.name}function iG(A){return A!==A}function qB(A){return typeof BigInt==="undefined"?Ev:A}function Ev(){throw new Error("BigInt not supported")}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var uG=UN(),h6=YN(),HN=typeof Symbol==="function"&&typeof Symbol.for==="function"?Symbol.for("nodejs.util.inspect.custom"):null;var A1=PA;var VN=50;var pG=2147483647;PA.TYPED_ARRAY_SUPPORT=hh();if(!PA.TYPED_ARRAY_SUPPORT&&typeof console!=="undefined"&&typeof console.error==="function")console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");Object.defineProperty(PA.prototype,"parent",{enumerable:!0,get:function(){if(!PA.isBuffer(this))return;return this.buffer}});Object.defineProperty(PA.prototype,"offset",{enumerable:!0,get:function(){if(!PA.isBuffer(this))return;return this.byteOffset}});PA.poolSize=8192;PA.from=function(A,Q,E){return ON(A,Q,E)};Object.setPrototypeOf(PA.prototype,Uint8Array.prototype);Object.setPrototypeOf(PA,Uint8Array);PA.alloc=function(A,Q,E){return vh(A,Q,E)};PA.allocUnsafe=function(A){return lG(A)};PA.allocUnsafeSlow=function(A){return lG(A)};PA.isBuffer=function A(Q){return Q!=null&&Q._isBuffer===!0&&Q!==PA.prototype};PA.compare=function A(Q,E){if(E8(Q,Uint8Array))Q=PA.from(Q,Q.offset,Q.byteLength);if(E8(E,Uint8Array))E=PA.from(E,E.offset,E.byteLength);if(!PA.isBuffer(Q)||!PA.isBuffer(E))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Q===E)return 0;let B=Q.length,I=E.length;for(let K=0,J=Math.min(B,I);K<J;++K)if(Q[K]!==E[K]){B=Q[K],I=E[K];break}if(B<I)return-1;if(I<B)return 1;return 0};PA.isEncoding=function A(Q){switch(String(Q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};PA.concat=function A(Q,E){if(!Array.isArray(Q))throw new TypeError('"list" argument must be an Array of Buffers');if(Q.length===0)return PA.alloc(0);let B;if(E===void 0){E=0;for(B=0;B<Q.length;++B)E+=Q[B].length}const I=PA.allocUnsafe(E);let K=0;for(B=0;B<Q.length;++B){let J=Q[B];if(E8(J,Uint8Array))if(K+J.length>I.length){if(!PA.isBuffer(J))J=PA.from(J);J.copy(I,K)}else Uint8Array.prototype.set.call(I,J,K);else if(!PA.isBuffer(J))throw new TypeError('"list" argument must be an Array of Buffers');else J.copy(I,K);K+=J.length}return I};PA.byteLength=WN;PA.prototype._isBuffer=!0;PA.prototype.swap16=function A(){const Q=this.length;if(Q%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let E=0;E<Q;E+=2)NI(this,E,E+1);return this};PA.prototype.swap32=function A(){const Q=this.length;if(Q%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let E=0;E<Q;E+=4)NI(this,E,E+3),NI(this,E+1,E+2);return this};PA.prototype.swap64=function A(){const Q=this.length;if(Q%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let E=0;E<Q;E+=8)NI(this,E,E+7),NI(this,E+1,E+6),NI(this,E+2,E+5),NI(this,E+3,E+4);return this};PA.prototype.toString=function A(){const Q=this.length;if(Q===0)return"";if(arguments.length===0)return FN(this,0,Q);return bh.apply(this,arguments)};PA.prototype.toLocaleString=PA.prototype.toString;PA.prototype.equals=function A(Q){if(!PA.isBuffer(Q))throw new TypeError("Argument must be a Buffer");if(this===Q)return!0;return PA.compare(this,Q)===0};PA.prototype.inspect=function A(){let Q="";const E=VN;if(Q=this.toString("hex",0,E).replace(/(.{2})/g,"$1 ").trim(),this.length>E)Q+=" ... ";return"<Buffer "+Q+">"};if(HN)PA.prototype[HN]=PA.prototype.inspect;PA.prototype.compare=function A(Q,E,B,I,K){if(E8(Q,Uint8Array))Q=PA.from(Q,Q.offset,Q.byteLength);if(!PA.isBuffer(Q))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Q);if(E===void 0)E=0;if(B===void 0)B=Q?Q.length:0;if(I===void 0)I=0;if(K===void 0)K=this.length;if(E<0||B>Q.length||I<0||K>this.length)throw new RangeError("out of range index");if(I>=K&&E>=B)return 0;if(I>=K)return-1;if(E>=B)return 1;if(E>>>=0,B>>>=0,I>>>=0,K>>>=0,this===Q)return 0;let J=K-I,C=B-E;const U=Math.min(J,C),Y=this.slice(I,K),H=Q.slice(E,B);for(let R=0;R<U;++R)if(Y[R]!==H[R]){J=Y[R],C=H[R];break}if(J<C)return-1;if(C<J)return 1;return 0};PA.prototype.includes=function A(Q,E,B){return this.indexOf(Q,E,B)!==-1};PA.prototype.indexOf=function A(Q,E,B){return XN(this,Q,E,B,!0)};PA.prototype.lastIndexOf=function A(Q,E,B){return XN(this,Q,E,B,!1)};PA.prototype.write=function A(Q,E,B,I){if(E===void 0)I="utf8",B=this.length,E=0;else if(B===void 0&&typeof E==="string")I=E,B=this.length,E=0;else if(isFinite(E))if(E=E>>>0,isFinite(B)){if(B=B>>>0,I===void 0)I="utf8"}else I=B,B=void 0;else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const K=this.length-E;if(B===void 0||B>K)B=K;if(Q.length>0&&(B<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");if(!I)I="utf8";let J=!1;for(;;)switch(I){case"hex":return fh(this,Q,E,B);case"utf8":case"utf-8":return uh(this,Q,E,B);case"ascii":case"latin1":case"binary":return ph(this,Q,E,B);case"base64":return mh(this,Q,E,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ch(this,Q,E,B);default:if(J)throw new TypeError("Unknown encoding: "+I);I=(""+I).toLowerCase(),J=!0}};PA.prototype.toJSON=function A(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ZN=4096;PA.prototype.slice=function A(Q,E){const B=this.length;if(Q=~~Q,E=E===void 0?B:~~E,Q<0){if(Q+=B,Q<0)Q=0}else if(Q>B)Q=B;if(E<0){if(E+=B,E<0)E=0}else if(E>B)E=B;if(E<Q)E=Q;const I=this.subarray(Q,E);return Object.setPrototypeOf(I,PA.prototype),I};PA.prototype.readUintLE=PA.prototype.readUIntLE=function A(Q,E,B){if(Q=Q>>>0,E=E>>>0,!B)eQ(Q,E,this.length);let I=this[Q],K=1,J=0;while(++J<E&&(K*=256))I+=this[Q+J]*K;return I};PA.prototype.readUintBE=PA.prototype.readUIntBE=function A(Q,E,B){if(Q=Q>>>0,E=E>>>0,!B)eQ(Q,E,this.length);let I=this[Q+--E],K=1;while(E>0&&(K*=256))I+=this[Q+--E]*K;return I};PA.prototype.readUint8=PA.prototype.readUInt8=function A(Q,E){if(Q=Q>>>0,!E)eQ(Q,1,this.length);return this[Q]};PA.prototype.readUint16LE=PA.prototype.readUInt16LE=function A(Q,E){if(Q=Q>>>0,!E)eQ(Q,2,this.length);return this[Q]|this[Q+1]<<8};PA.prototype.readUint16BE=PA.prototype.readUInt16BE=function A(Q,E){if(Q=Q>>>0,!E)eQ(Q,2,this.length);return this[Q]<<8|this[Q+1]};PA.prototype.readUint32LE=PA.prototype.readUInt32LE=function A(Q,E){if(Q=Q>>>0,!E)eQ(Q,4,this.length);return(this[Q]|this[Q+1]<<8|this[Q+2]<<16)+this[Q+3]*16777216};PA.prototype.readUint32BE=PA.prototype.readUInt32BE=function A(Q,E){if(Q=Q>>>0,!E)eQ(Q,4,this.length);return this[Q]*16777216+(this[Q+1]<<16|this[Q+2]<<8|this[Q+3])};PA.prototype.readBigUInt64LE=qB(function A(Q){Q=Q>>>0,v6(Q,"offset");const E=this[Q],B=this[Q+7];if(E===void 0||B===void 0)vJ(Q,this.length-8);const I=E+this[++Q]*256+this[++Q]*65536+this[++Q]*16777216,K=this[++Q]+this[++Q]*256+this[++Q]*65536+B*16777216;return BigInt(I)+(BigInt(K)<<BigInt(32))});PA.prototype.readBigUInt64BE=qB(function A(Q){Q=Q>>>0,v6(Q,"offset");const E=this[Q],B=this[Q+7];if(E===void 0||B===void 0)vJ(Q,this.length-8);const I=E*16777216+this[++Q]*65536+this[++Q]*256+this[++Q],K=this[++Q]*16777216+this[++Q]*65536+this[++Q]*256+B;return(BigInt(I)<<BigInt(32))+BigInt(K)});PA.prototype.readIntLE=function A(Q,E,B){if(Q=Q>>>0,E=E>>>0,!B)eQ(Q,E,this.length);let I=this[Q],K=1,J=0;while(++J<E&&(K*=256))I+=this[Q+J]*K;if(K*=128,I>=K)I-=Math.pow(2,8*E);return I};PA.prototype.readIntBE=function A(Q,E,B){if(Q=Q>>>0,E=E>>>0,!B)eQ(Q,E,this.length);let I=E,K=1,J=this[Q+--I];while(I>0&&(K*=256))J+=this[Q+--I]*K;if(K*=128,J>=K)J-=Math.pow(2,8*E);return J};PA.prototype.readInt8=function A(Q,E){if(Q=Q>>>0,!E)eQ(Q,1,this.length);if(!(this[Q]&128))return this[Q];return(255-this[Q]+1)*-1};PA.prototype.readInt16LE=function A(Q,E){if(Q=Q>>>0,!E)eQ(Q,2,this.length);const B=this[Q]|this[Q+1]<<8;return B&32768?B|4294901760:B};PA.prototype.readInt16BE=function A(Q,E){if(Q=Q>>>0,!E)eQ(Q,2,this.length);const B=this[Q+1]|this[Q]<<8;return B&32768?B|4294901760:B};PA.prototype.readInt32LE=function A(Q,E){if(Q=Q>>>0,!E)eQ(Q,4,this.length);return this[Q]|this[Q+1]<<8|this[Q+2]<<16|this[Q+3]<<24};PA.prototype.readInt32BE=function A(Q,E){if(Q=Q>>>0,!E)eQ(Q,4,this.length);return this[Q]<<24|this[Q+1]<<16|this[Q+2]<<8|this[Q+3]};PA.prototype.readBigInt64LE=qB(function A(Q){Q=Q>>>0,v6(Q,"offset");const E=this[Q],B=this[Q+7];if(E===void 0||B===void 0)vJ(Q,this.length-8);const I=this[Q+4]+this[Q+5]*256+this[Q+6]*65536+(B<<24);return(BigInt(I)<<BigInt(32))+BigInt(E+this[++Q]*256+this[++Q]*65536+this[++Q]*16777216)});PA.prototype.readBigInt64BE=qB(function A(Q){Q=Q>>>0,v6(Q,"offset");const E=this[Q],B=this[Q+7];if(E===void 0||B===void 0)vJ(Q,this.length-8);const I=(E<<24)+this[++Q]*65536+this[++Q]*256+this[++Q];return(BigInt(I)<<BigInt(32))+BigInt(this[++Q]*16777216+this[++Q]*65536+this[++Q]*256+B)});PA.prototype.readFloatLE=function A(Q,E){if(Q=Q>>>0,!E)eQ(Q,4,this.length);return h6.read(this,Q,!0,23,4)};PA.prototype.readFloatBE=function A(Q,E){if(Q=Q>>>0,!E)eQ(Q,4,this.length);return h6.read(this,Q,!1,23,4)};PA.prototype.readDoubleLE=function A(Q,E){if(Q=Q>>>0,!E)eQ(Q,8,this.length);return h6.read(this,Q,!0,52,8)};PA.prototype.readDoubleBE=function A(Q,E){if(Q=Q>>>0,!E)eQ(Q,8,this.length);return h6.read(this,Q,!1,52,8)};PA.prototype.writeUintLE=PA.prototype.writeUIntLE=function A(Q,E,B,I){if(Q=+Q,E=E>>>0,B=B>>>0,!I){const C=Math.pow(2,8*B)-1;h1(this,Q,E,B,C,0)}let K=1,J=0;this[E]=Q&255;while(++J<B&&(K*=256))this[E+J]=Q/K&255;return E+B};PA.prototype.writeUintBE=PA.prototype.writeUIntBE=function A(Q,E,B,I){if(Q=+Q,E=E>>>0,B=B>>>0,!I){const C=Math.pow(2,8*B)-1;h1(this,Q,E,B,C,0)}let K=B-1,J=1;this[E+K]=Q&255;while(--K>=0&&(J*=256))this[E+K]=Q/J&255;return E+B};PA.prototype.writeUint8=PA.prototype.writeUInt8=function A(Q,E,B){if(Q=+Q,E=E>>>0,!B)h1(this,Q,E,1,255,0);return this[E]=Q&255,E+1};PA.prototype.writeUint16LE=PA.prototype.writeUInt16LE=function A(Q,E,B){if(Q=+Q,E=E>>>0,!B)h1(this,Q,E,2,65535,0);return this[E]=Q&255,this[E+1]=Q>>>8,E+2};PA.prototype.writeUint16BE=PA.prototype.writeUInt16BE=function A(Q,E,B){if(Q=+Q,E=E>>>0,!B)h1(this,Q,E,2,65535,0);return this[E]=Q>>>8,this[E+1]=Q&255,E+2};PA.prototype.writeUint32LE=PA.prototype.writeUInt32LE=function A(Q,E,B){if(Q=+Q,E=E>>>0,!B)h1(this,Q,E,4,4294967295,0);return this[E+3]=Q>>>24,this[E+2]=Q>>>16,this[E+1]=Q>>>8,this[E]=Q&255,E+4};PA.prototype.writeUint32BE=PA.prototype.writeUInt32BE=function A(Q,E,B){if(Q=+Q,E=E>>>0,!B)h1(this,Q,E,4,4294967295,0);return this[E]=Q>>>24,this[E+1]=Q>>>16,this[E+2]=Q>>>8,this[E+3]=Q&255,E+4};PA.prototype.writeBigUInt64LE=qB(function A(Q,E=0){return qN(this,Q,E,BigInt(0),BigInt("0xffffffffffffffff"))});PA.prototype.writeBigUInt64BE=qB(function A(Q,E=0){return NN(this,Q,E,BigInt(0),BigInt("0xffffffffffffffff"))});PA.prototype.writeIntLE=function A(Q,E,B,I){if(Q=+Q,E=E>>>0,!I){const U=Math.pow(2,8*B-1);h1(this,Q,E,B,U-1,-U)}let K=0,J=1,C=0;this[E]=Q&255;while(++K<B&&(J*=256)){if(Q<0&&C===0&&this[E+K-1]!==0)C=1;this[E+K]=(Q/J>>0)-C&255}return E+B};PA.prototype.writeIntBE=function A(Q,E,B,I){if(Q=+Q,E=E>>>0,!I){const U=Math.pow(2,8*B-1);h1(this,Q,E,B,U-1,-U)}let K=B-1,J=1,C=0;this[E+K]=Q&255;while(--K>=0&&(J*=256)){if(Q<0&&C===0&&this[E+K+1]!==0)C=1;this[E+K]=(Q/J>>0)-C&255}return E+B};PA.prototype.writeInt8=function A(Q,E,B){if(Q=+Q,E=E>>>0,!B)h1(this,Q,E,1,127,-128);if(Q<0)Q=255+Q+1;return this[E]=Q&255,E+1};PA.prototype.writeInt16LE=function A(Q,E,B){if(Q=+Q,E=E>>>0,!B)h1(this,Q,E,2,32767,-32768);return this[E]=Q&255,this[E+1]=Q>>>8,E+2};PA.prototype.writeInt16BE=function A(Q,E,B){if(Q=+Q,E=E>>>0,!B)h1(this,Q,E,2,32767,-32768);return this[E]=Q>>>8,this[E+1]=Q&255,E+2};PA.prototype.writeInt32LE=function A(Q,E,B){if(Q=+Q,E=E>>>0,!B)h1(this,Q,E,4,2147483647,-2147483648);return this[E]=Q&255,this[E+1]=Q>>>8,this[E+2]=Q>>>16,this[E+3]=Q>>>24,E+4};PA.prototype.writeInt32BE=function A(Q,E,B){if(Q=+Q,E=E>>>0,!B)h1(this,Q,E,4,2147483647,-2147483648);if(Q<0)Q=4294967295+Q+1;return this[E]=Q>>>24,this[E+1]=Q>>>16,this[E+2]=Q>>>8,this[E+3]=Q&255,E+4};PA.prototype.writeBigInt64LE=qB(function A(Q,E=0){return qN(this,Q,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});PA.prototype.writeBigInt64BE=qB(function A(Q,E=0){return NN(this,Q,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});PA.prototype.writeFloatLE=function A(Q,E,B){return DN(this,Q,E,!0,B)};PA.prototype.writeFloatBE=function A(Q,E,B){return DN(this,Q,E,!1,B)};PA.prototype.writeDoubleLE=function A(Q,E,B){return MN(this,Q,E,!0,B)};PA.prototype.writeDoubleBE=function A(Q,E,B){return MN(this,Q,E,!1,B)};PA.prototype.copy=function A(Q,E,B,I){if(!PA.isBuffer(Q))throw new TypeError("argument should be a Buffer");if(!B)B=0;if(!I&&I!==0)I=this.length;if(E>=Q.length)E=Q.length;if(!E)E=0;if(I>0&&I<B)I=B;if(I===B)return 0;if(Q.length===0||this.length===0)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(B<0||B>=this.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("sourceEnd out of bounds");if(I>this.length)I=this.length;if(Q.length-E<I-B)I=Q.length-E+B;const K=I-B;if(this===Q&&typeof Uint8Array.prototype.copyWithin==="function")this.copyWithin(E,B,I);else Uint8Array.prototype.set.call(Q,this.subarray(B,I),E);return K};PA.prototype.fill=function A(Q,E,B,I){if(typeof Q==="string"){if(typeof E==="string")I=E,E=0,B=this.length;else if(typeof B==="string")I=B,B=this.length;if(I!==void 0&&typeof I!=="string")throw new TypeError("encoding must be a string");if(typeof I==="string"&&!PA.isEncoding(I))throw new TypeError("Unknown encoding: "+I);if(Q.length===1){const J=Q.charCodeAt(0);if(I==="utf8"&&J<128||I==="latin1")Q=J}}else if(typeof Q==="number")Q=Q&255;else if(typeof Q==="boolean")Q=Number(Q);if(E<0||this.length<E||this.length<B)throw new RangeError("Out of range index");if(B<=E)return this;if(E=E>>>0,B=B===void 0?this.length:B>>>0,!Q)Q=0;let K;if(typeof Q==="number")for(K=E;K<B;++K)this[K]=Q;else{const J=PA.isBuffer(Q)?Q:PA.from(Q,I),C=J.length;if(C===0)throw new TypeError('The value "'+Q+'" is invalid for argument "value"');for(K=0;K<B-E;++K)this[K+E]=J[K%C]}return this};var j6={};oG("ERR_BUFFER_OUT_OF_BOUNDS",function(A){if(A)return`${A} is outside of buffer bounds`;return"Attempt to access memory outside buffer bounds"},RangeError);oG("ERR_INVALID_ARG_TYPE",function(A,Q){return`The "${A}" argument must be of type number. Received type ${typeof Q}`},TypeError);oG("ERR_OUT_OF_RANGE",function(A,Q,E){let B=`The value of "${A}" is out of range.`,I=E;if(Number.isInteger(E)&&Math.abs(E)>4294967296)I=RN(String(E));else if(typeof E==="bigint"){if(I=String(E),E>BigInt(2)**BigInt(32)||E<-(BigInt(2)**BigInt(32)))I=RN(I);I+="n"}return B+=` It must be ${Q}. Received ${I}`,B},RangeError);var ah=/[^+/0-9A-Za-z-_]/g,Qv=function(){const Q=new Array(256);for(let E=0;E<16;++E){const B=E*16;for(let I=0;I<16;++I)Q[B+I]="0123456789abcdef"[E]+"0123456789abcdef"[I]}return Q}();function Bv(A,Q){return TN(A,Q,!1)}function Iv(A,Q){return TN(A,Q,!0)}function TN(A,Q,E){if(Q===0)return"";var B=0,I=[],K=!0,J=!!Q;if(!Q)Q=Math.floor((A._length-A._index)/8);while(B<Q){var C=A.readUint8();if(C===0){if(K=!1,!J)break}if(K)I.push(C);B++}var U=String.fromCharCode.apply(null,I);if(E)try{return decodeURIComponent(escape(U))}catch(Y){return U}else return U}function Kv(A,Q,E){var B=E||Q.length+1;for(var I=0;I<B;I++)A.writeUint8(I<Q.length?Q.charCodeAt(I):0)}function Jv(A,Q,E){var B=Cv(Q),I=E||B.length+1;for(var K=0;K<I;K++)A.writeUint8(K<B.length?B[K]:0)}function Cv(A){var Q=[],E,B;for(E=0;E<A.length;E++)if(B=A.charCodeAt(E),B<=127)Q.push(B);else if(B<=2047)Q.push(B>>6|192),Q.push(B&63|128);else if(B<=65535)Q.push(B>>12|224),Q.push(B>>6&63|128),Q.push(B&63|128);else Q.push(B>>18|240),Q.push(B>>12&63|128),Q.push(B>>6&63|128),Q.push(B&63|128);return Q}class R1{constructor(A,Q,E){var B=A instanceof ArrayBuffer||typeof A1!=="undefined"&&A instanceof A1;if(!B)throw new Error("Must specify a valid ArrayBuffer or Buffer.");Q=Q||0,E=E||A.byteLength||A.length,this._view=new Uint8Array(A.buffer||A,Q,E),this.bigEndian=!1}_setBit(A,Q){if(Q)this._view[A>>3]|=1<<(A&7);else this._view[A>>3]&=~(1<<(A&7))}getBits(A,Q,E){var B=this._view.length*8-A;if(Q>B)throw new Error("Cannot get "+Q+" bit(s) from offset "+A+", "+B+" available");var I=0;for(var K=0;K<Q;){var J=Q-K,C=A&7,U=this._view[A>>3],Y=Math.min(J,8-C),H,R;if(this.bigEndian)H=~(255<<Y),R=U>>8-Y-C&H,I<<=Y,I|=R;else H=~(255<<Y),R=U>>C&H,I|=R<<K;A+=Y,K+=Y}if(E){if(Q!==32&&I&1<<Q-1)I|=-1^(1<<Q)-1;return I}return I>>>0}setBits(A,Q,E){var B=this._view.length*8-A;if(E>B)throw new Error("Cannot set "+E+" bit(s) from offset "+A+", "+B+" available");for(var I=0;I<E;){var K=E-I,J=A&7,C=A>>3,U=Math.min(K,8-J),Y,H,R;if(this.bigEndian){Y=~(-1<<U),H=Q>>E-I-U&Y;var G=8-J-U;R=~(Y<<G),this._view[C]=this._view[C]&R|H<<G}else Y=~(255<<U),H=Q&Y,Q>>=U,R=~(Y<<J),this._view[C]=this._view[C]&R|H<<J;A+=U,I+=U}}getBoolean(A){return this.getBits(A,1,!1)!==0}getInt8(A){return this.getBits(A,8,!0)}getUint8(A){return this.getBits(A,8,!1)}getInt16(A){return this.getBits(A,16,!0)}getUint16(A){return this.getBits(A,16,!1)}getInt32(A){return this.getBits(A,32,!0)}getUint32(A){return this.getBits(A,32,!1)}getFloat32(A){return R1._scratch.setUint32(0,this.getUint32(A)),R1._scratch.getFloat32(0)}getFloat64(A){return R1._scratch.setUint32(0,this.getUint32(A)),R1._scratch.setUint32(4,this.getUint32(A+32)),R1._scratch.getFloat64(0)}setBoolean(A,Q){this.setBits(A,Q?1:0,1)}setInt8(A,Q){this.setBits(A,Q,8)}setUint8(A,Q){this.setBits(A,Q,8)}setInt16(A,Q){this.setBits(A,Q,16)}setUint16(A,Q){this.setBits(A,Q,16)}setInt32(A,Q){this.setBits(A,Q,32)}setUint32(A,Q){this.setBits(A,Q,32)}setFloat32(A,Q){R1._scratch.setFloat32(0,Q),this.setBits(A,R1._scratch.getUint32(0),32)}setFloat64(A,Q){R1._scratch.setFloat64(0,Q),this.setBits(A,R1._scratch.getUint32(0),32),this.setBits(A+32,R1._scratch.getUint32(4),32)}getArrayBuffer(A,Q){var E=new Uint8Array(Q);for(var B=0;B<Q;B++)E[B]=this.getUint8(A+B*8);return E}}R1._scratch=new DataView(new ArrayBuffer(8));Object.defineProperty(R1.prototype,"buffer",{get:function(){return typeof A1!=="undefined"?A1.from(this._view.buffer):this._view.buffer},enumerable:!0,configurable:!1});Object.defineProperty(R1.prototype,"byteLength",{get:function(){return this._view.length},enumerable:!0,configurable:!1});var V8=function(A,Q){return function(){if(this._index+Q>this._length)throw new Error("Trying to read past the end of the stream");var E=this._view[A](this._index);return this._index+=Q,E}},T8=function(A,Q){return function(E){this._view[A](this._index,E),this._index+=Q}};class AQ{constructor(A,Q,E){var B=A instanceof ArrayBuffer||typeof A1!=="undefined"&&A instanceof A1;if(!(A instanceof R1)&&!B)throw new Error("Must specify a valid BitView, ArrayBuffer or Buffer");if(B)this._view=new R1(A,Q,E);else this._view=A;this._index=0,this._startIndex=0,this._length=this._view.byteLength*8}readBits(A,Q){var E=this._view.getBits(this._index,A,Q);return this._index+=A,E}writeBits(A,Q){this._view.setBits(this._index,A,Q),this._index+=Q}readASCIIString(A){return Bv(this,A)}readUTF8String(A){return Iv(this,A)}writeASCIIString(A,Q){Kv(this,A,Q)}writeUTF8String(A,Q){Jv(this,A,Q)}readBitStream(A){var Q=new AQ(this._view);return Q._startIndex=this._index,Q._index=this._index,Q.length=A,this._index+=A,Q}writeBitStream(A,Q){if(!Q)Q=A.bitsLeft;var E;while(Q>0)E=Math.min(Q,32),this.writeBits(A.readBits(E),E),Q-=E}readArrayBuffer(A){var Q=this._view.getArrayBuffer(this._index,A);return this._index+=A*8,Q}writeArrayBuffer(A,Q){this.writeBitStream(new AQ(A),Q*8)}}Object.defineProperty(AQ.prototype,"index",{get:function(){return this._index-this._startIndex},set:function(A){this._index=A+this._startIndex},enumerable:!0,configurable:!0});Object.defineProperty(AQ.prototype,"length",{get:function(){return this._length-this._startIndex},set:function(A){this._length=A+this._startIndex},enumerable:!0,configurable:!0});Object.defineProperty(AQ.prototype,"bitsLeft",{get:function(){return this._length-this._index},enumerable:!0,configurable:!0});Object.defineProperty(AQ.prototype,"byteIndex",{get:function(){return Math.ceil(this._index/8)},set:function(A){this._index=A*8},enumerable:!0,configurable:!0});Object.defineProperty(AQ.prototype,"buffer",{get:function(){return this._view.buffer},enumerable:!0,configurable:!1});Object.defineProperty(AQ.prototype,"view",{get:function(){return this._view},enumerable:!0,configurable:!1});Object.defineProperty(AQ.prototype,"bigEndian",{get:function(){return this._view.bigEndian},set:function(A){this._view.bigEndian=A},enumerable:!0,configurable:!1});AQ.prototype.readBoolean=V8("getBoolean",1);AQ.prototype.readInt8=V8("getInt8",8);AQ.prototype.readUint8=V8("getUint8",8);AQ.prototype.readInt16=V8("getInt16",16);AQ.prototype.readUint16=V8("getUint16",16);AQ.prototype.readInt32=V8("getInt32",32);AQ.prototype.readUint32=V8("getUint32",32);AQ.prototype.readFloat32=V8("getFloat32",32);AQ.prototype.readFloat64=V8("getFloat64",64);AQ.prototype.writeBoolean=T8("setBoolean",1);AQ.prototype.writeInt8=T8("setInt8",8);AQ.prototype.writeUint8=T8("setUint8",8);AQ.prototype.writeInt16=T8("setInt16",16);AQ.prototype.writeUint16=T8("setUint16",16);AQ.prototype.writeInt32=T8("setInt32",32);AQ.prototype.writeUint32=T8("setUint32",32);AQ.prototype.writeFloat32=T8("setFloat32",32);AQ.prototype.writeFloat64=T8("setFloat64",64);class vU extends AQ{constructor(A){super(A,A.byteOffset,A.byteLength)}swapEndian(){this.bigEndian=!this.bigEndian}alignByte(){const Q=8*Math.ceil(this._index/8)-this._index;this.skipBits(Q)}bitSeek(A){this._index=A}skipBits(A){this._index+=A}skipBytes(A){const Q=A*8;this.skipBits(Q)}skipBit(){this.skipBits(1)}skipInt8(){this.skipBytes(1)}skipInt16(){this.skipBytes(2)}readBit(){return this.readBits(1)}readBytes(A){return Array(A).fill(0).map(()=>this.readUint8())}readBuffer(A){return A1.from(this.readBytes(A))}readUTF16String(A){return this.readBuffer(A).toString("utf16le").replace(/\0.*$/,"")}writeBit(A){this.writeBits(A,1)}writeBuffer(A){A.forEach((Q)=>this.writeUint8(Q))}writeUTF16String(A){const Q=A1.from(A,"utf16le"),E=A1.alloc(20);Q.copy(E),this.writeBuffer(E)}}class jA{static inRange(A,Q){return Q.includes(A)}static clamp(A,Q,E){if(E===void 0)E=Q,Q=0;return Math.min(Math.max(A,Q),E)}static range(A,Q){if(Q===void 0)Q=A,A=0;return Array.from({length:Q-A},(E,B)=>B+A)}}var aA=BH(D7(),1);var JD={renderer:{baseURL:"https://mii-renderer.nxw.pw/miis/image",renderHeadshotURL:"https://mii-renderer.nxw.pw/miis/image.png?shaderType=0&type=face&width=260&verifyCharInfo=0",renderHeadshotURLNoParams:"https://mii-renderer.nxw.pw/miis/image.png",render3DHeadURL:"https://mii-renderer.nxw.pw/miis/image.glb?shaderType=0&type=face&width=260&verifyCharInfo=0",renderFaceURL:"https://mii-renderer.nxw.pw/miis/image.png?width=312&scale=1&drawStageMode=mask_only",randomUserURL:"???"},version:{string:"v0.5",name:"Unfinished"}};var tb=JD.renderer.baseURL,eb="https://mii-studio.akamaized.net/editor/1",CD="webp",S8={type:"face",expression:"normal",width:96,bgColor:"FFFFFF00",clothesColor:"default",cameraXRotate:0,cameraYRotate:0,cameraZRotate:0,characterXRotate:0,characterYRotate:0,characterZRotate:0,lightXDirection:0,lightYDirection:0,lightZDirection:0,lightDirectionMode:"none",splitMode:"none",instanceCount:1,instanceRotationMode:"model"};var Af=["face","face_only","all_body"],Qf=["normal","smile","anger","sorrow","surprise","blink","normal_open_mouth","smile_open_mouth","anger_open_mouth","surprise_open_mouth","sorrow_open_mouth","blink_open_mouth","wink_left","wink_right","wink_left_open_mouth","wink_right_open_mouth","like_wink_left","like_wink_right","frustrated"],Ef=["default","red","orange","yellow","yellowgreen","green","blue","skyblue","pink","purple","brown","white","black"],Bf=["none","zerox","flipx","camera","offset","set"],If=["none","front","back","both"],Kf=["model","camera","both"],Jf=/^[0-9A-F]{8}$/;class P7{bitStream;version;allowCopying;profanityFlag;regionLock;characterSet;pageIndex;slotIndex;unknown1;deviceOrigin;systemId;normalMii;dsMii;nonUserMii;isValid;creationTime;consoleMAC;gender;birthMonth;birthDay;favoriteColor;favorite;miiName;height;build;disableSharing;faceType;skinColor;wrinklesType;makeupType;hairType;hairColor;flipHair;eyeType;eyeColor;eyeScale;eyeVerticalStretch;eyeRotation;eyeSpacing;eyeYPosition;eyebrowType;eyebrowColor;eyebrowScale;eyebrowVerticalStretch;eyebrowRotation;eyebrowSpacing;eyebrowYPosition;noseType;noseScale;noseYPosition;mouthType;mouthColor;mouthScale;mouthHorizontalStretch;mouthYPosition;mustacheType;unknown2;beardType;facialHairColor;mustacheScale;mustacheYPosition;glassesType;glassesColor;glassesScale;glassesYPosition;moleEnabled;moleScale;moleXPosition;moleYPosition;creatorName;checksum;constructor(A){this.bitStream=new vU(A),this.decode()}validate(){if(aA.default.strictEqual(this.bitStream.length/8,96,`Invalid Mii data size. Got ${this.bitStream.length/8}, expected 96`),aA.default.ok(this.version===0||this.version===3,`Invalid Mii version. Got ${this.version}, expected 0 or 3`),aA.default.strictEqual(typeof this.allowCopying,"boolean",`Invalid Mii allow copying. Got ${this.allowCopying}, expected true or false`),aA.default.strictEqual(typeof this.profanityFlag,"boolean",`Invalid Mii profanity flag. Got ${this.profanityFlag}, expected true or false`),aA.default.ok(jA.inRange(this.regionLock,jA.range(4)),`Invalid Mii region lock. Got ${this.regionLock}, expected 0-3`),aA.default.ok(jA.inRange(this.characterSet,jA.range(4)),`Invalid Mii region lock. Got ${this.characterSet}, expected 0-3`),aA.default.ok(jA.inRange(this.pageIndex,jA.range(10)),`Invalid Mii page index. Got ${this.pageIndex}, expected 0-9`),aA.default.ok(jA.inRange(this.slotIndex,jA.range(10)),`Invalid Mii slot index. Got ${this.slotIndex}, expected 0-9`),aA.default.ok(jA.inRange(this.deviceOrigin,jA.range(0,5)),`Invalid Mii device origin. Got ${this.deviceOrigin}, expected 1-4`),aA.default.strictEqual(this.systemId.length,8,`Invalid Mii system ID size. Got ${this.systemId.length}, system IDs must be 8 bytes long`),aA.default.strictEqual(typeof this.normalMii,"boolean",`Invalid normal Mii flag. Got ${this.normalMii}, expected true or false`),aA.default.strictEqual(typeof this.dsMii,"boolean",`Invalid DS Mii flag. Got ${this.dsMii}, expected true or false`),aA.default.strictEqual(typeof this.nonUserMii,"boolean",`Invalid non-user Mii flag. Got ${this.nonUserMii}, expected true or false`),aA.default.strictEqual(typeof this.isValid,"boolean",`Invalid Mii valid flag. Got ${this.isValid}, expected true or false`),aA.default.ok(this.creationTime<268435456,`Invalid Mii creation time. Got ${this.creationTime}, max value for 28 bit integer is 268,435,456`),aA.default.strictEqual(this.consoleMAC.length,6,`Invalid Mii console MAC address size. Got ${this.consoleMAC.length}, console MAC addresses must be 6 bytes long`),aA.default.ok(jA.inRange(this.gender,jA.range(2)),`Invalid Mii gender. Got ${this.gender}, expected 0 or 1`),aA.default.ok(jA.inRange(this.birthMonth,jA.range(13)),`Invalid Mii birth month. Got ${this.birthMonth}, expected 0-12`),aA.default.ok(jA.inRange(this.birthDay,jA.range(32)),`Invalid Mii birth day. Got ${this.birthDay}, expected 0-31`),aA.default.ok(jA.inRange(this.favoriteColor,jA.range(12)),`Invalid Mii favorite color. Got ${this.favoriteColor}, expected 0-11`),aA.default.strictEqual(typeof this.favorite,"boolean",`Invalid favorite Mii flag. Got ${this.favorite}, expected true or false`),aA.default.ok(A1.from(this.miiName,"utf16le").length<=20,`Invalid Mii name. Got ${this.miiName}, name may only be up to 10 characters`),aA.default.ok(jA.inRange(this.height,jA.range(128)),`Invalid Mii height. Got ${this.height}, expected 0-127`),aA.default.ok(jA.inRange(this.build,jA.range(128)),`Invalid Mii build. Got ${this.build}, expected 0-127`),aA.default.strictEqual(typeof this.disableSharing,"boolean",`Invalid disable sharing Mii flag. Got ${this.disableSharing}, expected true or false`),aA.default.ok(jA.inRange(this.faceType,jA.range(12)),`Invalid Mii face type. Got ${this.faceType}, expected 0-11`),aA.default.ok(jA.inRange(this.skinColor,jA.range(7)),`Invalid Mii skin color. Got ${this.skinColor}, expected 0-6`),aA.default.ok(jA.inRange(this.wrinklesType,jA.range(12)),`Invalid Mii wrinkles type. Got ${this.wrinklesType}, expected 0-11`),aA.default.ok(jA.inRange(this.makeupType,jA.range(12)),`Invalid Mii makeup type. Got ${this.makeupType}, expected 0-11`),aA.default.ok(jA.inRange(this.hairType,jA.range(132)),`Invalid Mii hair type. Got ${this.hairType}, expected 0-131`),aA.default.ok(jA.inRange(this.hairColor,jA.range(8)),`Invalid Mii hair color. Got ${this.hairColor}, expected 0-7`),aA.default.strictEqual(typeof this.flipHair,"boolean",`Invalid flip hair flag. Got ${this.flipHair}, expected true or false`),aA.default.ok(jA.inRange(this.eyeType,jA.range(60)),`Invalid Mii eye type. Got ${this.eyeType}, expected 0-59`),aA.default.ok(jA.inRange(this.eyeColor,jA.range(6)),`Invalid Mii eye color. Got ${this.eyeColor}, expected 0-5`),aA.default.ok(jA.inRange(this.eyeScale,jA.range(8)),`Invalid Mii eye scale. Got ${this.eyeScale}, expected 0-7`),aA.default.ok(jA.inRange(this.eyeVerticalStretch,jA.range(7)),`Invalid Mii eye vertical stretch. Got ${this.eyeVerticalStretch}, expected 0-6`),aA.default.ok(jA.inRange(this.eyeRotation,jA.range(8)),`Invalid Mii eye rotation. Got ${this.eyeRotation}, expected 0-7`),aA.default.ok(jA.inRange(this.eyeSpacing,jA.range(13)),`Invalid Mii eye spacing. Got ${this.eyeSpacing}, expected 0-12`),aA.default.ok(jA.inRange(this.eyeYPosition,jA.range(19)),`Invalid Mii eye Y position. Got ${this.eyeYPosition}, expected 0-18`),aA.default.ok(jA.inRange(this.eyebrowType,jA.range(25)),`Invalid Mii eyebrow type. Got ${this.eyebrowType}, expected 0-24`),aA.default.ok(jA.inRange(this.eyebrowColor,jA.range(8)),`Invalid Mii eyebrow color. Got ${this.eyebrowColor}, expected 0-7`),aA.default.ok(jA.inRange(this.eyebrowScale,jA.range(9)),`Invalid Mii eyebrow scale. Got ${this.eyebrowScale}, expected 0-8`),aA.default.ok(jA.inRange(this.eyebrowVerticalStretch,jA.range(7)),`Invalid Mii eyebrow vertical stretch. Got ${this.eyebrowVerticalStretch}, expected 0-6`),aA.default.ok(jA.inRange(this.eyebrowRotation,jA.range(12)),`Invalid Mii eyebrow rotation. Got ${this.eyebrowRotation}, expected 0-11`),aA.default.ok(jA.inRange(this.eyebrowSpacing,jA.range(13)),`Invalid Mii eyebrow spacing. Got ${this.eyebrowSpacing}, expected 0-12`),aA.default.ok(jA.inRange(this.eyebrowYPosition,jA.range(3,19)),`Invalid Mii eyebrow Y position. Got ${this.eyebrowYPosition}, expected 3-18`),aA.default.ok(jA.inRange(this.noseType,jA.range(18)),`Invalid Mii nose type. Got ${this.noseType}, expected 0-17`),aA.default.ok(jA.inRange(this.noseScale,jA.range(9)),`Invalid Mii nose scale. Got ${this.noseScale}, expected 0-8`),aA.default.ok(jA.inRange(this.noseYPosition,jA.range(19)),`Invalid Mii nose Y position. Got ${this.noseYPosition}, expected 0-18`),aA.default.ok(jA.inRange(this.mouthType,jA.range(36)),`Invalid Mii mouth type. Got ${this.mouthType}, expected 0-35`),aA.default.ok(jA.inRange(this.mouthColor,jA.range(5)),`Invalid Mii mouth color. Got ${this.mouthColor}, expected 0-4`),aA.default.ok(jA.inRange(this.mouthScale,jA.range(9)),`Invalid Mii mouth scale. Got ${this.mouthScale}, expected 0-8`),aA.default.ok(jA.inRange(this.mouthHorizontalStretch,jA.range(7)),`Invalid Mii mouth stretch. Got ${this.mouthHorizontalStretch}, expected 0-6`),aA.default.ok(jA.inRange(this.mouthYPosition,jA.range(19)),`Invalid Mii mouth Y position. Got ${this.mouthYPosition}, expected 0-18`),aA.default.ok(jA.inRange(this.mustacheType,jA.range(6)),`Invalid Mii mustache type. Got ${this.mustacheType}, expected 0-5`),aA.default.ok(jA.inRange(this.beardType,jA.range(6)),`Invalid Mii beard type. Got ${this.beardType}, expected 0-5`),aA.default.ok(jA.inRange(this.facialHairColor,jA.range(8)),`Invalid Mii beard type. Got ${this.facialHairColor}, expected 0-7`),aA.default.ok(jA.inRange(this.mustacheScale,jA.range(9)),`Invalid Mii mustache scale. Got ${this.mustacheScale}, expected 0-8`),aA.default.ok(jA.inRange(this.mustacheYPosition,jA.range(17)),`Invalid Mii mustache Y position. Got ${this.mustacheYPosition}, expected 0-16`),aA.default.ok(jA.inRange(this.glassesType,jA.range(9)),`Invalid Mii glassess type. Got ${this.glassesType}, expected 0-8`),aA.default.ok(jA.inRange(this.glassesColor,jA.range(6)),`Invalid Mii glassess type. Got ${this.glassesColor}, expected 0-5`),aA.default.ok(jA.inRange(this.glassesScale,jA.range(8)),`Invalid Mii glassess type. Got ${this.glassesScale}, expected 0-7`),aA.default.ok(jA.inRange(this.glassesYPosition,jA.range(21)),`Invalid Mii glassess Y position. Got ${this.glassesYPosition}, expected 0-20`),aA.default.strictEqual(typeof this.moleEnabled,"boolean",`Invalid mole enabled flag. Got ${this.moleEnabled}, expected true or false`),aA.default.ok(jA.inRange(this.moleScale,jA.range(9)),`Invalid Mii mole scale. Got ${this.moleScale}, expected 0-8`),aA.default.ok(jA.inRange(this.moleXPosition,jA.range(17)),`Invalid Mii mole X position. Got ${this.moleXPosition}, expected 0-16`),aA.default.ok(jA.inRange(this.moleYPosition,jA.range(31)),`Invalid Mii mole Y position. Got ${this.moleYPosition}, expected 0-30`),this.nonUserMii&&(this.creationTime!==0||this.isValid||this.dsMii||this.normalMii))aA.default.fail("Non-user Mii's must have all other Mii ID bits set to 0");if(!this.normalMii&&!this.disableSharing)aA.default.fail("Special Miis must have sharing disabled")}decode(){if(this.version=this.bitStream.readUint8(),this.allowCopying=this.bitStream.readBoolean(),this.profanityFlag=this.bitStream.readBoolean(),this.regionLock=this.bitStream.readBits(2),this.characterSet=this.bitStream.readBits(2),this.bitStream.alignByte(),this.pageIndex=this.bitStream.readBits(4),this.slotIndex=this.bitStream.readBits(4),this.unknown1=this.bitStream.readBits(4),this.deviceOrigin=this.bitStream.readBits(3),this.bitStream.alignByte(),this.systemId=this.bitStream.readBuffer(8),this.bitStream.swapEndian(),this.normalMii=this.bitStream.readBoolean(),this.dsMii=this.bitStream.readBoolean(),this.nonUserMii=this.bitStream.readBoolean(),this.isValid=this.bitStream.readBoolean(),this.creationTime=this.bitStream.readBits(28),this.bitStream.swapEndian(),this.consoleMAC=this.bitStream.readBuffer(6),this.bitStream.skipInt16(),this.gender=this.bitStream.readBit(),this.birthMonth=this.bitStream.readBits(4),this.birthDay=this.bitStream.readBits(5),this.favoriteColor=this.bitStream.readBits(4),this.favorite=this.bitStream.readBoolean(),this.bitStream.alignByte(),this.miiName=this.bitStream.readUTF16String(20),this.height=this.bitStream.readUint8(),this.build=this.bitStream.readUint8(),this.disableSharing=this.bitStream.readBoolean(),this.faceType=this.bitStream.readBits(4),this.skinColor=this.bitStream.readBits(3),this.wrinklesType=this.bitStream.readBits(4),this.makeupType=this.bitStream.readBits(4),this.hairType=this.bitStream.readUint8(),this.hairColor=this.bitStream.readBits(3),this.flipHair=this.bitStream.readBoolean(),this.bitStream.alignByte(),this.eyeType=this.bitStream.readBits(6),this.eyeColor=this.bitStream.readBits(3),this.eyeScale=this.bitStream.readBits(4),this.eyeVerticalStretch=this.bitStream.readBits(3),this.eyeRotation=this.bitStream.readBits(5),this.eyeSpacing=this.bitStream.readBits(4),this.eyeYPosition=this.bitStream.readBits(5),this.bitStream.alignByte(),this.eyebrowType=this.bitStream.readBits(5),this.eyebrowColor=this.bitStream.readBits(3),this.eyebrowScale=this.bitStream.readBits(4),this.eyebrowVerticalStretch=this.bitStream.readBits(3),this.bitStream.skipBit(),this.eyebrowRotation=this.bitStream.readBits(4),this.bitStream.skipBit(),this.eyebrowSpacing=this.bitStream.readBits(4),this.eyebrowYPosition=this.bitStream.readBits(5),this.bitStream.alignByte(),this.noseType=this.bitStream.readBits(5),this.noseScale=this.bitStream.readBits(4),this.noseYPosition=this.bitStream.readBits(5),this.bitStream.alignByte(),this.mouthType=this.bitStream.readBits(6),this.mouthColor=this.bitStream.readBits(3),this.mouthScale=this.bitStream.readBits(4),this.mouthHorizontalStretch=this.bitStream.readBits(3),this.mouthYPosition=this.bitStream.readBits(5),this.mustacheType=this.bitStream.readBits(3),this.unknown2=this.bitStream.readUint8(),this.beardType=this.bitStream.readBits(3),this.facialHairColor=this.bitStream.readBits(3),this.mustacheScale=this.bitStream.readBits(4),this.mustacheYPosition=this.bitStream.readBits(5),this.bitStream.alignByte(),this.glassesType=this.bitStream.readBits(4),this.glassesColor=this.bitStream.readBits(3),this.glassesScale=this.bitStream.readBits(4),this.glassesYPosition=this.bitStream.readBits(5),this.moleEnabled=this.bitStream.readBoolean(),this.moleScale=this.bitStream.readBits(4),this.moleXPosition=this.bitStream.readBits(5),this.moleYPosition=this.bitStream.readBits(5),this.bitStream.alignByte(),this.creatorName=this.bitStream.readUTF16String(20),this.bitStream.skipInt16(),this.bitStream.swapEndian(),this.checksum=this.bitStream.readUint16(),this.bitStream.swapEndian(),this.validate(),this.checksum!==this.calculateCRC())throw new Error("Invalid Mii checksum")}encode(){return this.validate(),this.bitStream.bitSeek(0),this.bitStream.writeUint8(this.version),this.bitStream.writeBoolean(this.allowCopying),this.bitStream.writeBoolean(this.profanityFlag),this.bitStream.writeBits(this.regionLock,2),this.bitStream.writeBits(this.characterSet,2),this.bitStream.alignByte(),this.bitStream.writeBits(this.pageIndex,4),this.bitStream.writeBits(this.slotIndex,4),this.bitStream.writeBits(this.unknown1,4),this.bitStream.writeBits(this.deviceOrigin,3),this.bitStream.alignByte(),this.bitStream.writeBuffer(this.systemId),this.bitStream.swapEndian(),this.bitStream.writeBoolean(this.normalMii),this.bitStream.writeBoolean(this.dsMii),this.bitStream.writeBoolean(this.nonUserMii),this.bitStream.writeBoolean(this.isValid),this.bitStream.writeBits(this.creationTime,28),this.bitStream.swapEndian(),this.bitStream.writeBuffer(this.consoleMAC),this.bitStream.writeUint16(0),this.bitStream.writeBit(this.gender),this.bitStream.writeBits(this.birthMonth,4),this.bitStream.writeBits(this.birthDay,5),this.bitStream.writeBits(this.favoriteColor,4),this.bitStream.writeBoolean(this.favorite),this.bitStream.alignByte(),this.bitStream.writeUTF16String(this.miiName),this.bitStream.writeUint8(this.height),this.bitStream.writeUint8(this.build),this.bitStream.writeBoolean(this.disableSharing),this.bitStream.writeBits(this.faceType,4),this.bitStream.writeBits(this.skinColor,3),this.bitStream.writeBits(this.wrinklesType,4),this.bitStream.writeBits(this.makeupType,4),this.bitStream.writeUint8(this.hairType),this.bitStream.writeBits(this.hairColor,3),this.bitStream.writeBoolean(this.flipHair),this.bitStream.alignByte(),this.bitStream.writeBits(this.eyeType,6),this.bitStream.writeBits(this.eyeColor,3),this.bitStream.writeBits(this.eyeScale,4),this.bitStream.writeBits(this.eyeVerticalStretch,3),this.bitStream.writeBits(this.eyeRotation,5),this.bitStream.writeBits(this.eyeSpacing,4),this.bitStream.writeBits(this.eyeYPosition,5),this.bitStream.alignByte(),this.bitStream.writeBits(this.eyebrowType,5),this.bitStream.writeBits(this.eyebrowColor,3),this.bitStream.writeBits(this.eyebrowScale,4),this.bitStream.writeBits(this.eyebrowVerticalStretch,3),this.bitStream.skipBit(),this.bitStream.writeBits(this.eyebrowRotation,4),this.bitStream.skipBit(),this.bitStream.writeBits(this.eyebrowSpacing,4),this.bitStream.writeBits(this.eyebrowYPosition,5),this.bitStream.alignByte(),this.bitStream.writeBits(this.noseType,5),this.bitStream.writeBits(this.noseScale,4),this.bitStream.writeBits(this.noseYPosition,5),this.bitStream.alignByte(),this.bitStream.writeBits(this.mouthType,6),this.bitStream.writeBits(this.mouthColor,3),this.bitStream.writeBits(this.mouthScale,4),this.bitStream.writeBits(this.mouthHorizontalStretch,3),this.bitStream.writeBits(this.mouthYPosition,5),this.bitStream.writeBits(this.mustacheType,3),this.bitStream.writeUint8(this.unknown2),this.bitStream.writeBits(this.beardType,3),this.bitStream.writeBits(this.facialHairColor,3),this.bitStream.writeBits(this.mustacheScale,4),this.bitStream.writeBits(this.mustacheYPosition,5),this.bitStream.alignByte(),this.bitStream.writeBits(this.glassesType,4),this.bitStream.writeBits(this.glassesColor,3),this.bitStream.writeBits(this.glassesScale,4),this.bitStream.writeBits(this.glassesYPosition,5),this.bitStream.writeBoolean(this.moleEnabled),this.bitStream.writeBits(this.moleScale,4),this.bitStream.writeBits(this.moleXPosition,5),this.bitStream.writeBits(this.moleYPosition,5),this.bitStream.alignByte(),this.bitStream.writeUTF16String(this.creatorName),this.bitStream.writeUint16(0),this.bitStream.swapEndian(),this.bitStream.writeUint16(this.calculateCRC()),this.bitStream.swapEndian(),A1.from(this.bitStream.view._view)}calculateCRC(){const Q=this.bitStream.view._view.subarray(0,94);let E=0;for(let B of Q)for(let I=7;I>=0;I--){const K=(E&32768)!=0;E=(E<<1|B>>I&1)^(K?4129:0)}for(let B=16;B>0;B--){const I=(E&32768)!=0;E=E<<1^(I?4129:0)}return E&65535}encodeStudio(){this.validate();let A=A1.alloc(47),Q=256,E=1;function B(I){const K=(7+(I^Q))%256;Q=K,A.writeUInt8(K,E),E++}if(this.facialHairColor===0)B(8);else B(this.facialHairColor);if(B(this.beardType),B(this.build),B(this.eyeVerticalStretch),B(this.eyeColor+8),B(this.eyeRotation),B(this.eyeScale),B(this.eyeType),B(this.eyeSpacing),B(this.eyeYPosition),B(this.eyebrowVerticalStretch),this.eyebrowColor===0)B(8);else B(this.eyebrowColor);if(B(this.eyebrowRotation),B(this.eyebrowScale),B(this.eyebrowType),B(this.eyebrowSpacing),B(this.eyebrowYPosition),B(this.skinColor),B(this.makeupType),B(this.faceType),B(this.wrinklesType),B(this.favoriteColor),B(this.gender),this.glassesColor==0)B(8);else if(this.glassesColor<6)B(this.glassesColor+13);else B(0);if(B(this.glassesScale),B(this.glassesType),B(this.glassesYPosition),this.hairColor==0)B(8);else B(this.hairColor);if(B(this.flipHair?1:0),B(this.hairType),B(this.height),B(this.moleScale),B(this.moleEnabled?1:0),B(this.moleXPosition),B(this.moleYPosition),B(this.mouthHorizontalStretch),this.mouthColor<4)B(this.mouthColor+19);else B(0);return B(this.mouthScale),B(this.mouthType),B(this.mouthYPosition),B(this.mustacheScale),B(this.mustacheType),B(this.mustacheYPosition),B(this.noseScale),B(this.noseType),B(this.noseYPosition),A}studioUrl(A=S8){const Q={...S8,...A,data:this.encodeStudio().toString("hex"),shaderType:0};let E="png";if(Q.ext)E=Q.ext,delete Q.ext;Q.type=Af.includes(Q.type)?Q.type:S8.type,Q.expression=Qf.includes(Q.expression)?Q.expression:S8.expression,Q.width=jA.clamp(Q.width,512),Q.bgColor=Jf.test(Q.bgColor)?Q.bgColor:S8.bgColor,Q.clothesColor=Ef.includes(Q.clothesColor)?Q.clothesColor:S8.clothesColor,Q.cameraXRotate=jA.clamp(Q.cameraXRotate,359),Q.cameraYRotate=jA.clamp(Q.cameraYRotate,359),Q.cameraZRotate=jA.clamp(Q.cameraZRotate,359),Q.characterXRotate=jA.clamp(Q.characterXRotate,359),Q.characterYRotate=jA.clamp(Q.characterYRotate,359),Q.characterZRotate=jA.clamp(Q.characterZRotate,359),Q.lightXDirection=jA.clamp(Q.lightXDirection,359),Q.lightYDirection=jA.clamp(Q.lightYDirection,359),Q.lightZDirection=jA.clamp(Q.lightZDirection,359),Q.lightDirectionMode=Bf.includes(Q.lightDirectionMode)?Q.lightDirectionMode:S8.lightDirectionMode,Q.splitMode=If.includes(Q.splitMode)?Q.splitMode:S8.splitMode,Q.instanceCount=jA.clamp(Q.instanceCount,1,16),Q.instanceRotationMode=Kf.includes(Q.instanceRotationMode)?Q.instanceRotationMode:S8.instanceRotationMode;const B=new URLSearchParams(Object.fromEntries(Object.entries(Q).map(([I,K])=>[I,K.toString()])));if(Q.lightDirectionMode==="none")B.delete("lightDirectionMode"),B.delete("lightXDirection"),B.delete("lightYDirection"),B.delete("lightZDirection");if(Q.splitMode==="none")B.delete("splitMode");return`${tb}.${E}?${B.toString()}`}studioAssetUrlBody(){return this.studioAssetUrl(`body/${this.gender}/${this.favoriteColor}`)}studioAssetUrlHead(){return this.studioAssetUrl(`face/${this.faceType}/${this.wrinklesType}/${this.makeupType}/${this.skinColor}`)}studioAssetUrlFace(){return this.studioAssetUrlHead()}studioAssetUrlEye(){return this.studioAssetUrl(`eye/${this.eyeType}/${this.eyeColor+8}`)}studioAssetUrlEyebrow(){let A=this.eyebrowColor;if(this.eyebrowColor===0)A=8;return this.studioAssetUrl(`eyebrow/${this.eyebrowType}/${A}`)}studioAssetUrlNose(){return this.studioAssetUrl(`nose/${this.noseType}/${this.skinColor}`)}studioAssetUrlMouth(){let A=0;if(this.mouthColor<4)A=this.mouthColor+19;return this.studioAssetUrl(`mouth/${this.mouthType}/${A}`)}studioAssetUrlHair(){let A,Q=this.hairColor;if(this.hairColor==0)Q=8;if(this.hairType===34||this.hairType===57)A=`hair/${this.hairType}/${this.faceType}/${this.favoriteColor}`;else A=`${this.flipHair?"hairflip":"hair"}/${this.hairType}/${this.faceType}/${Q}`;return this.studioAssetUrl(A)}studioAssetUrlBeard(){let A=this.facialHairColor;if(this.facialHairColor===0)A=8;return this.studioAssetUrl(`beard/${this.beardType}/${this.faceType}/${A}`)}studioAssetUrlMustache(){let A=this.facialHairColor;if(this.facialHairColor===0)A=8;return this.studioAssetUrl(`mustache/${this.mustacheType}/${A}`)}studioAssetUrlGlasses(){let A=0;if(this.glassesColor==0)A=8;else if(this.glassesColor<6)A=this.glassesColor+13;return this.studioAssetUrl(`glass/${this.glassesType}/${A}`)}studioAssetUrlMole(){return this.studioAssetUrl(`mole/${this.moleEnabled?1:0}`)}studioAssetUrl(A){this.validate();const Q=UD.default(A),E=Q[0],B=Q[1],I=Q[2],K=Q.substring(3,12);return`${eb}/${CD}/1024/${E}/${B}/${I}/${K}.${CD}`}}var mB={};IH(mB,{createCanvasElement:()=>J3,ZeroStencilOp:()=>mu,ZeroSlopeEnding:()=>ku,ZeroFactor:()=>RE,ZeroCurvatureEnding:()=>_u,WrapAroundEnding:()=>ju,WireframeGeometry:()=>o9,WebGPUCoordinateSystem:()=>Np,WebGLUtils:()=>V3,WebGLRenderer:()=>wK,WebGLRenderTarget:()=>B0,WebGLMultipleRenderTargets:()=>Uw,WebGLCubeRenderTarget:()=>x5,WebGLCoordinateSystem:()=>I3,WebGLArrayRenderTarget:()=>C3,WebGL3DRenderTarget:()=>U3,VideoTexture:()=>k3,VectorKeyframeTrack:()=>z1,Vector4:()=>gA,Vector3:()=>f,Vector2:()=>RA,VSMShadowMap:()=>Of,UnsignedShortType:()=>j9,UnsignedShort5551Type:()=>Qu,UnsignedShort4444Type:()=>Au,UnsignedIntType:()=>ef,UnsignedInt5999Type:()=>Eu,UnsignedInt248Type:()=>dI,UnsignedByteType:()=>qQ,UniformsUtils:()=>rA,UniformsLib:()=>fA,UniformsGroup:()=>s3,Uniform:()=>e9,Uint8ClampedBufferAttribute:()=>Z3,Uint8BufferAttribute:()=>G3,Uint32BufferAttribute:()=>y5,Uint16BufferAttribute:()=>LK,UVMapping:()=>f8,TubeGeometry:()=>EY,TrianglesDrawMode:()=>sR,TriangleStripDrawMode:()=>x9,TriangleFanDrawMode:()=>qK,Triangle:()=>nQ,TorusKnotGeometry:()=>QY,TorusGeometry:()=>n9,TextureUtils:()=>_n,TextureLoader:()=>cQ,Texture:()=>JQ,TetrahedronGeometry:()=>AY,TangentSpaceNormalMap:()=>A3,TOUCH:()=>S5,SubtractiveBlending:()=>$f,SubtractEquation:()=>Xf,StringKeyframeTrack:()=>uB,StreamReadUsage:()=>Op,StreamDrawUsage:()=>Gp,StreamCopyUsage:()=>Xp,StereoCamera:()=>t9,StaticReadUsage:()=>Zp,StaticDrawUsage:()=>Hp,StaticCopyUsage:()=>$p,SrcColorFactor:()=>Lf,SrcAlphaSaturateFactor:()=>zf,SrcAlphaFactor:()=>T9,SpriteMaterial:()=>zK,Sprite:()=>f9,SpotLightHelper:()=>t3,SpotLight:()=>pB,SplineCurve:()=>o5,SphericalHarmonics3:()=>CY,Spherical:()=>QC,SphereGeometry:()=>x1,Sphere:()=>YQ,Source:()=>B8,SkinnedMesh:()=>xB,SkeletonHelper:()=>_O,Skeleton:()=>J8,ShortType:()=>af,ShapeUtils:()=>n1,ShapePath:()=>OY,ShapeGeometry:()=>e5,Shape:()=>g8,ShadowMaterial:()=>OO,ShaderMaterial:()=>cA,ShaderLib:()=>hQ,ShaderChunk:()=>R0,Scene:()=>B1,SRGBTransfer:()=>Q3,SRGBColorSpace:()=>$0,SIGNED_RED_RGTC1_Format:()=>Mu,SIGNED_RED_GREEN_RGTC2_Format:()=>zu,RingGeometry:()=>t5,ReverseSubtractEquation:()=>Ff,ReplaceStencilOp:()=>du,RepeatWrapping:()=>CQ,RenderTarget:()=>AO,ReinhardToneMapping:()=>pM,RedIntegerFormat:()=>iM,RedFormat:()=>T1,RectAreaLight:()=>JY,Rec709Primaries:()=>uu,Raycaster:()=>qE,Ray:()=>i1,RawShaderMaterial:()=>bB,RGIntegerFormat:()=>sM,RGFormat:()=>u8,RGDepthPacking:()=>gu,RGB_S3TC_DXT1_Format:()=>dR,RGB_PVRTC_4BPPV1_Format:()=>h9,RGB_PVRTC_2BPPV1_Format:()=>nR,RGB_ETC2_Format:()=>k5,RGB_ETC1_Format:()=>v9,RGB_BPTC_UNSIGNED_Format:()=>eM,RGB_BPTC_SIGNED_Format:()=>tM,RGBIntegerFormat:()=>Uu,RGBFormat:()=>Iu,RGBDepthPacking:()=>xu,RGBA_S3TC_DXT5_Format:()=>P5,RGBA_S3TC_DXT3_Format:()=>rM,RGBA_S3TC_DXT1_Format:()=>lR,RGBA_PVRTC_4BPPV1_Format:()=>_5,RGBA_PVRTC_2BPPV1_Format:()=>aM,RGBA_ETC2_EAC_Format:()=>oR,RGBA_BPTC_Format:()=>iR,RGBA_ASTC_8x8_Format:()=>$u,RGBA_ASTC_8x6_Format:()=>Ou,RGBA_ASTC_8x5_Format:()=>Ru,RGBA_ASTC_6x6_Format:()=>h5,RGBA_ASTC_6x5_Format:()=>Zu,RGBA_ASTC_5x5_Format:()=>Gu,RGBA_ASTC_5x4_Format:()=>Hu,RGBA_ASTC_4x4_Format:()=>j5,RGBA_ASTC_12x12_Format:()=>Lu,RGBA_ASTC_12x10_Format:()=>Nu,RGBA_ASTC_10x8_Format:()=>Fu,RGBA_ASTC_10x6_Format:()=>Xu,RGBA_ASTC_10x5_Format:()=>Wu,RGBA_ASTC_10x10_Format:()=>qu,RGBAIntegerFormat:()=>Yu,RGBAFormat:()=>UQ,RGBADepthPacking:()=>v5,REVISION:()=>T5,RED_RGTC1_Format:()=>Du,RED_GREEN_RGTC2_Format:()=>wu,QuaternionLinearInterpolant:()=>LO,QuaternionKeyframeTrack:()=>g1,Quaternion:()=>C0,QuadraticBezierCurve3:()=>n5,QuadraticBezierCurve:()=>l5,PropertyMixer:()=>zO,PropertyBinding:()=>P0,PositionalAudio:()=>l3,PolyhedronGeometry:()=>gB,PolarGridHelper:()=>Ew,PointsMaterial:()=>mE,Points:()=>C8,PointLightHelper:()=>Aw,PointLight:()=>U8,PlaneHelper:()=>Kw,PlaneGeometry:()=>Y1,Plane:()=>ZQ,PerspectiveCamera:()=>y0,Path:()=>mI,PMREMGenerator:()=>M5,PCFSoftShadowMap:()=>Rf,PCFShadowMap:()=>Zf,P3Primaries:()=>pu,OrthographicCamera:()=>s1,OneMinusSrcColorFactor:()=>Df,OneMinusSrcAlphaFactor:()=>S9,OneMinusDstColorFactor:()=>wf,OneMinusDstAlphaFactor:()=>Mf,OneMinusConstantColorFactor:()=>Tf,OneMinusConstantAlphaFactor:()=>Pf,OneFactor:()=>uR,OctahedronGeometry:()=>TK,ObjectSpaceNormalMap:()=>bu,ObjectLoader:()=>m3,Object3D:()=>Y0,NumberKeyframeTrack:()=>o1,NotEqualStencilFunc:()=>eu,NotEqualDepth:()=>gf,NotEqualCompare:()=>Cp,NormalBlending:()=>V9,NormalAnimationBlendMode:()=>hu,NoToneMapping:()=>ff,NoColorSpace:()=>mQ,NoBlending:()=>M0,NeverStencilFunc:()=>su,NeverDepth:()=>_f,NeverCompare:()=>Ep,NeutralToneMapping:()=>lM,NearestMipmapNearestFilter:()=>P9,NearestMipmapLinearFilter:()=>_9,NearestMipMapNearestFilter:()=>nf,NearestMipMapLinearFilter:()=>of,NearestFilter:()=>L0,MultiplyOperation:()=>pR,MultiplyBlending:()=>Wf,MixOperation:()=>bf,MirroredRepeatWrapping:()=>vB,MinEquation:()=>qf,MeshToonMaterial:()=>$O,MeshStandardMaterial:()=>LQ,MeshPhysicalMaterial:()=>H1,MeshPhongMaterial:()=>r1,MeshNormalMaterial:()=>WE,MeshMatcapMaterial:()=>WO,MeshLambertMaterial:()=>fB,MeshDistanceMaterial:()=>b5,MeshDepthMaterial:()=>nI,MeshBasicMaterial:()=>V0,Mesh:()=>mA,MaxEquation:()=>Nf,Matrix4:()=>MA,Matrix3:()=>J0,Matrix2:()=>PO,MathUtils:()=>EQ,MaterialLoader:()=>UY,Material:()=>yQ,MOUSE:()=>z9,LuminanceFormat:()=>Ku,LuminanceAlphaFormat:()=>Ju,LoopRepeat:()=>Tu,LoopPingPong:()=>Su,LoopOnce:()=>Vu,LoadingManager:()=>s9,LoaderUtils:()=>F1,Loader:()=>G0,LinearTransfer:()=>fu,LinearToneMapping:()=>uM,LinearSRGBColorSpace:()=>f0,LinearMipmapNearestFilter:()=>k9,LinearMipmapLinearFilter:()=>fE,LinearMipMapNearestFilter:()=>sf,LinearMipMapLinearFilter:()=>oM,LinearInterpolant:()=>BY,LinearFilter:()=>l0,LinearDisplayP3ColorSpace:()=>aR,LineSegments:()=>wQ,LineLoop:()=>u9,LineDashedMaterial:()=>XO,LineCurve3:()=>GO,LineCurve:()=>d5,LineBasicMaterial:()=>g0,Line3:()=>Y8,Line:()=>sQ,LightProbe:()=>a9,Light:()=>o8,LessStencilFunc:()=>ru,LessEqualStencilFunc:()=>au,LessEqualDepth:()=>hf,LessEqualCompare:()=>Kp,LessDepth:()=>jf,LessCompare:()=>Bp,Layers:()=>NK,LatheGeometry:()=>m9,LOD:()=>KO,KeyframeTrack:()=>XE,KeepStencilOp:()=>cu,InvertStencilOp:()=>iu,InterpolateSmooth:()=>Pu,InterpolateLinear:()=>FK,InterpolateDiscrete:()=>y9,Interpolant:()=>l8,InterleavedBufferAttribute:()=>X1,InterleavedBuffer:()=>K8,IntType:()=>tf,Int8BufferAttribute:()=>H3,Int32BufferAttribute:()=>QO,Int16BufferAttribute:()=>R3,InstancedMesh:()=>oI,InstancedInterleavedBuffer:()=>AC,InstancedBufferGeometry:()=>YY,InstancedBufferAttribute:()=>I8,IncrementWrapStencilOp:()=>nu,IncrementStencilOp:()=>E3,ImageUtils:()=>eR,ImageLoader:()=>XK,ImageBitmapLoader:()=>GY,IcosahedronGeometry:()=>a5,HemisphereLightHelper:()=>Qw,HemisphereLight:()=>MO,HalfFloatType:()=>eA,Group:()=>QQ,GridHelper:()=>kO,GreaterStencilFunc:()=>tu,GreaterEqualStencilFunc:()=>Ap,GreaterEqualDepth:()=>yf,GreaterEqualCompare:()=>Up,GreaterDepth:()=>xf,GreaterCompare:()=>Jp,GLSL3:()=>qp,GLSL1:()=>Fp,GLBufferAttribute:()=>r3,Frustum:()=>m8,FrontSide:()=>xE,FramebufferTexture:()=>p9,FogExp2:()=>f5,Fog:()=>u5,FloatType:()=>NQ,Float32BufferAttribute:()=>bA,Float16BufferAttribute:()=>O3,FileLoader:()=>Z0,ExtrudeGeometry:()=>l9,EventDispatcher:()=>uE,Euler:()=>vQ,EquirectangularRefractionMapping:()=>nM,EquirectangularReflectionMapping:()=>cR,EqualStencilFunc:()=>B3,EqualDepth:()=>vf,EqualCompare:()=>Ip,EllipseCurve:()=>VK,EdgesGeometry:()=>RO,DynamicReadUsage:()=>Rp,DynamicDrawUsage:()=>g9,DynamicCopyUsage:()=>Wp,DstColorFactor:()=>hB,DstAlphaFactor:()=>b8,DoubleSide:()=>FQ,DodecahedronGeometry:()=>s5,DisplayP3ColorSpace:()=>rR,DiscreteInterpolant:()=>NO,DirectionalLightHelper:()=>RY,DirectionalLight:()=>FE,DetachedBindMode:()=>mf,DepthTexture:()=>S1,DepthStencilFormat:()=>lI,DepthFormat:()=>Cu,DefaultLoadingManager:()=>DO,DecrementWrapStencilOp:()=>ou,DecrementStencilOp:()=>lu,DataUtils:()=>OE,DataTextureLoader:()=>iI,DataTexture:()=>d0,DataArrayTexture:()=>b9,Data3DTexture:()=>p8,Cylindrical:()=>a3,CylinderGeometry:()=>d8,CustomToneMapping:()=>uf,CustomBlending:()=>bE,CurvePath:()=>ZO,Curve:()=>q1,CullFaceNone:()=>Cf,CullFaceFrontBack:()=>Hf,CullFaceFront:()=>Yf,CullFaceBack:()=>Uf,CubicInterpolant:()=>qO,CubicBezierCurve3:()=>HO,CubicBezierCurve:()=>c5,CubeUVReflectionMapping:()=>lf,CubeTextureLoader:()=>IY,CubeTexture:()=>yB,CubeRefractionMapping:()=>df,CubeReflectionMapping:()=>cf,CubeCamera:()=>EO,Controls:()=>H8,ConstantColorFactor:()=>Vf,ConstantAlphaFactor:()=>Sf,ConeGeometry:()=>d9,CompressedTextureLoader:()=>r9,CompressedTexture:()=>$E,CompressedCubeTexture:()=>m5,CompressedArrayTexture:()=>p5,ColorManagement:()=>D0,ColorKeyframeTrack:()=>i9,Color:()=>WA,Clock:()=>i8,ClampToEdgeWrapping:()=>RQ,CircleGeometry:()=>i5,CineonToneMapping:()=>mM,CatmullRomCurve3:()=>YO,CapsuleGeometry:()=>c9,CanvasTexture:()=>c8,CameraHelper:()=>Bw,Camera:()=>DK,Cache:()=>x8,ByteType:()=>rf,BufferGeometryLoader:()=>HY,BufferGeometry:()=>pA,BufferAttribute:()=>E0,BoxHelper:()=>Iw,BoxGeometry:()=>uQ,Box3Helper:()=>jO,Box3:()=>p0,Box2:()=>PK,BooleanKeyframeTrack:()=>n8,Bone:()=>pE,BatchedMesh:()=>JO,BasicShadowMap:()=>Gf,BasicDepthPacking:()=>yu,BackSide:()=>ZE,AxesHelper:()=>Cw,AudioLoader:()=>c3,AudioListener:()=>d3,AudioContext:()=>ZY,AudioAnalyser:()=>n3,Audio:()=>wO,AttachedBindMode:()=>pf,ArrowHelper:()=>Jw,ArrayCamera:()=>IO,ArcCurve:()=>CO,AnimationUtils:()=>Mo,AnimationObjectGroup:()=>i3,AnimationMixer:()=>SK,AnimationLoader:()=>b3,AnimationClip:()=>U1,AnimationAction:()=>SO,AmbientLight:()=>sI,AlwaysStencilFunc:()=>Qp,AlwaysDepth:()=>kf,AlwaysCompare:()=>Yp,AlphaFormat:()=>Bu,AgXToneMapping:()=>dM,AdditiveBlending:()=>gE,AdditiveAnimationBlendMode:()=>vu,AddOperation:()=>mR,AddEquation:()=>V1,ACESFilmicToneMapping:()=>cM});function l1(){const A=Math.random()*4294967295|0,Q=Math.random()*4294967295|0,E=Math.random()*4294967295|0,B=Math.random()*4294967295|0;return(O1[A&255]+O1[A>>8&255]+O1[A>>16&255]+O1[A>>24&255]+"-"+O1[Q&255]+O1[Q>>8&255]+"-"+O1[Q>>16&15|64]+O1[Q>>24&255]+"-"+O1[E&63|128]+O1[E>>8&255]+"-"+O1[E>>16&255]+O1[E>>24&255]+O1[B&255]+O1[B>>8&255]+O1[B>>16&255]+O1[B>>24&255]).toLowerCase()}function jQ(A,Q,E){return Math.max(Q,Math.min(E,A))}function tR(A,Q){return(A%Q+Q)%Q}function Lp(A,Q,E,B,I){return B+(A-Q)*(I-B)/(E-Q)}function Dp(A,Q,E){if(A!==Q)return(E-A)/(Q-A);else return 0}function X9(A,Q,E){return(1-E)*A+E*Q}function Mp(A,Q,E,B){return X9(A,Q,1-Math.exp(-E*B))}function wp(A,Q=1){return Q-Math.abs(tR(A,Q*2)-Q)}function zp(A,Q,E){if(A<=Q)return 0;if(A>=E)return 1;return A=(A-Q)/(E-Q),A*A*(3-2*A)}function Vp(A,Q,E){if(A<=Q)return 0;if(A>=E)return 1;return A=(A-Q)/(E-Q),A*A*A*(A*(A*6-15)+10)}function Tp(A,Q){return A+Math.floor(Math.random()*(Q-A+1))}function Sp(A,Q){return A+Math.random()*(Q-A)}function Pp(A){return A*(0.5-Math.random())}function _p(A){if(A!==void 0)YD=A;let Q=YD+=1831565813;return Q=Math.imul(Q^Q>>>15,Q|1),Q^=Q+Math.imul(Q^Q>>>7,Q|61),((Q^Q>>>14)>>>0)/4294967296}function kp(A){return A*pI}function jp(A){return A*$K}function hp(A){return(A&A-1)===0&&A!==0}function vp(A){return Math.pow(2,Math.ceil(Math.log(A)/Math.LN2))}function yp(A){return Math.pow(2,Math.floor(Math.log(A)/Math.LN2))}function xp(A,Q,E,B,I){const{cos:K,sin:J}=Math,C=K(E/2),U=J(E/2),Y=K((Q+B)/2),H=J((Q+B)/2),R=K((Q-B)/2),G=J((Q-B)/2),O=K((B-Q)/2),F=J((B-Q)/2);switch(I){case"XYX":A.set(C*H,U*R,U*G,C*Y);break;case"YZY":A.set(U*G,C*H,U*R,C*Y);break;case"ZXZ":A.set(U*R,U*G,C*H,C*Y);break;case"XZX":A.set(C*H,U*F,U*O,C*Y);break;case"YXY":A.set(U*O,C*H,U*F,C*Y);break;case"ZYZ":A.set(U*F,U*O,C*H,C*Y);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+I)}}function w1(A,Q){switch(Q.constructor){case Float32Array:return A;case Uint32Array:return A/4294967295;case Uint16Array:return A/65535;case Uint8Array:return A/255;case Int32Array:return Math.max(A/2147483647,-1);case Int16Array:return Math.max(A/32767,-1);case Int8Array:return Math.max(A/127,-1);default:throw new Error("Invalid component type.")}}function z0(A,Q){switch(Q.constructor){case Float32Array:return A;case Uint32Array:return Math.round(A*4294967295);case Uint16Array:return Math.round(A*65535);case Uint8Array:return Math.round(A*255);case Int32Array:return Math.round(A*2147483647);case Int16Array:return Math.round(A*32767);case Int8Array:return Math.round(A*127);default:throw new Error("Invalid component type.")}}function K3(A){for(let Q=A.length-1;Q>=0;--Q)if(A[Q]>=65535)return!0;return!1}function GK(A,Q){return new gp[A](Q)}function L9(A){return document.createElementNS("http://www.w3.org/1999/xhtml",A)}function J3(){const A=L9("canvas");return A.style.display="block",A}function L5(A){if(A in HD)return;HD[A]=!0,console.warn(A)}function bp(A,Q,E){return new Promise(function(B,I){function K(){switch(A.clientWaitSync(Q,A.SYNC_FLUSH_COMMANDS_BIT,0)){case A.WAIT_FAILED:I();break;case A.TIMEOUT_EXPIRED:setTimeout(K,E);break;default:B()}}setTimeout(K,E)})}function fp(A){const Q=A.elements;Q[2]=0.5*Q[2]+0.5*Q[3],Q[6]=0.5*Q[6]+0.5*Q[7],Q[10]=0.5*Q[10]+0.5*Q[11],Q[14]=0.5*Q[14]+0.5*Q[15]}function up(A){const Q=A.elements;if(Q[11]===-1)Q[10]=-Q[10]-1,Q[14]=-Q[14];else Q[10]=-Q[10],Q[14]=-Q[14]+1}function OK(A){return A<0.04045?A*0.0773993808:Math.pow(A*0.9478672986+0.0521327014,2.4)}function nZ(A){return A<0.0031308?A*12.92:1.055*Math.pow(A,0.41666)-0.055}function oZ(A){if(typeof HTMLImageElement!=="undefined"&&A instanceof HTMLImageElement||typeof HTMLCanvasElement!=="undefined"&&A instanceof HTMLCanvasElement||typeof ImageBitmap!=="undefined"&&A instanceof ImageBitmap)return eR.getDataURL(A);else if(A.data)return{data:Array.from(A.data),width:A.width,height:A.height,type:A.data.constructor.name};else return console.warn("THREE.Texture: Unable to serialize Texture."),{}}function sZ(A,Q,E,B,I){for(let K=0,J=A.length-3;K<=J;K+=3){TI.fromArray(A,K);const C=I.x*Math.abs(TI.x)+I.y*Math.abs(TI.y)+I.z*Math.abs(TI.z),U=Q.dot(TI),Y=E.dot(TI),H=B.dot(TI);if(Math.max(-Math.max(U,Y,H),Math.min(U,Y,H))>C)return!1}return!0}function UR(A,Q,E){if(E<0)E+=1;if(E>1)E-=1;if(E<0.16666666666666666)return A+(Q-A)*6*E;if(E<0.5)return Q;if(E<0.6666666666666666)return A+(Q-A)*6*(0.6666666666666666-E);return A}function tp(){const A=new ArrayBuffer(4),Q=new Float32Array(A),E=new Uint32Array(A),B=new Uint32Array(512),I=new Uint32Array(512);for(let U=0;U<256;++U){const Y=U-127;if(Y<-27)B[U]=0,B[U|256]=32768,I[U]=24,I[U|256]=24;else if(Y<-14)B[U]=1024>>-Y-14,B[U|256]=1024>>-Y-14|32768,I[U]=-Y-1,I[U|256]=-Y-1;else if(Y<=15)B[U]=Y+15<<10,B[U|256]=Y+15<<10|32768,I[U]=13,I[U|256]=13;else if(Y<128)B[U]=31744,B[U|256]=64512,I[U]=24,I[U|256]=24;else B[U]=31744,B[U|256]=64512,I[U]=13,I[U|256]=13}const K=new Uint32Array(2048),J=new Uint32Array(64),C=new Uint32Array(64);for(let U=1;U<1024;++U){let Y=U<<13,H=0;while((Y&8388608)===0)Y<<=1,H-=8388608;Y&=-8388609,H+=947912704,K[U]=Y|H}for(let U=1024;U<2048;++U)K[U]=939524096+(U-1024<<13);for(let U=1;U<31;++U)J[U]=U<<23;J[31]=1199570944,J[32]=2147483648;for(let U=33;U<63;++U)J[U]=2147483648+(U-32<<23);J[63]=3347054592;for(let U=1;U<64;++U)if(U!==32)C[U]=1024;return{floatView:Q,uint32View:E,baseTable:B,shiftTable:I,mantissaTable:K,exponentTable:J,offsetTable:C}}function y1(A){if(Math.abs(A)>65504)console.warn("THREE.DataUtils.toHalfFloat(): Value out of range.");A=jQ(A,-65504,65504),y8.floatView[0]=A;const Q=y8.uint32View[0],E=Q>>23&511;return y8.baseTable[E]+((Q&8388607)>>y8.shiftTable[E])}function $9(A){const Q=A>>10;return y8.uint32View[0]=y8.mantissaTable[y8.offsetTable[Q]+(A&1023)]+y8.exponentTable[Q],y8.floatView[0]}function Am(A,Q,E,B,I,K,J,C){let U;if(Q.side===1)U=B.intersectTriangle(J,K,I,!0,C);else U=B.intersectTriangle(I,K,J,Q.side===0,C);if(U===null)return null;d7.copy(C),d7.applyMatrix4(A.matrixWorld);const Y=E.ray.origin.distanceTo(d7);if(Y<E.near||Y>E.far)return null;return{distance:Y,point:d7.clone(),object:A}}function l7(A,Q,E,B,I,K,J,C,U,Y){A.getVertexPosition(C,u7),A.getVertexPosition(U,p7),A.getVertexPosition(Y,m7);const H=Am(A,Q,E,B,u7,p7,m7,wD);if(H){const R=new f;if(nQ.getBarycoord(wD,u7,p7,m7,R),I)H.uv=nQ.getInterpolatedAttribute(I,C,U,Y,R,new RA);if(K)H.uv1=nQ.getInterpolatedAttribute(K,C,U,Y,R,new RA);if(J){if(H.normal=nQ.getInterpolatedAttribute(J,C,U,Y,R,new f),H.normal.dot(B.direction)>0)H.normal.multiplyScalar(-1)}const G={a:C,b:U,c:Y,normal:new f,materialIndex:0};nQ.getNormal(u7,p7,m7,G.normal),H.face=G,H.barycoord=R}return H}function WK(A){const Q={};for(let E in A){Q[E]={};for(let B in A[E]){const I=A[E][B];if(I&&(I.isColor||I.isMatrix3||I.isMatrix4||I.isVector2||I.isVector3||I.isVector4||I.isTexture||I.isQuaternion))if(I.isRenderTargetTexture)console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),Q[E][B]=null;else Q[E][B]=I.clone();else if(Array.isArray(I))Q[E][B]=I.slice();else Q[E][B]=I}}return Q}function M1(A){const Q={};for(let E=0;E<A.length;E++){const B=WK(A[E]);for(let I in B)Q[I]=B[I]}return Q}function Qm(A){const Q=[];for(let E=0;E<A.length;E++)Q.push(A[E].clone());return Q}function $3(A){const Q=A.getRenderTarget();if(Q===null)return A.outputColorSpace;if(Q.isXRRenderTarget===!0)return Q.texture.colorSpace;return D0.workingColorSpace}function W3(){let A=null,Q=!1,E=null,B=null;function I(K,J){E(K,J),B=A.requestAnimationFrame(I)}return{start:function(){if(Q===!0)return;if(E===null)return;B=A.requestAnimationFrame(I),Q=!0},stop:function(){A.cancelAnimationFrame(B),Q=!1},setAnimationLoop:function(K){E=K},setContext:function(K){A=K}}}function Jm(A){const Q=/*@__PURE__*/new WeakMap;function E(C,U){const{array:Y,usage:H}=C,R=Y.byteLength,G=A.createBuffer();A.bindBuffer(U,G),A.bufferData(U,Y,H),C.onUploadCallback();let O;if(Y instanceof Float32Array)O=A.FLOAT;else if(Y instanceof Uint16Array)if(C.isFloat16BufferAttribute)O=A.HALF_FLOAT;else O=A.UNSIGNED_SHORT;else if(Y instanceof Int16Array)O=A.SHORT;else if(Y instanceof Uint32Array)O=A.UNSIGNED_INT;else if(Y instanceof Int32Array)O=A.INT;else if(Y instanceof Int8Array)O=A.BYTE;else if(Y instanceof Uint8Array)O=A.UNSIGNED_BYTE;else if(Y instanceof Uint8ClampedArray)O=A.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+Y);return{buffer:G,type:O,bytesPerElement:Y.BYTES_PER_ELEMENT,version:C.version,size:R}}function B(C,U,Y){const{array:H,updateRanges:R}=U;if(A.bindBuffer(Y,C),R.length===0)A.bufferSubData(Y,0,H);else{R.sort((O,F)=>O.start-F.start);let G=0;for(let O=1;O<R.length;O++){const F=R[G],q=R[O];if(q.start<=F.start+F.count+1)F.count=Math.max(F.count,q.start+q.count-F.start);else++G,R[G]=q}R.length=G+1;for(let O=0,F=R.length;O<F;O++){const q=R[O];A.bufferSubData(Y,q.start*H.BYTES_PER_ELEMENT,H,q.start,q.count)}U.clearUpdateRanges()}U.onUploadCallback()}function I(C){if(C.isInterleavedBufferAttribute)C=C.data;return Q.get(C)}function K(C){if(C.isInterleavedBufferAttribute)C=C.data;const U=Q.get(C);if(U)A.deleteBuffer(U.buffer),Q.delete(C)}function J(C,U){if(C.isInterleavedBufferAttribute)C=C.data;if(C.isGLBufferAttribute){const H=Q.get(C);if(!H||H.version<C.version)Q.set(C,{buffer:C.buffer,type:C.type,bytesPerElement:C.elementSize,version:C.version});return}const Y=Q.get(C);if(Y===void 0)Q.set(C,E(C,U));else if(Y.version<C.version){if(Y.size!==C.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute\'s array buffer does not match the original size. Resizing buffer attributes is not supported.");B(Y.buffer,C,U),Y.version=C.version}}return{get:I,remove:K,update:J}}function pd(A,Q,E,B,I,K,J){const C=new WA(0);let U=K===!0?0:1,Y,H,R=null,G=0,O=null;function F($){let X=$.isScene===!0?$.background:null;if(X&&X.isTexture)X=($.backgroundBlurriness>0?E:Q).get(X);return X}function q($){let X=!1;const N=F($);if(N===null)Z(C,U);else if(N&&N.isColor)Z(N,1),X=!0;const M=A.xr.getEnvironmentBlendMode();if(M==="additive")B.buffers.color.setClear(0,0,0,1,J);else if(M==="alpha-blend")B.buffers.color.setClear(0,0,0,0,J);if(A.autoClear||X)B.buffers.depth.setTest(!0),B.buffers.depth.setMask(!0),B.buffers.color.setMask(!0),A.clear(A.autoClearColor,A.autoClearDepth,A.autoClearStencil)}function W($,X){const N=F(X);if(N&&(N.isCubeTexture||N.mapping===306)){if(H===void 0)H=new mA(new uQ(1,1,1),new cA({name:"BackgroundCubeMaterial",uniforms:WK(hQ.backgroundCube.uniforms),vertexShader:hQ.backgroundCube.vertexShader,fragmentShader:hQ.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),H.geometry.deleteAttribute("normal"),H.geometry.deleteAttribute("uv"),H.onBeforeRender=function(M,L,D){this.matrixWorld.copyPosition(D.matrixWorld)},Object.defineProperty(H.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),I.update(H);if(_I.copy(X.backgroundRotation),_I.x*=-1,_I.y*=-1,_I.z*=-1,N.isCubeTexture&&N.isRenderTargetTexture===!1)_I.y*=-1,_I.z*=-1;if(H.material.uniforms.envMap.value=N,H.material.uniforms.flipEnvMap.value=N.isCubeTexture&&N.isRenderTargetTexture===!1?-1:1,H.material.uniforms.backgroundBlurriness.value=X.backgroundBlurriness,H.material.uniforms.backgroundIntensity.value=X.backgroundIntensity,H.material.uniforms.backgroundRotation.value.setFromMatrix4(ud.makeRotationFromEuler(_I)),H.material.toneMapped=D0.getTransfer(N.colorSpace)!=="srgb",R!==N||G!==N.version||O!==A.toneMapping)H.material.needsUpdate=!0,R=N,G=N.version,O=A.toneMapping;H.layers.enableAll(),$.unshift(H,H.geometry,H.material,0,0,null)}else if(N&&N.isTexture){if(Y===void 0)Y=new mA(new Y1(2,2),new cA({name:"BackgroundMaterial",uniforms:WK(hQ.background.uniforms),vertexShader:hQ.background.vertexShader,fragmentShader:hQ.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),Y.geometry.deleteAttribute("normal"),Object.defineProperty(Y.material,"map",{get:function(){return this.uniforms.t2D.value}}),I.update(Y);if(Y.material.uniforms.t2D.value=N,Y.material.uniforms.backgroundIntensity.value=X.backgroundIntensity,Y.material.toneMapped=D0.getTransfer(N.colorSpace)!=="srgb",N.matrixAutoUpdate===!0)N.updateMatrix();if(Y.material.uniforms.uvTransform.value.copy(N.matrix),R!==N||G!==N.version||O!==A.toneMapping)Y.material.needsUpdate=!0,R=N,G=N.version,O=A.toneMapping;Y.layers.enableAll(),$.unshift(Y,Y.geometry,Y.material,0,0,null)}}function Z($,X){$.getRGB(o7,$3(A)),B.buffers.color.setClear(o7.r,o7.g,o7.b,X,J)}return{getClearColor:function(){return C},setClearColor:function($,X=1){C.set($),U=X,Z(C,U)},getClearAlpha:function(){return U},setClearAlpha:function($){U=$,Z(C,U)},render:q,addToRenderList:W}}function md(A,Q){const E=A.getParameter(A.MAX_VERTEX_ATTRIBS),B={},I=G(null);let K=I,J=!1;function C(V,T,S,h,x){let y=!1;const j=R(h,S,T);if(K!==j)K=j,Y(K.object);if(y=O(V,h,S,x),y)F(V,h,S,x);if(x!==null)Q.update(x,A.ELEMENT_ARRAY_BUFFER);if(y||J){if(J=!1,N(V,T,S,h),x!==null)A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,Q.get(x).buffer)}}function U(){return A.createVertexArray()}function Y(V){return A.bindVertexArray(V)}function H(V){return A.deleteVertexArray(V)}function R(V,T,S){const h=S.wireframe===!0;let x=B[V.id];if(x===void 0)x={},B[V.id]=x;let y=x[T.id];if(y===void 0)y={},x[T.id]=y;let j=y[h];if(j===void 0)j=G(U()),y[h]=j;return j}function G(V){const T=[],S=[],h=[];for(let x=0;x<E;x++)T[x]=0,S[x]=0,h[x]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:T,enabledAttributes:S,attributeDivisors:h,object:V,attributes:{},index:null}}function O(V,T,S,h){const x=K.attributes,y=T.attributes;let j=0;const v=S.getAttributes();for(let _ in v)if(v[_].location>=0){const b=x[_];let p=y[_];if(p===void 0){if(_==="instanceMatrix"&&V.instanceMatrix)p=V.instanceMatrix;if(_==="instanceColor"&&V.instanceColor)p=V.instanceColor}if(b===void 0)return!0;if(b.attribute!==p)return!0;if(p&&b.data!==p.data)return!0;j++}if(K.attributesNum!==j)return!0;if(K.index!==h)return!0;return!1}function F(V,T,S,h){const x={},y=T.attributes;let j=0;const v=S.getAttributes();for(let _ in v)if(v[_].location>=0){let b=y[_];if(b===void 0){if(_==="instanceMatrix"&&V.instanceMatrix)b=V.instanceMatrix;if(_==="instanceColor"&&V.instanceColor)b=V.instanceColor}const p={};if(p.attribute=b,b&&b.data)p.data=b.data;x[_]=p,j++}K.attributes=x,K.attributesNum=j,K.index=h}function q(){const V=K.newAttributes;for(let T=0,S=V.length;T<S;T++)V[T]=0}function W(V){Z(V,0)}function Z(V,T){const{newAttributes:S,enabledAttributes:h,attributeDivisors:x}=K;if(S[V]=1,h[V]===0)A.enableVertexAttribArray(V),h[V]=1;if(x[V]!==T)A.vertexAttribDivisor(V,T),x[V]=T}function $(){const{newAttributes:V,enabledAttributes:T}=K;for(let S=0,h=T.length;S<h;S++)if(T[S]!==V[S])A.disableVertexAttribArray(S),T[S]=0}function X(V,T,S,h,x,y,j){if(j===!0)A.vertexAttribIPointer(V,T,S,x,y);else A.vertexAttribPointer(V,T,S,h,x,y)}function N(V,T,S,h){q();const x=h.attributes,y=S.getAttributes(),j=T.defaultAttributeValues;for(let v in y){const _=y[v];if(_.location>=0){let g=x[v];if(g===void 0){if(v==="instanceMatrix"&&V.instanceMatrix)g=V.instanceMatrix;if(v==="instanceColor"&&V.instanceColor)g=V.instanceColor}if(g!==void 0){const{normalized:b,itemSize:p}=g,m=Q.get(g);if(m===void 0)continue;const{buffer:o,type:AA,bytesPerElement:s}=m,t=AA===A.INT||AA===A.UNSIGNED_INT||g.gpuType===1013;if(g.isInterleavedBufferAttribute){const r=g.data,EA=r.stride,JA=g.offset;if(r.isInstancedInterleavedBuffer){for(let YA=0;YA<_.locationSize;YA++)Z(_.location+YA,r.meshPerAttribute);if(V.isInstancedMesh!==!0&&h._maxInstanceCount===void 0)h._maxInstanceCount=r.meshPerAttribute*r.count}else for(let YA=0;YA<_.locationSize;YA++)W(_.location+YA);A.bindBuffer(A.ARRAY_BUFFER,o);for(let YA=0;YA<_.locationSize;YA++)X(_.location+YA,p/_.locationSize,AA,b,EA*s,(JA+p/_.locationSize*YA)*s,t)}else{if(g.isInstancedBufferAttribute){for(let r=0;r<_.locationSize;r++)Z(_.location+r,g.meshPerAttribute);if(V.isInstancedMesh!==!0&&h._maxInstanceCount===void 0)h._maxInstanceCount=g.meshPerAttribute*g.count}else for(let r=0;r<_.locationSize;r++)W(_.location+r);A.bindBuffer(A.ARRAY_BUFFER,o);for(let r=0;r<_.locationSize;r++)X(_.location+r,p/_.locationSize,AA,b,p*s,p/_.locationSize*r*s,t)}}else if(j!==void 0){const b=j[v];if(b!==void 0)switch(b.length){case 2:A.vertexAttrib2fv(_.location,b);break;case 3:A.vertexAttrib3fv(_.location,b);break;case 4:A.vertexAttrib4fv(_.location,b);break;default:A.vertexAttrib1fv(_.location,b)}}}}$()}function M(){w();for(let V in B){const T=B[V];for(let S in T){const h=T[S];for(let x in h)H(h[x].object),delete h[x];delete T[S]}delete B[V]}}function L(V){if(B[V.id]===void 0)return;const T=B[V.id];for(let S in T){const h=T[S];for(let x in h)H(h[x].object),delete h[x];delete T[S]}delete B[V.id]}function D(V){for(let T in B){const S=B[T];if(S[V.id]===void 0)continue;const h=S[V.id];for(let x in h)H(h[x].object),delete h[x];delete S[V.id]}}function w(){if(P(),J=!0,K===I)return;K=I,Y(K.object)}function P(){I.geometry=null,I.program=null,I.wireframe=!1}return{setup:C,reset:w,resetDefaultState:P,dispose:M,releaseStatesOfGeometry:L,releaseStatesOfProgram:D,initAttributes:q,enableAttribute:W,disableUnusedAttributes:$}}function cd(A,Q,E){let B;function I(Y){B=Y}function K(Y,H){A.drawArrays(B,Y,H),E.update(H,B,1)}function J(Y,H,R){if(R===0)return;A.drawArraysInstanced(B,Y,H,R),E.update(H,B,R)}function C(Y,H,R){if(R===0)return;Q.get("WEBGL_multi_draw").multiDrawArraysWEBGL(B,Y,0,H,0,R);let O=0;for(let F=0;F<R;F++)O+=H[F];E.update(O,B,1)}function U(Y,H,R,G){if(R===0)return;const O=Q.get("WEBGL_multi_draw");if(O===null)for(let F=0;F<Y.length;F++)J(Y[F],H[F],G[F]);else{O.multiDrawArraysInstancedWEBGL(B,Y,0,H,0,G,0,R);let F=0;for(let q=0;q<R;q++)F+=H[q];for(let q=0;q<G.length;q++)E.update(F,B,G[q])}}this.setMode=I,this.render=K,this.renderInstances=J,this.renderMultiDraw=C,this.renderMultiDrawInstances=U}function dd(A,Q,E,B){let I;function K(){if(I!==void 0)return I;if(Q.has("EXT_texture_filter_anisotropic")===!0){const D=Q.get("EXT_texture_filter_anisotropic");I=A.getParameter(D.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else I=0;return I}function J(D){if(D!==1023&&B.convert(D)!==A.getParameter(A.IMPLEMENTATION_COLOR_READ_FORMAT))return!1;return!0}function C(D){const w=D===1016&&(Q.has("EXT_color_buffer_half_float")||Q.has("EXT_color_buffer_float"));if(D!==1009&&B.convert(D)!==A.getParameter(A.IMPLEMENTATION_COLOR_READ_TYPE)&&D!==1015&&!w)return!1;return!0}function U(D){if(D==="highp"){if(A.getShaderPrecisionFormat(A.VERTEX_SHADER,A.HIGH_FLOAT).precision>0&&A.getShaderPrecisionFormat(A.FRAGMENT_SHADER,A.HIGH_FLOAT).precision>0)return"highp";D="mediump"}if(D==="mediump"){if(A.getShaderPrecisionFormat(A.VERTEX_SHADER,A.MEDIUM_FLOAT).precision>0&&A.getShaderPrecisionFormat(A.FRAGMENT_SHADER,A.MEDIUM_FLOAT).precision>0)return"mediump"}return"lowp"}let Y=E.precision!==void 0?E.precision:"highp";const H=U(Y);if(H!==Y)console.warn("THREE.WebGLRenderer:",Y,"not supported, using",H,"instead."),Y=H;const R=E.logarithmicDepthBuffer===!0,G=E.reverseDepthBuffer===!0&&Q.has("EXT_clip_control");if(G===!0){const D=Q.get("EXT_clip_control");D.clipControlEXT(D.LOWER_LEFT_EXT,D.ZERO_TO_ONE_EXT)}const O=A.getParameter(A.MAX_TEXTURE_IMAGE_UNITS),F=A.getParameter(A.MAX_VERTEX_TEXTURE_IMAGE_UNITS),q=A.getParameter(A.MAX_TEXTURE_SIZE),W=A.getParameter(A.MAX_CUBE_MAP_TEXTURE_SIZE),Z=A.getParameter(A.MAX_VERTEX_ATTRIBS),$=A.getParameter(A.MAX_VERTEX_UNIFORM_VECTORS),X=A.getParameter(A.MAX_VARYING_VECTORS),N=A.getParameter(A.MAX_FRAGMENT_UNIFORM_VECTORS),M=F>0,L=A.getParameter(A.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:K,getMaxPrecision:U,textureFormatReadable:J,textureTypeReadable:C,precision:Y,logarithmicDepthBuffer:R,reverseDepthBuffer:G,maxTextures:O,maxVertexTextures:F,maxTextureSize:q,maxCubemapSize:W,maxAttributes:Z,maxVertexUniforms:$,maxVaryings:X,maxFragmentUniforms:N,vertexTextures:M,maxSamples:L}}function ld(A){const Q=this;let E=null,B=0,I=!1,K=!1;const J=new ZQ,C=new J0,U={value:null,needsUpdate:!1};this.uniform=U,this.numPlanes=0,this.numIntersection=0,this.init=function(R,G){const O=R.length!==0||G||B!==0||I;return I=G,B=R.length,O},this.beginShadows=function(){K=!0,H(null)},this.endShadows=function(){K=!1},this.setGlobalState=function(R,G){E=H(R,G,0)},this.setState=function(R,G,O){const{clippingPlanes:F,clipIntersection:q,clipShadows:W}=R,Z=A.get(R);if(!I||F===null||F.length===0||K&&!W)if(K)H(null);else Y();else{const $=K?0:B,X=$*4;let N=Z.clippingState||null;U.value=N,N=H(F,G,X,O);for(let M=0;M!==X;++M)N[M]=E[M];Z.clippingState=N,this.numIntersection=q?this.numPlanes:0,this.numPlanes+=$}};function Y(){if(U.value!==E)U.value=E,U.needsUpdate=B>0;Q.numPlanes=B,Q.numIntersection=0}function H(R,G,O,F){const q=R!==null?R.length:0;let W=null;if(q!==0){if(W=U.value,F!==!0||W===null){const Z=O+q*4,$=G.matrixWorldInverse;if(C.getNormalMatrix($),W===null||W.length<Z)W=new Float32Array(Z);for(let X=0,N=O;X!==q;++X,N+=4)J.copy(R[X]).applyMatrix4($,C),J.normal.toArray(W,N),W[N+3]=J.constant}U.value=W,U.needsUpdate=!0}return Q.numPlanes=q,Q.numIntersection=0,W}}function nd(A){let Q=/*@__PURE__*/new WeakMap;function E(J,C){if(C===303)J.mapping=301;else if(C===304)J.mapping=302;return J}function B(J){if(J&&J.isTexture){const C=J.mapping;if(C===303||C===304)if(Q.has(J)){const U=Q.get(J).texture;return E(U,J.mapping)}else{const U=J.image;if(U&&U.height>0){const Y=new x5(U.height);return Y.fromEquirectangularTexture(A,J),Q.set(J,Y),J.addEventListener("dispose",I),E(Y.texture,J.mapping)}else return null}}return J}function I(J){const C=J.target;C.removeEventListener("dispose",I);const U=Q.get(C);if(U!==void 0)Q.delete(C),U.dispose()}function K(){Q=/*@__PURE__*/new WeakMap}return{get:B,dispose:K}}function od(A){const Q=[],E=[],B=[];let I=A;const K=A-ZK+1+TD.length;for(let J=0;J<K;J++){const C=Math.pow(2,I);E.push(C);let U=1/C;if(J>A-ZK)U=TD[J-A+ZK-1];else if(J===0)U=0;B.push(U);const Y=1/(C-2),H=-Y,R=1+Y,G=[H,H,R,H,R,R,H,H,R,R,H,R],O=6,F=6,q=3,W=2,Z=1,$=new Float32Array(q*F*O),X=new Float32Array(W*F*O),N=new Float32Array(Z*F*O);for(let L=0;L<O;L++){const D=L%3*2/3-1,w=L>2?0:-1,P=[D,w,0,D+0.6666666666666666,w,0,D+0.6666666666666666,w+1,0,D,w,0,D+0.6666666666666666,w+1,0,D,w+1,0];$.set(P,q*F*L),X.set(G,W*F*L);const V=[L,L,L,L,L,L];N.set(V,Z*F*L)}const M=new pA;if(M.setAttribute("position",new E0($,q)),M.setAttribute("uv",new E0(X,W)),M.setAttribute("faceIndex",new E0(N,Z)),Q.push(M),I>ZK)I--}return{lodPlanes:Q,sizeLods:E,sigmas:B}}function _D(A,Q,E){const B=new B0(A,Q,E);return B.texture.mapping=306,B.texture.name="PMREM.cubeUv",B.scissorTest=!0,B}function i7(A,Q,E,B,I){A.viewport.set(Q,E,B,I),A.scissor.set(Q,E,B,I)}function id(A,Q,E){const B=new Float32Array(fI),I=new f(0,1,0);return new cA({name:"SphericalGaussianBlur",defines:{n:fI,CUBEUV_TEXEL_WIDTH:1/Q,CUBEUV_TEXEL_HEIGHT:1/E,CUBEUV_MAX_MIP:`${A}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:B},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:I}},vertexShader:BO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:0,depthTest:!1,depthWrite:!1})}function kD(){return new cA({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:BO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:0,depthTest:!1,depthWrite:!1})}function jD(){return new cA({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:BO(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:0,depthTest:!1,depthWrite:!1})}function BO(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function sd(A){let Q=/*@__PURE__*/new WeakMap,E=null;function B(C){if(C&&C.isTexture){const U=C.mapping,Y=U===303||U===304,H=U===301||U===302;if(Y||H){let R=Q.get(C);const G=R!==void 0?R.texture.pmremVersion:0;if(C.isRenderTargetTexture&&C.pmremVersion!==G){if(E===null)E=new M5(A);return R=Y?E.fromEquirectangular(C,R):E.fromCubemap(C,R),R.texture.pmremVersion=C.pmremVersion,Q.set(C,R),R.texture}else if(R!==void 0)return R.texture;else{const O=C.image;if(Y&&O&&O.height>0||H&&O&&I(O)){if(E===null)E=new M5(A);return R=Y?E.fromEquirectangular(C):E.fromCubemap(C),R.texture.pmremVersion=C.pmremVersion,Q.set(C,R),C.addEventListener("dispose",K),R.texture}else return null}}}return C}function I(C){let U=0;const Y=6;for(let H=0;H<Y;H++)if(C[H]!==void 0)U++;return U===Y}function K(C){const U=C.target;U.removeEventListener("dispose",K);const Y=Q.get(U);if(Y!==void 0)Q.delete(U),Y.dispose()}function J(){if(Q=/*@__PURE__*/new WeakMap,E!==null)E.dispose(),E=null}return{get:B,dispose:J}}function rd(A){const Q={};function E(B){if(Q[B]!==void 0)return Q[B];let I;switch(B){case"WEBGL_depth_texture":I=A.getExtension("WEBGL_depth_texture")||A.getExtension("MOZ_WEBGL_depth_texture")||A.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":I=A.getExtension("EXT_texture_filter_anisotropic")||A.getExtension("MOZ_EXT_texture_filter_anisotropic")||A.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":I=A.getExtension("WEBGL_compressed_texture_s3tc")||A.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||A.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":I=A.getExtension("WEBGL_compressed_texture_pvrtc")||A.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:I=A.getExtension(B)}return Q[B]=I,I}return{has:function(B){return E(B)!==null},init:function(){E("EXT_color_buffer_float"),E("WEBGL_clip_cull_distance"),E("OES_texture_float_linear"),E("EXT_color_buffer_half_float"),E("WEBGL_multisampled_render_to_texture"),E("WEBGL_render_shared_exponent")},get:function(B){const I=E(B);if(I===null)L5("THREE.WebGLRenderer: "+B+" extension not supported.");return I}}}function ad(A,Q,E,B){const I={},K=/*@__PURE__*/new WeakMap;function J(R){const G=R.target;if(G.index!==null)Q.remove(G.index);for(let F in G.attributes)Q.remove(G.attributes[F]);for(let F in G.morphAttributes){const q=G.morphAttributes[F];for(let W=0,Z=q.length;W<Z;W++)Q.remove(q[W])}G.removeEventListener("dispose",J),delete I[G.id];const O=K.get(G);if(O)Q.remove(O),K.delete(G);if(B.releaseStatesOfGeometry(G),G.isInstancedBufferGeometry===!0)delete G._maxInstanceCount;E.memory.geometries--}function C(R,G){if(I[G.id]===!0)return G;return G.addEventListener("dispose",J),I[G.id]=!0,E.memory.geometries++,G}function U(R){const G=R.attributes;for(let F in G)Q.update(G[F],A.ARRAY_BUFFER);const O=R.morphAttributes;for(let F in O){const q=O[F];for(let W=0,Z=q.length;W<Z;W++)Q.update(q[W],A.ARRAY_BUFFER)}}function Y(R){const G=[],O=R.index,F=R.attributes.position;let q=0;if(O!==null){const $=O.array;q=O.version;for(let X=0,N=$.length;X<N;X+=3){const M=$[X+0],L=$[X+1],D=$[X+2];G.push(M,L,L,D,D,M)}}else if(F!==void 0){const $=F.array;q=F.version;for(let X=0,N=$.length/3-1;X<N;X+=3){const M=X+0,L=X+1,D=X+2;G.push(M,L,L,D,D,M)}}else return;const W=new((K3(G))?y5:LK)(G,1);W.version=q;const Z=K.get(R);if(Z)Q.remove(Z);K.set(R,W)}function H(R){const G=K.get(R);if(G){const O=R.index;if(O!==null){if(G.version<O.version)Y(R)}}else Y(R);return K.get(R)}return{get:C,update:U,getWireframeAttribute:H}}function td(A,Q,E){let B;function I(G){B=G}let K,J;function C(G){K=G.type,J=G.bytesPerElement}function U(G,O){A.drawElements(B,O,K,G*J),E.update(O,B,1)}function Y(G,O,F){if(F===0)return;A.drawElementsInstanced(B,O,K,G*J,F),E.update(O,B,F)}function H(G,O,F){if(F===0)return;Q.get("WEBGL_multi_draw").multiDrawElementsWEBGL(B,O,0,K,G,0,F);let W=0;for(let Z=0;Z<F;Z++)W+=O[Z];E.update(W,B,1)}function R(G,O,F,q){if(F===0)return;const W=Q.get("WEBGL_multi_draw");if(W===null)for(let Z=0;Z<G.length;Z++)Y(G[Z]/J,O[Z],q[Z]);else{W.multiDrawElementsInstancedWEBGL(B,O,0,K,G,0,q,0,F);let Z=0;for(let $=0;$<F;$++)Z+=O[$];for(let $=0;$<q.length;$++)E.update(Z,B,q[$])}}this.setMode=I,this.setIndex=C,this.render=U,this.renderInstances=Y,this.renderMultiDraw=H,this.renderMultiDrawInstances=R}function ed(A){const Q={geometries:0,textures:0},E={frame:0,calls:0,triangles:0,points:0,lines:0};function B(K,J,C){switch(E.calls++,J){case A.TRIANGLES:E.triangles+=C*(K/3);break;case A.LINES:E.lines+=C*(K/2);break;case A.LINE_STRIP:E.lines+=C*(K-1);break;case A.LINE_LOOP:E.lines+=C*K;break;case A.POINTS:E.points+=C*K;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",J);break}}function I(){E.calls=0,E.triangles=0,E.points=0,E.lines=0}return{memory:Q,render:E,programs:null,autoReset:!0,reset:I,update:B}}function Al(A,Q,E){const B=/*@__PURE__*/new WeakMap,I=new gA;function K(J,C,U){const Y=J.morphTargetInfluences,H=C.morphAttributes.position||C.morphAttributes.normal||C.morphAttributes.color,R=H!==void 0?H.length:0;let G=B.get(C);if(G===void 0||G.count!==R){let P=function(){D.dispose(),B.delete(C),C.removeEventListener("dispose",P)};if(G!==void 0)G.texture.dispose();const O=C.morphAttributes.position!==void 0,F=C.morphAttributes.normal!==void 0,q=C.morphAttributes.color!==void 0,W=C.morphAttributes.position||[],Z=C.morphAttributes.normal||[],$=C.morphAttributes.color||[];let X=0;if(O===!0)X=1;if(F===!0)X=2;if(q===!0)X=3;let N=C.attributes.position.count*X,M=1;if(N>Q.maxTextureSize)M=Math.ceil(N/Q.maxTextureSize),N=Q.maxTextureSize;const L=new Float32Array(N*M*4*R),D=new b9(L,N,M,R);D.type=1015,D.needsUpdate=!0;const w=X*4;for(let V=0;V<R;V++){const T=W[V],S=Z[V],h=$[V],x=N*M*4*V;for(let y=0;y<T.count;y++){const j=y*w;if(O===!0)I.fromBufferAttribute(T,y),L[x+j+0]=I.x,L[x+j+1]=I.y,L[x+j+2]=I.z,L[x+j+3]=0;if(F===!0)I.fromBufferAttribute(S,y),L[x+j+4]=I.x,L[x+j+5]=I.y,L[x+j+6]=I.z,L[x+j+7]=0;if(q===!0)I.fromBufferAttribute(h,y),L[x+j+8]=I.x,L[x+j+9]=I.y,L[x+j+10]=I.z,L[x+j+11]=h.itemSize===4?I.w:1}}G={count:R,texture:D,size:new RA(N,M)},B.set(C,G),C.addEventListener("dispose",P)}if(J.isInstancedMesh===!0&&J.morphTexture!==null)U.getUniforms().setValue(A,"morphTexture",J.morphTexture,E);else{let O=0;for(let q=0;q<Y.length;q++)O+=Y[q];const F=C.morphTargetsRelative?1:1-O;U.getUniforms().setValue(A,"morphTargetBaseInfluence",F),U.getUniforms().setValue(A,"morphTargetInfluences",Y)}U.getUniforms().setValue(A,"morphTargetsTexture",G.texture,E),U.getUniforms().setValue(A,"morphTargetsTextureSize",G.size)}return{update:K}}function Ql(A,Q,E,B){let I=/*@__PURE__*/new WeakMap;function K(U){const Y=B.render.frame,H=U.geometry,R=Q.get(U,H);if(I.get(R)!==Y)Q.update(R),I.set(R,Y);if(U.isInstancedMesh){if(U.hasEventListener("dispose",C)===!1)U.addEventListener("dispose",C);if(I.get(U)!==Y){if(E.update(U.instanceMatrix,A.ARRAY_BUFFER),U.instanceColor!==null)E.update(U.instanceColor,A.ARRAY_BUFFER);I.set(U,Y)}}if(U.isSkinnedMesh){const G=U.skeleton;if(I.get(G)!==Y)G.update(),I.set(G,Y)}return R}function J(){I=/*@__PURE__*/new WeakMap}function C(U){const Y=U.target;if(Y.removeEventListener("dispose",C),E.remove(Y.instanceMatrix),Y.instanceColor!==null)E.remove(Y.instanceColor)}return{update:K,dispose:J}}function MK(A,Q,E){const B=A[0];if(B<=0||B>0)return A;const I=Q*E;let K=vD[I];if(K===void 0)K=new Float32Array(I),vD[I]=K;if(Q!==0){B.toArray(K,0);for(let J=1,C=0;J!==Q;++J)C+=E,A[J].toArray(K,C)}return K}function oQ(A,Q){if(A.length!==Q.length)return!1;for(let E=0,B=A.length;E<B;E++)if(A[E]!==Q[E])return!1;return!0}function iQ(A,Q){for(let E=0,B=Q.length;E<B;E++)A[E]=Q[E]}function g5(A,Q){let E=yD[Q];if(E===void 0)E=new Int32Array(Q),yD[Q]=E;for(let B=0;B!==Q;++B)E[B]=A.allocateTextureUnit();return E}function El(A,Q){const E=this.cache;if(E[0]===Q)return;A.uniform1f(this.addr,Q),E[0]=Q}function Bl(A,Q){const E=this.cache;if(Q.x!==void 0){if(E[0]!==Q.x||E[1]!==Q.y)A.uniform2f(this.addr,Q.x,Q.y),E[0]=Q.x,E[1]=Q.y}else{if(oQ(E,Q))return;A.uniform2fv(this.addr,Q),iQ(E,Q)}}function Il(A,Q){const E=this.cache;if(Q.x!==void 0){if(E[0]!==Q.x||E[1]!==Q.y||E[2]!==Q.z)A.uniform3f(this.addr,Q.x,Q.y,Q.z),E[0]=Q.x,E[1]=Q.y,E[2]=Q.z}else if(Q.r!==void 0){if(E[0]!==Q.r||E[1]!==Q.g||E[2]!==Q.b)A.uniform3f(this.addr,Q.r,Q.g,Q.b),E[0]=Q.r,E[1]=Q.g,E[2]=Q.b}else{if(oQ(E,Q))return;A.uniform3fv(this.addr,Q),iQ(E,Q)}}function Kl(A,Q){const E=this.cache;if(Q.x!==void 0){if(E[0]!==Q.x||E[1]!==Q.y||E[2]!==Q.z||E[3]!==Q.w)A.uniform4f(this.addr,Q.x,Q.y,Q.z,Q.w),E[0]=Q.x,E[1]=Q.y,E[2]=Q.z,E[3]=Q.w}else{if(oQ(E,Q))return;A.uniform4fv(this.addr,Q),iQ(E,Q)}}function Jl(A,Q){const E=this.cache,B=Q.elements;if(B===void 0){if(oQ(E,Q))return;A.uniformMatrix2fv(this.addr,!1,Q),iQ(E,Q)}else{if(oQ(E,B))return;bD.set(B),A.uniformMatrix2fv(this.addr,!1,bD),iQ(E,B)}}function Cl(A,Q){const E=this.cache,B=Q.elements;if(B===void 0){if(oQ(E,Q))return;A.uniformMatrix3fv(this.addr,!1,Q),iQ(E,Q)}else{if(oQ(E,B))return;gD.set(B),A.uniformMatrix3fv(this.addr,!1,gD),iQ(E,B)}}function Ul(A,Q){const E=this.cache,B=Q.elements;if(B===void 0){if(oQ(E,Q))return;A.uniformMatrix4fv(this.addr,!1,Q),iQ(E,Q)}else{if(oQ(E,B))return;xD.set(B),A.uniformMatrix4fv(this.addr,!1,xD),iQ(E,B)}}function Yl(A,Q){const E=this.cache;if(E[0]===Q)return;A.uniform1i(this.addr,Q),E[0]=Q}function Hl(A,Q){const E=this.cache;if(Q.x!==void 0){if(E[0]!==Q.x||E[1]!==Q.y)A.uniform2i(this.addr,Q.x,Q.y),E[0]=Q.x,E[1]=Q.y}else{if(oQ(E,Q))return;A.uniform2iv(this.addr,Q),iQ(E,Q)}}function Gl(A,Q){const E=this.cache;if(Q.x!==void 0){if(E[0]!==Q.x||E[1]!==Q.y||E[2]!==Q.z)A.uniform3i(this.addr,Q.x,Q.y,Q.z),E[0]=Q.x,E[1]=Q.y,E[2]=Q.z}else{if(oQ(E,Q))return;A.uniform3iv(this.addr,Q),iQ(E,Q)}}function Zl(A,Q){const E=this.cache;if(Q.x!==void 0){if(E[0]!==Q.x||E[1]!==Q.y||E[2]!==Q.z||E[3]!==Q.w)A.uniform4i(this.addr,Q.x,Q.y,Q.z,Q.w),E[0]=Q.x,E[1]=Q.y,E[2]=Q.z,E[3]=Q.w}else{if(oQ(E,Q))return;A.uniform4iv(this.addr,Q),iQ(E,Q)}}function Rl(A,Q){const E=this.cache;if(E[0]===Q)return;A.uniform1ui(this.addr,Q),E[0]=Q}function Ol(A,Q){const E=this.cache;if(Q.x!==void 0){if(E[0]!==Q.x||E[1]!==Q.y)A.uniform2ui(this.addr,Q.x,Q.y),E[0]=Q.x,E[1]=Q.y}else{if(oQ(E,Q))return;A.uniform2uiv(this.addr,Q),iQ(E,Q)}}function $l(A,Q){const E=this.cache;if(Q.x!==void 0){if(E[0]!==Q.x||E[1]!==Q.y||E[2]!==Q.z)A.uniform3ui(this.addr,Q.x,Q.y,Q.z),E[0]=Q.x,E[1]=Q.y,E[2]=Q.z}else{if(oQ(E,Q))return;A.uniform3uiv(this.addr,Q),iQ(E,Q)}}function Wl(A,Q){const E=this.cache;if(Q.x!==void 0){if(E[0]!==Q.x||E[1]!==Q.y||E[2]!==Q.z||E[3]!==Q.w)A.uniform4ui(this.addr,Q.x,Q.y,Q.z,Q.w),E[0]=Q.x,E[1]=Q.y,E[2]=Q.z,E[3]=Q.w}else{if(oQ(E,Q))return;A.uniform4uiv(this.addr,Q),iQ(E,Q)}}function Xl(A,Q,E){const B=this.cache,I=E.allocateTextureUnit();if(B[0]!==I)A.uniform1i(this.addr,I),B[0]=I;let K;if(this.type===A.SAMPLER_2D_SHADOW)hD.compareFunction=515,K=hD;else K=X3;E.setTexture2D(Q||K,I)}function Fl(A,Q,E){const B=this.cache,I=E.allocateTextureUnit();if(B[0]!==I)A.uniform1i(this.addr,I),B[0]=I;E.setTexture3D(Q||q3,I)}function ql(A,Q,E){const B=this.cache,I=E.allocateTextureUnit();if(B[0]!==I)A.uniform1i(this.addr,I),B[0]=I;E.setTextureCube(Q||N3,I)}function Nl(A,Q,E){const B=this.cache,I=E.allocateTextureUnit();if(B[0]!==I)A.uniform1i(this.addr,I),B[0]=I;E.setTexture2DArray(Q||F3,I)}function Ll(A){switch(A){case 5126:return El;case 35664:return Bl;case 35665:return Il;case 35666:return Kl;case 35674:return Jl;case 35675:return Cl;case 35676:return Ul;case 5124:case 35670:return Yl;case 35667:case 35671:return Hl;case 35668:case 35672:return Gl;case 35669:case 35673:return Zl;case 5125:return Rl;case 36294:return Ol;case 36295:return $l;case 36296:return Wl;case 35678:case 36198:case 36298:case 36306:case 35682:return Xl;case 35679:case 36299:case 36307:return Fl;case 35680:case 36300:case 36308:case 36293:return ql;case 36289:case 36303:case 36311:case 36292:return Nl}}function Dl(A,Q){A.uniform1fv(this.addr,Q)}function Ml(A,Q){const E=MK(Q,this.size,2);A.uniform2fv(this.addr,E)}function wl(A,Q){const E=MK(Q,this.size,3);A.uniform3fv(this.addr,E)}function zl(A,Q){const E=MK(Q,this.size,4);A.uniform4fv(this.addr,E)}function Vl(A,Q){const E=MK(Q,this.size,4);A.uniformMatrix2fv(this.addr,!1,E)}function Tl(A,Q){const E=MK(Q,this.size,9);A.uniformMatrix3fv(this.addr,!1,E)}function Sl(A,Q){const E=MK(Q,this.size,16);A.uniformMatrix4fv(this.addr,!1,E)}function Pl(A,Q){A.uniform1iv(this.addr,Q)}function _l(A,Q){A.uniform2iv(this.addr,Q)}function kl(A,Q){A.uniform3iv(this.addr,Q)}function jl(A,Q){A.uniform4iv(this.addr,Q)}function hl(A,Q){A.uniform1uiv(this.addr,Q)}function vl(A,Q){A.uniform2uiv(this.addr,Q)}function yl(A,Q){A.uniform3uiv(this.addr,Q)}function xl(A,Q){A.uniform4uiv(this.addr,Q)}function gl(A,Q,E){const B=this.cache,I=Q.length,K=g5(E,I);if(!oQ(B,K))A.uniform1iv(this.addr,K),iQ(B,K);for(let J=0;J!==I;++J)E.setTexture2D(Q[J]||X3,K[J])}function bl(A,Q,E){const B=this.cache,I=Q.length,K=g5(E,I);if(!oQ(B,K))A.uniform1iv(this.addr,K),iQ(B,K);for(let J=0;J!==I;++J)E.setTexture3D(Q[J]||q3,K[J])}function fl(A,Q,E){const B=this.cache,I=Q.length,K=g5(E,I);if(!oQ(B,K))A.uniform1iv(this.addr,K),iQ(B,K);for(let J=0;J!==I;++J)E.setTextureCube(Q[J]||N3,K[J])}function ul(A,Q,E){const B=this.cache,I=Q.length,K=g5(E,I);if(!oQ(B,K))A.uniform1iv(this.addr,K),iQ(B,K);for(let J=0;J!==I;++J)E.setTexture2DArray(Q[J]||F3,K[J])}function pl(A){switch(A){case 5126:return Dl;case 35664:return Ml;case 35665:return wl;case 35666:return zl;case 35674:return Vl;case 35675:return Tl;case 35676:return Sl;case 5124:case 35670:return Pl;case 35667:case 35671:return _l;case 35668:case 35672:return kl;case 35669:case 35673:return jl;case 5125:return hl;case 36294:return vl;case 36295:return yl;case 36296:return xl;case 35678:case 36198:case 36298:case 36306:case 35682:return gl;case 35679:case 36299:case 36307:return bl;case 35680:case 36300:case 36308:case 36293:return fl;case 36289:case 36303:case 36311:case 36292:return ul}}function fD(A,Q){A.seq.push(Q),A.map[Q.id]=Q}function ml(A,Q,E){const B=A.name,I=B.length;XR.lastIndex=0;while(!0){const K=XR.exec(B),J=XR.lastIndex;let C=K[1];const U=K[2]==="]",Y=K[3];if(U)C=C|0;if(Y===void 0||Y==="["&&J+2===I){fD(E,Y===void 0?new L3(C,A,Q):new D3(C,A,Q));break}else{let R=E.map[C];if(R===void 0)R=new M3(C),fD(E,R);E=R}}}function uD(A,Q,E){const B=A.createShader(Q);return A.shaderSource(B,E),A.compileShader(B),B}function ll(A,Q){const E=A.split("\n"),B=[],I=Math.max(Q-6,0),K=Math.min(Q+6,E.length);for(let J=I;J<K;J++){const C=J+1;B.push(`${C===Q?">":" "} ${C}: ${E[J]}`)}return B.join("\n")}function nl(A){const Q=D0.getPrimaries(D0.workingColorSpace),E=D0.getPrimaries(A);let B;if(Q===E)B="";else if(Q==="p3"&&E==="rec709")B="LinearDisplayP3ToLinearSRGB";else if(Q==="rec709"&&E==="p3")B="LinearSRGBToLinearDisplayP3";switch(A){case"srgb-linear":case"display-p3-linear":return[B,"LinearTransferOETF"];case"srgb":case"display-p3":return[B,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",A),[B,"LinearTransferOETF"]}}function pD(A,Q,E){const B=A.getShaderParameter(Q,A.COMPILE_STATUS),I=A.getShaderInfoLog(Q).trim();if(B&&I==="")return"";const K=/ERROR: 0:(\d+)/.exec(I);if(K){const J=parseInt(K[1]);return E.toUpperCase()+"\n\n"+I+"\n\n"+ll(A.getShaderSource(Q),J)}else return I}function ol(A,Q){const E=nl(Q);return`vec4 ${A}( vec4 value ) { return ${E[0]}( ${E[1]}( value ) ); }`}function il(A,Q){let E;switch(Q){case 1:E="Linear";break;case 2:E="Reinhard";break;case 3:E="Cineon";break;case 4:E="ACESFilmic";break;case 6:E="AgX";break;case 7:E="Neutral";break;case 5:E="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",Q),E="Linear"}return"vec3 "+A+"( vec3 color ) { return "+E+"ToneMapping( color ); }"}function sl(){D0.getLuminanceCoefficients(s7);const A=s7.x.toFixed(4),Q=s7.y.toFixed(4),E=s7.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${A}, ${Q}, ${E} );`,"	return dot( weights, rgb );","}"].join("\n")}function rl(A){return[A.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",A.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(W9).join("\n")}function al(A){const Q=[];for(let E in A){const B=A[E];if(B===!1)continue;Q.push("#define "+E+" "+B)}return Q.join("\n")}function tl(A,Q){const E={},B=A.getProgramParameter(Q,A.ACTIVE_ATTRIBUTES);for(let I=0;I<B;I++){const K=A.getActiveAttrib(Q,I),J=K.name;let C=1;if(K.type===A.FLOAT_MAT2)C=2;if(K.type===A.FLOAT_MAT3)C=3;if(K.type===A.FLOAT_MAT4)C=4;E[J]={type:K.type,location:A.getAttribLocation(Q,J),locationSize:C}}return E}function W9(A){return A!==""}function mD(A,Q){const E=Q.numSpotLightShadows+Q.numSpotLightMaps-Q.numSpotLightShadowsWithMaps;return A.replace(/NUM_DIR_LIGHTS/g,Q.numDirLights).replace(/NUM_SPOT_LIGHTS/g,Q.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,Q.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,E).replace(/NUM_RECT_AREA_LIGHTS/g,Q.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,Q.numPointLights).replace(/NUM_HEMI_LIGHTS/g,Q.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,Q.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,Q.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,Q.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,Q.numPointLightShadows)}function cD(A,Q){return A.replace(/NUM_CLIPPING_PLANES/g,Q.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,Q.numClippingPlanes-Q.numClipIntersection)}function hR(A){return A.replace(el,Qn)}function Qn(A,Q){let E=R0[Q];if(E===void 0){const B=An.get(Q);if(B!==void 0)E=R0[B],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',Q,B);else throw new Error("Can not resolve #include <"+Q+">")}return hR(E)}function dD(A){return A.replace(En,Bn)}function Bn(A,Q,E,B){let I="";for(let K=parseInt(Q);K<parseInt(E);K++)I+=B.replace(/\[\s*i\s*\]/g,"[ "+K+" ]").replace(/UNROLLED_LOOP_INDEX/g,K);return I}function lD(A){let Q=`precision ${A.precision} float;
	precision ${A.precision} int;
	precision ${A.precision} sampler2D;
	precision ${A.precision} samplerCube;
	precision ${A.precision} sampler3D;
	precision ${A.precision} sampler2DArray;
	precision ${A.precision} sampler2DShadow;
	precision ${A.precision} samplerCubeShadow;
	precision ${A.precision} sampler2DArrayShadow;
	precision ${A.precision} isampler2D;
	precision ${A.precision} isampler3D;
	precision ${A.precision} isamplerCube;
	precision ${A.precision} isampler2DArray;
	precision ${A.precision} usampler2D;
	precision ${A.precision} usampler3D;
	precision ${A.precision} usamplerCube;
	precision ${A.precision} usampler2DArray;
	`;if(A.precision==="highp")Q+="\n#define HIGH_PRECISION";else if(A.precision==="mediump")Q+="\n#define MEDIUM_PRECISION";else if(A.precision==="lowp")Q+="\n#define LOW_PRECISION";return Q}function In(A){let Q="SHADOWMAP_TYPE_BASIC";if(A.shadowMapType===1)Q="SHADOWMAP_TYPE_PCF";else if(A.shadowMapType===2)Q="SHADOWMAP_TYPE_PCF_SOFT";else if(A.shadowMapType===3)Q="SHADOWMAP_TYPE_VSM";return Q}function Kn(A){let Q="ENVMAP_TYPE_CUBE";if(A.envMap)switch(A.envMapMode){case 301:case 302:Q="ENVMAP_TYPE_CUBE";break;case 306:Q="ENVMAP_TYPE_CUBE_UV";break}return Q}function Jn(A){let Q="ENVMAP_MODE_REFLECTION";if(A.envMap)switch(A.envMapMode){case 302:Q="ENVMAP_MODE_REFRACTION";break}return Q}function Cn(A){let Q="ENVMAP_BLENDING_NONE";if(A.envMap)switch(A.combine){case 0:Q="ENVMAP_BLENDING_MULTIPLY";break;case 1:Q="ENVMAP_BLENDING_MIX";break;case 2:Q="ENVMAP_BLENDING_ADD";break}return Q}function Un(A){const Q=A.envMapCubeUVHeight;if(Q===null)return null;const E=Math.log2(Q)-2,B=1/Q;return{texelWidth:1/(3*Math.max(Math.pow(2,E),112)),texelHeight:B,maxMip:E}}function Yn(A,Q,E,B){const I=A.getContext(),K=E.defines;let{vertexShader:J,fragmentShader:C}=E;const U=In(E),Y=Kn(E),H=Jn(E),R=Cn(E),G=Un(E),O=rl(E),F=al(K),q=I.createProgram();let W,Z,$=E.glslVersion?"#version "+E.glslVersion+"\n":"";if(E.isRawShaderMaterial){if(W=["#define SHADER_TYPE "+E.shaderType,"#define SHADER_NAME "+E.shaderName,F].filter(W9).join("\n"),W.length>0)W+="\n";if(Z=["#define SHADER_TYPE "+E.shaderType,"#define SHADER_NAME "+E.shaderName,F].filter(W9).join("\n"),Z.length>0)Z+="\n"}else W=[lD(E),"#define SHADER_TYPE "+E.shaderType,"#define SHADER_NAME "+E.shaderName,F,E.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",E.batching?"#define USE_BATCHING":"",E.batchingColor?"#define USE_BATCHING_COLOR":"",E.instancing?"#define USE_INSTANCING":"",E.instancingColor?"#define USE_INSTANCING_COLOR":"",E.instancingMorph?"#define USE_INSTANCING_MORPH":"",E.useFog&&E.fog?"#define USE_FOG":"",E.useFog&&E.fogExp2?"#define FOG_EXP2":"",E.map?"#define USE_MAP":"",E.envMap?"#define USE_ENVMAP":"",E.envMap?"#define "+H:"",E.lightMap?"#define USE_LIGHTMAP":"",E.aoMap?"#define USE_AOMAP":"",E.bumpMap?"#define USE_BUMPMAP":"",E.normalMap?"#define USE_NORMALMAP":"",E.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",E.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",E.displacementMap?"#define USE_DISPLACEMENTMAP":"",E.emissiveMap?"#define USE_EMISSIVEMAP":"",E.anisotropy?"#define USE_ANISOTROPY":"",E.anisotropyMap?"#define USE_ANISOTROPYMAP":"",E.clearcoatMap?"#define USE_CLEARCOATMAP":"",E.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",E.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",E.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",E.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",E.specularMap?"#define USE_SPECULARMAP":"",E.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",E.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",E.roughnessMap?"#define USE_ROUGHNESSMAP":"",E.metalnessMap?"#define USE_METALNESSMAP":"",E.alphaMap?"#define USE_ALPHAMAP":"",E.alphaHash?"#define USE_ALPHAHASH":"",E.transmission?"#define USE_TRANSMISSION":"",E.transmissionMap?"#define USE_TRANSMISSIONMAP":"",E.thicknessMap?"#define USE_THICKNESSMAP":"",E.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",E.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",E.mapUv?"#define MAP_UV "+E.mapUv:"",E.alphaMapUv?"#define ALPHAMAP_UV "+E.alphaMapUv:"",E.lightMapUv?"#define LIGHTMAP_UV "+E.lightMapUv:"",E.aoMapUv?"#define AOMAP_UV "+E.aoMapUv:"",E.emissiveMapUv?"#define EMISSIVEMAP_UV "+E.emissiveMapUv:"",E.bumpMapUv?"#define BUMPMAP_UV "+E.bumpMapUv:"",E.normalMapUv?"#define NORMALMAP_UV "+E.normalMapUv:"",E.displacementMapUv?"#define DISPLACEMENTMAP_UV "+E.displacementMapUv:"",E.metalnessMapUv?"#define METALNESSMAP_UV "+E.metalnessMapUv:"",E.roughnessMapUv?"#define ROUGHNESSMAP_UV "+E.roughnessMapUv:"",E.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+E.anisotropyMapUv:"",E.clearcoatMapUv?"#define CLEARCOATMAP_UV "+E.clearcoatMapUv:"",E.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+E.clearcoatNormalMapUv:"",E.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+E.clearcoatRoughnessMapUv:"",E.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+E.iridescenceMapUv:"",E.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+E.iridescenceThicknessMapUv:"",E.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+E.sheenColorMapUv:"",E.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+E.sheenRoughnessMapUv:"",E.specularMapUv?"#define SPECULARMAP_UV "+E.specularMapUv:"",E.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+E.specularColorMapUv:"",E.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+E.specularIntensityMapUv:"",E.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+E.transmissionMapUv:"",E.thicknessMapUv?"#define THICKNESSMAP_UV "+E.thicknessMapUv:"",E.vertexTangents&&E.flatShading===!1?"#define USE_TANGENT":"",E.vertexColors?"#define USE_COLOR":"",E.vertexAlphas?"#define USE_COLOR_ALPHA":"",E.vertexUv1s?"#define USE_UV1":"",E.vertexUv2s?"#define USE_UV2":"",E.vertexUv3s?"#define USE_UV3":"",E.pointsUvs?"#define USE_POINTS_UV":"",E.flatShading?"#define FLAT_SHADED":"",E.skinning?"#define USE_SKINNING":"",E.morphTargets?"#define USE_MORPHTARGETS":"",E.morphNormals&&E.flatShading===!1?"#define USE_MORPHNORMALS":"",E.morphColors?"#define USE_MORPHCOLORS":"",E.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+E.morphTextureStride:"",E.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+E.morphTargetsCount:"",E.doubleSided?"#define DOUBLE_SIDED":"",E.flipSided?"#define FLIP_SIDED":"",E.shadowMapEnabled?"#define USE_SHADOWMAP":"",E.shadowMapEnabled?"#define "+U:"",E.sizeAttenuation?"#define USE_SIZEATTENUATION":"",E.numLightProbes>0?"#define USE_LIGHT_PROBES":"",E.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",E.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif","\n"].filter(W9).join("\n"),Z=[lD(E),"#define SHADER_TYPE "+E.shaderType,"#define SHADER_NAME "+E.shaderName,F,E.useFog&&E.fog?"#define USE_FOG":"",E.useFog&&E.fogExp2?"#define FOG_EXP2":"",E.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",E.map?"#define USE_MAP":"",E.matcap?"#define USE_MATCAP":"",E.envMap?"#define USE_ENVMAP":"",E.envMap?"#define "+Y:"",E.envMap?"#define "+H:"",E.envMap?"#define "+R:"",G?"#define CUBEUV_TEXEL_WIDTH "+G.texelWidth:"",G?"#define CUBEUV_TEXEL_HEIGHT "+G.texelHeight:"",G?"#define CUBEUV_MAX_MIP "+G.maxMip+".0":"",E.lightMap?"#define USE_LIGHTMAP":"",E.aoMap?"#define USE_AOMAP":"",E.bumpMap?"#define USE_BUMPMAP":"",E.normalMap?"#define USE_NORMALMAP":"",E.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",E.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",E.emissiveMap?"#define USE_EMISSIVEMAP":"",E.anisotropy?"#define USE_ANISOTROPY":"",E.anisotropyMap?"#define USE_ANISOTROPYMAP":"",E.clearcoat?"#define USE_CLEARCOAT":"",E.clearcoatMap?"#define USE_CLEARCOATMAP":"",E.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",E.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",E.dispersion?"#define USE_DISPERSION":"",E.iridescence?"#define USE_IRIDESCENCE":"",E.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",E.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",E.specularMap?"#define USE_SPECULARMAP":"",E.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",E.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",E.roughnessMap?"#define USE_ROUGHNESSMAP":"",E.metalnessMap?"#define USE_METALNESSMAP":"",E.alphaMap?"#define USE_ALPHAMAP":"",E.alphaTest?"#define USE_ALPHATEST":"",E.alphaHash?"#define USE_ALPHAHASH":"",E.sheen?"#define USE_SHEEN":"",E.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",E.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",E.transmission?"#define USE_TRANSMISSION":"",E.transmissionMap?"#define USE_TRANSMISSIONMAP":"",E.thicknessMap?"#define USE_THICKNESSMAP":"",E.vertexTangents&&E.flatShading===!1?"#define USE_TANGENT":"",E.vertexColors||E.instancingColor||E.batchingColor?"#define USE_COLOR":"",E.vertexAlphas?"#define USE_COLOR_ALPHA":"",E.vertexUv1s?"#define USE_UV1":"",E.vertexUv2s?"#define USE_UV2":"",E.vertexUv3s?"#define USE_UV3":"",E.pointsUvs?"#define USE_POINTS_UV":"",E.gradientMap?"#define USE_GRADIENTMAP":"",E.flatShading?"#define FLAT_SHADED":"",E.doubleSided?"#define DOUBLE_SIDED":"",E.flipSided?"#define FLIP_SIDED":"",E.shadowMapEnabled?"#define USE_SHADOWMAP":"",E.shadowMapEnabled?"#define "+U:"",E.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",E.numLightProbes>0?"#define USE_LIGHT_PROBES":"",E.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",E.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",E.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",E.toneMapping!==0?"#define TONE_MAPPING":"",E.toneMapping!==0?R0.tonemapping_pars_fragment:"",E.toneMapping!==0?il("toneMapping",E.toneMapping):"",E.dithering?"#define DITHERING":"",E.opaque?"#define OPAQUE":"",R0.colorspace_pars_fragment,ol("linearToOutputTexel",E.outputColorSpace),sl(),E.useDepthPacking?"#define DEPTH_PACKING "+E.depthPacking:"","\n"].filter(W9).join("\n");if(J=hR(J),J=mD(J,E),J=cD(J,E),C=hR(C),C=mD(C,E),C=cD(C,E),J=dD(J),C=dD(C),E.isRawShaderMaterial!==!0)$="#version 300 es\n",W=[O,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+W,Z=["#define varying in",E.glslVersion==="300 es"?"":"layout(location = 0) out highp vec4 pc_fragColor;",E.glslVersion==="300 es"?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+Z;const X=$+W+J,N=$+Z+C,M=uD(I,I.VERTEX_SHADER,X),L=uD(I,I.FRAGMENT_SHADER,N);if(I.attachShader(q,M),I.attachShader(q,L),E.index0AttributeName!==void 0)I.bindAttribLocation(q,0,E.index0AttributeName);else if(E.morphTargets===!0)I.bindAttribLocation(q,0,"position");I.linkProgram(q);function D(T){if(A.debug.checkShaderErrors){const S=I.getProgramInfoLog(q).trim(),h=I.getShaderInfoLog(M).trim(),x=I.getShaderInfoLog(L).trim();let y=!0,j=!0;if(I.getProgramParameter(q,I.LINK_STATUS)===!1)if(y=!1,typeof A.debug.onShaderError==="function")A.debug.onShaderError(I,q,M,L);else{const v=pD(I,M,"vertex"),_=pD(I,L,"fragment");console.error("THREE.WebGLProgram: Shader Error "+I.getError()+" - VALIDATE_STATUS "+I.getProgramParameter(q,I.VALIDATE_STATUS)+"\n\nMaterial Name: "+T.name+"\nMaterial Type: "+T.type+"\n\nProgram Info Log: "+S+"\n"+v+"\n"+_)}else if(S!=="")console.warn("THREE.WebGLProgram: Program Info Log:",S);else if(h===""||x==="")j=!1;if(j)T.diagnostics={runnable:y,programLog:S,vertexShader:{log:h,prefix:W},fragmentShader:{log:x,prefix:Z}}}I.deleteShader(M),I.deleteShader(L),w=new F9(I,q),P=tl(I,q)}let w;this.getUniforms=function(){if(w===void 0)D(this);return w};let P;this.getAttributes=function(){if(P===void 0)D(this);return P};let V=E.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){if(V===!1)V=I.getProgramParameter(q,cl);return V},this.destroy=function(){B.releaseStatesOfProgram(this),I.deleteProgram(q),this.program=void 0},this.type=E.shaderType,this.name=E.shaderName,this.id=dl++,this.cacheKey=Q,this.usedTimes=1,this.program=q,this.vertexShader=M,this.fragmentShader=L,this}function Gn(A,Q,E,B,I,K,J){const C=new NK,U=new w3,Y=/*@__PURE__*/new Set,H=[],R=I.logarithmicDepthBuffer,G=I.reverseDepthBuffer,O=I.vertexTextures;let F=I.precision;const q={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function W(V){if(Y.add(V),V===0)return"uv";return`uv${V}`}function Z(V,T,S,h,x){const y=h.fog,j=x.geometry,v=V.isMeshStandardMaterial?h.environment:null,_=(V.isMeshStandardMaterial?E:Q).get(V.envMap||v),g=!!_&&_.mapping===306?_.image.height:null,b=q[V.type];if(V.precision!==null){if(F=I.getMaxPrecision(V.precision),F!==V.precision)console.warn("THREE.WebGLProgram.getParameters:",V.precision,"not supported, using",F,"instead.")}const p=j.morphAttributes.position||j.morphAttributes.normal||j.morphAttributes.color,m=p!==void 0?p.length:0;let o=0;if(j.morphAttributes.position!==void 0)o=1;if(j.morphAttributes.normal!==void 0)o=2;if(j.morphAttributes.color!==void 0)o=3;let AA,s,t,r;if(b){const _1=hQ[b];AA=_1.vertexShader,s=_1.fragmentShader}else AA=V.vertexShader,s=V.fragmentShader,U.update(V),t=U.getVertexShaderID(V),r=U.getFragmentShaderID(V);const EA=A.getRenderTarget(),JA=x.isInstancedMesh===!0,YA=x.isBatchedMesh===!0,IA=!!V.map,l=!!V.matcap,UA=!!_,BA=!!V.aoMap,n=!!V.lightMap,i=!!V.bumpMap,KA=!!V.normalMap,$A=!!V.displacementMap,FA=!!V.emissiveMap,e=!!V.metalnessMap,c=!!V.roughnessMap,HA=V.anisotropy>0,XA=V.clearcoat>0,CA=V.dispersion>0,GA=V.iridescence>0,uA=V.sheen>0,z=V.transmission>0,k=HA&&!!V.anisotropyMap,u=XA&&!!V.clearcoatMap,d=XA&&!!V.clearcoatNormalMap,a=XA&&!!V.clearcoatRoughnessMap,OA=GA&&!!V.iridescenceMap,LA=GA&&!!V.iridescenceThicknessMap,SA=uA&&!!V.sheenColorMap,dA=uA&&!!V.sheenRoughnessMap,yA=!!V.specularMap,lA=!!V.specularColorMap,ZA=!!V.specularIntensityMap,xA=z&&!!V.transmissionMap,TA=z&&!!V.thicknessMap,kA=!!V.gradientMap,oA=!!V.alphaMap,iA=V.alphaTest>0,q0=!!V.alphaHash,WQ=!!V.extensions;let tQ=0;if(V.toneMapped){if(EA===null||EA.isXRRenderTarget===!0)tQ=A.toneMapping}const b0={shaderID:b,shaderType:V.type,shaderName:V.name,vertexShader:AA,fragmentShader:s,defines:V.defines,customVertexShaderID:t,customFragmentShaderID:r,isRawShaderMaterial:V.isRawShaderMaterial===!0,glslVersion:V.glslVersion,precision:F,batching:YA,batchingColor:YA&&x._colorsTexture!==null,instancing:JA,instancingColor:JA&&x.instanceColor!==null,instancingMorph:JA&&x.morphTexture!==null,supportsVertexTextures:O,outputColorSpace:EA===null?A.outputColorSpace:EA.isXRRenderTarget===!0?EA.texture.colorSpace:"srgb-linear",alphaToCoverage:!!V.alphaToCoverage,map:IA,matcap:l,envMap:UA,envMapMode:UA&&_.mapping,envMapCubeUVHeight:g,aoMap:BA,lightMap:n,bumpMap:i,normalMap:KA,displacementMap:O&&$A,emissiveMap:FA,normalMapObjectSpace:KA&&V.normalMapType===1,normalMapTangentSpace:KA&&V.normalMapType===0,metalnessMap:e,roughnessMap:c,anisotropy:HA,anisotropyMap:k,clearcoat:XA,clearcoatMap:u,clearcoatNormalMap:d,clearcoatRoughnessMap:a,dispersion:CA,iridescence:GA,iridescenceMap:OA,iridescenceThicknessMap:LA,sheen:uA,sheenColorMap:SA,sheenRoughnessMap:dA,specularMap:yA,specularColorMap:lA,specularIntensityMap:ZA,transmission:z,transmissionMap:xA,thicknessMap:TA,gradientMap:kA,opaque:V.transparent===!1&&V.blending===1&&V.alphaToCoverage===!1,alphaMap:oA,alphaTest:iA,alphaHash:q0,combine:V.combine,mapUv:IA&&W(V.map.channel),aoMapUv:BA&&W(V.aoMap.channel),lightMapUv:n&&W(V.lightMap.channel),bumpMapUv:i&&W(V.bumpMap.channel),normalMapUv:KA&&W(V.normalMap.channel),displacementMapUv:$A&&W(V.displacementMap.channel),emissiveMapUv:FA&&W(V.emissiveMap.channel),metalnessMapUv:e&&W(V.metalnessMap.channel),roughnessMapUv:c&&W(V.roughnessMap.channel),anisotropyMapUv:k&&W(V.anisotropyMap.channel),clearcoatMapUv:u&&W(V.clearcoatMap.channel),clearcoatNormalMapUv:d&&W(V.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:a&&W(V.clearcoatRoughnessMap.channel),iridescenceMapUv:OA&&W(V.iridescenceMap.channel),iridescenceThicknessMapUv:LA&&W(V.iridescenceThicknessMap.channel),sheenColorMapUv:SA&&W(V.sheenColorMap.channel),sheenRoughnessMapUv:dA&&W(V.sheenRoughnessMap.channel),specularMapUv:yA&&W(V.specularMap.channel),specularColorMapUv:lA&&W(V.specularColorMap.channel),specularIntensityMapUv:ZA&&W(V.specularIntensityMap.channel),transmissionMapUv:xA&&W(V.transmissionMap.channel),thicknessMapUv:TA&&W(V.thicknessMap.channel),alphaMapUv:oA&&W(V.alphaMap.channel),vertexTangents:!!j.attributes.tangent&&(KA||HA),vertexColors:V.vertexColors,vertexAlphas:V.vertexColors===!0&&!!j.attributes.color&&j.attributes.color.itemSize===4,pointsUvs:x.isPoints===!0&&!!j.attributes.uv&&(IA||oA),fog:!!y,useFog:V.fog===!0,fogExp2:!!y&&y.isFogExp2,flatShading:V.flatShading===!0,sizeAttenuation:V.sizeAttenuation===!0,logarithmicDepthBuffer:R,reverseDepthBuffer:G,skinning:x.isSkinnedMesh===!0,morphTargets:j.morphAttributes.position!==void 0,morphNormals:j.morphAttributes.normal!==void 0,morphColors:j.morphAttributes.color!==void 0,morphTargetsCount:m,morphTextureStride:o,numDirLights:T.directional.length,numPointLights:T.point.length,numSpotLights:T.spot.length,numSpotLightMaps:T.spotLightMap.length,numRectAreaLights:T.rectArea.length,numHemiLights:T.hemi.length,numDirLightShadows:T.directionalShadowMap.length,numPointLightShadows:T.pointShadowMap.length,numSpotLightShadows:T.spotShadowMap.length,numSpotLightShadowsWithMaps:T.numSpotLightShadowsWithMaps,numLightProbes:T.numLightProbes,numClippingPlanes:J.numPlanes,numClipIntersection:J.numIntersection,dithering:V.dithering,shadowMapEnabled:A.shadowMap.enabled&&S.length>0,shadowMapType:A.shadowMap.type,toneMapping:tQ,decodeVideoTexture:IA&&V.map.isVideoTexture===!0&&D0.getTransfer(V.map.colorSpace)==="srgb",premultipliedAlpha:V.premultipliedAlpha,doubleSided:V.side===2,flipSided:V.side===1,useDepthPacking:V.depthPacking>=0,depthPacking:V.depthPacking||0,index0AttributeName:V.index0AttributeName,extensionClipCullDistance:WQ&&V.extensions.clipCullDistance===!0&&B.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(WQ&&V.extensions.multiDraw===!0||YA)&&B.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:B.has("KHR_parallel_shader_compile"),customProgramCacheKey:V.customProgramCacheKey()};return b0.vertexUv1s=Y.has(1),b0.vertexUv2s=Y.has(2),b0.vertexUv3s=Y.has(3),Y.clear(),b0}function $(V){const T=[];if(V.shaderID)T.push(V.shaderID);else T.push(V.customVertexShaderID),T.push(V.customFragmentShaderID);if(V.defines!==void 0)for(let S in V.defines)T.push(S),T.push(V.defines[S]);if(V.isRawShaderMaterial===!1)X(T,V),N(T,V),T.push(A.outputColorSpace);return T.push(V.customProgramCacheKey),T.join()}function X(V,T){V.push(T.precision),V.push(T.outputColorSpace),V.push(T.envMapMode),V.push(T.envMapCubeUVHeight),V.push(T.mapUv),V.push(T.alphaMapUv),V.push(T.lightMapUv),V.push(T.aoMapUv),V.push(T.bumpMapUv),V.push(T.normalMapUv),V.push(T.displacementMapUv),V.push(T.emissiveMapUv),V.push(T.metalnessMapUv),V.push(T.roughnessMapUv),V.push(T.anisotropyMapUv),V.push(T.clearcoatMapUv),V.push(T.clearcoatNormalMapUv),V.push(T.clearcoatRoughnessMapUv),V.push(T.iridescenceMapUv),V.push(T.iridescenceThicknessMapUv),V.push(T.sheenColorMapUv),V.push(T.sheenRoughnessMapUv),V.push(T.specularMapUv),V.push(T.specularColorMapUv),V.push(T.specularIntensityMapUv),V.push(T.transmissionMapUv),V.push(T.thicknessMapUv),V.push(T.combine),V.push(T.fogExp2),V.push(T.sizeAttenuation),V.push(T.morphTargetsCount),V.push(T.morphAttributeCount),V.push(T.numDirLights),V.push(T.numPointLights),V.push(T.numSpotLights),V.push(T.numSpotLightMaps),V.push(T.numHemiLights),V.push(T.numRectAreaLights),V.push(T.numDirLightShadows),V.push(T.numPointLightShadows),V.push(T.numSpotLightShadows),V.push(T.numSpotLightShadowsWithMaps),V.push(T.numLightProbes),V.push(T.shadowMapType),V.push(T.toneMapping),V.push(T.numClippingPlanes),V.push(T.numClipIntersection),V.push(T.depthPacking)}function N(V,T){if(C.disableAll(),T.supportsVertexTextures)C.enable(0);if(T.instancing)C.enable(1);if(T.instancingColor)C.enable(2);if(T.instancingMorph)C.enable(3);if(T.matcap)C.enable(4);if(T.envMap)C.enable(5);if(T.normalMapObjectSpace)C.enable(6);if(T.normalMapTangentSpace)C.enable(7);if(T.clearcoat)C.enable(8);if(T.iridescence)C.enable(9);if(T.alphaTest)C.enable(10);if(T.vertexColors)C.enable(11);if(T.vertexAlphas)C.enable(12);if(T.vertexUv1s)C.enable(13);if(T.vertexUv2s)C.enable(14);if(T.vertexUv3s)C.enable(15);if(T.vertexTangents)C.enable(16);if(T.anisotropy)C.enable(17);if(T.alphaHash)C.enable(18);if(T.batching)C.enable(19);if(T.dispersion)C.enable(20);if(T.batchingColor)C.enable(21);if(V.push(C.mask),C.disableAll(),T.fog)C.enable(0);if(T.useFog)C.enable(1);if(T.flatShading)C.enable(2);if(T.logarithmicDepthBuffer)C.enable(3);if(T.reverseDepthBuffer)C.enable(4);if(T.skinning)C.enable(5);if(T.morphTargets)C.enable(6);if(T.morphNormals)C.enable(7);if(T.morphColors)C.enable(8);if(T.premultipliedAlpha)C.enable(9);if(T.shadowMapEnabled)C.enable(10);if(T.doubleSided)C.enable(11);if(T.flipSided)C.enable(12);if(T.useDepthPacking)C.enable(13);if(T.dithering)C.enable(14);if(T.transmission)C.enable(15);if(T.sheen)C.enable(16);if(T.opaque)C.enable(17);if(T.pointsUvs)C.enable(18);if(T.decodeVideoTexture)C.enable(19);if(T.alphaToCoverage)C.enable(20);V.push(C.mask)}function M(V){const T=q[V.type];let S;if(T){const h=hQ[T];S=rA.clone(h.uniforms)}else S=V.uniforms;return S}function L(V,T){let S;for(let h=0,x=H.length;h<x;h++){const y=H[h];if(y.cacheKey===T){S=y,++S.usedTimes;break}}if(S===void 0)S=new Yn(A,T,V,K),H.push(S);return S}function D(V){if(--V.usedTimes===0){const T=H.indexOf(V);H[T]=H[H.length-1],H.pop(),V.destroy()}}function w(V){U.remove(V)}function P(){U.dispose()}return{getParameters:Z,getProgramCacheKey:$,getUniforms:M,acquireProgram:L,releaseProgram:D,releaseShaderCache:w,programs:H,dispose:P}}function Zn(){let A=/*@__PURE__*/new WeakMap;function Q(J){return A.has(J)}function E(J){let C=A.get(J);if(C===void 0)C={},A.set(J,C);return C}function B(J){A.delete(J)}function I(J,C,U){A.get(J)[C]=U}function K(){A=/*@__PURE__*/new WeakMap}return{has:Q,get:E,remove:B,update:I,dispose:K}}function Rn(A,Q){if(A.groupOrder!==Q.groupOrder)return A.groupOrder-Q.groupOrder;else if(A.renderOrder!==Q.renderOrder)return A.renderOrder-Q.renderOrder;else if(A.material.id!==Q.material.id)return A.material.id-Q.material.id;else if(A.z!==Q.z)return A.z-Q.z;else return A.id-Q.id}function nD(A,Q){if(A.groupOrder!==Q.groupOrder)return A.groupOrder-Q.groupOrder;else if(A.renderOrder!==Q.renderOrder)return A.renderOrder-Q.renderOrder;else if(A.z!==Q.z)return Q.z-A.z;else return A.id-Q.id}function oD(){const A=[];let Q=0;const E=[],B=[],I=[];function K(){Q=0,E.length=0,B.length=0,I.length=0}function J(R,G,O,F,q,W){let Z=A[Q];if(Z===void 0)Z={id:R.id,object:R,geometry:G,material:O,groupOrder:F,renderOrder:R.renderOrder,z:q,group:W},A[Q]=Z;else Z.id=R.id,Z.object=R,Z.geometry=G,Z.material=O,Z.groupOrder=F,Z.renderOrder=R.renderOrder,Z.z=q,Z.group=W;return Q++,Z}function C(R,G,O,F,q,W){const Z=J(R,G,O,F,q,W);if(O.transmission>0)B.push(Z);else if(O.transparent===!0)I.push(Z);else E.push(Z)}function U(R,G,O,F,q,W){const Z=J(R,G,O,F,q,W);if(O.transmission>0)B.unshift(Z);else if(O.transparent===!0)I.unshift(Z);else E.unshift(Z)}function Y(R,G){if(E.length>1)E.sort(R||Rn);if(B.length>1)B.sort(G||nD);if(I.length>1)I.sort(G||nD)}function H(){for(let R=Q,G=A.length;R<G;R++){const O=A[R];if(O.id===null)break;O.id=null,O.object=null,O.geometry=null,O.material=null,O.group=null}}return{opaque:E,transmissive:B,transparent:I,init:K,push:C,unshift:U,finish:H,sort:Y}}function On(){let A=/*@__PURE__*/new WeakMap;function Q(B,I){const K=A.get(B);let J;if(K===void 0)J=new oD,A.set(B,[J]);else if(I>=K.length)J=new oD,K.push(J);else J=K[I];return J}function E(){A=/*@__PURE__*/new WeakMap}return{get:Q,dispose:E}}function $n(){const A={};return{get:function(Q){if(A[Q.id]!==void 0)return A[Q.id];let E;switch(Q.type){case"DirectionalLight":E={direction:new f,color:new WA};break;case"SpotLight":E={position:new f,direction:new f,color:new WA,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":E={position:new f,color:new WA,distance:0,decay:0};break;case"HemisphereLight":E={direction:new f,skyColor:new WA,groundColor:new WA};break;case"RectAreaLight":E={color:new WA,position:new f,halfWidth:new f,halfHeight:new f};break}return A[Q.id]=E,E}}}function Wn(){const A={};return{get:function(Q){if(A[Q.id]!==void 0)return A[Q.id];let E;switch(Q.type){case"DirectionalLight":E={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new RA};break;case"SpotLight":E={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new RA};break;case"PointLight":E={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new RA,shadowCameraNear:1,shadowCameraFar:1000};break}return A[Q.id]=E,E}}}function Fn(A,Q){return(Q.castShadow?2:0)-(A.castShadow?2:0)+(Q.map?1:0)-(A.map?1:0)}function qn(A){const Q=new $n,E=Wn(),B={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let Y=0;Y<9;Y++)B.probe.push(new f);const I=new f,K=new MA,J=new MA;function C(Y){let H=0,R=0,G=0;for(let P=0;P<9;P++)B.probe[P].set(0,0,0);let O=0,F=0,q=0,W=0,Z=0,$=0,X=0,N=0,M=0,L=0,D=0;Y.sort(Fn);for(let P=0,V=Y.length;P<V;P++){const T=Y[P],S=T.color,h=T.intensity,x=T.distance,y=T.shadow&&T.shadow.map?T.shadow.map.texture:null;if(T.isAmbientLight)H+=S.r*h,R+=S.g*h,G+=S.b*h;else if(T.isLightProbe){for(let j=0;j<9;j++)B.probe[j].addScaledVector(T.sh.coefficients[j],h);D++}else if(T.isDirectionalLight){const j=Q.get(T);if(j.color.copy(T.color).multiplyScalar(T.intensity),T.castShadow){const v=T.shadow,_=E.get(T);_.shadowIntensity=v.intensity,_.shadowBias=v.bias,_.shadowNormalBias=v.normalBias,_.shadowRadius=v.radius,_.shadowMapSize=v.mapSize,B.directionalShadow[O]=_,B.directionalShadowMap[O]=y,B.directionalShadowMatrix[O]=T.shadow.matrix,$++}B.directional[O]=j,O++}else if(T.isSpotLight){const j=Q.get(T);j.position.setFromMatrixPosition(T.matrixWorld),j.color.copy(S).multiplyScalar(h),j.distance=x,j.coneCos=Math.cos(T.angle),j.penumbraCos=Math.cos(T.angle*(1-T.penumbra)),j.decay=T.decay,B.spot[q]=j;const v=T.shadow;if(T.map){if(B.spotLightMap[M]=T.map,M++,v.updateMatrices(T),T.castShadow)L++}if(B.spotLightMatrix[q]=v.matrix,T.castShadow){const _=E.get(T);_.shadowIntensity=v.intensity,_.shadowBias=v.bias,_.shadowNormalBias=v.normalBias,_.shadowRadius=v.radius,_.shadowMapSize=v.mapSize,B.spotShadow[q]=_,B.spotShadowMap[q]=y,N++}q++}else if(T.isRectAreaLight){const j=Q.get(T);j.color.copy(S).multiplyScalar(h),j.halfWidth.set(T.width*0.5,0,0),j.halfHeight.set(0,T.height*0.5,0),B.rectArea[W]=j,W++}else if(T.isPointLight){const j=Q.get(T);if(j.color.copy(T.color).multiplyScalar(T.intensity),j.distance=T.distance,j.decay=T.decay,T.castShadow){const v=T.shadow,_=E.get(T);_.shadowIntensity=v.intensity,_.shadowBias=v.bias,_.shadowNormalBias=v.normalBias,_.shadowRadius=v.radius,_.shadowMapSize=v.mapSize,_.shadowCameraNear=v.camera.near,_.shadowCameraFar=v.camera.far,B.pointShadow[F]=_,B.pointShadowMap[F]=y,B.pointShadowMatrix[F]=T.shadow.matrix,X++}B.point[F]=j,F++}else if(T.isHemisphereLight){const j=Q.get(T);j.skyColor.copy(T.color).multiplyScalar(h),j.groundColor.copy(T.groundColor).multiplyScalar(h),B.hemi[Z]=j,Z++}}if(W>0)if(A.has("OES_texture_float_linear")===!0)B.rectAreaLTC1=fA.LTC_FLOAT_1,B.rectAreaLTC2=fA.LTC_FLOAT_2;else B.rectAreaLTC1=fA.LTC_HALF_1,B.rectAreaLTC2=fA.LTC_HALF_2;B.ambient[0]=H,B.ambient[1]=R,B.ambient[2]=G;const w=B.hash;if(w.directionalLength!==O||w.pointLength!==F||w.spotLength!==q||w.rectAreaLength!==W||w.hemiLength!==Z||w.numDirectionalShadows!==$||w.numPointShadows!==X||w.numSpotShadows!==N||w.numSpotMaps!==M||w.numLightProbes!==D)B.directional.length=O,B.spot.length=q,B.rectArea.length=W,B.point.length=F,B.hemi.length=Z,B.directionalShadow.length=$,B.directionalShadowMap.length=$,B.pointShadow.length=X,B.pointShadowMap.length=X,B.spotShadow.length=N,B.spotShadowMap.length=N,B.directionalShadowMatrix.length=$,B.pointShadowMatrix.length=X,B.spotLightMatrix.length=N+M-L,B.spotLightMap.length=M,B.numSpotLightShadowsWithMaps=L,B.numLightProbes=D,w.directionalLength=O,w.pointLength=F,w.spotLength=q,w.rectAreaLength=W,w.hemiLength=Z,w.numDirectionalShadows=$,w.numPointShadows=X,w.numSpotShadows=N,w.numSpotMaps=M,w.numLightProbes=D,B.version=Xn++}function U(Y,H){let R=0,G=0,O=0,F=0,q=0;const W=H.matrixWorldInverse;for(let Z=0,$=Y.length;Z<$;Z++){const X=Y[Z];if(X.isDirectionalLight){const N=B.directional[R];N.direction.setFromMatrixPosition(X.matrixWorld),I.setFromMatrixPosition(X.target.matrixWorld),N.direction.sub(I),N.direction.transformDirection(W),R++}else if(X.isSpotLight){const N=B.spot[O];N.position.setFromMatrixPosition(X.matrixWorld),N.position.applyMatrix4(W),N.direction.setFromMatrixPosition(X.matrixWorld),I.setFromMatrixPosition(X.target.matrixWorld),N.direction.sub(I),N.direction.transformDirection(W),O++}else if(X.isRectAreaLight){const N=B.rectArea[F];N.position.setFromMatrixPosition(X.matrixWorld),N.position.applyMatrix4(W),J.identity(),K.copy(X.matrixWorld),K.premultiply(W),J.extractRotation(K),N.halfWidth.set(X.width*0.5,0,0),N.halfHeight.set(0,X.height*0.5,0),N.halfWidth.applyMatrix4(J),N.halfHeight.applyMatrix4(J),F++}else if(X.isPointLight){const N=B.point[G];N.position.setFromMatrixPosition(X.matrixWorld),N.position.applyMatrix4(W),G++}else if(X.isHemisphereLight){const N=B.hemi[q];N.direction.setFromMatrixPosition(X.matrixWorld),N.direction.transformDirection(W),q++}}}return{setup:C,setupView:U,state:B}}function iD(A){const Q=new qn(A),E=[],B=[];function I(H){Y.camera=H,E.length=0,B.length=0}function K(H){E.push(H)}function J(H){B.push(H)}function C(){Q.setup(E)}function U(H){Q.setupView(E,H)}const Y={lightsArray:E,shadowsArray:B,camera:null,lights:Q,transmissionRenderTarget:{}};return{init:I,state:Y,setupLights:C,setupLightsView:U,pushLight:K,pushShadow:J}}function Nn(A){let Q=/*@__PURE__*/new WeakMap;function E(I,K=0){const J=Q.get(I);let C;if(J===void 0)C=new iD(A),Q.set(I,[C]);else if(K>=J.length)C=new iD(A),J.push(C);else C=J[K];return C}function B(){Q=/*@__PURE__*/new WeakMap}return{get:E,dispose:B}}function Mn(A,Q,E){let B=new m8;const I=new RA,K=new RA,J=new gA,C=new nI({depthPacking:3201}),U=new b5,Y={},H=E.maxTextureSize,R={[0]:1,[1]:0,[2]:2},G=new cA({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new RA},radius:{value:4}},vertexShader:Ln,fragmentShader:Dn}),O=G.clone();O.defines.HORIZONTAL_PASS=1;const F=new pA;F.setAttribute("position",new E0(new Float32Array([-1,-1,0.5,3,-1,0.5,-1,3,0.5]),3));const q=new mA(F,G),W=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1;let Z=this.type;this.render=function(L,D,w){if(W.enabled===!1)return;if(W.autoUpdate===!1&&W.needsUpdate===!1)return;if(L.length===0)return;const P=A.getRenderTarget(),V=A.getActiveCubeFace(),T=A.getActiveMipmapLevel(),S=A.state;S.setBlending(0),S.buffers.color.setClear(1,1,1,1),S.buffers.depth.setTest(!0),S.setScissorTest(!1);const h=Z!==3&&this.type===3,x=Z===3&&this.type!==3;for(let y=0,j=L.length;y<j;y++){const v=L[y],_=v.shadow;if(_===void 0){console.warn("THREE.WebGLShadowMap:",v,"has no shadow.");continue}if(_.autoUpdate===!1&&_.needsUpdate===!1)continue;I.copy(_.mapSize);const g=_.getFrameExtents();if(I.multiply(g),K.copy(_.mapSize),I.x>H||I.y>H){if(I.x>H)K.x=Math.floor(H/g.x),I.x=K.x*g.x,_.mapSize.x=K.x;if(I.y>H)K.y=Math.floor(H/g.y),I.y=K.y*g.y,_.mapSize.y=K.y}if(_.map===null||h===!0||x===!0){const p=this.type!==3?{minFilter:1003,magFilter:1003}:{};if(_.map!==null)_.map.dispose();_.map=new B0(I.x,I.y,p),_.map.texture.name=v.name+".shadowMap",_.camera.updateProjectionMatrix()}A.setRenderTarget(_.map),A.clear();const b=_.getViewportCount();for(let p=0;p<b;p++){const m=_.getViewport(p);J.set(K.x*m.x,K.y*m.y,K.x*m.z,K.y*m.w),S.viewport(J),_.updateMatrices(v,p),B=_.getFrustum(),N(D,w,_.camera,v,this.type)}if(_.isPointLightShadow!==!0&&this.type===3)$(_,w);_.needsUpdate=!1}Z=this.type,W.needsUpdate=!1,A.setRenderTarget(P,V,T)};function $(L,D){const w=Q.update(q);if(G.defines.VSM_SAMPLES!==L.blurSamples)G.defines.VSM_SAMPLES=L.blurSamples,O.defines.VSM_SAMPLES=L.blurSamples,G.needsUpdate=!0,O.needsUpdate=!0;if(L.mapPass===null)L.mapPass=new B0(I.x,I.y);G.uniforms.shadow_pass.value=L.map.texture,G.uniforms.resolution.value=L.mapSize,G.uniforms.radius.value=L.radius,A.setRenderTarget(L.mapPass),A.clear(),A.renderBufferDirect(D,null,w,G,q,null),O.uniforms.shadow_pass.value=L.mapPass.texture,O.uniforms.resolution.value=L.mapSize,O.uniforms.radius.value=L.radius,A.setRenderTarget(L.map),A.clear(),A.renderBufferDirect(D,null,w,O,q,null)}function X(L,D,w,P){let V=null;const T=w.isPointLight===!0?L.customDistanceMaterial:L.customDepthMaterial;if(T!==void 0)V=T;else if(V=w.isPointLight===!0?U:C,A.localClippingEnabled&&D.clipShadows===!0&&Array.isArray(D.clippingPlanes)&&D.clippingPlanes.length!==0||D.displacementMap&&D.displacementScale!==0||D.alphaMap&&D.alphaTest>0||D.map&&D.alphaTest>0){const S=V.uuid,h=D.uuid;let x=Y[S];if(x===void 0)x={},Y[S]=x;let y=x[h];if(y===void 0)y=V.clone(),x[h]=y,D.addEventListener("dispose",M);V=y}if(V.visible=D.visible,V.wireframe=D.wireframe,P===3)V.side=D.shadowSide!==null?D.shadowSide:D.side;else V.side=D.shadowSide!==null?D.shadowSide:R[D.side];if(V.alphaMap=D.alphaMap,V.alphaTest=D.alphaTest,V.map=D.map,V.clipShadows=D.clipShadows,V.clippingPlanes=D.clippingPlanes,V.clipIntersection=D.clipIntersection,V.displacementMap=D.displacementMap,V.displacementScale=D.displacementScale,V.displacementBias=D.displacementBias,V.wireframeLinewidth=D.wireframeLinewidth,V.linewidth=D.linewidth,w.isPointLight===!0&&V.isMeshDistanceMaterial===!0){const S=A.properties.get(V);S.light=w}return V}function N(L,D,w,P,V){if(L.visible===!1)return;if(L.layers.test(D.layers)&&(L.isMesh||L.isLine||L.isPoints)){if((L.castShadow||L.receiveShadow&&V===3)&&(!L.frustumCulled||B.intersectsObject(L))){L.modelViewMatrix.multiplyMatrices(w.matrixWorldInverse,L.matrixWorld);const h=Q.update(L),x=L.material;if(Array.isArray(x)){const y=h.groups;for(let j=0,v=y.length;j<v;j++){const _=y[j],g=x[_.materialIndex];if(g&&g.visible){const b=X(L,g,P,V);L.onBeforeShadow(A,L,D,w,h,b,_),A.renderBufferDirect(w,null,h,b,L,_),L.onAfterShadow(A,L,D,w,h,b,_)}}}else if(x.visible){const y=X(L,x,P,V);L.onBeforeShadow(A,L,D,w,h,y,null),A.renderBufferDirect(w,null,h,y,L,null),L.onAfterShadow(A,L,D,w,h,y,null)}}}const S=L.children;for(let h=0,x=S.length;h<x;h++)N(S[h],D,w,P,V)}function M(L){L.target.removeEventListener("dispose",M);for(let w in Y){const P=Y[w],V=L.target.uuid;if(V in P)P[V].dispose(),delete P[V]}}}function zn(A){function Q(){let ZA=!1;const xA=new gA;let TA=null;const kA=new gA(0,0,0,0);return{setMask:function(oA){if(TA!==oA&&!ZA)A.colorMask(oA,oA,oA,oA),TA=oA},setLocked:function(oA){ZA=oA},setClear:function(oA,iA,q0,WQ,tQ){if(tQ===!0)oA*=WQ,iA*=WQ,q0*=WQ;if(xA.set(oA,iA,q0,WQ),kA.equals(xA)===!1)A.clearColor(oA,iA,q0,WQ),kA.copy(xA)},reset:function(){ZA=!1,TA=null,kA.set(-1,0,0,0)}}}function E(){let ZA=!1,xA=!1,TA=null,kA=null,oA=null;return{setReversed:function(iA){xA=iA},setTest:function(iA){if(iA)t(A.DEPTH_TEST);else r(A.DEPTH_TEST)},setMask:function(iA){if(TA!==iA&&!ZA)A.depthMask(iA),TA=iA},setFunc:function(iA){if(xA)iA=wn[iA];if(kA!==iA){switch(iA){case 0:A.depthFunc(A.NEVER);break;case 1:A.depthFunc(A.ALWAYS);break;case 2:A.depthFunc(A.LESS);break;case 3:A.depthFunc(A.LEQUAL);break;case 4:A.depthFunc(A.EQUAL);break;case 5:A.depthFunc(A.GEQUAL);break;case 6:A.depthFunc(A.GREATER);break;case 7:A.depthFunc(A.NOTEQUAL);break;default:A.depthFunc(A.LEQUAL)}kA=iA}},setLocked:function(iA){ZA=iA},setClear:function(iA){if(oA!==iA)A.clearDepth(iA),oA=iA},reset:function(){ZA=!1,TA=null,kA=null,oA=null}}}function B(){let ZA=!1,xA=null,TA=null,kA=null,oA=null,iA=null,q0=null,WQ=null,tQ=null;return{setTest:function(b0){if(!ZA)if(b0)t(A.STENCIL_TEST);else r(A.STENCIL_TEST)},setMask:function(b0){if(xA!==b0&&!ZA)A.stencilMask(b0),xA=b0},setFunc:function(b0,_1,QE){if(TA!==b0||kA!==_1||oA!==QE)A.stencilFunc(b0,_1,QE),TA=b0,kA=_1,oA=QE},setOp:function(b0,_1,QE){if(iA!==b0||q0!==_1||WQ!==QE)A.stencilOp(b0,_1,QE),iA=b0,q0=_1,WQ=QE},setLocked:function(b0){ZA=b0},setClear:function(b0){if(tQ!==b0)A.clearStencil(b0),tQ=b0},reset:function(){ZA=!1,xA=null,TA=null,kA=null,oA=null,iA=null,q0=null,WQ=null,tQ=null}}}const I=new Q,K=new E,J=new B,C=/*@__PURE__*/new WeakMap,U=/*@__PURE__*/new WeakMap;let Y={},H={},R=/*@__PURE__*/new WeakMap,G=[],O=null,F=!1,q=null,W=null,Z=null,$=null,X=null,N=null,M=null,L=new WA(0,0,0),D=0,w=!1,P=null,V=null,T=null,S=null,h=null;const x=A.getParameter(A.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let y=!1,j=0;const v=A.getParameter(A.VERSION);if(v.indexOf("WebGL")!==-1)j=parseFloat(/^WebGL (\d)/.exec(v)[1]),y=j>=1;else if(v.indexOf("OpenGL ES")!==-1)j=parseFloat(/^OpenGL ES (\d)/.exec(v)[1]),y=j>=2;let _=null,g={};const b=A.getParameter(A.SCISSOR_BOX),p=A.getParameter(A.VIEWPORT),m=new gA().fromArray(b),o=new gA().fromArray(p);function AA(ZA,xA,TA,kA){const oA=new Uint8Array(4),iA=A.createTexture();A.bindTexture(ZA,iA),A.texParameteri(ZA,A.TEXTURE_MIN_FILTER,A.NEAREST),A.texParameteri(ZA,A.TEXTURE_MAG_FILTER,A.NEAREST);for(let q0=0;q0<TA;q0++)if(ZA===A.TEXTURE_3D||ZA===A.TEXTURE_2D_ARRAY)A.texImage3D(xA,0,A.RGBA,1,1,kA,0,A.RGBA,A.UNSIGNED_BYTE,oA);else A.texImage2D(xA+q0,0,A.RGBA,1,1,0,A.RGBA,A.UNSIGNED_BYTE,oA);return iA}const s={};s[A.TEXTURE_2D]=AA(A.TEXTURE_2D,A.TEXTURE_2D,1),s[A.TEXTURE_CUBE_MAP]=AA(A.TEXTURE_CUBE_MAP,A.TEXTURE_CUBE_MAP_POSITIVE_X,6),s[A.TEXTURE_2D_ARRAY]=AA(A.TEXTURE_2D_ARRAY,A.TEXTURE_2D_ARRAY,1,1),s[A.TEXTURE_3D]=AA(A.TEXTURE_3D,A.TEXTURE_3D,1,1),I.setClear(0,0,0,1),K.setClear(1),J.setClear(0),t(A.DEPTH_TEST),K.setFunc(3),n(!1),i(1),t(A.CULL_FACE),UA(0);function t(ZA){if(Y[ZA]!==!0)A.enable(ZA),Y[ZA]=!0}function r(ZA){if(Y[ZA]!==!1)A.disable(ZA),Y[ZA]=!1}function EA(ZA,xA){if(H[ZA]!==xA){if(A.bindFramebuffer(ZA,xA),H[ZA]=xA,ZA===A.DRAW_FRAMEBUFFER)H[A.FRAMEBUFFER]=xA;if(ZA===A.FRAMEBUFFER)H[A.DRAW_FRAMEBUFFER]=xA;return!0}return!1}function JA(ZA,xA){let TA=G,kA=!1;if(ZA){if(TA=R.get(xA),TA===void 0)TA=[],R.set(xA,TA);const oA=ZA.textures;if(TA.length!==oA.length||TA[0]!==A.COLOR_ATTACHMENT0){for(let iA=0,q0=oA.length;iA<q0;iA++)TA[iA]=A.COLOR_ATTACHMENT0+iA;TA.length=oA.length,kA=!0}}else if(TA[0]!==A.BACK)TA[0]=A.BACK,kA=!0;if(kA)A.drawBuffers(TA)}function YA(ZA){if(O!==ZA)return A.useProgram(ZA),O=ZA,!0;return!1}const IA={[100]:A.FUNC_ADD,[101]:A.FUNC_SUBTRACT,[102]:A.FUNC_REVERSE_SUBTRACT};IA[103]=A.MIN,IA[104]=A.MAX;const l={[200]:A.ZERO,[201]:A.ONE,[202]:A.SRC_COLOR,[204]:A.SRC_ALPHA,[210]:A.SRC_ALPHA_SATURATE,[208]:A.DST_COLOR,[206]:A.DST_ALPHA,[203]:A.ONE_MINUS_SRC_COLOR,[205]:A.ONE_MINUS_SRC_ALPHA,[209]:A.ONE_MINUS_DST_COLOR,[207]:A.ONE_MINUS_DST_ALPHA,[211]:A.CONSTANT_COLOR,[212]:A.ONE_MINUS_CONSTANT_COLOR,[213]:A.CONSTANT_ALPHA,[214]:A.ONE_MINUS_CONSTANT_ALPHA};function UA(ZA,xA,TA,kA,oA,iA,q0,WQ,tQ,b0){if(ZA===0){if(F===!0)r(A.BLEND),F=!1;return}if(F===!1)t(A.BLEND),F=!0;if(ZA!==5){if(ZA!==q||b0!==w){if(W!==100||X!==100)A.blendEquation(A.FUNC_ADD),W=100,X=100;if(b0)switch(ZA){case 1:A.blendFuncSeparate(A.ONE,A.ONE_MINUS_SRC_ALPHA,A.ONE,A.ONE_MINUS_SRC_ALPHA);break;case 2:A.blendFunc(A.ONE,A.ONE);break;case 3:A.blendFuncSeparate(A.ZERO,A.ONE_MINUS_SRC_COLOR,A.ZERO,A.ONE);break;case 4:A.blendFuncSeparate(A.ZERO,A.SRC_COLOR,A.ZERO,A.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ZA);break}else switch(ZA){case 1:A.blendFuncSeparate(A.SRC_ALPHA,A.ONE_MINUS_SRC_ALPHA,A.ONE,A.ONE_MINUS_SRC_ALPHA);break;case 2:A.blendFunc(A.SRC_ALPHA,A.ONE);break;case 3:A.blendFuncSeparate(A.ZERO,A.ONE_MINUS_SRC_COLOR,A.ZERO,A.ONE);break;case 4:A.blendFunc(A.ZERO,A.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ZA);break}Z=null,$=null,N=null,M=null,L.set(0,0,0),D=0,q=ZA,w=b0}return}if(oA=oA||xA,iA=iA||TA,q0=q0||kA,xA!==W||oA!==X)A.blendEquationSeparate(IA[xA],IA[oA]),W=xA,X=oA;if(TA!==Z||kA!==$||iA!==N||q0!==M)A.blendFuncSeparate(l[TA],l[kA],l[iA],l[q0]),Z=TA,$=kA,N=iA,M=q0;if(WQ.equals(L)===!1||tQ!==D)A.blendColor(WQ.r,WQ.g,WQ.b,tQ),L.copy(WQ),D=tQ;q=ZA,w=!1}function BA(ZA,xA){ZA.side===2?r(A.CULL_FACE):t(A.CULL_FACE);let TA=ZA.side===1;if(xA)TA=!TA;n(TA),ZA.blending===1&&ZA.transparent===!1?UA(0):UA(ZA.blending,ZA.blendEquation,ZA.blendSrc,ZA.blendDst,ZA.blendEquationAlpha,ZA.blendSrcAlpha,ZA.blendDstAlpha,ZA.blendColor,ZA.blendAlpha,ZA.premultipliedAlpha),K.setFunc(ZA.depthFunc),K.setTest(ZA.depthTest),K.setMask(ZA.depthWrite),I.setMask(ZA.colorWrite);const kA=ZA.stencilWrite;if(J.setTest(kA),kA)J.setMask(ZA.stencilWriteMask),J.setFunc(ZA.stencilFunc,ZA.stencilRef,ZA.stencilFuncMask),J.setOp(ZA.stencilFail,ZA.stencilZFail,ZA.stencilZPass);$A(ZA.polygonOffset,ZA.polygonOffsetFactor,ZA.polygonOffsetUnits),ZA.alphaToCoverage===!0?t(A.SAMPLE_ALPHA_TO_COVERAGE):r(A.SAMPLE_ALPHA_TO_COVERAGE)}function n(ZA){if(P!==ZA){if(ZA)A.frontFace(A.CW);else A.frontFace(A.CCW);P=ZA}}function i(ZA){if(ZA!==0){if(t(A.CULL_FACE),ZA!==V)if(ZA===1)A.cullFace(A.BACK);else if(ZA===2)A.cullFace(A.FRONT);else A.cullFace(A.FRONT_AND_BACK)}else r(A.CULL_FACE);V=ZA}function KA(ZA){if(ZA!==T){if(y)A.lineWidth(ZA);T=ZA}}function $A(ZA,xA,TA){if(ZA){if(t(A.POLYGON_OFFSET_FILL),S!==xA||h!==TA)A.polygonOffset(xA,TA),S=xA,h=TA}else r(A.POLYGON_OFFSET_FILL)}function FA(ZA){if(ZA)t(A.SCISSOR_TEST);else r(A.SCISSOR_TEST)}function e(ZA){if(ZA===void 0)ZA=A.TEXTURE0+x-1;if(_!==ZA)A.activeTexture(ZA),_=ZA}function c(ZA,xA,TA){if(TA===void 0)if(_===null)TA=A.TEXTURE0+x-1;else TA=_;let kA=g[TA];if(kA===void 0)kA={type:void 0,texture:void 0},g[TA]=kA;if(kA.type!==ZA||kA.texture!==xA){if(_!==TA)A.activeTexture(TA),_=TA;A.bindTexture(ZA,xA||s[ZA]),kA.type=ZA,kA.texture=xA}}function HA(){const ZA=g[_];if(ZA!==void 0&&ZA.type!==void 0)A.bindTexture(ZA.type,null),ZA.type=void 0,ZA.texture=void 0}function XA(){try{A.compressedTexImage2D.apply(A,arguments)}catch(ZA){console.error("THREE.WebGLState:",ZA)}}function CA(){try{A.compressedTexImage3D.apply(A,arguments)}catch(ZA){console.error("THREE.WebGLState:",ZA)}}function GA(){try{A.texSubImage2D.apply(A,arguments)}catch(ZA){console.error("THREE.WebGLState:",ZA)}}function uA(){try{A.texSubImage3D.apply(A,arguments)}catch(ZA){console.error("THREE.WebGLState:",ZA)}}function z(){try{A.compressedTexSubImage2D.apply(A,arguments)}catch(ZA){console.error("THREE.WebGLState:",ZA)}}function k(){try{A.compressedTexSubImage3D.apply(A,arguments)}catch(ZA){console.error("THREE.WebGLState:",ZA)}}function u(){try{A.texStorage2D.apply(A,arguments)}catch(ZA){console.error("THREE.WebGLState:",ZA)}}function d(){try{A.texStorage3D.apply(A,arguments)}catch(ZA){console.error("THREE.WebGLState:",ZA)}}function a(){try{A.texImage2D.apply(A,arguments)}catch(ZA){console.error("THREE.WebGLState:",ZA)}}function OA(){try{A.texImage3D.apply(A,arguments)}catch(ZA){console.error("THREE.WebGLState:",ZA)}}function LA(ZA){if(m.equals(ZA)===!1)A.scissor(ZA.x,ZA.y,ZA.z,ZA.w),m.copy(ZA)}function SA(ZA){if(o.equals(ZA)===!1)A.viewport(ZA.x,ZA.y,ZA.z,ZA.w),o.copy(ZA)}function dA(ZA,xA){let TA=U.get(xA);if(TA===void 0)TA=/*@__PURE__*/new WeakMap,U.set(xA,TA);let kA=TA.get(ZA);if(kA===void 0)kA=A.getUniformBlockIndex(xA,ZA.name),TA.set(ZA,kA)}function yA(ZA,xA){const kA=U.get(xA).get(ZA);if(C.get(xA)!==kA)A.uniformBlockBinding(xA,kA,ZA.__bindingPointIndex),C.set(xA,kA)}function lA(){A.disable(A.BLEND),A.disable(A.CULL_FACE),A.disable(A.DEPTH_TEST),A.disable(A.POLYGON_OFFSET_FILL),A.disable(A.SCISSOR_TEST),A.disable(A.STENCIL_TEST),A.disable(A.SAMPLE_ALPHA_TO_COVERAGE),A.blendEquation(A.FUNC_ADD),A.blendFunc(A.ONE,A.ZERO),A.blendFuncSeparate(A.ONE,A.ZERO,A.ONE,A.ZERO),A.blendColor(0,0,0,0),A.colorMask(!0,!0,!0,!0),A.clearColor(0,0,0,0),A.depthMask(!0),A.depthFunc(A.LESS),A.clearDepth(1),A.stencilMask(4294967295),A.stencilFunc(A.ALWAYS,0,4294967295),A.stencilOp(A.KEEP,A.KEEP,A.KEEP),A.clearStencil(0),A.cullFace(A.BACK),A.frontFace(A.CCW),A.polygonOffset(0,0),A.activeTexture(A.TEXTURE0),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindFramebuffer(A.DRAW_FRAMEBUFFER,null),A.bindFramebuffer(A.READ_FRAMEBUFFER,null),A.useProgram(null),A.lineWidth(1),A.scissor(0,0,A.canvas.width,A.canvas.height),A.viewport(0,0,A.canvas.width,A.canvas.height),Y={},_=null,g={},H={},R=/*@__PURE__*/new WeakMap,G=[],O=null,F=!1,q=null,W=null,Z=null,$=null,X=null,N=null,M=null,L=new WA(0,0,0),D=0,w=!1,P=null,V=null,T=null,S=null,h=null,m.set(0,0,A.canvas.width,A.canvas.height),o.set(0,0,A.canvas.width,A.canvas.height),I.reset(),K.reset(),J.reset()}return{buffers:{color:I,depth:K,stencil:J},enable:t,disable:r,bindFramebuffer:EA,drawBuffers:JA,useProgram:YA,setBlending:UA,setMaterial:BA,setFlipSided:n,setCullFace:i,setLineWidth:KA,setPolygonOffset:$A,setScissorTest:FA,activeTexture:e,bindTexture:c,unbindTexture:HA,compressedTexImage2D:XA,compressedTexImage3D:CA,texImage2D:a,texImage3D:OA,updateUBOMapping:dA,uniformBlockBinding:yA,texStorage2D:u,texStorage3D:d,texSubImage2D:GA,texSubImage3D:uA,compressedTexSubImage2D:z,compressedTexSubImage3D:k,scissor:LA,viewport:SA,reset:lA}}function Vn(A,Q){const E=A.image&&A.image.width?A.image.width/A.image.height:1;if(E>Q)A.repeat.x=1,A.repeat.y=E/Q,A.offset.x=0,A.offset.y=(1-A.repeat.y)/2;else A.repeat.x=Q/E,A.repeat.y=1,A.offset.x=(1-A.repeat.x)/2,A.offset.y=0;return A}function Tn(A,Q){const E=A.image&&A.image.width?A.image.width/A.image.height:1;if(E>Q)A.repeat.x=Q/E,A.repeat.y=1,A.offset.x=(1-A.repeat.x)/2,A.offset.y=0;else A.repeat.x=1,A.repeat.y=E/Q,A.offset.x=0,A.offset.y=(1-A.repeat.y)/2;return A}function Sn(A){return A.repeat.x=1,A.repeat.y=1,A.offset.x=0,A.offset.y=0,A}function vR(A,Q,E,B){const I=Pn(B);switch(E){case 1021:return A*Q;case 1024:return A*Q;case 1025:return A*Q*2;case 1028:return A*Q/I.components*I.byteLength;case 1029:return A*Q/I.components*I.byteLength;case 1030:return A*Q*2/I.components*I.byteLength;case 1031:return A*Q*2/I.components*I.byteLength;case 1022:return A*Q*3/I.components*I.byteLength;case 1023:return A*Q*4/I.components*I.byteLength;case 1033:return A*Q*4/I.components*I.byteLength;case 33776:case 33777:return Math.floor((A+3)/4)*Math.floor((Q+3)/4)*8;case 33778:case 33779:return Math.floor((A+3)/4)*Math.floor((Q+3)/4)*16;case 35841:case 35843:return Math.max(A,16)*Math.max(Q,8)/4;case 35840:case 35842:return Math.max(A,8)*Math.max(Q,8)/2;case 36196:case 37492:return Math.floor((A+3)/4)*Math.floor((Q+3)/4)*8;case 37496:return Math.floor((A+3)/4)*Math.floor((Q+3)/4)*16;case 37808:return Math.floor((A+3)/4)*Math.floor((Q+3)/4)*16;case 37809:return Math.floor((A+4)/5)*Math.floor((Q+3)/4)*16;case 37810:return Math.floor((A+4)/5)*Math.floor((Q+4)/5)*16;case 37811:return Math.floor((A+5)/6)*Math.floor((Q+4)/5)*16;case 37812:return Math.floor((A+5)/6)*Math.floor((Q+5)/6)*16;case 37813:return Math.floor((A+7)/8)*Math.floor((Q+4)/5)*16;case 37814:return Math.floor((A+7)/8)*Math.floor((Q+5)/6)*16;case 37815:return Math.floor((A+7)/8)*Math.floor((Q+7)/8)*16;case 37816:return Math.floor((A+9)/10)*Math.floor((Q+4)/5)*16;case 37817:return Math.floor((A+9)/10)*Math.floor((Q+5)/6)*16;case 37818:return Math.floor((A+9)/10)*Math.floor((Q+7)/8)*16;case 37819:return Math.floor((A+9)/10)*Math.floor((Q+9)/10)*16;case 37820:return Math.floor((A+11)/12)*Math.floor((Q+9)/10)*16;case 37821:return Math.floor((A+11)/12)*Math.floor((Q+11)/12)*16;case 36492:case 36494:case 36495:return Math.ceil(A/4)*Math.ceil(Q/4)*16;case 36283:case 36284:return Math.ceil(A/4)*Math.ceil(Q/4)*8;case 36285:case 36286:return Math.ceil(A/4)*Math.ceil(Q/4)*16}throw new Error(`Unable to determine texture byte length for ${E} format.`)}function Pn(A){switch(A){case 1009:case 1010:return{byteLength:1,components:1};case 1012:case 1011:case 1016:return{byteLength:2,components:1};case 1017:case 1018:return{byteLength:2,components:4};case 1014:case 1013:case 1015:return{byteLength:4,components:1};case 35902:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${A}.`)}function kn(A,Q,E,B,I,K,J){const C=Q.has("WEBGL_multisampled_render_to_texture")?Q.get("WEBGL_multisampled_render_to_texture"):null,U=typeof navigator==="undefined"?!1:/OculusBrowser/g.test(navigator.userAgent),Y=new RA,H=/*@__PURE__*/new WeakMap;let R;const G=/*@__PURE__*/new WeakMap;let O=!1;try{O=typeof OffscreenCanvas!=="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch(e){}function F(e,c){return O?new OffscreenCanvas(e,c):L9("canvas")}function q(e,c,HA){let XA=1;const CA=FA(e);if(CA.width>HA||CA.height>HA)XA=HA/Math.max(CA.width,CA.height);if(XA<1)if(typeof HTMLImageElement!=="undefined"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement!=="undefined"&&e instanceof HTMLCanvasElement||typeof ImageBitmap!=="undefined"&&e instanceof ImageBitmap||typeof VideoFrame!=="undefined"&&e instanceof VideoFrame){const GA=Math.floor(XA*CA.width),uA=Math.floor(XA*CA.height);if(R===void 0)R=F(GA,uA);const z=c?F(GA,uA):R;return z.width=GA,z.height=uA,z.getContext("2d").drawImage(e,0,0,GA,uA),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+CA.width+"x"+CA.height+") to ("+GA+"x"+uA+")."),z}else{if("data"in e)console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+CA.width+"x"+CA.height+").");return e}return e}function W(e){return e.generateMipmaps&&e.minFilter!==1003&&e.minFilter!==1006}function Z(e){A.generateMipmap(e)}function $(e,c,HA,XA,CA=!1){if(e!==null){if(A[e]!==void 0)return A[e];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format \'"+e+"\'")}let GA=c;if(c===A.RED){if(HA===A.FLOAT)GA=A.R32F;if(HA===A.HALF_FLOAT)GA=A.R16F;if(HA===A.UNSIGNED_BYTE)GA=A.R8}if(c===A.RED_INTEGER){if(HA===A.UNSIGNED_BYTE)GA=A.R8UI;if(HA===A.UNSIGNED_SHORT)GA=A.R16UI;if(HA===A.UNSIGNED_INT)GA=A.R32UI;if(HA===A.BYTE)GA=A.R8I;if(HA===A.SHORT)GA=A.R16I;if(HA===A.INT)GA=A.R32I}if(c===A.RG){if(HA===A.FLOAT)GA=A.RG32F;if(HA===A.HALF_FLOAT)GA=A.RG16F;if(HA===A.UNSIGNED_BYTE)GA=A.RG8}if(c===A.RG_INTEGER){if(HA===A.UNSIGNED_BYTE)GA=A.RG8UI;if(HA===A.UNSIGNED_SHORT)GA=A.RG16UI;if(HA===A.UNSIGNED_INT)GA=A.RG32UI;if(HA===A.BYTE)GA=A.RG8I;if(HA===A.SHORT)GA=A.RG16I;if(HA===A.INT)GA=A.RG32I}if(c===A.RGB_INTEGER){if(HA===A.UNSIGNED_BYTE)GA=A.RGB8UI;if(HA===A.UNSIGNED_SHORT)GA=A.RGB16UI;if(HA===A.UNSIGNED_INT)GA=A.RGB32UI;if(HA===A.BYTE)GA=A.RGB8I;if(HA===A.SHORT)GA=A.RGB16I;if(HA===A.INT)GA=A.RGB32I}if(c===A.RGBA_INTEGER){if(HA===A.UNSIGNED_BYTE)GA=A.RGBA8UI;if(HA===A.UNSIGNED_SHORT)GA=A.RGBA16UI;if(HA===A.UNSIGNED_INT)GA=A.RGBA32UI;if(HA===A.BYTE)GA=A.RGBA8I;if(HA===A.SHORT)GA=A.RGBA16I;if(HA===A.INT)GA=A.RGBA32I}if(c===A.RGB){if(HA===A.UNSIGNED_INT_5_9_9_9_REV)GA=A.RGB9_E5}if(c===A.RGBA){const uA=CA?"linear":D0.getTransfer(XA);if(HA===A.FLOAT)GA=A.RGBA32F;if(HA===A.HALF_FLOAT)GA=A.RGBA16F;if(HA===A.UNSIGNED_BYTE)GA=uA==="srgb"?A.SRGB8_ALPHA8:A.RGBA8;if(HA===A.UNSIGNED_SHORT_4_4_4_4)GA=A.RGBA4;if(HA===A.UNSIGNED_SHORT_5_5_5_1)GA=A.RGB5_A1}if(GA===A.R16F||GA===A.R32F||GA===A.RG16F||GA===A.RG32F||GA===A.RGBA16F||GA===A.RGBA32F)Q.get("EXT_color_buffer_float");return GA}function X(e,c){let HA;if(e){if(c===null||c===1014||c===1020)HA=A.DEPTH24_STENCIL8;else if(c===1015)HA=A.DEPTH32F_STENCIL8;else if(c===1012)HA=A.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")}else if(c===null||c===1014||c===1020)HA=A.DEPTH_COMPONENT24;else if(c===1015)HA=A.DEPTH_COMPONENT32F;else if(c===1012)HA=A.DEPTH_COMPONENT16;return HA}function N(e,c){if(W(e)===!0||e.isFramebufferTexture&&e.minFilter!==1003&&e.minFilter!==1006)return Math.log2(Math.max(c.width,c.height))+1;else if(e.mipmaps!==void 0&&e.mipmaps.length>0)return e.mipmaps.length;else if(e.isCompressedTexture&&Array.isArray(e.image))return c.mipmaps.length;else return 1}function M(e){const c=e.target;if(c.removeEventListener("dispose",M),D(c),c.isVideoTexture)H.delete(c)}function L(e){const c=e.target;c.removeEventListener("dispose",L),P(c)}function D(e){const c=B.get(e);if(c.__webglInit===void 0)return;const HA=e.source,XA=G.get(HA);if(XA){const CA=XA[c.__cacheKey];if(CA.usedTimes--,CA.usedTimes===0)w(e);if(Object.keys(XA).length===0)G.delete(HA)}B.remove(e)}function w(e){const c=B.get(e);A.deleteTexture(c.__webglTexture);const HA=e.source,XA=G.get(HA);delete XA[c.__cacheKey],J.memory.textures--}function P(e){const c=B.get(e);if(e.depthTexture)e.depthTexture.dispose();if(e.isWebGLCubeRenderTarget)for(let XA=0;XA<6;XA++){if(Array.isArray(c.__webglFramebuffer[XA]))for(let CA=0;CA<c.__webglFramebuffer[XA].length;CA++)A.deleteFramebuffer(c.__webglFramebuffer[XA][CA]);else A.deleteFramebuffer(c.__webglFramebuffer[XA]);if(c.__webglDepthbuffer)A.deleteRenderbuffer(c.__webglDepthbuffer[XA])}else{if(Array.isArray(c.__webglFramebuffer))for(let XA=0;XA<c.__webglFramebuffer.length;XA++)A.deleteFramebuffer(c.__webglFramebuffer[XA]);else A.deleteFramebuffer(c.__webglFramebuffer);if(c.__webglDepthbuffer)A.deleteRenderbuffer(c.__webglDepthbuffer);if(c.__webglMultisampledFramebuffer)A.deleteFramebuffer(c.__webglMultisampledFramebuffer);if(c.__webglColorRenderbuffer){for(let XA=0;XA<c.__webglColorRenderbuffer.length;XA++)if(c.__webglColorRenderbuffer[XA])A.deleteRenderbuffer(c.__webglColorRenderbuffer[XA])}if(c.__webglDepthRenderbuffer)A.deleteRenderbuffer(c.__webglDepthRenderbuffer)}const HA=e.textures;for(let XA=0,CA=HA.length;XA<CA;XA++){const GA=B.get(HA[XA]);if(GA.__webglTexture)A.deleteTexture(GA.__webglTexture),J.memory.textures--;B.remove(HA[XA])}B.remove(e)}let V=0;function T(){V=0}function S(){const e=V;if(e>=I.maxTextures)console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+I.maxTextures);return V+=1,e}function h(e){const c=[];return c.push(e.wrapS),c.push(e.wrapT),c.push(e.wrapR||0),c.push(e.magFilter),c.push(e.minFilter),c.push(e.anisotropy),c.push(e.internalFormat),c.push(e.format),c.push(e.type),c.push(e.generateMipmaps),c.push(e.premultiplyAlpha),c.push(e.flipY),c.push(e.unpackAlignment),c.push(e.colorSpace),c.join()}function x(e,c){const HA=B.get(e);if(e.isVideoTexture)KA(e);if(e.isRenderTargetTexture===!1&&e.version>0&&HA.__version!==e.version){const XA=e.image;if(XA===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(XA.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{o(HA,e,c);return}}E.bindTexture(A.TEXTURE_2D,HA.__webglTexture,A.TEXTURE0+c)}function y(e,c){const HA=B.get(e);if(e.version>0&&HA.__version!==e.version){o(HA,e,c);return}E.bindTexture(A.TEXTURE_2D_ARRAY,HA.__webglTexture,A.TEXTURE0+c)}function j(e,c){const HA=B.get(e);if(e.version>0&&HA.__version!==e.version){o(HA,e,c);return}E.bindTexture(A.TEXTURE_3D,HA.__webglTexture,A.TEXTURE0+c)}function v(e,c){const HA=B.get(e);if(e.version>0&&HA.__version!==e.version){AA(HA,e,c);return}E.bindTexture(A.TEXTURE_CUBE_MAP,HA.__webglTexture,A.TEXTURE0+c)}const _={[1000]:A.REPEAT,[1001]:A.CLAMP_TO_EDGE,[1002]:A.MIRRORED_REPEAT},g={[1003]:A.NEAREST,[1004]:A.NEAREST_MIPMAP_NEAREST,[1005]:A.NEAREST_MIPMAP_LINEAR,[1006]:A.LINEAR,[1007]:A.LINEAR_MIPMAP_NEAREST,[1008]:A.LINEAR_MIPMAP_LINEAR},b={[512]:A.NEVER,[519]:A.ALWAYS,[513]:A.LESS,[515]:A.LEQUAL,[514]:A.EQUAL,[518]:A.GEQUAL,[516]:A.GREATER,[517]:A.NOTEQUAL};function p(e,c){if(c.type===1015&&Q.has("OES_texture_float_linear")===!1&&(c.magFilter===1006||c.magFilter===1007||c.magFilter===1005||c.magFilter===1008||c.minFilter===1006||c.minFilter===1007||c.minFilter===1005||c.minFilter===1008))console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device.");if(A.texParameteri(e,A.TEXTURE_WRAP_S,_[c.wrapS]),A.texParameteri(e,A.TEXTURE_WRAP_T,_[c.wrapT]),e===A.TEXTURE_3D||e===A.TEXTURE_2D_ARRAY)A.texParameteri(e,A.TEXTURE_WRAP_R,_[c.wrapR]);if(A.texParameteri(e,A.TEXTURE_MAG_FILTER,g[c.magFilter]),A.texParameteri(e,A.TEXTURE_MIN_FILTER,g[c.minFilter]),c.compareFunction)A.texParameteri(e,A.TEXTURE_COMPARE_MODE,A.COMPARE_REF_TO_TEXTURE),A.texParameteri(e,A.TEXTURE_COMPARE_FUNC,b[c.compareFunction]);if(Q.has("EXT_texture_filter_anisotropic")===!0){if(c.magFilter===1003)return;if(c.minFilter!==1005&&c.minFilter!==1008)return;if(c.type===1015&&Q.has("OES_texture_float_linear")===!1)return;if(c.anisotropy>1||B.get(c).__currentAnisotropy){const HA=Q.get("EXT_texture_filter_anisotropic");A.texParameterf(e,HA.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(c.anisotropy,I.getMaxAnisotropy())),B.get(c).__currentAnisotropy=c.anisotropy}}}function m(e,c){let HA=!1;if(e.__webglInit===void 0)e.__webglInit=!0,c.addEventListener("dispose",M);const XA=c.source;let CA=G.get(XA);if(CA===void 0)CA={},G.set(XA,CA);const GA=h(c);if(GA!==e.__cacheKey){if(CA[GA]===void 0)CA[GA]={texture:A.createTexture(),usedTimes:0},J.memory.textures++,HA=!0;CA[GA].usedTimes++;const uA=CA[e.__cacheKey];if(uA!==void 0){if(CA[e.__cacheKey].usedTimes--,uA.usedTimes===0)w(c)}e.__cacheKey=GA,e.__webglTexture=CA[GA].texture}return HA}function o(e,c,HA){let XA=A.TEXTURE_2D;if(c.isDataArrayTexture||c.isCompressedArrayTexture)XA=A.TEXTURE_2D_ARRAY;if(c.isData3DTexture)XA=A.TEXTURE_3D;const CA=m(e,c),GA=c.source;E.bindTexture(XA,e.__webglTexture,A.TEXTURE0+HA);const uA=B.get(GA);if(GA.version!==uA.__version||CA===!0){E.activeTexture(A.TEXTURE0+HA);const z=D0.getPrimaries(D0.workingColorSpace),k=c.colorSpace===""?null:D0.getPrimaries(c.colorSpace),u=c.colorSpace===""||z===k?A.NONE:A.BROWSER_DEFAULT_WEBGL;A.pixelStorei(A.UNPACK_FLIP_Y_WEBGL,c.flipY),A.pixelStorei(A.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c.premultiplyAlpha),A.pixelStorei(A.UNPACK_ALIGNMENT,c.unpackAlignment),A.pixelStorei(A.UNPACK_COLORSPACE_CONVERSION_WEBGL,u);let d=q(c.image,!1,I.maxTextureSize);d=$A(c,d);const a=K.convert(c.format,c.colorSpace),OA=K.convert(c.type);let LA=$(c.internalFormat,a,OA,c.colorSpace,c.isVideoTexture);p(XA,c);let SA;const dA=c.mipmaps,yA=c.isVideoTexture!==!0,lA=uA.__version===void 0||CA===!0,ZA=GA.dataReady,xA=N(c,d);if(c.isDepthTexture){if(LA=X(c.format===1027,c.type),lA)if(yA)E.texStorage2D(A.TEXTURE_2D,1,LA,d.width,d.height);else E.texImage2D(A.TEXTURE_2D,0,LA,d.width,d.height,0,a,OA,null)}else if(c.isDataTexture)if(dA.length>0){if(yA&&lA)E.texStorage2D(A.TEXTURE_2D,xA,LA,dA[0].width,dA[0].height);for(let TA=0,kA=dA.length;TA<kA;TA++)if(SA=dA[TA],yA){if(ZA)E.texSubImage2D(A.TEXTURE_2D,TA,0,0,SA.width,SA.height,a,OA,SA.data)}else E.texImage2D(A.TEXTURE_2D,TA,LA,SA.width,SA.height,0,a,OA,SA.data);c.generateMipmaps=!1}else if(yA){if(lA)E.texStorage2D(A.TEXTURE_2D,xA,LA,d.width,d.height);if(ZA)E.texSubImage2D(A.TEXTURE_2D,0,0,0,d.width,d.height,a,OA,d.data)}else E.texImage2D(A.TEXTURE_2D,0,LA,d.width,d.height,0,a,OA,d.data);else if(c.isCompressedTexture)if(c.isCompressedArrayTexture){if(yA&&lA)E.texStorage3D(A.TEXTURE_2D_ARRAY,xA,LA,dA[0].width,dA[0].height,d.depth);for(let TA=0,kA=dA.length;TA<kA;TA++)if(SA=dA[TA],c.format!==1023)if(a!==null)if(yA){if(ZA)if(c.layerUpdates.size>0){const oA=vR(SA.width,SA.height,c.format,c.type);for(let iA of c.layerUpdates){const q0=SA.data.subarray(iA*oA/SA.data.BYTES_PER_ELEMENT,(iA+1)*oA/SA.data.BYTES_PER_ELEMENT);E.compressedTexSubImage3D(A.TEXTURE_2D_ARRAY,TA,0,0,iA,SA.width,SA.height,1,a,q0,0,0)}c.clearLayerUpdates()}else E.compressedTexSubImage3D(A.TEXTURE_2D_ARRAY,TA,0,0,0,SA.width,SA.height,d.depth,a,SA.data,0,0)}else E.compressedTexImage3D(A.TEXTURE_2D_ARRAY,TA,LA,SA.width,SA.height,d.depth,0,SA.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else if(yA){if(ZA)E.texSubImage3D(A.TEXTURE_2D_ARRAY,TA,0,0,0,SA.width,SA.height,d.depth,a,OA,SA.data)}else E.texImage3D(A.TEXTURE_2D_ARRAY,TA,LA,SA.width,SA.height,d.depth,0,a,OA,SA.data)}else{if(yA&&lA)E.texStorage2D(A.TEXTURE_2D,xA,LA,dA[0].width,dA[0].height);for(let TA=0,kA=dA.length;TA<kA;TA++)if(SA=dA[TA],c.format!==1023)if(a!==null)if(yA){if(ZA)E.compressedTexSubImage2D(A.TEXTURE_2D,TA,0,0,SA.width,SA.height,a,SA.data)}else E.compressedTexImage2D(A.TEXTURE_2D,TA,LA,SA.width,SA.height,0,SA.data);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else if(yA){if(ZA)E.texSubImage2D(A.TEXTURE_2D,TA,0,0,SA.width,SA.height,a,OA,SA.data)}else E.texImage2D(A.TEXTURE_2D,TA,LA,SA.width,SA.height,0,a,OA,SA.data)}else if(c.isDataArrayTexture)if(yA){if(lA)E.texStorage3D(A.TEXTURE_2D_ARRAY,xA,LA,d.width,d.height,d.depth);if(ZA)if(c.layerUpdates.size>0){const TA=vR(d.width,d.height,c.format,c.type);for(let kA of c.layerUpdates){const oA=d.data.subarray(kA*TA/d.data.BYTES_PER_ELEMENT,(kA+1)*TA/d.data.BYTES_PER_ELEMENT);E.texSubImage3D(A.TEXTURE_2D_ARRAY,0,0,0,kA,d.width,d.height,1,a,OA,oA)}c.clearLayerUpdates()}else E.texSubImage3D(A.TEXTURE_2D_ARRAY,0,0,0,0,d.width,d.height,d.depth,a,OA,d.data)}else E.texImage3D(A.TEXTURE_2D_ARRAY,0,LA,d.width,d.height,d.depth,0,a,OA,d.data);else if(c.isData3DTexture)if(yA){if(lA)E.texStorage3D(A.TEXTURE_3D,xA,LA,d.width,d.height,d.depth);if(ZA)E.texSubImage3D(A.TEXTURE_3D,0,0,0,0,d.width,d.height,d.depth,a,OA,d.data)}else E.texImage3D(A.TEXTURE_3D,0,LA,d.width,d.height,d.depth,0,a,OA,d.data);else if(c.isFramebufferTexture){if(lA)if(yA)E.texStorage2D(A.TEXTURE_2D,xA,LA,d.width,d.height);else{let{width:TA,height:kA}=d;for(let oA=0;oA<xA;oA++)E.texImage2D(A.TEXTURE_2D,oA,LA,TA,kA,0,a,OA,null),TA>>=1,kA>>=1}}else if(dA.length>0){if(yA&&lA){const TA=FA(dA[0]);E.texStorage2D(A.TEXTURE_2D,xA,LA,TA.width,TA.height)}for(let TA=0,kA=dA.length;TA<kA;TA++)if(SA=dA[TA],yA){if(ZA)E.texSubImage2D(A.TEXTURE_2D,TA,0,0,a,OA,SA)}else E.texImage2D(A.TEXTURE_2D,TA,LA,a,OA,SA);c.generateMipmaps=!1}else if(yA){if(lA){const TA=FA(d);E.texStorage2D(A.TEXTURE_2D,xA,LA,TA.width,TA.height)}if(ZA)E.texSubImage2D(A.TEXTURE_2D,0,0,0,a,OA,d)}else E.texImage2D(A.TEXTURE_2D,0,LA,a,OA,d);if(W(c))Z(XA);if(uA.__version=GA.version,c.onUpdate)c.onUpdate(c)}e.__version=c.version}function AA(e,c,HA){if(c.image.length!==6)return;const XA=m(e,c),CA=c.source;E.bindTexture(A.TEXTURE_CUBE_MAP,e.__webglTexture,A.TEXTURE0+HA);const GA=B.get(CA);if(CA.version!==GA.__version||XA===!0){E.activeTexture(A.TEXTURE0+HA);const uA=D0.getPrimaries(D0.workingColorSpace),z=c.colorSpace===""?null:D0.getPrimaries(c.colorSpace),k=c.colorSpace===""||uA===z?A.NONE:A.BROWSER_DEFAULT_WEBGL;A.pixelStorei(A.UNPACK_FLIP_Y_WEBGL,c.flipY),A.pixelStorei(A.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c.premultiplyAlpha),A.pixelStorei(A.UNPACK_ALIGNMENT,c.unpackAlignment),A.pixelStorei(A.UNPACK_COLORSPACE_CONVERSION_WEBGL,k);const u=c.isCompressedTexture||c.image[0].isCompressedTexture,d=c.image[0]&&c.image[0].isDataTexture,a=[];for(let kA=0;kA<6;kA++){if(!u&&!d)a[kA]=q(c.image[kA],!0,I.maxCubemapSize);else a[kA]=d?c.image[kA].image:c.image[kA];a[kA]=$A(c,a[kA])}const OA=a[0],LA=K.convert(c.format,c.colorSpace),SA=K.convert(c.type),dA=$(c.internalFormat,LA,SA,c.colorSpace),yA=c.isVideoTexture!==!0,lA=GA.__version===void 0||XA===!0,ZA=CA.dataReady;let xA=N(c,OA);p(A.TEXTURE_CUBE_MAP,c);let TA;if(u){if(yA&&lA)E.texStorage2D(A.TEXTURE_CUBE_MAP,xA,dA,OA.width,OA.height);for(let kA=0;kA<6;kA++){TA=a[kA].mipmaps;for(let oA=0;oA<TA.length;oA++){const iA=TA[oA];if(c.format!==1023)if(LA!==null)if(yA){if(ZA)E.compressedTexSubImage2D(A.TEXTURE_CUBE_MAP_POSITIVE_X+kA,oA,0,0,iA.width,iA.height,LA,iA.data)}else E.compressedTexImage2D(A.TEXTURE_CUBE_MAP_POSITIVE_X+kA,oA,dA,iA.width,iA.height,0,iA.data);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()");else if(yA){if(ZA)E.texSubImage2D(A.TEXTURE_CUBE_MAP_POSITIVE_X+kA,oA,0,0,iA.width,iA.height,LA,SA,iA.data)}else E.texImage2D(A.TEXTURE_CUBE_MAP_POSITIVE_X+kA,oA,dA,iA.width,iA.height,0,LA,SA,iA.data)}}}else{if(TA=c.mipmaps,yA&&lA){if(TA.length>0)xA++;const kA=FA(a[0]);E.texStorage2D(A.TEXTURE_CUBE_MAP,xA,dA,kA.width,kA.height)}for(let kA=0;kA<6;kA++)if(d){if(yA){if(ZA)E.texSubImage2D(A.TEXTURE_CUBE_MAP_POSITIVE_X+kA,0,0,0,a[kA].width,a[kA].height,LA,SA,a[kA].data)}else E.texImage2D(A.TEXTURE_CUBE_MAP_POSITIVE_X+kA,0,dA,a[kA].width,a[kA].height,0,LA,SA,a[kA].data);for(let oA=0;oA<TA.length;oA++){const q0=TA[oA].image[kA].image;if(yA){if(ZA)E.texSubImage2D(A.TEXTURE_CUBE_MAP_POSITIVE_X+kA,oA+1,0,0,q0.width,q0.height,LA,SA,q0.data)}else E.texImage2D(A.TEXTURE_CUBE_MAP_POSITIVE_X+kA,oA+1,dA,q0.width,q0.height,0,LA,SA,q0.data)}}else{if(yA){if(ZA)E.texSubImage2D(A.TEXTURE_CUBE_MAP_POSITIVE_X+kA,0,0,0,LA,SA,a[kA])}else E.texImage2D(A.TEXTURE_CUBE_MAP_POSITIVE_X+kA,0,dA,LA,SA,a[kA]);for(let oA=0;oA<TA.length;oA++){const iA=TA[oA];if(yA){if(ZA)E.texSubImage2D(A.TEXTURE_CUBE_MAP_POSITIVE_X+kA,oA+1,0,0,LA,SA,iA.image[kA])}else E.texImage2D(A.TEXTURE_CUBE_MAP_POSITIVE_X+kA,oA+1,dA,LA,SA,iA.image[kA])}}}if(W(c))Z(A.TEXTURE_CUBE_MAP);if(GA.__version=CA.version,c.onUpdate)c.onUpdate(c)}e.__version=c.version}function s(e,c,HA,XA,CA,GA){const uA=K.convert(HA.format,HA.colorSpace),z=K.convert(HA.type),k=$(HA.internalFormat,uA,z,HA.colorSpace);if(!B.get(c).__hasExternalTextures){const d=Math.max(1,c.width>>GA),a=Math.max(1,c.height>>GA);if(CA===A.TEXTURE_3D||CA===A.TEXTURE_2D_ARRAY)E.texImage3D(CA,GA,k,d,a,c.depth,0,uA,z,null);else E.texImage2D(CA,GA,k,d,a,0,uA,z,null)}if(E.bindFramebuffer(A.FRAMEBUFFER,e),i(c))C.framebufferTexture2DMultisampleEXT(A.FRAMEBUFFER,XA,CA,B.get(HA).__webglTexture,0,n(c));else if(CA===A.TEXTURE_2D||CA>=A.TEXTURE_CUBE_MAP_POSITIVE_X&&CA<=A.TEXTURE_CUBE_MAP_NEGATIVE_Z)A.framebufferTexture2D(A.FRAMEBUFFER,XA,CA,B.get(HA).__webglTexture,GA);E.bindFramebuffer(A.FRAMEBUFFER,null)}function t(e,c,HA){if(A.bindRenderbuffer(A.RENDERBUFFER,e),c.depthBuffer){const XA=c.depthTexture,CA=XA&&XA.isDepthTexture?XA.type:null,GA=X(c.stencilBuffer,CA),uA=c.stencilBuffer?A.DEPTH_STENCIL_ATTACHMENT:A.DEPTH_ATTACHMENT,z=n(c);if(i(c))C.renderbufferStorageMultisampleEXT(A.RENDERBUFFER,z,GA,c.width,c.height);else if(HA)A.renderbufferStorageMultisample(A.RENDERBUFFER,z,GA,c.width,c.height);else A.renderbufferStorage(A.RENDERBUFFER,GA,c.width,c.height);A.framebufferRenderbuffer(A.FRAMEBUFFER,uA,A.RENDERBUFFER,e)}else{const XA=c.textures;for(let CA=0;CA<XA.length;CA++){const GA=XA[CA],uA=K.convert(GA.format,GA.colorSpace),z=K.convert(GA.type),k=$(GA.internalFormat,uA,z,GA.colorSpace),u=n(c);if(HA&&i(c)===!1)A.renderbufferStorageMultisample(A.RENDERBUFFER,u,k,c.width,c.height);else if(i(c))C.renderbufferStorageMultisampleEXT(A.RENDERBUFFER,u,k,c.width,c.height);else A.renderbufferStorage(A.RENDERBUFFER,k,c.width,c.height)}}A.bindRenderbuffer(A.RENDERBUFFER,null)}function r(e,c){if(c&&c.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(E.bindFramebuffer(A.FRAMEBUFFER,e),!(c.depthTexture&&c.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");if(!B.get(c.depthTexture).__webglTexture||c.depthTexture.image.width!==c.width||c.depthTexture.image.height!==c.height)c.depthTexture.image.width=c.width,c.depthTexture.image.height=c.height,c.depthTexture.needsUpdate=!0;x(c.depthTexture,0);const XA=B.get(c.depthTexture).__webglTexture,CA=n(c);if(c.depthTexture.format===1026)if(i(c))C.framebufferTexture2DMultisampleEXT(A.FRAMEBUFFER,A.DEPTH_ATTACHMENT,A.TEXTURE_2D,XA,0,CA);else A.framebufferTexture2D(A.FRAMEBUFFER,A.DEPTH_ATTACHMENT,A.TEXTURE_2D,XA,0);else if(c.depthTexture.format===1027)if(i(c))C.framebufferTexture2DMultisampleEXT(A.FRAMEBUFFER,A.DEPTH_STENCIL_ATTACHMENT,A.TEXTURE_2D,XA,0,CA);else A.framebufferTexture2D(A.FRAMEBUFFER,A.DEPTH_STENCIL_ATTACHMENT,A.TEXTURE_2D,XA,0);else throw new Error("Unknown depthTexture format")}function EA(e){const c=B.get(e),HA=e.isWebGLCubeRenderTarget===!0;if(c.__boundDepthTexture!==e.depthTexture){const XA=e.depthTexture;if(c.__depthDisposeCallback)c.__depthDisposeCallback();if(XA){const CA=()=>{delete c.__boundDepthTexture,delete c.__depthDisposeCallback,XA.removeEventListener("dispose",CA)};XA.addEventListener("dispose",CA),c.__depthDisposeCallback=CA}c.__boundDepthTexture=XA}if(e.depthTexture&&!c.__autoAllocateDepthBuffer){if(HA)throw new Error("target.depthTexture not supported in Cube render targets");r(c.__webglFramebuffer,e)}else if(HA){c.__webglDepthbuffer=[];for(let XA=0;XA<6;XA++)if(E.bindFramebuffer(A.FRAMEBUFFER,c.__webglFramebuffer[XA]),c.__webglDepthbuffer[XA]===void 0)c.__webglDepthbuffer[XA]=A.createRenderbuffer(),t(c.__webglDepthbuffer[XA],e,!1);else{const CA=e.stencilBuffer?A.DEPTH_STENCIL_ATTACHMENT:A.DEPTH_ATTACHMENT,GA=c.__webglDepthbuffer[XA];A.bindRenderbuffer(A.RENDERBUFFER,GA),A.framebufferRenderbuffer(A.FRAMEBUFFER,CA,A.RENDERBUFFER,GA)}}else if(E.bindFramebuffer(A.FRAMEBUFFER,c.__webglFramebuffer),c.__webglDepthbuffer===void 0)c.__webglDepthbuffer=A.createRenderbuffer(),t(c.__webglDepthbuffer,e,!1);else{const XA=e.stencilBuffer?A.DEPTH_STENCIL_ATTACHMENT:A.DEPTH_ATTACHMENT,CA=c.__webglDepthbuffer;A.bindRenderbuffer(A.RENDERBUFFER,CA),A.framebufferRenderbuffer(A.FRAMEBUFFER,XA,A.RENDERBUFFER,CA)}E.bindFramebuffer(A.FRAMEBUFFER,null)}function JA(e,c,HA){const XA=B.get(e);if(c!==void 0)s(XA.__webglFramebuffer,e,e.texture,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,0);if(HA!==void 0)EA(e)}function YA(e){const c=e.texture,HA=B.get(e),XA=B.get(c);e.addEventListener("dispose",L);const CA=e.textures,GA=e.isWebGLCubeRenderTarget===!0,uA=CA.length>1;if(!uA){if(XA.__webglTexture===void 0)XA.__webglTexture=A.createTexture();XA.__version=c.version,J.memory.textures++}if(GA){HA.__webglFramebuffer=[];for(let z=0;z<6;z++)if(c.mipmaps&&c.mipmaps.length>0){HA.__webglFramebuffer[z]=[];for(let k=0;k<c.mipmaps.length;k++)HA.__webglFramebuffer[z][k]=A.createFramebuffer()}else HA.__webglFramebuffer[z]=A.createFramebuffer()}else{if(c.mipmaps&&c.mipmaps.length>0){HA.__webglFramebuffer=[];for(let z=0;z<c.mipmaps.length;z++)HA.__webglFramebuffer[z]=A.createFramebuffer()}else HA.__webglFramebuffer=A.createFramebuffer();if(uA)for(let z=0,k=CA.length;z<k;z++){const u=B.get(CA[z]);if(u.__webglTexture===void 0)u.__webglTexture=A.createTexture(),J.memory.textures++}if(e.samples>0&&i(e)===!1){HA.__webglMultisampledFramebuffer=A.createFramebuffer(),HA.__webglColorRenderbuffer=[],E.bindFramebuffer(A.FRAMEBUFFER,HA.__webglMultisampledFramebuffer);for(let z=0;z<CA.length;z++){const k=CA[z];HA.__webglColorRenderbuffer[z]=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,HA.__webglColorRenderbuffer[z]);const u=K.convert(k.format,k.colorSpace),d=K.convert(k.type),a=$(k.internalFormat,u,d,k.colorSpace,e.isXRRenderTarget===!0),OA=n(e);A.renderbufferStorageMultisample(A.RENDERBUFFER,OA,a,e.width,e.height),A.framebufferRenderbuffer(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0+z,A.RENDERBUFFER,HA.__webglColorRenderbuffer[z])}if(A.bindRenderbuffer(A.RENDERBUFFER,null),e.depthBuffer)HA.__webglDepthRenderbuffer=A.createRenderbuffer(),t(HA.__webglDepthRenderbuffer,e,!0);E.bindFramebuffer(A.FRAMEBUFFER,null)}}if(GA){E.bindTexture(A.TEXTURE_CUBE_MAP,XA.__webglTexture),p(A.TEXTURE_CUBE_MAP,c);for(let z=0;z<6;z++)if(c.mipmaps&&c.mipmaps.length>0)for(let k=0;k<c.mipmaps.length;k++)s(HA.__webglFramebuffer[z][k],e,c,A.COLOR_ATTACHMENT0,A.TEXTURE_CUBE_MAP_POSITIVE_X+z,k);else s(HA.__webglFramebuffer[z],e,c,A.COLOR_ATTACHMENT0,A.TEXTURE_CUBE_MAP_POSITIVE_X+z,0);if(W(c))Z(A.TEXTURE_CUBE_MAP);E.unbindTexture()}else if(uA){for(let z=0,k=CA.length;z<k;z++){const u=CA[z],d=B.get(u);if(E.bindTexture(A.TEXTURE_2D,d.__webglTexture),p(A.TEXTURE_2D,u),s(HA.__webglFramebuffer,e,u,A.COLOR_ATTACHMENT0+z,A.TEXTURE_2D,0),W(u))Z(A.TEXTURE_2D)}E.unbindTexture()}else{let z=A.TEXTURE_2D;if(e.isWebGL3DRenderTarget||e.isWebGLArrayRenderTarget)z=e.isWebGL3DRenderTarget?A.TEXTURE_3D:A.TEXTURE_2D_ARRAY;if(E.bindTexture(z,XA.__webglTexture),p(z,c),c.mipmaps&&c.mipmaps.length>0)for(let k=0;k<c.mipmaps.length;k++)s(HA.__webglFramebuffer[k],e,c,A.COLOR_ATTACHMENT0,z,k);else s(HA.__webglFramebuffer,e,c,A.COLOR_ATTACHMENT0,z,0);if(W(c))Z(z);E.unbindTexture()}if(e.depthBuffer)EA(e)}function IA(e){const c=e.textures;for(let HA=0,XA=c.length;HA<XA;HA++){const CA=c[HA];if(W(CA)){const GA=e.isWebGLCubeRenderTarget?A.TEXTURE_CUBE_MAP:A.TEXTURE_2D,uA=B.get(CA).__webglTexture;E.bindTexture(GA,uA),Z(GA),E.unbindTexture()}}}const l=[],UA=[];function BA(e){if(e.samples>0){if(i(e)===!1){const{textures:c,width:HA,height:XA}=e;let CA=A.COLOR_BUFFER_BIT;const GA=e.stencilBuffer?A.DEPTH_STENCIL_ATTACHMENT:A.DEPTH_ATTACHMENT,uA=B.get(e),z=c.length>1;if(z)for(let k=0;k<c.length;k++)E.bindFramebuffer(A.FRAMEBUFFER,uA.__webglMultisampledFramebuffer),A.framebufferRenderbuffer(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0+k,A.RENDERBUFFER,null),E.bindFramebuffer(A.FRAMEBUFFER,uA.__webglFramebuffer),A.framebufferTexture2D(A.DRAW_FRAMEBUFFER,A.COLOR_ATTACHMENT0+k,A.TEXTURE_2D,null,0);E.bindFramebuffer(A.READ_FRAMEBUFFER,uA.__webglMultisampledFramebuffer),E.bindFramebuffer(A.DRAW_FRAMEBUFFER,uA.__webglFramebuffer);for(let k=0;k<c.length;k++){if(e.resolveDepthBuffer){if(e.depthBuffer)CA|=A.DEPTH_BUFFER_BIT;if(e.stencilBuffer&&e.resolveStencilBuffer)CA|=A.STENCIL_BUFFER_BIT}if(z){A.framebufferRenderbuffer(A.READ_FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.RENDERBUFFER,uA.__webglColorRenderbuffer[k]);const u=B.get(c[k]).__webglTexture;A.framebufferTexture2D(A.DRAW_FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,u,0)}if(A.blitFramebuffer(0,0,HA,XA,0,0,HA,XA,CA,A.NEAREST),U===!0){if(l.length=0,UA.length=0,l.push(A.COLOR_ATTACHMENT0+k),e.depthBuffer&&e.resolveDepthBuffer===!1)l.push(GA),UA.push(GA),A.invalidateFramebuffer(A.DRAW_FRAMEBUFFER,UA);A.invalidateFramebuffer(A.READ_FRAMEBUFFER,l)}}if(E.bindFramebuffer(A.READ_FRAMEBUFFER,null),E.bindFramebuffer(A.DRAW_FRAMEBUFFER,null),z)for(let k=0;k<c.length;k++){E.bindFramebuffer(A.FRAMEBUFFER,uA.__webglMultisampledFramebuffer),A.framebufferRenderbuffer(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0+k,A.RENDERBUFFER,uA.__webglColorRenderbuffer[k]);const u=B.get(c[k]).__webglTexture;E.bindFramebuffer(A.FRAMEBUFFER,uA.__webglFramebuffer),A.framebufferTexture2D(A.DRAW_FRAMEBUFFER,A.COLOR_ATTACHMENT0+k,A.TEXTURE_2D,u,0)}E.bindFramebuffer(A.DRAW_FRAMEBUFFER,uA.__webglMultisampledFramebuffer)}else if(e.depthBuffer&&e.resolveDepthBuffer===!1&&U){const c=e.stencilBuffer?A.DEPTH_STENCIL_ATTACHMENT:A.DEPTH_ATTACHMENT;A.invalidateFramebuffer(A.DRAW_FRAMEBUFFER,[c])}}}function n(e){return Math.min(I.maxSamples,e.samples)}function i(e){const c=B.get(e);return e.samples>0&&Q.has("WEBGL_multisampled_render_to_texture")===!0&&c.__useRenderToTexture!==!1}function KA(e){const c=J.render.frame;if(H.get(e)!==c)H.set(e,c),e.update()}function $A(e,c){const{colorSpace:HA,format:XA,type:CA}=e;if(e.isCompressedTexture===!0||e.isVideoTexture===!0)return c;if(HA!=="srgb-linear"&&HA!=="")if(D0.getTransfer(HA)==="srgb"){if(XA!==1023||CA!==1009)console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType.")}else console.error("THREE.WebGLTextures: Unsupported texture color space:",HA);return c}function FA(e){if(typeof HTMLImageElement!=="undefined"&&e instanceof HTMLImageElement)Y.width=e.naturalWidth||e.width,Y.height=e.naturalHeight||e.height;else if(typeof VideoFrame!=="undefined"&&e instanceof VideoFrame)Y.width=e.displayWidth,Y.height=e.displayHeight;else Y.width=e.width,Y.height=e.height;return Y}this.allocateTextureUnit=S,this.resetTextureUnits=T,this.setTexture2D=x,this.setTexture2DArray=y,this.setTexture3D=j,this.setTextureCube=v,this.rebindTextures=JA,this.setupRenderTarget=YA,this.updateRenderTargetMipmap=IA,this.updateMultisampleRenderTarget=BA,this.setupDepthRenderbuffer=EA,this.setupFrameBufferTexture=s,this.useMultisampledRTT=i}function V3(A,Q){function E(B,I=""){let K;const J=D0.getTransfer(I);if(B===1009)return A.UNSIGNED_BYTE;if(B===1017)return A.UNSIGNED_SHORT_4_4_4_4;if(B===1018)return A.UNSIGNED_SHORT_5_5_5_1;if(B===35902)return A.UNSIGNED_INT_5_9_9_9_REV;if(B===1010)return A.BYTE;if(B===1011)return A.SHORT;if(B===1012)return A.UNSIGNED_SHORT;if(B===1013)return A.INT;if(B===1014)return A.UNSIGNED_INT;if(B===1015)return A.FLOAT;if(B===1016)return A.HALF_FLOAT;if(B===1021)return A.ALPHA;if(B===1022)return A.RGB;if(B===1023)return A.RGBA;if(B===1024)return A.LUMINANCE;if(B===1025)return A.LUMINANCE_ALPHA;if(B===1026)return A.DEPTH_COMPONENT;if(B===1027)return A.DEPTH_STENCIL;if(B===1028)return A.RED;if(B===1029)return A.RED_INTEGER;if(B===1030)return A.RG;if(B===1031)return A.RG_INTEGER;if(B===1033)return A.RGBA_INTEGER;if(B===33776||B===33777||B===33778||B===33779)if(J==="srgb")if(K=Q.get("WEBGL_compressed_texture_s3tc_srgb"),K!==null){if(B===33776)return K.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(B===33777)return K.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(B===33778)return K.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(B===33779)return K.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(K=Q.get("WEBGL_compressed_texture_s3tc"),K!==null){if(B===33776)return K.COMPRESSED_RGB_S3TC_DXT1_EXT;if(B===33777)return K.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(B===33778)return K.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(B===33779)return K.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(B===35840||B===35841||B===35842||B===35843)if(K=Q.get("WEBGL_compressed_texture_pvrtc"),K!==null){if(B===35840)return K.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(B===35841)return K.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(B===35842)return K.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(B===35843)return K.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(B===36196||B===37492||B===37496)if(K=Q.get("WEBGL_compressed_texture_etc"),K!==null){if(B===36196||B===37492)return J==="srgb"?K.COMPRESSED_SRGB8_ETC2:K.COMPRESSED_RGB8_ETC2;if(B===37496)return J==="srgb"?K.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:K.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(B===37808||B===37809||B===37810||B===37811||B===37812||B===37813||B===37814||B===37815||B===37816||B===37817||B===37818||B===37819||B===37820||B===37821)if(K=Q.get("WEBGL_compressed_texture_astc"),K!==null){if(B===37808)return J==="srgb"?K.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:K.COMPRESSED_RGBA_ASTC_4x4_KHR;if(B===37809)return J==="srgb"?K.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:K.COMPRESSED_RGBA_ASTC_5x4_KHR;if(B===37810)return J==="srgb"?K.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:K.COMPRESSED_RGBA_ASTC_5x5_KHR;if(B===37811)return J==="srgb"?K.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:K.COMPRESSED_RGBA_ASTC_6x5_KHR;if(B===37812)return J==="srgb"?K.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:K.COMPRESSED_RGBA_ASTC_6x6_KHR;if(B===37813)return J==="srgb"?K.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:K.COMPRESSED_RGBA_ASTC_8x5_KHR;if(B===37814)return J==="srgb"?K.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:K.COMPRESSED_RGBA_ASTC_8x6_KHR;if(B===37815)return J==="srgb"?K.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:K.COMPRESSED_RGBA_ASTC_8x8_KHR;if(B===37816)return J==="srgb"?K.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:K.COMPRESSED_RGBA_ASTC_10x5_KHR;if(B===37817)return J==="srgb"?K.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:K.COMPRESSED_RGBA_ASTC_10x6_KHR;if(B===37818)return J==="srgb"?K.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:K.COMPRESSED_RGBA_ASTC_10x8_KHR;if(B===37819)return J==="srgb"?K.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:K.COMPRESSED_RGBA_ASTC_10x10_KHR;if(B===37820)return J==="srgb"?K.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:K.COMPRESSED_RGBA_ASTC_12x10_KHR;if(B===37821)return J==="srgb"?K.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:K.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(B===36492||B===36494||B===36495)if(K=Q.get("EXT_texture_compression_bptc"),K!==null){if(B===36492)return J==="srgb"?K.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:K.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(B===36494)return K.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(B===36495)return K.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(B===36283||B===36284||B===36285||B===36286)if(K=Q.get("EXT_texture_compression_rgtc"),K!==null){if(B===36492)return K.COMPRESSED_RED_RGTC1_EXT;if(B===36284)return K.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(B===36285)return K.COMPRESSED_RED_GREEN_RGTC2_EXT;if(B===36286)return K.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;if(B===1020)return A.UNSIGNED_INT_24_8;return A[B]!==void 0?A[B]:null}return{convert:E}}function xn(A,Q){function E(W,Z){if(W.matrixAutoUpdate===!0)W.updateMatrix();Z.value.copy(W.matrix)}function B(W,Z){if(Z.color.getRGB(W.fogColor.value,$3(A)),Z.isFog)W.fogNear.value=Z.near,W.fogFar.value=Z.far;else if(Z.isFogExp2)W.fogDensity.value=Z.density}function I(W,Z,$,X,N){if(Z.isMeshBasicMaterial)K(W,Z);else if(Z.isMeshLambertMaterial)K(W,Z);else if(Z.isMeshToonMaterial)K(W,Z),R(W,Z);else if(Z.isMeshPhongMaterial)K(W,Z),H(W,Z);else if(Z.isMeshStandardMaterial){if(K(W,Z),G(W,Z),Z.isMeshPhysicalMaterial)O(W,Z,N)}else if(Z.isMeshMatcapMaterial)K(W,Z),F(W,Z);else if(Z.isMeshDepthMaterial)K(W,Z);else if(Z.isMeshDistanceMaterial)K(W,Z),q(W,Z);else if(Z.isMeshNormalMaterial)K(W,Z);else if(Z.isLineBasicMaterial){if(J(W,Z),Z.isLineDashedMaterial)C(W,Z)}else if(Z.isPointsMaterial)U(W,Z,$,X);else if(Z.isSpriteMaterial)Y(W,Z);else if(Z.isShadowMaterial)W.color.value.copy(Z.color),W.opacity.value=Z.opacity;else if(Z.isShaderMaterial)Z.uniformsNeedUpdate=!1}function K(W,Z){if(W.opacity.value=Z.opacity,Z.color)W.diffuse.value.copy(Z.color);if(Z.emissive)W.emissive.value.copy(Z.emissive).multiplyScalar(Z.emissiveIntensity);if(Z.map)W.map.value=Z.map,E(Z.map,W.mapTransform);if(Z.alphaMap)W.alphaMap.value=Z.alphaMap,E(Z.alphaMap,W.alphaMapTransform);if(Z.bumpMap){if(W.bumpMap.value=Z.bumpMap,E(Z.bumpMap,W.bumpMapTransform),W.bumpScale.value=Z.bumpScale,Z.side===1)W.bumpScale.value*=-1}if(Z.normalMap){if(W.normalMap.value=Z.normalMap,E(Z.normalMap,W.normalMapTransform),W.normalScale.value.copy(Z.normalScale),Z.side===1)W.normalScale.value.negate()}if(Z.displacementMap)W.displacementMap.value=Z.displacementMap,E(Z.displacementMap,W.displacementMapTransform),W.displacementScale.value=Z.displacementScale,W.displacementBias.value=Z.displacementBias;if(Z.emissiveMap)W.emissiveMap.value=Z.emissiveMap,E(Z.emissiveMap,W.emissiveMapTransform);if(Z.specularMap)W.specularMap.value=Z.specularMap,E(Z.specularMap,W.specularMapTransform);if(Z.alphaTest>0)W.alphaTest.value=Z.alphaTest;const $=Q.get(Z),X=$.envMap,N=$.envMapRotation;if(X){if(W.envMap.value=X,kI.copy(N),kI.x*=-1,kI.y*=-1,kI.z*=-1,X.isCubeTexture&&X.isRenderTargetTexture===!1)kI.y*=-1,kI.z*=-1;W.envMapRotation.value.setFromMatrix4(yn.makeRotationFromEuler(kI)),W.flipEnvMap.value=X.isCubeTexture&&X.isRenderTargetTexture===!1?-1:1,W.reflectivity.value=Z.reflectivity,W.ior.value=Z.ior,W.refractionRatio.value=Z.refractionRatio}if(Z.lightMap)W.lightMap.value=Z.lightMap,W.lightMapIntensity.value=Z.lightMapIntensity,E(Z.lightMap,W.lightMapTransform);if(Z.aoMap)W.aoMap.value=Z.aoMap,W.aoMapIntensity.value=Z.aoMapIntensity,E(Z.aoMap,W.aoMapTransform)}function J(W,Z){if(W.diffuse.value.copy(Z.color),W.opacity.value=Z.opacity,Z.map)W.map.value=Z.map,E(Z.map,W.mapTransform)}function C(W,Z){W.dashSize.value=Z.dashSize,W.totalSize.value=Z.dashSize+Z.gapSize,W.scale.value=Z.scale}function U(W,Z,$,X){if(W.diffuse.value.copy(Z.color),W.opacity.value=Z.opacity,W.size.value=Z.size*$,W.scale.value=X*0.5,Z.map)W.map.value=Z.map,E(Z.map,W.uvTransform);if(Z.alphaMap)W.alphaMap.value=Z.alphaMap,E(Z.alphaMap,W.alphaMapTransform);if(Z.alphaTest>0)W.alphaTest.value=Z.alphaTest}function Y(W,Z){if(W.diffuse.value.copy(Z.color),W.opacity.value=Z.opacity,W.rotation.value=Z.rotation,Z.map)W.map.value=Z.map,E(Z.map,W.mapTransform);if(Z.alphaMap)W.alphaMap.value=Z.alphaMap,E(Z.alphaMap,W.alphaMapTransform);if(Z.alphaTest>0)W.alphaTest.value=Z.alphaTest}function H(W,Z){W.specular.value.copy(Z.specular),W.shininess.value=Math.max(Z.shininess,0.0001)}function R(W,Z){if(Z.gradientMap)W.gradientMap.value=Z.gradientMap}function G(W,Z){if(W.metalness.value=Z.metalness,Z.metalnessMap)W.metalnessMap.value=Z.metalnessMap,E(Z.metalnessMap,W.metalnessMapTransform);if(W.roughness.value=Z.roughness,Z.roughnessMap)W.roughnessMap.value=Z.roughnessMap,E(Z.roughnessMap,W.roughnessMapTransform);if(Z.envMap)W.envMapIntensity.value=Z.envMapIntensity}function O(W,Z,$){if(W.ior.value=Z.ior,Z.sheen>0){if(W.sheenColor.value.copy(Z.sheenColor).multiplyScalar(Z.sheen),W.sheenRoughness.value=Z.sheenRoughness,Z.sheenColorMap)W.sheenColorMap.value=Z.sheenColorMap,E(Z.sheenColorMap,W.sheenColorMapTransform);if(Z.sheenRoughnessMap)W.sheenRoughnessMap.value=Z.sheenRoughnessMap,E(Z.sheenRoughnessMap,W.sheenRoughnessMapTransform)}if(Z.clearcoat>0){if(W.clearcoat.value=Z.clearcoat,W.clearcoatRoughness.value=Z.clearcoatRoughness,Z.clearcoatMap)W.clearcoatMap.value=Z.clearcoatMap,E(Z.clearcoatMap,W.clearcoatMapTransform);if(Z.clearcoatRoughnessMap)W.clearcoatRoughnessMap.value=Z.clearcoatRoughnessMap,E(Z.clearcoatRoughnessMap,W.clearcoatRoughnessMapTransform);if(Z.clearcoatNormalMap){if(W.clearcoatNormalMap.value=Z.clearcoatNormalMap,E(Z.clearcoatNormalMap,W.clearcoatNormalMapTransform),W.clearcoatNormalScale.value.copy(Z.clearcoatNormalScale),Z.side===1)W.clearcoatNormalScale.value.negate()}}if(Z.dispersion>0)W.dispersion.value=Z.dispersion;if(Z.iridescence>0){if(W.iridescence.value=Z.iridescence,W.iridescenceIOR.value=Z.iridescenceIOR,W.iridescenceThicknessMinimum.value=Z.iridescenceThicknessRange[0],W.iridescenceThicknessMaximum.value=Z.iridescenceThicknessRange[1],Z.iridescenceMap)W.iridescenceMap.value=Z.iridescenceMap,E(Z.iridescenceMap,W.iridescenceMapTransform);if(Z.iridescenceThicknessMap)W.iridescenceThicknessMap.value=Z.iridescenceThicknessMap,E(Z.iridescenceThicknessMap,W.iridescenceThicknessMapTransform)}if(Z.transmission>0){if(W.transmission.value=Z.transmission,W.transmissionSamplerMap.value=$.texture,W.transmissionSamplerSize.value.set($.width,$.height),Z.transmissionMap)W.transmissionMap.value=Z.transmissionMap,E(Z.transmissionMap,W.transmissionMapTransform);if(W.thickness.value=Z.thickness,Z.thicknessMap)W.thicknessMap.value=Z.thicknessMap,E(Z.thicknessMap,W.thicknessMapTransform);W.attenuationDistance.value=Z.attenuationDistance,W.attenuationColor.value.copy(Z.attenuationColor)}if(Z.anisotropy>0){if(W.anisotropyVector.value.set(Z.anisotropy*Math.cos(Z.anisotropyRotation),Z.anisotropy*Math.sin(Z.anisotropyRotation)),Z.anisotropyMap)W.anisotropyMap.value=Z.anisotropyMap,E(Z.anisotropyMap,W.anisotropyMapTransform)}if(W.specularIntensity.value=Z.specularIntensity,W.specularColor.value.copy(Z.specularColor),Z.specularColorMap)W.specularColorMap.value=Z.specularColorMap,E(Z.specularColorMap,W.specularColorMapTransform);if(Z.specularIntensityMap)W.specularIntensityMap.value=Z.specularIntensityMap,E(Z.specularIntensityMap,W.specularIntensityMapTransform)}function F(W,Z){if(Z.matcap)W.matcap.value=Z.matcap}function q(W,Z){const $=Q.get(Z).light;W.referencePosition.value.setFromMatrixPosition($.matrixWorld),W.nearDistance.value=$.shadow.camera.near,W.farDistance.value=$.shadow.camera.far}return{refreshFogUniforms:B,refreshMaterialUniforms:I}}function gn(A,Q,E,B){let I={},K={},J=[];const C=A.getParameter(A.MAX_UNIFORM_BUFFER_BINDINGS);function U($,X){const N=X.program;B.uniformBlockBinding($,N)}function Y($,X){let N=I[$.id];if(N===void 0)F($),N=H($),I[$.id]=N,$.addEventListener("dispose",W);const M=X.program;B.updateUBOMapping($,M);const L=Q.render.frame;if(K[$.id]!==L)G($),K[$.id]=L}function H($){const X=R();$.__bindingPointIndex=X;const N=A.createBuffer(),M=$.__size,L=$.usage;return A.bindBuffer(A.UNIFORM_BUFFER,N),A.bufferData(A.UNIFORM_BUFFER,M,L),A.bindBuffer(A.UNIFORM_BUFFER,null),A.bindBufferBase(A.UNIFORM_BUFFER,X,N),N}function R(){for(let $=0;$<C;$++)if(J.indexOf($)===-1)return J.push($),$;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function G($){const X=I[$.id],N=$.uniforms,M=$.__cache;A.bindBuffer(A.UNIFORM_BUFFER,X);for(let L=0,D=N.length;L<D;L++){const w=Array.isArray(N[L])?N[L]:[N[L]];for(let P=0,V=w.length;P<V;P++){const T=w[P];if(O(T,L,P,M)===!0){const S=T.__offset,h=Array.isArray(T.value)?T.value:[T.value];let x=0;for(let y=0;y<h.length;y++){const j=h[y],v=q(j);if(typeof j==="number"||typeof j==="boolean")T.__data[0]=j,A.bufferSubData(A.UNIFORM_BUFFER,S+x,T.__data);else if(j.isMatrix3)T.__data[0]=j.elements[0],T.__data[1]=j.elements[1],T.__data[2]=j.elements[2],T.__data[3]=0,T.__data[4]=j.elements[3],T.__data[5]=j.elements[4],T.__data[6]=j.elements[5],T.__data[7]=0,T.__data[8]=j.elements[6],T.__data[9]=j.elements[7],T.__data[10]=j.elements[8],T.__data[11]=0;else j.toArray(T.__data,x),x+=v.storage/Float32Array.BYTES_PER_ELEMENT}A.bufferSubData(A.UNIFORM_BUFFER,S,T.__data)}}}A.bindBuffer(A.UNIFORM_BUFFER,null)}function O($,X,N,M){const L=$.value,D=X+"_"+N;if(M[D]===void 0){if(typeof L==="number"||typeof L==="boolean")M[D]=L;else M[D]=L.clone();return!0}else{const w=M[D];if(typeof L==="number"||typeof L==="boolean"){if(w!==L)return M[D]=L,!0}else if(w.equals(L)===!1)return w.copy(L),!0}return!1}function F($){const X=$.uniforms;let N=0;const M=16;for(let D=0,w=X.length;D<w;D++){const P=Array.isArray(X[D])?X[D]:[X[D]];for(let V=0,T=P.length;V<T;V++){const S=P[V],h=Array.isArray(S.value)?S.value:[S.value];for(let x=0,y=h.length;x<y;x++){const j=h[x],v=q(j),_=N%M,g=_%v.boundary,b=_+g;if(N+=g,b!==0&&M-b<v.storage)N+=M-b;S.__data=new Float32Array(v.storage/Float32Array.BYTES_PER_ELEMENT),S.__offset=N,N+=v.storage}}}const L=N%M;if(L>0)N+=M-L;return $.__size=N,$.__cache={},this}function q($){const X={boundary:0,storage:0};if(typeof $==="number"||typeof $==="boolean")X.boundary=4,X.storage=4;else if($.isVector2)X.boundary=8,X.storage=8;else if($.isVector3||$.isColor)X.boundary=16,X.storage=12;else if($.isVector4)X.boundary=16,X.storage=16;else if($.isMatrix3)X.boundary=48,X.storage=48;else if($.isMatrix4)X.boundary=64,X.storage=64;else if($.isTexture)console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group.");else console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",$);return X}function W($){const X=$.target;X.removeEventListener("dispose",W);const N=J.indexOf(X.__bindingPointIndex);J.splice(N,1),A.deleteBuffer(I[X.id]),delete I[X.id],delete K[X.id]}function Z(){for(let $ in I)A.deleteBuffer(I[$]);J=[],I={},K={}}return{bind:U,update:Y,dispose:Z}}function t7(A,Q,E,B,I,K){if(YK.subVectors(A,E).addScalar(0.5).multiply(B),I!==void 0)U9.x=K*YK.x-I*YK.y,U9.y=I*YK.x+K*YK.y;else U9.copy(YK);A.copy(Q),A.x+=U9.x,A.y+=U9.y,A.applyMatrix4(P3)}function pn(A,Q){return A.z-Q.z}function mn(A,Q){return Q.z-A.z}function nn(A,Q,E=0){const B=Q.itemSize;if(A.isInterleavedBufferAttribute||A.array.constructor!==Q.array.constructor){const I=A.count;for(let K=0;K<I;K++)for(let J=0;J<B;J++)Q.setComponent(K+E,J,A.getComponent(K,J))}else Q.array.set(A.array,E*B);Q.needsUpdate=!0}function K5(A,Q,E,B,I,K){const J=A.geometry.attributes.position;if(w5.fromBufferAttribute(J,I),z5.fromBufferAttribute(J,K),E.distanceSqToSegment(w5,z5,wR,YM)>B)return;wR.applyMatrix4(A.matrixWorld);const U=Q.ray.origin.distanceTo(wR);if(U<Q.near||U>Q.far)return;return{distance:U,point:YM.clone().applyMatrix4(A.matrixWorld),index:I,face:null,faceIndex:null,barycoord:null,object:A}}function RM(A,Q,E,B,I,K,J){const C=yR.distanceSqToPoint(A);if(C<E){const U=new f;yR.closestPointToPoint(A,U),U.applyMatrix4(B);const Y=I.ray.origin.distanceTo(U);if(Y<I.near||Y>I.far)return;K.push({distance:Y,distanceToRay:Math.sqrt(C),point:U,index:Q,face:null,faceIndex:null,barycoord:null,object:J})}}function UO(){let A=0,Q=0,E=0,B=0;function I(K,J,C,U){A=K,Q=C,E=-3*K+3*J-2*C-U,B=2*K-2*J+C+U}return{initCatmullRom:function(K,J,C,U,Y){I(J,C,Y*(C-K),Y*(U-J))},initNonuniformCatmullRom:function(K,J,C,U,Y,H,R){let G=(J-K)/Y-(C-K)/(Y+H)+(C-J)/H,O=(C-J)/H-(U-J)/(H+R)+(U-C)/R;G*=H,O*=H,I(J,C,G,O)},calc:function(K){const J=K*K,C=J*K;return A+Q*K+E*J+B*C}}}function OM(A,Q,E,B,I){const K=(B-Q)*0.5,J=(I-E)*0.5,C=A*A,U=A*C;return(2*E-2*B+K+J)*U+(-3*E+3*B-2*K-J)*C+K*A+E}function on(A,Q){const E=1-A;return E*E*Q}function sn(A,Q){return 2*(1-A)*A*Q}function rn(A,Q){return A*A*Q}function q9(A,Q,E,B){return on(A,Q)+sn(A,E)+rn(A,B)}function an(A,Q){const E=1-A;return E*E*E*Q}function tn(A,Q){const E=1-A;return 3*E*E*A*Q}function en(A,Q){return 3*(1-A)*A*A*Q}function Ao(A,Q){return A*A*A*Q}function N9(A,Q,E,B,I){return an(A,Q)+tn(A,E)+en(A,B)+Ao(A,I)}function j3(A,Q,E,B,I){let K,J;if(I===Xo(A,Q,E,B)>0)for(K=Q;K<E;K+=B)J=$M(K,A[K],A[K+1],J);else for(K=E-B;K>=Q;K-=B)J=$M(K,A[K],A[K+1],J);if(J&&r5(J,J.next))w9(J),J=J.next;return J}function cI(A,Q){if(!A)return A;if(!Q)Q=A;let E=A,B;do if(B=!1,!E.steiner&&(r5(E,E.next)||TQ(E.prev,E,E.next)===0)){if(w9(E),E=Q=E.prev,E===E.next)break;B=!0}else E=E.next;while(B||E!==Q);return Q}function D9(A,Q,E,B,I,K,J){if(!A)return;if(!J&&K)Go(A,B,I,K);let C=A,U,Y;while(A.prev!==A.next){if(U=A.prev,Y=A.next,K?Bo(A,B,I,K):Eo(A)){Q.push(U.i/E|0),Q.push(A.i/E|0),Q.push(Y.i/E|0),w9(A),A=Y.next,C=Y.next;continue}if(A=Y,A===C){if(!J)D9(cI(A),Q,E,B,I,K,1);else if(J===1)A=Io(cI(A),Q,E),D9(A,Q,E,B,I,K,2);else if(J===2)Ko(A,Q,E,B,I,K);break}}}function Eo(A){const Q=A.prev,E=A,B=A.next;if(TQ(Q,E,B)>=0)return!1;const I=Q.x,K=E.x,J=B.x,C=Q.y,U=E.y,Y=B.y,H=I<K?I<J?I:J:K<J?K:J,R=C<U?C<Y?C:Y:U<Y?U:Y,G=I>K?I>J?I:J:K>J?K:J,O=C>U?C>Y?C:Y:U>Y?U:Y;let F=B.next;while(F!==Q){if(F.x>=H&&F.x<=G&&F.y>=R&&F.y<=O&&RK(I,C,K,U,J,Y,F.x,F.y)&&TQ(F.prev,F,F.next)>=0)return!1;F=F.next}return!0}function Bo(A,Q,E,B){const I=A.prev,K=A,J=A.next;if(TQ(I,K,J)>=0)return!1;const C=I.x,U=K.x,Y=J.x,H=I.y,R=K.y,G=J.y,O=C<U?C<Y?C:Y:U<Y?U:Y,F=H<R?H<G?H:G:R<G?R:G,q=C>U?C>Y?C:Y:U>Y?U:Y,W=H>R?H>G?H:G:R>G?R:G,Z=xR(O,F,Q,E,B),$=xR(q,W,Q,E,B);let{prevZ:X,nextZ:N}=A;while(X&&X.z>=Z&&N&&N.z<=$){if(X.x>=O&&X.x<=q&&X.y>=F&&X.y<=W&&X!==I&&X!==J&&RK(C,H,U,R,Y,G,X.x,X.y)&&TQ(X.prev,X,X.next)>=0)return!1;if(X=X.prevZ,N.x>=O&&N.x<=q&&N.y>=F&&N.y<=W&&N!==I&&N!==J&&RK(C,H,U,R,Y,G,N.x,N.y)&&TQ(N.prev,N,N.next)>=0)return!1;N=N.nextZ}while(X&&X.z>=Z){if(X.x>=O&&X.x<=q&&X.y>=F&&X.y<=W&&X!==I&&X!==J&&RK(C,H,U,R,Y,G,X.x,X.y)&&TQ(X.prev,X,X.next)>=0)return!1;X=X.prevZ}while(N&&N.z<=$){if(N.x>=O&&N.x<=q&&N.y>=F&&N.y<=W&&N!==I&&N!==J&&RK(C,H,U,R,Y,G,N.x,N.y)&&TQ(N.prev,N,N.next)>=0)return!1;N=N.nextZ}return!0}function Io(A,Q,E){let B=A;do{const I=B.prev,K=B.next.next;if(!r5(I,K)&&h3(I,B,B.next,K)&&M9(I,K)&&M9(K,I))Q.push(I.i/E|0),Q.push(B.i/E|0),Q.push(K.i/E|0),w9(B),w9(B.next),B=A=K;B=B.next}while(B!==A);return cI(B)}function Ko(A,Q,E,B,I,K){let J=A;do{let C=J.next.next;while(C!==J.prev){if(J.i!==C.i&&Oo(J,C)){let U=v3(J,C);J=cI(J,J.next),U=cI(U,U.next),D9(J,Q,E,B,I,K,0),D9(U,Q,E,B,I,K,0);return}C=C.next}J=J.next}while(J!==A)}function Jo(A,Q,E,B){const I=[];let K,J,C,U,Y;for(K=0,J=Q.length;K<J;K++){if(C=Q[K]*B,U=K<J-1?Q[K+1]*B:A.length,Y=j3(A,C,U,B,!1),Y===Y.next)Y.steiner=!0;I.push(Ro(Y))}I.sort(Co);for(K=0;K<I.length;K++)E=Uo(I[K],E);return E}function Co(A,Q){return A.x-Q.x}function Uo(A,Q){const E=Yo(A,Q);if(!E)return Q;const B=v3(E,A);return cI(B,B.next),cI(E,E.next)}function Yo(A,Q){let E=Q,B=-1/0,I;const{x:K,y:J}=A;do{if(J<=E.y&&J>=E.next.y&&E.next.y!==E.y){const G=E.x+(J-E.y)*(E.next.x-E.x)/(E.next.y-E.y);if(G<=K&&G>B){if(B=G,I=E.x<E.next.x?E:E.next,G===K)return I}}E=E.next}while(E!==Q);if(!I)return null;const C=I,U=I.x,Y=I.y;let H=1/0,R;E=I;do{if(K>=E.x&&E.x>=U&&K!==E.x&&RK(J<Y?K:B,J,U,Y,J<Y?B:K,J,E.x,E.y)){if(R=Math.abs(J-E.y)/(K-E.x),M9(E,A)&&(R<H||R===H&&(E.x>I.x||E.x===I.x&&Ho(I,E))))I=E,H=R}E=E.next}while(E!==C);return I}function Ho(A,Q){return TQ(A.prev,A,Q.prev)<0&&TQ(Q.next,A,A.next)<0}function Go(A,Q,E,B){let I=A;do{if(I.z===0)I.z=xR(I.x,I.y,Q,E,B);I.prevZ=I.prev,I.nextZ=I.next,I=I.next}while(I!==A);I.prevZ.nextZ=null,I.prevZ=null,Zo(I)}function Zo(A){let Q,E,B,I,K,J,C,U,Y=1;do{E=A,A=null,K=null,J=0;while(E){J++,B=E,C=0;for(Q=0;Q<Y;Q++)if(C++,B=B.nextZ,!B)break;U=Y;while(C>0||U>0&&B){if(C!==0&&(U===0||!B||E.z<=B.z))I=E,E=E.nextZ,C--;else I=B,B=B.nextZ,U--;if(K)K.nextZ=I;else A=I;I.prevZ=K,K=I}E=B}K.nextZ=null,Y*=2}while(J>1);return A}function xR(A,Q,E,B,I){return A=(A-E)*I|0,Q=(Q-B)*I|0,A=(A|A<<8)&16711935,A=(A|A<<4)&252645135,A=(A|A<<2)&858993459,A=(A|A<<1)&1431655765,Q=(Q|Q<<8)&16711935,Q=(Q|Q<<4)&252645135,Q=(Q|Q<<2)&858993459,Q=(Q|Q<<1)&1431655765,A|Q<<1}function Ro(A){let Q=A,E=A;do{if(Q.x<E.x||Q.x===E.x&&Q.y<E.y)E=Q;Q=Q.next}while(Q!==A);return E}function RK(A,Q,E,B,I,K,J,C){return(I-J)*(Q-C)>=(A-J)*(K-C)&&(A-J)*(B-C)>=(E-J)*(Q-C)&&(E-J)*(K-C)>=(I-J)*(B-C)}function Oo(A,Q){return A.next.i!==Q.i&&A.prev.i!==Q.i&&!$o(A,Q)&&(M9(A,Q)&&M9(Q,A)&&Wo(A,Q)&&(TQ(A.prev,A,Q.prev)||TQ(A,Q.prev,Q))||r5(A,Q)&&TQ(A.prev,A,A.next)>0&&TQ(Q.prev,Q,Q.next)>0)}function TQ(A,Q,E){return(Q.y-A.y)*(E.x-Q.x)-(Q.x-A.x)*(E.y-Q.y)}function r5(A,Q){return A.x===Q.x&&A.y===Q.y}function h3(A,Q,E,B){const I=R5(TQ(A,Q,E)),K=R5(TQ(A,Q,B)),J=R5(TQ(E,B,A)),C=R5(TQ(E,B,Q));if(I!==K&&J!==C)return!0;if(I===0&&Z5(A,E,Q))return!0;if(K===0&&Z5(A,B,Q))return!0;if(J===0&&Z5(E,A,B))return!0;if(C===0&&Z5(E,Q,B))return!0;return!1}function Z5(A,Q,E){return Q.x<=Math.max(A.x,E.x)&&Q.x>=Math.min(A.x,E.x)&&Q.y<=Math.max(A.y,E.y)&&Q.y>=Math.min(A.y,E.y)}function R5(A){return A>0?1:A<0?-1:0}function $o(A,Q){let E=A;do{if(E.i!==A.i&&E.next.i!==A.i&&E.i!==Q.i&&E.next.i!==Q.i&&h3(E,E.next,A,Q))return!0;E=E.next}while(E!==A);return!1}function M9(A,Q){return TQ(A.prev,A,A.next)<0?TQ(A,Q,A.next)>=0&&TQ(A,A.prev,Q)>=0:TQ(A,Q,A.prev)<0||TQ(A,A.next,Q)<0}function Wo(A,Q){let E=A,B=!1;const I=(A.x+Q.x)/2,K=(A.y+Q.y)/2;do{if(E.y>K!==E.next.y>K&&E.next.y!==E.y&&I<(E.next.x-E.x)*(K-E.y)/(E.next.y-E.y)+E.x)B=!B;E=E.next}while(E!==A);return B}function v3(A,Q){const E=new gR(A.i,A.x,A.y),B=new gR(Q.i,Q.x,Q.y),I=A.next,K=Q.prev;return A.next=Q,Q.prev=A,E.next=I,I.prev=E,B.next=E,E.prev=B,K.next=B,B.prev=K,B}function $M(A,Q,E,B){const I=new gR(A,Q,E);if(!B)I.prev=I,I.next=I;else I.next=B.next,I.prev=B,B.next.prev=I,B.next=I;return I}function w9(A){if(A.next.prev=A.prev,A.prev.next=A.next,A.prevZ)A.prevZ.nextZ=A.nextZ;if(A.nextZ)A.nextZ.prevZ=A.prevZ}function gR(A,Q,E){this.i=A,this.x=Q,this.y=E,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Xo(A,Q,E,B){let I=0;for(let K=Q,J=E-B;K<E;K+=B)I+=(A[J]-A[K])*(A[K+1]+A[J+1]),J=K;return I}function WM(A){const Q=A.length;if(Q>2&&A[Q-1].equals(A[0]))A.pop()}function XM(A,Q){for(let E=0;E<Q.length;E++)A.push(Q[E].x),A.push(Q[E].y)}function qo(A,Q,E){if(E.shapes=[],Array.isArray(A))for(let B=0,I=A.length;B<I;B++){const K=A[B];E.shapes.push(K.uuid)}else E.shapes.push(A.uuid);if(E.options=Object.assign({},Q),Q.extrudePath!==void 0)E.options.extrudePath=Q.extrudePath.toJSON();return E}function No(A,Q){if(Q.shapes=[],Array.isArray(A))for(let E=0,B=A.length;E<B;E++){const I=A[E];Q.shapes.push(I.uuid)}else Q.shapes.push(A.uuid);return Q}function FM(A,Q,E){const B=`${A.x},${A.y},${A.z}-${Q.x},${Q.y},${Q.z}`,I=`${Q.x},${Q.y},${Q.z}-${A.x},${A.y},${A.z}`;if(E.has(B)===!0||E.has(I)===!0)return!1;else return E.add(B),E.add(I),!0}function uI(A,Q,E){if(!A||!E&&A.constructor===Q)return A;if(typeof Q.BYTES_PER_ELEMENT==="number")return new Q(A);return Array.prototype.slice.call(A)}function y3(A){return ArrayBuffer.isView(A)&&!(A instanceof DataView)}function x3(A){function Q(I,K){return A[I]-A[K]}const E=A.length,B=new Array(E);for(let I=0;I!==E;++I)B[I]=I;return B.sort(Q),B}function bR(A,Q,E){const B=A.length,I=new A.constructor(B);for(let K=0,J=0;J!==B;++K){const C=E[K]*Q;for(let U=0;U!==Q;++U)I[J++]=A[C+U]}return I}function FO(A,Q,E,B){let I=1,K=A[0];while(K!==void 0&&K[B]===void 0)K=A[I++];if(K===void 0)return;let J=K[B];if(J===void 0)return;if(Array.isArray(J))do{if(J=K[B],J!==void 0)Q.push(K.time),E.push.apply(E,J);K=A[I++]}while(K!==void 0);else if(J.toArray!==void 0)do{if(J=K[B],J!==void 0)Q.push(K.time),J.toArray(E,E.length);K=A[I++]}while(K!==void 0);else do{if(J=K[B],J!==void 0)Q.push(K.time),E.push(J);K=A[I++]}while(K!==void 0)}function Lo(A,Q,E,B,I=30){const K=A.clone();K.name=Q;const J=[];for(let U=0;U<K.tracks.length;++U){const Y=K.tracks[U],H=Y.getValueSize(),R=[],G=[];for(let O=0;O<Y.times.length;++O){const F=Y.times[O]*I;if(F<E||F>=B)continue;R.push(Y.times[O]);for(let q=0;q<H;++q)G.push(Y.values[O*H+q])}if(R.length===0)continue;Y.times=uI(R,Y.times.constructor),Y.values=uI(G,Y.values.constructor),J.push(Y)}K.tracks=J;let C=1/0;for(let U=0;U<K.tracks.length;++U)if(C>K.tracks[U].times[0])C=K.tracks[U].times[0];for(let U=0;U<K.tracks.length;++U)K.tracks[U].shift(-1*C);return K.resetDuration(),K}function Do(A,Q=0,E=A,B=30){if(B<=0)B=30;const I=E.tracks.length,K=Q/B;for(let J=0;J<I;++J){const C=E.tracks[J],U=C.ValueTypeName;if(U==="bool"||U==="string")continue;const Y=A.tracks.find(function(Z){return Z.name===C.name&&Z.ValueTypeName===U});if(Y===void 0)continue;let H=0;const R=C.getValueSize();if(C.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)H=R/3;let G=0;const O=Y.getValueSize();if(Y.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)G=O/3;const F=C.times.length-1;let q;if(K<=C.times[0]){const Z=H,$=R-H;q=C.values.slice(Z,$)}else if(K>=C.times[F]){const Z=F*R+H,$=Z+R-H;q=C.values.slice(Z,$)}else{const Z=C.createInterpolant(),$=H,X=R-H;Z.evaluate(K),q=Z.resultBuffer.slice($,X)}if(U==="quaternion")new C0().fromArray(q).normalize().conjugate().toArray(q);const W=Y.times.length;for(let Z=0;Z<W;++Z){const $=Z*O+G;if(U==="quaternion")C0.multiplyQuaternionsFlat(Y.values,$,q,0,Y.values,$);else{const X=O-G*2;for(let N=0;N<X;++N)Y.values[$+N]-=q[N]}}}return A.blendMode=2501,A}function wo(A){switch(A.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return o1;case"vector":case"vector2":case"vector3":case"vector4":return z1;case"color":return i9;case"quaternion":return g1;case"bool":case"boolean":return n8;case"string":return uB}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+A)}function zo(A){if(A.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const Q=wo(A.type);if(A.times===void 0){const E=[],B=[];FO(A.keys,E,B,"value"),A.times=E,A.values=B}if(Q.parse!==void 0)return Q.parse(A);else return new Q(A.name,A.times,A.values,A.interpolation)}function TM(){return performance.now()}function kM(A,Q){return A.distance-Q.distance}function fR(A,Q,E,B){let I=!0;if(A.layers.test(Q.layers)){if(A.raycast(Q,E)===!1)I=!1}if(I===!0&&B===!0){const K=A.children;for(let J=0,C=K.length;J<C;J++)fR(K[J],Q,E,!0)}}function e3(A){const Q=[];if(A.isBone===!0)Q.push(A);for(let E=0;E<A.children.length;E++)Q.push.apply(Q,e3(A.children[E]));return Q}function fQ(A,Q,E,B,I,K,J){F5.set(I,K,J).unproject(B);const C=Q[A];if(C!==void 0){const U=E.getAttribute("position");for(let Y=0,H=C.length;Y<H;Y++)U.setXYZ(C[Y],F5.x,F5.y,F5.z)}}var T5="169",z9={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},S5={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Cf=0,Uf=1,Yf=2,Hf=3,Gf=0,Zf=1,Rf=2,Of=3,xE=0,ZE=1,FQ=2,M0=0,V9=1,gE=2,$f=3,Wf=4,bE=5,V1=100,Xf=101,Ff=102,qf=103,Nf=104,RE=200,uR=201,Lf=202,Df=203,T9=204,S9=205,b8=206,Mf=207,hB=208,wf=209,zf=210,Vf=211,Tf=212,Sf=213,Pf=214,_f=0,kf=1,jf=2,hf=3,vf=4,yf=5,xf=6,gf=7,pR=0,bf=1,mR=2,ff=0,uM=1,pM=2,mM=3,cM=4,uf=5,dM=6,lM=7,pf="attached",mf="detached",f8=300,cf=301,df=302,cR=303,nM=304,lf=306,CQ=1000,RQ=1001,vB=1002,L0=1003,P9=1004,nf=1004,_9=1005,of=1005,l0=1006,k9=1007,sf=1007,fE=1008,oM=1008,qQ=1009,rf=1010,af=1011,j9=1012,tf=1013,ef=1014,NQ=1015,eA=1016,Au=1017,Qu=1018,dI=1020,Eu=35902,Bu=1021,Iu=1022,UQ=1023,Ku=1024,Ju=1025,Cu=1026,lI=1027,T1=1028,iM=1029,u8=1030,sM=1031,Uu=1032,Yu=1033,dR=33776,lR=33777,rM=33778,P5=33779,h9=35840,nR=35841,_5=35842,aM=35843,v9=36196,k5=37492,oR=37496,j5=37808,Hu=37809,Gu=37810,Zu=37811,h5=37812,Ru=37813,Ou=37814,$u=37815,Wu=37816,Xu=37817,Fu=37818,qu=37819,Nu=37820,Lu=37821,iR=36492,tM=36494,eM=36495,Du=36283,Mu=36284,wu=36285,zu=36286,Vu=2200,Tu=2201,Su=2202,y9=2300,FK=2301,Pu=2302,_u=2400,ku=2401,ju=2402,hu=2500,vu=2501,sR=0,x9=1,qK=2,yu=3200,v5=3201,xu=3202,gu=3203,A3=0,bu=1,mQ="",$0="srgb",f0="srgb-linear",rR="display-p3",aR="display-p3-linear",fu="linear",Q3="srgb",uu="rec709",pu="p3",mu=0,cu=7680,du=7681,E3=7682,lu=7683,nu=34055,ou=34056,iu=5386,su=512,ru=513,B3=514,au=515,tu=516,eu=517,Ap=518,Qp=519,Ep=512,Bp=513,Ip=514,Kp=515,Jp=516,Cp=517,Up=518,Yp=519,Hp=35044,g9=35048,Gp=35040,Zp=35045,Rp=35049,Op=35041,$p=35046,Wp=35050,Xp=35042,Fp="100",qp="300 es",I3=2000,Np=2001;class uE{addEventListener(A,Q){if(this._listeners===void 0)this._listeners={};const E=this._listeners;if(E[A]===void 0)E[A]=[];if(E[A].indexOf(Q)===-1)E[A].push(Q)}hasEventListener(A,Q){if(this._listeners===void 0)return!1;const E=this._listeners;return E[A]!==void 0&&E[A].indexOf(Q)!==-1}removeEventListener(A,Q){if(this._listeners===void 0)return;const B=this._listeners[A];if(B!==void 0){const I=B.indexOf(Q);if(I!==-1)B.splice(I,1)}}dispatchEvent(A){if(this._listeners===void 0)return;const E=this._listeners[A.type];if(E!==void 0){A.target=this;const B=E.slice(0);for(let I=0,K=B.length;I<K;I++)B[I].call(this,A);A.target=null}}}var O1=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],YD=1234567,pI=Math.PI/180,$K=180/Math.PI,EQ={DEG2RAD:pI,RAD2DEG:$K,generateUUID:l1,clamp:jQ,euclideanModulo:tR,mapLinear:Lp,inverseLerp:Dp,lerp:X9,damp:Mp,pingpong:wp,smoothstep:zp,smootherstep:Vp,randInt:Tp,randFloat:Sp,randFloatSpread:Pp,seededRandom:_p,degToRad:kp,radToDeg:jp,isPowerOfTwo:hp,ceilPowerOfTwo:vp,floorPowerOfTwo:yp,setQuaternionFromProperEuler:xp,normalize:z0,denormalize:w1};class RA{constructor(A=0,Q=0){RA.prototype.isVector2=!0,this.x=A,this.y=Q}get width(){return this.x}set width(A){this.x=A}get height(){return this.y}set height(A){this.y=A}set(A,Q){return this.x=A,this.y=Q,this}setScalar(A){return this.x=A,this.y=A,this}setX(A){return this.x=A,this}setY(A){return this.y=A,this}setComponent(A,Q){switch(A){case 0:this.x=Q;break;case 1:this.y=Q;break;default:throw new Error("index is out of range: "+A)}return this}getComponent(A){switch(A){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+A)}}clone(){return new this.constructor(this.x,this.y)}copy(A){return this.x=A.x,this.y=A.y,this}add(A){return this.x+=A.x,this.y+=A.y,this}addScalar(A){return this.x+=A,this.y+=A,this}addVectors(A,Q){return this.x=A.x+Q.x,this.y=A.y+Q.y,this}addScaledVector(A,Q){return this.x+=A.x*Q,this.y+=A.y*Q,this}sub(A){return this.x-=A.x,this.y-=A.y,this}subScalar(A){return this.x-=A,this.y-=A,this}subVectors(A,Q){return this.x=A.x-Q.x,this.y=A.y-Q.y,this}multiply(A){return this.x*=A.x,this.y*=A.y,this}multiplyScalar(A){return this.x*=A,this.y*=A,this}divide(A){return this.x/=A.x,this.y/=A.y,this}divideScalar(A){return this.multiplyScalar(1/A)}applyMatrix3(A){const Q=this.x,E=this.y,B=A.elements;return this.x=B[0]*Q+B[3]*E+B[6],this.y=B[1]*Q+B[4]*E+B[7],this}min(A){return this.x=Math.min(this.x,A.x),this.y=Math.min(this.y,A.y),this}max(A){return this.x=Math.max(this.x,A.x),this.y=Math.max(this.y,A.y),this}clamp(A,Q){return this.x=Math.max(A.x,Math.min(Q.x,this.x)),this.y=Math.max(A.y,Math.min(Q.y,this.y)),this}clampScalar(A,Q){return this.x=Math.max(A,Math.min(Q,this.x)),this.y=Math.max(A,Math.min(Q,this.y)),this}clampLength(A,Q){const E=this.length();return this.divideScalar(E||1).multiplyScalar(Math.max(A,Math.min(Q,E)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(A){return this.x*A.x+this.y*A.y}cross(A){return this.x*A.y-this.y*A.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(A){const Q=Math.sqrt(this.lengthSq()*A.lengthSq());if(Q===0)return Math.PI/2;const E=this.dot(A)/Q;return Math.acos(jQ(E,-1,1))}distanceTo(A){return Math.sqrt(this.distanceToSquared(A))}distanceToSquared(A){const Q=this.x-A.x,E=this.y-A.y;return Q*Q+E*E}manhattanDistanceTo(A){return Math.abs(this.x-A.x)+Math.abs(this.y-A.y)}setLength(A){return this.normalize().multiplyScalar(A)}lerp(A,Q){return this.x+=(A.x-this.x)*Q,this.y+=(A.y-this.y)*Q,this}lerpVectors(A,Q,E){return this.x=A.x+(Q.x-A.x)*E,this.y=A.y+(Q.y-A.y)*E,this}equals(A){return A.x===this.x&&A.y===this.y}fromArray(A,Q=0){return this.x=A[Q],this.y=A[Q+1],this}toArray(A=[],Q=0){return A[Q]=this.x,A[Q+1]=this.y,A}fromBufferAttribute(A,Q){return this.x=A.getX(Q),this.y=A.getY(Q),this}rotateAround(A,Q){const E=Math.cos(Q),B=Math.sin(Q),I=this.x-A.x,K=this.y-A.y;return this.x=I*E-K*B+A.x,this.y=I*B+K*E+A.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class J0{constructor(A,Q,E,B,I,K,J,C,U){if(J0.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],A!==void 0)this.set(A,Q,E,B,I,K,J,C,U)}set(A,Q,E,B,I,K,J,C,U){const Y=this.elements;return Y[0]=A,Y[1]=B,Y[2]=J,Y[3]=Q,Y[4]=I,Y[5]=C,Y[6]=E,Y[7]=K,Y[8]=U,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(A){const Q=this.elements,E=A.elements;return Q[0]=E[0],Q[1]=E[1],Q[2]=E[2],Q[3]=E[3],Q[4]=E[4],Q[5]=E[5],Q[6]=E[6],Q[7]=E[7],Q[8]=E[8],this}extractBasis(A,Q,E){return A.setFromMatrix3Column(this,0),Q.setFromMatrix3Column(this,1),E.setFromMatrix3Column(this,2),this}setFromMatrix4(A){const Q=A.elements;return this.set(Q[0],Q[4],Q[8],Q[1],Q[5],Q[9],Q[2],Q[6],Q[10]),this}multiply(A){return this.multiplyMatrices(this,A)}premultiply(A){return this.multiplyMatrices(A,this)}multiplyMatrices(A,Q){const E=A.elements,B=Q.elements,I=this.elements,K=E[0],J=E[3],C=E[6],U=E[1],Y=E[4],H=E[7],R=E[2],G=E[5],O=E[8],F=B[0],q=B[3],W=B[6],Z=B[1],$=B[4],X=B[7],N=B[2],M=B[5],L=B[8];return I[0]=K*F+J*Z+C*N,I[3]=K*q+J*$+C*M,I[6]=K*W+J*X+C*L,I[1]=U*F+Y*Z+H*N,I[4]=U*q+Y*$+H*M,I[7]=U*W+Y*X+H*L,I[2]=R*F+G*Z+O*N,I[5]=R*q+G*$+O*M,I[8]=R*W+G*X+O*L,this}multiplyScalar(A){const Q=this.elements;return Q[0]*=A,Q[3]*=A,Q[6]*=A,Q[1]*=A,Q[4]*=A,Q[7]*=A,Q[2]*=A,Q[5]*=A,Q[8]*=A,this}determinant(){const A=this.elements,Q=A[0],E=A[1],B=A[2],I=A[3],K=A[4],J=A[5],C=A[6],U=A[7],Y=A[8];return Q*K*Y-Q*J*U-E*I*Y+E*J*C+B*I*U-B*K*C}invert(){const A=this.elements,Q=A[0],E=A[1],B=A[2],I=A[3],K=A[4],J=A[5],C=A[6],U=A[7],Y=A[8],H=Y*K-J*U,R=J*C-Y*I,G=U*I-K*C,O=Q*H+E*R+B*G;if(O===0)return this.set(0,0,0,0,0,0,0,0,0);const F=1/O;return A[0]=H*F,A[1]=(B*U-Y*E)*F,A[2]=(J*E-B*K)*F,A[3]=R*F,A[4]=(Y*Q-B*C)*F,A[5]=(B*I-J*Q)*F,A[6]=G*F,A[7]=(E*C-U*Q)*F,A[8]=(K*Q-E*I)*F,this}transpose(){let A;const Q=this.elements;return A=Q[1],Q[1]=Q[3],Q[3]=A,A=Q[2],Q[2]=Q[6],Q[6]=A,A=Q[5],Q[5]=Q[7],Q[7]=A,this}getNormalMatrix(A){return this.setFromMatrix4(A).invert().transpose()}transposeIntoArray(A){const Q=this.elements;return A[0]=Q[0],A[1]=Q[3],A[2]=Q[6],A[3]=Q[1],A[4]=Q[4],A[5]=Q[7],A[6]=Q[2],A[7]=Q[5],A[8]=Q[8],this}setUvTransform(A,Q,E,B,I,K,J){const C=Math.cos(I),U=Math.sin(I);return this.set(E*C,E*U,-E*(C*K+U*J)+K+A,-B*U,B*C,-B*(-U*K+C*J)+J+Q,0,0,1),this}scale(A,Q){return this.premultiply(lZ.makeScale(A,Q)),this}rotate(A){return this.premultiply(lZ.makeRotation(-A)),this}translate(A,Q){return this.premultiply(lZ.makeTranslation(A,Q)),this}makeTranslation(A,Q){if(A.isVector2)this.set(1,0,A.x,0,1,A.y,0,0,1);else this.set(1,0,A,0,1,Q,0,0,1);return this}makeRotation(A){const Q=Math.cos(A),E=Math.sin(A);return this.set(Q,-E,0,E,Q,0,0,0,1),this}makeScale(A,Q){return this.set(A,0,0,0,Q,0,0,0,1),this}equals(A){const Q=this.elements,E=A.elements;for(let B=0;B<9;B++)if(Q[B]!==E[B])return!1;return!0}fromArray(A,Q=0){for(let E=0;E<9;E++)this.elements[E]=A[E+Q];return this}toArray(A=[],Q=0){const E=this.elements;return A[Q]=E[0],A[Q+1]=E[1],A[Q+2]=E[2],A[Q+3]=E[3],A[Q+4]=E[4],A[Q+5]=E[5],A[Q+6]=E[6],A[Q+7]=E[7],A[Q+8]=E[8],A}clone(){return new this.constructor().fromArray(this.elements)}}var lZ=/*@__PURE__*/new J0,gp={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array},HD={},GD=/*@__PURE__*/new J0().set(0.8224621,0.177538,0,0.0331941,0.9668058,0,0.0170827,0.0723974,0.9105199),ZD=/*@__PURE__*/new J0().set(1.2249401,-0.2249404,0,-0.0420569,1.0420571,0,-0.0196376,-0.0786361,1.0982735),E9={["srgb-linear"]:{transfer:"linear",primaries:"rec709",luminanceCoefficients:[0.2126,0.7152,0.0722],toReference:(A)=>A,fromReference:(A)=>A},["srgb"]:{transfer:"srgb",primaries:"rec709",luminanceCoefficients:[0.2126,0.7152,0.0722],toReference:(A)=>A.convertSRGBToLinear(),fromReference:(A)=>A.convertLinearToSRGB()},["display-p3-linear"]:{transfer:"linear",primaries:"p3",luminanceCoefficients:[0.2289,0.6917,0.0793],toReference:(A)=>A.applyMatrix3(ZD),fromReference:(A)=>A.applyMatrix3(GD)},["display-p3"]:{transfer:"srgb",primaries:"p3",luminanceCoefficients:[0.2289,0.6917,0.0793],toReference:(A)=>A.convertSRGBToLinear().applyMatrix3(ZD),fromReference:(A)=>A.applyMatrix3(GD).convertLinearToSRGB()}},pp=/*@__PURE__*/new Set(["srgb-linear","display-p3-linear"]),D0={enabled:!0,_workingColorSpace:"srgb-linear",get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(A){if(!pp.has(A))throw new Error(`Unsupported working color space, "${A}".`);this._workingColorSpace=A},convert:function(A,Q,E){if(this.enabled===!1||Q===E||!Q||!E)return A;const B=E9[Q].toReference,I=E9[E].fromReference;return I(B(A))},fromWorkingColorSpace:function(A,Q){return this.convert(A,this._workingColorSpace,Q)},toWorkingColorSpace:function(A,Q){return this.convert(A,Q,this._workingColorSpace)},getPrimaries:function(A){return E9[A].primaries},getTransfer:function(A){if(A==="")return"linear";return E9[A].transfer},getLuminanceCoefficients:function(A,Q=this._workingColorSpace){return A.fromArray(E9[Q].luminanceCoefficients)}},o6;class eR{static getDataURL(A){if(/^data:/i.test(A.src))return A.src;if(typeof HTMLCanvasElement==="undefined")return A.src;let Q;if(A instanceof HTMLCanvasElement)Q=A;else{if(o6===void 0)o6=L9("canvas");o6.width=A.width,o6.height=A.height;const E=o6.getContext("2d");if(A instanceof ImageData)E.putImageData(A,0,0);else E.drawImage(A,0,0,A.width,A.height);Q=o6}if(Q.width>2048||Q.height>2048)return console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",A),Q.toDataURL("image/jpeg",0.6);else return Q.toDataURL("image/png")}static sRGBToLinear(A){if(typeof HTMLImageElement!=="undefined"&&A instanceof HTMLImageElement||typeof HTMLCanvasElement!=="undefined"&&A instanceof HTMLCanvasElement||typeof ImageBitmap!=="undefined"&&A instanceof ImageBitmap){const Q=L9("canvas");Q.width=A.width,Q.height=A.height;const E=Q.getContext("2d");E.drawImage(A,0,0,A.width,A.height);const B=E.getImageData(0,0,A.width,A.height),I=B.data;for(let K=0;K<I.length;K++)I[K]=OK(I[K]/255)*255;return E.putImageData(B,0,0),Q}else if(A.data){const Q=A.data.slice(0);for(let E=0;E<Q.length;E++)if(Q instanceof Uint8Array||Q instanceof Uint8ClampedArray)Q[E]=Math.floor(OK(Q[E]/255)*255);else Q[E]=OK(Q[E]);return{data:Q,width:A.width,height:A.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),A}}var mp=0;class B8{constructor(A=null){this.isSource=!0,Object.defineProperty(this,"id",{value:mp++}),this.uuid=l1(),this.data=A,this.dataReady=!0,this.version=0}set needsUpdate(A){if(A===!0)this.version++}toJSON(A){const Q=A===void 0||typeof A==="string";if(!Q&&A.images[this.uuid]!==void 0)return A.images[this.uuid];const E={uuid:this.uuid,url:""},B=this.data;if(B!==null){let I;if(Array.isArray(B)){I=[];for(let K=0,J=B.length;K<J;K++)if(B[K].isDataTexture)I.push(oZ(B[K].image));else I.push(oZ(B[K]))}else I=oZ(B);E.url=I}if(!Q)A.images[this.uuid]=E;return E}}var cp=0;class JQ extends uE{constructor(A=JQ.DEFAULT_IMAGE,Q=JQ.DEFAULT_MAPPING,E=1001,B=1001,I=1006,K=1008,J=1023,C=1009,U=JQ.DEFAULT_ANISOTROPY,Y=""){super();this.isTexture=!0,Object.defineProperty(this,"id",{value:cp++}),this.uuid=l1(),this.name="",this.source=new B8(A),this.mipmaps=[],this.mapping=Q,this.channel=0,this.wrapS=E,this.wrapT=B,this.magFilter=I,this.minFilter=K,this.anisotropy=U,this.format=J,this.internalFormat=null,this.type=C,this.offset=new RA(0,0),this.repeat=new RA(1,1),this.center=new RA(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new J0,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=Y,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(A=null){this.source.data=A}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(A){return this.name=A.name,this.source=A.source,this.mipmaps=A.mipmaps.slice(0),this.mapping=A.mapping,this.channel=A.channel,this.wrapS=A.wrapS,this.wrapT=A.wrapT,this.magFilter=A.magFilter,this.minFilter=A.minFilter,this.anisotropy=A.anisotropy,this.format=A.format,this.internalFormat=A.internalFormat,this.type=A.type,this.offset.copy(A.offset),this.repeat.copy(A.repeat),this.center.copy(A.center),this.rotation=A.rotation,this.matrixAutoUpdate=A.matrixAutoUpdate,this.matrix.copy(A.matrix),this.generateMipmaps=A.generateMipmaps,this.premultiplyAlpha=A.premultiplyAlpha,this.flipY=A.flipY,this.unpackAlignment=A.unpackAlignment,this.colorSpace=A.colorSpace,this.userData=JSON.parse(JSON.stringify(A.userData)),this.needsUpdate=!0,this}toJSON(A){const Q=A===void 0||typeof A==="string";if(!Q&&A.textures[this.uuid]!==void 0)return A.textures[this.uuid];const E={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(A).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(Object.keys(this.userData).length>0)E.userData=this.userData;if(!Q)A.textures[this.uuid]=E;return E}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(A){if(this.mapping!==300)return A;if(A.applyMatrix3(this.matrix),A.x<0||A.x>1)switch(this.wrapS){case 1000:A.x=A.x-Math.floor(A.x);break;case 1001:A.x=A.x<0?0:1;break;case 1002:if(Math.abs(Math.floor(A.x)%2)===1)A.x=Math.ceil(A.x)-A.x;else A.x=A.x-Math.floor(A.x);break}if(A.y<0||A.y>1)switch(this.wrapT){case 1000:A.y=A.y-Math.floor(A.y);break;case 1001:A.y=A.y<0?0:1;break;case 1002:if(Math.abs(Math.floor(A.y)%2)===1)A.y=Math.ceil(A.y)-A.y;else A.y=A.y-Math.floor(A.y);break}if(this.flipY)A.y=1-A.y;return A}set needsUpdate(A){if(A===!0)this.version++,this.source.needsUpdate=!0}set needsPMREMUpdate(A){if(A===!0)this.pmremVersion++}}JQ.DEFAULT_IMAGE=null;JQ.DEFAULT_MAPPING=300;JQ.DEFAULT_ANISOTROPY=1;class gA{constructor(A=0,Q=0,E=0,B=1){gA.prototype.isVector4=!0,this.x=A,this.y=Q,this.z=E,this.w=B}get width(){return this.z}set width(A){this.z=A}get height(){return this.w}set height(A){this.w=A}set(A,Q,E,B){return this.x=A,this.y=Q,this.z=E,this.w=B,this}setScalar(A){return this.x=A,this.y=A,this.z=A,this.w=A,this}setX(A){return this.x=A,this}setY(A){return this.y=A,this}setZ(A){return this.z=A,this}setW(A){return this.w=A,this}setComponent(A,Q){switch(A){case 0:this.x=Q;break;case 1:this.y=Q;break;case 2:this.z=Q;break;case 3:this.w=Q;break;default:throw new Error("index is out of range: "+A)}return this}getComponent(A){switch(A){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+A)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(A){return this.x=A.x,this.y=A.y,this.z=A.z,this.w=A.w!==void 0?A.w:1,this}add(A){return this.x+=A.x,this.y+=A.y,this.z+=A.z,this.w+=A.w,this}addScalar(A){return this.x+=A,this.y+=A,this.z+=A,this.w+=A,this}addVectors(A,Q){return this.x=A.x+Q.x,this.y=A.y+Q.y,this.z=A.z+Q.z,this.w=A.w+Q.w,this}addScaledVector(A,Q){return this.x+=A.x*Q,this.y+=A.y*Q,this.z+=A.z*Q,this.w+=A.w*Q,this}sub(A){return this.x-=A.x,this.y-=A.y,this.z-=A.z,this.w-=A.w,this}subScalar(A){return this.x-=A,this.y-=A,this.z-=A,this.w-=A,this}subVectors(A,Q){return this.x=A.x-Q.x,this.y=A.y-Q.y,this.z=A.z-Q.z,this.w=A.w-Q.w,this}multiply(A){return this.x*=A.x,this.y*=A.y,this.z*=A.z,this.w*=A.w,this}multiplyScalar(A){return this.x*=A,this.y*=A,this.z*=A,this.w*=A,this}applyMatrix4(A){const Q=this.x,E=this.y,B=this.z,I=this.w,K=A.elements;return this.x=K[0]*Q+K[4]*E+K[8]*B+K[12]*I,this.y=K[1]*Q+K[5]*E+K[9]*B+K[13]*I,this.z=K[2]*Q+K[6]*E+K[10]*B+K[14]*I,this.w=K[3]*Q+K[7]*E+K[11]*B+K[15]*I,this}divideScalar(A){return this.multiplyScalar(1/A)}setAxisAngleFromQuaternion(A){this.w=2*Math.acos(A.w);const Q=Math.sqrt(1-A.w*A.w);if(Q<0.0001)this.x=1,this.y=0,this.z=0;else this.x=A.x/Q,this.y=A.y/Q,this.z=A.z/Q;return this}setAxisAngleFromRotationMatrix(A){let Q,E,B,I;const K=0.01,J=0.1,C=A.elements,U=C[0],Y=C[4],H=C[8],R=C[1],G=C[5],O=C[9],F=C[2],q=C[6],W=C[10];if(Math.abs(Y-R)<0.01&&Math.abs(H-F)<0.01&&Math.abs(O-q)<0.01){if(Math.abs(Y+R)<0.1&&Math.abs(H+F)<0.1&&Math.abs(O+q)<0.1&&Math.abs(U+G+W-3)<0.1)return this.set(1,0,0,0),this;Q=Math.PI;const $=(U+1)/2,X=(G+1)/2,N=(W+1)/2,M=(Y+R)/4,L=(H+F)/4,D=(O+q)/4;if($>X&&$>N)if($<0.01)E=0,B=0.707106781,I=0.707106781;else E=Math.sqrt($),B=M/E,I=L/E;else if(X>N)if(X<0.01)E=0.707106781,B=0,I=0.707106781;else B=Math.sqrt(X),E=M/B,I=D/B;else if(N<0.01)E=0.707106781,B=0.707106781,I=0;else I=Math.sqrt(N),E=L/I,B=D/I;return this.set(E,B,I,Q),this}let Z=Math.sqrt((q-O)*(q-O)+(H-F)*(H-F)+(R-Y)*(R-Y));if(Math.abs(Z)<0.001)Z=1;return this.x=(q-O)/Z,this.y=(H-F)/Z,this.z=(R-Y)/Z,this.w=Math.acos((U+G+W-1)/2),this}setFromMatrixPosition(A){const Q=A.elements;return this.x=Q[12],this.y=Q[13],this.z=Q[14],this.w=Q[15],this}min(A){return this.x=Math.min(this.x,A.x),this.y=Math.min(this.y,A.y),this.z=Math.min(this.z,A.z),this.w=Math.min(this.w,A.w),this}max(A){return this.x=Math.max(this.x,A.x),this.y=Math.max(this.y,A.y),this.z=Math.max(this.z,A.z),this.w=Math.max(this.w,A.w),this}clamp(A,Q){return this.x=Math.max(A.x,Math.min(Q.x,this.x)),this.y=Math.max(A.y,Math.min(Q.y,this.y)),this.z=Math.max(A.z,Math.min(Q.z,this.z)),this.w=Math.max(A.w,Math.min(Q.w,this.w)),this}clampScalar(A,Q){return this.x=Math.max(A,Math.min(Q,this.x)),this.y=Math.max(A,Math.min(Q,this.y)),this.z=Math.max(A,Math.min(Q,this.z)),this.w=Math.max(A,Math.min(Q,this.w)),this}clampLength(A,Q){const E=this.length();return this.divideScalar(E||1).multiplyScalar(Math.max(A,Math.min(Q,E)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(A){return this.x*A.x+this.y*A.y+this.z*A.z+this.w*A.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(A){return this.normalize().multiplyScalar(A)}lerp(A,Q){return this.x+=(A.x-this.x)*Q,this.y+=(A.y-this.y)*Q,this.z+=(A.z-this.z)*Q,this.w+=(A.w-this.w)*Q,this}lerpVectors(A,Q,E){return this.x=A.x+(Q.x-A.x)*E,this.y=A.y+(Q.y-A.y)*E,this.z=A.z+(Q.z-A.z)*E,this.w=A.w+(Q.w-A.w)*E,this}equals(A){return A.x===this.x&&A.y===this.y&&A.z===this.z&&A.w===this.w}fromArray(A,Q=0){return this.x=A[Q],this.y=A[Q+1],this.z=A[Q+2],this.w=A[Q+3],this}toArray(A=[],Q=0){return A[Q]=this.x,A[Q+1]=this.y,A[Q+2]=this.z,A[Q+3]=this.w,A}fromBufferAttribute(A,Q){return this.x=A.getX(Q),this.y=A.getY(Q),this.z=A.getZ(Q),this.w=A.getW(Q),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class AO extends uE{constructor(A=1,Q=1,E={}){super();this.isRenderTarget=!0,this.width=A,this.height=Q,this.depth=1,this.scissor=new gA(0,0,A,Q),this.scissorTest=!1,this.viewport=new gA(0,0,A,Q);const B={width:A,height:Q,depth:1};E=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:1006,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},E);const I=new JQ(B,E.mapping,E.wrapS,E.wrapT,E.magFilter,E.minFilter,E.format,E.type,E.anisotropy,E.colorSpace);I.flipY=!1,I.generateMipmaps=E.generateMipmaps,I.internalFormat=E.internalFormat,this.textures=[];const K=E.count;for(let J=0;J<K;J++)this.textures[J]=I.clone(),this.textures[J].isRenderTargetTexture=!0;this.depthBuffer=E.depthBuffer,this.stencilBuffer=E.stencilBuffer,this.resolveDepthBuffer=E.resolveDepthBuffer,this.resolveStencilBuffer=E.resolveStencilBuffer,this.depthTexture=E.depthTexture,this.samples=E.samples}get texture(){return this.textures[0]}set texture(A){this.textures[0]=A}setSize(A,Q,E=1){if(this.width!==A||this.height!==Q||this.depth!==E){this.width=A,this.height=Q,this.depth=E;for(let B=0,I=this.textures.length;B<I;B++)this.textures[B].image.width=A,this.textures[B].image.height=Q,this.textures[B].image.depth=E;this.dispose()}this.viewport.set(0,0,A,Q),this.scissor.set(0,0,A,Q)}clone(){return new this.constructor().copy(this)}copy(A){this.width=A.width,this.height=A.height,this.depth=A.depth,this.scissor.copy(A.scissor),this.scissorTest=A.scissorTest,this.viewport.copy(A.viewport),this.textures.length=0;for(let E=0,B=A.textures.length;E<B;E++)this.textures[E]=A.textures[E].clone(),this.textures[E].isRenderTargetTexture=!0;const Q=Object.assign({},A.texture.image);if(this.texture.source=new B8(Q),this.depthBuffer=A.depthBuffer,this.stencilBuffer=A.stencilBuffer,this.resolveDepthBuffer=A.resolveDepthBuffer,this.resolveStencilBuffer=A.resolveStencilBuffer,A.depthTexture!==null)this.depthTexture=A.depthTexture.clone();return this.samples=A.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class B0 extends AO{constructor(A=1,Q=1,E={}){super(A,Q,E);this.isWebGLRenderTarget=!0}}class b9 extends JQ{constructor(A=null,Q=1,E=1,B=1){super(null);this.isDataArrayTexture=!0,this.image={data:A,width:Q,height:E,depth:B},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=/*@__PURE__*/new Set}addLayerUpdate(A){this.layerUpdates.add(A)}clearLayerUpdates(){this.layerUpdates.clear()}}class C3 extends B0{constructor(A=1,Q=1,E=1,B={}){super(A,Q,B);this.isWebGLArrayRenderTarget=!0,this.depth=E,this.texture=new b9(null,A,Q,E),this.texture.isRenderTargetTexture=!0}}class p8 extends JQ{constructor(A=null,Q=1,E=1,B=1){super(null);this.isData3DTexture=!0,this.image={data:A,width:Q,height:E,depth:B},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class U3 extends B0{constructor(A=1,Q=1,E=1,B={}){super(A,Q,B);this.isWebGL3DRenderTarget=!0,this.depth=E,this.texture=new p8(null,A,Q,E),this.texture.isRenderTargetTexture=!0}}class C0{constructor(A=0,Q=0,E=0,B=1){this.isQuaternion=!0,this._x=A,this._y=Q,this._z=E,this._w=B}static slerpFlat(A,Q,E,B,I,K,J){let C=E[B+0],U=E[B+1],Y=E[B+2],H=E[B+3];const R=I[K+0],G=I[K+1],O=I[K+2],F=I[K+3];if(J===0){A[Q+0]=C,A[Q+1]=U,A[Q+2]=Y,A[Q+3]=H;return}if(J===1){A[Q+0]=R,A[Q+1]=G,A[Q+2]=O,A[Q+3]=F;return}if(H!==F||C!==R||U!==G||Y!==O){let q=1-J;const W=C*R+U*G+Y*O+H*F,Z=W>=0?1:-1,$=1-W*W;if($>Number.EPSILON){const N=Math.sqrt($),M=Math.atan2(N,W*Z);q=Math.sin(q*M)/N,J=Math.sin(J*M)/N}const X=J*Z;if(C=C*q+R*X,U=U*q+G*X,Y=Y*q+O*X,H=H*q+F*X,q===1-J){const N=1/Math.sqrt(C*C+U*U+Y*Y+H*H);C*=N,U*=N,Y*=N,H*=N}}A[Q]=C,A[Q+1]=U,A[Q+2]=Y,A[Q+3]=H}static multiplyQuaternionsFlat(A,Q,E,B,I,K){const J=E[B],C=E[B+1],U=E[B+2],Y=E[B+3],H=I[K],R=I[K+1],G=I[K+2],O=I[K+3];return A[Q]=J*O+Y*H+C*G-U*R,A[Q+1]=C*O+Y*R+U*H-J*G,A[Q+2]=U*O+Y*G+J*R-C*H,A[Q+3]=Y*O-J*H-C*R-U*G,A}get x(){return this._x}set x(A){this._x=A,this._onChangeCallback()}get y(){return this._y}set y(A){this._y=A,this._onChangeCallback()}get z(){return this._z}set z(A){this._z=A,this._onChangeCallback()}get w(){return this._w}set w(A){this._w=A,this._onChangeCallback()}set(A,Q,E,B){return this._x=A,this._y=Q,this._z=E,this._w=B,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(A){return this._x=A.x,this._y=A.y,this._z=A.z,this._w=A.w,this._onChangeCallback(),this}setFromEuler(A,Q=!0){const{_x:E,_y:B,_z:I,_order:K}=A,J=Math.cos,C=Math.sin,U=J(E/2),Y=J(B/2),H=J(I/2),R=C(E/2),G=C(B/2),O=C(I/2);switch(K){case"XYZ":this._x=R*Y*H+U*G*O,this._y=U*G*H-R*Y*O,this._z=U*Y*O+R*G*H,this._w=U*Y*H-R*G*O;break;case"YXZ":this._x=R*Y*H+U*G*O,this._y=U*G*H-R*Y*O,this._z=U*Y*O-R*G*H,this._w=U*Y*H+R*G*O;break;case"ZXY":this._x=R*Y*H-U*G*O,this._y=U*G*H+R*Y*O,this._z=U*Y*O+R*G*H,this._w=U*Y*H-R*G*O;break;case"ZYX":this._x=R*Y*H-U*G*O,this._y=U*G*H+R*Y*O,this._z=U*Y*O-R*G*H,this._w=U*Y*H+R*G*O;break;case"YZX":this._x=R*Y*H+U*G*O,this._y=U*G*H+R*Y*O,this._z=U*Y*O-R*G*H,this._w=U*Y*H-R*G*O;break;case"XZY":this._x=R*Y*H-U*G*O,this._y=U*G*H-R*Y*O,this._z=U*Y*O+R*G*H,this._w=U*Y*H+R*G*O;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+K)}if(Q===!0)this._onChangeCallback();return this}setFromAxisAngle(A,Q){const E=Q/2,B=Math.sin(E);return this._x=A.x*B,this._y=A.y*B,this._z=A.z*B,this._w=Math.cos(E),this._onChangeCallback(),this}setFromRotationMatrix(A){const Q=A.elements,E=Q[0],B=Q[4],I=Q[8],K=Q[1],J=Q[5],C=Q[9],U=Q[2],Y=Q[6],H=Q[10],R=E+J+H;if(R>0){const G=0.5/Math.sqrt(R+1);this._w=0.25/G,this._x=(Y-C)*G,this._y=(I-U)*G,this._z=(K-B)*G}else if(E>J&&E>H){const G=2*Math.sqrt(1+E-J-H);this._w=(Y-C)/G,this._x=0.25*G,this._y=(B+K)/G,this._z=(I+U)/G}else if(J>H){const G=2*Math.sqrt(1+J-E-H);this._w=(I-U)/G,this._x=(B+K)/G,this._y=0.25*G,this._z=(C+Y)/G}else{const G=2*Math.sqrt(1+H-E-J);this._w=(K-B)/G,this._x=(I+U)/G,this._y=(C+Y)/G,this._z=0.25*G}return this._onChangeCallback(),this}setFromUnitVectors(A,Q){let E=A.dot(Q)+1;if(E<Number.EPSILON)if(E=0,Math.abs(A.x)>Math.abs(A.z))this._x=-A.y,this._y=A.x,this._z=0,this._w=E;else this._x=0,this._y=-A.z,this._z=A.y,this._w=E;else this._x=A.y*Q.z-A.z*Q.y,this._y=A.z*Q.x-A.x*Q.z,this._z=A.x*Q.y-A.y*Q.x,this._w=E;return this.normalize()}angleTo(A){return 2*Math.acos(Math.abs(jQ(this.dot(A),-1,1)))}rotateTowards(A,Q){const E=this.angleTo(A);if(E===0)return this;const B=Math.min(1,Q/E);return this.slerp(A,B),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(A){return this._x*A._x+this._y*A._y+this._z*A._z+this._w*A._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let A=this.length();if(A===0)this._x=0,this._y=0,this._z=0,this._w=1;else A=1/A,this._x=this._x*A,this._y=this._y*A,this._z=this._z*A,this._w=this._w*A;return this._onChangeCallback(),this}multiply(A){return this.multiplyQuaternions(this,A)}premultiply(A){return this.multiplyQuaternions(A,this)}multiplyQuaternions(A,Q){const{_x:E,_y:B,_z:I,_w:K}=A,J=Q._x,C=Q._y,U=Q._z,Y=Q._w;return this._x=E*Y+K*J+B*U-I*C,this._y=B*Y+K*C+I*J-E*U,this._z=I*Y+K*U+E*C-B*J,this._w=K*Y-E*J-B*C-I*U,this._onChangeCallback(),this}slerp(A,Q){if(Q===0)return this;if(Q===1)return this.copy(A);const E=this._x,B=this._y,I=this._z,K=this._w;let J=K*A._w+E*A._x+B*A._y+I*A._z;if(J<0)this._w=-A._w,this._x=-A._x,this._y=-A._y,this._z=-A._z,J=-J;else this.copy(A);if(J>=1)return this._w=K,this._x=E,this._y=B,this._z=I,this;const C=1-J*J;if(C<=Number.EPSILON){const G=1-Q;return this._w=G*K+Q*this._w,this._x=G*E+Q*this._x,this._y=G*B+Q*this._y,this._z=G*I+Q*this._z,this.normalize(),this}const U=Math.sqrt(C),Y=Math.atan2(U,J),H=Math.sin((1-Q)*Y)/U,R=Math.sin(Q*Y)/U;return this._w=K*H+this._w*R,this._x=E*H+this._x*R,this._y=B*H+this._y*R,this._z=I*H+this._z*R,this._onChangeCallback(),this}slerpQuaternions(A,Q,E){return this.copy(A).slerp(Q,E)}random(){const A=2*Math.PI*Math.random(),Q=2*Math.PI*Math.random(),E=Math.random(),B=Math.sqrt(1-E),I=Math.sqrt(E);return this.set(B*Math.sin(A),B*Math.cos(A),I*Math.sin(Q),I*Math.cos(Q))}equals(A){return A._x===this._x&&A._y===this._y&&A._z===this._z&&A._w===this._w}fromArray(A,Q=0){return this._x=A[Q],this._y=A[Q+1],this._z=A[Q+2],this._w=A[Q+3],this._onChangeCallback(),this}toArray(A=[],Q=0){return A[Q]=this._x,A[Q+1]=this._y,A[Q+2]=this._z,A[Q+3]=this._w,A}fromBufferAttribute(A,Q){return this._x=A.getX(Q),this._y=A.getY(Q),this._z=A.getZ(Q),this._w=A.getW(Q),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(A){return this._onChangeCallback=A,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class f{constructor(A=0,Q=0,E=0){f.prototype.isVector3=!0,this.x=A,this.y=Q,this.z=E}set(A,Q,E){if(E===void 0)E=this.z;return this.x=A,this.y=Q,this.z=E,this}setScalar(A){return this.x=A,this.y=A,this.z=A,this}setX(A){return this.x=A,this}setY(A){return this.y=A,this}setZ(A){return this.z=A,this}setComponent(A,Q){switch(A){case 0:this.x=Q;break;case 1:this.y=Q;break;case 2:this.z=Q;break;default:throw new Error("index is out of range: "+A)}return this}getComponent(A){switch(A){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+A)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(A){return this.x=A.x,this.y=A.y,this.z=A.z,this}add(A){return this.x+=A.x,this.y+=A.y,this.z+=A.z,this}addScalar(A){return this.x+=A,this.y+=A,this.z+=A,this}addVectors(A,Q){return this.x=A.x+Q.x,this.y=A.y+Q.y,this.z=A.z+Q.z,this}addScaledVector(A,Q){return this.x+=A.x*Q,this.y+=A.y*Q,this.z+=A.z*Q,this}sub(A){return this.x-=A.x,this.y-=A.y,this.z-=A.z,this}subScalar(A){return this.x-=A,this.y-=A,this.z-=A,this}subVectors(A,Q){return this.x=A.x-Q.x,this.y=A.y-Q.y,this.z=A.z-Q.z,this}multiply(A){return this.x*=A.x,this.y*=A.y,this.z*=A.z,this}multiplyScalar(A){return this.x*=A,this.y*=A,this.z*=A,this}multiplyVectors(A,Q){return this.x=A.x*Q.x,this.y=A.y*Q.y,this.z=A.z*Q.z,this}applyEuler(A){return this.applyQuaternion(RD.setFromEuler(A))}applyAxisAngle(A,Q){return this.applyQuaternion(RD.setFromAxisAngle(A,Q))}applyMatrix3(A){const Q=this.x,E=this.y,B=this.z,I=A.elements;return this.x=I[0]*Q+I[3]*E+I[6]*B,this.y=I[1]*Q+I[4]*E+I[7]*B,this.z=I[2]*Q+I[5]*E+I[8]*B,this}applyNormalMatrix(A){return this.applyMatrix3(A).normalize()}applyMatrix4(A){const Q=this.x,E=this.y,B=this.z,I=A.elements,K=1/(I[3]*Q+I[7]*E+I[11]*B+I[15]);return this.x=(I[0]*Q+I[4]*E+I[8]*B+I[12])*K,this.y=(I[1]*Q+I[5]*E+I[9]*B+I[13])*K,this.z=(I[2]*Q+I[6]*E+I[10]*B+I[14])*K,this}applyQuaternion(A){const Q=this.x,E=this.y,B=this.z,I=A.x,K=A.y,J=A.z,C=A.w,U=2*(K*B-J*E),Y=2*(J*Q-I*B),H=2*(I*E-K*Q);return this.x=Q+C*U+K*H-J*Y,this.y=E+C*Y+J*U-I*H,this.z=B+C*H+I*Y-K*U,this}project(A){return this.applyMatrix4(A.matrixWorldInverse).applyMatrix4(A.projectionMatrix)}unproject(A){return this.applyMatrix4(A.projectionMatrixInverse).applyMatrix4(A.matrixWorld)}transformDirection(A){const Q=this.x,E=this.y,B=this.z,I=A.elements;return this.x=I[0]*Q+I[4]*E+I[8]*B,this.y=I[1]*Q+I[5]*E+I[9]*B,this.z=I[2]*Q+I[6]*E+I[10]*B,this.normalize()}divide(A){return this.x/=A.x,this.y/=A.y,this.z/=A.z,this}divideScalar(A){return this.multiplyScalar(1/A)}min(A){return this.x=Math.min(this.x,A.x),this.y=Math.min(this.y,A.y),this.z=Math.min(this.z,A.z),this}max(A){return this.x=Math.max(this.x,A.x),this.y=Math.max(this.y,A.y),this.z=Math.max(this.z,A.z),this}clamp(A,Q){return this.x=Math.max(A.x,Math.min(Q.x,this.x)),this.y=Math.max(A.y,Math.min(Q.y,this.y)),this.z=Math.max(A.z,Math.min(Q.z,this.z)),this}clampScalar(A,Q){return this.x=Math.max(A,Math.min(Q,this.x)),this.y=Math.max(A,Math.min(Q,this.y)),this.z=Math.max(A,Math.min(Q,this.z)),this}clampLength(A,Q){const E=this.length();return this.divideScalar(E||1).multiplyScalar(Math.max(A,Math.min(Q,E)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(A){return this.x*A.x+this.y*A.y+this.z*A.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(A){return this.normalize().multiplyScalar(A)}lerp(A,Q){return this.x+=(A.x-this.x)*Q,this.y+=(A.y-this.y)*Q,this.z+=(A.z-this.z)*Q,this}lerpVectors(A,Q,E){return this.x=A.x+(Q.x-A.x)*E,this.y=A.y+(Q.y-A.y)*E,this.z=A.z+(Q.z-A.z)*E,this}cross(A){return this.crossVectors(this,A)}crossVectors(A,Q){const{x:E,y:B,z:I}=A,K=Q.x,J=Q.y,C=Q.z;return this.x=B*C-I*J,this.y=I*K-E*C,this.z=E*J-B*K,this}projectOnVector(A){const Q=A.lengthSq();if(Q===0)return this.set(0,0,0);const E=A.dot(this)/Q;return this.copy(A).multiplyScalar(E)}projectOnPlane(A){return iZ.copy(this).projectOnVector(A),this.sub(iZ)}reflect(A){return this.sub(iZ.copy(A).multiplyScalar(2*this.dot(A)))}angleTo(A){const Q=Math.sqrt(this.lengthSq()*A.lengthSq());if(Q===0)return Math.PI/2;const E=this.dot(A)/Q;return Math.acos(jQ(E,-1,1))}distanceTo(A){return Math.sqrt(this.distanceToSquared(A))}distanceToSquared(A){const Q=this.x-A.x,E=this.y-A.y,B=this.z-A.z;return Q*Q+E*E+B*B}manhattanDistanceTo(A){return Math.abs(this.x-A.x)+Math.abs(this.y-A.y)+Math.abs(this.z-A.z)}setFromSpherical(A){return this.setFromSphericalCoords(A.radius,A.phi,A.theta)}setFromSphericalCoords(A,Q,E){const B=Math.sin(Q)*A;return this.x=B*Math.sin(E),this.y=Math.cos(Q)*A,this.z=B*Math.cos(E),this}setFromCylindrical(A){return this.setFromCylindricalCoords(A.radius,A.theta,A.y)}setFromCylindricalCoords(A,Q,E){return this.x=A*Math.sin(Q),this.y=E,this.z=A*Math.cos(Q),this}setFromMatrixPosition(A){const Q=A.elements;return this.x=Q[12],this.y=Q[13],this.z=Q[14],this}setFromMatrixScale(A){const Q=this.setFromMatrixColumn(A,0).length(),E=this.setFromMatrixColumn(A,1).length(),B=this.setFromMatrixColumn(A,2).length();return this.x=Q,this.y=E,this.z=B,this}setFromMatrixColumn(A,Q){return this.fromArray(A.elements,Q*4)}setFromMatrix3Column(A,Q){return this.fromArray(A.elements,Q*3)}setFromEuler(A){return this.x=A._x,this.y=A._y,this.z=A._z,this}setFromColor(A){return this.x=A.r,this.y=A.g,this.z=A.b,this}equals(A){return A.x===this.x&&A.y===this.y&&A.z===this.z}fromArray(A,Q=0){return this.x=A[Q],this.y=A[Q+1],this.z=A[Q+2],this}toArray(A=[],Q=0){return A[Q]=this.x,A[Q+1]=this.y,A[Q+2]=this.z,A}fromBufferAttribute(A,Q){return this.x=A.getX(Q),this.y=A.getY(Q),this.z=A.getZ(Q),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const A=Math.random()*Math.PI*2,Q=Math.random()*2-1,E=Math.sqrt(1-Q*Q);return this.x=E*Math.cos(A),this.y=Q,this.z=E*Math.sin(A),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}var iZ=/*@__PURE__*/new f,RD=/*@__PURE__*/new C0;class p0{constructor(A=new f(1/0,1/0,1/0),Q=new f(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=A,this.max=Q}set(A,Q){return this.min.copy(A),this.max.copy(Q),this}setFromArray(A){this.makeEmpty();for(let Q=0,E=A.length;Q<E;Q+=3)this.expandByPoint(hE.fromArray(A,Q));return this}setFromBufferAttribute(A){this.makeEmpty();for(let Q=0,E=A.count;Q<E;Q++)this.expandByPoint(hE.fromBufferAttribute(A,Q));return this}setFromPoints(A){this.makeEmpty();for(let Q=0,E=A.length;Q<E;Q++)this.expandByPoint(A[Q]);return this}setFromCenterAndSize(A,Q){const E=hE.copy(Q).multiplyScalar(0.5);return this.min.copy(A).sub(E),this.max.copy(A).add(E),this}setFromObject(A,Q=!1){return this.makeEmpty(),this.expandByObject(A,Q)}clone(){return new this.constructor().copy(this)}copy(A){return this.min.copy(A.min),this.max.copy(A.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(A){return this.isEmpty()?A.set(0,0,0):A.addVectors(this.min,this.max).multiplyScalar(0.5)}getSize(A){return this.isEmpty()?A.set(0,0,0):A.subVectors(this.max,this.min)}expandByPoint(A){return this.min.min(A),this.max.max(A),this}expandByVector(A){return this.min.sub(A),this.max.add(A),this}expandByScalar(A){return this.min.addScalar(-A),this.max.addScalar(A),this}expandByObject(A,Q=!1){A.updateWorldMatrix(!1,!1);const E=A.geometry;if(E!==void 0){const I=E.getAttribute("position");if(Q===!0&&I!==void 0&&A.isInstancedMesh!==!0)for(let K=0,J=I.count;K<J;K++){if(A.isMesh===!0)A.getVertexPosition(K,hE);else hE.fromBufferAttribute(I,K);hE.applyMatrix4(A.matrixWorld),this.expandByPoint(hE)}else{if(A.boundingBox!==void 0){if(A.boundingBox===null)A.computeBoundingBox();_7.copy(A.boundingBox)}else{if(E.boundingBox===null)E.computeBoundingBox();_7.copy(E.boundingBox)}_7.applyMatrix4(A.matrixWorld),this.union(_7)}}const B=A.children;for(let I=0,K=B.length;I<K;I++)this.expandByObject(B[I],Q);return this}containsPoint(A){return A.x>=this.min.x&&A.x<=this.max.x&&A.y>=this.min.y&&A.y<=this.max.y&&A.z>=this.min.z&&A.z<=this.max.z}containsBox(A){return this.min.x<=A.min.x&&A.max.x<=this.max.x&&this.min.y<=A.min.y&&A.max.y<=this.max.y&&this.min.z<=A.min.z&&A.max.z<=this.max.z}getParameter(A,Q){return Q.set((A.x-this.min.x)/(this.max.x-this.min.x),(A.y-this.min.y)/(this.max.y-this.min.y),(A.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(A){return A.max.x>=this.min.x&&A.min.x<=this.max.x&&A.max.y>=this.min.y&&A.min.y<=this.max.y&&A.max.z>=this.min.z&&A.min.z<=this.max.z}intersectsSphere(A){return this.clampPoint(A.center,hE),hE.distanceToSquared(A.center)<=A.radius*A.radius}intersectsPlane(A){let Q,E;if(A.normal.x>0)Q=A.normal.x*this.min.x,E=A.normal.x*this.max.x;else Q=A.normal.x*this.max.x,E=A.normal.x*this.min.x;if(A.normal.y>0)Q+=A.normal.y*this.min.y,E+=A.normal.y*this.max.y;else Q+=A.normal.y*this.max.y,E+=A.normal.y*this.min.y;if(A.normal.z>0)Q+=A.normal.z*this.min.z,E+=A.normal.z*this.max.z;else Q+=A.normal.z*this.max.z,E+=A.normal.z*this.min.z;return Q<=-A.constant&&E>=-A.constant}intersectsTriangle(A){if(this.isEmpty())return!1;this.getCenter(B9),k7.subVectors(this.max,B9),i6.subVectors(A.a,B9),s6.subVectors(A.b,B9),r6.subVectors(A.c,B9),zB.subVectors(s6,i6),VB.subVectors(r6,s6),VI.subVectors(i6,r6);let Q=[0,-zB.z,zB.y,0,-VB.z,VB.y,0,-VI.z,VI.y,zB.z,0,-zB.x,VB.z,0,-VB.x,VI.z,0,-VI.x,-zB.y,zB.x,0,-VB.y,VB.x,0,-VI.y,VI.x,0];if(!sZ(Q,i6,s6,r6,k7))return!1;if(Q=[1,0,0,0,1,0,0,0,1],!sZ(Q,i6,s6,r6,k7))return!1;return j7.crossVectors(zB,VB),Q=[j7.x,j7.y,j7.z],sZ(Q,i6,s6,r6,k7)}clampPoint(A,Q){return Q.copy(A).clamp(this.min,this.max)}distanceToPoint(A){return this.clampPoint(A,hE).distanceTo(A)}getBoundingSphere(A){if(this.isEmpty())A.makeEmpty();else this.getCenter(A.center),A.radius=this.getSize(hE).length()*0.5;return A}intersect(A){if(this.min.max(A.min),this.max.min(A.max),this.isEmpty())this.makeEmpty();return this}union(A){return this.min.min(A.min),this.max.max(A.max),this}applyMatrix4(A){if(this.isEmpty())return this;return P8[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(A),P8[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(A),P8[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(A),P8[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(A),P8[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(A),P8[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(A),P8[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(A),P8[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(A),this.setFromPoints(P8),this}translate(A){return this.min.add(A),this.max.add(A),this}equals(A){return A.min.equals(this.min)&&A.max.equals(this.max)}}var P8=[/*@__PURE__*/new f,/*@__PURE__*/new f,/*@__PURE__*/new f,/*@__PURE__*/new f,/*@__PURE__*/new f,/*@__PURE__*/new f,/*@__PURE__*/new f,/*@__PURE__*/new f],hE=/*@__PURE__*/new f,_7=/*@__PURE__*/new p0,i6=/*@__PURE__*/new f,s6=/*@__PURE__*/new f,r6=/*@__PURE__*/new f,zB=/*@__PURE__*/new f,VB=/*@__PURE__*/new f,VI=/*@__PURE__*/new f,B9=/*@__PURE__*/new f,k7=/*@__PURE__*/new f,j7=/*@__PURE__*/new f,TI=/*@__PURE__*/new f,dp=/*@__PURE__*/new p0,I9=/*@__PURE__*/new f,rZ=/*@__PURE__*/new f;class YQ{constructor(A=new f,Q=-1){this.isSphere=!0,this.center=A,this.radius=Q}set(A,Q){return this.center.copy(A),this.radius=Q,this}setFromPoints(A,Q){const E=this.center;if(Q!==void 0)E.copy(Q);else dp.setFromPoints(A).getCenter(E);let B=0;for(let I=0,K=A.length;I<K;I++)B=Math.max(B,E.distanceToSquared(A[I]));return this.radius=Math.sqrt(B),this}copy(A){return this.center.copy(A.center),this.radius=A.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(A){return A.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(A){return A.distanceTo(this.center)-this.radius}intersectsSphere(A){const Q=this.radius+A.radius;return A.center.distanceToSquared(this.center)<=Q*Q}intersectsBox(A){return A.intersectsSphere(this)}intersectsPlane(A){return Math.abs(A.distanceToPoint(this.center))<=this.radius}clampPoint(A,Q){const E=this.center.distanceToSquared(A);if(Q.copy(A),E>this.radius*this.radius)Q.sub(this.center).normalize(),Q.multiplyScalar(this.radius).add(this.center);return Q}getBoundingBox(A){if(this.isEmpty())return A.makeEmpty(),A;return A.set(this.center,this.center),A.expandByScalar(this.radius),A}applyMatrix4(A){return this.center.applyMatrix4(A),this.radius=this.radius*A.getMaxScaleOnAxis(),this}translate(A){return this.center.add(A),this}expandByPoint(A){if(this.isEmpty())return this.center.copy(A),this.radius=0,this;I9.subVectors(A,this.center);const Q=I9.lengthSq();if(Q>this.radius*this.radius){const E=Math.sqrt(Q),B=(E-this.radius)*0.5;this.center.addScaledVector(I9,B/E),this.radius+=B}return this}union(A){if(A.isEmpty())return this;if(this.isEmpty())return this.copy(A),this;if(this.center.equals(A.center)===!0)this.radius=Math.max(this.radius,A.radius);else rZ.subVectors(A.center,this.center).setLength(A.radius),this.expandByPoint(I9.copy(A.center).add(rZ)),this.expandByPoint(I9.copy(A.center).sub(rZ));return this}equals(A){return A.center.equals(this.center)&&A.radius===this.radius}clone(){return new this.constructor().copy(this)}}var _8=/*@__PURE__*/new f,aZ=/*@__PURE__*/new f,h7=/*@__PURE__*/new f,TB=/*@__PURE__*/new f,tZ=/*@__PURE__*/new f,v7=/*@__PURE__*/new f,eZ=/*@__PURE__*/new f;class i1{constructor(A=new f,Q=new f(0,0,-1)){this.origin=A,this.direction=Q}set(A,Q){return this.origin.copy(A),this.direction.copy(Q),this}copy(A){return this.origin.copy(A.origin),this.direction.copy(A.direction),this}at(A,Q){return Q.copy(this.origin).addScaledVector(this.direction,A)}lookAt(A){return this.direction.copy(A).sub(this.origin).normalize(),this}recast(A){return this.origin.copy(this.at(A,_8)),this}closestPointToPoint(A,Q){Q.subVectors(A,this.origin);const E=Q.dot(this.direction);if(E<0)return Q.copy(this.origin);return Q.copy(this.origin).addScaledVector(this.direction,E)}distanceToPoint(A){return Math.sqrt(this.distanceSqToPoint(A))}distanceSqToPoint(A){const Q=_8.subVectors(A,this.origin).dot(this.direction);if(Q<0)return this.origin.distanceToSquared(A);return _8.copy(this.origin).addScaledVector(this.direction,Q),_8.distanceToSquared(A)}distanceSqToSegment(A,Q,E,B){aZ.copy(A).add(Q).multiplyScalar(0.5),h7.copy(Q).sub(A).normalize(),TB.copy(this.origin).sub(aZ);const I=A.distanceTo(Q)*0.5,K=-this.direction.dot(h7),J=TB.dot(this.direction),C=-TB.dot(h7),U=TB.lengthSq(),Y=Math.abs(1-K*K);let H,R,G,O;if(Y>0)if(H=K*C-J,R=K*J-C,O=I*Y,H>=0)if(R>=-O)if(R<=O){const F=1/Y;H*=F,R*=F,G=H*(H+K*R+2*J)+R*(K*H+R+2*C)+U}else R=I,H=Math.max(0,-(K*R+J)),G=-H*H+R*(R+2*C)+U;else R=-I,H=Math.max(0,-(K*R+J)),G=-H*H+R*(R+2*C)+U;else if(R<=-O)H=Math.max(0,-(-K*I+J)),R=H>0?-I:Math.min(Math.max(-I,-C),I),G=-H*H+R*(R+2*C)+U;else if(R<=O)H=0,R=Math.min(Math.max(-I,-C),I),G=R*(R+2*C)+U;else H=Math.max(0,-(K*I+J)),R=H>0?I:Math.min(Math.max(-I,-C),I),G=-H*H+R*(R+2*C)+U;else R=K>0?-I:I,H=Math.max(0,-(K*R+J)),G=-H*H+R*(R+2*C)+U;if(E)E.copy(this.origin).addScaledVector(this.direction,H);if(B)B.copy(aZ).addScaledVector(h7,R);return G}intersectSphere(A,Q){_8.subVectors(A.center,this.origin);const E=_8.dot(this.direction),B=_8.dot(_8)-E*E,I=A.radius*A.radius;if(B>I)return null;const K=Math.sqrt(I-B),J=E-K,C=E+K;if(C<0)return null;if(J<0)return this.at(C,Q);return this.at(J,Q)}intersectsSphere(A){return this.distanceSqToPoint(A.center)<=A.radius*A.radius}distanceToPlane(A){const Q=A.normal.dot(this.direction);if(Q===0){if(A.distanceToPoint(this.origin)===0)return 0;return null}const E=-(this.origin.dot(A.normal)+A.constant)/Q;return E>=0?E:null}intersectPlane(A,Q){const E=this.distanceToPlane(A);if(E===null)return null;return this.at(E,Q)}intersectsPlane(A){const Q=A.distanceToPoint(this.origin);if(Q===0)return!0;if(A.normal.dot(this.direction)*Q<0)return!0;return!1}intersectBox(A,Q){let E,B,I,K,J,C;const U=1/this.direction.x,Y=1/this.direction.y,H=1/this.direction.z,R=this.origin;if(U>=0)E=(A.min.x-R.x)*U,B=(A.max.x-R.x)*U;else E=(A.max.x-R.x)*U,B=(A.min.x-R.x)*U;if(Y>=0)I=(A.min.y-R.y)*Y,K=(A.max.y-R.y)*Y;else I=(A.max.y-R.y)*Y,K=(A.min.y-R.y)*Y;if(E>K||I>B)return null;if(I>E||isNaN(E))E=I;if(K<B||isNaN(B))B=K;if(H>=0)J=(A.min.z-R.z)*H,C=(A.max.z-R.z)*H;else J=(A.max.z-R.z)*H,C=(A.min.z-R.z)*H;if(E>C||J>B)return null;if(J>E||E!==E)E=J;if(C<B||B!==B)B=C;if(B<0)return null;return this.at(E>=0?E:B,Q)}intersectsBox(A){return this.intersectBox(A,_8)!==null}intersectTriangle(A,Q,E,B,I){tZ.subVectors(Q,A),v7.subVectors(E,A),eZ.crossVectors(tZ,v7);let K=this.direction.dot(eZ),J;if(K>0){if(B)return null;J=1}else if(K<0)J=-1,K=-K;else return null;TB.subVectors(this.origin,A);const C=J*this.direction.dot(v7.crossVectors(TB,v7));if(C<0)return null;const U=J*this.direction.dot(tZ.cross(TB));if(U<0)return null;if(C+U>K)return null;const Y=-J*TB.dot(eZ);if(Y<0)return null;return this.at(Y/K,I)}applyMatrix4(A){return this.origin.applyMatrix4(A),this.direction.transformDirection(A),this}equals(A){return A.origin.equals(this.origin)&&A.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class MA{constructor(A,Q,E,B,I,K,J,C,U,Y,H,R,G,O,F,q){if(MA.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],A!==void 0)this.set(A,Q,E,B,I,K,J,C,U,Y,H,R,G,O,F,q)}set(A,Q,E,B,I,K,J,C,U,Y,H,R,G,O,F,q){const W=this.elements;return W[0]=A,W[4]=Q,W[8]=E,W[12]=B,W[1]=I,W[5]=K,W[9]=J,W[13]=C,W[2]=U,W[6]=Y,W[10]=H,W[14]=R,W[3]=G,W[7]=O,W[11]=F,W[15]=q,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new MA().fromArray(this.elements)}copy(A){const Q=this.elements,E=A.elements;return Q[0]=E[0],Q[1]=E[1],Q[2]=E[2],Q[3]=E[3],Q[4]=E[4],Q[5]=E[5],Q[6]=E[6],Q[7]=E[7],Q[8]=E[8],Q[9]=E[9],Q[10]=E[10],Q[11]=E[11],Q[12]=E[12],Q[13]=E[13],Q[14]=E[14],Q[15]=E[15],this}copyPosition(A){const Q=this.elements,E=A.elements;return Q[12]=E[12],Q[13]=E[13],Q[14]=E[14],this}setFromMatrix3(A){const Q=A.elements;return this.set(Q[0],Q[3],Q[6],0,Q[1],Q[4],Q[7],0,Q[2],Q[5],Q[8],0,0,0,0,1),this}extractBasis(A,Q,E){return A.setFromMatrixColumn(this,0),Q.setFromMatrixColumn(this,1),E.setFromMatrixColumn(this,2),this}makeBasis(A,Q,E){return this.set(A.x,Q.x,E.x,0,A.y,Q.y,E.y,0,A.z,Q.z,E.z,0,0,0,0,1),this}extractRotation(A){const Q=this.elements,E=A.elements,B=1/a6.setFromMatrixColumn(A,0).length(),I=1/a6.setFromMatrixColumn(A,1).length(),K=1/a6.setFromMatrixColumn(A,2).length();return Q[0]=E[0]*B,Q[1]=E[1]*B,Q[2]=E[2]*B,Q[3]=0,Q[4]=E[4]*I,Q[5]=E[5]*I,Q[6]=E[6]*I,Q[7]=0,Q[8]=E[8]*K,Q[9]=E[9]*K,Q[10]=E[10]*K,Q[11]=0,Q[12]=0,Q[13]=0,Q[14]=0,Q[15]=1,this}makeRotationFromEuler(A){const Q=this.elements,E=A.x,B=A.y,I=A.z,K=Math.cos(E),J=Math.sin(E),C=Math.cos(B),U=Math.sin(B),Y=Math.cos(I),H=Math.sin(I);if(A.order==="XYZ"){const R=K*Y,G=K*H,O=J*Y,F=J*H;Q[0]=C*Y,Q[4]=-C*H,Q[8]=U,Q[1]=G+O*U,Q[5]=R-F*U,Q[9]=-J*C,Q[2]=F-R*U,Q[6]=O+G*U,Q[10]=K*C}else if(A.order==="YXZ"){const R=C*Y,G=C*H,O=U*Y,F=U*H;Q[0]=R+F*J,Q[4]=O*J-G,Q[8]=K*U,Q[1]=K*H,Q[5]=K*Y,Q[9]=-J,Q[2]=G*J-O,Q[6]=F+R*J,Q[10]=K*C}else if(A.order==="ZXY"){const R=C*Y,G=C*H,O=U*Y,F=U*H;Q[0]=R-F*J,Q[4]=-K*H,Q[8]=O+G*J,Q[1]=G+O*J,Q[5]=K*Y,Q[9]=F-R*J,Q[2]=-K*U,Q[6]=J,Q[10]=K*C}else if(A.order==="ZYX"){const R=K*Y,G=K*H,O=J*Y,F=J*H;Q[0]=C*Y,Q[4]=O*U-G,Q[8]=R*U+F,Q[1]=C*H,Q[5]=F*U+R,Q[9]=G*U-O,Q[2]=-U,Q[6]=J*C,Q[10]=K*C}else if(A.order==="YZX"){const R=K*C,G=K*U,O=J*C,F=J*U;Q[0]=C*Y,Q[4]=F-R*H,Q[8]=O*H+G,Q[1]=H,Q[5]=K*Y,Q[9]=-J*Y,Q[2]=-U*Y,Q[6]=G*H+O,Q[10]=R-F*H}else if(A.order==="XZY"){const R=K*C,G=K*U,O=J*C,F=J*U;Q[0]=C*Y,Q[4]=-H,Q[8]=U*Y,Q[1]=R*H+F,Q[5]=K*Y,Q[9]=G*H-O,Q[2]=O*H-G,Q[6]=J*Y,Q[10]=F*H+R}return Q[3]=0,Q[7]=0,Q[11]=0,Q[12]=0,Q[13]=0,Q[14]=0,Q[15]=1,this}makeRotationFromQuaternion(A){return this.compose(lp,A,np)}lookAt(A,Q,E){const B=this.elements;if(c1.subVectors(A,Q),c1.lengthSq()===0)c1.z=1;if(c1.normalize(),SB.crossVectors(E,c1),SB.lengthSq()===0){if(Math.abs(E.z)===1)c1.x+=0.0001;else c1.z+=0.0001;c1.normalize(),SB.crossVectors(E,c1)}return SB.normalize(),y7.crossVectors(c1,SB),B[0]=SB.x,B[4]=y7.x,B[8]=c1.x,B[1]=SB.y,B[5]=y7.y,B[9]=c1.y,B[2]=SB.z,B[6]=y7.z,B[10]=c1.z,this}multiply(A){return this.multiplyMatrices(this,A)}premultiply(A){return this.multiplyMatrices(A,this)}multiplyMatrices(A,Q){const E=A.elements,B=Q.elements,I=this.elements,K=E[0],J=E[4],C=E[8],U=E[12],Y=E[1],H=E[5],R=E[9],G=E[13],O=E[2],F=E[6],q=E[10],W=E[14],Z=E[3],$=E[7],X=E[11],N=E[15],M=B[0],L=B[4],D=B[8],w=B[12],P=B[1],V=B[5],T=B[9],S=B[13],h=B[2],x=B[6],y=B[10],j=B[14],v=B[3],_=B[7],g=B[11],b=B[15];return I[0]=K*M+J*P+C*h+U*v,I[4]=K*L+J*V+C*x+U*_,I[8]=K*D+J*T+C*y+U*g,I[12]=K*w+J*S+C*j+U*b,I[1]=Y*M+H*P+R*h+G*v,I[5]=Y*L+H*V+R*x+G*_,I[9]=Y*D+H*T+R*y+G*g,I[13]=Y*w+H*S+R*j+G*b,I[2]=O*M+F*P+q*h+W*v,I[6]=O*L+F*V+q*x+W*_,I[10]=O*D+F*T+q*y+W*g,I[14]=O*w+F*S+q*j+W*b,I[3]=Z*M+$*P+X*h+N*v,I[7]=Z*L+$*V+X*x+N*_,I[11]=Z*D+$*T+X*y+N*g,I[15]=Z*w+$*S+X*j+N*b,this}multiplyScalar(A){const Q=this.elements;return Q[0]*=A,Q[4]*=A,Q[8]*=A,Q[12]*=A,Q[1]*=A,Q[5]*=A,Q[9]*=A,Q[13]*=A,Q[2]*=A,Q[6]*=A,Q[10]*=A,Q[14]*=A,Q[3]*=A,Q[7]*=A,Q[11]*=A,Q[15]*=A,this}determinant(){const A=this.elements,Q=A[0],E=A[4],B=A[8],I=A[12],K=A[1],J=A[5],C=A[9],U=A[13],Y=A[2],H=A[6],R=A[10],G=A[14],O=A[3],F=A[7],q=A[11],W=A[15];return O*(+I*C*H-B*U*H-I*J*R+E*U*R+B*J*G-E*C*G)+F*(+Q*C*G-Q*U*R+I*K*R-B*K*G+B*U*Y-I*C*Y)+q*(+Q*U*H-Q*J*G-I*K*H+E*K*G+I*J*Y-E*U*Y)+W*(-B*J*Y-Q*C*H+Q*J*R+B*K*H-E*K*R+E*C*Y)}transpose(){const A=this.elements;let Q;return Q=A[1],A[1]=A[4],A[4]=Q,Q=A[2],A[2]=A[8],A[8]=Q,Q=A[6],A[6]=A[9],A[9]=Q,Q=A[3],A[3]=A[12],A[12]=Q,Q=A[7],A[7]=A[13],A[13]=Q,Q=A[11],A[11]=A[14],A[14]=Q,this}setPosition(A,Q,E){const B=this.elements;if(A.isVector3)B[12]=A.x,B[13]=A.y,B[14]=A.z;else B[12]=A,B[13]=Q,B[14]=E;return this}invert(){const A=this.elements,Q=A[0],E=A[1],B=A[2],I=A[3],K=A[4],J=A[5],C=A[6],U=A[7],Y=A[8],H=A[9],R=A[10],G=A[11],O=A[12],F=A[13],q=A[14],W=A[15],Z=H*q*U-F*R*U+F*C*G-J*q*G-H*C*W+J*R*W,$=O*R*U-Y*q*U-O*C*G+K*q*G+Y*C*W-K*R*W,X=Y*F*U-O*H*U+O*J*G-K*F*G-Y*J*W+K*H*W,N=O*H*C-Y*F*C-O*J*R+K*F*R+Y*J*q-K*H*q,M=Q*Z+E*$+B*X+I*N;if(M===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const L=1/M;return A[0]=Z*L,A[1]=(F*R*I-H*q*I-F*B*G+E*q*G+H*B*W-E*R*W)*L,A[2]=(J*q*I-F*C*I+F*B*U-E*q*U-J*B*W+E*C*W)*L,A[3]=(H*C*I-J*R*I-H*B*U+E*R*U+J*B*G-E*C*G)*L,A[4]=$*L,A[5]=(Y*q*I-O*R*I+O*B*G-Q*q*G-Y*B*W+Q*R*W)*L,A[6]=(O*C*I-K*q*I-O*B*U+Q*q*U+K*B*W-Q*C*W)*L,A[7]=(K*R*I-Y*C*I+Y*B*U-Q*R*U-K*B*G+Q*C*G)*L,A[8]=X*L,A[9]=(O*H*I-Y*F*I-O*E*G+Q*F*G+Y*E*W-Q*H*W)*L,A[10]=(K*F*I-O*J*I+O*E*U-Q*F*U-K*E*W+Q*J*W)*L,A[11]=(Y*J*I-K*H*I-Y*E*U+Q*H*U+K*E*G-Q*J*G)*L,A[12]=N*L,A[13]=(Y*F*B-O*H*B+O*E*R-Q*F*R-Y*E*q+Q*H*q)*L,A[14]=(O*J*B-K*F*B-O*E*C+Q*F*C+K*E*q-Q*J*q)*L,A[15]=(K*H*B-Y*J*B+Y*E*C-Q*H*C-K*E*R+Q*J*R)*L,this}scale(A){const Q=this.elements,E=A.x,B=A.y,I=A.z;return Q[0]*=E,Q[4]*=B,Q[8]*=I,Q[1]*=E,Q[5]*=B,Q[9]*=I,Q[2]*=E,Q[6]*=B,Q[10]*=I,Q[3]*=E,Q[7]*=B,Q[11]*=I,this}getMaxScaleOnAxis(){const A=this.elements,Q=A[0]*A[0]+A[1]*A[1]+A[2]*A[2],E=A[4]*A[4]+A[5]*A[5]+A[6]*A[6],B=A[8]*A[8]+A[9]*A[9]+A[10]*A[10];return Math.sqrt(Math.max(Q,E,B))}makeTranslation(A,Q,E){if(A.isVector3)this.set(1,0,0,A.x,0,1,0,A.y,0,0,1,A.z,0,0,0,1);else this.set(1,0,0,A,0,1,0,Q,0,0,1,E,0,0,0,1);return this}makeRotationX(A){const Q=Math.cos(A),E=Math.sin(A);return this.set(1,0,0,0,0,Q,-E,0,0,E,Q,0,0,0,0,1),this}makeRotationY(A){const Q=Math.cos(A),E=Math.sin(A);return this.set(Q,0,E,0,0,1,0,0,-E,0,Q,0,0,0,0,1),this}makeRotationZ(A){const Q=Math.cos(A),E=Math.sin(A);return this.set(Q,-E,0,0,E,Q,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(A,Q){const E=Math.cos(Q),B=Math.sin(Q),I=1-E,K=A.x,J=A.y,C=A.z,U=I*K,Y=I*J;return this.set(U*K+E,U*J-B*C,U*C+B*J,0,U*J+B*C,Y*J+E,Y*C-B*K,0,U*C-B*J,Y*C+B*K,I*C*C+E,0,0,0,0,1),this}makeScale(A,Q,E){return this.set(A,0,0,0,0,Q,0,0,0,0,E,0,0,0,0,1),this}makeShear(A,Q,E,B,I,K){return this.set(1,E,I,0,A,1,K,0,Q,B,1,0,0,0,0,1),this}compose(A,Q,E){const B=this.elements,I=Q._x,K=Q._y,J=Q._z,C=Q._w,U=I+I,Y=K+K,H=J+J,R=I*U,G=I*Y,O=I*H,F=K*Y,q=K*H,W=J*H,Z=C*U,$=C*Y,X=C*H,N=E.x,M=E.y,L=E.z;return B[0]=(1-(F+W))*N,B[1]=(G+X)*N,B[2]=(O-$)*N,B[3]=0,B[4]=(G-X)*M,B[5]=(1-(R+W))*M,B[6]=(q+Z)*M,B[7]=0,B[8]=(O+$)*L,B[9]=(q-Z)*L,B[10]=(1-(R+F))*L,B[11]=0,B[12]=A.x,B[13]=A.y,B[14]=A.z,B[15]=1,this}decompose(A,Q,E){const B=this.elements;let I=a6.set(B[0],B[1],B[2]).length();const K=a6.set(B[4],B[5],B[6]).length(),J=a6.set(B[8],B[9],B[10]).length();if(this.determinant()<0)I=-I;A.x=B[12],A.y=B[13],A.z=B[14],vE.copy(this);const U=1/I,Y=1/K,H=1/J;return vE.elements[0]*=U,vE.elements[1]*=U,vE.elements[2]*=U,vE.elements[4]*=Y,vE.elements[5]*=Y,vE.elements[6]*=Y,vE.elements[8]*=H,vE.elements[9]*=H,vE.elements[10]*=H,Q.setFromRotationMatrix(vE),E.x=I,E.y=K,E.z=J,this}makePerspective(A,Q,E,B,I,K,J=2000){const C=this.elements,U=2*I/(Q-A),Y=2*I/(E-B),H=(Q+A)/(Q-A),R=(E+B)/(E-B);let G,O;if(J===2000)G=-(K+I)/(K-I),O=-2*K*I/(K-I);else if(J===2001)G=-K/(K-I),O=-K*I/(K-I);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+J);return C[0]=U,C[4]=0,C[8]=H,C[12]=0,C[1]=0,C[5]=Y,C[9]=R,C[13]=0,C[2]=0,C[6]=0,C[10]=G,C[14]=O,C[3]=0,C[7]=0,C[11]=-1,C[15]=0,this}makeOrthographic(A,Q,E,B,I,K,J=2000){const C=this.elements,U=1/(Q-A),Y=1/(E-B),H=1/(K-I),R=(Q+A)*U,G=(E+B)*Y;let O,F;if(J===2000)O=(K+I)*H,F=-2*H;else if(J===2001)O=I*H,F=-1*H;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+J);return C[0]=2*U,C[4]=0,C[8]=0,C[12]=-R,C[1]=0,C[5]=2*Y,C[9]=0,C[13]=-G,C[2]=0,C[6]=0,C[10]=F,C[14]=-O,C[3]=0,C[7]=0,C[11]=0,C[15]=1,this}equals(A){const Q=this.elements,E=A.elements;for(let B=0;B<16;B++)if(Q[B]!==E[B])return!1;return!0}fromArray(A,Q=0){for(let E=0;E<16;E++)this.elements[E]=A[E+Q];return this}toArray(A=[],Q=0){const E=this.elements;return A[Q]=E[0],A[Q+1]=E[1],A[Q+2]=E[2],A[Q+3]=E[3],A[Q+4]=E[4],A[Q+5]=E[5],A[Q+6]=E[6],A[Q+7]=E[7],A[Q+8]=E[8],A[Q+9]=E[9],A[Q+10]=E[10],A[Q+11]=E[11],A[Q+12]=E[12],A[Q+13]=E[13],A[Q+14]=E[14],A[Q+15]=E[15],A}}var a6=/*@__PURE__*/new f,vE=/*@__PURE__*/new MA,lp=/*@__PURE__*/new f(0,0,0),np=/*@__PURE__*/new f(1,1,1),SB=/*@__PURE__*/new f,y7=/*@__PURE__*/new f,c1=/*@__PURE__*/new f,OD=/*@__PURE__*/new MA,$D=/*@__PURE__*/new C0;class vQ{constructor(A=0,Q=0,E=0,B=vQ.DEFAULT_ORDER){this.isEuler=!0,this._x=A,this._y=Q,this._z=E,this._order=B}get x(){return this._x}set x(A){this._x=A,this._onChangeCallback()}get y(){return this._y}set y(A){this._y=A,this._onChangeCallback()}get z(){return this._z}set z(A){this._z=A,this._onChangeCallback()}get order(){return this._order}set order(A){this._order=A,this._onChangeCallback()}set(A,Q,E,B=this._order){return this._x=A,this._y=Q,this._z=E,this._order=B,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(A){return this._x=A._x,this._y=A._y,this._z=A._z,this._order=A._order,this._onChangeCallback(),this}setFromRotationMatrix(A,Q=this._order,E=!0){const B=A.elements,I=B[0],K=B[4],J=B[8],C=B[1],U=B[5],Y=B[9],H=B[2],R=B[6],G=B[10];switch(Q){case"XYZ":if(this._y=Math.asin(jQ(J,-1,1)),Math.abs(J)<0.9999999)this._x=Math.atan2(-Y,G),this._z=Math.atan2(-K,I);else this._x=Math.atan2(R,U),this._z=0;break;case"YXZ":if(this._x=Math.asin(-jQ(Y,-1,1)),Math.abs(Y)<0.9999999)this._y=Math.atan2(J,G),this._z=Math.atan2(C,U);else this._y=Math.atan2(-H,I),this._z=0;break;case"ZXY":if(this._x=Math.asin(jQ(R,-1,1)),Math.abs(R)<0.9999999)this._y=Math.atan2(-H,G),this._z=Math.atan2(-K,U);else this._y=0,this._z=Math.atan2(C,I);break;case"ZYX":if(this._y=Math.asin(-jQ(H,-1,1)),Math.abs(H)<0.9999999)this._x=Math.atan2(R,G),this._z=Math.atan2(C,I);else this._x=0,this._z=Math.atan2(-K,U);break;case"YZX":if(this._z=Math.asin(jQ(C,-1,1)),Math.abs(C)<0.9999999)this._x=Math.atan2(-Y,U),this._y=Math.atan2(-H,I);else this._x=0,this._y=Math.atan2(J,G);break;case"XZY":if(this._z=Math.asin(-jQ(K,-1,1)),Math.abs(K)<0.9999999)this._x=Math.atan2(R,U),this._y=Math.atan2(J,I);else this._x=Math.atan2(-Y,G),this._y=0;break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+Q)}if(this._order=Q,E===!0)this._onChangeCallback();return this}setFromQuaternion(A,Q,E){return OD.makeRotationFromQuaternion(A),this.setFromRotationMatrix(OD,Q,E)}setFromVector3(A,Q=this._order){return this.set(A.x,A.y,A.z,Q)}reorder(A){return $D.setFromEuler(this),this.setFromQuaternion($D,A)}equals(A){return A._x===this._x&&A._y===this._y&&A._z===this._z&&A._order===this._order}fromArray(A){if(this._x=A[0],this._y=A[1],this._z=A[2],A[3]!==void 0)this._order=A[3];return this._onChangeCallback(),this}toArray(A=[],Q=0){return A[Q]=this._x,A[Q+1]=this._y,A[Q+2]=this._z,A[Q+3]=this._order,A}_onChange(A){return this._onChangeCallback=A,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}vQ.DEFAULT_ORDER="XYZ";class NK{constructor(){this.mask=1}set(A){this.mask=(1<<A|0)>>>0}enable(A){this.mask|=1<<A|0}enableAll(){this.mask=-1}toggle(A){this.mask^=1<<A|0}disable(A){this.mask&=~(1<<A|0)}disableAll(){this.mask=0}test(A){return(this.mask&A.mask)!==0}isEnabled(A){return(this.mask&(1<<A|0))!==0}}var op=0,WD=/*@__PURE__*/new f,t6=/*@__PURE__*/new C0,k8=/*@__PURE__*/new MA,x7=/*@__PURE__*/new f,K9=/*@__PURE__*/new f,ip=/*@__PURE__*/new f,sp=/*@__PURE__*/new C0,XD=/*@__PURE__*/new f(1,0,0),FD=/*@__PURE__*/new f(0,1,0),qD=/*@__PURE__*/new f(0,0,1),ND={type:"added"},rp={type:"removed"},e6={type:"childadded",child:null},AR={type:"childremoved",child:null};class Y0 extends uE{constructor(){super();this.isObject3D=!0,Object.defineProperty(this,"id",{value:op++}),this.uuid=l1(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Y0.DEFAULT_UP.clone();const A=new f,Q=new vQ,E=new C0,B=new f(1,1,1);function I(){E.setFromEuler(Q,!1)}function K(){Q.setFromQuaternion(E,void 0,!1)}Q._onChange(I),E._onChange(K),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:A},rotation:{configurable:!0,enumerable:!0,value:Q},quaternion:{configurable:!0,enumerable:!0,value:E},scale:{configurable:!0,enumerable:!0,value:B},modelViewMatrix:{value:new MA},normalMatrix:{value:new J0}}),this.matrix=new MA,this.matrixWorld=new MA,this.matrixAutoUpdate=Y0.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Y0.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new NK,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(A){if(this.matrixAutoUpdate)this.updateMatrix();this.matrix.premultiply(A),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(A){return this.quaternion.premultiply(A),this}setRotationFromAxisAngle(A,Q){this.quaternion.setFromAxisAngle(A,Q)}setRotationFromEuler(A){this.quaternion.setFromEuler(A,!0)}setRotationFromMatrix(A){this.quaternion.setFromRotationMatrix(A)}setRotationFromQuaternion(A){this.quaternion.copy(A)}rotateOnAxis(A,Q){return t6.setFromAxisAngle(A,Q),this.quaternion.multiply(t6),this}rotateOnWorldAxis(A,Q){return t6.setFromAxisAngle(A,Q),this.quaternion.premultiply(t6),this}rotateX(A){return this.rotateOnAxis(XD,A)}rotateY(A){return this.rotateOnAxis(FD,A)}rotateZ(A){return this.rotateOnAxis(qD,A)}translateOnAxis(A,Q){return WD.copy(A).applyQuaternion(this.quaternion),this.position.add(WD.multiplyScalar(Q)),this}translateX(A){return this.translateOnAxis(XD,A)}translateY(A){return this.translateOnAxis(FD,A)}translateZ(A){return this.translateOnAxis(qD,A)}localToWorld(A){return this.updateWorldMatrix(!0,!1),A.applyMatrix4(this.matrixWorld)}worldToLocal(A){return this.updateWorldMatrix(!0,!1),A.applyMatrix4(k8.copy(this.matrixWorld).invert())}lookAt(A,Q,E){if(A.isVector3)x7.copy(A);else x7.set(A,Q,E);const B=this.parent;if(this.updateWorldMatrix(!0,!1),K9.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight)k8.lookAt(K9,x7,this.up);else k8.lookAt(x7,K9,this.up);if(this.quaternion.setFromRotationMatrix(k8),B)k8.extractRotation(B.matrixWorld),t6.setFromRotationMatrix(k8),this.quaternion.premultiply(t6.invert())}add(A){if(arguments.length>1){for(let Q=0;Q<arguments.length;Q++)this.add(arguments[Q]);return this}if(A===this)return console.error("THREE.Object3D.add: object can\'t be added as a child of itself.",A),this;if(A&&A.isObject3D)A.removeFromParent(),A.parent=this,this.children.push(A),A.dispatchEvent(ND),e6.child=A,this.dispatchEvent(e6),e6.child=null;else console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",A);return this}remove(A){if(arguments.length>1){for(let E=0;E<arguments.length;E++)this.remove(arguments[E]);return this}const Q=this.children.indexOf(A);if(Q!==-1)A.parent=null,this.children.splice(Q,1),A.dispatchEvent(rp),AR.child=A,this.dispatchEvent(AR),AR.child=null;return this}removeFromParent(){const A=this.parent;if(A!==null)A.remove(this);return this}clear(){return this.remove(...this.children)}attach(A){if(this.updateWorldMatrix(!0,!1),k8.copy(this.matrixWorld).invert(),A.parent!==null)A.parent.updateWorldMatrix(!0,!1),k8.multiply(A.parent.matrixWorld);return A.applyMatrix4(k8),A.removeFromParent(),A.parent=this,this.children.push(A),A.updateWorldMatrix(!1,!0),A.dispatchEvent(ND),e6.child=A,this.dispatchEvent(e6),e6.child=null,this}getObjectById(A){return this.getObjectByProperty("id",A)}getObjectByName(A){return this.getObjectByProperty("name",A)}getObjectByProperty(A,Q){if(this[A]===Q)return this;for(let E=0,B=this.children.length;E<B;E++){const K=this.children[E].getObjectByProperty(A,Q);if(K!==void 0)return K}return}getObjectsByProperty(A,Q,E=[]){if(this[A]===Q)E.push(this);const B=this.children;for(let I=0,K=B.length;I<K;I++)B[I].getObjectsByProperty(A,Q,E);return E}getWorldPosition(A){return this.updateWorldMatrix(!0,!1),A.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(A){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(K9,A,ip),A}getWorldScale(A){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(K9,sp,A),A}getWorldDirection(A){this.updateWorldMatrix(!0,!1);const Q=this.matrixWorld.elements;return A.set(Q[8],Q[9],Q[10]).normalize()}raycast(){}traverse(A){A(this);const Q=this.children;for(let E=0,B=Q.length;E<B;E++)Q[E].traverse(A)}traverseVisible(A){if(this.visible===!1)return;A(this);const Q=this.children;for(let E=0,B=Q.length;E<B;E++)Q[E].traverseVisible(A)}traverseAncestors(A){const Q=this.parent;if(Q!==null)A(Q),Q.traverseAncestors(A)}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(A){if(this.matrixAutoUpdate)this.updateMatrix();if(this.matrixWorldNeedsUpdate||A){if(this.matrixWorldAutoUpdate===!0)if(this.parent===null)this.matrixWorld.copy(this.matrix);else this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix);this.matrixWorldNeedsUpdate=!1,A=!0}const Q=this.children;for(let E=0,B=Q.length;E<B;E++)Q[E].updateMatrixWorld(A)}updateWorldMatrix(A,Q){const E=this.parent;if(A===!0&&E!==null)E.updateWorldMatrix(!0,!1);if(this.matrixAutoUpdate)this.updateMatrix();if(this.matrixWorldAutoUpdate===!0)if(this.parent===null)this.matrixWorld.copy(this.matrix);else this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix);if(Q===!0){const B=this.children;for(let I=0,K=B.length;I<K;I++)B[I].updateWorldMatrix(!1,!0)}}toJSON(A){const Q=A===void 0||typeof A==="string",E={};if(Q)A={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},E.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"};const B={};if(B.uuid=this.uuid,B.type=this.type,this.name!=="")B.name=this.name;if(this.castShadow===!0)B.castShadow=!0;if(this.receiveShadow===!0)B.receiveShadow=!0;if(this.visible===!1)B.visible=!1;if(this.frustumCulled===!1)B.frustumCulled=!1;if(this.renderOrder!==0)B.renderOrder=this.renderOrder;if(Object.keys(this.userData).length>0)B.userData=this.userData;if(B.layers=this.layers.mask,B.matrix=this.matrix.toArray(),B.up=this.up.toArray(),this.matrixAutoUpdate===!1)B.matrixAutoUpdate=!1;if(this.isInstancedMesh){if(B.type="InstancedMesh",B.count=this.count,B.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null)B.instanceColor=this.instanceColor.toJSON()}if(this.isBatchedMesh){if(B.type="BatchedMesh",B.perObjectFrustumCulled=this.perObjectFrustumCulled,B.sortObjects=this.sortObjects,B.drawRanges=this._drawRanges,B.reservedRanges=this._reservedRanges,B.visibility=this._visibility,B.active=this._active,B.bounds=this._bounds.map((J)=>({boxInitialized:J.boxInitialized,boxMin:J.box.min.toArray(),boxMax:J.box.max.toArray(),sphereInitialized:J.sphereInitialized,sphereRadius:J.sphere.radius,sphereCenter:J.sphere.center.toArray()})),B.maxInstanceCount=this._maxInstanceCount,B.maxVertexCount=this._maxVertexCount,B.maxIndexCount=this._maxIndexCount,B.geometryInitialized=this._geometryInitialized,B.geometryCount=this._geometryCount,B.matricesTexture=this._matricesTexture.toJSON(A),this._colorsTexture!==null)B.colorsTexture=this._colorsTexture.toJSON(A);if(this.boundingSphere!==null)B.boundingSphere={center:B.boundingSphere.center.toArray(),radius:B.boundingSphere.radius};if(this.boundingBox!==null)B.boundingBox={min:B.boundingBox.min.toArray(),max:B.boundingBox.max.toArray()}}function I(J,C){if(J[C.uuid]===void 0)J[C.uuid]=C.toJSON(A);return C.uuid}if(this.isScene){if(this.background){if(this.background.isColor)B.background=this.background.toJSON();else if(this.background.isTexture)B.background=this.background.toJSON(A).uuid}if(this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0)B.environment=this.environment.toJSON(A).uuid}else if(this.isMesh||this.isLine||this.isPoints){B.geometry=I(A.geometries,this.geometry);const J=this.geometry.parameters;if(J!==void 0&&J.shapes!==void 0){const C=J.shapes;if(Array.isArray(C))for(let U=0,Y=C.length;U<Y;U++){const H=C[U];I(A.shapes,H)}else I(A.shapes,C)}}if(this.isSkinnedMesh){if(B.bindMode=this.bindMode,B.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0)I(A.skeletons,this.skeleton),B.skeleton=this.skeleton.uuid}if(this.material!==void 0)if(Array.isArray(this.material)){const J=[];for(let C=0,U=this.material.length;C<U;C++)J.push(I(A.materials,this.material[C]));B.material=J}else B.material=I(A.materials,this.material);if(this.children.length>0){B.children=[];for(let J=0;J<this.children.length;J++)B.children.push(this.children[J].toJSON(A).object)}if(this.animations.length>0){B.animations=[];for(let J=0;J<this.animations.length;J++){const C=this.animations[J];B.animations.push(I(A.animations,C))}}if(Q){const J=K(A.geometries),C=K(A.materials),U=K(A.textures),Y=K(A.images),H=K(A.shapes),R=K(A.skeletons),G=K(A.animations),O=K(A.nodes);if(J.length>0)E.geometries=J;if(C.length>0)E.materials=C;if(U.length>0)E.textures=U;if(Y.length>0)E.images=Y;if(H.length>0)E.shapes=H;if(R.length>0)E.skeletons=R;if(G.length>0)E.animations=G;if(O.length>0)E.nodes=O}return E.object=B,E;function K(J){const C=[];for(let U in J){const Y=J[U];delete Y.metadata,C.push(Y)}return C}}clone(A){return new this.constructor().copy(this,A)}copy(A,Q=!0){if(this.name=A.name,this.up.copy(A.up),this.position.copy(A.position),this.rotation.order=A.rotation.order,this.quaternion.copy(A.quaternion),this.scale.copy(A.scale),this.matrix.copy(A.matrix),this.matrixWorld.copy(A.matrixWorld),this.matrixAutoUpdate=A.matrixAutoUpdate,this.matrixWorldAutoUpdate=A.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=A.matrixWorldNeedsUpdate,this.layers.mask=A.layers.mask,this.visible=A.visible,this.castShadow=A.castShadow,this.receiveShadow=A.receiveShadow,this.frustumCulled=A.frustumCulled,this.renderOrder=A.renderOrder,this.animations=A.animations.slice(),this.userData=JSON.parse(JSON.stringify(A.userData)),Q===!0)for(let E=0;E<A.children.length;E++){const B=A.children[E];this.add(B.clone())}return this}}Y0.DEFAULT_UP=/*@__PURE__*/new f(0,1,0);Y0.DEFAULT_MATRIX_AUTO_UPDATE=!0;Y0.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var yE=/*@__PURE__*/new f,j8=/*@__PURE__*/new f,QR=/*@__PURE__*/new f,h8=/*@__PURE__*/new f,AK=/*@__PURE__*/new f,QK=/*@__PURE__*/new f,LD=/*@__PURE__*/new f,ER=/*@__PURE__*/new f,BR=/*@__PURE__*/new f,IR=/*@__PURE__*/new f,KR=/*@__PURE__*/new gA,JR=/*@__PURE__*/new gA,CR=/*@__PURE__*/new gA;class nQ{constructor(A=new f,Q=new f,E=new f){this.a=A,this.b=Q,this.c=E}static getNormal(A,Q,E,B){B.subVectors(E,Q),yE.subVectors(A,Q),B.cross(yE);const I=B.lengthSq();if(I>0)return B.multiplyScalar(1/Math.sqrt(I));return B.set(0,0,0)}static getBarycoord(A,Q,E,B,I){yE.subVectors(B,Q),j8.subVectors(E,Q),QR.subVectors(A,Q);const K=yE.dot(yE),J=yE.dot(j8),C=yE.dot(QR),U=j8.dot(j8),Y=j8.dot(QR),H=K*U-J*J;if(H===0)return I.set(0,0,0),null;const R=1/H,G=(U*C-J*Y)*R,O=(K*Y-J*C)*R;return I.set(1-G-O,O,G)}static containsPoint(A,Q,E,B){if(this.getBarycoord(A,Q,E,B,h8)===null)return!1;return h8.x>=0&&h8.y>=0&&h8.x+h8.y<=1}static getInterpolation(A,Q,E,B,I,K,J,C){if(this.getBarycoord(A,Q,E,B,h8)===null){if(C.x=0,C.y=0,"z"in C)C.z=0;if("w"in C)C.w=0;return null}return C.setScalar(0),C.addScaledVector(I,h8.x),C.addScaledVector(K,h8.y),C.addScaledVector(J,h8.z),C}static getInterpolatedAttribute(A,Q,E,B,I,K){return KR.setScalar(0),JR.setScalar(0),CR.setScalar(0),KR.fromBufferAttribute(A,Q),JR.fromBufferAttribute(A,E),CR.fromBufferAttribute(A,B),K.setScalar(0),K.addScaledVector(KR,I.x),K.addScaledVector(JR,I.y),K.addScaledVector(CR,I.z),K}static isFrontFacing(A,Q,E,B){return yE.subVectors(E,Q),j8.subVectors(A,Q),yE.cross(j8).dot(B)<0?!0:!1}set(A,Q,E){return this.a.copy(A),this.b.copy(Q),this.c.copy(E),this}setFromPointsAndIndices(A,Q,E,B){return this.a.copy(A[Q]),this.b.copy(A[E]),this.c.copy(A[B]),this}setFromAttributeAndIndices(A,Q,E,B){return this.a.fromBufferAttribute(A,Q),this.b.fromBufferAttribute(A,E),this.c.fromBufferAttribute(A,B),this}clone(){return new this.constructor().copy(this)}copy(A){return this.a.copy(A.a),this.b.copy(A.b),this.c.copy(A.c),this}getArea(){return yE.subVectors(this.c,this.b),j8.subVectors(this.a,this.b),yE.cross(j8).length()*0.5}getMidpoint(A){return A.addVectors(this.a,this.b).add(this.c).multiplyScalar(0.3333333333333333)}getNormal(A){return nQ.getNormal(this.a,this.b,this.c,A)}getPlane(A){return A.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(A,Q){return nQ.getBarycoord(A,this.a,this.b,this.c,Q)}getInterpolation(A,Q,E,B,I){return nQ.getInterpolation(A,this.a,this.b,this.c,Q,E,B,I)}containsPoint(A){return nQ.containsPoint(A,this.a,this.b,this.c)}isFrontFacing(A){return nQ.isFrontFacing(this.a,this.b,this.c,A)}intersectsBox(A){return A.intersectsTriangle(this)}closestPointToPoint(A,Q){const E=this.a,B=this.b,I=this.c;let K,J;AK.subVectors(B,E),QK.subVectors(I,E),ER.subVectors(A,E);const C=AK.dot(ER),U=QK.dot(ER);if(C<=0&&U<=0)return Q.copy(E);BR.subVectors(A,B);const Y=AK.dot(BR),H=QK.dot(BR);if(Y>=0&&H<=Y)return Q.copy(B);const R=C*H-Y*U;if(R<=0&&C>=0&&Y<=0)return K=C/(C-Y),Q.copy(E).addScaledVector(AK,K);IR.subVectors(A,I);const G=AK.dot(IR),O=QK.dot(IR);if(O>=0&&G<=O)return Q.copy(I);const F=G*U-C*O;if(F<=0&&U>=0&&O<=0)return J=U/(U-O),Q.copy(E).addScaledVector(QK,J);const q=Y*O-G*H;if(q<=0&&H-Y>=0&&G-O>=0)return LD.subVectors(I,B),J=(H-Y)/(H-Y+(G-O)),Q.copy(B).addScaledVector(LD,J);const W=1/(q+F+R);return K=F*W,J=R*W,Q.copy(E).addScaledVector(AK,K).addScaledVector(QK,J)}equals(A){return A.a.equals(this.a)&&A.b.equals(this.b)&&A.c.equals(this.c)}}var Y3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},PB={h:0,s:0,l:0},g7={h:0,s:0,l:0};class WA{constructor(A,Q,E){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(A,Q,E)}set(A,Q,E){if(Q===void 0&&E===void 0){const B=A;if(B&&B.isColor)this.copy(B);else if(typeof B==="number")this.setHex(B);else if(typeof B==="string")this.setStyle(B)}else this.setRGB(A,Q,E);return this}setScalar(A){return this.r=A,this.g=A,this.b=A,this}setHex(A,Q="srgb"){return A=Math.floor(A),this.r=(A>>16&255)/255,this.g=(A>>8&255)/255,this.b=(A&255)/255,D0.toWorkingColorSpace(this,Q),this}setRGB(A,Q,E,B=D0.workingColorSpace){return this.r=A,this.g=Q,this.b=E,D0.toWorkingColorSpace(this,B),this}setHSL(A,Q,E,B=D0.workingColorSpace){if(A=tR(A,1),Q=jQ(Q,0,1),E=jQ(E,0,1),Q===0)this.r=this.g=this.b=E;else{const I=E<=0.5?E*(1+Q):E+Q-E*Q,K=2*E-I;this.r=UR(K,I,A+0.3333333333333333),this.g=UR(K,I,A),this.b=UR(K,I,A-0.3333333333333333)}return D0.toWorkingColorSpace(this,B),this}setStyle(A,Q="srgb"){function E(I){if(I===void 0)return;if(parseFloat(I)<1)console.warn("THREE.Color: Alpha component of "+A+" will be ignored.")}let B;if(B=/^(\w+)\(([^\)]*)\)/.exec(A)){let I;const K=B[1],J=B[2];switch(K){case"rgb":case"rgba":if(I=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(J))return E(I[4]),this.setRGB(Math.min(255,parseInt(I[1],10))/255,Math.min(255,parseInt(I[2],10))/255,Math.min(255,parseInt(I[3],10))/255,Q);if(I=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(J))return E(I[4]),this.setRGB(Math.min(100,parseInt(I[1],10))/100,Math.min(100,parseInt(I[2],10))/100,Math.min(100,parseInt(I[3],10))/100,Q);break;case"hsl":case"hsla":if(I=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(J))return E(I[4]),this.setHSL(parseFloat(I[1])/360,parseFloat(I[2])/100,parseFloat(I[3])/100,Q);break;default:console.warn("THREE.Color: Unknown color model "+A)}}else if(B=/^\#([A-Fa-f\d]+)$/.exec(A)){const I=B[1],K=I.length;if(K===3)return this.setRGB(parseInt(I.charAt(0),16)/15,parseInt(I.charAt(1),16)/15,parseInt(I.charAt(2),16)/15,Q);else if(K===6)return this.setHex(parseInt(I,16),Q);else console.warn("THREE.Color: Invalid hex color "+A)}else if(A&&A.length>0)return this.setColorName(A,Q);return this}setColorName(A,Q="srgb"){const E=Y3[A.toLowerCase()];if(E!==void 0)this.setHex(E,Q);else console.warn("THREE.Color: Unknown color "+A);return this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(A){return this.r=A.r,this.g=A.g,this.b=A.b,this}copySRGBToLinear(A){return this.r=OK(A.r),this.g=OK(A.g),this.b=OK(A.b),this}copyLinearToSRGB(A){return this.r=nZ(A.r),this.g=nZ(A.g),this.b=nZ(A.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(A="srgb"){return D0.fromWorkingColorSpace($1.copy(this),A),Math.round(jQ($1.r*255,0,255))*65536+Math.round(jQ($1.g*255,0,255))*256+Math.round(jQ($1.b*255,0,255))}getHexString(A="srgb"){return("000000"+this.getHex(A).toString(16)).slice(-6)}getHSL(A,Q=D0.workingColorSpace){D0.fromWorkingColorSpace($1.copy(this),Q);const{r:E,g:B,b:I}=$1,K=Math.max(E,B,I),J=Math.min(E,B,I);let C,U;const Y=(J+K)/2;if(J===K)C=0,U=0;else{const H=K-J;switch(U=Y<=0.5?H/(K+J):H/(2-K-J),K){case E:C=(B-I)/H+(B<I?6:0);break;case B:C=(I-E)/H+2;break;case I:C=(E-B)/H+4;break}C/=6}return A.h=C,A.s=U,A.l=Y,A}getRGB(A,Q=D0.workingColorSpace){return D0.fromWorkingColorSpace($1.copy(this),Q),A.r=$1.r,A.g=$1.g,A.b=$1.b,A}getStyle(A="srgb"){D0.fromWorkingColorSpace($1.copy(this),A);const{r:Q,g:E,b:B}=$1;if(A!=="srgb")return`color(${A} ${Q.toFixed(3)} ${E.toFixed(3)} ${B.toFixed(3)})`;return`rgb(${Math.round(Q*255)},${Math.round(E*255)},${Math.round(B*255)})`}offsetHSL(A,Q,E){return this.getHSL(PB),this.setHSL(PB.h+A,PB.s+Q,PB.l+E)}add(A){return this.r+=A.r,this.g+=A.g,this.b+=A.b,this}addColors(A,Q){return this.r=A.r+Q.r,this.g=A.g+Q.g,this.b=A.b+Q.b,this}addScalar(A){return this.r+=A,this.g+=A,this.b+=A,this}sub(A){return this.r=Math.max(0,this.r-A.r),this.g=Math.max(0,this.g-A.g),this.b=Math.max(0,this.b-A.b),this}multiply(A){return this.r*=A.r,this.g*=A.g,this.b*=A.b,this}multiplyScalar(A){return this.r*=A,this.g*=A,this.b*=A,this}lerp(A,Q){return this.r+=(A.r-this.r)*Q,this.g+=(A.g-this.g)*Q,this.b+=(A.b-this.b)*Q,this}lerpColors(A,Q,E){return this.r=A.r+(Q.r-A.r)*E,this.g=A.g+(Q.g-A.g)*E,this.b=A.b+(Q.b-A.b)*E,this}lerpHSL(A,Q){this.getHSL(PB),A.getHSL(g7);const E=X9(PB.h,g7.h,Q),B=X9(PB.s,g7.s,Q),I=X9(PB.l,g7.l,Q);return this.setHSL(E,B,I),this}setFromVector3(A){return this.r=A.x,this.g=A.y,this.b=A.z,this}applyMatrix3(A){const Q=this.r,E=this.g,B=this.b,I=A.elements;return this.r=I[0]*Q+I[3]*E+I[6]*B,this.g=I[1]*Q+I[4]*E+I[7]*B,this.b=I[2]*Q+I[5]*E+I[8]*B,this}equals(A){return A.r===this.r&&A.g===this.g&&A.b===this.b}fromArray(A,Q=0){return this.r=A[Q],this.g=A[Q+1],this.b=A[Q+2],this}toArray(A=[],Q=0){return A[Q]=this.r,A[Q+1]=this.g,A[Q+2]=this.b,A}fromBufferAttribute(A,Q){return this.r=A.getX(Q),this.g=A.getY(Q),this.b=A.getZ(Q),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}var $1=/*@__PURE__*/new WA;WA.NAMES=Y3;var ap=0;class yQ extends uE{constructor(){super();this.isMaterial=!0,Object.defineProperty(this,"id",{value:ap++}),this.uuid=l1(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new WA(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(A){if(this._alphaTest>0!==A>0)this.version++;this._alphaTest=A}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(A){if(A===void 0)return;for(let Q in A){const E=A[Q];if(E===void 0){console.warn(`THREE.Material: parameter '${Q}' has value of undefined.`);continue}const B=this[Q];if(B===void 0){console.warn(`THREE.Material: '${Q}' is not a property of THREE.${this.type}.`);continue}if(B&&B.isColor)B.set(E);else if(B&&B.isVector3&&(E&&E.isVector3))B.copy(E);else this[Q]=E}}toJSON(A){const Q=A===void 0||typeof A==="string";if(Q)A={textures:{},images:{}};const E={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};if(E.uuid=this.uuid,E.type=this.type,this.name!=="")E.name=this.name;if(this.color&&this.color.isColor)E.color=this.color.getHex();if(this.roughness!==void 0)E.roughness=this.roughness;if(this.metalness!==void 0)E.metalness=this.metalness;if(this.sheen!==void 0)E.sheen=this.sheen;if(this.sheenColor&&this.sheenColor.isColor)E.sheenColor=this.sheenColor.getHex();if(this.sheenRoughness!==void 0)E.sheenRoughness=this.sheenRoughness;if(this.emissive&&this.emissive.isColor)E.emissive=this.emissive.getHex();if(this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1)E.emissiveIntensity=this.emissiveIntensity;if(this.specular&&this.specular.isColor)E.specular=this.specular.getHex();if(this.specularIntensity!==void 0)E.specularIntensity=this.specularIntensity;if(this.specularColor&&this.specularColor.isColor)E.specularColor=this.specularColor.getHex();if(this.shininess!==void 0)E.shininess=this.shininess;if(this.clearcoat!==void 0)E.clearcoat=this.clearcoat;if(this.clearcoatRoughness!==void 0)E.clearcoatRoughness=this.clearcoatRoughness;if(this.clearcoatMap&&this.clearcoatMap.isTexture)E.clearcoatMap=this.clearcoatMap.toJSON(A).uuid;if(this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture)E.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(A).uuid;if(this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture)E.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(A).uuid,E.clearcoatNormalScale=this.clearcoatNormalScale.toArray();if(this.dispersion!==void 0)E.dispersion=this.dispersion;if(this.iridescence!==void 0)E.iridescence=this.iridescence;if(this.iridescenceIOR!==void 0)E.iridescenceIOR=this.iridescenceIOR;if(this.iridescenceThicknessRange!==void 0)E.iridescenceThicknessRange=this.iridescenceThicknessRange;if(this.iridescenceMap&&this.iridescenceMap.isTexture)E.iridescenceMap=this.iridescenceMap.toJSON(A).uuid;if(this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture)E.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(A).uuid;if(this.anisotropy!==void 0)E.anisotropy=this.anisotropy;if(this.anisotropyRotation!==void 0)E.anisotropyRotation=this.anisotropyRotation;if(this.anisotropyMap&&this.anisotropyMap.isTexture)E.anisotropyMap=this.anisotropyMap.toJSON(A).uuid;if(this.map&&this.map.isTexture)E.map=this.map.toJSON(A).uuid;if(this.matcap&&this.matcap.isTexture)E.matcap=this.matcap.toJSON(A).uuid;if(this.alphaMap&&this.alphaMap.isTexture)E.alphaMap=this.alphaMap.toJSON(A).uuid;if(this.lightMap&&this.lightMap.isTexture)E.lightMap=this.lightMap.toJSON(A).uuid,E.lightMapIntensity=this.lightMapIntensity;if(this.aoMap&&this.aoMap.isTexture)E.aoMap=this.aoMap.toJSON(A).uuid,E.aoMapIntensity=this.aoMapIntensity;if(this.bumpMap&&this.bumpMap.isTexture)E.bumpMap=this.bumpMap.toJSON(A).uuid,E.bumpScale=this.bumpScale;if(this.normalMap&&this.normalMap.isTexture)E.normalMap=this.normalMap.toJSON(A).uuid,E.normalMapType=this.normalMapType,E.normalScale=this.normalScale.toArray();if(this.displacementMap&&this.displacementMap.isTexture)E.displacementMap=this.displacementMap.toJSON(A).uuid,E.displacementScale=this.displacementScale,E.displacementBias=this.displacementBias;if(this.roughnessMap&&this.roughnessMap.isTexture)E.roughnessMap=this.roughnessMap.toJSON(A).uuid;if(this.metalnessMap&&this.metalnessMap.isTexture)E.metalnessMap=this.metalnessMap.toJSON(A).uuid;if(this.emissiveMap&&this.emissiveMap.isTexture)E.emissiveMap=this.emissiveMap.toJSON(A).uuid;if(this.specularMap&&this.specularMap.isTexture)E.specularMap=this.specularMap.toJSON(A).uuid;if(this.specularIntensityMap&&this.specularIntensityMap.isTexture)E.specularIntensityMap=this.specularIntensityMap.toJSON(A).uuid;if(this.specularColorMap&&this.specularColorMap.isTexture)E.specularColorMap=this.specularColorMap.toJSON(A).uuid;if(this.envMap&&this.envMap.isTexture){if(E.envMap=this.envMap.toJSON(A).uuid,this.combine!==void 0)E.combine=this.combine}if(this.envMapRotation!==void 0)E.envMapRotation=this.envMapRotation.toArray();if(this.envMapIntensity!==void 0)E.envMapIntensity=this.envMapIntensity;if(this.reflectivity!==void 0)E.reflectivity=this.reflectivity;if(this.refractionRatio!==void 0)E.refractionRatio=this.refractionRatio;if(this.gradientMap&&this.gradientMap.isTexture)E.gradientMap=this.gradientMap.toJSON(A).uuid;if(this.transmission!==void 0)E.transmission=this.transmission;if(this.transmissionMap&&this.transmissionMap.isTexture)E.transmissionMap=this.transmissionMap.toJSON(A).uuid;if(this.thickness!==void 0)E.thickness=this.thickness;if(this.thicknessMap&&this.thicknessMap.isTexture)E.thicknessMap=this.thicknessMap.toJSON(A).uuid;if(this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0)E.attenuationDistance=this.attenuationDistance;if(this.attenuationColor!==void 0)E.attenuationColor=this.attenuationColor.getHex();if(this.size!==void 0)E.size=this.size;if(this.shadowSide!==null)E.shadowSide=this.shadowSide;if(this.sizeAttenuation!==void 0)E.sizeAttenuation=this.sizeAttenuation;if(this.blending!==1)E.blending=this.blending;if(this.side!==0)E.side=this.side;if(this.vertexColors===!0)E.vertexColors=!0;if(this.opacity<1)E.opacity=this.opacity;if(this.transparent===!0)E.transparent=!0;if(this.blendSrc!==204)E.blendSrc=this.blendSrc;if(this.blendDst!==205)E.blendDst=this.blendDst;if(this.blendEquation!==100)E.blendEquation=this.blendEquation;if(this.blendSrcAlpha!==null)E.blendSrcAlpha=this.blendSrcAlpha;if(this.blendDstAlpha!==null)E.blendDstAlpha=this.blendDstAlpha;if(this.blendEquationAlpha!==null)E.blendEquationAlpha=this.blendEquationAlpha;if(this.blendColor&&this.blendColor.isColor)E.blendColor=this.blendColor.getHex();if(this.blendAlpha!==0)E.blendAlpha=this.blendAlpha;if(this.depthFunc!==3)E.depthFunc=this.depthFunc;if(this.depthTest===!1)E.depthTest=this.depthTest;if(this.depthWrite===!1)E.depthWrite=this.depthWrite;if(this.colorWrite===!1)E.colorWrite=this.colorWrite;if(this.stencilWriteMask!==255)E.stencilWriteMask=this.stencilWriteMask;if(this.stencilFunc!==519)E.stencilFunc=this.stencilFunc;if(this.stencilRef!==0)E.stencilRef=this.stencilRef;if(this.stencilFuncMask!==255)E.stencilFuncMask=this.stencilFuncMask;if(this.stencilFail!==7680)E.stencilFail=this.stencilFail;if(this.stencilZFail!==7680)E.stencilZFail=this.stencilZFail;if(this.stencilZPass!==7680)E.stencilZPass=this.stencilZPass;if(this.stencilWrite===!0)E.stencilWrite=this.stencilWrite;if(this.rotation!==void 0&&this.rotation!==0)E.rotation=this.rotation;if(this.polygonOffset===!0)E.polygonOffset=!0;if(this.polygonOffsetFactor!==0)E.polygonOffsetFactor=this.polygonOffsetFactor;if(this.polygonOffsetUnits!==0)E.polygonOffsetUnits=this.polygonOffsetUnits;if(this.linewidth!==void 0&&this.linewidth!==1)E.linewidth=this.linewidth;if(this.dashSize!==void 0)E.dashSize=this.dashSize;if(this.gapSize!==void 0)E.gapSize=this.gapSize;if(this.scale!==void 0)E.scale=this.scale;if(this.dithering===!0)E.dithering=!0;if(this.alphaTest>0)E.alphaTest=this.alphaTest;if(this.alphaHash===!0)E.alphaHash=!0;if(this.alphaToCoverage===!0)E.alphaToCoverage=!0;if(this.premultipliedAlpha===!0)E.premultipliedAlpha=!0;if(this.forceSinglePass===!0)E.forceSinglePass=!0;if(this.wireframe===!0)E.wireframe=!0;if(this.wireframeLinewidth>1)E.wireframeLinewidth=this.wireframeLinewidth;if(this.wireframeLinecap!=="round")E.wireframeLinecap=this.wireframeLinecap;if(this.wireframeLinejoin!=="round")E.wireframeLinejoin=this.wireframeLinejoin;if(this.flatShading===!0)E.flatShading=!0;if(this.visible===!1)E.visible=!1;if(this.toneMapped===!1)E.toneMapped=!1;if(this.fog===!1)E.fog=!1;if(Object.keys(this.userData).length>0)E.userData=this.userData;function B(I){const K=[];for(let J in I){const C=I[J];delete C.metadata,K.push(C)}return K}if(Q){const I=B(A.textures),K=B(A.images);if(I.length>0)E.textures=I;if(K.length>0)E.images=K}return E}clone(){return new this.constructor().copy(this)}copy(A){this.name=A.name,this.blending=A.blending,this.side=A.side,this.vertexColors=A.vertexColors,this.opacity=A.opacity,this.transparent=A.transparent,this.blendSrc=A.blendSrc,this.blendDst=A.blendDst,this.blendEquation=A.blendEquation,this.blendSrcAlpha=A.blendSrcAlpha,this.blendDstAlpha=A.blendDstAlpha,this.blendEquationAlpha=A.blendEquationAlpha,this.blendColor.copy(A.blendColor),this.blendAlpha=A.blendAlpha,this.depthFunc=A.depthFunc,this.depthTest=A.depthTest,this.depthWrite=A.depthWrite,this.stencilWriteMask=A.stencilWriteMask,this.stencilFunc=A.stencilFunc,this.stencilRef=A.stencilRef,this.stencilFuncMask=A.stencilFuncMask,this.stencilFail=A.stencilFail,this.stencilZFail=A.stencilZFail,this.stencilZPass=A.stencilZPass,this.stencilWrite=A.stencilWrite;const Q=A.clippingPlanes;let E=null;if(Q!==null){const B=Q.length;E=new Array(B);for(let I=0;I!==B;++I)E[I]=Q[I].clone()}return this.clippingPlanes=E,this.clipIntersection=A.clipIntersection,this.clipShadows=A.clipShadows,this.shadowSide=A.shadowSide,this.colorWrite=A.colorWrite,this.precision=A.precision,this.polygonOffset=A.polygonOffset,this.polygonOffsetFactor=A.polygonOffsetFactor,this.polygonOffsetUnits=A.polygonOffsetUnits,this.dithering=A.dithering,this.alphaTest=A.alphaTest,this.alphaHash=A.alphaHash,this.alphaToCoverage=A.alphaToCoverage,this.premultipliedAlpha=A.premultipliedAlpha,this.forceSinglePass=A.forceSinglePass,this.visible=A.visible,this.toneMapped=A.toneMapped,this.userData=JSON.parse(JSON.stringify(A.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(A){if(A===!0)this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class V0 extends yQ{constructor(A){super();this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new WA(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new vQ,this.combine=0,this.reflectivity=1,this.refractionRatio=0.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(A)}copy(A){return super.copy(A),this.color.copy(A.color),this.map=A.map,this.lightMap=A.lightMap,this.lightMapIntensity=A.lightMapIntensity,this.aoMap=A.aoMap,this.aoMapIntensity=A.aoMapIntensity,this.specularMap=A.specularMap,this.alphaMap=A.alphaMap,this.envMap=A.envMap,this.envMapRotation.copy(A.envMapRotation),this.combine=A.combine,this.reflectivity=A.reflectivity,this.refractionRatio=A.refractionRatio,this.wireframe=A.wireframe,this.wireframeLinewidth=A.wireframeLinewidth,this.wireframeLinecap=A.wireframeLinecap,this.wireframeLinejoin=A.wireframeLinejoin,this.fog=A.fog,this}}var y8=/*@__PURE__*/tp(),OE={toHalfFloat:y1,fromHalfFloat:$9},pQ=/*@__PURE__*/new f,b7=/*@__PURE__*/new RA;class E0{constructor(A,Q,E=!1){if(Array.isArray(A))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=A,this.itemSize=Q,this.count=A!==void 0?A.length/Q:0,this.normalized=E,this.usage=35044,this.updateRanges=[],this.gpuType=1015,this.version=0}onUploadCallback(){}set needsUpdate(A){if(A===!0)this.version++}setUsage(A){return this.usage=A,this}addUpdateRange(A,Q){this.updateRanges.push({start:A,count:Q})}clearUpdateRanges(){this.updateRanges.length=0}copy(A){return this.name=A.name,this.array=new A.array.constructor(A.array),this.itemSize=A.itemSize,this.count=A.count,this.normalized=A.normalized,this.usage=A.usage,this.gpuType=A.gpuType,this}copyAt(A,Q,E){A*=this.itemSize,E*=Q.itemSize;for(let B=0,I=this.itemSize;B<I;B++)this.array[A+B]=Q.array[E+B];return this}copyArray(A){return this.array.set(A),this}applyMatrix3(A){if(this.itemSize===2)for(let Q=0,E=this.count;Q<E;Q++)b7.fromBufferAttribute(this,Q),b7.applyMatrix3(A),this.setXY(Q,b7.x,b7.y);else if(this.itemSize===3)for(let Q=0,E=this.count;Q<E;Q++)pQ.fromBufferAttribute(this,Q),pQ.applyMatrix3(A),this.setXYZ(Q,pQ.x,pQ.y,pQ.z);return this}applyMatrix4(A){for(let Q=0,E=this.count;Q<E;Q++)pQ.fromBufferAttribute(this,Q),pQ.applyMatrix4(A),this.setXYZ(Q,pQ.x,pQ.y,pQ.z);return this}applyNormalMatrix(A){for(let Q=0,E=this.count;Q<E;Q++)pQ.fromBufferAttribute(this,Q),pQ.applyNormalMatrix(A),this.setXYZ(Q,pQ.x,pQ.y,pQ.z);return this}transformDirection(A){for(let Q=0,E=this.count;Q<E;Q++)pQ.fromBufferAttribute(this,Q),pQ.transformDirection(A),this.setXYZ(Q,pQ.x,pQ.y,pQ.z);return this}set(A,Q=0){return this.array.set(A,Q),this}getComponent(A,Q){let E=this.array[A*this.itemSize+Q];if(this.normalized)E=w1(E,this.array);return E}setComponent(A,Q,E){if(this.normalized)E=z0(E,this.array);return this.array[A*this.itemSize+Q]=E,this}getX(A){let Q=this.array[A*this.itemSize];if(this.normalized)Q=w1(Q,this.array);return Q}setX(A,Q){if(this.normalized)Q=z0(Q,this.array);return this.array[A*this.itemSize]=Q,this}getY(A){let Q=this.array[A*this.itemSize+1];if(this.normalized)Q=w1(Q,this.array);return Q}setY(A,Q){if(this.normalized)Q=z0(Q,this.array);return this.array[A*this.itemSize+1]=Q,this}getZ(A){let Q=this.array[A*this.itemSize+2];if(this.normalized)Q=w1(Q,this.array);return Q}setZ(A,Q){if(this.normalized)Q=z0(Q,this.array);return this.array[A*this.itemSize+2]=Q,this}getW(A){let Q=this.array[A*this.itemSize+3];if(this.normalized)Q=w1(Q,this.array);return Q}setW(A,Q){if(this.normalized)Q=z0(Q,this.array);return this.array[A*this.itemSize+3]=Q,this}setXY(A,Q,E){if(A*=this.itemSize,this.normalized)Q=z0(Q,this.array),E=z0(E,this.array);return this.array[A+0]=Q,this.array[A+1]=E,this}setXYZ(A,Q,E,B){if(A*=this.itemSize,this.normalized)Q=z0(Q,this.array),E=z0(E,this.array),B=z0(B,this.array);return this.array[A+0]=Q,this.array[A+1]=E,this.array[A+2]=B,this}setXYZW(A,Q,E,B,I){if(A*=this.itemSize,this.normalized)Q=z0(Q,this.array),E=z0(E,this.array),B=z0(B,this.array),I=z0(I,this.array);return this.array[A+0]=Q,this.array[A+1]=E,this.array[A+2]=B,this.array[A+3]=I,this}onUpload(A){return this.onUploadCallback=A,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const A={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};if(this.name!=="")A.name=this.name;if(this.usage!==35044)A.usage=this.usage;return A}}class H3 extends E0{constructor(A,Q,E){super(new Int8Array(A),Q,E)}}class G3 extends E0{constructor(A,Q,E){super(new Uint8Array(A),Q,E)}}class Z3 extends E0{constructor(A,Q,E){super(new Uint8ClampedArray(A),Q,E)}}class R3 extends E0{constructor(A,Q,E){super(new Int16Array(A),Q,E)}}class LK extends E0{constructor(A,Q,E){super(new Uint16Array(A),Q,E)}}class QO extends E0{constructor(A,Q,E){super(new Int32Array(A),Q,E)}}class y5 extends E0{constructor(A,Q,E){super(new Uint32Array(A),Q,E)}}class O3 extends E0{constructor(A,Q,E){super(new Uint16Array(A),Q,E);this.isFloat16BufferAttribute=!0}getX(A){let Q=$9(this.array[A*this.itemSize]);if(this.normalized)Q=w1(Q,this.array);return Q}setX(A,Q){if(this.normalized)Q=z0(Q,this.array);return this.array[A*this.itemSize]=y1(Q),this}getY(A){let Q=$9(this.array[A*this.itemSize+1]);if(this.normalized)Q=w1(Q,this.array);return Q}setY(A,Q){if(this.normalized)Q=z0(Q,this.array);return this.array[A*this.itemSize+1]=y1(Q),this}getZ(A){let Q=$9(this.array[A*this.itemSize+2]);if(this.normalized)Q=w1(Q,this.array);return Q}setZ(A,Q){if(this.normalized)Q=z0(Q,this.array);return this.array[A*this.itemSize+2]=y1(Q),this}getW(A){let Q=$9(this.array[A*this.itemSize+3]);if(this.normalized)Q=w1(Q,this.array);return Q}setW(A,Q){if(this.normalized)Q=z0(Q,this.array);return this.array[A*this.itemSize+3]=y1(Q),this}setXY(A,Q,E){if(A*=this.itemSize,this.normalized)Q=z0(Q,this.array),E=z0(E,this.array);return this.array[A+0]=y1(Q),this.array[A+1]=y1(E),this}setXYZ(A,Q,E,B){if(A*=this.itemSize,this.normalized)Q=z0(Q,this.array),E=z0(E,this.array),B=z0(B,this.array);return this.array[A+0]=y1(Q),this.array[A+1]=y1(E),this.array[A+2]=y1(B),this}setXYZW(A,Q,E,B,I){if(A*=this.itemSize,this.normalized)Q=z0(Q,this.array),E=z0(E,this.array),B=z0(B,this.array),I=z0(I,this.array);return this.array[A+0]=y1(Q),this.array[A+1]=y1(E),this.array[A+2]=y1(B),this.array[A+3]=y1(I),this}}class bA extends E0{constructor(A,Q,E){super(new Float32Array(A),Q,E)}}var ep=0,GE=/*@__PURE__*/new MA,YR=/*@__PURE__*/new Y0,EK=/*@__PURE__*/new f,d1=/*@__PURE__*/new p0,J9=/*@__PURE__*/new p0,E1=/*@__PURE__*/new f;class pA extends uE{constructor(){super();this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:ep++}),this.uuid=l1(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(A){if(Array.isArray(A))this.index=new((K3(A))?y5:LK)(A,1);else this.index=A;return this}getAttribute(A){return this.attributes[A]}setAttribute(A,Q){return this.attributes[A]=Q,this}deleteAttribute(A){return delete this.attributes[A],this}hasAttribute(A){return this.attributes[A]!==void 0}addGroup(A,Q,E=0){this.groups.push({start:A,count:Q,materialIndex:E})}clearGroups(){this.groups=[]}setDrawRange(A,Q){this.drawRange.start=A,this.drawRange.count=Q}applyMatrix4(A){const Q=this.attributes.position;if(Q!==void 0)Q.applyMatrix4(A),Q.needsUpdate=!0;const E=this.attributes.normal;if(E!==void 0){const I=new J0().getNormalMatrix(A);E.applyNormalMatrix(I),E.needsUpdate=!0}const B=this.attributes.tangent;if(B!==void 0)B.transformDirection(A),B.needsUpdate=!0;if(this.boundingBox!==null)this.computeBoundingBox();if(this.boundingSphere!==null)this.computeBoundingSphere();return this}applyQuaternion(A){return GE.makeRotationFromQuaternion(A),this.applyMatrix4(GE),this}rotateX(A){return GE.makeRotationX(A),this.applyMatrix4(GE),this}rotateY(A){return GE.makeRotationY(A),this.applyMatrix4(GE),this}rotateZ(A){return GE.makeRotationZ(A),this.applyMatrix4(GE),this}translate(A,Q,E){return GE.makeTranslation(A,Q,E),this.applyMatrix4(GE),this}scale(A,Q,E){return GE.makeScale(A,Q,E),this.applyMatrix4(GE),this}lookAt(A){return YR.lookAt(A),YR.updateMatrix(),this.applyMatrix4(YR.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(EK).negate(),this.translate(EK.x,EK.y,EK.z),this}setFromPoints(A){const Q=[];for(let E=0,B=A.length;E<B;E++){const I=A[E];Q.push(I.x,I.y,I.z||0)}return this.setAttribute("position",new bA(Q,3)),this}computeBoundingBox(){if(this.boundingBox===null)this.boundingBox=new p0;const A=this.attributes.position,Q=this.morphAttributes.position;if(A&&A.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new f(-1/0,-1/0,-1/0),new f(1/0,1/0,1/0));return}if(A!==void 0){if(this.boundingBox.setFromBufferAttribute(A),Q)for(let E=0,B=Q.length;E<B;E++){const I=Q[E];if(d1.setFromBufferAttribute(I),this.morphTargetsRelative)E1.addVectors(this.boundingBox.min,d1.min),this.boundingBox.expandByPoint(E1),E1.addVectors(this.boundingBox.max,d1.max),this.boundingBox.expandByPoint(E1);else this.boundingBox.expandByPoint(d1.min),this.boundingBox.expandByPoint(d1.max)}}else this.boundingBox.makeEmpty();if(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){if(this.boundingSphere===null)this.boundingSphere=new YQ;const A=this.attributes.position,Q=this.morphAttributes.position;if(A&&A.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new f,1/0);return}if(A){const E=this.boundingSphere.center;if(d1.setFromBufferAttribute(A),Q)for(let I=0,K=Q.length;I<K;I++){const J=Q[I];if(J9.setFromBufferAttribute(J),this.morphTargetsRelative)E1.addVectors(d1.min,J9.min),d1.expandByPoint(E1),E1.addVectors(d1.max,J9.max),d1.expandByPoint(E1);else d1.expandByPoint(J9.min),d1.expandByPoint(J9.max)}d1.getCenter(E);let B=0;for(let I=0,K=A.count;I<K;I++)E1.fromBufferAttribute(A,I),B=Math.max(B,E.distanceToSquared(E1));if(Q)for(let I=0,K=Q.length;I<K;I++){const J=Q[I],C=this.morphTargetsRelative;for(let U=0,Y=J.count;U<Y;U++){if(E1.fromBufferAttribute(J,U),C)EK.fromBufferAttribute(A,U),E1.add(EK);B=Math.max(B,E.distanceToSquared(E1))}}if(this.boundingSphere.radius=Math.sqrt(B),isNaN(this.boundingSphere.radius))console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const A=this.index,Q=this.attributes;if(A===null||Q.position===void 0||Q.normal===void 0||Q.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const{position:E,normal:B,uv:I}=Q;if(this.hasAttribute("tangent")===!1)this.setAttribute("tangent",new E0(new Float32Array(4*E.count),4));const K=this.getAttribute("tangent"),J=[],C=[];for(let D=0;D<E.count;D++)J[D]=new f,C[D]=new f;const U=new f,Y=new f,H=new f,R=new RA,G=new RA,O=new RA,F=new f,q=new f;function W(D,w,P){U.fromBufferAttribute(E,D),Y.fromBufferAttribute(E,w),H.fromBufferAttribute(E,P),R.fromBufferAttribute(I,D),G.fromBufferAttribute(I,w),O.fromBufferAttribute(I,P),Y.sub(U),H.sub(U),G.sub(R),O.sub(R);const V=1/(G.x*O.y-O.x*G.y);if(!isFinite(V))return;F.copy(Y).multiplyScalar(O.y).addScaledVector(H,-G.y).multiplyScalar(V),q.copy(H).multiplyScalar(G.x).addScaledVector(Y,-O.x).multiplyScalar(V),J[D].add(F),J[w].add(F),J[P].add(F),C[D].add(q),C[w].add(q),C[P].add(q)}let Z=this.groups;if(Z.length===0)Z=[{start:0,count:A.count}];for(let D=0,w=Z.length;D<w;++D){const P=Z[D],V=P.start,T=P.count;for(let S=V,h=V+T;S<h;S+=3)W(A.getX(S+0),A.getX(S+1),A.getX(S+2))}const $=new f,X=new f,N=new f,M=new f;function L(D){N.fromBufferAttribute(B,D),M.copy(N);const w=J[D];$.copy(w),$.sub(N.multiplyScalar(N.dot(w))).normalize(),X.crossVectors(M,w);const V=X.dot(C[D])<0?-1:1;K.setXYZW(D,$.x,$.y,$.z,V)}for(let D=0,w=Z.length;D<w;++D){const P=Z[D],V=P.start,T=P.count;for(let S=V,h=V+T;S<h;S+=3)L(A.getX(S+0)),L(A.getX(S+1)),L(A.getX(S+2))}}computeVertexNormals(){const A=this.index,Q=this.getAttribute("position");if(Q!==void 0){let E=this.getAttribute("normal");if(E===void 0)E=new E0(new Float32Array(Q.count*3),3),this.setAttribute("normal",E);else for(let R=0,G=E.count;R<G;R++)E.setXYZ(R,0,0,0);const B=new f,I=new f,K=new f,J=new f,C=new f,U=new f,Y=new f,H=new f;if(A)for(let R=0,G=A.count;R<G;R+=3){const O=A.getX(R+0),F=A.getX(R+1),q=A.getX(R+2);B.fromBufferAttribute(Q,O),I.fromBufferAttribute(Q,F),K.fromBufferAttribute(Q,q),Y.subVectors(K,I),H.subVectors(B,I),Y.cross(H),J.fromBufferAttribute(E,O),C.fromBufferAttribute(E,F),U.fromBufferAttribute(E,q),J.add(Y),C.add(Y),U.add(Y),E.setXYZ(O,J.x,J.y,J.z),E.setXYZ(F,C.x,C.y,C.z),E.setXYZ(q,U.x,U.y,U.z)}else for(let R=0,G=Q.count;R<G;R+=3)B.fromBufferAttribute(Q,R+0),I.fromBufferAttribute(Q,R+1),K.fromBufferAttribute(Q,R+2),Y.subVectors(K,I),H.subVectors(B,I),Y.cross(H),E.setXYZ(R+0,Y.x,Y.y,Y.z),E.setXYZ(R+1,Y.x,Y.y,Y.z),E.setXYZ(R+2,Y.x,Y.y,Y.z);this.normalizeNormals(),E.needsUpdate=!0}}normalizeNormals(){const A=this.attributes.normal;for(let Q=0,E=A.count;Q<E;Q++)E1.fromBufferAttribute(A,Q),E1.normalize(),A.setXYZ(Q,E1.x,E1.y,E1.z)}toNonIndexed(){function A(J,C){const{array:U,itemSize:Y,normalized:H}=J,R=new U.constructor(C.length*Y);let G=0,O=0;for(let F=0,q=C.length;F<q;F++){if(J.isInterleavedBufferAttribute)G=C[F]*J.data.stride+J.offset;else G=C[F]*Y;for(let W=0;W<Y;W++)R[O++]=U[G++]}return new E0(R,Y,H)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const Q=new pA,E=this.index.array,B=this.attributes;for(let J in B){const C=B[J],U=A(C,E);Q.setAttribute(J,U)}const I=this.morphAttributes;for(let J in I){const C=[],U=I[J];for(let Y=0,H=U.length;Y<H;Y++){const R=U[Y],G=A(R,E);C.push(G)}Q.morphAttributes[J]=C}Q.morphTargetsRelative=this.morphTargetsRelative;const K=this.groups;for(let J=0,C=K.length;J<C;J++){const U=K[J];Q.addGroup(U.start,U.count,U.materialIndex)}return Q}toJSON(){const A={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(A.uuid=this.uuid,A.type=this.type,this.name!=="")A.name=this.name;if(Object.keys(this.userData).length>0)A.userData=this.userData;if(this.parameters!==void 0){const C=this.parameters;for(let U in C)if(C[U]!==void 0)A[U]=C[U];return A}A.data={attributes:{}};const Q=this.index;if(Q!==null)A.data.index={type:Q.array.constructor.name,array:Array.prototype.slice.call(Q.array)};const E=this.attributes;for(let C in E){const U=E[C];A.data.attributes[C]=U.toJSON(A.data)}const B={};let I=!1;for(let C in this.morphAttributes){const U=this.morphAttributes[C],Y=[];for(let H=0,R=U.length;H<R;H++){const G=U[H];Y.push(G.toJSON(A.data))}if(Y.length>0)B[C]=Y,I=!0}if(I)A.data.morphAttributes=B,A.data.morphTargetsRelative=this.morphTargetsRelative;const K=this.groups;if(K.length>0)A.data.groups=JSON.parse(JSON.stringify(K));const J=this.boundingSphere;if(J!==null)A.data.boundingSphere={center:J.center.toArray(),radius:J.radius};return A}clone(){return new this.constructor().copy(this)}copy(A){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const Q={};this.name=A.name;const E=A.index;if(E!==null)this.setIndex(E.clone(Q));const B=A.attributes;for(let U in B){const Y=B[U];this.setAttribute(U,Y.clone(Q))}const I=A.morphAttributes;for(let U in I){const Y=[],H=I[U];for(let R=0,G=H.length;R<G;R++)Y.push(H[R].clone(Q));this.morphAttributes[U]=Y}this.morphTargetsRelative=A.morphTargetsRelative;const K=A.groups;for(let U=0,Y=K.length;U<Y;U++){const H=K[U];this.addGroup(H.start,H.count,H.materialIndex)}const J=A.boundingBox;if(J!==null)this.boundingBox=J.clone();const C=A.boundingSphere;if(C!==null)this.boundingSphere=C.clone();return this.drawRange.start=A.drawRange.start,this.drawRange.count=A.drawRange.count,this.userData=A.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}var DD=/*@__PURE__*/new MA,SI=/*@__PURE__*/new i1,f7=/*@__PURE__*/new YQ,MD=/*@__PURE__*/new f,u7=/*@__PURE__*/new f,p7=/*@__PURE__*/new f,m7=/*@__PURE__*/new f,HR=/*@__PURE__*/new f,c7=/*@__PURE__*/new f,wD=/*@__PURE__*/new f,d7=/*@__PURE__*/new f;class mA extends Y0{constructor(A=new pA,Q=new V0){super();this.isMesh=!0,this.type="Mesh",this.geometry=A,this.material=Q,this.updateMorphTargets()}copy(A,Q){if(super.copy(A,Q),A.morphTargetInfluences!==void 0)this.morphTargetInfluences=A.morphTargetInfluences.slice();if(A.morphTargetDictionary!==void 0)this.morphTargetDictionary=Object.assign({},A.morphTargetDictionary);return this.material=Array.isArray(A.material)?A.material.slice():A.material,this.geometry=A.geometry,this}updateMorphTargets(){const Q=this.geometry.morphAttributes,E=Object.keys(Q);if(E.length>0){const B=Q[E[0]];if(B!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let I=0,K=B.length;I<K;I++){const J=B[I].name||String(I);this.morphTargetInfluences.push(0),this.morphTargetDictionary[J]=I}}}}getVertexPosition(A,Q){const E=this.geometry,B=E.attributes.position,I=E.morphAttributes.position,K=E.morphTargetsRelative;Q.fromBufferAttribute(B,A);const J=this.morphTargetInfluences;if(I&&J){c7.set(0,0,0);for(let C=0,U=I.length;C<U;C++){const Y=J[C],H=I[C];if(Y===0)continue;if(HR.fromBufferAttribute(H,A),K)c7.addScaledVector(HR,Y);else c7.addScaledVector(HR.sub(Q),Y)}Q.add(c7)}return Q}raycast(A,Q){const E=this.geometry,B=this.material,I=this.matrixWorld;if(B===void 0)return;if(E.boundingSphere===null)E.computeBoundingSphere();if(f7.copy(E.boundingSphere),f7.applyMatrix4(I),SI.copy(A.ray).recast(A.near),f7.containsPoint(SI.origin)===!1){if(SI.intersectSphere(f7,MD)===null)return;if(SI.origin.distanceToSquared(MD)>(A.far-A.near)**2)return}if(DD.copy(I).invert(),SI.copy(A.ray).applyMatrix4(DD),E.boundingBox!==null){if(SI.intersectsBox(E.boundingBox)===!1)return}this._computeIntersections(A,Q,SI)}_computeIntersections(A,Q,E){let B;const I=this.geometry,K=this.material,J=I.index,C=I.attributes.position,U=I.attributes.uv,Y=I.attributes.uv1,H=I.attributes.normal,R=I.groups,G=I.drawRange;if(J!==null)if(Array.isArray(K))for(let O=0,F=R.length;O<F;O++){const q=R[O],W=K[q.materialIndex],Z=Math.max(q.start,G.start),$=Math.min(J.count,Math.min(q.start+q.count,G.start+G.count));for(let X=Z,N=$;X<N;X+=3){const M=J.getX(X),L=J.getX(X+1),D=J.getX(X+2);if(B=l7(this,W,A,E,U,Y,H,M,L,D),B)B.faceIndex=Math.floor(X/3),B.face.materialIndex=q.materialIndex,Q.push(B)}}else{const O=Math.max(0,G.start),F=Math.min(J.count,G.start+G.count);for(let q=O,W=F;q<W;q+=3){const Z=J.getX(q),$=J.getX(q+1),X=J.getX(q+2);if(B=l7(this,K,A,E,U,Y,H,Z,$,X),B)B.faceIndex=Math.floor(q/3),Q.push(B)}}else if(C!==void 0)if(Array.isArray(K))for(let O=0,F=R.length;O<F;O++){const q=R[O],W=K[q.materialIndex],Z=Math.max(q.start,G.start),$=Math.min(C.count,Math.min(q.start+q.count,G.start+G.count));for(let X=Z,N=$;X<N;X+=3){const M=X,L=X+1,D=X+2;if(B=l7(this,W,A,E,U,Y,H,M,L,D),B)B.faceIndex=Math.floor(X/3),B.face.materialIndex=q.materialIndex,Q.push(B)}}else{const O=Math.max(0,G.start),F=Math.min(C.count,G.start+G.count);for(let q=O,W=F;q<W;q+=3){const Z=q,$=q+1,X=q+2;if(B=l7(this,K,A,E,U,Y,H,Z,$,X),B)B.faceIndex=Math.floor(q/3),Q.push(B)}}}}class uQ extends pA{constructor(A=1,Q=1,E=1,B=1,I=1,K=1){super();this.type="BoxGeometry",this.parameters={width:A,height:Q,depth:E,widthSegments:B,heightSegments:I,depthSegments:K};const J=this;B=Math.floor(B),I=Math.floor(I),K=Math.floor(K);const C=[],U=[],Y=[],H=[];let R=0,G=0;O("z","y","x",-1,-1,E,Q,A,K,I,0),O("z","y","x",1,-1,E,Q,-A,K,I,1),O("x","z","y",1,1,A,E,Q,B,K,2),O("x","z","y",1,-1,A,E,-Q,B,K,3),O("x","y","z",1,-1,A,Q,E,B,I,4),O("x","y","z",-1,-1,A,Q,-E,B,I,5),this.setIndex(C),this.setAttribute("position",new bA(U,3)),this.setAttribute("normal",new bA(Y,3)),this.setAttribute("uv",new bA(H,2));function O(F,q,W,Z,$,X,N,M,L,D,w){const P=X/L,V=N/D,T=X/2,S=N/2,h=M/2,x=L+1,y=D+1;let j=0,v=0;const _=new f;for(let g=0;g<y;g++){const b=g*V-S;for(let p=0;p<x;p++){const m=p*P-T;_[F]=m*Z,_[q]=b*$,_[W]=h,U.push(_.x,_.y,_.z),_[F]=0,_[q]=0,_[W]=M>0?1:-1,Y.push(_.x,_.y,_.z),H.push(p/L),H.push(1-g/D),j+=1}}for(let g=0;g<D;g++)for(let b=0;b<L;b++){const p=R+b+x*g,m=R+b+x*(g+1),o=R+(b+1)+x*(g+1),AA=R+(b+1)+x*g;C.push(p,m,AA),C.push(m,o,AA),v+=6}J.addGroup(G,v,w),G+=v,R+=j}}copy(A){return super.copy(A),this.parameters=Object.assign({},A.parameters),this}static fromJSON(A){return new uQ(A.width,A.height,A.depth,A.widthSegments,A.heightSegments,A.depthSegments)}}var rA={clone:WK,merge:M1},Em="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",Bm="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";class cA extends yQ{constructor(A){super();if(this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Em,this.fragmentShader=Bm,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,A!==void 0)this.setValues(A)}copy(A){return super.copy(A),this.fragmentShader=A.fragmentShader,this.vertexShader=A.vertexShader,this.uniforms=WK(A.uniforms),this.uniformsGroups=Qm(A.uniformsGroups),this.defines=Object.assign({},A.defines),this.wireframe=A.wireframe,this.wireframeLinewidth=A.wireframeLinewidth,this.fog=A.fog,this.lights=A.lights,this.clipping=A.clipping,this.extensions=Object.assign({},A.extensions),this.glslVersion=A.glslVersion,this}toJSON(A){const Q=super.toJSON(A);Q.glslVersion=this.glslVersion,Q.uniforms={};for(let B in this.uniforms){const K=this.uniforms[B].value;if(K&&K.isTexture)Q.uniforms[B]={type:"t",value:K.toJSON(A).uuid};else if(K&&K.isColor)Q.uniforms[B]={type:"c",value:K.getHex()};else if(K&&K.isVector2)Q.uniforms[B]={type:"v2",value:K.toArray()};else if(K&&K.isVector3)Q.uniforms[B]={type:"v3",value:K.toArray()};else if(K&&K.isVector4)Q.uniforms[B]={type:"v4",value:K.toArray()};else if(K&&K.isMatrix3)Q.uniforms[B]={type:"m3",value:K.toArray()};else if(K&&K.isMatrix4)Q.uniforms[B]={type:"m4",value:K.toArray()};else Q.uniforms[B]={value:K}}if(Object.keys(this.defines).length>0)Q.defines=this.defines;Q.vertexShader=this.vertexShader,Q.fragmentShader=this.fragmentShader,Q.lights=this.lights,Q.clipping=this.clipping;const E={};for(let B in this.extensions)if(this.extensions[B]===!0)E[B]=!0;if(Object.keys(E).length>0)Q.extensions=E;return Q}}class DK extends Y0{constructor(){super();this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new MA,this.projectionMatrix=new MA,this.projectionMatrixInverse=new MA,this.coordinateSystem=2000}copy(A,Q){return super.copy(A,Q),this.matrixWorldInverse.copy(A.matrixWorldInverse),this.projectionMatrix.copy(A.projectionMatrix),this.projectionMatrixInverse.copy(A.projectionMatrixInverse),this.coordinateSystem=A.coordinateSystem,this}getWorldDirection(A){return super.getWorldDirection(A).negate()}updateMatrixWorld(A){super.updateMatrixWorld(A),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(A,Q){super.updateWorldMatrix(A,Q),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}var _B=/*@__PURE__*/new f,zD=/*@__PURE__*/new RA,VD=/*@__PURE__*/new RA;class y0 extends DK{constructor(A=50,Q=1,E=0.1,B=2000){super();this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=A,this.zoom=1,this.near=E,this.far=B,this.focus=10,this.aspect=Q,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(A,Q){return super.copy(A,Q),this.fov=A.fov,this.zoom=A.zoom,this.near=A.near,this.far=A.far,this.focus=A.focus,this.aspect=A.aspect,this.view=A.view===null?null:Object.assign({},A.view),this.filmGauge=A.filmGauge,this.filmOffset=A.filmOffset,this}setFocalLength(A){const Q=0.5*this.getFilmHeight()/A;this.fov=$K*2*Math.atan(Q),this.updateProjectionMatrix()}getFocalLength(){const A=Math.tan(pI*0.5*this.fov);return 0.5*this.getFilmHeight()/A}getEffectiveFOV(){return $K*2*Math.atan(Math.tan(pI*0.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(A,Q,E){_B.set(-1,-1,0.5).applyMatrix4(this.projectionMatrixInverse),Q.set(_B.x,_B.y).multiplyScalar(-A/_B.z),_B.set(1,1,0.5).applyMatrix4(this.projectionMatrixInverse),E.set(_B.x,_B.y).multiplyScalar(-A/_B.z)}getViewSize(A,Q){return this.getViewBounds(A,zD,VD),Q.subVectors(VD,zD)}setViewOffset(A,Q,E,B,I,K){if(this.aspect=A/Q,this.view===null)this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1};this.view.enabled=!0,this.view.fullWidth=A,this.view.fullHeight=Q,this.view.offsetX=E,this.view.offsetY=B,this.view.width=I,this.view.height=K,this.updateProjectionMatrix()}clearViewOffset(){if(this.view!==null)this.view.enabled=!1;this.updateProjectionMatrix()}updateProjectionMatrix(){const A=this.near;let Q=A*Math.tan(pI*0.5*this.fov)/this.zoom,E=2*Q,B=this.aspect*E,I=-0.5*B;const K=this.view;if(this.view!==null&&this.view.enabled){const{fullWidth:C,fullHeight:U}=K;I+=K.offsetX*B/C,Q-=K.offsetY*E/U,B*=K.width/C,E*=K.height/U}const J=this.filmOffset;if(J!==0)I+=A*J/this.getFilmWidth();this.projectionMatrix.makePerspective(I,I+B,Q,Q-E,A,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(A){const Q=super.toJSON(A);if(Q.object.fov=this.fov,Q.object.zoom=this.zoom,Q.object.near=this.near,Q.object.far=this.far,Q.object.focus=this.focus,Q.object.aspect=this.aspect,this.view!==null)Q.object.view=Object.assign({},this.view);return Q.object.filmGauge=this.filmGauge,Q.object.filmOffset=this.filmOffset,Q}}var BK=-90,IK=1;class EO extends Y0{constructor(A,Q,E){super();this.type="CubeCamera",this.renderTarget=E,this.coordinateSystem=null,this.activeMipmapLevel=0;const B=new y0(BK,IK,A,Q);B.layers=this.layers,this.add(B);const I=new y0(BK,IK,A,Q);I.layers=this.layers,this.add(I);const K=new y0(BK,IK,A,Q);K.layers=this.layers,this.add(K);const J=new y0(BK,IK,A,Q);J.layers=this.layers,this.add(J);const C=new y0(BK,IK,A,Q);C.layers=this.layers,this.add(C);const U=new y0(BK,IK,A,Q);U.layers=this.layers,this.add(U)}updateCoordinateSystem(){const A=this.coordinateSystem,Q=this.children.concat(),[E,B,I,K,J,C]=Q;for(let U of Q)this.remove(U);if(A===2000)E.up.set(0,1,0),E.lookAt(1,0,0),B.up.set(0,1,0),B.lookAt(-1,0,0),I.up.set(0,0,-1),I.lookAt(0,1,0),K.up.set(0,0,1),K.lookAt(0,-1,0),J.up.set(0,1,0),J.lookAt(0,0,1),C.up.set(0,1,0),C.lookAt(0,0,-1);else if(A===2001)E.up.set(0,-1,0),E.lookAt(-1,0,0),B.up.set(0,-1,0),B.lookAt(1,0,0),I.up.set(0,0,1),I.lookAt(0,1,0),K.up.set(0,0,-1),K.lookAt(0,-1,0),J.up.set(0,-1,0),J.lookAt(0,0,1),C.up.set(0,-1,0),C.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+A);for(let U of Q)this.add(U),U.updateMatrixWorld()}update(A,Q){if(this.parent===null)this.updateMatrixWorld();const{renderTarget:E,activeMipmapLevel:B}=this;if(this.coordinateSystem!==A.coordinateSystem)this.coordinateSystem=A.coordinateSystem,this.updateCoordinateSystem();const[I,K,J,C,U,Y]=this.children,H=A.getRenderTarget(),R=A.getActiveCubeFace(),G=A.getActiveMipmapLevel(),O=A.xr.enabled;A.xr.enabled=!1;const F=E.texture.generateMipmaps;E.texture.generateMipmaps=!1,A.setRenderTarget(E,0,B),A.render(Q,I),A.setRenderTarget(E,1,B),A.render(Q,K),A.setRenderTarget(E,2,B),A.render(Q,J),A.setRenderTarget(E,3,B),A.render(Q,C),A.setRenderTarget(E,4,B),A.render(Q,U),E.texture.generateMipmaps=F,A.setRenderTarget(E,5,B),A.render(Q,Y),A.setRenderTarget(H,R,G),A.xr.enabled=O,E.texture.needsPMREMUpdate=!0}}class yB extends JQ{constructor(A,Q,E,B,I,K,J,C,U,Y){A=A!==void 0?A:[],Q=Q!==void 0?Q:301;super(A,Q,E,B,I,K,J,C,U,Y);this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(A){this.image=A}}class x5 extends B0{constructor(A=1,Q={}){super(A,A,Q);this.isWebGLCubeRenderTarget=!0;const E={width:A,height:A,depth:1},B=[E,E,E,E,E,E];this.texture=new yB(B,Q.mapping,Q.wrapS,Q.wrapT,Q.magFilter,Q.minFilter,Q.format,Q.type,Q.anisotropy,Q.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=Q.generateMipmaps!==void 0?Q.generateMipmaps:!1,this.texture.minFilter=Q.minFilter!==void 0?Q.minFilter:1006}fromEquirectangularTexture(A,Q){this.texture.type=Q.type,this.texture.colorSpace=Q.colorSpace,this.texture.generateMipmaps=Q.generateMipmaps,this.texture.minFilter=Q.minFilter,this.texture.magFilter=Q.magFilter;const E={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},B=new uQ(5,5,5),I=new cA({name:"CubemapFromEquirect",uniforms:WK(E.uniforms),vertexShader:E.vertexShader,fragmentShader:E.fragmentShader,side:1,blending:0});I.uniforms.tEquirect.value=Q;const K=new mA(B,I),J=Q.minFilter;if(Q.minFilter===1008)Q.minFilter=1006;return new EO(1,10,this).update(A,K),Q.minFilter=J,K.geometry.dispose(),K.material.dispose(),this}clear(A,Q,E,B){const I=A.getRenderTarget();for(let K=0;K<6;K++)A.setRenderTarget(this,K),A.clear(Q,E,B);A.setRenderTarget(I)}}var GR=/*@__PURE__*/new f,Im=/*@__PURE__*/new f,Km=/*@__PURE__*/new J0;class ZQ{constructor(A=new f(1,0,0),Q=0){this.isPlane=!0,this.normal=A,this.constant=Q}set(A,Q){return this.normal.copy(A),this.constant=Q,this}setComponents(A,Q,E,B){return this.normal.set(A,Q,E),this.constant=B,this}setFromNormalAndCoplanarPoint(A,Q){return this.normal.copy(A),this.constant=-Q.dot(this.normal),this}setFromCoplanarPoints(A,Q,E){const B=GR.subVectors(E,Q).cross(Im.subVectors(A,Q)).normalize();return this.setFromNormalAndCoplanarPoint(B,A),this}copy(A){return this.normal.copy(A.normal),this.constant=A.constant,this}normalize(){const A=1/this.normal.length();return this.normal.multiplyScalar(A),this.constant*=A,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(A){return this.normal.dot(A)+this.constant}distanceToSphere(A){return this.distanceToPoint(A.center)-A.radius}projectPoint(A,Q){return Q.copy(A).addScaledVector(this.normal,-this.distanceToPoint(A))}intersectLine(A,Q){const E=A.delta(GR),B=this.normal.dot(E);if(B===0){if(this.distanceToPoint(A.start)===0)return Q.copy(A.start);return null}const I=-(A.start.dot(this.normal)+this.constant)/B;if(I<0||I>1)return null;return Q.copy(A.start).addScaledVector(E,I)}intersectsLine(A){const Q=this.distanceToPoint(A.start),E=this.distanceToPoint(A.end);return Q<0&&E>0||E<0&&Q>0}intersectsBox(A){return A.intersectsPlane(this)}intersectsSphere(A){return A.intersectsPlane(this)}coplanarPoint(A){return A.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(A,Q){const E=Q||Km.getNormalMatrix(A),B=this.coplanarPoint(GR).applyMatrix4(A),I=this.normal.applyMatrix3(E).normalize();return this.constant=-B.dot(I),this}translate(A){return this.constant-=A.dot(this.normal),this}equals(A){return A.normal.equals(this.normal)&&A.constant===this.constant}clone(){return new this.constructor().copy(this)}}var PI=/*@__PURE__*/new YQ,n7=/*@__PURE__*/new f;class m8{constructor(A=new ZQ,Q=new ZQ,E=new ZQ,B=new ZQ,I=new ZQ,K=new ZQ){this.planes=[A,Q,E,B,I,K]}set(A,Q,E,B,I,K){const J=this.planes;return J[0].copy(A),J[1].copy(Q),J[2].copy(E),J[3].copy(B),J[4].copy(I),J[5].copy(K),this}copy(A){const Q=this.planes;for(let E=0;E<6;E++)Q[E].copy(A.planes[E]);return this}setFromProjectionMatrix(A,Q=2000){const E=this.planes,B=A.elements,I=B[0],K=B[1],J=B[2],C=B[3],U=B[4],Y=B[5],H=B[6],R=B[7],G=B[8],O=B[9],F=B[10],q=B[11],W=B[12],Z=B[13],$=B[14],X=B[15];if(E[0].setComponents(C-I,R-U,q-G,X-W).normalize(),E[1].setComponents(C+I,R+U,q+G,X+W).normalize(),E[2].setComponents(C+K,R+Y,q+O,X+Z).normalize(),E[3].setComponents(C-K,R-Y,q-O,X-Z).normalize(),E[4].setComponents(C-J,R-H,q-F,X-$).normalize(),Q===2000)E[5].setComponents(C+J,R+H,q+F,X+$).normalize();else if(Q===2001)E[5].setComponents(J,H,F,$).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+Q);return this}intersectsObject(A){if(A.boundingSphere!==void 0){if(A.boundingSphere===null)A.computeBoundingSphere();PI.copy(A.boundingSphere).applyMatrix4(A.matrixWorld)}else{const Q=A.geometry;if(Q.boundingSphere===null)Q.computeBoundingSphere();PI.copy(Q.boundingSphere).applyMatrix4(A.matrixWorld)}return this.intersectsSphere(PI)}intersectsSprite(A){return PI.center.set(0,0,0),PI.radius=0.7071067811865476,PI.applyMatrix4(A.matrixWorld),this.intersectsSphere(PI)}intersectsSphere(A){const Q=this.planes,E=A.center,B=-A.radius;for(let I=0;I<6;I++)if(Q[I].distanceToPoint(E)<B)return!1;return!0}intersectsBox(A){const Q=this.planes;for(let E=0;E<6;E++){const B=Q[E];if(n7.x=B.normal.x>0?A.max.x:A.min.x,n7.y=B.normal.y>0?A.max.y:A.min.y,n7.z=B.normal.z>0?A.max.z:A.min.z,B.distanceToPoint(n7)<0)return!1}return!0}containsPoint(A){const Q=this.planes;for(let E=0;E<6;E++)if(Q[E].distanceToPoint(A)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class Y1 extends pA{constructor(A=1,Q=1,E=1,B=1){super();this.type="PlaneGeometry",this.parameters={width:A,height:Q,widthSegments:E,heightSegments:B};const I=A/2,K=Q/2,J=Math.floor(E),C=Math.floor(B),U=J+1,Y=C+1,H=A/J,R=Q/C,G=[],O=[],F=[],q=[];for(let W=0;W<Y;W++){const Z=W*R-K;for(let $=0;$<U;$++){const X=$*H-I;O.push(X,-Z,0),F.push(0,0,1),q.push($/J),q.push(1-W/C)}}for(let W=0;W<C;W++)for(let Z=0;Z<J;Z++){const $=Z+U*W,X=Z+U*(W+1),N=Z+1+U*(W+1),M=Z+1+U*W;G.push($,X,M),G.push(X,N,M)}this.setIndex(G),this.setAttribute("position",new bA(O,3)),this.setAttribute("normal",new bA(F,3)),this.setAttribute("uv",new bA(q,2))}copy(A){return super.copy(A),this.parameters=Object.assign({},A.parameters),this}static fromJSON(A){return new Y1(A.width,A.height,A.widthSegments,A.heightSegments)}}var Cm="#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",Um="#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",Ym="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",Hm="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",Gm="#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",Zm="#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",Rm="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",Om="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",$m="#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",Wm="#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",Xm="vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",Fm="vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",qm="float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",Nm="#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",Lm="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",Dm="#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",Mm="#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",wm="#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",zm="#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",Vm="#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",Tm="#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",Sm="#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",Pm="#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",_m="#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",km="#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",jm="vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",hm="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",vm="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",ym="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",xm="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",gm="gl_FragColor = linearToOutputTexel( gl_FragColor );",bm="\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",fm="#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",um="#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",pm="#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",mm="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",cm="#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",dm="#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",lm="#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",nm="#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",om="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",im="#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",sm="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",rm="LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",am="varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",tm="uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",em="#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",Ac="ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",Qc="varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",Ec="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",Bc="varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",Ic="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",Kc="struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",Jc="\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",Cc="#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",Uc="#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",Yc="#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",Hc="#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",Gc="#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",Zc="#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",Rc="#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",Oc="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",$c="#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",Wc="#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",Xc="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",Fc="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",qc="#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",Nc="#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",Lc="#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",Dc="#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",Mc="#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",wc="float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",zc="#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",Vc="#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",Tc="#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",Sc="#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",Pc="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",_c="#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",kc="#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",jc="#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",hc="#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",vc="#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",yc="vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",xc="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",gc="vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",bc="#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",fc="#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",uc="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",pc="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",mc="#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",cc="#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",dc="#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",lc="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",nc="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",oc="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",ic="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",sc="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",rc="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",ac="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tc="#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",ec="#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",Ad="#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",Qd="#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t\n\t\t#else\n\t\t\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",Ed="#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",Bd="#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",Id="#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",Kd="#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",Jd="varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",Cd="uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",Ud="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",Yd="#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",Hd="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",Gd="uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",Zd="#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",Rd="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",Od="#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",$d="#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",Wd="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",Xd="uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",Fd="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",qd="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",Nd="#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",Ld="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",Dd="#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",Md="#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",wd="#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",zd="#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",Vd="#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",Td="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",Sd="#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",Pd="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",_d="#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",kd="#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",jd="#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",hd="#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",vd="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",yd="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",xd="#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",gd="uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",bd="uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",fd="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",R0={alphahash_fragment:Cm,alphahash_pars_fragment:Um,alphamap_fragment:Ym,alphamap_pars_fragment:Hm,alphatest_fragment:Gm,alphatest_pars_fragment:Zm,aomap_fragment:Rm,aomap_pars_fragment:Om,batching_pars_vertex:$m,batching_vertex:Wm,begin_vertex:Xm,beginnormal_vertex:Fm,bsdfs:qm,iridescence_fragment:Nm,bumpmap_pars_fragment:Lm,clipping_planes_fragment:Dm,clipping_planes_pars_fragment:Mm,clipping_planes_pars_vertex:wm,clipping_planes_vertex:zm,color_fragment:Vm,color_pars_fragment:Tm,color_pars_vertex:Sm,color_vertex:Pm,common:_m,cube_uv_reflection_fragment:km,defaultnormal_vertex:jm,displacementmap_pars_vertex:hm,displacementmap_vertex:vm,emissivemap_fragment:ym,emissivemap_pars_fragment:xm,colorspace_fragment:gm,colorspace_pars_fragment:bm,envmap_fragment:fm,envmap_common_pars_fragment:um,envmap_pars_fragment:pm,envmap_pars_vertex:mm,envmap_physical_pars_fragment:em,envmap_vertex:cm,fog_vertex:dm,fog_pars_vertex:lm,fog_fragment:nm,fog_pars_fragment:om,gradientmap_pars_fragment:im,lightmap_pars_fragment:sm,lights_lambert_fragment:rm,lights_lambert_pars_fragment:am,lights_pars_begin:tm,lights_toon_fragment:Ac,lights_toon_pars_fragment:Qc,lights_phong_fragment:Ec,lights_phong_pars_fragment:Bc,lights_physical_fragment:Ic,lights_physical_pars_fragment:Kc,lights_fragment_begin:Jc,lights_fragment_maps:Cc,lights_fragment_end:Uc,logdepthbuf_fragment:Yc,logdepthbuf_pars_fragment:Hc,logdepthbuf_pars_vertex:Gc,logdepthbuf_vertex:Zc,map_fragment:Rc,map_pars_fragment:Oc,map_particle_fragment:$c,map_particle_pars_fragment:Wc,metalnessmap_fragment:Xc,metalnessmap_pars_fragment:Fc,morphinstance_vertex:qc,morphcolor_vertex:Nc,morphnormal_vertex:Lc,morphtarget_pars_vertex:Dc,morphtarget_vertex:Mc,normal_fragment_begin:wc,normal_fragment_maps:zc,normal_pars_fragment:Vc,normal_pars_vertex:Tc,normal_vertex:Sc,normalmap_pars_fragment:Pc,clearcoat_normal_fragment_begin:_c,clearcoat_normal_fragment_maps:kc,clearcoat_pars_fragment:jc,iridescence_pars_fragment:hc,opaque_fragment:vc,packing:yc,premultiplied_alpha_fragment:xc,project_vertex:gc,dithering_fragment:bc,dithering_pars_fragment:fc,roughnessmap_fragment:uc,roughnessmap_pars_fragment:pc,shadowmap_pars_fragment:mc,shadowmap_pars_vertex:cc,shadowmap_vertex:dc,shadowmask_pars_fragment:lc,skinbase_vertex:nc,skinning_pars_vertex:oc,skinning_vertex:ic,skinnormal_vertex:sc,specularmap_fragment:rc,specularmap_pars_fragment:ac,tonemapping_fragment:tc,tonemapping_pars_fragment:ec,transmission_fragment:Ad,transmission_pars_fragment:Qd,uv_pars_fragment:Ed,uv_pars_vertex:Bd,uv_vertex:Id,worldpos_vertex:Kd,background_vert:Jd,background_frag:Cd,backgroundCube_vert:Ud,backgroundCube_frag:Yd,cube_vert:Hd,cube_frag:Gd,depth_vert:Zd,depth_frag:Rd,distanceRGBA_vert:Od,distanceRGBA_frag:$d,equirect_vert:Wd,equirect_frag:Xd,linedashed_vert:Fd,linedashed_frag:qd,meshbasic_vert:Nd,meshbasic_frag:Ld,meshlambert_vert:Dd,meshlambert_frag:Md,meshmatcap_vert:wd,meshmatcap_frag:zd,meshnormal_vert:Vd,meshnormal_frag:Td,meshphong_vert:Sd,meshphong_frag:Pd,meshphysical_vert:_d,meshphysical_frag:kd,meshtoon_vert:jd,meshtoon_frag:hd,points_vert:vd,points_frag:yd,shadow_vert:xd,shadow_frag:gd,sprite_vert:bd,sprite_frag:fd},fA={common:{diffuse:{value:/*@__PURE__*/new WA(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:/*@__PURE__*/new J0},alphaMap:{value:null},alphaMapTransform:{value:/*@__PURE__*/new J0},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:/*@__PURE__*/new J0}},envmap:{envMap:{value:null},envMapRotation:{value:/*@__PURE__*/new J0},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:0.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:/*@__PURE__*/new J0}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:/*@__PURE__*/new J0}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:/*@__PURE__*/new J0},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:/*@__PURE__*/new J0},normalScale:{value:/*@__PURE__*/new RA(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:/*@__PURE__*/new J0},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:/*@__PURE__*/new J0}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:/*@__PURE__*/new J0}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:/*@__PURE__*/new J0}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:0.00025},fogNear:{value:1},fogFar:{value:2000},fogColor:{value:/*@__PURE__*/new WA(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:/*@__PURE__*/new WA(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:/*@__PURE__*/new J0},alphaTest:{value:0},uvTransform:{value:/*@__PURE__*/new J0}},sprite:{diffuse:{value:/*@__PURE__*/new WA(16777215)},opacity:{value:1},center:{value:/*@__PURE__*/new RA(0.5,0.5)},rotation:{value:0},map:{value:null},mapTransform:{value:/*@__PURE__*/new J0},alphaMap:{value:null},alphaMapTransform:{value:/*@__PURE__*/new J0},alphaTest:{value:0}}},hQ={basic:{uniforms:/*@__PURE__*/M1([fA.common,fA.specularmap,fA.envmap,fA.aomap,fA.lightmap,fA.fog]),vertexShader:R0.meshbasic_vert,fragmentShader:R0.meshbasic_frag},lambert:{uniforms:/*@__PURE__*/M1([fA.common,fA.specularmap,fA.envmap,fA.aomap,fA.lightmap,fA.emissivemap,fA.bumpmap,fA.normalmap,fA.displacementmap,fA.fog,fA.lights,{emissive:{value:/*@__PURE__*/new WA(0)}}]),vertexShader:R0.meshlambert_vert,fragmentShader:R0.meshlambert_frag},phong:{uniforms:/*@__PURE__*/M1([fA.common,fA.specularmap,fA.envmap,fA.aomap,fA.lightmap,fA.emissivemap,fA.bumpmap,fA.normalmap,fA.displacementmap,fA.fog,fA.lights,{emissive:{value:/*@__PURE__*/new WA(0)},specular:{value:/*@__PURE__*/new WA(1118481)},shininess:{value:30}}]),vertexShader:R0.meshphong_vert,fragmentShader:R0.meshphong_frag},standard:{uniforms:/*@__PURE__*/M1([fA.common,fA.envmap,fA.aomap,fA.lightmap,fA.emissivemap,fA.bumpmap,fA.normalmap,fA.displacementmap,fA.roughnessmap,fA.metalnessmap,fA.fog,fA.lights,{emissive:{value:/*@__PURE__*/new WA(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:R0.meshphysical_vert,fragmentShader:R0.meshphysical_frag},toon:{uniforms:/*@__PURE__*/M1([fA.common,fA.aomap,fA.lightmap,fA.emissivemap,fA.bumpmap,fA.normalmap,fA.displacementmap,fA.gradientmap,fA.fog,fA.lights,{emissive:{value:/*@__PURE__*/new WA(0)}}]),vertexShader:R0.meshtoon_vert,fragmentShader:R0.meshtoon_frag},matcap:{uniforms:/*@__PURE__*/M1([fA.common,fA.bumpmap,fA.normalmap,fA.displacementmap,fA.fog,{matcap:{value:null}}]),vertexShader:R0.meshmatcap_vert,fragmentShader:R0.meshmatcap_frag},points:{uniforms:/*@__PURE__*/M1([fA.points,fA.fog]),vertexShader:R0.points_vert,fragmentShader:R0.points_frag},dashed:{uniforms:/*@__PURE__*/M1([fA.common,fA.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:R0.linedashed_vert,fragmentShader:R0.linedashed_frag},depth:{uniforms:/*@__PURE__*/M1([fA.common,fA.displacementmap]),vertexShader:R0.depth_vert,fragmentShader:R0.depth_frag},normal:{uniforms:/*@__PURE__*/M1([fA.common,fA.bumpmap,fA.normalmap,fA.displacementmap,{opacity:{value:1}}]),vertexShader:R0.meshnormal_vert,fragmentShader:R0.meshnormal_frag},sprite:{uniforms:/*@__PURE__*/M1([fA.sprite,fA.fog]),vertexShader:R0.sprite_vert,fragmentShader:R0.sprite_frag},background:{uniforms:{uvTransform:{value:/*@__PURE__*/new J0},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:R0.background_vert,fragmentShader:R0.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:/*@__PURE__*/new J0}},vertexShader:R0.backgroundCube_vert,fragmentShader:R0.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:R0.cube_vert,fragmentShader:R0.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:R0.equirect_vert,fragmentShader:R0.equirect_frag},distanceRGBA:{uniforms:/*@__PURE__*/M1([fA.common,fA.displacementmap,{referencePosition:{value:/*@__PURE__*/new f},nearDistance:{value:1},farDistance:{value:1000}}]),vertexShader:R0.distanceRGBA_vert,fragmentShader:R0.distanceRGBA_frag},shadow:{uniforms:/*@__PURE__*/M1([fA.lights,fA.fog,{color:{value:/*@__PURE__*/new WA(0)},opacity:{value:1}}]),vertexShader:R0.shadow_vert,fragmentShader:R0.shadow_frag}};hQ.physical={uniforms:/*@__PURE__*/M1([hQ.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:/*@__PURE__*/new J0},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:/*@__PURE__*/new J0},clearcoatNormalScale:{value:/*@__PURE__*/new RA(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:/*@__PURE__*/new J0},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:/*@__PURE__*/new J0},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:/*@__PURE__*/new J0},sheen:{value:0},sheenColor:{value:/*@__PURE__*/new WA(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:/*@__PURE__*/new J0},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:/*@__PURE__*/new J0},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:/*@__PURE__*/new J0},transmissionSamplerSize:{value:/*@__PURE__*/new RA},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:/*@__PURE__*/new J0},attenuationDistance:{value:0},attenuationColor:{value:/*@__PURE__*/new WA(0)},specularColor:{value:/*@__PURE__*/new WA(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:/*@__PURE__*/new J0},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:/*@__PURE__*/new J0},anisotropyVector:{value:/*@__PURE__*/new RA},anisotropyMap:{value:null},anisotropyMapTransform:{value:/*@__PURE__*/new J0}}]),vertexShader:R0.meshphysical_vert,fragmentShader:R0.meshphysical_frag};var o7={r:0,b:0,g:0},_I=/*@__PURE__*/new vQ,ud=/*@__PURE__*/new MA;class s1 extends DK{constructor(A=-1,Q=1,E=1,B=-1,I=0.1,K=2000){super();this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=A,this.right=Q,this.top=E,this.bottom=B,this.near=I,this.far=K,this.updateProjectionMatrix()}copy(A,Q){return super.copy(A,Q),this.left=A.left,this.right=A.right,this.top=A.top,this.bottom=A.bottom,this.near=A.near,this.far=A.far,this.zoom=A.zoom,this.view=A.view===null?null:Object.assign({},A.view),this}setViewOffset(A,Q,E,B,I,K){if(this.view===null)this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1};this.view.enabled=!0,this.view.fullWidth=A,this.view.fullHeight=Q,this.view.offsetX=E,this.view.offsetY=B,this.view.width=I,this.view.height=K,this.updateProjectionMatrix()}clearViewOffset(){if(this.view!==null)this.view.enabled=!1;this.updateProjectionMatrix()}updateProjectionMatrix(){const A=(this.right-this.left)/(2*this.zoom),Q=(this.top-this.bottom)/(2*this.zoom),E=(this.right+this.left)/2,B=(this.top+this.bottom)/2;let I=E-A,K=E+A,J=B+Q,C=B-Q;if(this.view!==null&&this.view.enabled){const U=(this.right-this.left)/this.view.fullWidth/this.zoom,Y=(this.top-this.bottom)/this.view.fullHeight/this.zoom;I+=U*this.view.offsetX,K=I+U*this.view.width,J-=Y*this.view.offsetY,C=J-Y*this.view.height}this.projectionMatrix.makeOrthographic(I,K,J,C,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(A){const Q=super.toJSON(A);if(Q.object.zoom=this.zoom,Q.object.left=this.left,Q.object.right=this.right,Q.object.top=this.top,Q.object.bottom=this.bottom,Q.object.near=this.near,Q.object.far=this.far,this.view!==null)Q.object.view=Object.assign({},this.view);return Q}}var ZK=4,TD=[0.125,0.215,0.35,0.446,0.526,0.582],fI=20,ZR=/*@__PURE__*/new s1,SD=/*@__PURE__*/new WA,RR=null,OR=0,$R=0,WR=!1,bI=(1+Math.sqrt(5))/2,KK=1/bI,PD=[/*@__PURE__*/new f(-bI,KK,0),/*@__PURE__*/new f(bI,KK,0),/*@__PURE__*/new f(-KK,0,bI),/*@__PURE__*/new f(KK,0,bI),/*@__PURE__*/new f(0,bI,-KK),/*@__PURE__*/new f(0,bI,KK),/*@__PURE__*/new f(-1,1,-1),/*@__PURE__*/new f(1,1,-1),/*@__PURE__*/new f(-1,1,1),/*@__PURE__*/new f(1,1,1)];class M5{constructor(A){this._renderer=A,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(A,Q=0,E=0.1,B=100){RR=this._renderer.getRenderTarget(),OR=this._renderer.getActiveCubeFace(),$R=this._renderer.getActiveMipmapLevel(),WR=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const I=this._allocateTargets();if(I.depthBuffer=!0,this._sceneToCubeUV(A,E,B,I),Q>0)this._blur(I,0,0,Q);return this._applyPMREM(I),this._cleanup(I),I}fromEquirectangular(A,Q=null){return this._fromTexture(A,Q)}fromCubemap(A,Q=null){return this._fromTexture(A,Q)}compileCubemapShader(){if(this._cubemapMaterial===null)this._cubemapMaterial=jD(),this._compileMaterial(this._cubemapMaterial)}compileEquirectangularShader(){if(this._equirectMaterial===null)this._equirectMaterial=kD(),this._compileMaterial(this._equirectMaterial)}dispose(){if(this._dispose(),this._cubemapMaterial!==null)this._cubemapMaterial.dispose();if(this._equirectMaterial!==null)this._equirectMaterial.dispose()}_setSize(A){this._lodMax=Math.floor(Math.log2(A)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){if(this._blurMaterial!==null)this._blurMaterial.dispose();if(this._pingPongRenderTarget!==null)this._pingPongRenderTarget.dispose();for(let A=0;A<this._lodPlanes.length;A++)this._lodPlanes[A].dispose()}_cleanup(A){this._renderer.setRenderTarget(RR,OR,$R),this._renderer.xr.enabled=WR,A.scissorTest=!1,i7(A,0,0,A.width,A.height)}_fromTexture(A,Q){if(A.mapping===301||A.mapping===302)this._setSize(A.image.length===0?16:A.image[0].width||A.image[0].image.width);else this._setSize(A.image.width/4);RR=this._renderer.getRenderTarget(),OR=this._renderer.getActiveCubeFace(),$R=this._renderer.getActiveMipmapLevel(),WR=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const E=Q||this._allocateTargets();return this._textureToCubeUV(A,E),this._applyPMREM(E),this._cleanup(E),E}_allocateTargets(){const A=3*Math.max(this._cubeSize,112),Q=4*this._cubeSize,E={magFilter:1006,minFilter:1006,generateMipmaps:!1,type:1016,format:1023,colorSpace:"srgb-linear",depthBuffer:!1},B=_D(A,Q,E);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==A||this._pingPongRenderTarget.height!==Q){if(this._pingPongRenderTarget!==null)this._dispose();this._pingPongRenderTarget=_D(A,Q,E);const{_lodMax:I}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=od(I)),this._blurMaterial=id(I,A,Q)}return B}_compileMaterial(A){const Q=new mA(this._lodPlanes[0],A);this._renderer.compile(Q,ZR)}_sceneToCubeUV(A,Q,E,B){const J=new y0(90,1,Q,E),C=[1,-1,1,1,1,1],U=[1,1,1,-1,-1,-1],Y=this._renderer,H=Y.autoClear,R=Y.toneMapping;Y.getClearColor(SD),Y.toneMapping=0,Y.autoClear=!1;const G=new V0({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),O=new mA(new uQ,G);let F=!1;const q=A.background;if(q){if(q.isColor)G.color.copy(q),A.background=null,F=!0}else G.color.copy(SD),F=!0;for(let W=0;W<6;W++){const Z=W%3;if(Z===0)J.up.set(0,C[W],0),J.lookAt(U[W],0,0);else if(Z===1)J.up.set(0,0,C[W]),J.lookAt(0,U[W],0);else J.up.set(0,C[W],0),J.lookAt(0,0,U[W]);const $=this._cubeSize;if(i7(B,Z*$,W>2?$:0,$,$),Y.setRenderTarget(B),F)Y.render(O,J);Y.render(A,J)}O.geometry.dispose(),O.material.dispose(),Y.toneMapping=R,Y.autoClear=H,A.background=q}_textureToCubeUV(A,Q){const E=this._renderer,B=A.mapping===301||A.mapping===302;if(B){if(this._cubemapMaterial===null)this._cubemapMaterial=jD();this._cubemapMaterial.uniforms.flipEnvMap.value=A.isRenderTargetTexture===!1?-1:1}else if(this._equirectMaterial===null)this._equirectMaterial=kD();const I=B?this._cubemapMaterial:this._equirectMaterial,K=new mA(this._lodPlanes[0],I),J=I.uniforms;J.envMap.value=A;const C=this._cubeSize;i7(Q,0,0,3*C,2*C),E.setRenderTarget(Q),E.render(K,ZR)}_applyPMREM(A){const Q=this._renderer,E=Q.autoClear;Q.autoClear=!1;const B=this._lodPlanes.length;for(let I=1;I<B;I++){const K=Math.sqrt(this._sigmas[I]*this._sigmas[I]-this._sigmas[I-1]*this._sigmas[I-1]),J=PD[(B-I-1)%PD.length];this._blur(A,I-1,I,K,J)}Q.autoClear=E}_blur(A,Q,E,B,I){const K=this._pingPongRenderTarget;this._halfBlur(A,K,Q,E,B,"latitudinal",I),this._halfBlur(K,A,E,E,B,"longitudinal",I)}_halfBlur(A,Q,E,B,I,K,J){const C=this._renderer,U=this._blurMaterial;if(K!=="latitudinal"&&K!=="longitudinal")console.error("blur direction must be either latitudinal or longitudinal!");const Y=3,H=new mA(this._lodPlanes[B],U),R=U.uniforms,G=this._sizeLods[E]-1,O=isFinite(I)?Math.PI/(2*G):2*Math.PI/(2*fI-1),F=I/O,q=isFinite(I)?1+Math.floor(Y*F):fI;if(q>fI)console.warn(`sigmaRadians, ${I}, is too large and will clip, as it requested ${q} samples when the maximum is set to ${fI}`);const W=[];let Z=0;for(let L=0;L<fI;++L){const D=L/F,w=Math.exp(-D*D/2);if(W.push(w),L===0)Z+=w;else if(L<q)Z+=2*w}for(let L=0;L<W.length;L++)W[L]=W[L]/Z;if(R.envMap.value=A.texture,R.samples.value=q,R.weights.value=W,R.latitudinal.value=K==="latitudinal",J)R.poleAxis.value=J;const{_lodMax:$}=this;R.dTheta.value=O,R.mipInt.value=$-E;const X=this._sizeLods[B],N=3*X*(B>$-ZK?B-$+ZK:0),M=4*(this._cubeSize-X);i7(Q,N,M,3*X,2*X),C.setRenderTarget(Q),C.render(H,ZR)}}class S1 extends JQ{constructor(A,Q,E,B,I,K,J,C,U,Y=1026){if(Y!==1026&&Y!==1027)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");if(E===void 0&&Y===1026)E=1014;if(E===void 0&&Y===1027)E=1020;super(null,B,I,K,J,C,Y,E,U);this.isDepthTexture=!0,this.image={width:A,height:Q},this.magFilter=J!==void 0?J:1003,this.minFilter=C!==void 0?C:1003,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(A){return super.copy(A),this.compareFunction=A.compareFunction,this}toJSON(A){const Q=super.toJSON(A);if(this.compareFunction!==null)Q.compareFunction=this.compareFunction;return Q}}var X3=/*@__PURE__*/new JQ,hD=/*@__PURE__*/new S1(1,1),F3=/*@__PURE__*/new b9,q3=/*@__PURE__*/new p8,N3=/*@__PURE__*/new yB,vD=[],yD=[],xD=new Float32Array(16),gD=new Float32Array(9),bD=new Float32Array(4);class L3{constructor(A,Q,E){this.id=A,this.addr=E,this.cache=[],this.type=Q.type,this.setValue=Ll(Q.type)}}class D3{constructor(A,Q,E){this.id=A,this.addr=E,this.cache=[],this.type=Q.type,this.size=Q.size,this.setValue=pl(Q.type)}}class M3{constructor(A){this.id=A,this.seq=[],this.map={}}setValue(A,Q,E){const B=this.seq;for(let I=0,K=B.length;I!==K;++I){const J=B[I];J.setValue(A,Q[J.id],E)}}}var XR=/(\w+)(\])?(\[|\.)?/g;class F9{constructor(A,Q){this.seq=[],this.map={};const E=A.getProgramParameter(Q,A.ACTIVE_UNIFORMS);for(let B=0;B<E;++B){const I=A.getActiveUniform(Q,B),K=A.getUniformLocation(Q,I.name);ml(I,K,this)}}setValue(A,Q,E,B){const I=this.map[Q];if(I!==void 0)I.setValue(A,E,B)}setOptional(A,Q,E){const B=Q[E];if(B!==void 0)this.setValue(A,E,B)}static upload(A,Q,E,B){for(let I=0,K=Q.length;I!==K;++I){const J=Q[I],C=E[J.id];if(C.needsUpdate!==!1)J.setValue(A,C.value,B)}}static seqWithValue(A,Q){const E=[];for(let B=0,I=A.length;B!==I;++B){const K=A[B];if(K.id in Q)E.push(K)}return E}}var cl=37297,dl=0,s7=/*@__PURE__*/new f,el=/^[ \t]*#include +<([\w\d./]+)>/gm,An=/*@__PURE__*/new Map,En=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g,Hn=0;class w3{constructor(){this.shaderCache=/*@__PURE__*/new Map,this.materialCache=/*@__PURE__*/new Map}update(A){const{vertexShader:Q,fragmentShader:E}=A,B=this._getShaderStage(Q),I=this._getShaderStage(E),K=this._getShaderCacheForMaterial(A);if(K.has(B)===!1)K.add(B),B.usedTimes++;if(K.has(I)===!1)K.add(I),I.usedTimes++;return this}remove(A){const Q=this.materialCache.get(A);for(let E of Q)if(E.usedTimes--,E.usedTimes===0)this.shaderCache.delete(E.code);return this.materialCache.delete(A),this}getVertexShaderID(A){return this._getShaderStage(A.vertexShader).id}getFragmentShaderID(A){return this._getShaderStage(A.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(A){const Q=this.materialCache;let E=Q.get(A);if(E===void 0)E=/*@__PURE__*/new Set,Q.set(A,E);return E}_getShaderStage(A){const Q=this.shaderCache;let E=Q.get(A);if(E===void 0)E=new z3(A),Q.set(A,E);return E}}class z3{constructor(A){this.id=Hn++,this.code=A,this.usedTimes=0}}var Xn=0;class nI extends yQ{constructor(A){super();this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(A)}copy(A){return super.copy(A),this.depthPacking=A.depthPacking,this.map=A.map,this.alphaMap=A.alphaMap,this.displacementMap=A.displacementMap,this.displacementScale=A.displacementScale,this.displacementBias=A.displacementBias,this.wireframe=A.wireframe,this.wireframeLinewidth=A.wireframeLinewidth,this}}class b5 extends yQ{constructor(A){super();this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(A)}copy(A){return super.copy(A),this.map=A.map,this.alphaMap=A.alphaMap,this.displacementMap=A.displacementMap,this.displacementScale=A.displacementScale,this.displacementBias=A.displacementBias,this}}var Ln="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",Dn="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}",wn={[0]:1,[2]:6,[4]:7,[3]:5,[1]:0,[6]:2,[7]:4,[5]:3},_n={contain:Vn,cover:Tn,fill:Sn,getByteLength:vR};class IO extends y0{constructor(A=[]){super();this.isArrayCamera=!0,this.cameras=A}}class QQ extends Y0{constructor(){super();this.isGroup=!0,this.type="Group"}}var jn={type:"move"};class D5{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){if(this._hand===null)this._hand=new QQ,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1};return this._hand}getTargetRaySpace(){if(this._targetRay===null)this._targetRay=new QQ,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new f,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new f;return this._targetRay}getGripSpace(){if(this._grip===null)this._grip=new QQ,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new f,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new f;return this._grip}dispatchEvent(A){if(this._targetRay!==null)this._targetRay.dispatchEvent(A);if(this._grip!==null)this._grip.dispatchEvent(A);if(this._hand!==null)this._hand.dispatchEvent(A);return this}connect(A){if(A&&A.hand){const Q=this._hand;if(Q)for(let E of A.hand.values())this._getHandJoint(Q,E)}return this.dispatchEvent({type:"connected",data:A}),this}disconnect(A){if(this.dispatchEvent({type:"disconnected",data:A}),this._targetRay!==null)this._targetRay.visible=!1;if(this._grip!==null)this._grip.visible=!1;if(this._hand!==null)this._hand.visible=!1;return this}update(A,Q,E){let B=null,I=null,K=null;const J=this._targetRay,C=this._grip,U=this._hand;if(A&&Q.session.visibilityState!=="visible-blurred"){if(U&&A.hand){K=!0;for(let F of A.hand.values()){const q=Q.getJointPose(F,E),W=this._getHandJoint(U,F);if(q!==null)W.matrix.fromArray(q.transform.matrix),W.matrix.decompose(W.position,W.rotation,W.scale),W.matrixWorldNeedsUpdate=!0,W.jointRadius=q.radius;W.visible=q!==null}const Y=U.joints["index-finger-tip"],H=U.joints["thumb-tip"],R=Y.position.distanceTo(H.position),G=0.02,O=0.005;if(U.inputState.pinching&&R>G+O)U.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:A.handedness,target:this});else if(!U.inputState.pinching&&R<=G-O)U.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:A.handedness,target:this})}else if(C!==null&&A.gripSpace){if(I=Q.getPose(A.gripSpace,E),I!==null){if(C.matrix.fromArray(I.transform.matrix),C.matrix.decompose(C.position,C.rotation,C.scale),C.matrixWorldNeedsUpdate=!0,I.linearVelocity)C.hasLinearVelocity=!0,C.linearVelocity.copy(I.linearVelocity);else C.hasLinearVelocity=!1;if(I.angularVelocity)C.hasAngularVelocity=!0,C.angularVelocity.copy(I.angularVelocity);else C.hasAngularVelocity=!1}}if(J!==null){if(B=Q.getPose(A.targetRaySpace,E),B===null&&I!==null)B=I;if(B!==null){if(J.matrix.fromArray(B.transform.matrix),J.matrix.decompose(J.position,J.rotation,J.scale),J.matrixWorldNeedsUpdate=!0,B.linearVelocity)J.hasLinearVelocity=!0,J.linearVelocity.copy(B.linearVelocity);else J.hasLinearVelocity=!1;if(B.angularVelocity)J.hasAngularVelocity=!0,J.angularVelocity.copy(B.angularVelocity);else J.hasAngularVelocity=!1;this.dispatchEvent(jn)}}}if(J!==null)J.visible=B!==null;if(C!==null)C.visible=I!==null;if(U!==null)U.visible=K!==null;return this}_getHandJoint(A,Q){if(A.joints[Q.jointName]===void 0){const E=new QQ;E.matrixAutoUpdate=!1,E.visible=!1,A.joints[Q.jointName]=E,A.add(E)}return A.joints[Q.jointName]}}var hn=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,vn=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class T3{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(A,Q,E){if(this.texture===null){const B=new JQ,I=A.properties.get(B);if(I.__webglTexture=Q.texture,Q.depthNear!=E.depthNear||Q.depthFar!=E.depthFar)this.depthNear=Q.depthNear,this.depthFar=Q.depthFar;this.texture=B}}getMesh(A){if(this.texture!==null){if(this.mesh===null){const Q=A.cameras[0].viewport,E=new cA({vertexShader:hn,fragmentShader:vn,uniforms:{depthColor:{value:this.texture},depthWidth:{value:Q.z},depthHeight:{value:Q.w}}});this.mesh=new mA(new Y1(20,20),E)}}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class S3 extends uE{constructor(A,Q){super();const E=this;let B=null,I=1,K=null,J="local-floor",C=1,U=null,Y=null,H=null,R=null,G=null,O=null;const F=new T3,q=Q.getContextAttributes();let W=null,Z=null;const $=[],X=[],N=new RA;let M=null;const L=new y0;L.layers.enable(1),L.viewport=new gA;const D=new y0;D.layers.enable(2),D.viewport=new gA;const w=[L,D],P=new IO;P.layers.enable(1),P.layers.enable(2);let V=null,T=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(o){let AA=$[o];if(AA===void 0)AA=new D5,$[o]=AA;return AA.getTargetRaySpace()},this.getControllerGrip=function(o){let AA=$[o];if(AA===void 0)AA=new D5,$[o]=AA;return AA.getGripSpace()},this.getHand=function(o){let AA=$[o];if(AA===void 0)AA=new D5,$[o]=AA;return AA.getHandSpace()};function S(o){const AA=X.indexOf(o.inputSource);if(AA===-1)return;const s=$[AA];if(s!==void 0)s.update(o.inputSource,o.frame,U||K),s.dispatchEvent({type:o.type,data:o.inputSource})}function h(){B.removeEventListener("select",S),B.removeEventListener("selectstart",S),B.removeEventListener("selectend",S),B.removeEventListener("squeeze",S),B.removeEventListener("squeezestart",S),B.removeEventListener("squeezeend",S),B.removeEventListener("end",h),B.removeEventListener("inputsourceschange",x);for(let o=0;o<$.length;o++){const AA=X[o];if(AA===null)continue;X[o]=null,$[o].disconnect(AA)}V=null,T=null,F.reset(),A.setRenderTarget(W),G=null,R=null,H=null,B=null,Z=null,m.stop(),E.isPresenting=!1,A.setPixelRatio(M),A.setSize(N.width,N.height,!1),E.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(o){if(I=o,E.isPresenting===!0)console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(o){if(J=o,E.isPresenting===!0)console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return U||K},this.setReferenceSpace=function(o){U=o},this.getBaseLayer=function(){return R!==null?R:G},this.getBinding=function(){return H},this.getFrame=function(){return O},this.getSession=function(){return B},this.setSession=async function(o){if(B=o,B!==null){if(W=A.getRenderTarget(),B.addEventListener("select",S),B.addEventListener("selectstart",S),B.addEventListener("selectend",S),B.addEventListener("squeeze",S),B.addEventListener("squeezestart",S),B.addEventListener("squeezeend",S),B.addEventListener("end",h),B.addEventListener("inputsourceschange",x),q.xrCompatible!==!0)await Q.makeXRCompatible();if(M=A.getPixelRatio(),A.getSize(N),B.renderState.layers===void 0){const AA={antialias:q.antialias,alpha:!0,depth:q.depth,stencil:q.stencil,framebufferScaleFactor:I};G=new XRWebGLLayer(B,Q,AA),B.updateRenderState({baseLayer:G}),A.setPixelRatio(1),A.setSize(G.framebufferWidth,G.framebufferHeight,!1),Z=new B0(G.framebufferWidth,G.framebufferHeight,{format:1023,type:1009,colorSpace:A.outputColorSpace,stencilBuffer:q.stencil})}else{let AA=null,s=null,t=null;if(q.depth)t=q.stencil?Q.DEPTH24_STENCIL8:Q.DEPTH_COMPONENT24,AA=q.stencil?1027:1026,s=q.stencil?1020:1014;const r={colorFormat:Q.RGBA8,depthFormat:t,scaleFactor:I};H=new XRWebGLBinding(B,Q),R=H.createProjectionLayer(r),B.updateRenderState({layers:[R]}),A.setPixelRatio(1),A.setSize(R.textureWidth,R.textureHeight,!1),Z=new B0(R.textureWidth,R.textureHeight,{format:1023,type:1009,depthTexture:new S1(R.textureWidth,R.textureHeight,s,void 0,void 0,void 0,void 0,void 0,void 0,AA),stencilBuffer:q.stencil,colorSpace:A.outputColorSpace,samples:q.antialias?4:0,resolveDepthBuffer:R.ignoreDepthValues===!1})}Z.isXRRenderTarget=!0,this.setFoveation(C),U=null,K=await B.requestReferenceSpace(J),m.setContext(B),m.start(),E.isPresenting=!0,E.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(B!==null)return B.environmentBlendMode},this.getDepthTexture=function(){return F.getDepthTexture()};function x(o){for(let AA=0;AA<o.removed.length;AA++){const s=o.removed[AA],t=X.indexOf(s);if(t>=0)X[t]=null,$[t].disconnect(s)}for(let AA=0;AA<o.added.length;AA++){const s=o.added[AA];let t=X.indexOf(s);if(t===-1){for(let EA=0;EA<$.length;EA++)if(EA>=X.length){X.push(s),t=EA;break}else if(X[EA]===null){X[EA]=s,t=EA;break}if(t===-1)break}const r=$[t];if(r)r.connect(s)}}const y=new f,j=new f;function v(o,AA,s){y.setFromMatrixPosition(AA.matrixWorld),j.setFromMatrixPosition(s.matrixWorld);const t=y.distanceTo(j),r=AA.projectionMatrix.elements,EA=s.projectionMatrix.elements,JA=r[14]/(r[10]-1),YA=r[14]/(r[10]+1),IA=(r[9]+1)/r[5],l=(r[9]-1)/r[5],UA=(r[8]-1)/r[0],BA=(EA[8]+1)/EA[0],n=JA*UA,i=JA*BA,KA=t/(-UA+BA),$A=KA*-UA;if(AA.matrixWorld.decompose(o.position,o.quaternion,o.scale),o.translateX($A),o.translateZ(KA),o.matrixWorld.compose(o.position,o.quaternion,o.scale),o.matrixWorldInverse.copy(o.matrixWorld).invert(),r[10]===-1)o.projectionMatrix.copy(AA.projectionMatrix),o.projectionMatrixInverse.copy(AA.projectionMatrixInverse);else{const FA=JA+KA,e=YA+KA,c=n-$A,HA=i+(t-$A),XA=IA*YA/e*FA,CA=l*YA/e*FA;o.projectionMatrix.makePerspective(c,HA,XA,CA,FA,e),o.projectionMatrixInverse.copy(o.projectionMatrix).invert()}}function _(o,AA){if(AA===null)o.matrixWorld.copy(o.matrix);else o.matrixWorld.multiplyMatrices(AA.matrixWorld,o.matrix);o.matrixWorldInverse.copy(o.matrixWorld).invert()}this.updateCamera=function(o){if(B===null)return;let{near:AA,far:s}=o;if(F.texture!==null){if(F.depthNear>0)AA=F.depthNear;if(F.depthFar>0)s=F.depthFar}if(P.near=D.near=L.near=AA,P.far=D.far=L.far=s,V!==P.near||T!==P.far)B.updateRenderState({depthNear:P.near,depthFar:P.far}),V=P.near,T=P.far;const t=o.parent,r=P.cameras;_(P,t);for(let EA=0;EA<r.length;EA++)_(r[EA],t);if(r.length===2)v(P,L,D);else P.projectionMatrix.copy(L.projectionMatrix);g(o,P,t)};function g(o,AA,s){if(s===null)o.matrix.copy(AA.matrixWorld);else o.matrix.copy(s.matrixWorld),o.matrix.invert(),o.matrix.multiply(AA.matrixWorld);if(o.matrix.decompose(o.position,o.quaternion,o.scale),o.updateMatrixWorld(!0),o.projectionMatrix.copy(AA.projectionMatrix),o.projectionMatrixInverse.copy(AA.projectionMatrixInverse),o.isPerspectiveCamera)o.fov=$K*2*Math.atan(1/o.projectionMatrix.elements[5]),o.zoom=1}this.getCamera=function(){return P},this.getFoveation=function(){if(R===null&&G===null)return;return C},this.setFoveation=function(o){if(C=o,R!==null)R.fixedFoveation=o;if(G!==null&&G.fixedFoveation!==void 0)G.fixedFoveation=o},this.hasDepthSensing=function(){return F.texture!==null},this.getDepthSensingMesh=function(){return F.getMesh(P)};let b=null;function p(o,AA){if(Y=AA.getViewerPose(U||K),O=AA,Y!==null){const s=Y.views;if(G!==null)A.setRenderTargetFramebuffer(Z,G.framebuffer),A.setRenderTarget(Z);let t=!1;if(s.length!==P.cameras.length)P.cameras.length=0,t=!0;for(let EA=0;EA<s.length;EA++){const JA=s[EA];let YA=null;if(G!==null)YA=G.getViewport(JA);else{const l=H.getViewSubImage(R,JA);if(YA=l.viewport,EA===0)A.setRenderTargetTextures(Z,l.colorTexture,R.ignoreDepthValues?void 0:l.depthStencilTexture),A.setRenderTarget(Z)}let IA=w[EA];if(IA===void 0)IA=new y0,IA.layers.enable(EA),IA.viewport=new gA,w[EA]=IA;if(IA.matrix.fromArray(JA.transform.matrix),IA.matrix.decompose(IA.position,IA.quaternion,IA.scale),IA.projectionMatrix.fromArray(JA.projectionMatrix),IA.projectionMatrixInverse.copy(IA.projectionMatrix).invert(),IA.viewport.set(YA.x,YA.y,YA.width,YA.height),EA===0)P.matrix.copy(IA.matrix),P.matrix.decompose(P.position,P.quaternion,P.scale);if(t===!0)P.cameras.push(IA)}const r=B.enabledFeatures;if(r&&r.includes("depth-sensing")){const EA=H.getDepthInformation(s[0]);if(EA&&EA.isValid&&EA.texture)F.init(A,EA,B.renderState)}}for(let s=0;s<$.length;s++){const t=X[s],r=$[s];if(t!==null&&r!==void 0)r.update(t,AA,U||K)}if(b)b(o,AA);if(AA.detectedPlanes)E.dispatchEvent({type:"planesdetected",data:AA});O=null}const m=new W3;m.setAnimationLoop(p),this.setAnimationLoop=function(o){b=o},this.dispose=function(){}}}var kI=/*@__PURE__*/new vQ,yn=/*@__PURE__*/new MA;class wK{constructor(A={}){const{canvas:Q=J3(),context:E=null,depth:B=!0,stencil:I=!1,alpha:K=!1,antialias:J=!1,premultipliedAlpha:C=!0,preserveDrawingBuffer:U=!1,powerPreference:Y="default",failIfMajorPerformanceCaveat:H=!1}=A;this.isWebGLRenderer=!0;let R;if(E!==null){if(typeof WebGLRenderingContext!=="undefined"&&E instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");R=E.getContextAttributes().alpha}else R=K;const G=new Uint32Array(4),O=new Int32Array(4);let F=null,q=null;const W=[],Z=[];this.domElement=Q,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace="srgb",this.toneMapping=0,this.toneMappingExposure=1;const $=this;let X=!1,N=0,M=0,L=null,D=-1,w=null;const P=new gA,V=new gA;let T=null;const S=new WA(0);let h=0,x=Q.width,y=Q.height,j=1,v=null,_=null;const g=new gA(0,0,x,y),b=new gA(0,0,x,y);let p=!1;const m=new m8;let o=!1,AA=!1;const s=new MA,t=new MA,r=new f,EA=new gA,JA={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let YA=!1;function IA(){return L===null?j:1}let l=E;function UA(QA,qA){return Q.getContext(QA,qA)}try{const QA={alpha:!0,depth:B,stencil:I,antialias:J,premultipliedAlpha:C,preserveDrawingBuffer:U,powerPreference:Y,failIfMajorPerformanceCaveat:H};if("setAttribute"in Q)Q.setAttribute("data-engine","three.js r169");if(Q.addEventListener("webglcontextlost",TA,!1),Q.addEventListener("webglcontextrestored",kA,!1),Q.addEventListener("webglcontextcreationerror",oA,!1),l===null){if(l=UA("webgl2",QA),l===null)if(UA("webgl2"))throw new Error("Error creating WebGL context with your selected attributes.");else throw new Error("Error creating WebGL context.")}}catch(QA){throw console.error("THREE.WebGLRenderer: "+QA.message),QA}let BA,n,i,KA,$A,FA,e,c,HA,XA,CA,GA,uA,z,k,u,d,a,OA,LA,SA,dA,yA,lA;function ZA(){if(BA=new rd(l),BA.init(),dA=new V3(l,BA),n=new dd(l,BA,A,dA),i=new zn(l),n.reverseDepthBuffer)i.buffers.depth.setReversed(!0);KA=new ed(l),$A=new Zn,FA=new kn(l,BA,i,$A,n,dA,KA),e=new nd($),c=new sd($),HA=new Jm(l),yA=new md(l,HA),XA=new ad(l,HA,KA,yA),CA=new Ql(l,XA,HA,KA),OA=new Al(l,n,FA),u=new ld($A),GA=new Gn($,e,c,BA,n,yA,u),uA=new xn($,$A),z=new On,k=new Nn(BA),a=new pd($,e,c,i,CA,R,C),d=new Mn($,CA,n),lA=new gn(l,KA,n,i),LA=new cd(l,BA,KA),SA=new td(l,BA,KA),KA.programs=GA.programs,$.capabilities=n,$.extensions=BA,$.properties=$A,$.renderLists=z,$.shadowMap=d,$.state=i,$.info=KA}ZA();const xA=new S3($,l);this.xr=xA,this.getContext=function(){return l},this.getContextAttributes=function(){return l.getContextAttributes()},this.forceContextLoss=function(){const QA=BA.get("WEBGL_lose_context");if(QA)QA.loseContext()},this.forceContextRestore=function(){const QA=BA.get("WEBGL_lose_context");if(QA)QA.restoreContext()},this.getPixelRatio=function(){return j},this.setPixelRatio=function(QA){if(QA===void 0)return;j=QA,this.setSize(x,y,!1)},this.getSize=function(QA){return QA.set(x,y)},this.setSize=function(QA,qA,wA=!0){if(xA.isPresenting){console.warn("THREE.WebGLRenderer: Can\'t change size while VR device is presenting.");return}if(x=QA,y=qA,Q.width=Math.floor(QA*j),Q.height=Math.floor(qA*j),wA===!0)Q.style.width=QA+"px",Q.style.height=qA+"px";this.setViewport(0,0,QA,qA)},this.getDrawingBufferSize=function(QA){return QA.set(x*j,y*j).floor()},this.setDrawingBufferSize=function(QA,qA,wA){x=QA,y=qA,j=wA,Q.width=Math.floor(QA*wA),Q.height=Math.floor(qA*wA),this.setViewport(0,0,QA,qA)},this.getCurrentViewport=function(QA){return QA.copy(P)},this.getViewport=function(QA){return QA.copy(g)},this.setViewport=function(QA,qA,wA,zA){if(QA.isVector4)g.set(QA.x,QA.y,QA.z,QA.w);else g.set(QA,qA,wA,zA);i.viewport(P.copy(g).multiplyScalar(j).round())},this.getScissor=function(QA){return QA.copy(b)},this.setScissor=function(QA,qA,wA,zA){if(QA.isVector4)b.set(QA.x,QA.y,QA.z,QA.w);else b.set(QA,qA,wA,zA);i.scissor(V.copy(b).multiplyScalar(j).round())},this.getScissorTest=function(){return p},this.setScissorTest=function(QA){i.setScissorTest(p=QA)},this.setOpaqueSort=function(QA){v=QA},this.setTransparentSort=function(QA){_=QA},this.getClearColor=function(QA){return QA.copy(a.getClearColor())},this.setClearColor=function(){a.setClearColor.apply(a,arguments)},this.getClearAlpha=function(){return a.getClearAlpha()},this.setClearAlpha=function(){a.setClearAlpha.apply(a,arguments)},this.clear=function(QA=!0,qA=!0,wA=!0){let zA=0;if(QA){let NA=!1;if(L!==null){const nA=L.texture.format;NA=nA===1033||nA===1031||nA===1029}if(NA){const nA=L.texture.type,tA=nA===1009||nA===1014||nA===1012||nA===1020||nA===1017||nA===1018,I0=a.getClearColor(),K0=a.getClearAlpha(),W0=I0.r,N0=I0.g,U0=I0.b;if(tA)G[0]=W0,G[1]=N0,G[2]=U0,G[3]=K0,l.clearBufferuiv(l.COLOR,0,G);else O[0]=W0,O[1]=N0,O[2]=U0,O[3]=K0,l.clearBufferiv(l.COLOR,0,O)}else zA|=l.COLOR_BUFFER_BIT}if(qA)zA|=l.DEPTH_BUFFER_BIT,l.clearDepth(this.capabilities.reverseDepthBuffer?0:1);if(wA)zA|=l.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295);l.clear(zA)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){Q.removeEventListener("webglcontextlost",TA,!1),Q.removeEventListener("webglcontextrestored",kA,!1),Q.removeEventListener("webglcontextcreationerror",oA,!1),z.dispose(),k.dispose(),$A.dispose(),e.dispose(),c.dispose(),CA.dispose(),yA.dispose(),lA.dispose(),GA.dispose(),xA.dispose(),xA.removeEventListener("sessionstart",QE),xA.removeEventListener("sessionend",dC),G1.stop()};function TA(QA){QA.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),X=!0}function kA(){console.log("THREE.WebGLRenderer: Context Restored."),X=!1;const QA=KA.autoReset,qA=d.enabled,wA=d.autoUpdate,zA=d.needsUpdate,NA=d.type;ZA(),KA.autoReset=QA,d.enabled=qA,d.autoUpdate=wA,d.needsUpdate=zA,d.type=NA}function oA(QA){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",QA.statusMessage)}function iA(QA){const qA=QA.target;qA.removeEventListener("dispose",iA),q0(qA)}function q0(QA){WQ(QA),$A.remove(QA)}function WQ(QA){const qA=$A.get(QA).programs;if(qA!==void 0){if(qA.forEach(function(wA){GA.releaseProgram(wA)}),QA.isShaderMaterial)GA.releaseShaderCache(QA)}}this.renderBufferDirect=function(QA,qA,wA,zA,NA,nA){if(qA===null)qA=JA;const tA=NA.isMesh&&NA.matrixWorld.determinant()<0,I0=lT(QA,qA,wA,zA,NA);i.setMaterial(zA,tA);let K0=wA.index,W0=1;if(zA.wireframe===!0){if(K0=XA.getWireframeAttribute(wA),K0===void 0)return;W0=2}const N0=wA.drawRange,U0=wA.attributes.position;let KQ=N0.start*W0,XQ=(N0.start+N0.count)*W0;if(nA!==null)KQ=Math.max(KQ,nA.start*W0),XQ=Math.min(XQ,(nA.start+nA.count)*W0);if(K0!==null)KQ=Math.max(KQ,0),XQ=Math.min(XQ,K0.count);else if(U0!==void 0&&U0!==null)KQ=Math.max(KQ,0),XQ=Math.min(XQ,U0.count);const _Q=XQ-KQ;if(_Q<0||_Q===1/0)return;yA.setup(NA,zA,I0,wA,K0);let f1,t0=LA;if(K0!==null)f1=HA.get(K0),t0=SA,t0.setIndex(f1);if(NA.isMesh)if(zA.wireframe===!0)i.setLineWidth(zA.wireframeLinewidth*IA()),t0.setMode(l.LINES);else t0.setMode(l.TRIANGLES);else if(NA.isLine){let H0=zA.linewidth;if(H0===void 0)H0=1;if(i.setLineWidth(H0*IA()),NA.isLineSegments)t0.setMode(l.LINES);else if(NA.isLineLoop)t0.setMode(l.LINE_LOOP);else t0.setMode(l.LINE_STRIP)}else if(NA.isPoints)t0.setMode(l.POINTS);else if(NA.isSprite)t0.setMode(l.TRIANGLES);if(NA.isBatchedMesh)if(NA._multiDrawInstances!==null)t0.renderMultiDrawInstances(NA._multiDrawStarts,NA._multiDrawCounts,NA._multiDrawCount,NA._multiDrawInstances);else if(!BA.get("WEBGL_multi_draw")){const{_multiDrawStarts:H0,_multiDrawCounts:K1,_multiDrawCount:e0}=NA,zE=K0?HA.get(K0).bytesPerElement:1,Z6=$A.get(zA).currentProgram.getUniforms();for(let u1=0;u1<e0;u1++)Z6.setValue(l,"_gl_DrawID",u1),t0.render(H0[u1]/zE,K1[u1])}else t0.renderMultiDraw(NA._multiDrawStarts,NA._multiDrawCounts,NA._multiDrawCount);else if(NA.isInstancedMesh)t0.renderInstances(KQ,_Q,NA.count);else if(wA.isInstancedBufferGeometry){const H0=wA._maxInstanceCount!==void 0?wA._maxInstanceCount:1/0,K1=Math.min(wA.instanceCount,H0);t0.renderInstances(KQ,_Q,K1)}else t0.render(KQ,_Q)};function tQ(QA,qA,wA){if(QA.transparent===!0&&QA.side===2&&QA.forceSinglePass===!1)QA.side=1,QA.needsUpdate=!0,BI(QA,qA,wA),QA.side=0,QA.needsUpdate=!0,BI(QA,qA,wA),QA.side=2;else BI(QA,qA,wA)}this.compile=function(QA,qA,wA=null){if(wA===null)wA=QA;if(q=k.get(wA),q.init(qA),Z.push(q),wA.traverseVisible(function(NA){if(NA.isLight&&NA.layers.test(qA.layers)){if(q.pushLight(NA),NA.castShadow)q.pushShadow(NA)}}),QA!==wA)QA.traverseVisible(function(NA){if(NA.isLight&&NA.layers.test(qA.layers)){if(q.pushLight(NA),NA.castShadow)q.pushShadow(NA)}});q.setupLights();const zA=/*@__PURE__*/new Set;return QA.traverse(function(NA){if(!(NA.isMesh||NA.isPoints||NA.isLine||NA.isSprite))return;const nA=NA.material;if(nA)if(Array.isArray(nA))for(let tA=0;tA<nA.length;tA++){const I0=nA[tA];tQ(I0,wA,NA),zA.add(I0)}else tQ(nA,wA,NA),zA.add(nA)}),Z.pop(),q=null,zA},this.compileAsync=function(QA,qA,wA=null){const zA=this.compile(QA,qA,wA);return new Promise((NA)=>{function nA(){if(zA.forEach(function(tA){if($A.get(tA).currentProgram.isReady())zA.delete(tA)}),zA.size===0){NA(QA);return}setTimeout(nA,10)}if(BA.get("KHR_parallel_shader_compile")!==null)nA();else setTimeout(nA,10)})};let b0=null;function _1(QA){if(b0)b0(QA)}function QE(){G1.stop()}function dC(){G1.start()}const G1=new W3;if(G1.setAnimationLoop(_1),typeof self!=="undefined")G1.setContext(self);this.setAnimationLoop=function(QA){b0=QA,xA.setAnimationLoop(QA),QA===null?G1.stop():G1.start()},xA.addEventListener("sessionstart",QE),xA.addEventListener("sessionend",dC),this.render=function(QA,qA){if(qA!==void 0&&qA.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(X===!0)return;if(QA.matrixWorldAutoUpdate===!0)QA.updateMatrixWorld();if(qA.parent===null&&qA.matrixWorldAutoUpdate===!0)qA.updateMatrixWorld();if(xA.enabled===!0&&xA.isPresenting===!0){if(xA.cameraAutoUpdate===!0)xA.updateCamera(qA);qA=xA.getCamera()}if(QA.isScene===!0)QA.onBeforeRender($,QA,qA,L);if(q=k.get(QA,Z.length),q.init(qA),Z.push(q),t.multiplyMatrices(qA.projectionMatrix,qA.matrixWorldInverse),m.setFromProjectionMatrix(t),AA=this.localClippingEnabled,o=u.init(this.clippingPlanes,AA),F=z.get(QA,W.length),F.init(),W.push(F),xA.enabled===!0&&xA.isPresenting===!0){const nA=$.xr.getDepthSensingMesh();if(nA!==null)JB(nA,qA,-1/0,$.sortObjects)}if(JB(QA,qA,0,$.sortObjects),F.finish(),$.sortObjects===!0)F.sort(v,_);if(YA=xA.enabled===!1||xA.isPresenting===!1||xA.hasDepthSensing()===!1,YA)a.addToRenderList(F,QA);if(this.info.render.frame++,o===!0)u.beginShadows();const wA=q.state.shadowsArray;if(d.render(wA,QA,qA),o===!0)u.endShadows();if(this.info.autoReset===!0)this.info.reset();const{opaque:zA,transmissive:NA}=F;if(q.setupLights(),qA.isArrayCamera){const nA=qA.cameras;if(NA.length>0)for(let tA=0,I0=nA.length;tA<I0;tA++){const K0=nA[tA];nC(zA,NA,QA,K0)}if(YA)a.render(QA);for(let tA=0,I0=nA.length;tA<I0;tA++){const K0=nA[tA];lC(F,QA,K0,K0.viewport)}}else{if(NA.length>0)nC(zA,NA,QA,qA);if(YA)a.render(QA);lC(F,QA,qA)}if(L!==null)FA.updateMultisampleRenderTarget(L),FA.updateRenderTargetMipmap(L);if(QA.isScene===!0)QA.onAfterRender($,QA,qA);if(yA.resetDefaultState(),D=-1,w=null,Z.pop(),Z.length>0){if(q=Z[Z.length-1],o===!0)u.setGlobalState($.clippingPlanes,q.state.camera)}else q=null;if(W.pop(),W.length>0)F=W[W.length-1];else F=null};function JB(QA,qA,wA,zA){if(QA.visible===!1)return;if(QA.layers.test(qA.layers)){if(QA.isGroup)wA=QA.renderOrder;else if(QA.isLOD){if(QA.autoUpdate===!0)QA.update(qA)}else if(QA.isLight){if(q.pushLight(QA),QA.castShadow)q.pushShadow(QA)}else if(QA.isSprite){if(!QA.frustumCulled||m.intersectsSprite(QA)){if(zA)EA.setFromMatrixPosition(QA.matrixWorld).applyMatrix4(t);const tA=CA.update(QA),I0=QA.material;if(I0.visible)F.push(QA,tA,I0,wA,EA.z,null)}}else if(QA.isMesh||QA.isLine||QA.isPoints){if(!QA.frustumCulled||m.intersectsObject(QA)){const tA=CA.update(QA),I0=QA.material;if(zA){if(QA.boundingSphere!==void 0){if(QA.boundingSphere===null)QA.computeBoundingSphere();EA.copy(QA.boundingSphere.center)}else{if(tA.boundingSphere===null)tA.computeBoundingSphere();EA.copy(tA.boundingSphere.center)}EA.applyMatrix4(QA.matrixWorld).applyMatrix4(t)}if(Array.isArray(I0)){const K0=tA.groups;for(let W0=0,N0=K0.length;W0<N0;W0++){const U0=K0[W0],KQ=I0[U0.materialIndex];if(KQ&&KQ.visible)F.push(QA,tA,KQ,wA,EA.z,U0)}}else if(I0.visible)F.push(QA,tA,I0,wA,EA.z,null)}}}const nA=QA.children;for(let tA=0,I0=nA.length;tA<I0;tA++)JB(nA[tA],qA,wA,zA)}function lC(QA,qA,wA,zA){const{opaque:NA,transmissive:nA,transparent:tA}=QA;if(q.setupLightsView(wA),o===!0)u.setGlobalState($.clippingPlanes,wA);if(zA)i.viewport(P.copy(zA));if(NA.length>0)EI(NA,qA,wA);if(nA.length>0)EI(nA,qA,wA);if(tA.length>0)EI(tA,qA,wA);i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),i.setPolygonOffset(!1)}function nC(QA,qA,wA,zA){if((wA.isScene===!0?wA.overrideMaterial:null)!==null)return;if(q.state.transmissionRenderTarget[zA.id]===void 0)q.state.transmissionRenderTarget[zA.id]=new B0(1,1,{generateMipmaps:!0,type:BA.has("EXT_color_buffer_half_float")||BA.has("EXT_color_buffer_float")?1016:1009,minFilter:1008,samples:4,stencilBuffer:I,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:D0.workingColorSpace});const nA=q.state.transmissionRenderTarget[zA.id],tA=zA.viewport||P;nA.setSize(tA.z,tA.w);const I0=$.getRenderTarget();if($.setRenderTarget(nA),$.getClearColor(S),h=$.getClearAlpha(),h<1)$.setClearColor(16777215,0.5);if($.clear(),YA)a.render(wA);const K0=$.toneMapping;$.toneMapping=0;const W0=zA.viewport;if(zA.viewport!==void 0)zA.viewport=void 0;if(q.setupLightsView(zA),o===!0)u.setGlobalState($.clippingPlanes,zA);if(EI(QA,wA,zA),FA.updateMultisampleRenderTarget(nA),FA.updateRenderTargetMipmap(nA),BA.has("WEBGL_multisampled_render_to_texture")===!1){let N0=!1;for(let U0=0,KQ=qA.length;U0<KQ;U0++){const XQ=qA[U0],_Q=XQ.object,f1=XQ.geometry,t0=XQ.material,H0=XQ.group;if(t0.side===2&&_Q.layers.test(zA.layers)){const K1=t0.side;t0.side=1,t0.needsUpdate=!0,CJ(_Q,wA,zA,f1,t0,H0),t0.side=K1,t0.needsUpdate=!0,N0=!0}}if(N0===!0)FA.updateMultisampleRenderTarget(nA),FA.updateRenderTargetMipmap(nA)}if($.setRenderTarget(I0),$.setClearColor(S,h),W0!==void 0)zA.viewport=W0;$.toneMapping=K0}function EI(QA,qA,wA){const zA=qA.isScene===!0?qA.overrideMaterial:null;for(let NA=0,nA=QA.length;NA<nA;NA++){const tA=QA[NA],I0=tA.object,K0=tA.geometry,W0=zA===null?tA.material:zA,N0=tA.group;if(I0.layers.test(wA.layers))CJ(I0,qA,wA,K0,W0,N0)}}function CJ(QA,qA,wA,zA,NA,nA){if(QA.onBeforeRender($,qA,wA,zA,NA,nA),QA.modelViewMatrix.multiplyMatrices(wA.matrixWorldInverse,QA.matrixWorld),QA.normalMatrix.getNormalMatrix(QA.modelViewMatrix),NA.onBeforeRender($,qA,wA,zA,QA,nA),NA.transparent===!0&&NA.side===2&&NA.forceSinglePass===!1)NA.side=1,NA.needsUpdate=!0,$.renderBufferDirect(wA,qA,zA,NA,QA,nA),NA.side=0,NA.needsUpdate=!0,$.renderBufferDirect(wA,qA,zA,NA,QA,nA),NA.side=2;else $.renderBufferDirect(wA,qA,zA,NA,QA,nA);QA.onAfterRender($,qA,wA,zA,NA,nA)}function BI(QA,qA,wA){if(qA.isScene!==!0)qA=JA;const zA=$A.get(QA),NA=q.state.lights,nA=q.state.shadowsArray,tA=NA.state.version,I0=GA.getParameters(QA,NA.state,nA,qA,wA),K0=GA.getProgramCacheKey(I0);let W0=zA.programs;if(zA.environment=QA.isMeshStandardMaterial?qA.environment:null,zA.fog=qA.fog,zA.envMap=(QA.isMeshStandardMaterial?c:e).get(QA.envMap||zA.environment),zA.envMapRotation=zA.environment!==null&&QA.envMap===null?qA.environmentRotation:QA.envMapRotation,W0===void 0)QA.addEventListener("dispose",iA),W0=/*@__PURE__*/new Map,zA.programs=W0;let N0=W0.get(K0);if(N0!==void 0){if(zA.currentProgram===N0&&zA.lightsStateVersion===tA)return YJ(QA,I0),N0}else I0.uniforms=GA.getUniforms(QA),QA.onBeforeCompile(I0,$),N0=GA.acquireProgram(I0,K0),W0.set(K0,N0),zA.uniforms=I0.uniforms;const U0=zA.uniforms;if(!QA.isShaderMaterial&&!QA.isRawShaderMaterial||QA.clipping===!0)U0.clippingPlanes=u.uniform;if(YJ(QA,I0),zA.needsLights=oT(QA),zA.lightsStateVersion=tA,zA.needsLights)U0.ambientLightColor.value=NA.state.ambient,U0.lightProbe.value=NA.state.probe,U0.directionalLights.value=NA.state.directional,U0.directionalLightShadows.value=NA.state.directionalShadow,U0.spotLights.value=NA.state.spot,U0.spotLightShadows.value=NA.state.spotShadow,U0.rectAreaLights.value=NA.state.rectArea,U0.ltc_1.value=NA.state.rectAreaLTC1,U0.ltc_2.value=NA.state.rectAreaLTC2,U0.pointLights.value=NA.state.point,U0.pointLightShadows.value=NA.state.pointShadow,U0.hemisphereLights.value=NA.state.hemi,U0.directionalShadowMap.value=NA.state.directionalShadowMap,U0.directionalShadowMatrix.value=NA.state.directionalShadowMatrix,U0.spotShadowMap.value=NA.state.spotShadowMap,U0.spotLightMatrix.value=NA.state.spotLightMatrix,U0.spotLightMap.value=NA.state.spotLightMap,U0.pointShadowMap.value=NA.state.pointShadowMap,U0.pointShadowMatrix.value=NA.state.pointShadowMatrix;return zA.currentProgram=N0,zA.uniformsList=null,N0}function UJ(QA){if(QA.uniformsList===null){const qA=QA.currentProgram.getUniforms();QA.uniformsList=F9.seqWithValue(qA.seq,QA.uniforms)}return QA.uniformsList}function YJ(QA,qA){const wA=$A.get(QA);wA.outputColorSpace=qA.outputColorSpace,wA.batching=qA.batching,wA.batchingColor=qA.batchingColor,wA.instancing=qA.instancing,wA.instancingColor=qA.instancingColor,wA.instancingMorph=qA.instancingMorph,wA.skinning=qA.skinning,wA.morphTargets=qA.morphTargets,wA.morphNormals=qA.morphNormals,wA.morphColors=qA.morphColors,wA.morphTargetsCount=qA.morphTargetsCount,wA.numClippingPlanes=qA.numClippingPlanes,wA.numIntersection=qA.numClipIntersection,wA.vertexAlphas=qA.vertexAlphas,wA.vertexTangents=qA.vertexTangents,wA.toneMapping=qA.toneMapping}function lT(QA,qA,wA,zA,NA){if(qA.isScene!==!0)qA=JA;FA.resetTextureUnits();const nA=qA.fog,tA=zA.isMeshStandardMaterial?qA.environment:null,I0=L===null?$.outputColorSpace:L.isXRRenderTarget===!0?L.texture.colorSpace:"srgb-linear",K0=(zA.isMeshStandardMaterial?c:e).get(zA.envMap||tA),W0=zA.vertexColors===!0&&!!wA.attributes.color&&wA.attributes.color.itemSize===4,N0=!!wA.attributes.tangent&&(!!zA.normalMap||zA.anisotropy>0),U0=!!wA.morphAttributes.position,KQ=!!wA.morphAttributes.normal,XQ=!!wA.morphAttributes.color;let _Q=0;if(zA.toneMapped){if(L===null||L.isXRRenderTarget===!0)_Q=$.toneMapping}const f1=wA.morphAttributes.position||wA.morphAttributes.normal||wA.morphAttributes.color,t0=f1!==void 0?f1.length:0,H0=$A.get(zA),K1=q.state.lights;if(o===!0){if(AA===!0||QA!==w){const EE=QA===w&&zA.id===D;u.setState(zA,QA,EE)}}let e0=!1;if(zA.version===H0.__version){if(H0.needsLights&&H0.lightsStateVersion!==K1.state.version)e0=!0;else if(H0.outputColorSpace!==I0)e0=!0;else if(NA.isBatchedMesh&&H0.batching===!1)e0=!0;else if(!NA.isBatchedMesh&&H0.batching===!0)e0=!0;else if(NA.isBatchedMesh&&H0.batchingColor===!0&&NA.colorTexture===null)e0=!0;else if(NA.isBatchedMesh&&H0.batchingColor===!1&&NA.colorTexture!==null)e0=!0;else if(NA.isInstancedMesh&&H0.instancing===!1)e0=!0;else if(!NA.isInstancedMesh&&H0.instancing===!0)e0=!0;else if(NA.isSkinnedMesh&&H0.skinning===!1)e0=!0;else if(!NA.isSkinnedMesh&&H0.skinning===!0)e0=!0;else if(NA.isInstancedMesh&&H0.instancingColor===!0&&NA.instanceColor===null)e0=!0;else if(NA.isInstancedMesh&&H0.instancingColor===!1&&NA.instanceColor!==null)e0=!0;else if(NA.isInstancedMesh&&H0.instancingMorph===!0&&NA.morphTexture===null)e0=!0;else if(NA.isInstancedMesh&&H0.instancingMorph===!1&&NA.morphTexture!==null)e0=!0;else if(H0.envMap!==K0)e0=!0;else if(zA.fog===!0&&H0.fog!==nA)e0=!0;else if(H0.numClippingPlanes!==void 0&&(H0.numClippingPlanes!==u.numPlanes||H0.numIntersection!==u.numIntersection))e0=!0;else if(H0.vertexAlphas!==W0)e0=!0;else if(H0.vertexTangents!==N0)e0=!0;else if(H0.morphTargets!==U0)e0=!0;else if(H0.morphNormals!==KQ)e0=!0;else if(H0.morphColors!==XQ)e0=!0;else if(H0.toneMapping!==_Q)e0=!0;else if(H0.morphTargetsCount!==t0)e0=!0}else e0=!0,H0.__version=zA.version;let zE=H0.currentProgram;if(e0===!0)zE=BI(zA,qA,NA);let Z6=!1,u1=!1,AH=!1;const gQ=zE.getUniforms(),CB=H0.uniforms;if(i.useProgram(zE.program))Z6=!0,u1=!0,AH=!0;if(zA.id!==D)D=zA.id,u1=!0;if(Z6||w!==QA){if(n.reverseDepthBuffer)s.copy(QA.projectionMatrix),fp(s),up(s),gQ.setValue(l,"projectionMatrix",s);else gQ.setValue(l,"projectionMatrix",QA.projectionMatrix);gQ.setValue(l,"viewMatrix",QA.matrixWorldInverse);const EE=gQ.map.cameraPosition;if(EE!==void 0)EE.setValue(l,r.setFromMatrixPosition(QA.matrixWorld));if(n.logarithmicDepthBuffer)gQ.setValue(l,"logDepthBufFC",2/(Math.log(QA.far+1)/Math.LN2));if(zA.isMeshPhongMaterial||zA.isMeshToonMaterial||zA.isMeshLambertMaterial||zA.isMeshBasicMaterial||zA.isMeshStandardMaterial||zA.isShaderMaterial)gQ.setValue(l,"isOrthographic",QA.isOrthographicCamera===!0);if(w!==QA)w=QA,u1=!0,AH=!0}if(NA.isSkinnedMesh){gQ.setOptional(l,NA,"bindMatrix"),gQ.setOptional(l,NA,"bindMatrixInverse");const EE=NA.skeleton;if(EE){if(EE.boneTexture===null)EE.computeBoneTexture();gQ.setValue(l,"boneTexture",EE.boneTexture,FA)}}if(NA.isBatchedMesh){if(gQ.setOptional(l,NA,"batchingTexture"),gQ.setValue(l,"batchingTexture",NA._matricesTexture,FA),gQ.setOptional(l,NA,"batchingIdTexture"),gQ.setValue(l,"batchingIdTexture",NA._indirectTexture,FA),gQ.setOptional(l,NA,"batchingColorTexture"),NA._colorsTexture!==null)gQ.setValue(l,"batchingColorTexture",NA._colorsTexture,FA)}const QH=wA.morphAttributes;if(QH.position!==void 0||QH.normal!==void 0||QH.color!==void 0)OA.update(NA,wA,zE);if(u1||H0.receiveShadow!==NA.receiveShadow)H0.receiveShadow=NA.receiveShadow,gQ.setValue(l,"receiveShadow",NA.receiveShadow);if(zA.isMeshGouraudMaterial&&zA.envMap!==null)CB.envMap.value=K0,CB.flipEnvMap.value=K0.isCubeTexture&&K0.isRenderTargetTexture===!1?-1:1;if(zA.isMeshStandardMaterial&&zA.envMap===null&&qA.environment!==null)CB.envMapIntensity.value=qA.environmentIntensity;if(u1){if(gQ.setValue(l,"toneMappingExposure",$.toneMappingExposure),H0.needsLights)nT(CB,AH);if(nA&&zA.fog===!0)uA.refreshFogUniforms(CB,nA);uA.refreshMaterialUniforms(CB,zA,j,y,q.state.transmissionRenderTarget[QA.id]),F9.upload(l,UJ(H0),CB,FA)}if(zA.isShaderMaterial&&zA.uniformsNeedUpdate===!0)F9.upload(l,UJ(H0),CB,FA),zA.uniformsNeedUpdate=!1;if(zA.isSpriteMaterial)gQ.setValue(l,"center",NA.center);if(gQ.setValue(l,"modelViewMatrix",NA.modelViewMatrix),gQ.setValue(l,"normalMatrix",NA.normalMatrix),gQ.setValue(l,"modelMatrix",NA.matrixWorld),zA.isShaderMaterial||zA.isRawShaderMaterial){const EE=zA.uniformsGroups;for(let EH=0,iT=EE.length;EH<iT;EH++){const UW=EE[EH];lA.update(UW,zE),lA.bind(UW,zE)}}return zE}function nT(QA,qA){QA.ambientLightColor.needsUpdate=qA,QA.lightProbe.needsUpdate=qA,QA.directionalLights.needsUpdate=qA,QA.directionalLightShadows.needsUpdate=qA,QA.pointLights.needsUpdate=qA,QA.pointLightShadows.needsUpdate=qA,QA.spotLights.needsUpdate=qA,QA.spotLightShadows.needsUpdate=qA,QA.rectAreaLights.needsUpdate=qA,QA.hemisphereLights.needsUpdate=qA}function oT(QA){return QA.isMeshLambertMaterial||QA.isMeshToonMaterial||QA.isMeshPhongMaterial||QA.isMeshStandardMaterial||QA.isShadowMaterial||QA.isShaderMaterial&&QA.lights===!0}if(this.getActiveCubeFace=function(){return N},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return L},this.setRenderTargetTextures=function(QA,qA,wA){$A.get(QA.texture).__webglTexture=qA,$A.get(QA.depthTexture).__webglTexture=wA;const zA=$A.get(QA);if(zA.__hasExternalTextures=!0,zA.__autoAllocateDepthBuffer=wA===void 0,!zA.__autoAllocateDepthBuffer){if(BA.has("WEBGL_multisampled_render_to_texture")===!0)console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),zA.__useRenderToTexture=!1}},this.setRenderTargetFramebuffer=function(QA,qA){const wA=$A.get(QA);wA.__webglFramebuffer=qA,wA.__useDefaultFramebuffer=qA===void 0},this.setRenderTarget=function(QA,qA=0,wA=0){L=QA,N=qA,M=wA;let zA=!0,NA=null,nA=!1,tA=!1;if(QA){const K0=$A.get(QA);if(K0.__useDefaultFramebuffer!==void 0)i.bindFramebuffer(l.FRAMEBUFFER,null),zA=!1;else if(K0.__webglFramebuffer===void 0)FA.setupRenderTarget(QA);else if(K0.__hasExternalTextures)FA.rebindTextures(QA,$A.get(QA.texture).__webglTexture,$A.get(QA.depthTexture).__webglTexture);else if(QA.depthBuffer){const U0=QA.depthTexture;if(K0.__boundDepthTexture!==U0){if(U0!==null&&$A.has(U0)&&(QA.width!==U0.image.width||QA.height!==U0.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");FA.setupDepthRenderbuffer(QA)}}const W0=QA.texture;if(W0.isData3DTexture||W0.isDataArrayTexture||W0.isCompressedArrayTexture)tA=!0;const N0=$A.get(QA).__webglFramebuffer;if(QA.isWebGLCubeRenderTarget){if(Array.isArray(N0[qA]))NA=N0[qA][wA];else NA=N0[qA];nA=!0}else if(QA.samples>0&&FA.useMultisampledRTT(QA)===!1)NA=$A.get(QA).__webglMultisampledFramebuffer;else if(Array.isArray(N0))NA=N0[wA];else NA=N0;P.copy(QA.viewport),V.copy(QA.scissor),T=QA.scissorTest}else P.copy(g).multiplyScalar(j).floor(),V.copy(b).multiplyScalar(j).floor(),T=p;if(i.bindFramebuffer(l.FRAMEBUFFER,NA)&&zA)i.drawBuffers(QA,NA);if(i.viewport(P),i.scissor(V),i.setScissorTest(T),nA){const K0=$A.get(QA.texture);l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_CUBE_MAP_POSITIVE_X+qA,K0.__webglTexture,wA)}else if(tA){const K0=$A.get(QA.texture),W0=qA||0;l.framebufferTextureLayer(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,K0.__webglTexture,wA||0,W0)}D=-1},this.readRenderTargetPixels=function(QA,qA,wA,zA,NA,nA,tA){if(!(QA&&QA.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let I0=$A.get(QA).__webglFramebuffer;if(QA.isWebGLCubeRenderTarget&&tA!==void 0)I0=I0[tA];if(I0){i.bindFramebuffer(l.FRAMEBUFFER,I0);try{const K0=QA.texture,W0=K0.format,N0=K0.type;if(!n.textureFormatReadable(W0)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!n.textureTypeReadable(N0)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}if(qA>=0&&qA<=QA.width-zA&&(wA>=0&&wA<=QA.height-NA))l.readPixels(qA,wA,zA,NA,dA.convert(W0),dA.convert(N0),nA)}finally{const K0=L!==null?$A.get(L).__webglFramebuffer:null;i.bindFramebuffer(l.FRAMEBUFFER,K0)}}},this.readRenderTargetPixelsAsync=async function(QA,qA,wA,zA,NA,nA,tA){if(!(QA&&QA.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let I0=$A.get(QA).__webglFramebuffer;if(QA.isWebGLCubeRenderTarget&&tA!==void 0)I0=I0[tA];if(I0){const K0=QA.texture,W0=K0.format,N0=K0.type;if(!n.textureFormatReadable(W0))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!n.textureTypeReadable(N0))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(qA>=0&&qA<=QA.width-zA&&(wA>=0&&wA<=QA.height-NA)){i.bindFramebuffer(l.FRAMEBUFFER,I0);const U0=l.createBuffer();l.bindBuffer(l.PIXEL_PACK_BUFFER,U0),l.bufferData(l.PIXEL_PACK_BUFFER,nA.byteLength,l.STREAM_READ),l.readPixels(qA,wA,zA,NA,dA.convert(W0),dA.convert(N0),0);const KQ=L!==null?$A.get(L).__webglFramebuffer:null;i.bindFramebuffer(l.FRAMEBUFFER,KQ);const XQ=l.fenceSync(l.SYNC_GPU_COMMANDS_COMPLETE,0);return l.flush(),await bp(l,XQ,4),l.bindBuffer(l.PIXEL_PACK_BUFFER,U0),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,nA),l.deleteBuffer(U0),l.deleteSync(XQ),nA}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(QA,qA=null,wA=0){if(QA.isTexture!==!0)L5("WebGLRenderer: copyFramebufferToTexture function signature has changed."),qA=arguments[0]||null,QA=arguments[1];const zA=Math.pow(2,-wA),NA=Math.floor(QA.image.width*zA),nA=Math.floor(QA.image.height*zA),tA=qA!==null?qA.x:0,I0=qA!==null?qA.y:0;FA.setTexture2D(QA,0),l.copyTexSubImage2D(l.TEXTURE_2D,wA,0,0,tA,I0,NA,nA),i.unbindTexture()},this.copyTextureToTexture=function(QA,qA,wA=null,zA=null,NA=0){if(QA.isTexture!==!0)L5("WebGLRenderer: copyTextureToTexture function signature has changed."),zA=arguments[0]||null,QA=arguments[1],qA=arguments[2],NA=arguments[3]||0,wA=null;let nA,tA,I0,K0,W0,N0;if(wA!==null)nA=wA.max.x-wA.min.x,tA=wA.max.y-wA.min.y,I0=wA.min.x,K0=wA.min.y;else nA=QA.image.width,tA=QA.image.height,I0=0,K0=0;if(zA!==null)W0=zA.x,N0=zA.y;else W0=0,N0=0;const U0=dA.convert(qA.format),KQ=dA.convert(qA.type);FA.setTexture2D(qA,0),l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,qA.flipY),l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,qA.premultiplyAlpha),l.pixelStorei(l.UNPACK_ALIGNMENT,qA.unpackAlignment);const XQ=l.getParameter(l.UNPACK_ROW_LENGTH),_Q=l.getParameter(l.UNPACK_IMAGE_HEIGHT),f1=l.getParameter(l.UNPACK_SKIP_PIXELS),t0=l.getParameter(l.UNPACK_SKIP_ROWS),H0=l.getParameter(l.UNPACK_SKIP_IMAGES),K1=QA.isCompressedTexture?QA.mipmaps[NA]:QA.image;if(l.pixelStorei(l.UNPACK_ROW_LENGTH,K1.width),l.pixelStorei(l.UNPACK_IMAGE_HEIGHT,K1.height),l.pixelStorei(l.UNPACK_SKIP_PIXELS,I0),l.pixelStorei(l.UNPACK_SKIP_ROWS,K0),QA.isDataTexture)l.texSubImage2D(l.TEXTURE_2D,NA,W0,N0,nA,tA,U0,KQ,K1.data);else if(QA.isCompressedTexture)l.compressedTexSubImage2D(l.TEXTURE_2D,NA,W0,N0,K1.width,K1.height,U0,K1.data);else l.texSubImage2D(l.TEXTURE_2D,NA,W0,N0,nA,tA,U0,KQ,K1);if(l.pixelStorei(l.UNPACK_ROW_LENGTH,XQ),l.pixelStorei(l.UNPACK_IMAGE_HEIGHT,_Q),l.pixelStorei(l.UNPACK_SKIP_PIXELS,f1),l.pixelStorei(l.UNPACK_SKIP_ROWS,t0),l.pixelStorei(l.UNPACK_SKIP_IMAGES,H0),NA===0&&qA.generateMipmaps)l.generateMipmap(l.TEXTURE_2D);i.unbindTexture()},this.copyTextureToTexture3D=function(QA,qA,wA=null,zA=null,NA=0){if(QA.isTexture!==!0)L5("WebGLRenderer: copyTextureToTexture3D function signature has changed."),wA=arguments[0]||null,zA=arguments[1]||null,QA=arguments[2],qA=arguments[3],NA=arguments[4]||0;let nA,tA,I0,K0,W0,N0,U0,KQ,XQ;const _Q=QA.isCompressedTexture?QA.mipmaps[NA]:QA.image;if(wA!==null)nA=wA.max.x-wA.min.x,tA=wA.max.y-wA.min.y,I0=wA.max.z-wA.min.z,K0=wA.min.x,W0=wA.min.y,N0=wA.min.z;else nA=_Q.width,tA=_Q.height,I0=_Q.depth,K0=0,W0=0,N0=0;if(zA!==null)U0=zA.x,KQ=zA.y,XQ=zA.z;else U0=0,KQ=0,XQ=0;const f1=dA.convert(qA.format),t0=dA.convert(qA.type);let H0;if(qA.isData3DTexture)FA.setTexture3D(qA,0),H0=l.TEXTURE_3D;else if(qA.isDataArrayTexture||qA.isCompressedArrayTexture)FA.setTexture2DArray(qA,0),H0=l.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,qA.flipY),l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,qA.premultiplyAlpha),l.pixelStorei(l.UNPACK_ALIGNMENT,qA.unpackAlignment);const K1=l.getParameter(l.UNPACK_ROW_LENGTH),e0=l.getParameter(l.UNPACK_IMAGE_HEIGHT),zE=l.getParameter(l.UNPACK_SKIP_PIXELS),Z6=l.getParameter(l.UNPACK_SKIP_ROWS),u1=l.getParameter(l.UNPACK_SKIP_IMAGES);if(l.pixelStorei(l.UNPACK_ROW_LENGTH,_Q.width),l.pixelStorei(l.UNPACK_IMAGE_HEIGHT,_Q.height),l.pixelStorei(l.UNPACK_SKIP_PIXELS,K0),l.pixelStorei(l.UNPACK_SKIP_ROWS,W0),l.pixelStorei(l.UNPACK_SKIP_IMAGES,N0),QA.isDataTexture||QA.isData3DTexture)l.texSubImage3D(H0,NA,U0,KQ,XQ,nA,tA,I0,f1,t0,_Q.data);else if(qA.isCompressedArrayTexture)l.compressedTexSubImage3D(H0,NA,U0,KQ,XQ,nA,tA,I0,f1,_Q.data);else l.texSubImage3D(H0,NA,U0,KQ,XQ,nA,tA,I0,f1,t0,_Q);if(l.pixelStorei(l.UNPACK_ROW_LENGTH,K1),l.pixelStorei(l.UNPACK_IMAGE_HEIGHT,e0),l.pixelStorei(l.UNPACK_SKIP_PIXELS,zE),l.pixelStorei(l.UNPACK_SKIP_ROWS,Z6),l.pixelStorei(l.UNPACK_SKIP_IMAGES,u1),NA===0&&qA.generateMipmaps)l.generateMipmap(H0);i.unbindTexture()},this.initRenderTarget=function(QA){if($A.get(QA).__webglFramebuffer===void 0)FA.setupRenderTarget(QA)},this.initTexture=function(QA){if(QA.isCubeTexture)FA.setTextureCube(QA,0);else if(QA.isData3DTexture)FA.setTexture3D(QA,0);else if(QA.isDataArrayTexture||QA.isCompressedArrayTexture)FA.setTexture2DArray(QA,0);else FA.setTexture2D(QA,0);i.unbindTexture()},this.resetState=function(){N=0,M=0,L=null,i.reset(),yA.reset()},typeof __THREE_DEVTOOLS__!=="undefined")__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return 2000}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(A){this._outputColorSpace=A;const Q=this.getContext();Q.drawingBufferColorSpace=A==="display-p3"?"display-p3":"srgb",Q.unpackColorSpace=D0.workingColorSpace==="display-p3-linear"?"display-p3":"srgb"}}class f5{constructor(A,Q=0.00025){this.isFogExp2=!0,this.name="",this.color=new WA(A),this.density=Q}clone(){return new f5(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class u5{constructor(A,Q=1,E=1000){this.isFog=!0,this.name="",this.color=new WA(A),this.near=Q,this.far=E}clone(){return new u5(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class B1 extends Y0{constructor(){super();if(this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new vQ,this.environmentIntensity=1,this.environmentRotation=new vQ,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__!=="undefined")__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(A,Q){if(super.copy(A,Q),A.background!==null)this.background=A.background.clone();if(A.environment!==null)this.environment=A.environment.clone();if(A.fog!==null)this.fog=A.fog.clone();if(this.backgroundBlurriness=A.backgroundBlurriness,this.backgroundIntensity=A.backgroundIntensity,this.backgroundRotation.copy(A.backgroundRotation),this.environmentIntensity=A.environmentIntensity,this.environmentRotation.copy(A.environmentRotation),A.overrideMaterial!==null)this.overrideMaterial=A.overrideMaterial.clone();return this.matrixAutoUpdate=A.matrixAutoUpdate,this}toJSON(A){const Q=super.toJSON(A);if(this.fog!==null)Q.object.fog=this.fog.toJSON();if(this.backgroundBlurriness>0)Q.object.backgroundBlurriness=this.backgroundBlurriness;if(this.backgroundIntensity!==1)Q.object.backgroundIntensity=this.backgroundIntensity;if(Q.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1)Q.object.environmentIntensity=this.environmentIntensity;return Q.object.environmentRotation=this.environmentRotation.toArray(),Q}}class K8{constructor(A,Q){this.isInterleavedBuffer=!0,this.array=A,this.stride=Q,this.count=A!==void 0?A.length/Q:0,this.usage=35044,this.updateRanges=[],this.version=0,this.uuid=l1()}onUploadCallback(){}set needsUpdate(A){if(A===!0)this.version++}setUsage(A){return this.usage=A,this}addUpdateRange(A,Q){this.updateRanges.push({start:A,count:Q})}clearUpdateRanges(){this.updateRanges.length=0}copy(A){return this.array=new A.array.constructor(A.array),this.count=A.count,this.stride=A.stride,this.usage=A.usage,this}copyAt(A,Q,E){A*=this.stride,E*=Q.stride;for(let B=0,I=this.stride;B<I;B++)this.array[A+B]=Q.array[E+B];return this}set(A,Q=0){return this.array.set(A,Q),this}clone(A){if(A.arrayBuffers===void 0)A.arrayBuffers={};if(this.array.buffer._uuid===void 0)this.array.buffer._uuid=l1();if(A.arrayBuffers[this.array.buffer._uuid]===void 0)A.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer;const Q=new this.array.constructor(A.arrayBuffers[this.array.buffer._uuid]),E=new this.constructor(Q,this.stride);return E.setUsage(this.usage),E}onUpload(A){return this.onUploadCallback=A,this}toJSON(A){if(A.arrayBuffers===void 0)A.arrayBuffers={};if(this.array.buffer._uuid===void 0)this.array.buffer._uuid=l1();if(A.arrayBuffers[this.array.buffer._uuid]===void 0)A.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer));return{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}var D1=/*@__PURE__*/new f;class X1{constructor(A,Q,E,B=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=A,this.itemSize=Q,this.offset=E,this.normalized=B}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(A){this.data.needsUpdate=A}applyMatrix4(A){for(let Q=0,E=this.data.count;Q<E;Q++)D1.fromBufferAttribute(this,Q),D1.applyMatrix4(A),this.setXYZ(Q,D1.x,D1.y,D1.z);return this}applyNormalMatrix(A){for(let Q=0,E=this.count;Q<E;Q++)D1.fromBufferAttribute(this,Q),D1.applyNormalMatrix(A),this.setXYZ(Q,D1.x,D1.y,D1.z);return this}transformDirection(A){for(let Q=0,E=this.count;Q<E;Q++)D1.fromBufferAttribute(this,Q),D1.transformDirection(A),this.setXYZ(Q,D1.x,D1.y,D1.z);return this}getComponent(A,Q){let E=this.array[A*this.data.stride+this.offset+Q];if(this.normalized)E=w1(E,this.array);return E}setComponent(A,Q,E){if(this.normalized)E=z0(E,this.array);return this.data.array[A*this.data.stride+this.offset+Q]=E,this}setX(A,Q){if(this.normalized)Q=z0(Q,this.array);return this.data.array[A*this.data.stride+this.offset]=Q,this}setY(A,Q){if(this.normalized)Q=z0(Q,this.array);return this.data.array[A*this.data.stride+this.offset+1]=Q,this}setZ(A,Q){if(this.normalized)Q=z0(Q,this.array);return this.data.array[A*this.data.stride+this.offset+2]=Q,this}setW(A,Q){if(this.normalized)Q=z0(Q,this.array);return this.data.array[A*this.data.stride+this.offset+3]=Q,this}getX(A){let Q=this.data.array[A*this.data.stride+this.offset];if(this.normalized)Q=w1(Q,this.array);return Q}getY(A){let Q=this.data.array[A*this.data.stride+this.offset+1];if(this.normalized)Q=w1(Q,this.array);return Q}getZ(A){let Q=this.data.array[A*this.data.stride+this.offset+2];if(this.normalized)Q=w1(Q,this.array);return Q}getW(A){let Q=this.data.array[A*this.data.stride+this.offset+3];if(this.normalized)Q=w1(Q,this.array);return Q}setXY(A,Q,E){if(A=A*this.data.stride+this.offset,this.normalized)Q=z0(Q,this.array),E=z0(E,this.array);return this.data.array[A+0]=Q,this.data.array[A+1]=E,this}setXYZ(A,Q,E,B){if(A=A*this.data.stride+this.offset,this.normalized)Q=z0(Q,this.array),E=z0(E,this.array),B=z0(B,this.array);return this.data.array[A+0]=Q,this.data.array[A+1]=E,this.data.array[A+2]=B,this}setXYZW(A,Q,E,B,I){if(A=A*this.data.stride+this.offset,this.normalized)Q=z0(Q,this.array),E=z0(E,this.array),B=z0(B,this.array),I=z0(I,this.array);return this.data.array[A+0]=Q,this.data.array[A+1]=E,this.data.array[A+2]=B,this.data.array[A+3]=I,this}clone(A){if(A===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const Q=[];for(let E=0;E<this.count;E++){const B=E*this.data.stride+this.offset;for(let I=0;I<this.itemSize;I++)Q.push(this.data.array[B+I])}return new E0(new this.array.constructor(Q),this.itemSize,this.normalized)}else{if(A.interleavedBuffers===void 0)A.interleavedBuffers={};if(A.interleavedBuffers[this.data.uuid]===void 0)A.interleavedBuffers[this.data.uuid]=this.data.clone(A);return new X1(A.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}}toJSON(A){if(A===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const Q=[];for(let E=0;E<this.count;E++){const B=E*this.data.stride+this.offset;for(let I=0;I<this.itemSize;I++)Q.push(this.data.array[B+I])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:Q,normalized:this.normalized}}else{if(A.interleavedBuffers===void 0)A.interleavedBuffers={};if(A.interleavedBuffers[this.data.uuid]===void 0)A.interleavedBuffers[this.data.uuid]=this.data.toJSON(A);return{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}}class zK extends yQ{constructor(A){super();this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new WA(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(A)}copy(A){return super.copy(A),this.color.copy(A.color),this.map=A.map,this.alphaMap=A.alphaMap,this.rotation=A.rotation,this.sizeAttenuation=A.sizeAttenuation,this.fog=A.fog,this}}var JK,C9=/*@__PURE__*/new f,CK=/*@__PURE__*/new f,UK=/*@__PURE__*/new f,YK=/*@__PURE__*/new RA,U9=/*@__PURE__*/new RA,P3=/*@__PURE__*/new MA,r7=/*@__PURE__*/new f,Y9=/*@__PURE__*/new f,a7=/*@__PURE__*/new f,sD=/*@__PURE__*/new RA,FR=/*@__PURE__*/new RA,rD=/*@__PURE__*/new RA;class f9 extends Y0{constructor(A=new zK){super();if(this.isSprite=!0,this.type="Sprite",JK===void 0){JK=new pA;const Q=new Float32Array([-0.5,-0.5,0,0,0,0.5,-0.5,0,1,0,0.5,0.5,0,1,1,-0.5,0.5,0,0,1]),E=new K8(Q,5);JK.setIndex([0,1,2,0,2,3]),JK.setAttribute("position",new X1(E,3,0,!1)),JK.setAttribute("uv",new X1(E,2,3,!1))}this.geometry=JK,this.material=A,this.center=new RA(0.5,0.5)}raycast(A,Q){if(A.camera===null)console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.');if(CK.setFromMatrixScale(this.matrixWorld),P3.copy(A.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(A.camera.matrixWorldInverse,this.matrixWorld),UK.setFromMatrixPosition(this.modelViewMatrix),A.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1)CK.multiplyScalar(-UK.z);const E=this.material.rotation;let B,I;if(E!==0)I=Math.cos(E),B=Math.sin(E);const K=this.center;t7(r7.set(-0.5,-0.5,0),UK,K,CK,B,I),t7(Y9.set(0.5,-0.5,0),UK,K,CK,B,I),t7(a7.set(0.5,0.5,0),UK,K,CK,B,I),sD.set(0,0),FR.set(1,0),rD.set(1,1);let J=A.ray.intersectTriangle(r7,Y9,a7,!1,C9);if(J===null){if(t7(Y9.set(-0.5,0.5,0),UK,K,CK,B,I),FR.set(0,1),J=A.ray.intersectTriangle(r7,a7,Y9,!1,C9),J===null)return}const C=A.ray.origin.distanceTo(C9);if(C<A.near||C>A.far)return;Q.push({distance:C,point:C9.clone(),uv:nQ.getInterpolation(C9,r7,Y9,a7,sD,FR,rD,new RA),face:null,object:this})}copy(A,Q){if(super.copy(A,Q),A.center!==void 0)this.center.copy(A.center);return this.material=A.material,this}}var e7=/*@__PURE__*/new f,aD=/*@__PURE__*/new f;class KO extends Y0{constructor(){super();this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(A){super.copy(A,!1);const Q=A.levels;for(let E=0,B=Q.length;E<B;E++){const I=Q[E];this.addLevel(I.object.clone(),I.distance,I.hysteresis)}return this.autoUpdate=A.autoUpdate,this}addLevel(A,Q=0,E=0){Q=Math.abs(Q);const B=this.levels;let I;for(I=0;I<B.length;I++)if(Q<B[I].distance)break;return B.splice(I,0,{distance:Q,hysteresis:E,object:A}),this.add(A),this}removeLevel(A){const Q=this.levels;for(let E=0;E<Q.length;E++)if(Q[E].distance===A){const B=Q.splice(E,1);return this.remove(B[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(A){const Q=this.levels;if(Q.length>0){let E,B;for(E=1,B=Q.length;E<B;E++){let I=Q[E].distance;if(Q[E].object.visible)I-=I*Q[E].hysteresis;if(A<I)break}return Q[E-1].object}return null}raycast(A,Q){if(this.levels.length>0){e7.setFromMatrixPosition(this.matrixWorld);const B=A.ray.origin.distanceTo(e7);this.getObjectForDistance(B).raycast(A,Q)}}update(A){const Q=this.levels;if(Q.length>1){e7.setFromMatrixPosition(A.matrixWorld),aD.setFromMatrixPosition(this.matrixWorld);const E=e7.distanceTo(aD)/A.zoom;Q[0].object.visible=!0;let B,I;for(B=1,I=Q.length;B<I;B++){let K=Q[B].distance;if(Q[B].object.visible)K-=K*Q[B].hysteresis;if(E>=K)Q[B-1].object.visible=!1,Q[B].object.visible=!0;else break}this._currentLevel=B-1;for(;B<I;B++)Q[B].object.visible=!1}}toJSON(A){const Q=super.toJSON(A);if(this.autoUpdate===!1)Q.object.autoUpdate=!1;Q.object.levels=[];const E=this.levels;for(let B=0,I=E.length;B<I;B++){const K=E[B];Q.object.levels.push({object:K.object.uuid,distance:K.distance,hysteresis:K.hysteresis})}return Q}}var tD=/*@__PURE__*/new f,eD=/*@__PURE__*/new gA,AM=/*@__PURE__*/new gA,bn=/*@__PURE__*/new f,QM=/*@__PURE__*/new MA,A5=/*@__PURE__*/new f,qR=/*@__PURE__*/new YQ,EM=/*@__PURE__*/new MA,NR=/*@__PURE__*/new i1;class xB extends mA{constructor(A,Q){super(A,Q);this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new MA,this.bindMatrixInverse=new MA,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const A=this.geometry;if(this.boundingBox===null)this.boundingBox=new p0;this.boundingBox.makeEmpty();const Q=A.getAttribute("position");for(let E=0;E<Q.count;E++)this.getVertexPosition(E,A5),this.boundingBox.expandByPoint(A5)}computeBoundingSphere(){const A=this.geometry;if(this.boundingSphere===null)this.boundingSphere=new YQ;this.boundingSphere.makeEmpty();const Q=A.getAttribute("position");for(let E=0;E<Q.count;E++)this.getVertexPosition(E,A5),this.boundingSphere.expandByPoint(A5)}copy(A,Q){if(super.copy(A,Q),this.bindMode=A.bindMode,this.bindMatrix.copy(A.bindMatrix),this.bindMatrixInverse.copy(A.bindMatrixInverse),this.skeleton=A.skeleton,A.boundingBox!==null)this.boundingBox=A.boundingBox.clone();if(A.boundingSphere!==null)this.boundingSphere=A.boundingSphere.clone();return this}raycast(A,Q){const E=this.material,B=this.matrixWorld;if(E===void 0)return;if(this.boundingSphere===null)this.computeBoundingSphere();if(qR.copy(this.boundingSphere),qR.applyMatrix4(B),A.ray.intersectsSphere(qR)===!1)return;if(EM.copy(B).invert(),NR.copy(A.ray).applyMatrix4(EM),this.boundingBox!==null){if(NR.intersectsBox(this.boundingBox)===!1)return}this._computeIntersections(A,Q,NR)}getVertexPosition(A,Q){return super.getVertexPosition(A,Q),this.applyBoneTransform(A,Q),Q}bind(A,Q){if(this.skeleton=A,Q===void 0)this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),Q=this.matrixWorld;this.bindMatrix.copy(Q),this.bindMatrixInverse.copy(Q).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const A=new gA,Q=this.geometry.attributes.skinWeight;for(let E=0,B=Q.count;E<B;E++){A.fromBufferAttribute(Q,E);const I=1/A.manhattanLength();if(I!==1/0)A.multiplyScalar(I);else A.set(1,0,0,0);Q.setXYZW(E,A.x,A.y,A.z,A.w)}}updateMatrixWorld(A){if(super.updateMatrixWorld(A),this.bindMode==="attached")this.bindMatrixInverse.copy(this.matrixWorld).invert();else if(this.bindMode==="detached")this.bindMatrixInverse.copy(this.bindMatrix).invert();else console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(A,Q){const E=this.skeleton,B=this.geometry;eD.fromBufferAttribute(B.attributes.skinIndex,A),AM.fromBufferAttribute(B.attributes.skinWeight,A),tD.copy(Q).applyMatrix4(this.bindMatrix),Q.set(0,0,0);for(let I=0;I<4;I++){const K=AM.getComponent(I);if(K!==0){const J=eD.getComponent(I);QM.multiplyMatrices(E.bones[J].matrixWorld,E.boneInverses[J]),Q.addScaledVector(bn.copy(tD).applyMatrix4(QM),K)}}return Q.applyMatrix4(this.bindMatrixInverse)}}class pE extends Y0{constructor(){super();this.isBone=!0,this.type="Bone"}}class d0 extends JQ{constructor(A=null,Q=1,E=1,B,I,K,J,C,U=1003,Y=1003,H,R){super(null,K,J,C,U,Y,B,I,H,R);this.isDataTexture=!0,this.image={data:A,width:Q,height:E},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}var BM=/*@__PURE__*/new MA,fn=/*@__PURE__*/new MA;class J8{constructor(A=[],Q=[]){this.uuid=l1(),this.bones=A.slice(0),this.boneInverses=Q,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const A=this.bones,Q=this.boneInverses;if(this.boneMatrices=new Float32Array(A.length*16),Q.length===0)this.calculateInverses();else if(A.length!==Q.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let E=0,B=this.bones.length;E<B;E++)this.boneInverses.push(new MA)}}calculateInverses(){this.boneInverses.length=0;for(let A=0,Q=this.bones.length;A<Q;A++){const E=new MA;if(this.bones[A])E.copy(this.bones[A].matrixWorld).invert();this.boneInverses.push(E)}}pose(){for(let A=0,Q=this.bones.length;A<Q;A++){const E=this.bones[A];if(E)E.matrixWorld.copy(this.boneInverses[A]).invert()}for(let A=0,Q=this.bones.length;A<Q;A++){const E=this.bones[A];if(E){if(E.parent&&E.parent.isBone)E.matrix.copy(E.parent.matrixWorld).invert(),E.matrix.multiply(E.matrixWorld);else E.matrix.copy(E.matrixWorld);E.matrix.decompose(E.position,E.quaternion,E.scale)}}}update(){const A=this.bones,Q=this.boneInverses,E=this.boneMatrices,B=this.boneTexture;for(let I=0,K=A.length;I<K;I++){const J=A[I]?A[I].matrixWorld:fn;BM.multiplyMatrices(J,Q[I]),BM.toArray(E,I*16)}if(B!==null)B.needsUpdate=!0}clone(){return new J8(this.bones,this.boneInverses)}computeBoneTexture(){let A=Math.sqrt(this.bones.length*4);A=Math.ceil(A/4)*4,A=Math.max(A,4);const Q=new Float32Array(A*A*4);Q.set(this.boneMatrices);const E=new d0(Q,A,A,1023,1015);return E.needsUpdate=!0,this.boneMatrices=Q,this.boneTexture=E,this}getBoneByName(A){for(let Q=0,E=this.bones.length;Q<E;Q++){const B=this.bones[Q];if(B.name===A)return B}return}dispose(){if(this.boneTexture!==null)this.boneTexture.dispose(),this.boneTexture=null}fromJSON(A,Q){this.uuid=A.uuid;for(let E=0,B=A.bones.length;E<B;E++){const I=A.bones[E];let K=Q[I];if(K===void 0)console.warn("THREE.Skeleton: No bone found with UUID:",I),K=new pE;this.bones.push(K),this.boneInverses.push(new MA().fromArray(A.boneInverses[E]))}return this.init(),this}toJSON(){const A={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};A.uuid=this.uuid;const Q=this.bones,E=this.boneInverses;for(let B=0,I=Q.length;B<I;B++){const K=Q[B];A.bones.push(K.uuid);const J=E[B];A.boneInverses.push(J.toArray())}return A}}class I8 extends E0{constructor(A,Q,E,B=1){super(A,Q,E);this.isInstancedBufferAttribute=!0,this.meshPerAttribute=B}copy(A){return super.copy(A),this.meshPerAttribute=A.meshPerAttribute,this}toJSON(){const A=super.toJSON();return A.meshPerAttribute=this.meshPerAttribute,A.isInstancedBufferAttribute=!0,A}}var HK=/*@__PURE__*/new MA,IM=/*@__PURE__*/new MA,Q5=[],KM=/*@__PURE__*/new p0,un=/*@__PURE__*/new MA,H9=/*@__PURE__*/new mA,G9=/*@__PURE__*/new YQ;class oI extends mA{constructor(A,Q,E){super(A,Q);this.isInstancedMesh=!0,this.instanceMatrix=new I8(new Float32Array(E*16),16),this.instanceColor=null,this.morphTexture=null,this.count=E,this.boundingBox=null,this.boundingSphere=null;for(let B=0;B<E;B++)this.setMatrixAt(B,un)}computeBoundingBox(){const A=this.geometry,Q=this.count;if(this.boundingBox===null)this.boundingBox=new p0;if(A.boundingBox===null)A.computeBoundingBox();this.boundingBox.makeEmpty();for(let E=0;E<Q;E++)this.getMatrixAt(E,HK),KM.copy(A.boundingBox).applyMatrix4(HK),this.boundingBox.union(KM)}computeBoundingSphere(){const A=this.geometry,Q=this.count;if(this.boundingSphere===null)this.boundingSphere=new YQ;if(A.boundingSphere===null)A.computeBoundingSphere();this.boundingSphere.makeEmpty();for(let E=0;E<Q;E++)this.getMatrixAt(E,HK),G9.copy(A.boundingSphere).applyMatrix4(HK),this.boundingSphere.union(G9)}copy(A,Q){if(super.copy(A,Q),this.instanceMatrix.copy(A.instanceMatrix),A.morphTexture!==null)this.morphTexture=A.morphTexture.clone();if(A.instanceColor!==null)this.instanceColor=A.instanceColor.clone();if(this.count=A.count,A.boundingBox!==null)this.boundingBox=A.boundingBox.clone();if(A.boundingSphere!==null)this.boundingSphere=A.boundingSphere.clone();return this}getColorAt(A,Q){Q.fromArray(this.instanceColor.array,A*3)}getMatrixAt(A,Q){Q.fromArray(this.instanceMatrix.array,A*16)}getMorphAt(A,Q){const E=Q.morphTargetInfluences,B=this.morphTexture.source.data.data,I=E.length+1,K=A*I+1;for(let J=0;J<E.length;J++)E[J]=B[K+J]}raycast(A,Q){const E=this.matrixWorld,B=this.count;if(H9.geometry=this.geometry,H9.material=this.material,H9.material===void 0)return;if(this.boundingSphere===null)this.computeBoundingSphere();if(G9.copy(this.boundingSphere),G9.applyMatrix4(E),A.ray.intersectsSphere(G9)===!1)return;for(let I=0;I<B;I++){this.getMatrixAt(I,HK),IM.multiplyMatrices(E,HK),H9.matrixWorld=IM,H9.raycast(A,Q5);for(let K=0,J=Q5.length;K<J;K++){const C=Q5[K];C.instanceId=I,C.object=this,Q.push(C)}Q5.length=0}}setColorAt(A,Q){if(this.instanceColor===null)this.instanceColor=new I8(new Float32Array(this.instanceMatrix.count*3).fill(1),3);Q.toArray(this.instanceColor.array,A*3)}setMatrixAt(A,Q){Q.toArray(this.instanceMatrix.array,A*16)}setMorphAt(A,Q){const E=Q.morphTargetInfluences,B=E.length+1;if(this.morphTexture===null)this.morphTexture=new d0(new Float32Array(B*this.count),B,this.count,1028,1015);const I=this.morphTexture.source.data.data;let K=0;for(let U=0;U<E.length;U++)K+=E[U];const J=this.geometry.morphTargetsRelative?1:1-K,C=B*A;I[C]=J,I.set(E,C+1)}updateMorphTargets(){}dispose(){if(this.dispatchEvent({type:"dispose"}),this.morphTexture!==null)this.morphTexture.dispose(),this.morphTexture=null;return this}}class _3{constructor(){this.index=0,this.pool=[],this.list=[]}push(A,Q,E){const B=this.pool,I=this.list;if(this.index>=B.length)B.push({start:-1,count:-1,z:-1,index:-1});const K=B[this.index];I.push(K),this.index++,K.start=A.start,K.count=A.count,K.z=Q,K.index=E}reset(){this.list.length=0,this.index=0}}var kB=/*@__PURE__*/new MA,LR=/*@__PURE__*/new MA,cn=/*@__PURE__*/new MA,dn=/*@__PURE__*/new WA(1,1,1),JM=/*@__PURE__*/new MA,DR=/*@__PURE__*/new m8,E5=/*@__PURE__*/new p0,jI=/*@__PURE__*/new YQ,Z9=/*@__PURE__*/new f,CM=/*@__PURE__*/new f,ln=/*@__PURE__*/new f,MR=/*@__PURE__*/new _3,W1=/*@__PURE__*/new mA,B5=[];class JO extends mA{get maxInstanceCount(){return this._maxInstanceCount}constructor(A,Q,E=Q*2,B){super(new pA,B);this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawInfo=[],this._availableInstanceIds=[],this._drawRanges=[],this._reservedRanges=[],this._bounds=[],this._maxInstanceCount=A,this._maxVertexCount=Q,this._maxIndexCount=E,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(A),this._multiDrawStarts=new Int32Array(A),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let A=Math.sqrt(this._maxInstanceCount*4);A=Math.ceil(A/4)*4,A=Math.max(A,4);const Q=new Float32Array(A*A*4),E=new d0(Q,A,A,1023,1015);this._matricesTexture=E}_initIndirectTexture(){let A=Math.sqrt(this._maxInstanceCount);A=Math.ceil(A);const Q=new Uint32Array(A*A),E=new d0(Q,A,A,1029,1014);this._indirectTexture=E}_initColorsTexture(){let A=Math.sqrt(this._maxInstanceCount);A=Math.ceil(A);const Q=new Float32Array(A*A*4).fill(1),E=new d0(Q,A,A,1023,1015);E.colorSpace=D0.workingColorSpace,this._colorsTexture=E}_initializeGeometry(A){const Q=this.geometry,E=this._maxVertexCount,B=this._maxIndexCount;if(this._geometryInitialized===!1){for(let I in A.attributes){const K=A.getAttribute(I),{array:J,itemSize:C,normalized:U}=K,Y=new J.constructor(E*C),H=new E0(Y,C,U);Q.setAttribute(I,H)}if(A.getIndex()!==null){const I=E>65535?new Uint32Array(B):new Uint16Array(B);Q.setIndex(new E0(I,1))}this._geometryInitialized=!0}}_validateGeometry(A){const Q=this.geometry;if(Boolean(A.getIndex())!==Boolean(Q.getIndex()))throw new Error('BatchedMesh: All geometries must consistently have "index".');for(let E in Q.attributes){if(!A.hasAttribute(E))throw new Error(`BatchedMesh: Added geometry missing "${E}". All geometries must have consistent attributes.`);const B=A.getAttribute(E),I=Q.getAttribute(E);if(B.itemSize!==I.itemSize||B.normalized!==I.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(A){return this.customSort=A,this}computeBoundingBox(){if(this.boundingBox===null)this.boundingBox=new p0;const A=this.boundingBox,Q=this._drawInfo;A.makeEmpty();for(let E=0,B=Q.length;E<B;E++){if(Q[E].active===!1)continue;const I=Q[E].geometryIndex;this.getMatrixAt(E,kB),this.getBoundingBoxAt(I,E5).applyMatrix4(kB),A.union(E5)}}computeBoundingSphere(){if(this.boundingSphere===null)this.boundingSphere=new YQ;const A=this.boundingSphere,Q=this._drawInfo;A.makeEmpty();for(let E=0,B=Q.length;E<B;E++){if(Q[E].active===!1)continue;const I=Q[E].geometryIndex;this.getMatrixAt(E,kB),this.getBoundingSphereAt(I,jI).applyMatrix4(kB),A.union(jI)}}addInstance(A){if(this._drawInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("BatchedMesh: Maximum item count reached.");const E={visible:!0,active:!0,geometryIndex:A};let B=null;if(this._availableInstanceIds.length>0)B=this._availableInstanceIds.pop(),this._drawInfo[B]=E;else B=this._drawInfo.length,this._drawInfo.push(E);const I=this._matricesTexture,K=I.image.data;cn.toArray(K,B*16),I.needsUpdate=!0;const J=this._colorsTexture;if(J)dn.toArray(J.image.data,B*4),J.needsUpdate=!0;return B}addGeometry(A,Q=-1,E=-1){if(this._initializeGeometry(A),this._validateGeometry(A),this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");const B={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let I=null;const K=this._reservedRanges,J=this._drawRanges,C=this._bounds;if(this._geometryCount!==0)I=K[K.length-1];if(Q===-1)B.vertexCount=A.getAttribute("position").count;else B.vertexCount=Q;if(I===null)B.vertexStart=0;else B.vertexStart=I.vertexStart+I.vertexCount;const U=A.getIndex(),Y=U!==null;if(Y){if(E===-1)B.indexCount=U.count;else B.indexCount=E;if(I===null)B.indexStart=0;else B.indexStart=I.indexStart+I.indexCount}if(B.indexStart!==-1&&B.indexStart+B.indexCount>this._maxIndexCount||B.vertexStart+B.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const H=this._geometryCount;return this._geometryCount++,K.push(B),J.push({start:Y?B.indexStart:B.vertexStart,count:-1}),C.push({boxInitialized:!1,box:new p0,sphereInitialized:!1,sphere:new YQ}),this.setGeometryAt(H,A),H}setGeometryAt(A,Q){if(A>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(Q);const E=this.geometry,B=E.getIndex()!==null,I=E.getIndex(),K=Q.getIndex(),J=this._reservedRanges[A];if(B&&K.count>J.indexCount||Q.attributes.position.count>J.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const{vertexStart:C,vertexCount:U}=J;for(let G in E.attributes){const O=Q.getAttribute(G),F=E.getAttribute(G);nn(O,F,C);const q=O.itemSize;for(let W=O.count,Z=U;W<Z;W++){const $=C+W;for(let X=0;X<q;X++)F.setComponent($,X,0)}F.needsUpdate=!0,F.addUpdateRange(C*q,U*q)}if(B){const G=J.indexStart;for(let O=0;O<K.count;O++)I.setX(G+O,C+K.getX(O));for(let O=K.count,F=J.indexCount;O<F;O++)I.setX(G+O,C);I.needsUpdate=!0,I.addUpdateRange(G,J.indexCount)}const Y=this._bounds[A];if(Q.boundingBox!==null)Y.box.copy(Q.boundingBox),Y.boxInitialized=!0;else Y.boxInitialized=!1;if(Q.boundingSphere!==null)Y.sphere.copy(Q.boundingSphere),Y.sphereInitialized=!0;else Y.sphereInitialized=!1;const H=this._drawRanges[A],R=Q.getAttribute("position");return H.count=B?K.count:R.count,this._visibilityChanged=!0,A}deleteInstance(A){const Q=this._drawInfo;if(A>=Q.length||Q[A].active===!1)return this;return Q[A].active=!1,this._availableInstanceIds.push(A),this._visibilityChanged=!0,this}getBoundingBoxAt(A,Q){if(A>=this._geometryCount)return null;const E=this._bounds[A],B=E.box,I=this.geometry;if(E.boxInitialized===!1){B.makeEmpty();const K=I.index,J=I.attributes.position,C=this._drawRanges[A];for(let U=C.start,Y=C.start+C.count;U<Y;U++){let H=U;if(K)H=K.getX(H);B.expandByPoint(Z9.fromBufferAttribute(J,H))}E.boxInitialized=!0}return Q.copy(B),Q}getBoundingSphereAt(A,Q){if(A>=this._geometryCount)return null;const E=this._bounds[A],B=E.sphere,I=this.geometry;if(E.sphereInitialized===!1){B.makeEmpty(),this.getBoundingBoxAt(A,E5),E5.getCenter(B.center);const K=I.index,J=I.attributes.position,C=this._drawRanges[A];let U=0;for(let Y=C.start,H=C.start+C.count;Y<H;Y++){let R=Y;if(K)R=K.getX(R);Z9.fromBufferAttribute(J,R),U=Math.max(U,B.center.distanceToSquared(Z9))}B.radius=Math.sqrt(U),E.sphereInitialized=!0}return Q.copy(B),Q}setMatrixAt(A,Q){const E=this._drawInfo,B=this._matricesTexture,I=this._matricesTexture.image.data;if(A>=E.length||E[A].active===!1)return this;return Q.toArray(I,A*16),B.needsUpdate=!0,this}getMatrixAt(A,Q){const E=this._drawInfo,B=this._matricesTexture.image.data;if(A>=E.length||E[A].active===!1)return null;return Q.fromArray(B,A*16)}setColorAt(A,Q){if(this._colorsTexture===null)this._initColorsTexture();const E=this._colorsTexture,B=this._colorsTexture.image.data,I=this._drawInfo;if(A>=I.length||I[A].active===!1)return this;return Q.toArray(B,A*4),E.needsUpdate=!0,this}getColorAt(A,Q){const E=this._colorsTexture.image.data,B=this._drawInfo;if(A>=B.length||B[A].active===!1)return null;return Q.fromArray(E,A*4)}setVisibleAt(A,Q){const E=this._drawInfo;if(A>=E.length||E[A].active===!1||E[A].visible===Q)return this;return E[A].visible=Q,this._visibilityChanged=!0,this}getVisibleAt(A){const Q=this._drawInfo;if(A>=Q.length||Q[A].active===!1)return!1;return Q[A].visible}setGeometryIdAt(A,Q){const E=this._drawInfo;if(A>=E.length||E[A].active===!1)return null;if(Q<0||Q>=this._geometryCount)return null;return E[A].geometryIndex=Q,this}getGeometryIdAt(A){const Q=this._drawInfo;if(A>=Q.length||Q[A].active===!1)return-1;return Q[A].geometryIndex}getGeometryRangeAt(A,Q={}){if(A<0||A>=this._geometryCount)return null;const E=this._drawRanges[A];return Q.start=E.start,Q.count=E.count,Q}raycast(A,Q){const E=this._drawInfo,B=this._drawRanges,I=this.matrixWorld,K=this.geometry;if(W1.material=this.material,W1.geometry.index=K.index,W1.geometry.attributes=K.attributes,W1.geometry.boundingBox===null)W1.geometry.boundingBox=new p0;if(W1.geometry.boundingSphere===null)W1.geometry.boundingSphere=new YQ;for(let J=0,C=E.length;J<C;J++){if(!E[J].visible||!E[J].active)continue;const U=E[J].geometryIndex,Y=B[U];W1.geometry.setDrawRange(Y.start,Y.count),this.getMatrixAt(J,W1.matrixWorld).premultiply(I),this.getBoundingBoxAt(U,W1.geometry.boundingBox),this.getBoundingSphereAt(U,W1.geometry.boundingSphere),W1.raycast(A,B5);for(let H=0,R=B5.length;H<R;H++){const G=B5[H];G.object=this,G.batchId=J,Q.push(G)}B5.length=0}W1.material=null,W1.geometry.index=null,W1.geometry.attributes={},W1.geometry.setDrawRange(0,1/0)}copy(A){if(super.copy(A),this.geometry=A.geometry.clone(),this.perObjectFrustumCulled=A.perObjectFrustumCulled,this.sortObjects=A.sortObjects,this.boundingBox=A.boundingBox!==null?A.boundingBox.clone():null,this.boundingSphere=A.boundingSphere!==null?A.boundingSphere.clone():null,this._drawRanges=A._drawRanges.map((Q)=>({...Q})),this._reservedRanges=A._reservedRanges.map((Q)=>({...Q})),this._drawInfo=A._drawInfo.map((Q)=>({...Q})),this._bounds=A._bounds.map((Q)=>({boxInitialized:Q.boxInitialized,box:Q.box.clone(),sphereInitialized:Q.sphereInitialized,sphere:Q.sphere.clone()})),this._maxInstanceCount=A._maxInstanceCount,this._maxVertexCount=A._maxVertexCount,this._maxIndexCount=A._maxIndexCount,this._geometryInitialized=A._geometryInitialized,this._geometryCount=A._geometryCount,this._multiDrawCounts=A._multiDrawCounts.slice(),this._multiDrawStarts=A._multiDrawStarts.slice(),this._matricesTexture=A._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null)this._colorsTexture=A._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice();return this}dispose(){if(this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null)this._colorsTexture.dispose(),this._colorsTexture=null;return this}onBeforeRender(A,Q,E,B,I){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const K=B.getIndex(),J=K===null?1:K.array.BYTES_PER_ELEMENT,C=this._drawInfo,U=this._multiDrawStarts,Y=this._multiDrawCounts,H=this._drawRanges,R=this.perObjectFrustumCulled,G=this._indirectTexture,O=G.image.data;if(R)JM.multiplyMatrices(E.projectionMatrix,E.matrixWorldInverse).multiply(this.matrixWorld),DR.setFromProjectionMatrix(JM,A.coordinateSystem);let F=0;if(this.sortObjects){LR.copy(this.matrixWorld).invert(),Z9.setFromMatrixPosition(E.matrixWorld).applyMatrix4(LR),CM.set(0,0,-1).transformDirection(E.matrixWorld).transformDirection(LR);for(let Z=0,$=C.length;Z<$;Z++)if(C[Z].visible&&C[Z].active){const X=C[Z].geometryIndex;this.getMatrixAt(Z,kB),this.getBoundingSphereAt(X,jI).applyMatrix4(kB);let N=!1;if(R)N=!DR.intersectsSphere(jI);if(!N){const M=ln.subVectors(jI.center,Z9).dot(CM);MR.push(H[X],M,Z)}}const q=MR.list,W=this.customSort;if(W===null)q.sort(I.transparent?mn:pn);else W.call(this,q,E);for(let Z=0,$=q.length;Z<$;Z++){const X=q[Z];U[F]=X.start*J,Y[F]=X.count,O[F]=X.index,F++}MR.reset()}else for(let q=0,W=C.length;q<W;q++)if(C[q].visible&&C[q].active){const Z=C[q].geometryIndex;let $=!1;if(R)this.getMatrixAt(q,kB),this.getBoundingSphereAt(Z,jI).applyMatrix4(kB),$=!DR.intersectsSphere(jI);if(!$){const X=H[Z];U[F]=X.start*J,Y[F]=X.count,O[F]=q,F++}}G.needsUpdate=!0,this._multiDrawCount=F,this._visibilityChanged=!1}onBeforeShadow(A,Q,E,B,I,K){this.onBeforeRender(A,null,B,I,K)}}class g0 extends yQ{constructor(A){super();this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new WA(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(A)}copy(A){return super.copy(A),this.color.copy(A.color),this.map=A.map,this.linewidth=A.linewidth,this.linecap=A.linecap,this.linejoin=A.linejoin,this.fog=A.fog,this}}var w5=/*@__PURE__*/new f,z5=/*@__PURE__*/new f,UM=/*@__PURE__*/new MA,R9=/*@__PURE__*/new i1,I5=/*@__PURE__*/new YQ,wR=/*@__PURE__*/new f,YM=/*@__PURE__*/new f;class sQ extends Y0{constructor(A=new pA,Q=new g0){super();this.isLine=!0,this.type="Line",this.geometry=A,this.material=Q,this.updateMorphTargets()}copy(A,Q){return super.copy(A,Q),this.material=Array.isArray(A.material)?A.material.slice():A.material,this.geometry=A.geometry,this}computeLineDistances(){const A=this.geometry;if(A.index===null){const Q=A.attributes.position,E=[0];for(let B=1,I=Q.count;B<I;B++)w5.fromBufferAttribute(Q,B-1),z5.fromBufferAttribute(Q,B),E[B]=E[B-1],E[B]+=w5.distanceTo(z5);A.setAttribute("lineDistance",new bA(E,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(A,Q){const E=this.geometry,B=this.matrixWorld,I=A.params.Line.threshold,K=E.drawRange;if(E.boundingSphere===null)E.computeBoundingSphere();if(I5.copy(E.boundingSphere),I5.applyMatrix4(B),I5.radius+=I,A.ray.intersectsSphere(I5)===!1)return;UM.copy(B).invert(),R9.copy(A.ray).applyMatrix4(UM);const J=I/((this.scale.x+this.scale.y+this.scale.z)/3),C=J*J,U=this.isLineSegments?2:1,Y=E.index,R=E.attributes.position;if(Y!==null){const G=Math.max(0,K.start),O=Math.min(Y.count,K.start+K.count);for(let F=G,q=O-1;F<q;F+=U){const W=Y.getX(F),Z=Y.getX(F+1),$=K5(this,A,R9,C,W,Z);if($)Q.push($)}if(this.isLineLoop){const F=Y.getX(O-1),q=Y.getX(G),W=K5(this,A,R9,C,F,q);if(W)Q.push(W)}}else{const G=Math.max(0,K.start),O=Math.min(R.count,K.start+K.count);for(let F=G,q=O-1;F<q;F+=U){const W=K5(this,A,R9,C,F,F+1);if(W)Q.push(W)}if(this.isLineLoop){const F=K5(this,A,R9,C,O-1,G);if(F)Q.push(F)}}}updateMorphTargets(){const Q=this.geometry.morphAttributes,E=Object.keys(Q);if(E.length>0){const B=Q[E[0]];if(B!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let I=0,K=B.length;I<K;I++){const J=B[I].name||String(I);this.morphTargetInfluences.push(0),this.morphTargetDictionary[J]=I}}}}}var HM=/*@__PURE__*/new f,GM=/*@__PURE__*/new f;class wQ extends sQ{constructor(A,Q){super(A,Q);this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const A=this.geometry;if(A.index===null){const Q=A.attributes.position,E=[];for(let B=0,I=Q.count;B<I;B+=2)HM.fromBufferAttribute(Q,B),GM.fromBufferAttribute(Q,B+1),E[B]=B===0?0:E[B-1],E[B+1]=E[B]+HM.distanceTo(GM);A.setAttribute("lineDistance",new bA(E,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class u9 extends sQ{constructor(A,Q){super(A,Q);this.isLineLoop=!0,this.type="LineLoop"}}class mE extends yQ{constructor(A){super();this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new WA(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(A)}copy(A){return super.copy(A),this.color.copy(A.color),this.map=A.map,this.alphaMap=A.alphaMap,this.size=A.size,this.sizeAttenuation=A.sizeAttenuation,this.fog=A.fog,this}}var ZM=/*@__PURE__*/new MA,yR=/*@__PURE__*/new i1,J5=/*@__PURE__*/new YQ,C5=/*@__PURE__*/new f;class C8 extends Y0{constructor(A=new pA,Q=new mE){super();this.isPoints=!0,this.type="Points",this.geometry=A,this.material=Q,this.updateMorphTargets()}copy(A,Q){return super.copy(A,Q),this.material=Array.isArray(A.material)?A.material.slice():A.material,this.geometry=A.geometry,this}raycast(A,Q){const E=this.geometry,B=this.matrixWorld,I=A.params.Points.threshold,K=E.drawRange;if(E.boundingSphere===null)E.computeBoundingSphere();if(J5.copy(E.boundingSphere),J5.applyMatrix4(B),J5.radius+=I,A.ray.intersectsSphere(J5)===!1)return;ZM.copy(B).invert(),yR.copy(A.ray).applyMatrix4(ZM);const J=I/((this.scale.x+this.scale.y+this.scale.z)/3),C=J*J,U=E.index,H=E.attributes.position;if(U!==null){const R=Math.max(0,K.start),G=Math.min(U.count,K.start+K.count);for(let O=R,F=G;O<F;O++){const q=U.getX(O);C5.fromBufferAttribute(H,q),RM(C5,q,C,B,A,Q,this)}}else{const R=Math.max(0,K.start),G=Math.min(H.count,K.start+K.count);for(let O=R,F=G;O<F;O++)C5.fromBufferAttribute(H,O),RM(C5,O,C,B,A,Q,this)}}updateMorphTargets(){const Q=this.geometry.morphAttributes,E=Object.keys(Q);if(E.length>0){const B=Q[E[0]];if(B!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let I=0,K=B.length;I<K;I++){const J=B[I].name||String(I);this.morphTargetInfluences.push(0),this.morphTargetDictionary[J]=I}}}}}class k3 extends JQ{constructor(A,Q,E,B,I,K,J,C,U){super(A,Q,E,B,I,K,J,C,U);this.isVideoTexture=!0,this.minFilter=K!==void 0?K:1006,this.magFilter=I!==void 0?I:1006,this.generateMipmaps=!1;const Y=this;function H(){Y.needsUpdate=!0,A.requestVideoFrameCallback(H)}if("requestVideoFrameCallback"in A)A.requestVideoFrameCallback(H)}clone(){return new this.constructor(this.image).copy(this)}update(){const A=this.image;if("requestVideoFrameCallback"in A===!1&&A.readyState>=A.HAVE_CURRENT_DATA)this.needsUpdate=!0}}class p9 extends JQ{constructor(A,Q){super({width:A,height:Q});this.isFramebufferTexture=!0,this.magFilter=1003,this.minFilter=1003,this.generateMipmaps=!1,this.needsUpdate=!0}}class $E extends JQ{constructor(A,Q,E,B,I,K,J,C,U,Y,H,R){super(null,K,J,C,U,Y,B,I,H,R);this.isCompressedTexture=!0,this.image={width:Q,height:E},this.mipmaps=A,this.flipY=!1,this.generateMipmaps=!1}}class p5 extends $E{constructor(A,Q,E,B,I,K){super(A,Q,E,I,K);this.isCompressedArrayTexture=!0,this.image.depth=B,this.wrapR=1001,this.layerUpdates=/*@__PURE__*/new Set}addLayerUpdate(A){this.layerUpdates.add(A)}clearLayerUpdates(){this.layerUpdates.clear()}}class m5 extends $E{constructor(A,Q,E){super(void 0,A[0].width,A[0].height,Q,E,301);this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=A}}class c8 extends JQ{constructor(A,Q,E,B,I,K,J,C,U){super(A,Q,E,B,I,K,J,C,U);this.isCanvasTexture=!0,this.needsUpdate=!0}}class q1{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(A,Q){const E=this.getUtoTmapping(A);return this.getPoint(E,Q)}getPoints(A=5){const Q=[];for(let E=0;E<=A;E++)Q.push(this.getPoint(E/A));return Q}getSpacedPoints(A=5){const Q=[];for(let E=0;E<=A;E++)Q.push(this.getPointAt(E/A));return Q}getLength(){const A=this.getLengths();return A[A.length-1]}getLengths(A=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===A+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const Q=[];let E,B=this.getPoint(0),I=0;Q.push(0);for(let K=1;K<=A;K++)E=this.getPoint(K/A),I+=E.distanceTo(B),Q.push(I),B=E;return this.cacheArcLengths=Q,Q}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(A,Q){const E=this.getLengths();let B=0;const I=E.length;let K;if(Q)K=Q;else K=A*E[I-1];let J=0,C=I-1,U;while(J<=C)if(B=Math.floor(J+(C-J)/2),U=E[B]-K,U<0)J=B+1;else if(U>0)C=B-1;else{C=B;break}if(B=C,E[B]===K)return B/(I-1);const Y=E[B],R=E[B+1]-Y,G=(K-Y)/R;return(B+G)/(I-1)}getTangent(A,Q){let B=A-0.0001,I=A+0.0001;if(B<0)B=0;if(I>1)I=1;const K=this.getPoint(B),J=this.getPoint(I),C=Q||(K.isVector2?new RA:new f);return C.copy(J).sub(K).normalize(),C}getTangentAt(A,Q){const E=this.getUtoTmapping(A);return this.getTangent(E,Q)}computeFrenetFrames(A,Q){const E=new f,B=[],I=[],K=[],J=new f,C=new MA;for(let G=0;G<=A;G++){const O=G/A;B[G]=this.getTangentAt(O,new f)}I[0]=new f,K[0]=new f;let U=Number.MAX_VALUE;const Y=Math.abs(B[0].x),H=Math.abs(B[0].y),R=Math.abs(B[0].z);if(Y<=U)U=Y,E.set(1,0,0);if(H<=U)U=H,E.set(0,1,0);if(R<=U)E.set(0,0,1);J.crossVectors(B[0],E).normalize(),I[0].crossVectors(B[0],J),K[0].crossVectors(B[0],I[0]);for(let G=1;G<=A;G++){if(I[G]=I[G-1].clone(),K[G]=K[G-1].clone(),J.crossVectors(B[G-1],B[G]),J.length()>Number.EPSILON){J.normalize();const O=Math.acos(jQ(B[G-1].dot(B[G]),-1,1));I[G].applyMatrix4(C.makeRotationAxis(J,O))}K[G].crossVectors(B[G],I[G])}if(Q===!0){let G=Math.acos(jQ(I[0].dot(I[A]),-1,1));if(G/=A,B[0].dot(J.crossVectors(I[0],I[A]))>0)G=-G;for(let O=1;O<=A;O++)I[O].applyMatrix4(C.makeRotationAxis(B[O],G*O)),K[O].crossVectors(B[O],I[O])}return{tangents:B,normals:I,binormals:K}}clone(){return new this.constructor().copy(this)}copy(A){return this.arcLengthDivisions=A.arcLengthDivisions,this}toJSON(){const A={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return A.arcLengthDivisions=this.arcLengthDivisions,A.type=this.type,A}fromJSON(A){return this.arcLengthDivisions=A.arcLengthDivisions,this}}class VK extends q1{constructor(A=0,Q=0,E=1,B=1,I=0,K=Math.PI*2,J=!1,C=0){super();this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=A,this.aY=Q,this.xRadius=E,this.yRadius=B,this.aStartAngle=I,this.aEndAngle=K,this.aClockwise=J,this.aRotation=C}getPoint(A,Q=new RA){const E=Q,B=Math.PI*2;let I=this.aEndAngle-this.aStartAngle;const K=Math.abs(I)<Number.EPSILON;while(I<0)I+=B;while(I>B)I-=B;if(I<Number.EPSILON)if(K)I=0;else I=B;if(this.aClockwise===!0&&!K)if(I===B)I=-B;else I=I-B;const J=this.aStartAngle+A*I;let C=this.aX+this.xRadius*Math.cos(J),U=this.aY+this.yRadius*Math.sin(J);if(this.aRotation!==0){const Y=Math.cos(this.aRotation),H=Math.sin(this.aRotation),R=C-this.aX,G=U-this.aY;C=R*Y-G*H+this.aX,U=R*H+G*Y+this.aY}return E.set(C,U)}copy(A){return super.copy(A),this.aX=A.aX,this.aY=A.aY,this.xRadius=A.xRadius,this.yRadius=A.yRadius,this.aStartAngle=A.aStartAngle,this.aEndAngle=A.aEndAngle,this.aClockwise=A.aClockwise,this.aRotation=A.aRotation,this}toJSON(){const A=super.toJSON();return A.aX=this.aX,A.aY=this.aY,A.xRadius=this.xRadius,A.yRadius=this.yRadius,A.aStartAngle=this.aStartAngle,A.aEndAngle=this.aEndAngle,A.aClockwise=this.aClockwise,A.aRotation=this.aRotation,A}fromJSON(A){return super.fromJSON(A),this.aX=A.aX,this.aY=A.aY,this.xRadius=A.xRadius,this.yRadius=A.yRadius,this.aStartAngle=A.aStartAngle,this.aEndAngle=A.aEndAngle,this.aClockwise=A.aClockwise,this.aRotation=A.aRotation,this}}class CO extends VK{constructor(A,Q,E,B,I,K){super(A,Q,E,E,B,I,K);this.isArcCurve=!0,this.type="ArcCurve"}}var U5=/*@__PURE__*/new f,zR=/*@__PURE__*/new UO,VR=/*@__PURE__*/new UO,TR=/*@__PURE__*/new UO;class YO extends q1{constructor(A=[],Q=!1,E="centripetal",B=0.5){super();this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=A,this.closed=Q,this.curveType=E,this.tension=B}getPoint(A,Q=new f){const E=Q,B=this.points,I=B.length,K=(I-(this.closed?0:1))*A;let J=Math.floor(K),C=K-J;if(this.closed)J+=J>0?0:(Math.floor(Math.abs(J)/I)+1)*I;else if(C===0&&J===I-1)J=I-2,C=1;let U,Y;if(this.closed||J>0)U=B[(J-1)%I];else U5.subVectors(B[0],B[1]).add(B[0]),U=U5;const H=B[J%I],R=B[(J+1)%I];if(this.closed||J+2<I)Y=B[(J+2)%I];else U5.subVectors(B[I-1],B[I-2]).add(B[I-1]),Y=U5;if(this.curveType==="centripetal"||this.curveType==="chordal"){const G=this.curveType==="chordal"?0.5:0.25;let O=Math.pow(U.distanceToSquared(H),G),F=Math.pow(H.distanceToSquared(R),G),q=Math.pow(R.distanceToSquared(Y),G);if(F<0.0001)F=1;if(O<0.0001)O=F;if(q<0.0001)q=F;zR.initNonuniformCatmullRom(U.x,H.x,R.x,Y.x,O,F,q),VR.initNonuniformCatmullRom(U.y,H.y,R.y,Y.y,O,F,q),TR.initNonuniformCatmullRom(U.z,H.z,R.z,Y.z,O,F,q)}else if(this.curveType==="catmullrom")zR.initCatmullRom(U.x,H.x,R.x,Y.x,this.tension),VR.initCatmullRom(U.y,H.y,R.y,Y.y,this.tension),TR.initCatmullRom(U.z,H.z,R.z,Y.z,this.tension);return E.set(zR.calc(C),VR.calc(C),TR.calc(C)),E}copy(A){super.copy(A),this.points=[];for(let Q=0,E=A.points.length;Q<E;Q++){const B=A.points[Q];this.points.push(B.clone())}return this.closed=A.closed,this.curveType=A.curveType,this.tension=A.tension,this}toJSON(){const A=super.toJSON();A.points=[];for(let Q=0,E=this.points.length;Q<E;Q++){const B=this.points[Q];A.points.push(B.toArray())}return A.closed=this.closed,A.curveType=this.curveType,A.tension=this.tension,A}fromJSON(A){super.fromJSON(A),this.points=[];for(let Q=0,E=A.points.length;Q<E;Q++){const B=A.points[Q];this.points.push(new f().fromArray(B))}return this.closed=A.closed,this.curveType=A.curveType,this.tension=A.tension,this}}class c5 extends q1{constructor(A=new RA,Q=new RA,E=new RA,B=new RA){super();this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=A,this.v1=Q,this.v2=E,this.v3=B}getPoint(A,Q=new RA){const E=Q,B=this.v0,I=this.v1,K=this.v2,J=this.v3;return E.set(N9(A,B.x,I.x,K.x,J.x),N9(A,B.y,I.y,K.y,J.y)),E}copy(A){return super.copy(A),this.v0.copy(A.v0),this.v1.copy(A.v1),this.v2.copy(A.v2),this.v3.copy(A.v3),this}toJSON(){const A=super.toJSON();return A.v0=this.v0.toArray(),A.v1=this.v1.toArray(),A.v2=this.v2.toArray(),A.v3=this.v3.toArray(),A}fromJSON(A){return super.fromJSON(A),this.v0.fromArray(A.v0),this.v1.fromArray(A.v1),this.v2.fromArray(A.v2),this.v3.fromArray(A.v3),this}}class HO extends q1{constructor(A=new f,Q=new f,E=new f,B=new f){super();this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=A,this.v1=Q,this.v2=E,this.v3=B}getPoint(A,Q=new f){const E=Q,B=this.v0,I=this.v1,K=this.v2,J=this.v3;return E.set(N9(A,B.x,I.x,K.x,J.x),N9(A,B.y,I.y,K.y,J.y),N9(A,B.z,I.z,K.z,J.z)),E}copy(A){return super.copy(A),this.v0.copy(A.v0),this.v1.copy(A.v1),this.v2.copy(A.v2),this.v3.copy(A.v3),this}toJSON(){const A=super.toJSON();return A.v0=this.v0.toArray(),A.v1=this.v1.toArray(),A.v2=this.v2.toArray(),A.v3=this.v3.toArray(),A}fromJSON(A){return super.fromJSON(A),this.v0.fromArray(A.v0),this.v1.fromArray(A.v1),this.v2.fromArray(A.v2),this.v3.fromArray(A.v3),this}}class d5 extends q1{constructor(A=new RA,Q=new RA){super();this.isLineCurve=!0,this.type="LineCurve",this.v1=A,this.v2=Q}getPoint(A,Q=new RA){const E=Q;if(A===1)E.copy(this.v2);else E.copy(this.v2).sub(this.v1),E.multiplyScalar(A).add(this.v1);return E}getPointAt(A,Q){return this.getPoint(A,Q)}getTangent(A,Q=new RA){return Q.subVectors(this.v2,this.v1).normalize()}getTangentAt(A,Q){return this.getTangent(A,Q)}copy(A){return super.copy(A),this.v1.copy(A.v1),this.v2.copy(A.v2),this}toJSON(){const A=super.toJSON();return A.v1=this.v1.toArray(),A.v2=this.v2.toArray(),A}fromJSON(A){return super.fromJSON(A),this.v1.fromArray(A.v1),this.v2.fromArray(A.v2),this}}class GO extends q1{constructor(A=new f,Q=new f){super();this.isLineCurve3=!0,this.type="LineCurve3",this.v1=A,this.v2=Q}getPoint(A,Q=new f){const E=Q;if(A===1)E.copy(this.v2);else E.copy(this.v2).sub(this.v1),E.multiplyScalar(A).add(this.v1);return E}getPointAt(A,Q){return this.getPoint(A,Q)}getTangent(A,Q=new f){return Q.subVectors(this.v2,this.v1).normalize()}getTangentAt(A,Q){return this.getTangent(A,Q)}copy(A){return super.copy(A),this.v1.copy(A.v1),this.v2.copy(A.v2),this}toJSON(){const A=super.toJSON();return A.v1=this.v1.toArray(),A.v2=this.v2.toArray(),A}fromJSON(A){return super.fromJSON(A),this.v1.fromArray(A.v1),this.v2.fromArray(A.v2),this}}class l5 extends q1{constructor(A=new RA,Q=new RA,E=new RA){super();this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=A,this.v1=Q,this.v2=E}getPoint(A,Q=new RA){const E=Q,B=this.v0,I=this.v1,K=this.v2;return E.set(q9(A,B.x,I.x,K.x),q9(A,B.y,I.y,K.y)),E}copy(A){return super.copy(A),this.v0.copy(A.v0),this.v1.copy(A.v1),this.v2.copy(A.v2),this}toJSON(){const A=super.toJSON();return A.v0=this.v0.toArray(),A.v1=this.v1.toArray(),A.v2=this.v2.toArray(),A}fromJSON(A){return super.fromJSON(A),this.v0.fromArray(A.v0),this.v1.fromArray(A.v1),this.v2.fromArray(A.v2),this}}class n5 extends q1{constructor(A=new f,Q=new f,E=new f){super();this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=A,this.v1=Q,this.v2=E}getPoint(A,Q=new f){const E=Q,B=this.v0,I=this.v1,K=this.v2;return E.set(q9(A,B.x,I.x,K.x),q9(A,B.y,I.y,K.y),q9(A,B.z,I.z,K.z)),E}copy(A){return super.copy(A),this.v0.copy(A.v0),this.v1.copy(A.v1),this.v2.copy(A.v2),this}toJSON(){const A=super.toJSON();return A.v0=this.v0.toArray(),A.v1=this.v1.toArray(),A.v2=this.v2.toArray(),A}fromJSON(A){return super.fromJSON(A),this.v0.fromArray(A.v0),this.v1.fromArray(A.v1),this.v2.fromArray(A.v2),this}}class o5 extends q1{constructor(A=[]){super();this.isSplineCurve=!0,this.type="SplineCurve",this.points=A}getPoint(A,Q=new RA){const E=Q,B=this.points,I=(B.length-1)*A,K=Math.floor(I),J=I-K,C=B[K===0?K:K-1],U=B[K],Y=B[K>B.length-2?B.length-1:K+1],H=B[K>B.length-3?B.length-1:K+2];return E.set(OM(J,C.x,U.x,Y.x,H.x),OM(J,C.y,U.y,Y.y,H.y)),E}copy(A){super.copy(A),this.points=[];for(let Q=0,E=A.points.length;Q<E;Q++){const B=A.points[Q];this.points.push(B.clone())}return this}toJSON(){const A=super.toJSON();A.points=[];for(let Q=0,E=this.points.length;Q<E;Q++){const B=this.points[Q];A.points.push(B.toArray())}return A}fromJSON(A){super.fromJSON(A),this.points=[];for(let Q=0,E=A.points.length;Q<E;Q++){const B=A.points[Q];this.points.push(new RA().fromArray(B))}return this}}var V5=/*@__PURE__*/Object.freeze({__proto__:null,ArcCurve:CO,CatmullRomCurve3:YO,CubicBezierCurve:c5,CubicBezierCurve3:HO,EllipseCurve:VK,LineCurve:d5,LineCurve3:GO,QuadraticBezierCurve:l5,QuadraticBezierCurve3:n5,SplineCurve:o5});class ZO extends q1{constructor(){super();this.type="CurvePath",this.curves=[],this.autoClose=!1}add(A){this.curves.push(A)}closePath(){const A=this.curves[0].getPoint(0),Q=this.curves[this.curves.length-1].getPoint(1);if(!A.equals(Q)){const E=A.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new V5[E](Q,A))}return this}getPoint(A,Q){const E=A*this.getLength(),B=this.getCurveLengths();let I=0;while(I<B.length){if(B[I]>=E){const K=B[I]-E,J=this.curves[I],C=J.getLength(),U=C===0?0:1-K/C;return J.getPointAt(U,Q)}I++}return null}getLength(){const A=this.getCurveLengths();return A[A.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const A=[];let Q=0;for(let E=0,B=this.curves.length;E<B;E++)Q+=this.curves[E].getLength(),A.push(Q);return this.cacheLengths=A,A}getSpacedPoints(A=40){const Q=[];for(let E=0;E<=A;E++)Q.push(this.getPoint(E/A));if(this.autoClose)Q.push(Q[0]);return Q}getPoints(A=12){const Q=[];let E;for(let B=0,I=this.curves;B<I.length;B++){const K=I[B],J=K.isEllipseCurve?A*2:K.isLineCurve||K.isLineCurve3?1:K.isSplineCurve?A*K.points.length:A,C=K.getPoints(J);for(let U=0;U<C.length;U++){const Y=C[U];if(E&&E.equals(Y))continue;Q.push(Y),E=Y}}if(this.autoClose&&Q.length>1&&!Q[Q.length-1].equals(Q[0]))Q.push(Q[0]);return Q}copy(A){super.copy(A),this.curves=[];for(let Q=0,E=A.curves.length;Q<E;Q++){const B=A.curves[Q];this.curves.push(B.clone())}return this.autoClose=A.autoClose,this}toJSON(){const A=super.toJSON();A.autoClose=this.autoClose,A.curves=[];for(let Q=0,E=this.curves.length;Q<E;Q++){const B=this.curves[Q];A.curves.push(B.toJSON())}return A}fromJSON(A){super.fromJSON(A),this.autoClose=A.autoClose,this.curves=[];for(let Q=0,E=A.curves.length;Q<E;Q++){const B=A.curves[Q];this.curves.push(new V5[B.type]().fromJSON(B))}return this}}class mI extends ZO{constructor(A){super();if(this.type="Path",this.currentPoint=new RA,A)this.setFromPoints(A)}setFromPoints(A){this.moveTo(A[0].x,A[0].y);for(let Q=1,E=A.length;Q<E;Q++)this.lineTo(A[Q].x,A[Q].y);return this}moveTo(A,Q){return this.currentPoint.set(A,Q),this}lineTo(A,Q){const E=new d5(this.currentPoint.clone(),new RA(A,Q));return this.curves.push(E),this.currentPoint.set(A,Q),this}quadraticCurveTo(A,Q,E,B){const I=new l5(this.currentPoint.clone(),new RA(A,Q),new RA(E,B));return this.curves.push(I),this.currentPoint.set(E,B),this}bezierCurveTo(A,Q,E,B,I,K){const J=new c5(this.currentPoint.clone(),new RA(A,Q),new RA(E,B),new RA(I,K));return this.curves.push(J),this.currentPoint.set(I,K),this}splineThru(A){const Q=[this.currentPoint.clone()].concat(A),E=new o5(Q);return this.curves.push(E),this.currentPoint.copy(A[A.length-1]),this}arc(A,Q,E,B,I,K){const J=this.currentPoint.x,C=this.currentPoint.y;return this.absarc(A+J,Q+C,E,B,I,K),this}absarc(A,Q,E,B,I,K){return this.absellipse(A,Q,E,E,B,I,K),this}ellipse(A,Q,E,B,I,K,J,C){const U=this.currentPoint.x,Y=this.currentPoint.y;return this.absellipse(A+U,Q+Y,E,B,I,K,J,C),this}absellipse(A,Q,E,B,I,K,J,C){const U=new VK(A,Q,E,B,I,K,J,C);if(this.curves.length>0){const H=U.getPoint(0);if(!H.equals(this.currentPoint))this.lineTo(H.x,H.y)}this.curves.push(U);const Y=U.getPoint(1);return this.currentPoint.copy(Y),this}copy(A){return super.copy(A),this.currentPoint.copy(A.currentPoint),this}toJSON(){const A=super.toJSON();return A.currentPoint=this.currentPoint.toArray(),A}fromJSON(A){return super.fromJSON(A),this.currentPoint.fromArray(A.currentPoint),this}}class m9 extends pA{constructor(A=[new RA(0,-0.5),new RA(0.5,0),new RA(0,0.5)],Q=12,E=0,B=Math.PI*2){super();this.type="LatheGeometry",this.parameters={points:A,segments:Q,phiStart:E,phiLength:B},Q=Math.floor(Q),B=jQ(B,0,Math.PI*2);const I=[],K=[],J=[],C=[],U=[],Y=1/Q,H=new f,R=new RA,G=new f,O=new f,F=new f;let q=0,W=0;for(let Z=0;Z<=A.length-1;Z++)switch(Z){case 0:q=A[Z+1].x-A[Z].x,W=A[Z+1].y-A[Z].y,G.x=W*1,G.y=-q,G.z=W*0,F.copy(G),G.normalize(),C.push(G.x,G.y,G.z);break;case A.length-1:C.push(F.x,F.y,F.z);break;default:q=A[Z+1].x-A[Z].x,W=A[Z+1].y-A[Z].y,G.x=W*1,G.y=-q,G.z=W*0,O.copy(G),G.x+=F.x,G.y+=F.y,G.z+=F.z,G.normalize(),C.push(G.x,G.y,G.z),F.copy(O)}for(let Z=0;Z<=Q;Z++){const $=E+Z*Y*B,X=Math.sin($),N=Math.cos($);for(let M=0;M<=A.length-1;M++){H.x=A[M].x*X,H.y=A[M].y,H.z=A[M].x*N,K.push(H.x,H.y,H.z),R.x=Z/Q,R.y=M/(A.length-1),J.push(R.x,R.y);const L=C[3*M+0]*X,D=C[3*M+1],w=C[3*M+0]*N;U.push(L,D,w)}}for(let Z=0;Z<Q;Z++)for(let $=0;$<A.length-1;$++){const X=$+Z*A.length,N=X,M=X+A.length,L=X+A.length+1,D=X+1;I.push(N,M,D),I.push(L,D,M)}this.setIndex(I),this.setAttribute("position",new bA(K,3)),this.setAttribute("uv",new bA(J,2)),this.setAttribute("normal",new bA(U,3))}copy(A){return super.copy(A),this.parameters=Object.assign({},A.parameters),this}static fromJSON(A){return new m9(A.points,A.segments,A.phiStart,A.phiLength)}}class c9 extends m9{constructor(A=1,Q=1,E=4,B=8){const I=new mI;I.absarc(0,-Q/2,A,Math.PI*1.5,0),I.absarc(0,Q/2,A,0,Math.PI*0.5);super(I.getPoints(E),B);this.type="CapsuleGeometry",this.parameters={radius:A,length:Q,capSegments:E,radialSegments:B}}static fromJSON(A){return new c9(A.radius,A.length,A.capSegments,A.radialSegments)}}class i5 extends pA{constructor(A=1,Q=32,E=0,B=Math.PI*2){super();this.type="CircleGeometry",this.parameters={radius:A,segments:Q,thetaStart:E,thetaLength:B},Q=Math.max(3,Q);const I=[],K=[],J=[],C=[],U=new f,Y=new RA;K.push(0,0,0),J.push(0,0,1),C.push(0.5,0.5);for(let H=0,R=3;H<=Q;H++,R+=3){const G=E+H/Q*B;U.x=A*Math.cos(G),U.y=A*Math.sin(G),K.push(U.x,U.y,U.z),J.push(0,0,1),Y.x=(K[R]/A+1)/2,Y.y=(K[R+1]/A+1)/2,C.push(Y.x,Y.y)}for(let H=1;H<=Q;H++)I.push(H,H+1,0);this.setIndex(I),this.setAttribute("position",new bA(K,3)),this.setAttribute("normal",new bA(J,3)),this.setAttribute("uv",new bA(C,2))}copy(A){return super.copy(A),this.parameters=Object.assign({},A.parameters),this}static fromJSON(A){return new i5(A.radius,A.segments,A.thetaStart,A.thetaLength)}}class d8 extends pA{constructor(A=1,Q=1,E=1,B=32,I=1,K=!1,J=0,C=Math.PI*2){super();this.type="CylinderGeometry",this.parameters={radiusTop:A,radiusBottom:Q,height:E,radialSegments:B,heightSegments:I,openEnded:K,thetaStart:J,thetaLength:C};const U=this;B=Math.floor(B),I=Math.floor(I);const Y=[],H=[],R=[],G=[];let O=0;const F=[],q=E/2;let W=0;if(Z(),K===!1){if(A>0)$(!0);if(Q>0)$(!1)}this.setIndex(Y),this.setAttribute("position",new bA(H,3)),this.setAttribute("normal",new bA(R,3)),this.setAttribute("uv",new bA(G,2));function Z(){const X=new f,N=new f;let M=0;const L=(Q-A)/E;for(let D=0;D<=I;D++){const w=[],P=D/I,V=P*(Q-A)+A;for(let T=0;T<=B;T++){const S=T/B,h=S*C+J,x=Math.sin(h),y=Math.cos(h);N.x=V*x,N.y=-P*E+q,N.z=V*y,H.push(N.x,N.y,N.z),X.set(x,L,y).normalize(),R.push(X.x,X.y,X.z),G.push(S,1-P),w.push(O++)}F.push(w)}for(let D=0;D<B;D++)for(let w=0;w<I;w++){const P=F[w][D],V=F[w+1][D],T=F[w+1][D+1],S=F[w][D+1];if(A>0)Y.push(P,V,S),M+=3;if(Q>0)Y.push(V,T,S),M+=3}U.addGroup(W,M,0),W+=M}function $(X){const N=O,M=new RA,L=new f;let D=0;const w=X===!0?A:Q,P=X===!0?1:-1;for(let T=1;T<=B;T++)H.push(0,q*P,0),R.push(0,P,0),G.push(0.5,0.5),O++;const V=O;for(let T=0;T<=B;T++){const h=T/B*C+J,x=Math.cos(h),y=Math.sin(h);L.x=w*y,L.y=q*P,L.z=w*x,H.push(L.x,L.y,L.z),R.push(0,P,0),M.x=x*0.5+0.5,M.y=y*0.5*P+0.5,G.push(M.x,M.y),O++}for(let T=0;T<B;T++){const S=N+T,h=V+T;if(X===!0)Y.push(h,h+1,S);else Y.push(h+1,h,S);D+=3}U.addGroup(W,D,X===!0?1:2),W+=D}}copy(A){return super.copy(A),this.parameters=Object.assign({},A.parameters),this}static fromJSON(A){return new d8(A.radiusTop,A.radiusBottom,A.height,A.radialSegments,A.heightSegments,A.openEnded,A.thetaStart,A.thetaLength)}}class d9 extends d8{constructor(A=1,Q=1,E=32,B=1,I=!1,K=0,J=Math.PI*2){super(0,A,Q,E,B,I,K,J);this.type="ConeGeometry",this.parameters={radius:A,height:Q,radialSegments:E,heightSegments:B,openEnded:I,thetaStart:K,thetaLength:J}}static fromJSON(A){return new d9(A.radius,A.height,A.radialSegments,A.heightSegments,A.openEnded,A.thetaStart,A.thetaLength)}}class gB extends pA{constructor(A=[],Q=[],E=1,B=0){super();this.type="PolyhedronGeometry",this.parameters={vertices:A,indices:Q,radius:E,detail:B};const I=[],K=[];if(J(B),U(E),Y(),this.setAttribute("position",new bA(I,3)),this.setAttribute("normal",new bA(I.slice(),3)),this.setAttribute("uv",new bA(K,2)),B===0)this.computeVertexNormals();else this.normalizeNormals();function J(Z){const $=new f,X=new f,N=new f;for(let M=0;M<Q.length;M+=3)G(Q[M+0],$),G(Q[M+1],X),G(Q[M+2],N),C($,X,N,Z)}function C(Z,$,X,N){const M=N+1,L=[];for(let D=0;D<=M;D++){L[D]=[];const w=Z.clone().lerp(X,D/M),P=$.clone().lerp(X,D/M),V=M-D;for(let T=0;T<=V;T++)if(T===0&&D===M)L[D][T]=w;else L[D][T]=w.clone().lerp(P,T/V)}for(let D=0;D<M;D++)for(let w=0;w<2*(M-D)-1;w++){const P=Math.floor(w/2);if(w%2===0)R(L[D][P+1]),R(L[D+1][P]),R(L[D][P]);else R(L[D][P+1]),R(L[D+1][P+1]),R(L[D+1][P])}}function U(Z){const $=new f;for(let X=0;X<I.length;X+=3)$.x=I[X+0],$.y=I[X+1],$.z=I[X+2],$.normalize().multiplyScalar(Z),I[X+0]=$.x,I[X+1]=$.y,I[X+2]=$.z}function Y(){const Z=new f;for(let $=0;$<I.length;$+=3){Z.x=I[$+0],Z.y=I[$+1],Z.z=I[$+2];const X=q(Z)/2/Math.PI+0.5,N=W(Z)/Math.PI+0.5;K.push(X,1-N)}O(),H()}function H(){for(let Z=0;Z<K.length;Z+=6){const $=K[Z+0],X=K[Z+2],N=K[Z+4],M=Math.max($,X,N),L=Math.min($,X,N);if(M>0.9&&L<0.1){if($<0.2)K[Z+0]+=1;if(X<0.2)K[Z+2]+=1;if(N<0.2)K[Z+4]+=1}}}function R(Z){I.push(Z.x,Z.y,Z.z)}function G(Z,$){const X=Z*3;$.x=A[X+0],$.y=A[X+1],$.z=A[X+2]}function O(){const Z=new f,$=new f,X=new f,N=new f,M=new RA,L=new RA,D=new RA;for(let w=0,P=0;w<I.length;w+=9,P+=6){Z.set(I[w+0],I[w+1],I[w+2]),$.set(I[w+3],I[w+4],I[w+5]),X.set(I[w+6],I[w+7],I[w+8]),M.set(K[P+0],K[P+1]),L.set(K[P+2],K[P+3]),D.set(K[P+4],K[P+5]),N.copy(Z).add($).add(X).divideScalar(3);const V=q(N);F(M,P+0,Z,V),F(L,P+2,$,V),F(D,P+4,X,V)}}function F(Z,$,X,N){if(N<0&&Z.x===1)K[$]=Z.x-1;if(X.x===0&&X.z===0)K[$]=N/2/Math.PI+0.5}function q(Z){return Math.atan2(Z.z,-Z.x)}function W(Z){return Math.atan2(-Z.y,Math.sqrt(Z.x*Z.x+Z.z*Z.z))}}copy(A){return super.copy(A),this.parameters=Object.assign({},A.parameters),this}static fromJSON(A){return new gB(A.vertices,A.indices,A.radius,A.details)}}class s5 extends gB{constructor(A=1,Q=0){const E=(1+Math.sqrt(5))/2,B=1/E,I=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-B,-E,0,-B,E,0,B,-E,0,B,E,-B,-E,0,-B,E,0,B,-E,0,B,E,0,-E,0,-B,E,0,-B,-E,0,B,E,0,B],K=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(I,K,A,Q);this.type="DodecahedronGeometry",this.parameters={radius:A,detail:Q}}static fromJSON(A){return new s5(A.radius,A.detail)}}var Y5=/*@__PURE__*/new f,H5=/*@__PURE__*/new f,SR=/*@__PURE__*/new f,G5=/*@__PURE__*/new nQ;class RO extends pA{constructor(A=null,Q=1){super();if(this.type="EdgesGeometry",this.parameters={geometry:A,thresholdAngle:Q},A!==null){const B=Math.pow(10,4),I=Math.cos(pI*Q),K=A.getIndex(),J=A.getAttribute("position"),C=K?K.count:J.count,U=[0,0,0],Y=["a","b","c"],H=new Array(3),R={},G=[];for(let O=0;O<C;O+=3){if(K)U[0]=K.getX(O),U[1]=K.getX(O+1),U[2]=K.getX(O+2);else U[0]=O,U[1]=O+1,U[2]=O+2;const{a:F,b:q,c:W}=G5;if(F.fromBufferAttribute(J,U[0]),q.fromBufferAttribute(J,U[1]),W.fromBufferAttribute(J,U[2]),G5.getNormal(SR),H[0]=`${Math.round(F.x*B)},${Math.round(F.y*B)},${Math.round(F.z*B)}`,H[1]=`${Math.round(q.x*B)},${Math.round(q.y*B)},${Math.round(q.z*B)}`,H[2]=`${Math.round(W.x*B)},${Math.round(W.y*B)},${Math.round(W.z*B)}`,H[0]===H[1]||H[1]===H[2]||H[2]===H[0])continue;for(let Z=0;Z<3;Z++){const $=(Z+1)%3,X=H[Z],N=H[$],M=G5[Y[Z]],L=G5[Y[$]],D=`${X}_${N}`,w=`${N}_${X}`;if(w in R&&R[w]){if(SR.dot(R[w].normal)<=I)G.push(M.x,M.y,M.z),G.push(L.x,L.y,L.z);R[w]=null}else if(!(D in R))R[D]={index0:U[Z],index1:U[$],normal:SR.clone()}}}for(let O in R)if(R[O]){const{index0:F,index1:q}=R[O];Y5.fromBufferAttribute(J,F),H5.fromBufferAttribute(J,q),G.push(Y5.x,Y5.y,Y5.z),G.push(H5.x,H5.y,H5.z)}this.setAttribute("position",new bA(G,3))}}copy(A){return super.copy(A),this.parameters=Object.assign({},A.parameters),this}}class g8 extends mI{constructor(A){super(A);this.uuid=l1(),this.type="Shape",this.holes=[]}getPointsHoles(A){const Q=[];for(let E=0,B=this.holes.length;E<B;E++)Q[E]=this.holes[E].getPoints(A);return Q}extractPoints(A){return{shape:this.getPoints(A),holes:this.getPointsHoles(A)}}copy(A){super.copy(A),this.holes=[];for(let Q=0,E=A.holes.length;Q<E;Q++){const B=A.holes[Q];this.holes.push(B.clone())}return this}toJSON(){const A=super.toJSON();A.uuid=this.uuid,A.holes=[];for(let Q=0,E=this.holes.length;Q<E;Q++){const B=this.holes[Q];A.holes.push(B.toJSON())}return A}fromJSON(A){super.fromJSON(A),this.uuid=A.uuid,this.holes=[];for(let Q=0,E=A.holes.length;Q<E;Q++){const B=A.holes[Q];this.holes.push(new mI().fromJSON(B))}return this}}var Qo={triangulate:function(A,Q,E=2){const B=Q&&Q.length,I=B?Q[0]*E:A.length;let K=j3(A,0,I,E,!0);const J=[];if(!K||K.next===K.prev)return J;let C,U,Y,H,R,G,O;if(B)K=Jo(A,Q,K,E);if(A.length>80*E){C=Y=A[0],U=H=A[1];for(let F=E;F<I;F+=E){if(R=A[F],G=A[F+1],R<C)C=R;if(G<U)U=G;if(R>Y)Y=R;if(G>H)H=G}O=Math.max(Y-C,H-U),O=O!==0?32767/O:0}return D9(K,J,E,C,U,O,0),J}};class n1{static area(A){const Q=A.length;let E=0;for(let B=Q-1,I=0;I<Q;B=I++)E+=A[B].x*A[I].y-A[I].x*A[B].y;return E*0.5}static isClockWise(A){return n1.area(A)<0}static triangulateShape(A,Q){const E=[],B=[],I=[];WM(A),XM(E,A);let K=A.length;Q.forEach(WM);for(let C=0;C<Q.length;C++)B.push(K),K+=Q[C].length,XM(E,Q[C]);const J=Qo.triangulate(E,B);for(let C=0;C<J.length;C+=3)I.push(J.slice(C,C+3));return I}}class l9 extends pA{constructor(A=new g8([new RA(0.5,0.5),new RA(-0.5,0.5),new RA(-0.5,-0.5),new RA(0.5,-0.5)]),Q={}){super();this.type="ExtrudeGeometry",this.parameters={shapes:A,options:Q},A=Array.isArray(A)?A:[A];const E=this,B=[],I=[];for(let J=0,C=A.length;J<C;J++){const U=A[J];K(U)}this.setAttribute("position",new bA(B,3)),this.setAttribute("uv",new bA(I,2)),this.computeVertexNormals();function K(J){const C=[],U=Q.curveSegments!==void 0?Q.curveSegments:12,Y=Q.steps!==void 0?Q.steps:1,H=Q.depth!==void 0?Q.depth:1;let R=Q.bevelEnabled!==void 0?Q.bevelEnabled:!0,G=Q.bevelThickness!==void 0?Q.bevelThickness:0.2,O=Q.bevelSize!==void 0?Q.bevelSize:G-0.1,F=Q.bevelOffset!==void 0?Q.bevelOffset:0,q=Q.bevelSegments!==void 0?Q.bevelSegments:3;const W=Q.extrudePath,Z=Q.UVGenerator!==void 0?Q.UVGenerator:Fo;let $,X=!1,N,M,L,D;if(W)$=W.getSpacedPoints(Y),X=!0,R=!1,N=W.computeFrenetFrames(Y,!1),M=new f,L=new f,D=new f;if(!R)q=0,G=0,O=0,F=0;const w=J.extractPoints(U);let P=w.shape;const V=w.holes;if(!n1.isClockWise(P)){P=P.reverse();for(let IA=0,l=V.length;IA<l;IA++){const UA=V[IA];if(n1.isClockWise(UA))V[IA]=UA.reverse()}}const S=n1.triangulateShape(P,V),h=P;for(let IA=0,l=V.length;IA<l;IA++){const UA=V[IA];P=P.concat(UA)}function x(IA,l,UA){if(!l)console.error("THREE.ExtrudeGeometry: vec does not exist");return IA.clone().addScaledVector(l,UA)}const y=P.length,j=S.length;function v(IA,l,UA){let BA,n,i;const KA=IA.x-l.x,$A=IA.y-l.y,FA=UA.x-IA.x,e=UA.y-IA.y,c=KA*KA+$A*$A,HA=KA*e-$A*FA;if(Math.abs(HA)>Number.EPSILON){const XA=Math.sqrt(c),CA=Math.sqrt(FA*FA+e*e),GA=l.x-$A/XA,uA=l.y+KA/XA,z=UA.x-e/CA,k=UA.y+FA/CA,u=((z-GA)*e-(k-uA)*FA)/(KA*e-$A*FA);BA=GA+KA*u-IA.x,n=uA+$A*u-IA.y;const d=BA*BA+n*n;if(d<=2)return new RA(BA,n);else i=Math.sqrt(d/2)}else{let XA=!1;if(KA>Number.EPSILON){if(FA>Number.EPSILON)XA=!0}else if(KA<-Number.EPSILON){if(FA<-Number.EPSILON)XA=!0}else if(Math.sign($A)===Math.sign(e))XA=!0;if(XA)BA=-$A,n=KA,i=Math.sqrt(c);else BA=KA,n=$A,i=Math.sqrt(c/2)}return new RA(BA/i,n/i)}const _=[];for(let IA=0,l=h.length,UA=l-1,BA=IA+1;IA<l;IA++,UA++,BA++){if(UA===l)UA=0;if(BA===l)BA=0;_[IA]=v(h[IA],h[UA],h[BA])}const g=[];let b,p=_.concat();for(let IA=0,l=V.length;IA<l;IA++){const UA=V[IA];b=[];for(let BA=0,n=UA.length,i=n-1,KA=BA+1;BA<n;BA++,i++,KA++){if(i===n)i=0;if(KA===n)KA=0;b[BA]=v(UA[BA],UA[i],UA[KA])}g.push(b),p=p.concat(b)}for(let IA=0;IA<q;IA++){const l=IA/q,UA=G*Math.cos(l*Math.PI/2),BA=O*Math.sin(l*Math.PI/2)+F;for(let n=0,i=h.length;n<i;n++){const KA=x(h[n],_[n],BA);t(KA.x,KA.y,-UA)}for(let n=0,i=V.length;n<i;n++){const KA=V[n];b=g[n];for(let $A=0,FA=KA.length;$A<FA;$A++){const e=x(KA[$A],b[$A],BA);t(e.x,e.y,-UA)}}}const m=O+F;for(let IA=0;IA<y;IA++){const l=R?x(P[IA],p[IA],m):P[IA];if(!X)t(l.x,l.y,0);else L.copy(N.normals[0]).multiplyScalar(l.x),M.copy(N.binormals[0]).multiplyScalar(l.y),D.copy($[0]).add(L).add(M),t(D.x,D.y,D.z)}for(let IA=1;IA<=Y;IA++)for(let l=0;l<y;l++){const UA=R?x(P[l],p[l],m):P[l];if(!X)t(UA.x,UA.y,H/Y*IA);else L.copy(N.normals[IA]).multiplyScalar(UA.x),M.copy(N.binormals[IA]).multiplyScalar(UA.y),D.copy($[IA]).add(L).add(M),t(D.x,D.y,D.z)}for(let IA=q-1;IA>=0;IA--){const l=IA/q,UA=G*Math.cos(l*Math.PI/2),BA=O*Math.sin(l*Math.PI/2)+F;for(let n=0,i=h.length;n<i;n++){const KA=x(h[n],_[n],BA);t(KA.x,KA.y,H+UA)}for(let n=0,i=V.length;n<i;n++){const KA=V[n];b=g[n];for(let $A=0,FA=KA.length;$A<FA;$A++){const e=x(KA[$A],b[$A],BA);if(!X)t(e.x,e.y,H+UA);else t(e.x,e.y+$[Y-1].y,$[Y-1].x+UA)}}}o(),AA();function o(){const IA=B.length/3;if(R){let l=0,UA=y*l;for(let BA=0;BA<j;BA++){const n=S[BA];r(n[2]+UA,n[1]+UA,n[0]+UA)}l=Y+q*2,UA=y*l;for(let BA=0;BA<j;BA++){const n=S[BA];r(n[0]+UA,n[1]+UA,n[2]+UA)}}else{for(let l=0;l<j;l++){const UA=S[l];r(UA[2],UA[1],UA[0])}for(let l=0;l<j;l++){const UA=S[l];r(UA[0]+y*Y,UA[1]+y*Y,UA[2]+y*Y)}}E.addGroup(IA,B.length/3-IA,0)}function AA(){const IA=B.length/3;let l=0;s(h,l),l+=h.length;for(let UA=0,BA=V.length;UA<BA;UA++){const n=V[UA];s(n,l),l+=n.length}E.addGroup(IA,B.length/3-IA,1)}function s(IA,l){let UA=IA.length;while(--UA>=0){const BA=UA;let n=UA-1;if(n<0)n=IA.length-1;for(let i=0,KA=Y+q*2;i<KA;i++){const $A=y*i,FA=y*(i+1),e=l+BA+$A,c=l+n+$A,HA=l+n+FA,XA=l+BA+FA;EA(e,c,HA,XA)}}}function t(IA,l,UA){C.push(IA),C.push(l),C.push(UA)}function r(IA,l,UA){JA(IA),JA(l),JA(UA);const BA=B.length/3,n=Z.generateTopUV(E,B,BA-3,BA-2,BA-1);YA(n[0]),YA(n[1]),YA(n[2])}function EA(IA,l,UA,BA){JA(IA),JA(l),JA(BA),JA(l),JA(UA),JA(BA);const n=B.length/3,i=Z.generateSideWallUV(E,B,n-6,n-3,n-2,n-1);YA(i[0]),YA(i[1]),YA(i[3]),YA(i[1]),YA(i[2]),YA(i[3])}function JA(IA){B.push(C[IA*3+0]),B.push(C[IA*3+1]),B.push(C[IA*3+2])}function YA(IA){I.push(IA.x),I.push(IA.y)}}}copy(A){return super.copy(A),this.parameters=Object.assign({},A.parameters),this}toJSON(){const A=super.toJSON(),Q=this.parameters.shapes,E=this.parameters.options;return qo(Q,E,A)}static fromJSON(A,Q){const E=[];for(let I=0,K=A.shapes.length;I<K;I++){const J=Q[A.shapes[I]];E.push(J)}const B=A.options.extrudePath;if(B!==void 0)A.options.extrudePath=new V5[B.type]().fromJSON(B);return new l9(E,A.options)}}var Fo={generateTopUV:function(A,Q,E,B,I){const K=Q[E*3],J=Q[E*3+1],C=Q[B*3],U=Q[B*3+1],Y=Q[I*3],H=Q[I*3+1];return[new RA(K,J),new RA(C,U),new RA(Y,H)]},generateSideWallUV:function(A,Q,E,B,I,K){const J=Q[E*3],C=Q[E*3+1],U=Q[E*3+2],Y=Q[B*3],H=Q[B*3+1],R=Q[B*3+2],G=Q[I*3],O=Q[I*3+1],F=Q[I*3+2],q=Q[K*3],W=Q[K*3+1],Z=Q[K*3+2];if(Math.abs(C-H)<Math.abs(J-Y))return[new RA(J,1-U),new RA(Y,1-R),new RA(G,1-F),new RA(q,1-Z)];else return[new RA(C,1-U),new RA(H,1-R),new RA(O,1-F),new RA(W,1-Z)]}};class a5 extends gB{constructor(A=1,Q=0){const E=(1+Math.sqrt(5))/2,B=[-1,E,0,1,E,0,-1,-E,0,1,-E,0,0,-1,E,0,1,E,0,-1,-E,0,1,-E,E,0,-1,E,0,1,-E,0,-1,-E,0,1],I=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(B,I,A,Q);this.type="IcosahedronGeometry",this.parameters={radius:A,detail:Q}}static fromJSON(A){return new a5(A.radius,A.detail)}}class TK extends gB{constructor(A=1,Q=0){const E=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],B=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(E,B,A,Q);this.type="OctahedronGeometry",this.parameters={radius:A,detail:Q}}static fromJSON(A){return new TK(A.radius,A.detail)}}class t5 extends pA{constructor(A=0.5,Q=1,E=32,B=1,I=0,K=Math.PI*2){super();this.type="RingGeometry",this.parameters={innerRadius:A,outerRadius:Q,thetaSegments:E,phiSegments:B,thetaStart:I,thetaLength:K},E=Math.max(3,E),B=Math.max(1,B);const J=[],C=[],U=[],Y=[];let H=A;const R=(Q-A)/B,G=new f,O=new RA;for(let F=0;F<=B;F++){for(let q=0;q<=E;q++){const W=I+q/E*K;G.x=H*Math.cos(W),G.y=H*Math.sin(W),C.push(G.x,G.y,G.z),U.push(0,0,1),O.x=(G.x/Q+1)/2,O.y=(G.y/Q+1)/2,Y.push(O.x,O.y)}H+=R}for(let F=0;F<B;F++){const q=F*(E+1);for(let W=0;W<E;W++){const Z=W+q,$=Z,X=Z+E+1,N=Z+E+2,M=Z+1;J.push($,X,M),J.push(X,N,M)}}this.setIndex(J),this.setAttribute("position",new bA(C,3)),this.setAttribute("normal",new bA(U,3)),this.setAttribute("uv",new bA(Y,2))}copy(A){return super.copy(A),this.parameters=Object.assign({},A.parameters),this}static fromJSON(A){return new t5(A.innerRadius,A.outerRadius,A.thetaSegments,A.phiSegments,A.thetaStart,A.thetaLength)}}class e5 extends pA{constructor(A=new g8([new RA(0,0.5),new RA(-0.5,-0.5),new RA(0.5,-0.5)]),Q=12){super();this.type="ShapeGeometry",this.parameters={shapes:A,curveSegments:Q};const E=[],B=[],I=[],K=[];let J=0,C=0;if(Array.isArray(A)===!1)U(A);else for(let Y=0;Y<A.length;Y++)U(A[Y]),this.addGroup(J,C,Y),J+=C,C=0;this.setIndex(E),this.setAttribute("position",new bA(B,3)),this.setAttribute("normal",new bA(I,3)),this.setAttribute("uv",new bA(K,2));function U(Y){const H=B.length/3,R=Y.extractPoints(Q);let G=R.shape;const O=R.holes;if(n1.isClockWise(G)===!1)G=G.reverse();for(let q=0,W=O.length;q<W;q++){const Z=O[q];if(n1.isClockWise(Z)===!0)O[q]=Z.reverse()}const F=n1.triangulateShape(G,O);for(let q=0,W=O.length;q<W;q++){const Z=O[q];G=G.concat(Z)}for(let q=0,W=G.length;q<W;q++){const Z=G[q];B.push(Z.x,Z.y,0),I.push(0,0,1),K.push(Z.x,Z.y)}for(let q=0,W=F.length;q<W;q++){const Z=F[q],$=Z[0]+H,X=Z[1]+H,N=Z[2]+H;E.push($,X,N),C+=3}}}copy(A){return super.copy(A),this.parameters=Object.assign({},A.parameters),this}toJSON(){const A=super.toJSON(),Q=this.parameters.shapes;return No(Q,A)}static fromJSON(A,Q){const E=[];for(let B=0,I=A.shapes.length;B<I;B++){const K=Q[A.shapes[B]];E.push(K)}return new e5(E,A.curveSegments)}}class x1 extends pA{constructor(A=1,Q=32,E=16,B=0,I=Math.PI*2,K=0,J=Math.PI){super();this.type="SphereGeometry",this.parameters={radius:A,widthSegments:Q,heightSegments:E,phiStart:B,phiLength:I,thetaStart:K,thetaLength:J},Q=Math.max(3,Math.floor(Q)),E=Math.max(2,Math.floor(E));const C=Math.min(K+J,Math.PI);let U=0;const Y=[],H=new f,R=new f,G=[],O=[],F=[],q=[];for(let W=0;W<=E;W++){const Z=[],$=W/E;let X=0;if(W===0&&K===0)X=0.5/Q;else if(W===E&&C===Math.PI)X=-0.5/Q;for(let N=0;N<=Q;N++){const M=N/Q;H.x=-A*Math.cos(B+M*I)*Math.sin(K+$*J),H.y=A*Math.cos(K+$*J),H.z=A*Math.sin(B+M*I)*Math.sin(K+$*J),O.push(H.x,H.y,H.z),R.copy(H).normalize(),F.push(R.x,R.y,R.z),q.push(M+X,1-$),Z.push(U++)}Y.push(Z)}for(let W=0;W<E;W++)for(let Z=0;Z<Q;Z++){const $=Y[W][Z+1],X=Y[W][Z],N=Y[W+1][Z],M=Y[W+1][Z+1];if(W!==0||K>0)G.push($,X,M);if(W!==E-1||C<Math.PI)G.push(X,N,M)}this.setIndex(G),this.setAttribute("position",new bA(O,3)),this.setAttribute("normal",new bA(F,3)),this.setAttribute("uv",new bA(q,2))}copy(A){return super.copy(A),this.parameters=Object.assign({},A.parameters),this}static fromJSON(A){return new x1(A.radius,A.widthSegments,A.heightSegments,A.phiStart,A.phiLength,A.thetaStart,A.thetaLength)}}class AY extends gB{constructor(A=1,Q=0){const E=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],B=[2,1,0,0,3,2,1,3,0,2,3,1];super(E,B,A,Q);this.type="TetrahedronGeometry",this.parameters={radius:A,detail:Q}}static fromJSON(A){return new AY(A.radius,A.detail)}}class n9 extends pA{constructor(A=1,Q=0.4,E=12,B=48,I=Math.PI*2){super();this.type="TorusGeometry",this.parameters={radius:A,tube:Q,radialSegments:E,tubularSegments:B,arc:I},E=Math.floor(E),B=Math.floor(B);const K=[],J=[],C=[],U=[],Y=new f,H=new f,R=new f;for(let G=0;G<=E;G++)for(let O=0;O<=B;O++){const F=O/B*I,q=G/E*Math.PI*2;H.x=(A+Q*Math.cos(q))*Math.cos(F),H.y=(A+Q*Math.cos(q))*Math.sin(F),H.z=Q*Math.sin(q),J.push(H.x,H.y,H.z),Y.x=A*Math.cos(F),Y.y=A*Math.sin(F),R.subVectors(H,Y).normalize(),C.push(R.x,R.y,R.z),U.push(O/B),U.push(G/E)}for(let G=1;G<=E;G++)for(let O=1;O<=B;O++){const F=(B+1)*G+O-1,q=(B+1)*(G-1)+O-1,W=(B+1)*(G-1)+O,Z=(B+1)*G+O;K.push(F,q,Z),K.push(q,W,Z)}this.setIndex(K),this.setAttribute("position",new bA(J,3)),this.setAttribute("normal",new bA(C,3)),this.setAttribute("uv",new bA(U,2))}copy(A){return super.copy(A),this.parameters=Object.assign({},A.parameters),this}static fromJSON(A){return new n9(A.radius,A.tube,A.radialSegments,A.tubularSegments,A.arc)}}class QY extends pA{constructor(A=1,Q=0.4,E=64,B=8,I=2,K=3){super();this.type="TorusKnotGeometry",this.parameters={radius:A,tube:Q,tubularSegments:E,radialSegments:B,p:I,q:K},E=Math.floor(E),B=Math.floor(B);const J=[],C=[],U=[],Y=[],H=new f,R=new f,G=new f,O=new f,F=new f,q=new f,W=new f;for(let $=0;$<=E;++$){const X=$/E*I*Math.PI*2;Z(X,I,K,A,G),Z(X+0.01,I,K,A,O),q.subVectors(O,G),W.addVectors(O,G),F.crossVectors(q,W),W.crossVectors(F,q),F.normalize(),W.normalize();for(let N=0;N<=B;++N){const M=N/B*Math.PI*2,L=-Q*Math.cos(M),D=Q*Math.sin(M);H.x=G.x+(L*W.x+D*F.x),H.y=G.y+(L*W.y+D*F.y),H.z=G.z+(L*W.z+D*F.z),C.push(H.x,H.y,H.z),R.subVectors(H,G).normalize(),U.push(R.x,R.y,R.z),Y.push($/E),Y.push(N/B)}}for(let $=1;$<=E;$++)for(let X=1;X<=B;X++){const N=(B+1)*($-1)+(X-1),M=(B+1)*$+(X-1),L=(B+1)*$+X,D=(B+1)*($-1)+X;J.push(N,M,D),J.push(M,L,D)}this.setIndex(J),this.setAttribute("position",new bA(C,3)),this.setAttribute("normal",new bA(U,3)),this.setAttribute("uv",new bA(Y,2));function Z($,X,N,M,L){const D=Math.cos($),w=Math.sin($),P=N/X*$,V=Math.cos(P);L.x=M*(2+V)*0.5*D,L.y=M*(2+V)*w*0.5,L.z=M*Math.sin(P)*0.5}}copy(A){return super.copy(A),this.parameters=Object.assign({},A.parameters),this}static fromJSON(A){return new QY(A.radius,A.tube,A.tubularSegments,A.radialSegments,A.p,A.q)}}class EY extends pA{constructor(A=new n5(new f(-1,-1,0),new f(-1,1,0),new f(1,1,0)),Q=64,E=1,B=8,I=!1){super();this.type="TubeGeometry",this.parameters={path:A,tubularSegments:Q,radius:E,radialSegments:B,closed:I};const K=A.computeFrenetFrames(Q,I);this.tangents=K.tangents,this.normals=K.normals,this.binormals=K.binormals;const J=new f,C=new f,U=new RA;let Y=new f;const H=[],R=[],G=[],O=[];F(),this.setIndex(O),this.setAttribute("position",new bA(H,3)),this.setAttribute("normal",new bA(R,3)),this.setAttribute("uv",new bA(G,2));function F(){for(let $=0;$<Q;$++)q($);q(I===!1?Q:0),Z(),W()}function q($){Y=A.getPointAt($/Q,Y);const X=K.normals[$],N=K.binormals[$];for(let M=0;M<=B;M++){const L=M/B*Math.PI*2,D=Math.sin(L),w=-Math.cos(L);C.x=w*X.x+D*N.x,C.y=w*X.y+D*N.y,C.z=w*X.z+D*N.z,C.normalize(),R.push(C.x,C.y,C.z),J.x=Y.x+E*C.x,J.y=Y.y+E*C.y,J.z=Y.z+E*C.z,H.push(J.x,J.y,J.z)}}function W(){for(let $=1;$<=Q;$++)for(let X=1;X<=B;X++){const N=(B+1)*($-1)+(X-1),M=(B+1)*$+(X-1),L=(B+1)*$+X,D=(B+1)*($-1)+X;O.push(N,M,D),O.push(M,L,D)}}function Z(){for(let $=0;$<=Q;$++)for(let X=0;X<=B;X++)U.x=$/Q,U.y=X/B,G.push(U.x,U.y)}}copy(A){return super.copy(A),this.parameters=Object.assign({},A.parameters),this}toJSON(){const A=super.toJSON();return A.path=this.parameters.path.toJSON(),A}static fromJSON(A){return new EY(new V5[A.path.type]().fromJSON(A.path),A.tubularSegments,A.radius,A.radialSegments,A.closed)}}class o9 extends pA{constructor(A=null){super();if(this.type="WireframeGeometry",this.parameters={geometry:A},A!==null){const Q=[],E=/*@__PURE__*/new Set,B=new f,I=new f;if(A.index!==null){const K=A.attributes.position,J=A.index;let C=A.groups;if(C.length===0)C=[{start:0,count:J.count,materialIndex:0}];for(let U=0,Y=C.length;U<Y;++U){const H=C[U],R=H.start,G=H.count;for(let O=R,F=R+G;O<F;O+=3)for(let q=0;q<3;q++){const W=J.getX(O+q),Z=J.getX(O+(q+1)%3);if(B.fromBufferAttribute(K,W),I.fromBufferAttribute(K,Z),FM(B,I,E)===!0)Q.push(B.x,B.y,B.z),Q.push(I.x,I.y,I.z)}}}else{const K=A.attributes.position;for(let J=0,C=K.count/3;J<C;J++)for(let U=0;U<3;U++){const Y=3*J+U,H=3*J+(U+1)%3;if(B.fromBufferAttribute(K,Y),I.fromBufferAttribute(K,H),FM(B,I,E)===!0)Q.push(B.x,B.y,B.z),Q.push(I.x,I.y,I.z)}}this.setAttribute("position",new bA(Q,3))}}copy(A){return super.copy(A),this.parameters=Object.assign({},A.parameters),this}}var qM=/*@__PURE__*/Object.freeze({__proto__:null,BoxGeometry:uQ,CapsuleGeometry:c9,CircleGeometry:i5,ConeGeometry:d9,CylinderGeometry:d8,DodecahedronGeometry:s5,EdgesGeometry:RO,ExtrudeGeometry:l9,IcosahedronGeometry:a5,LatheGeometry:m9,OctahedronGeometry:TK,PlaneGeometry:Y1,PolyhedronGeometry:gB,RingGeometry:t5,ShapeGeometry:e5,SphereGeometry:x1,TetrahedronGeometry:AY,TorusGeometry:n9,TorusKnotGeometry:QY,TubeGeometry:EY,WireframeGeometry:o9});class OO extends yQ{constructor(A){super();this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new WA(0),this.transparent=!0,this.fog=!0,this.setValues(A)}copy(A){return super.copy(A),this.color.copy(A.color),this.fog=A.fog,this}}class bB extends cA{constructor(A){super(A);this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class LQ extends yQ{constructor(A){super();this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new WA(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new WA(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new RA(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new vQ,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(A)}copy(A){return super.copy(A),this.defines={STANDARD:""},this.color.copy(A.color),this.roughness=A.roughness,this.metalness=A.metalness,this.map=A.map,this.lightMap=A.lightMap,this.lightMapIntensity=A.lightMapIntensity,this.aoMap=A.aoMap,this.aoMapIntensity=A.aoMapIntensity,this.emissive.copy(A.emissive),this.emissiveMap=A.emissiveMap,this.emissiveIntensity=A.emissiveIntensity,this.bumpMap=A.bumpMap,this.bumpScale=A.bumpScale,this.normalMap=A.normalMap,this.normalMapType=A.normalMapType,this.normalScale.copy(A.normalScale),this.displacementMap=A.displacementMap,this.displacementScale=A.displacementScale,this.displacementBias=A.displacementBias,this.roughnessMap=A.roughnessMap,this.metalnessMap=A.metalnessMap,this.alphaMap=A.alphaMap,this.envMap=A.envMap,this.envMapRotation.copy(A.envMapRotation),this.envMapIntensity=A.envMapIntensity,this.wireframe=A.wireframe,this.wireframeLinewidth=A.wireframeLinewidth,this.wireframeLinecap=A.wireframeLinecap,this.wireframeLinejoin=A.wireframeLinejoin,this.flatShading=A.flatShading,this.fog=A.fog,this}}class H1 extends LQ{constructor(A){super();this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new RA(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return jQ(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(Q){this.ior=(1+0.4*Q)/(1-0.4*Q)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new WA(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new WA(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new WA(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(A)}get anisotropy(){return this._anisotropy}set anisotropy(A){if(this._anisotropy>0!==A>0)this.version++;this._anisotropy=A}get clearcoat(){return this._clearcoat}set clearcoat(A){if(this._clearcoat>0!==A>0)this.version++;this._clearcoat=A}get iridescence(){return this._iridescence}set iridescence(A){if(this._iridescence>0!==A>0)this.version++;this._iridescence=A}get dispersion(){return this._dispersion}set dispersion(A){if(this._dispersion>0!==A>0)this.version++;this._dispersion=A}get sheen(){return this._sheen}set sheen(A){if(this._sheen>0!==A>0)this.version++;this._sheen=A}get transmission(){return this._transmission}set transmission(A){if(this._transmission>0!==A>0)this.version++;this._transmission=A}copy(A){return super.copy(A),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=A.anisotropy,this.anisotropyRotation=A.anisotropyRotation,this.anisotropyMap=A.anisotropyMap,this.clearcoat=A.clearcoat,this.clearcoatMap=A.clearcoatMap,this.clearcoatRoughness=A.clearcoatRoughness,this.clearcoatRoughnessMap=A.clearcoatRoughnessMap,this.clearcoatNormalMap=A.clearcoatNormalMap,this.clearcoatNormalScale.copy(A.clearcoatNormalScale),this.dispersion=A.dispersion,this.ior=A.ior,this.iridescence=A.iridescence,this.iridescenceMap=A.iridescenceMap,this.iridescenceIOR=A.iridescenceIOR,this.iridescenceThicknessRange=[...A.iridescenceThicknessRange],this.iridescenceThicknessMap=A.iridescenceThicknessMap,this.sheen=A.sheen,this.sheenColor.copy(A.sheenColor),this.sheenColorMap=A.sheenColorMap,this.sheenRoughness=A.sheenRoughness,this.sheenRoughnessMap=A.sheenRoughnessMap,this.transmission=A.transmission,this.transmissionMap=A.transmissionMap,this.thickness=A.thickness,this.thicknessMap=A.thicknessMap,this.attenuationDistance=A.attenuationDistance,this.attenuationColor.copy(A.attenuationColor),this.specularIntensity=A.specularIntensity,this.specularIntensityMap=A.specularIntensityMap,this.specularColor.copy(A.specularColor),this.specularColorMap=A.specularColorMap,this}}class r1 extends yQ{constructor(A){super();this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new WA(16777215),this.specular=new WA(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new WA(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new RA(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new vQ,this.combine=0,this.reflectivity=1,this.refractionRatio=0.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(A)}copy(A){return super.copy(A),this.color.copy(A.color),this.specular.copy(A.specular),this.shininess=A.shininess,this.map=A.map,this.lightMap=A.lightMap,this.lightMapIntensity=A.lightMapIntensity,this.aoMap=A.aoMap,this.aoMapIntensity=A.aoMapIntensity,this.emissive.copy(A.emissive),this.emissiveMap=A.emissiveMap,this.emissiveIntensity=A.emissiveIntensity,this.bumpMap=A.bumpMap,this.bumpScale=A.bumpScale,this.normalMap=A.normalMap,this.normalMapType=A.normalMapType,this.normalScale.copy(A.normalScale),this.displacementMap=A.displacementMap,this.displacementScale=A.displacementScale,this.displacementBias=A.displacementBias,this.specularMap=A.specularMap,this.alphaMap=A.alphaMap,this.envMap=A.envMap,this.envMapRotation.copy(A.envMapRotation),this.combine=A.combine,this.reflectivity=A.reflectivity,this.refractionRatio=A.refractionRatio,this.wireframe=A.wireframe,this.wireframeLinewidth=A.wireframeLinewidth,this.wireframeLinecap=A.wireframeLinecap,this.wireframeLinejoin=A.wireframeLinejoin,this.flatShading=A.flatShading,this.fog=A.fog,this}}class $O extends yQ{constructor(A){super();this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new WA(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new WA(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new RA(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(A)}copy(A){return super.copy(A),this.color.copy(A.color),this.map=A.map,this.gradientMap=A.gradientMap,this.lightMap=A.lightMap,this.lightMapIntensity=A.lightMapIntensity,this.aoMap=A.aoMap,this.aoMapIntensity=A.aoMapIntensity,this.emissive.copy(A.emissive),this.emissiveMap=A.emissiveMap,this.emissiveIntensity=A.emissiveIntensity,this.bumpMap=A.bumpMap,this.bumpScale=A.bumpScale,this.normalMap=A.normalMap,this.normalMapType=A.normalMapType,this.normalScale.copy(A.normalScale),this.displacementMap=A.displacementMap,this.displacementScale=A.displacementScale,this.displacementBias=A.displacementBias,this.alphaMap=A.alphaMap,this.wireframe=A.wireframe,this.wireframeLinewidth=A.wireframeLinewidth,this.wireframeLinecap=A.wireframeLinecap,this.wireframeLinejoin=A.wireframeLinejoin,this.fog=A.fog,this}}class WE extends yQ{constructor(A){super();this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new RA(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(A)}copy(A){return super.copy(A),this.bumpMap=A.bumpMap,this.bumpScale=A.bumpScale,this.normalMap=A.normalMap,this.normalMapType=A.normalMapType,this.normalScale.copy(A.normalScale),this.displacementMap=A.displacementMap,this.displacementScale=A.displacementScale,this.displacementBias=A.displacementBias,this.wireframe=A.wireframe,this.wireframeLinewidth=A.wireframeLinewidth,this.flatShading=A.flatShading,this}}class fB extends yQ{constructor(A){super();this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new WA(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new WA(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new RA(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new vQ,this.combine=0,this.reflectivity=1,this.refractionRatio=0.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(A)}copy(A){return super.copy(A),this.color.copy(A.color),this.map=A.map,this.lightMap=A.lightMap,this.lightMapIntensity=A.lightMapIntensity,this.aoMap=A.aoMap,this.aoMapIntensity=A.aoMapIntensity,this.emissive.copy(A.emissive),this.emissiveMap=A.emissiveMap,this.emissiveIntensity=A.emissiveIntensity,this.bumpMap=A.bumpMap,this.bumpScale=A.bumpScale,this.normalMap=A.normalMap,this.normalMapType=A.normalMapType,this.normalScale.copy(A.normalScale),this.displacementMap=A.displacementMap,this.displacementScale=A.displacementScale,this.displacementBias=A.displacementBias,this.specularMap=A.specularMap,this.alphaMap=A.alphaMap,this.envMap=A.envMap,this.envMapRotation.copy(A.envMapRotation),this.combine=A.combine,this.reflectivity=A.reflectivity,this.refractionRatio=A.refractionRatio,this.wireframe=A.wireframe,this.wireframeLinewidth=A.wireframeLinewidth,this.wireframeLinecap=A.wireframeLinecap,this.wireframeLinejoin=A.wireframeLinejoin,this.flatShading=A.flatShading,this.fog=A.fog,this}}class WO extends yQ{constructor(A){super();this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new WA(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new RA(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(A)}copy(A){return super.copy(A),this.defines={MATCAP:""},this.color.copy(A.color),this.matcap=A.matcap,this.map=A.map,this.bumpMap=A.bumpMap,this.bumpScale=A.bumpScale,this.normalMap=A.normalMap,this.normalMapType=A.normalMapType,this.normalScale.copy(A.normalScale),this.displacementMap=A.displacementMap,this.displacementScale=A.displacementScale,this.displacementBias=A.displacementBias,this.alphaMap=A.alphaMap,this.flatShading=A.flatShading,this.fog=A.fog,this}}class XO extends g0{constructor(A){super();this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(A)}copy(A){return super.copy(A),this.scale=A.scale,this.dashSize=A.dashSize,this.gapSize=A.gapSize,this}}var Mo={convertArray:uI,isTypedArray:y3,getKeyframeOrder:x3,sortedArray:bR,flattenJSON:FO,subclip:Lo,makeClipAdditive:Do};class l8{constructor(A,Q,E,B){this.parameterPositions=A,this._cachedIndex=0,this.resultBuffer=B!==void 0?B:new Q.constructor(E),this.sampleValues=Q,this.valueSize=E,this.settings=null,this.DefaultSettings_={}}evaluate(A){const Q=this.parameterPositions;let E=this._cachedIndex,B=Q[E],I=Q[E-1];A:{Q:{let K;E:{B:if(!(A<B)){for(let J=E+2;;){if(B===void 0){if(A<I)break B;return E=Q.length,this._cachedIndex=E,this.copySampleValue_(E-1)}if(E===J)break;if(I=B,B=Q[++E],A<B)break Q}K=Q.length;break E}if(!(A>=I)){const J=Q[1];if(A<J)E=2,I=J;for(let C=E-2;;){if(I===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(E===C)break;if(B=I,I=Q[--E-1],A>=I)break Q}K=E,E=0;break E}break A}while(E<K){const J=E+K>>>1;if(A<Q[J])K=J;else E=J+1}if(B=Q[E],I=Q[E-1],I===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(B===void 0)return E=Q.length,this._cachedIndex=E,this.copySampleValue_(E-1)}this._cachedIndex=E,this.intervalChanged_(E,I,B)}return this.interpolate_(E,I,A,B)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(A){const Q=this.resultBuffer,E=this.sampleValues,B=this.valueSize,I=A*B;for(let K=0;K!==B;++K)Q[K]=E[I+K];return Q}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class qO extends l8{constructor(A,Q,E,B){super(A,Q,E,B);this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(A,Q,E){const B=this.parameterPositions;let I=A-2,K=A+1,J=B[I],C=B[K];if(J===void 0)switch(this.getSettings_().endingStart){case 2401:I=A,J=2*Q-E;break;case 2402:I=B.length-2,J=Q+B[I]-B[I+1];break;default:I=A,J=E}if(C===void 0)switch(this.getSettings_().endingEnd){case 2401:K=A,C=2*E-Q;break;case 2402:K=1,C=E+B[1]-B[0];break;default:K=A-1,C=Q}const U=(E-Q)*0.5,Y=this.valueSize;this._weightPrev=U/(Q-J),this._weightNext=U/(C-E),this._offsetPrev=I*Y,this._offsetNext=K*Y}interpolate_(A,Q,E,B){const I=this.resultBuffer,K=this.sampleValues,J=this.valueSize,C=A*J,U=C-J,Y=this._offsetPrev,H=this._offsetNext,R=this._weightPrev,G=this._weightNext,O=(E-Q)/(B-Q),F=O*O,q=F*O,W=-R*q+2*R*F-R*O,Z=(1+R)*q+(-1.5-2*R)*F+(-0.5+R)*O+1,$=(-1-G)*q+(1.5+G)*F+0.5*O,X=G*q-G*F;for(let N=0;N!==J;++N)I[N]=W*K[Y+N]+Z*K[U+N]+$*K[C+N]+X*K[H+N];return I}}class BY extends l8{constructor(A,Q,E,B){super(A,Q,E,B)}interpolate_(A,Q,E,B){const I=this.resultBuffer,K=this.sampleValues,J=this.valueSize,C=A*J,U=C-J,Y=(E-Q)/(B-Q),H=1-Y;for(let R=0;R!==J;++R)I[R]=K[U+R]*H+K[C+R]*Y;return I}}class NO extends l8{constructor(A,Q,E,B){super(A,Q,E,B)}interpolate_(A){return this.copySampleValue_(A-1)}}class XE{constructor(A,Q,E,B){if(A===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(Q===void 0||Q.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+A);this.name=A,this.times=uI(Q,this.TimeBufferType),this.values=uI(E,this.ValueBufferType),this.setInterpolation(B||this.DefaultInterpolation)}static toJSON(A){const Q=A.constructor;let E;if(Q.toJSON!==this.toJSON)E=Q.toJSON(A);else{E={name:A.name,times:uI(A.times,Array),values:uI(A.values,Array)};const B=A.getInterpolation();if(B!==A.DefaultInterpolation)E.interpolation=B}return E.type=A.ValueTypeName,E}InterpolantFactoryMethodDiscrete(A){return new NO(this.times,this.values,this.getValueSize(),A)}InterpolantFactoryMethodLinear(A){return new BY(this.times,this.values,this.getValueSize(),A)}InterpolantFactoryMethodSmooth(A){return new qO(this.times,this.values,this.getValueSize(),A)}setInterpolation(A){let Q;switch(A){case 2300:Q=this.InterpolantFactoryMethodDiscrete;break;case 2301:Q=this.InterpolantFactoryMethodLinear;break;case 2302:Q=this.InterpolantFactoryMethodSmooth;break}if(Q===void 0){const E="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(A!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(E);return console.warn("THREE.KeyframeTrack:",E),this}return this.createInterpolant=Q,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(A){if(A!==0){const Q=this.times;for(let E=0,B=Q.length;E!==B;++E)Q[E]+=A}return this}scale(A){if(A!==1){const Q=this.times;for(let E=0,B=Q.length;E!==B;++E)Q[E]*=A}return this}trim(A,Q){const E=this.times,B=E.length;let I=0,K=B-1;while(I!==B&&E[I]<A)++I;while(K!==-1&&E[K]>Q)--K;if(++K,I!==0||K!==B){if(I>=K)K=Math.max(K,1),I=K-1;const J=this.getValueSize();this.times=E.slice(I,K),this.values=this.values.slice(I*J,K*J)}return this}validate(){let A=!0;const Q=this.getValueSize();if(Q-Math.floor(Q)!==0)console.error("THREE.KeyframeTrack: Invalid value size in track.",this),A=!1;const E=this.times,B=this.values,I=E.length;if(I===0)console.error("THREE.KeyframeTrack: Track is empty.",this),A=!1;let K=null;for(let J=0;J!==I;J++){const C=E[J];if(typeof C==="number"&&isNaN(C)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,J,C),A=!1;break}if(K!==null&&K>C){console.error("THREE.KeyframeTrack: Out of order keys.",this,J,C,K),A=!1;break}K=C}if(B!==void 0){if(y3(B))for(let J=0,C=B.length;J!==C;++J){const U=B[J];if(isNaN(U)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,J,U),A=!1;break}}}return A}optimize(){const A=this.times.slice(),Q=this.values.slice(),E=this.getValueSize(),B=this.getInterpolation()===2302,I=A.length-1;let K=1;for(let J=1;J<I;++J){let C=!1;const U=A[J],Y=A[J+1];if(U!==Y&&(J!==1||U!==A[0]))if(!B){const H=J*E,R=H-E,G=H+E;for(let O=0;O!==E;++O){const F=Q[H+O];if(F!==Q[R+O]||F!==Q[G+O]){C=!0;break}}}else C=!0;if(C){if(J!==K){A[K]=A[J];const H=J*E,R=K*E;for(let G=0;G!==E;++G)Q[R+G]=Q[H+G]}++K}}if(I>0){A[K]=A[I];for(let J=I*E,C=K*E,U=0;U!==E;++U)Q[C+U]=Q[J+U];++K}if(K!==A.length)this.times=A.slice(0,K),this.values=Q.slice(0,K*E);else this.times=A,this.values=Q;return this}clone(){const A=this.times.slice(),Q=this.values.slice(),B=new this.constructor(this.name,A,Q);return B.createInterpolant=this.createInterpolant,B}}XE.prototype.TimeBufferType=Float32Array;XE.prototype.ValueBufferType=Float32Array;XE.prototype.DefaultInterpolation=2301;class n8 extends XE{constructor(A,Q,E){super(A,Q,E)}}n8.prototype.ValueTypeName="bool";n8.prototype.ValueBufferType=Array;n8.prototype.DefaultInterpolation=2300;n8.prototype.InterpolantFactoryMethodLinear=void 0;n8.prototype.InterpolantFactoryMethodSmooth=void 0;class i9 extends XE{}i9.prototype.ValueTypeName="color";class o1 extends XE{}o1.prototype.ValueTypeName="number";class LO extends l8{constructor(A,Q,E,B){super(A,Q,E,B)}interpolate_(A,Q,E,B){const I=this.resultBuffer,K=this.sampleValues,J=this.valueSize,C=(E-Q)/(B-Q);let U=A*J;for(let Y=U+J;U!==Y;U+=4)C0.slerpFlat(I,0,K,U-J,K,U,C);return I}}class g1 extends XE{InterpolantFactoryMethodLinear(A){return new LO(this.times,this.values,this.getValueSize(),A)}}g1.prototype.ValueTypeName="quaternion";g1.prototype.InterpolantFactoryMethodSmooth=void 0;class uB extends XE{constructor(A,Q,E){super(A,Q,E)}}uB.prototype.ValueTypeName="string";uB.prototype.ValueBufferType=Array;uB.prototype.DefaultInterpolation=2300;uB.prototype.InterpolantFactoryMethodLinear=void 0;uB.prototype.InterpolantFactoryMethodSmooth=void 0;class z1 extends XE{}z1.prototype.ValueTypeName="vector";class U1{constructor(A="",Q=-1,E=[],B=2500){if(this.name=A,this.tracks=E,this.duration=Q,this.blendMode=B,this.uuid=l1(),this.duration<0)this.resetDuration()}static parse(A){const Q=[],E=A.tracks,B=1/(A.fps||1);for(let K=0,J=E.length;K!==J;++K)Q.push(zo(E[K]).scale(B));const I=new this(A.name,A.duration,Q,A.blendMode);return I.uuid=A.uuid,I}static toJSON(A){const Q=[],E=A.tracks,B={name:A.name,duration:A.duration,tracks:Q,uuid:A.uuid,blendMode:A.blendMode};for(let I=0,K=E.length;I!==K;++I)Q.push(XE.toJSON(E[I]));return B}static CreateFromMorphTargetSequence(A,Q,E,B){const I=Q.length,K=[];for(let J=0;J<I;J++){let C=[],U=[];C.push((J+I-1)%I,J,(J+1)%I),U.push(0,1,0);const Y=x3(C);if(C=bR(C,1,Y),U=bR(U,1,Y),!B&&C[0]===0)C.push(I),U.push(U[0]);K.push(new o1(".morphTargetInfluences["+Q[J].name+"]",C,U).scale(1/E))}return new this(A,-1,K)}static findByName(A,Q){let E=A;if(!Array.isArray(A)){const B=A;E=B.geometry&&B.geometry.animations||B.animations}for(let B=0;B<E.length;B++)if(E[B].name===Q)return E[B];return null}static CreateClipsFromMorphTargetSequences(A,Q,E){const B={},I=/^([\w-]*?)([\d]+)$/;for(let J=0,C=A.length;J<C;J++){const U=A[J],Y=U.name.match(I);if(Y&&Y.length>1){const H=Y[1];let R=B[H];if(!R)B[H]=R=[];R.push(U)}}const K=[];for(let J in B)K.push(this.CreateFromMorphTargetSequence(J,B[J],Q,E));return K}static parseAnimation(A,Q){if(!A)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const E=function(H,R,G,O,F){if(G.length!==0){const q=[],W=[];if(FO(G,q,W,O),q.length!==0)F.push(new H(R,q,W))}},B=[],I=A.name||"default",K=A.fps||30,J=A.blendMode;let C=A.length||-1;const U=A.hierarchy||[];for(let H=0;H<U.length;H++){const R=U[H].keys;if(!R||R.length===0)continue;if(R[0].morphTargets){const G={};let O;for(O=0;O<R.length;O++)if(R[O].morphTargets)for(let F=0;F<R[O].morphTargets.length;F++)G[R[O].morphTargets[F]]=-1;for(let F in G){const q=[],W=[];for(let Z=0;Z!==R[O].morphTargets.length;++Z){const $=R[O];q.push($.time),W.push($.morphTarget===F?1:0)}B.push(new o1(".morphTargetInfluence["+F+"]",q,W))}C=G.length*K}else{const G=".bones["+Q[H].name+"]";E(z1,G+".position",R,"pos",B),E(g1,G+".quaternion",R,"rot",B),E(z1,G+".scale",R,"scl",B)}}if(B.length===0)return null;return new this(I,C,B,J)}resetDuration(){const A=this.tracks;let Q=0;for(let E=0,B=A.length;E!==B;++E){const I=this.tracks[E];Q=Math.max(Q,I.times[I.times.length-1])}return this.duration=Q,this}trim(){for(let A=0;A<this.tracks.length;A++)this.tracks[A].trim(0,this.duration);return this}validate(){let A=!0;for(let Q=0;Q<this.tracks.length;Q++)A=A&&this.tracks[Q].validate();return A}optimize(){for(let A=0;A<this.tracks.length;A++)this.tracks[A].optimize();return this}clone(){const A=[];for(let Q=0;Q<this.tracks.length;Q++)A.push(this.tracks[Q].clone());return new this.constructor(this.name,this.duration,A,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}var x8={enabled:!1,files:{},add:function(A,Q){if(this.enabled===!1)return;this.files[A]=Q},get:function(A){if(this.enabled===!1)return;return this.files[A]},remove:function(A){delete this.files[A]},clear:function(){this.files={}}};class s9{constructor(A,Q,E){const B=this;let I=!1,K=0,J=0,C=void 0;const U=[];this.onStart=void 0,this.onLoad=A,this.onProgress=Q,this.onError=E,this.itemStart=function(Y){if(J++,I===!1){if(B.onStart!==void 0)B.onStart(Y,K,J)}I=!0},this.itemEnd=function(Y){if(K++,B.onProgress!==void 0)B.onProgress(Y,K,J);if(K===J){if(I=!1,B.onLoad!==void 0)B.onLoad()}},this.itemError=function(Y){if(B.onError!==void 0)B.onError(Y)},this.resolveURL=function(Y){if(C)return C(Y);return Y},this.setURLModifier=function(Y){return C=Y,this},this.addHandler=function(Y,H){return U.push(Y,H),this},this.removeHandler=function(Y){const H=U.indexOf(Y);if(H!==-1)U.splice(H,2);return this},this.getHandler=function(Y){for(let H=0,R=U.length;H<R;H+=2){const G=U[H],O=U[H+1];if(G.global)G.lastIndex=0;if(G.test(Y))return O}return null}}}var DO=/*@__PURE__*/new s9;class G0{constructor(A){this.manager=A!==void 0?A:DO,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(A,Q){const E=this;return new Promise(function(B,I){E.load(A,B,Q,I)})}parse(){}setCrossOrigin(A){return this.crossOrigin=A,this}setWithCredentials(A){return this.withCredentials=A,this}setPath(A){return this.path=A,this}setResourcePath(A){return this.resourcePath=A,this}setRequestHeader(A){return this.requestHeader=A,this}}G0.DEFAULT_MATERIAL_NAME="__DEFAULT";var v8={};class g3 extends Error{constructor(A,Q){super(A);this.response=Q}}class Z0 extends G0{constructor(A){super(A)}load(A,Q,E,B){if(A===void 0)A="";if(this.path!==void 0)A=this.path+A;A=this.manager.resolveURL(A);const I=x8.get(A);if(I!==void 0)return this.manager.itemStart(A),setTimeout(()=>{if(Q)Q(I);this.manager.itemEnd(A)},0),I;if(v8[A]!==void 0){v8[A].push({onLoad:Q,onProgress:E,onError:B});return}v8[A]=[],v8[A].push({onLoad:Q,onProgress:E,onError:B});const K=new Request(A,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),J=this.mimeType,C=this.responseType;fetch(K).then((U)=>{if(U.status===200||U.status===0){if(U.status===0)console.warn("THREE.FileLoader: HTTP Status 0 received.");if(typeof ReadableStream==="undefined"||U.body===void 0||U.body.getReader===void 0)return U;const Y=v8[A],H=U.body.getReader(),R=U.headers.get("X-File-Size")||U.headers.get("Content-Length"),G=R?parseInt(R):0,O=G!==0;let F=0;const q=new ReadableStream({start(W){Z();function Z(){H.read().then(({done:$,value:X})=>{if($)W.close();else{F+=X.byteLength;const N=new ProgressEvent("progress",{lengthComputable:O,loaded:F,total:G});for(let M=0,L=Y.length;M<L;M++){const D=Y[M];if(D.onProgress)D.onProgress(N)}W.enqueue(X),Z()}},($)=>{W.error($)})}}});return new Response(q)}else throw new g3(`fetch for "${U.url}" responded with ${U.status}: ${U.statusText}`,U)}).then((U)=>{switch(C){case"arraybuffer":return U.arrayBuffer();case"blob":return U.blob();case"document":return U.text().then((Y)=>{return new DOMParser().parseFromString(Y,J)});case"json":return U.json();default:if(J===void 0)return U.text();else{const H=/charset="?([^;"\s]*)"?/i.exec(J),R=H&&H[1]?H[1].toLowerCase():void 0,G=new TextDecoder(R);return U.arrayBuffer().then((O)=>G.decode(O))}}}).then((U)=>{x8.add(A,U);const Y=v8[A];delete v8[A];for(let H=0,R=Y.length;H<R;H++){const G=Y[H];if(G.onLoad)G.onLoad(U)}}).catch((U)=>{const Y=v8[A];if(Y===void 0)throw this.manager.itemError(A),U;delete v8[A];for(let H=0,R=Y.length;H<R;H++){const G=Y[H];if(G.onError)G.onError(U)}this.manager.itemError(A)}).finally(()=>{this.manager.itemEnd(A)}),this.manager.itemStart(A)}setResponseType(A){return this.responseType=A,this}setMimeType(A){return this.mimeType=A,this}}class b3 extends G0{constructor(A){super(A)}load(A,Q,E,B){const I=this,K=new Z0(this.manager);K.setPath(this.path),K.setRequestHeader(this.requestHeader),K.setWithCredentials(this.withCredentials),K.load(A,function(J){try{Q(I.parse(JSON.parse(J)))}catch(C){if(B)B(C);else console.error(C);I.manager.itemError(A)}},E,B)}parse(A){const Q=[];for(let E=0;E<A.length;E++){const B=U1.parse(A[E]);Q.push(B)}return Q}}class r9 extends G0{constructor(A){super(A)}load(A,Q,E,B){const I=this,K=[],J=new $E,C=new Z0(this.manager);C.setPath(this.path),C.setResponseType("arraybuffer"),C.setRequestHeader(this.requestHeader),C.setWithCredentials(I.withCredentials);let U=0;function Y(H){C.load(A[H],function(R){const G=I.parse(R,!0);if(K[H]={width:G.width,height:G.height,format:G.format,mipmaps:G.mipmaps},U+=1,U===6){if(G.mipmapCount===1)J.minFilter=1006;if(J.image=K,J.format=G.format,J.needsUpdate=!0,Q)Q(J)}},E,B)}if(Array.isArray(A))for(let H=0,R=A.length;H<R;++H)Y(H);else C.load(A,function(H){const R=I.parse(H,!0);if(R.isCubemap){const G=R.mipmaps.length/R.mipmapCount;for(let O=0;O<G;O++){K[O]={mipmaps:[]};for(let F=0;F<R.mipmapCount;F++)K[O].mipmaps.push(R.mipmaps[O*R.mipmapCount+F]),K[O].format=R.format,K[O].width=R.width,K[O].height=R.height}J.image=K}else J.image.width=R.width,J.image.height=R.height,J.mipmaps=R.mipmaps;if(R.mipmapCount===1)J.minFilter=1006;if(J.format=R.format,J.needsUpdate=!0,Q)Q(J)},E,B);return J}}class XK extends G0{constructor(A){super(A)}load(A,Q,E,B){if(this.path!==void 0)A=this.path+A;A=this.manager.resolveURL(A);const I=this,K=x8.get(A);if(K!==void 0)return I.manager.itemStart(A),setTimeout(function(){if(Q)Q(K);I.manager.itemEnd(A)},0),K;const J=L9("img");function C(){if(Y(),x8.add(A,this),Q)Q(this);I.manager.itemEnd(A)}function U(H){if(Y(),B)B(H);I.manager.itemError(A),I.manager.itemEnd(A)}function Y(){J.removeEventListener("load",C,!1),J.removeEventListener("error",U,!1)}if(J.addEventListener("load",C,!1),J.addEventListener("error",U,!1),A.slice(0,5)!=="data:"){if(this.crossOrigin!==void 0)J.crossOrigin=this.crossOrigin}return I.manager.itemStart(A),J.src=A,J}}class IY extends G0{constructor(A){super(A)}load(A,Q,E,B){const I=new yB;I.colorSpace="srgb";const K=new XK(this.manager);K.setCrossOrigin(this.crossOrigin),K.setPath(this.path);let J=0;function C(U){K.load(A[U],function(Y){if(I.images[U]=Y,J++,J===6){if(I.needsUpdate=!0,Q)Q(I)}},void 0,B)}for(let U=0;U<A.length;++U)C(U);return I}}class iI extends G0{constructor(A){super(A)}load(A,Q,E,B){const I=this,K=new d0,J=new Z0(this.manager);return J.setResponseType("arraybuffer"),J.setRequestHeader(this.requestHeader),J.setPath(this.path),J.setWithCredentials(I.withCredentials),J.load(A,function(C){let U;try{U=I.parse(C)}catch(Y){if(B!==void 0)B(Y);else{console.error(Y);return}}if(U.image!==void 0)K.image=U.image;else if(U.data!==void 0)K.image.width=U.width,K.image.height=U.height,K.image.data=U.data;if(K.wrapS=U.wrapS!==void 0?U.wrapS:1001,K.wrapT=U.wrapT!==void 0?U.wrapT:1001,K.magFilter=U.magFilter!==void 0?U.magFilter:1006,K.minFilter=U.minFilter!==void 0?U.minFilter:1006,K.anisotropy=U.anisotropy!==void 0?U.anisotropy:1,U.colorSpace!==void 0)K.colorSpace=U.colorSpace;if(U.flipY!==void 0)K.flipY=U.flipY;if(U.format!==void 0)K.format=U.format;if(U.type!==void 0)K.type=U.type;if(U.mipmaps!==void 0)K.mipmaps=U.mipmaps,K.minFilter=1008;if(U.mipmapCount===1)K.minFilter=1006;if(U.generateMipmaps!==void 0)K.generateMipmaps=U.generateMipmaps;if(K.needsUpdate=!0,Q)Q(K,U)},E,B),K}}class cQ extends G0{constructor(A){super(A)}load(A,Q,E,B){const I=new JQ,K=new XK(this.manager);return K.setCrossOrigin(this.crossOrigin),K.setPath(this.path),K.load(A,function(J){if(I.image=J,I.needsUpdate=!0,Q!==void 0)Q(I)},E,B),I}}class o8 extends Y0{constructor(A,Q=1){super();this.isLight=!0,this.type="Light",this.color=new WA(A),this.intensity=Q}dispose(){}copy(A,Q){return super.copy(A,Q),this.color.copy(A.color),this.intensity=A.intensity,this}toJSON(A){const Q=super.toJSON(A);if(Q.object.color=this.color.getHex(),Q.object.intensity=this.intensity,this.groundColor!==void 0)Q.object.groundColor=this.groundColor.getHex();if(this.distance!==void 0)Q.object.distance=this.distance;if(this.angle!==void 0)Q.object.angle=this.angle;if(this.decay!==void 0)Q.object.decay=this.decay;if(this.penumbra!==void 0)Q.object.penumbra=this.penumbra;if(this.shadow!==void 0)Q.object.shadow=this.shadow.toJSON();if(this.target!==void 0)Q.object.target=this.target.uuid;return Q}}class MO extends o8{constructor(A,Q,E){super(A,E);this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Y0.DEFAULT_UP),this.updateMatrix(),this.groundColor=new WA(Q)}copy(A,Q){return super.copy(A,Q),this.groundColor.copy(A.groundColor),this}}var PR=/*@__PURE__*/new MA,NM=/*@__PURE__*/new f,LM=/*@__PURE__*/new f;class KY{constructor(A){this.camera=A,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new RA(512,512),this.map=null,this.mapPass=null,this.matrix=new MA,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new m8,this._frameExtents=new RA(1,1),this._viewportCount=1,this._viewports=[new gA(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(A){const Q=this.camera,E=this.matrix;NM.setFromMatrixPosition(A.matrixWorld),Q.position.copy(NM),LM.setFromMatrixPosition(A.target.matrixWorld),Q.lookAt(LM),Q.updateMatrixWorld(),PR.multiplyMatrices(Q.projectionMatrix,Q.matrixWorldInverse),this._frustum.setFromProjectionMatrix(PR),E.set(0.5,0,0,0.5,0,0.5,0,0.5,0,0,0.5,0.5,0,0,0,1),E.multiply(PR)}getViewport(A){return this._viewports[A]}getFrameExtents(){return this._frameExtents}dispose(){if(this.map)this.map.dispose();if(this.mapPass)this.mapPass.dispose()}copy(A){return this.camera=A.camera.clone(),this.intensity=A.intensity,this.bias=A.bias,this.radius=A.radius,this.mapSize.copy(A.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const A={};if(this.intensity!==1)A.intensity=this.intensity;if(this.bias!==0)A.bias=this.bias;if(this.normalBias!==0)A.normalBias=this.normalBias;if(this.radius!==1)A.radius=this.radius;if(this.mapSize.x!==512||this.mapSize.y!==512)A.mapSize=this.mapSize.toArray();return A.camera=this.camera.toJSON(!1).object,delete A.camera.matrix,A}}class f3 extends KY{constructor(){super(new y0(50,1,0.5,500));this.isSpotLightShadow=!0,this.focus=1}updateMatrices(A){const Q=this.camera,E=$K*2*A.angle*this.focus,B=this.mapSize.width/this.mapSize.height,I=A.distance||Q.far;if(E!==Q.fov||B!==Q.aspect||I!==Q.far)Q.fov=E,Q.aspect=B,Q.far=I,Q.updateProjectionMatrix();super.updateMatrices(A)}copy(A){return super.copy(A),this.focus=A.focus,this}}class pB extends o8{constructor(A,Q,E=0,B=Math.PI/3,I=0,K=2){super(A,Q);this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Y0.DEFAULT_UP),this.updateMatrix(),this.target=new Y0,this.distance=E,this.angle=B,this.penumbra=I,this.decay=K,this.map=null,this.shadow=new f3}get power(){return this.intensity*Math.PI}set power(A){this.intensity=A/Math.PI}dispose(){this.shadow.dispose()}copy(A,Q){return super.copy(A,Q),this.distance=A.distance,this.angle=A.angle,this.penumbra=A.penumbra,this.decay=A.decay,this.target=A.target.clone(),this.shadow=A.shadow.clone(),this}}var DM=/*@__PURE__*/new MA,O9=/*@__PURE__*/new f,_R=/*@__PURE__*/new f;class u3 extends KY{constructor(){super(new y0(90,1,0.5,500));this.isPointLightShadow=!0,this._frameExtents=new RA(4,2),this._viewportCount=6,this._viewports=[new gA(2,1,1,1),new gA(0,1,1,1),new gA(3,1,1,1),new gA(1,1,1,1),new gA(3,0,1,1),new gA(1,0,1,1)],this._cubeDirections=[new f(1,0,0),new f(-1,0,0),new f(0,0,1),new f(0,0,-1),new f(0,1,0),new f(0,-1,0)],this._cubeUps=[new f(0,1,0),new f(0,1,0),new f(0,1,0),new f(0,1,0),new f(0,0,1),new f(0,0,-1)]}updateMatrices(A,Q=0){const E=this.camera,B=this.matrix,I=A.distance||E.far;if(I!==E.far)E.far=I,E.updateProjectionMatrix();O9.setFromMatrixPosition(A.matrixWorld),E.position.copy(O9),_R.copy(E.position),_R.add(this._cubeDirections[Q]),E.up.copy(this._cubeUps[Q]),E.lookAt(_R),E.updateMatrixWorld(),B.makeTranslation(-O9.x,-O9.y,-O9.z),DM.multiplyMatrices(E.projectionMatrix,E.matrixWorldInverse),this._frustum.setFromProjectionMatrix(DM)}}class U8 extends o8{constructor(A,Q,E=0,B=2){super(A,Q);this.isPointLight=!0,this.type="PointLight",this.distance=E,this.decay=B,this.shadow=new u3}get power(){return this.intensity*4*Math.PI}set power(A){this.intensity=A/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(A,Q){return super.copy(A,Q),this.distance=A.distance,this.decay=A.decay,this.shadow=A.shadow.clone(),this}}class p3 extends KY{constructor(){super(new s1(-5,5,5,-5,0.5,500));this.isDirectionalLightShadow=!0}}class FE extends o8{constructor(A,Q){super(A,Q);this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Y0.DEFAULT_UP),this.updateMatrix(),this.target=new Y0,this.shadow=new p3}dispose(){this.shadow.dispose()}copy(A){return super.copy(A),this.target=A.target.clone(),this.shadow=A.shadow.clone(),this}}class sI extends o8{constructor(A,Q){super(A,Q);this.isAmbientLight=!0,this.type="AmbientLight"}}class JY extends o8{constructor(A,Q,E=10,B=10){super(A,Q);this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=E,this.height=B}get power(){return this.intensity*this.width*this.height*Math.PI}set power(A){this.intensity=A/(this.width*this.height*Math.PI)}copy(A){return super.copy(A),this.width=A.width,this.height=A.height,this}toJSON(A){const Q=super.toJSON(A);return Q.object.width=this.width,Q.object.height=this.height,Q}}class CY{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let A=0;A<9;A++)this.coefficients.push(new f)}set(A){for(let Q=0;Q<9;Q++)this.coefficients[Q].copy(A[Q]);return this}zero(){for(let A=0;A<9;A++)this.coefficients[A].set(0,0,0);return this}getAt(A,Q){const{x:E,y:B,z:I}=A,K=this.coefficients;return Q.copy(K[0]).multiplyScalar(0.282095),Q.addScaledVector(K[1],0.488603*B),Q.addScaledVector(K[2],0.488603*I),Q.addScaledVector(K[3],0.488603*E),Q.addScaledVector(K[4],1.092548*(E*B)),Q.addScaledVector(K[5],1.092548*(B*I)),Q.addScaledVector(K[6],0.315392*(3*I*I-1)),Q.addScaledVector(K[7],1.092548*(E*I)),Q.addScaledVector(K[8],0.546274*(E*E-B*B)),Q}getIrradianceAt(A,Q){const{x:E,y:B,z:I}=A,K=this.coefficients;return Q.copy(K[0]).multiplyScalar(0.886227),Q.addScaledVector(K[1],1.023328*B),Q.addScaledVector(K[2],1.023328*I),Q.addScaledVector(K[3],1.023328*E),Q.addScaledVector(K[4],0.858086*E*B),Q.addScaledVector(K[5],0.858086*B*I),Q.addScaledVector(K[6],0.743125*I*I-0.247708),Q.addScaledVector(K[7],0.858086*E*I),Q.addScaledVector(K[8],0.429043*(E*E-B*B)),Q}add(A){for(let Q=0;Q<9;Q++)this.coefficients[Q].add(A.coefficients[Q]);return this}addScaledSH(A,Q){for(let E=0;E<9;E++)this.coefficients[E].addScaledVector(A.coefficients[E],Q);return this}scale(A){for(let Q=0;Q<9;Q++)this.coefficients[Q].multiplyScalar(A);return this}lerp(A,Q){for(let E=0;E<9;E++)this.coefficients[E].lerp(A.coefficients[E],Q);return this}equals(A){for(let Q=0;Q<9;Q++)if(!this.coefficients[Q].equals(A.coefficients[Q]))return!1;return!0}copy(A){return this.set(A.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(A,Q=0){const E=this.coefficients;for(let B=0;B<9;B++)E[B].fromArray(A,Q+B*3);return this}toArray(A=[],Q=0){const E=this.coefficients;for(let B=0;B<9;B++)E[B].toArray(A,Q+B*3);return A}static getBasisAt(A,Q){const{x:E,y:B,z:I}=A;Q[0]=0.282095,Q[1]=0.488603*B,Q[2]=0.488603*I,Q[3]=0.488603*E,Q[4]=1.092548*E*B,Q[5]=1.092548*B*I,Q[6]=0.315392*(3*I*I-1),Q[7]=1.092548*E*I,Q[8]=0.546274*(E*E-B*B)}}class a9 extends o8{constructor(A=new CY,Q=1){super(void 0,Q);this.isLightProbe=!0,this.sh=A}copy(A){return super.copy(A),this.sh.copy(A.sh),this}fromJSON(A){return this.intensity=A.intensity,this.sh.fromArray(A.sh),this}toJSON(A){const Q=super.toJSON(A);return Q.object.sh=this.sh.toArray(),Q}}class UY extends G0{constructor(A){super(A);this.textures={}}load(A,Q,E,B){const I=this,K=new Z0(I.manager);K.setPath(I.path),K.setRequestHeader(I.requestHeader),K.setWithCredentials(I.withCredentials),K.load(A,function(J){try{Q(I.parse(JSON.parse(J)))}catch(C){if(B)B(C);else console.error(C);I.manager.itemError(A)}},E,B)}parse(A){const Q=this.textures;function E(I){if(Q[I]===void 0)console.warn("THREE.MaterialLoader: Undefined texture",I);return Q[I]}const B=this.createMaterialFromType(A.type);if(A.uuid!==void 0)B.uuid=A.uuid;if(A.name!==void 0)B.name=A.name;if(A.color!==void 0&&B.color!==void 0)B.color.setHex(A.color);if(A.roughness!==void 0)B.roughness=A.roughness;if(A.metalness!==void 0)B.metalness=A.metalness;if(A.sheen!==void 0)B.sheen=A.sheen;if(A.sheenColor!==void 0)B.sheenColor=new WA().setHex(A.sheenColor);if(A.sheenRoughness!==void 0)B.sheenRoughness=A.sheenRoughness;if(A.emissive!==void 0&&B.emissive!==void 0)B.emissive.setHex(A.emissive);if(A.specular!==void 0&&B.specular!==void 0)B.specular.setHex(A.specular);if(A.specularIntensity!==void 0)B.specularIntensity=A.specularIntensity;if(A.specularColor!==void 0&&B.specularColor!==void 0)B.specularColor.setHex(A.specularColor);if(A.shininess!==void 0)B.shininess=A.shininess;if(A.clearcoat!==void 0)B.clearcoat=A.clearcoat;if(A.clearcoatRoughness!==void 0)B.clearcoatRoughness=A.clearcoatRoughness;if(A.dispersion!==void 0)B.dispersion=A.dispersion;if(A.iridescence!==void 0)B.iridescence=A.iridescence;if(A.iridescenceIOR!==void 0)B.iridescenceIOR=A.iridescenceIOR;if(A.iridescenceThicknessRange!==void 0)B.iridescenceThicknessRange=A.iridescenceThicknessRange;if(A.transmission!==void 0)B.transmission=A.transmission;if(A.thickness!==void 0)B.thickness=A.thickness;if(A.attenuationDistance!==void 0)B.attenuationDistance=A.attenuationDistance;if(A.attenuationColor!==void 0&&B.attenuationColor!==void 0)B.attenuationColor.setHex(A.attenuationColor);if(A.anisotropy!==void 0)B.anisotropy=A.anisotropy;if(A.anisotropyRotation!==void 0)B.anisotropyRotation=A.anisotropyRotation;if(A.fog!==void 0)B.fog=A.fog;if(A.flatShading!==void 0)B.flatShading=A.flatShading;if(A.blending!==void 0)B.blending=A.blending;if(A.combine!==void 0)B.combine=A.combine;if(A.side!==void 0)B.side=A.side;if(A.shadowSide!==void 0)B.shadowSide=A.shadowSide;if(A.opacity!==void 0)B.opacity=A.opacity;if(A.transparent!==void 0)B.transparent=A.transparent;if(A.alphaTest!==void 0)B.alphaTest=A.alphaTest;if(A.alphaHash!==void 0)B.alphaHash=A.alphaHash;if(A.depthFunc!==void 0)B.depthFunc=A.depthFunc;if(A.depthTest!==void 0)B.depthTest=A.depthTest;if(A.depthWrite!==void 0)B.depthWrite=A.depthWrite;if(A.colorWrite!==void 0)B.colorWrite=A.colorWrite;if(A.blendSrc!==void 0)B.blendSrc=A.blendSrc;if(A.blendDst!==void 0)B.blendDst=A.blendDst;if(A.blendEquation!==void 0)B.blendEquation=A.blendEquation;if(A.blendSrcAlpha!==void 0)B.blendSrcAlpha=A.blendSrcAlpha;if(A.blendDstAlpha!==void 0)B.blendDstAlpha=A.blendDstAlpha;if(A.blendEquationAlpha!==void 0)B.blendEquationAlpha=A.blendEquationAlpha;if(A.blendColor!==void 0&&B.blendColor!==void 0)B.blendColor.setHex(A.blendColor);if(A.blendAlpha!==void 0)B.blendAlpha=A.blendAlpha;if(A.stencilWriteMask!==void 0)B.stencilWriteMask=A.stencilWriteMask;if(A.stencilFunc!==void 0)B.stencilFunc=A.stencilFunc;if(A.stencilRef!==void 0)B.stencilRef=A.stencilRef;if(A.stencilFuncMask!==void 0)B.stencilFuncMask=A.stencilFuncMask;if(A.stencilFail!==void 0)B.stencilFail=A.stencilFail;if(A.stencilZFail!==void 0)B.stencilZFail=A.stencilZFail;if(A.stencilZPass!==void 0)B.stencilZPass=A.stencilZPass;if(A.stencilWrite!==void 0)B.stencilWrite=A.stencilWrite;if(A.wireframe!==void 0)B.wireframe=A.wireframe;if(A.wireframeLinewidth!==void 0)B.wireframeLinewidth=A.wireframeLinewidth;if(A.wireframeLinecap!==void 0)B.wireframeLinecap=A.wireframeLinecap;if(A.wireframeLinejoin!==void 0)B.wireframeLinejoin=A.wireframeLinejoin;if(A.rotation!==void 0)B.rotation=A.rotation;if(A.linewidth!==void 0)B.linewidth=A.linewidth;if(A.dashSize!==void 0)B.dashSize=A.dashSize;if(A.gapSize!==void 0)B.gapSize=A.gapSize;if(A.scale!==void 0)B.scale=A.scale;if(A.polygonOffset!==void 0)B.polygonOffset=A.polygonOffset;if(A.polygonOffsetFactor!==void 0)B.polygonOffsetFactor=A.polygonOffsetFactor;if(A.polygonOffsetUnits!==void 0)B.polygonOffsetUnits=A.polygonOffsetUnits;if(A.dithering!==void 0)B.dithering=A.dithering;if(A.alphaToCoverage!==void 0)B.alphaToCoverage=A.alphaToCoverage;if(A.premultipliedAlpha!==void 0)B.premultipliedAlpha=A.premultipliedAlpha;if(A.forceSinglePass!==void 0)B.forceSinglePass=A.forceSinglePass;if(A.visible!==void 0)B.visible=A.visible;if(A.toneMapped!==void 0)B.toneMapped=A.toneMapped;if(A.userData!==void 0)B.userData=A.userData;if(A.vertexColors!==void 0)if(typeof A.vertexColors==="number")B.vertexColors=A.vertexColors>0?!0:!1;else B.vertexColors=A.vertexColors;if(A.uniforms!==void 0)for(let I in A.uniforms){const K=A.uniforms[I];switch(B.uniforms[I]={},K.type){case"t":B.uniforms[I].value=E(K.value);break;case"c":B.uniforms[I].value=new WA().setHex(K.value);break;case"v2":B.uniforms[I].value=new RA().fromArray(K.value);break;case"v3":B.uniforms[I].value=new f().fromArray(K.value);break;case"v4":B.uniforms[I].value=new gA().fromArray(K.value);break;case"m3":B.uniforms[I].value=new J0().fromArray(K.value);break;case"m4":B.uniforms[I].value=new MA().fromArray(K.value);break;default:B.uniforms[I].value=K.value}}if(A.defines!==void 0)B.defines=A.defines;if(A.vertexShader!==void 0)B.vertexShader=A.vertexShader;if(A.fragmentShader!==void 0)B.fragmentShader=A.fragmentShader;if(A.glslVersion!==void 0)B.glslVersion=A.glslVersion;if(A.extensions!==void 0)for(let I in A.extensions)B.extensions[I]=A.extensions[I];if(A.lights!==void 0)B.lights=A.lights;if(A.clipping!==void 0)B.clipping=A.clipping;if(A.size!==void 0)B.size=A.size;if(A.sizeAttenuation!==void 0)B.sizeAttenuation=A.sizeAttenuation;if(A.map!==void 0)B.map=E(A.map);if(A.matcap!==void 0)B.matcap=E(A.matcap);if(A.alphaMap!==void 0)B.alphaMap=E(A.alphaMap);if(A.bumpMap!==void 0)B.bumpMap=E(A.bumpMap);if(A.bumpScale!==void 0)B.bumpScale=A.bumpScale;if(A.normalMap!==void 0)B.normalMap=E(A.normalMap);if(A.normalMapType!==void 0)B.normalMapType=A.normalMapType;if(A.normalScale!==void 0){let I=A.normalScale;if(Array.isArray(I)===!1)I=[I,I];B.normalScale=new RA().fromArray(I)}if(A.displacementMap!==void 0)B.displacementMap=E(A.displacementMap);if(A.displacementScale!==void 0)B.displacementScale=A.displacementScale;if(A.displacementBias!==void 0)B.displacementBias=A.displacementBias;if(A.roughnessMap!==void 0)B.roughnessMap=E(A.roughnessMap);if(A.metalnessMap!==void 0)B.metalnessMap=E(A.metalnessMap);if(A.emissiveMap!==void 0)B.emissiveMap=E(A.emissiveMap);if(A.emissiveIntensity!==void 0)B.emissiveIntensity=A.emissiveIntensity;if(A.specularMap!==void 0)B.specularMap=E(A.specularMap);if(A.specularIntensityMap!==void 0)B.specularIntensityMap=E(A.specularIntensityMap);if(A.specularColorMap!==void 0)B.specularColorMap=E(A.specularColorMap);if(A.envMap!==void 0)B.envMap=E(A.envMap);if(A.envMapRotation!==void 0)B.envMapRotation.fromArray(A.envMapRotation);if(A.envMapIntensity!==void 0)B.envMapIntensity=A.envMapIntensity;if(A.reflectivity!==void 0)B.reflectivity=A.reflectivity;if(A.refractionRatio!==void 0)B.refractionRatio=A.refractionRatio;if(A.lightMap!==void 0)B.lightMap=E(A.lightMap);if(A.lightMapIntensity!==void 0)B.lightMapIntensity=A.lightMapIntensity;if(A.aoMap!==void 0)B.aoMap=E(A.aoMap);if(A.aoMapIntensity!==void 0)B.aoMapIntensity=A.aoMapIntensity;if(A.gradientMap!==void 0)B.gradientMap=E(A.gradientMap);if(A.clearcoatMap!==void 0)B.clearcoatMap=E(A.clearcoatMap);if(A.clearcoatRoughnessMap!==void 0)B.clearcoatRoughnessMap=E(A.clearcoatRoughnessMap);if(A.clearcoatNormalMap!==void 0)B.clearcoatNormalMap=E(A.clearcoatNormalMap);if(A.clearcoatNormalScale!==void 0)B.clearcoatNormalScale=new RA().fromArray(A.clearcoatNormalScale);if(A.iridescenceMap!==void 0)B.iridescenceMap=E(A.iridescenceMap);if(A.iridescenceThicknessMap!==void 0)B.iridescenceThicknessMap=E(A.iridescenceThicknessMap);if(A.transmissionMap!==void 0)B.transmissionMap=E(A.transmissionMap);if(A.thicknessMap!==void 0)B.thicknessMap=E(A.thicknessMap);if(A.anisotropyMap!==void 0)B.anisotropyMap=E(A.anisotropyMap);if(A.sheenColorMap!==void 0)B.sheenColorMap=E(A.sheenColorMap);if(A.sheenRoughnessMap!==void 0)B.sheenRoughnessMap=E(A.sheenRoughnessMap);return B}setTextures(A){return this.textures=A,this}createMaterialFromType(A){return UY.createMaterialFromType(A)}static createMaterialFromType(A){return new{ShadowMaterial:OO,SpriteMaterial:zK,RawShaderMaterial:bB,ShaderMaterial:cA,PointsMaterial:mE,MeshPhysicalMaterial:H1,MeshStandardMaterial:LQ,MeshPhongMaterial:r1,MeshToonMaterial:$O,MeshNormalMaterial:WE,MeshLambertMaterial:fB,MeshDepthMaterial:nI,MeshDistanceMaterial:b5,MeshBasicMaterial:V0,MeshMatcapMaterial:WO,LineDashedMaterial:XO,LineBasicMaterial:g0,Material:yQ}[A]}}class F1{static decodeText(A){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder!=="undefined")return(/*@__PURE__*/new TextDecoder()).decode(A);let Q="";for(let E=0,B=A.length;E<B;E++)Q+=String.fromCharCode(A[E]);try{return decodeURIComponent(escape(Q))}catch(E){return Q}}static extractUrlBase(A){const Q=A.lastIndexOf("/");if(Q===-1)return"./";return A.slice(0,Q+1)}static resolveURL(A,Q){if(typeof A!=="string"||A==="")return"";if(/^https?:\/\//i.test(Q)&&/^\//.test(A))Q=Q.replace(/(^https?:\/\/[^\/]+).*/i,"$1");if(/^(https?:)?\/\//i.test(A))return A;if(/^data:.*,.*$/i.test(A))return A;if(/^blob:.*$/i.test(A))return A;return Q+A}}class YY extends pA{constructor(){super();this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(A){return super.copy(A),this.instanceCount=A.instanceCount,this}toJSON(){const A=super.toJSON();return A.instanceCount=this.instanceCount,A.isInstancedBufferGeometry=!0,A}}class HY extends G0{constructor(A){super(A)}load(A,Q,E,B){const I=this,K=new Z0(I.manager);K.setPath(I.path),K.setRequestHeader(I.requestHeader),K.setWithCredentials(I.withCredentials),K.load(A,function(J){try{Q(I.parse(JSON.parse(J)))}catch(C){if(B)B(C);else console.error(C);I.manager.itemError(A)}},E,B)}parse(A){const Q={},E={};function B(G,O){if(Q[O]!==void 0)return Q[O];const q=G.interleavedBuffers[O],W=I(G,q.buffer),Z=GK(q.type,W),$=new K8(Z,q.stride);return $.uuid=q.uuid,Q[O]=$,$}function I(G,O){if(E[O]!==void 0)return E[O];const q=G.arrayBuffers[O],W=new Uint32Array(q).buffer;return E[O]=W,W}const K=A.isInstancedBufferGeometry?new YY:new pA,J=A.data.index;if(J!==void 0){const G=GK(J.type,J.array);K.setIndex(new E0(G,1))}const C=A.data.attributes;for(let G in C){const O=C[G];let F;if(O.isInterleavedBufferAttribute){const q=B(A.data,O.data);F=new X1(q,O.itemSize,O.offset,O.normalized)}else{const q=GK(O.type,O.array);F=new(O.isInstancedBufferAttribute?I8:E0)(q,O.itemSize,O.normalized)}if(O.name!==void 0)F.name=O.name;if(O.usage!==void 0)F.setUsage(O.usage);K.setAttribute(G,F)}const U=A.data.morphAttributes;if(U)for(let G in U){const O=U[G],F=[];for(let q=0,W=O.length;q<W;q++){const Z=O[q];let $;if(Z.isInterleavedBufferAttribute){const X=B(A.data,Z.data);$=new X1(X,Z.itemSize,Z.offset,Z.normalized)}else{const X=GK(Z.type,Z.array);$=new E0(X,Z.itemSize,Z.normalized)}if(Z.name!==void 0)$.name=Z.name;F.push($)}K.morphAttributes[G]=F}if(A.data.morphTargetsRelative)K.morphTargetsRelative=!0;const H=A.data.groups||A.data.drawcalls||A.data.offsets;if(H!==void 0)for(let G=0,O=H.length;G!==O;++G){const F=H[G];K.addGroup(F.start,F.count,F.materialIndex)}const R=A.data.boundingSphere;if(R!==void 0){const G=new f;if(R.center!==void 0)G.fromArray(R.center);K.boundingSphere=new YQ(G,R.radius)}if(A.name)K.name=A.name;if(A.userData)K.userData=A.userData;return K}}class m3 extends G0{constructor(A){super(A)}load(A,Q,E,B){const I=this,K=this.path===""?F1.extractUrlBase(A):this.path;this.resourcePath=this.resourcePath||K;const J=new Z0(this.manager);J.setPath(this.path),J.setRequestHeader(this.requestHeader),J.setWithCredentials(this.withCredentials),J.load(A,function(C){let U=null;try{U=JSON.parse(C)}catch(H){if(B!==void 0)B(H);console.error("THREE:ObjectLoader: Can\'t parse "+A+".",H.message);return}const Y=U.metadata;if(Y===void 0||Y.type===void 0||Y.type.toLowerCase()==="geometry"){if(B!==void 0)B(new Error("THREE.ObjectLoader: Can\'t load "+A));console.error("THREE.ObjectLoader: Can\'t load "+A);return}I.parse(U,Q)},E,B)}async loadAsync(A,Q){const E=this,B=this.path===""?F1.extractUrlBase(A):this.path;this.resourcePath=this.resourcePath||B;const I=new Z0(this.manager);I.setPath(this.path),I.setRequestHeader(this.requestHeader),I.setWithCredentials(this.withCredentials);const K=await I.loadAsync(A,Q),J=JSON.parse(K),C=J.metadata;if(C===void 0||C.type===void 0||C.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can\'t load "+A);return await E.parseAsync(J)}parse(A,Q){const E=this.parseAnimations(A.animations),B=this.parseShapes(A.shapes),I=this.parseGeometries(A.geometries,B),K=this.parseImages(A.images,function(){if(Q!==void 0)Q(U)}),J=this.parseTextures(A.textures,K),C=this.parseMaterials(A.materials,J),U=this.parseObject(A.object,I,C,J,E),Y=this.parseSkeletons(A.skeletons,U);if(this.bindSkeletons(U,Y),this.bindLightTargets(U),Q!==void 0){let H=!1;for(let R in K)if(K[R].data instanceof HTMLImageElement){H=!0;break}if(H===!1)Q(U)}return U}async parseAsync(A){const Q=this.parseAnimations(A.animations),E=this.parseShapes(A.shapes),B=this.parseGeometries(A.geometries,E),I=await this.parseImagesAsync(A.images),K=this.parseTextures(A.textures,I),J=this.parseMaterials(A.materials,K),C=this.parseObject(A.object,B,J,K,Q),U=this.parseSkeletons(A.skeletons,C);return this.bindSkeletons(C,U),this.bindLightTargets(C),C}parseShapes(A){const Q={};if(A!==void 0)for(let E=0,B=A.length;E<B;E++){const I=new g8().fromJSON(A[E]);Q[I.uuid]=I}return Q}parseSkeletons(A,Q){const E={},B={};if(Q.traverse(function(I){if(I.isBone)B[I.uuid]=I}),A!==void 0)for(let I=0,K=A.length;I<K;I++){const J=new J8().fromJSON(A[I],B);E[J.uuid]=J}return E}parseGeometries(A,Q){const E={};if(A!==void 0){const B=new HY;for(let I=0,K=A.length;I<K;I++){let J;const C=A[I];switch(C.type){case"BufferGeometry":case"InstancedBufferGeometry":J=B.parse(C);break;default:if(C.type in qM)J=qM[C.type].fromJSON(C,Q);else console.warn(`THREE.ObjectLoader: Unsupported geometry type "${C.type}"`)}if(J.uuid=C.uuid,C.name!==void 0)J.name=C.name;if(C.userData!==void 0)J.userData=C.userData;E[C.uuid]=J}}return E}parseMaterials(A,Q){const E={},B={};if(A!==void 0){const I=new UY;I.setTextures(Q);for(let K=0,J=A.length;K<J;K++){const C=A[K];if(E[C.uuid]===void 0)E[C.uuid]=I.parse(C);B[C.uuid]=E[C.uuid]}}return B}parseAnimations(A){const Q={};if(A!==void 0)for(let E=0;E<A.length;E++){const B=A[E],I=U1.parse(B);Q[I.uuid]=I}return Q}parseImages(A,Q){const E=this,B={};let I;function K(C){return E.manager.itemStart(C),I.load(C,function(){E.manager.itemEnd(C)},void 0,function(){E.manager.itemError(C),E.manager.itemEnd(C)})}function J(C){if(typeof C==="string"){const U=C,Y=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(U)?U:E.resourcePath+U;return K(Y)}else if(C.data)return{data:GK(C.type,C.data),width:C.width,height:C.height};else return null}if(A!==void 0&&A.length>0){const C=new s9(Q);I=new XK(C),I.setCrossOrigin(this.crossOrigin);for(let U=0,Y=A.length;U<Y;U++){const H=A[U],R=H.url;if(Array.isArray(R)){const G=[];for(let O=0,F=R.length;O<F;O++){const q=R[O],W=J(q);if(W!==null)if(W instanceof HTMLImageElement)G.push(W);else G.push(new d0(W.data,W.width,W.height))}B[H.uuid]=new B8(G)}else{const G=J(H.url);B[H.uuid]=new B8(G)}}}return B}async parseImagesAsync(A){const Q=this,E={};let B;async function I(K){if(typeof K==="string"){const J=K,C=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(J)?J:Q.resourcePath+J;return await B.loadAsync(C)}else if(K.data)return{data:GK(K.type,K.data),width:K.width,height:K.height};else return null}if(A!==void 0&&A.length>0){B=new XK(this.manager),B.setCrossOrigin(this.crossOrigin);for(let K=0,J=A.length;K<J;K++){const C=A[K],U=C.url;if(Array.isArray(U)){const Y=[];for(let H=0,R=U.length;H<R;H++){const G=U[H],O=await I(G);if(O!==null)if(O instanceof HTMLImageElement)Y.push(O);else Y.push(new d0(O.data,O.width,O.height))}E[C.uuid]=new B8(Y)}else{const Y=await I(C.url);E[C.uuid]=new B8(Y)}}}return E}parseTextures(A,Q){function E(I,K){if(typeof I==="number")return I;return console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",I),K[I]}const B={};if(A!==void 0)for(let I=0,K=A.length;I<K;I++){const J=A[I];if(J.image===void 0)console.warn('THREE.ObjectLoader: No "image" specified for',J.uuid);if(Q[J.image]===void 0)console.warn("THREE.ObjectLoader: Undefined image",J.image);const C=Q[J.image],U=C.data;let Y;if(Array.isArray(U)){if(Y=new yB,U.length===6)Y.needsUpdate=!0}else{if(U&&U.data)Y=new d0;else Y=new JQ;if(U)Y.needsUpdate=!0}if(Y.source=C,Y.uuid=J.uuid,J.name!==void 0)Y.name=J.name;if(J.mapping!==void 0)Y.mapping=E(J.mapping,Vo);if(J.channel!==void 0)Y.channel=J.channel;if(J.offset!==void 0)Y.offset.fromArray(J.offset);if(J.repeat!==void 0)Y.repeat.fromArray(J.repeat);if(J.center!==void 0)Y.center.fromArray(J.center);if(J.rotation!==void 0)Y.rotation=J.rotation;if(J.wrap!==void 0)Y.wrapS=E(J.wrap[0],MM),Y.wrapT=E(J.wrap[1],MM);if(J.format!==void 0)Y.format=J.format;if(J.internalFormat!==void 0)Y.internalFormat=J.internalFormat;if(J.type!==void 0)Y.type=J.type;if(J.colorSpace!==void 0)Y.colorSpace=J.colorSpace;if(J.minFilter!==void 0)Y.minFilter=E(J.minFilter,wM);if(J.magFilter!==void 0)Y.magFilter=E(J.magFilter,wM);if(J.anisotropy!==void 0)Y.anisotropy=J.anisotropy;if(J.flipY!==void 0)Y.flipY=J.flipY;if(J.generateMipmaps!==void 0)Y.generateMipmaps=J.generateMipmaps;if(J.premultiplyAlpha!==void 0)Y.premultiplyAlpha=J.premultiplyAlpha;if(J.unpackAlignment!==void 0)Y.unpackAlignment=J.unpackAlignment;if(J.compareFunction!==void 0)Y.compareFunction=J.compareFunction;if(J.userData!==void 0)Y.userData=J.userData;B[J.uuid]=Y}return B}parseObject(A,Q,E,B,I){let K;function J(R){if(Q[R]===void 0)console.warn("THREE.ObjectLoader: Undefined geometry",R);return Q[R]}function C(R){if(R===void 0)return;if(Array.isArray(R)){const G=[];for(let O=0,F=R.length;O<F;O++){const q=R[O];if(E[q]===void 0)console.warn("THREE.ObjectLoader: Undefined material",q);G.push(E[q])}return G}if(E[R]===void 0)console.warn("THREE.ObjectLoader: Undefined material",R);return E[R]}function U(R){if(B[R]===void 0)console.warn("THREE.ObjectLoader: Undefined texture",R);return B[R]}let Y,H;switch(A.type){case"Scene":if(K=new B1,A.background!==void 0)if(Number.isInteger(A.background))K.background=new WA(A.background);else K.background=U(A.background);if(A.environment!==void 0)K.environment=U(A.environment);if(A.fog!==void 0){if(A.fog.type==="Fog")K.fog=new u5(A.fog.color,A.fog.near,A.fog.far);else if(A.fog.type==="FogExp2")K.fog=new f5(A.fog.color,A.fog.density);if(A.fog.name!=="")K.fog.name=A.fog.name}if(A.backgroundBlurriness!==void 0)K.backgroundBlurriness=A.backgroundBlurriness;if(A.backgroundIntensity!==void 0)K.backgroundIntensity=A.backgroundIntensity;if(A.backgroundRotation!==void 0)K.backgroundRotation.fromArray(A.backgroundRotation);if(A.environmentIntensity!==void 0)K.environmentIntensity=A.environmentIntensity;if(A.environmentRotation!==void 0)K.environmentRotation.fromArray(A.environmentRotation);break;case"PerspectiveCamera":if(K=new y0(A.fov,A.aspect,A.near,A.far),A.focus!==void 0)K.focus=A.focus;if(A.zoom!==void 0)K.zoom=A.zoom;if(A.filmGauge!==void 0)K.filmGauge=A.filmGauge;if(A.filmOffset!==void 0)K.filmOffset=A.filmOffset;if(A.view!==void 0)K.view=Object.assign({},A.view);break;case"OrthographicCamera":if(K=new s1(A.left,A.right,A.top,A.bottom,A.near,A.far),A.zoom!==void 0)K.zoom=A.zoom;if(A.view!==void 0)K.view=Object.assign({},A.view);break;case"AmbientLight":K=new sI(A.color,A.intensity);break;case"DirectionalLight":K=new FE(A.color,A.intensity),K.target=A.target||"";break;case"PointLight":K=new U8(A.color,A.intensity,A.distance,A.decay);break;case"RectAreaLight":K=new JY(A.color,A.intensity,A.width,A.height);break;case"SpotLight":K=new pB(A.color,A.intensity,A.distance,A.angle,A.penumbra,A.decay),K.target=A.target||"";break;case"HemisphereLight":K=new MO(A.color,A.groundColor,A.intensity);break;case"LightProbe":K=new a9().fromJSON(A);break;case"SkinnedMesh":if(Y=J(A.geometry),H=C(A.material),K=new xB(Y,H),A.bindMode!==void 0)K.bindMode=A.bindMode;if(A.bindMatrix!==void 0)K.bindMatrix.fromArray(A.bindMatrix);if(A.skeleton!==void 0)K.skeleton=A.skeleton;break;case"Mesh":Y=J(A.geometry),H=C(A.material),K=new mA(Y,H);break;case"InstancedMesh":Y=J(A.geometry),H=C(A.material);const{count:R,instanceMatrix:G,instanceColor:O}=A;if(K=new oI(Y,H,R),K.instanceMatrix=new I8(new Float32Array(G.array),16),O!==void 0)K.instanceColor=new I8(new Float32Array(O.array),O.itemSize);break;case"BatchedMesh":if(Y=J(A.geometry),H=C(A.material),K=new JO(A.maxInstanceCount,A.maxVertexCount,A.maxIndexCount,H),K.geometry=Y,K.perObjectFrustumCulled=A.perObjectFrustumCulled,K.sortObjects=A.sortObjects,K._drawRanges=A.drawRanges,K._reservedRanges=A.reservedRanges,K._visibility=A.visibility,K._active=A.active,K._bounds=A.bounds.map((F)=>{const q=new p0;q.min.fromArray(F.boxMin),q.max.fromArray(F.boxMax);const W=new YQ;return W.radius=F.sphereRadius,W.center.fromArray(F.sphereCenter),{boxInitialized:F.boxInitialized,box:q,sphereInitialized:F.sphereInitialized,sphere:W}}),K._maxInstanceCount=A.maxInstanceCount,K._maxVertexCount=A.maxVertexCount,K._maxIndexCount=A.maxIndexCount,K._geometryInitialized=A.geometryInitialized,K._geometryCount=A.geometryCount,K._matricesTexture=U(A.matricesTexture.uuid),A.colorsTexture!==void 0)K._colorsTexture=U(A.colorsTexture.uuid);break;case"LOD":K=new KO;break;case"Line":K=new sQ(J(A.geometry),C(A.material));break;case"LineLoop":K=new u9(J(A.geometry),C(A.material));break;case"LineSegments":K=new wQ(J(A.geometry),C(A.material));break;case"PointCloud":case"Points":K=new C8(J(A.geometry),C(A.material));break;case"Sprite":K=new f9(C(A.material));break;case"Group":K=new QQ;break;case"Bone":K=new pE;break;default:K=new Y0}if(K.uuid=A.uuid,A.name!==void 0)K.name=A.name;if(A.matrix!==void 0){if(K.matrix.fromArray(A.matrix),A.matrixAutoUpdate!==void 0)K.matrixAutoUpdate=A.matrixAutoUpdate;if(K.matrixAutoUpdate)K.matrix.decompose(K.position,K.quaternion,K.scale)}else{if(A.position!==void 0)K.position.fromArray(A.position);if(A.rotation!==void 0)K.rotation.fromArray(A.rotation);if(A.quaternion!==void 0)K.quaternion.fromArray(A.quaternion);if(A.scale!==void 0)K.scale.fromArray(A.scale)}if(A.up!==void 0)K.up.fromArray(A.up);if(A.castShadow!==void 0)K.castShadow=A.castShadow;if(A.receiveShadow!==void 0)K.receiveShadow=A.receiveShadow;if(A.shadow){if(A.shadow.intensity!==void 0)K.shadow.intensity=A.shadow.intensity;if(A.shadow.bias!==void 0)K.shadow.bias=A.shadow.bias;if(A.shadow.normalBias!==void 0)K.shadow.normalBias=A.shadow.normalBias;if(A.shadow.radius!==void 0)K.shadow.radius=A.shadow.radius;if(A.shadow.mapSize!==void 0)K.shadow.mapSize.fromArray(A.shadow.mapSize);if(A.shadow.camera!==void 0)K.shadow.camera=this.parseObject(A.shadow.camera)}if(A.visible!==void 0)K.visible=A.visible;if(A.frustumCulled!==void 0)K.frustumCulled=A.frustumCulled;if(A.renderOrder!==void 0)K.renderOrder=A.renderOrder;if(A.userData!==void 0)K.userData=A.userData;if(A.layers!==void 0)K.layers.mask=A.layers;if(A.children!==void 0){const R=A.children;for(let G=0;G<R.length;G++)K.add(this.parseObject(R[G],Q,E,B,I))}if(A.animations!==void 0){const R=A.animations;for(let G=0;G<R.length;G++){const O=R[G];K.animations.push(I[O])}}if(A.type==="LOD"){if(A.autoUpdate!==void 0)K.autoUpdate=A.autoUpdate;const R=A.levels;for(let G=0;G<R.length;G++){const O=R[G],F=K.getObjectByProperty("uuid",O.object);if(F!==void 0)K.addLevel(F,O.distance,O.hysteresis)}}return K}bindSkeletons(A,Q){if(Object.keys(Q).length===0)return;A.traverse(function(E){if(E.isSkinnedMesh===!0&&E.skeleton!==void 0){const B=Q[E.skeleton];if(B===void 0)console.warn("THREE.ObjectLoader: No skeleton found with UUID:",E.skeleton);else E.bind(B,E.bindMatrix)}})}bindLightTargets(A){A.traverse(function(Q){if(Q.isDirectionalLight||Q.isSpotLight){const E=Q.target,B=A.getObjectByProperty("uuid",E);if(B!==void 0)Q.target=B;else Q.target=new Y0}})}}var Vo={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,CubeUVReflectionMapping:306},MM={RepeatWrapping:1000,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},wM={NearestFilter:1003,NearestMipmapNearestFilter:1004,NearestMipmapLinearFilter:1005,LinearFilter:1006,LinearMipmapNearestFilter:1007,LinearMipmapLinearFilter:1008};class GY extends G0{constructor(A){super(A);if(this.isImageBitmapLoader=!0,typeof createImageBitmap==="undefined")console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported.");if(typeof fetch==="undefined")console.warn("THREE.ImageBitmapLoader: fetch() not supported.");this.options={premultiplyAlpha:"none"}}setOptions(A){return this.options=A,this}load(A,Q,E,B){if(A===void 0)A="";if(this.path!==void 0)A=this.path+A;A=this.manager.resolveURL(A);const I=this,K=x8.get(A);if(K!==void 0){if(I.manager.itemStart(A),K.then){K.then((U)=>{if(Q)Q(U);I.manager.itemEnd(A)}).catch((U)=>{if(B)B(U)});return}return setTimeout(function(){if(Q)Q(K);I.manager.itemEnd(A)},0),K}const J={};J.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",J.headers=this.requestHeader;const C=fetch(A,J).then(function(U){return U.blob()}).then(function(U){return createImageBitmap(U,Object.assign(I.options,{colorSpaceConversion:"none"}))}).then(function(U){if(x8.add(A,U),Q)Q(U);return I.manager.itemEnd(A),U}).catch(function(U){if(B)B(U);x8.remove(A),I.manager.itemError(A),I.manager.itemEnd(A)});x8.add(A,C),I.manager.itemStart(A)}}var O5;class ZY{static getContext(){if(O5===void 0)O5=new(window.AudioContext||window.webkitAudioContext);return O5}static setContext(A){O5=A}}class c3 extends G0{constructor(A){super(A)}load(A,Q,E,B){const I=this,K=new Z0(this.manager);K.setResponseType("arraybuffer"),K.setPath(this.path),K.setRequestHeader(this.requestHeader),K.setWithCredentials(this.withCredentials),K.load(A,function(C){try{const U=C.slice(0);ZY.getContext().decodeAudioData(U,function(H){Q(H)}).catch(J)}catch(U){J(U)}},E,B);function J(C){if(B)B(C);else console.error(C);I.manager.itemError(A)}}}var zM=/*@__PURE__*/new MA,VM=/*@__PURE__*/new MA,hI=/*@__PURE__*/new MA;class t9{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=0.064,this.cameraL=new y0,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new y0,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(A){const Q=this._cache;if(Q.focus!==A.focus||Q.fov!==A.fov||Q.aspect!==A.aspect*this.aspect||Q.near!==A.near||Q.far!==A.far||Q.zoom!==A.zoom||Q.eyeSep!==this.eyeSep){Q.focus=A.focus,Q.fov=A.fov,Q.aspect=A.aspect*this.aspect,Q.near=A.near,Q.far=A.far,Q.zoom=A.zoom,Q.eyeSep=this.eyeSep,hI.copy(A.projectionMatrix);const B=Q.eyeSep/2,I=B*Q.near/Q.focus,K=Q.near*Math.tan(pI*Q.fov*0.5)/Q.zoom;let J,C;VM.elements[12]=-B,zM.elements[12]=B,J=-K*Q.aspect+I,C=K*Q.aspect+I,hI.elements[0]=2*Q.near/(C-J),hI.elements[8]=(C+J)/(C-J),this.cameraL.projectionMatrix.copy(hI),J=-K*Q.aspect-I,C=K*Q.aspect-I,hI.elements[0]=2*Q.near/(C-J),hI.elements[8]=(C+J)/(C-J),this.cameraR.projectionMatrix.copy(hI)}this.cameraL.matrixWorld.copy(A.matrixWorld).multiply(VM),this.cameraR.matrixWorld.copy(A.matrixWorld).multiply(zM)}}class i8{constructor(A=!0){this.autoStart=A,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=TM(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let A=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const Q=TM();A=(Q-this.oldTime)/1000,this.oldTime=Q,this.elapsedTime+=A}return A}}var vI=/*@__PURE__*/new f,SM=/*@__PURE__*/new C0,To=/*@__PURE__*/new f,yI=/*@__PURE__*/new f;class d3 extends Y0{constructor(){super();this.type="AudioListener",this.context=ZY.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new i8}getInput(){return this.gain}removeFilter(){if(this.filter!==null)this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null;return this}getFilter(){return this.filter}setFilter(A){if(this.filter!==null)this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination);else this.gain.disconnect(this.context.destination);return this.filter=A,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(A){return this.gain.gain.setTargetAtTime(A,this.context.currentTime,0.01),this}updateMatrixWorld(A){super.updateMatrixWorld(A);const Q=this.context.listener,E=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(vI,SM,To),yI.set(0,0,-1).applyQuaternion(SM),Q.positionX){const B=this.context.currentTime+this.timeDelta;Q.positionX.linearRampToValueAtTime(vI.x,B),Q.positionY.linearRampToValueAtTime(vI.y,B),Q.positionZ.linearRampToValueAtTime(vI.z,B),Q.forwardX.linearRampToValueAtTime(yI.x,B),Q.forwardY.linearRampToValueAtTime(yI.y,B),Q.forwardZ.linearRampToValueAtTime(yI.z,B),Q.upX.linearRampToValueAtTime(E.x,B),Q.upY.linearRampToValueAtTime(E.y,B),Q.upZ.linearRampToValueAtTime(E.z,B)}else Q.setPosition(vI.x,vI.y,vI.z),Q.setOrientation(yI.x,yI.y,yI.z,E.x,E.y,E.z)}}class wO extends Y0{constructor(A){super();this.type="Audio",this.listener=A,this.context=A.context,this.gain=this.context.createGain(),this.gain.connect(A.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(A){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=A,this.connect(),this}setMediaElementSource(A){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(A),this.connect(),this}setMediaStreamSource(A){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(A),this.connect(),this}setBuffer(A){if(this.buffer=A,this.sourceType="buffer",this.autoplay)this.play();return this}play(A=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+A;const Q=this.context.createBufferSource();return Q.buffer=this.buffer,Q.loop=this.loop,Q.loopStart=this.loopStart,Q.loopEnd=this.loopEnd,Q.onended=this.onEnded.bind(this),Q.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=Q,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}if(this.isPlaying===!0){if(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0)this._progress=this._progress%(this.duration||this.buffer.duration);this.source.stop(),this.source.onended=null,this.isPlaying=!1}return this}stop(A=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}if(this._progress=0,this.source!==null)this.source.stop(this.context.currentTime+A),this.source.onended=null;return this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let A=1,Q=this.filters.length;A<Q;A++)this.filters[A-1].connect(this.filters[A]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected===!1)return;if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let A=1,Q=this.filters.length;A<Q;A++)this.filters[A-1].disconnect(this.filters[A]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(A){if(!A)A=[];if(this._connected===!0)this.disconnect(),this.filters=A.slice(),this.connect();else this.filters=A.slice();return this}setDetune(A){if(this.detune=A,this.isPlaying===!0&&this.source.detune!==void 0)this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,0.01);return this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(A){return this.setFilters(A?[A]:[])}setPlaybackRate(A){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}if(this.playbackRate=A,this.isPlaying===!0)this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,0.01);return this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){if(this.hasPlaybackControl===!1)return console.warn("THREE.Audio: this Audio has no playback control."),!1;return this.loop}setLoop(A){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}if(this.loop=A,this.isPlaying===!0)this.source.loop=this.loop;return this}setLoopStart(A){return this.loopStart=A,this}setLoopEnd(A){return this.loopEnd=A,this}getVolume(){return this.gain.gain.value}setVolume(A){return this.gain.gain.setTargetAtTime(A,this.context.currentTime,0.01),this}}var xI=/*@__PURE__*/new f,PM=/*@__PURE__*/new C0,So=/*@__PURE__*/new f,gI=/*@__PURE__*/new f;class l3 extends wO{constructor(A){super(A);this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(A){return this.panner.refDistance=A,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(A){return this.panner.rolloffFactor=A,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(A){return this.panner.distanceModel=A,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(A){return this.panner.maxDistance=A,this}setDirectionalCone(A,Q,E){return this.panner.coneInnerAngle=A,this.panner.coneOuterAngle=Q,this.panner.coneOuterGain=E,this}updateMatrixWorld(A){if(super.updateMatrixWorld(A),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(xI,PM,So),gI.set(0,0,1).applyQuaternion(PM);const Q=this.panner;if(Q.positionX){const E=this.context.currentTime+this.listener.timeDelta;Q.positionX.linearRampToValueAtTime(xI.x,E),Q.positionY.linearRampToValueAtTime(xI.y,E),Q.positionZ.linearRampToValueAtTime(xI.z,E),Q.orientationX.linearRampToValueAtTime(gI.x,E),Q.orientationY.linearRampToValueAtTime(gI.y,E),Q.orientationZ.linearRampToValueAtTime(gI.z,E)}else Q.setPosition(xI.x,xI.y,xI.z),Q.setOrientation(gI.x,gI.y,gI.z)}}class n3{constructor(A,Q=2048){this.analyser=A.context.createAnalyser(),this.analyser.fftSize=Q,this.data=new Uint8Array(this.analyser.frequencyBinCount),A.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let A=0;const Q=this.getFrequencyData();for(let E=0;E<Q.length;E++)A+=Q[E];return A/Q.length}}class zO{constructor(A,Q,E){this.binding=A,this.valueSize=E;let B,I,K;switch(Q){case"quaternion":B=this._slerp,I=this._slerpAdditive,K=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(E*6),this._workIndex=5;break;case"string":case"bool":B=this._select,I=this._select,K=this._setAdditiveIdentityOther,this.buffer=new Array(E*5);break;default:B=this._lerp,I=this._lerpAdditive,K=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(E*5)}this._mixBufferRegion=B,this._mixBufferRegionAdditive=I,this._setIdentity=K,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(A,Q){const E=this.buffer,B=this.valueSize,I=A*B+B;let K=this.cumulativeWeight;if(K===0){for(let J=0;J!==B;++J)E[I+J]=E[J];K=Q}else{K+=Q;const J=Q/K;this._mixBufferRegion(E,I,0,J,B)}this.cumulativeWeight=K}accumulateAdditive(A){const Q=this.buffer,E=this.valueSize,B=E*this._addIndex;if(this.cumulativeWeightAdditive===0)this._setIdentity();this._mixBufferRegionAdditive(Q,B,0,A,E),this.cumulativeWeightAdditive+=A}apply(A){const Q=this.valueSize,E=this.buffer,B=A*Q+Q,I=this.cumulativeWeight,K=this.cumulativeWeightAdditive,J=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,I<1){const C=Q*this._origIndex;this._mixBufferRegion(E,B,C,1-I,Q)}if(K>0)this._mixBufferRegionAdditive(E,B,this._addIndex*Q,1,Q);for(let C=Q,U=Q+Q;C!==U;++C)if(E[C]!==E[C+Q]){J.setValue(E,B);break}}saveOriginalState(){const A=this.binding,Q=this.buffer,E=this.valueSize,B=E*this._origIndex;A.getValue(Q,B);for(let I=E,K=B;I!==K;++I)Q[I]=Q[B+I%E];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const A=this.valueSize*3;this.binding.setValue(this.buffer,A)}_setAdditiveIdentityNumeric(){const A=this._addIndex*this.valueSize,Q=A+this.valueSize;for(let E=A;E<Q;E++)this.buffer[E]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const A=this._origIndex*this.valueSize,Q=this._addIndex*this.valueSize;for(let E=0;E<this.valueSize;E++)this.buffer[Q+E]=this.buffer[A+E]}_select(A,Q,E,B,I){if(B>=0.5)for(let K=0;K!==I;++K)A[Q+K]=A[E+K]}_slerp(A,Q,E,B){C0.slerpFlat(A,Q,A,Q,A,E,B)}_slerpAdditive(A,Q,E,B,I){const K=this._workIndex*I;C0.multiplyQuaternionsFlat(A,K,A,Q,A,E),C0.slerpFlat(A,Q,A,Q,A,K,B)}_lerp(A,Q,E,B,I){const K=1-B;for(let J=0;J!==I;++J){const C=Q+J;A[C]=A[C]*K+A[E+J]*B}}_lerpAdditive(A,Q,E,B,I){for(let K=0;K!==I;++K){const J=Q+K;A[J]=A[J]+A[E+K]*B}}}var VO="\\[\\]\\.:\\/",Po=new RegExp("["+VO+"]","g"),TO="[^"+VO+"]",_o="[^"+VO.replace("\\.","")+"]",ko=/*@__PURE__*/ /((?:WC+[\/:])*)/.source.replace("WC",TO),jo=/*@__PURE__*/ /(WCOD+)?/.source.replace("WCOD",_o),ho=/*@__PURE__*/ /(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",TO),vo=/*@__PURE__*/ /\.(WC+)(?:\[(.+)\])?/.source.replace("WC",TO),yo=new RegExp("^"+ko+jo+ho+vo+"$"),xo=["material","materials","bones","map"];class o3{constructor(A,Q,E){const B=E||P0.parseTrackName(Q);this._targetGroup=A,this._bindings=A.subscribe_(Q,B)}getValue(A,Q){this.bind();const E=this._targetGroup.nCachedObjects_,B=this._bindings[E];if(B!==void 0)B.getValue(A,Q)}setValue(A,Q){const E=this._bindings;for(let B=this._targetGroup.nCachedObjects_,I=E.length;B!==I;++B)E[B].setValue(A,Q)}bind(){const A=this._bindings;for(let Q=this._targetGroup.nCachedObjects_,E=A.length;Q!==E;++Q)A[Q].bind()}unbind(){const A=this._bindings;for(let Q=this._targetGroup.nCachedObjects_,E=A.length;Q!==E;++Q)A[Q].unbind()}}class P0{constructor(A,Q,E){this.path=Q,this.parsedPath=E||P0.parseTrackName(Q),this.node=P0.findNode(A,this.parsedPath.nodeName),this.rootNode=A,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(A,Q,E){if(!(A&&A.isAnimationObjectGroup))return new P0(A,Q,E);else return new P0.Composite(A,Q,E)}static sanitizeNodeName(A){return A.replace(/\s/g,"_").replace(Po,"")}static parseTrackName(A){const Q=yo.exec(A);if(Q===null)throw new Error("PropertyBinding: Cannot parse trackName: "+A);const E={nodeName:Q[2],objectName:Q[3],objectIndex:Q[4],propertyName:Q[5],propertyIndex:Q[6]},B=E.nodeName&&E.nodeName.lastIndexOf(".");if(B!==void 0&&B!==-1){const I=E.nodeName.substring(B+1);if(xo.indexOf(I)!==-1)E.nodeName=E.nodeName.substring(0,B),E.objectName=I}if(E.propertyName===null||E.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+A);return E}static findNode(A,Q){if(Q===void 0||Q===""||Q==="."||Q===-1||Q===A.name||Q===A.uuid)return A;if(A.skeleton){const E=A.skeleton.getBoneByName(Q);if(E!==void 0)return E}if(A.children){const E=function(I){for(let K=0;K<I.length;K++){const J=I[K];if(J.name===Q||J.uuid===Q)return J;const C=E(J.children);if(C)return C}return null},B=E(A.children);if(B)return B}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(A,Q){A[Q]=this.targetObject[this.propertyName]}_getValue_array(A,Q){const E=this.resolvedProperty;for(let B=0,I=E.length;B!==I;++B)A[Q++]=E[B]}_getValue_arrayElement(A,Q){A[Q]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(A,Q){this.resolvedProperty.toArray(A,Q)}_setValue_direct(A,Q){this.targetObject[this.propertyName]=A[Q]}_setValue_direct_setNeedsUpdate(A,Q){this.targetObject[this.propertyName]=A[Q],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(A,Q){this.targetObject[this.propertyName]=A[Q],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(A,Q){const E=this.resolvedProperty;for(let B=0,I=E.length;B!==I;++B)E[B]=A[Q++]}_setValue_array_setNeedsUpdate(A,Q){const E=this.resolvedProperty;for(let B=0,I=E.length;B!==I;++B)E[B]=A[Q++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(A,Q){const E=this.resolvedProperty;for(let B=0,I=E.length;B!==I;++B)E[B]=A[Q++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(A,Q){this.resolvedProperty[this.propertyIndex]=A[Q]}_setValue_arrayElement_setNeedsUpdate(A,Q){this.resolvedProperty[this.propertyIndex]=A[Q],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(A,Q){this.resolvedProperty[this.propertyIndex]=A[Q],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(A,Q){this.resolvedProperty.fromArray(A,Q)}_setValue_fromArray_setNeedsUpdate(A,Q){this.resolvedProperty.fromArray(A,Q),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(A,Q){this.resolvedProperty.fromArray(A,Q),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(A,Q){this.bind(),this.getValue(A,Q)}_setValue_unbound(A,Q){this.bind(),this.setValue(A,Q)}bind(){let A=this.node;const Q=this.parsedPath,E=Q.objectName,B=Q.propertyName;let I=Q.propertyIndex;if(!A)A=P0.findNode(this.rootNode,Q.nodeName),this.node=A;if(this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!A){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(E){let U=Q.objectIndex;switch(E){case"materials":if(!A.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!A.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}A=A.material.materials;break;case"bones":if(!A.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}A=A.skeleton.bones;for(let Y=0;Y<A.length;Y++)if(A[Y].name===U){U=Y;break}break;case"map":if("map"in A){A=A.map;break}if(!A.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!A.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}A=A.material.map;break;default:if(A[E]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}A=A[E]}if(U!==void 0){if(A[U]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,A);return}A=A[U]}}const K=A[B];if(K===void 0){const U=Q.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+U+"."+B+" but it wasn\'t found.",A);return}let J=this.Versioning.None;if(this.targetObject=A,A.needsUpdate!==void 0)J=this.Versioning.NeedsUpdate;else if(A.matrixWorldNeedsUpdate!==void 0)J=this.Versioning.MatrixWorldNeedsUpdate;let C=this.BindingType.Direct;if(I!==void 0){if(B==="morphTargetInfluences"){if(!A.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!A.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}if(A.morphTargetDictionary[I]!==void 0)I=A.morphTargetDictionary[I]}C=this.BindingType.ArrayElement,this.resolvedProperty=K,this.propertyIndex=I}else if(K.fromArray!==void 0&&K.toArray!==void 0)C=this.BindingType.HasFromToArray,this.resolvedProperty=K;else if(Array.isArray(K))C=this.BindingType.EntireArray,this.resolvedProperty=K;else this.propertyName=B;this.getValue=this.GetterByBindingType[C],this.setValue=this.SetterByBindingTypeAndVersioning[C][J]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}P0.Composite=o3;P0.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};P0.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};P0.prototype.GetterByBindingType=[P0.prototype._getValue_direct,P0.prototype._getValue_array,P0.prototype._getValue_arrayElement,P0.prototype._getValue_toArray];P0.prototype.SetterByBindingTypeAndVersioning=[[P0.prototype._setValue_direct,P0.prototype._setValue_direct_setNeedsUpdate,P0.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[P0.prototype._setValue_array,P0.prototype._setValue_array_setNeedsUpdate,P0.prototype._setValue_array_setMatrixWorldNeedsUpdate],[P0.prototype._setValue_arrayElement,P0.prototype._setValue_arrayElement_setNeedsUpdate,P0.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[P0.prototype._setValue_fromArray,P0.prototype._setValue_fromArray_setNeedsUpdate,P0.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class i3{constructor(){this.isAnimationObjectGroup=!0,this.uuid=l1(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const A={};this._indicesByUUID=A;for(let E=0,B=arguments.length;E!==B;++E)A[arguments[E].uuid]=E;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const Q=this;this.stats={objects:{get total(){return Q._objects.length},get inUse(){return this.total-Q.nCachedObjects_}},get bindingsPerObject(){return Q._bindings.length}}}add(){const A=this._objects,Q=this._indicesByUUID,E=this._paths,B=this._parsedPaths,I=this._bindings,K=I.length;let J=void 0,C=A.length,U=this.nCachedObjects_;for(let Y=0,H=arguments.length;Y!==H;++Y){const R=arguments[Y],G=R.uuid;let O=Q[G];if(O===void 0){O=C++,Q[G]=O,A.push(R);for(let F=0,q=K;F!==q;++F)I[F].push(new P0(R,E[F],B[F]))}else if(O<U){J=A[O];const F=--U,q=A[F];Q[q.uuid]=O,A[O]=q,Q[G]=F,A[F]=R;for(let W=0,Z=K;W!==Z;++W){const $=I[W],X=$[F];let N=$[O];if($[O]=X,N===void 0)N=new P0(R,E[W],B[W]);$[F]=N}}else if(A[O]!==J)console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=U}remove(){const A=this._objects,Q=this._indicesByUUID,E=this._bindings,B=E.length;let I=this.nCachedObjects_;for(let K=0,J=arguments.length;K!==J;++K){const C=arguments[K],U=C.uuid,Y=Q[U];if(Y!==void 0&&Y>=I){const H=I++,R=A[H];Q[R.uuid]=Y,A[Y]=R,Q[U]=H,A[H]=C;for(let G=0,O=B;G!==O;++G){const F=E[G],q=F[H],W=F[Y];F[Y]=q,F[H]=W}}}this.nCachedObjects_=I}uncache(){const A=this._objects,Q=this._indicesByUUID,E=this._bindings,B=E.length;let I=this.nCachedObjects_,K=A.length;for(let J=0,C=arguments.length;J!==C;++J){const U=arguments[J],Y=U.uuid,H=Q[Y];if(H!==void 0)if(delete Q[Y],H<I){const R=--I,G=A[R],O=--K,F=A[O];Q[G.uuid]=H,A[H]=G,Q[F.uuid]=R,A[R]=F,A.pop();for(let q=0,W=B;q!==W;++q){const Z=E[q],$=Z[R],X=Z[O];Z[H]=$,Z[R]=X,Z.pop()}}else{const R=--K,G=A[R];if(R>0)Q[G.uuid]=H;A[H]=G,A.pop();for(let O=0,F=B;O!==F;++O){const q=E[O];q[H]=q[R],q.pop()}}}this.nCachedObjects_=I}subscribe_(A,Q){const E=this._bindingsIndicesByPath;let B=E[A];const I=this._bindings;if(B!==void 0)return I[B];const K=this._paths,J=this._parsedPaths,C=this._objects,U=C.length,Y=this.nCachedObjects_,H=new Array(U);B=I.length,E[A]=B,K.push(A),J.push(Q),I.push(H);for(let R=Y,G=C.length;R!==G;++R){const O=C[R];H[R]=new P0(O,A,Q)}return H}unsubscribe_(A){const Q=this._bindingsIndicesByPath,E=Q[A];if(E!==void 0){const B=this._paths,I=this._parsedPaths,K=this._bindings,J=K.length-1,C=K[J],U=A[J];Q[U]=E,K[E]=C,K.pop(),I[E]=I[J],I.pop(),B[E]=B[J],B.pop()}}}class SO{constructor(A,Q,E=null,B=Q.blendMode){this._mixer=A,this._clip=Q,this._localRoot=E,this.blendMode=B;const I=Q.tracks,K=I.length,J=new Array(K),C={endingStart:2400,endingEnd:2400};for(let U=0;U!==K;++U){const Y=I[U].createInterpolant(null);J[U]=Y,Y.settings=C}this._interpolantSettings=C,this._interpolants=J,this._propertyBindings=new Array(K),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(A){return this._startTime=A,this}setLoop(A,Q){return this.loop=A,this.repetitions=Q,this}setEffectiveWeight(A){return this.weight=A,this._effectiveWeight=this.enabled?A:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(A){return this._scheduleFading(A,0,1)}fadeOut(A){return this._scheduleFading(A,1,0)}crossFadeFrom(A,Q,E){if(A.fadeOut(Q),this.fadeIn(Q),E){const B=this._clip.duration,I=A._clip.duration,K=I/B,J=B/I;A.warp(1,K,Q),this.warp(J,1,Q)}return this}crossFadeTo(A,Q,E){return A.crossFadeFrom(this,Q,E)}stopFading(){const A=this._weightInterpolant;if(A!==null)this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(A);return this}setEffectiveTimeScale(A){return this.timeScale=A,this._effectiveTimeScale=this.paused?0:A,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(A){return this.timeScale=this._clip.duration/A,this.stopWarping()}syncWith(A){return this.time=A.time,this.timeScale=A.timeScale,this.stopWarping()}halt(A){return this.warp(this._effectiveTimeScale,0,A)}warp(A,Q,E){const B=this._mixer,I=B.time,K=this.timeScale;let J=this._timeScaleInterpolant;if(J===null)J=B._lendControlInterpolant(),this._timeScaleInterpolant=J;const{parameterPositions:C,sampleValues:U}=J;return C[0]=I,C[1]=I+E,U[0]=A/K,U[1]=Q/K,this}stopWarping(){const A=this._timeScaleInterpolant;if(A!==null)this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(A);return this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(A,Q,E,B){if(!this.enabled){this._updateWeight(A);return}const I=this._startTime;if(I!==null){const C=(A-I)*E;if(C<0||E===0)Q=0;else this._startTime=null,Q=E*C}Q*=this._updateTimeScale(A);const K=this._updateTime(Q),J=this._updateWeight(A);if(J>0){const C=this._interpolants,U=this._propertyBindings;switch(this.blendMode){case 2501:for(let Y=0,H=C.length;Y!==H;++Y)C[Y].evaluate(K),U[Y].accumulateAdditive(J);break;case 2500:default:for(let Y=0,H=C.length;Y!==H;++Y)C[Y].evaluate(K),U[Y].accumulate(B,J)}}}_updateWeight(A){let Q=0;if(this.enabled){Q=this.weight;const E=this._weightInterpolant;if(E!==null){const B=E.evaluate(A)[0];if(Q*=B,A>E.parameterPositions[1]){if(this.stopFading(),B===0)this.enabled=!1}}}return this._effectiveWeight=Q,Q}_updateTimeScale(A){let Q=0;if(!this.paused){Q=this.timeScale;const E=this._timeScaleInterpolant;if(E!==null){const B=E.evaluate(A)[0];if(Q*=B,A>E.parameterPositions[1])if(this.stopWarping(),Q===0)this.paused=!0;else this.timeScale=Q}}return this._effectiveTimeScale=Q,Q}_updateTime(A){const Q=this._clip.duration,E=this.loop;let B=this.time+A,I=this._loopCount;const K=E===2202;if(A===0){if(I===-1)return B;return K&&(I&1)===1?Q-B:B}if(E===2200){if(I===-1)this._loopCount=0,this._setEndings(!0,!0,!1);A:{if(B>=Q)B=Q;else if(B<0)B=0;else{this.time=B;break A}if(this.clampWhenFinished)this.paused=!0;else this.enabled=!1;this.time=B,this._mixer.dispatchEvent({type:"finished",action:this,direction:A<0?-1:1})}}else{if(I===-1)if(A>=0)I=0,this._setEndings(!0,this.repetitions===0,K);else this._setEndings(this.repetitions===0,!0,K);if(B>=Q||B<0){const J=Math.floor(B/Q);B-=Q*J,I+=Math.abs(J);const C=this.repetitions-I;if(C<=0){if(this.clampWhenFinished)this.paused=!0;else this.enabled=!1;B=A>0?Q:0,this.time=B,this._mixer.dispatchEvent({type:"finished",action:this,direction:A>0?1:-1})}else{if(C===1){const U=A<0;this._setEndings(U,!U,K)}else this._setEndings(!1,!1,K);this._loopCount=I,this.time=B,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:J})}}else this.time=B;if(K&&(I&1)===1)return Q-B}return B}_setEndings(A,Q,E){const B=this._interpolantSettings;if(E)B.endingStart=2401,B.endingEnd=2401;else{if(A)B.endingStart=this.zeroSlopeAtStart?2401:2400;else B.endingStart=2402;if(Q)B.endingEnd=this.zeroSlopeAtEnd?2401:2400;else B.endingEnd=2402}}_scheduleFading(A,Q,E){const B=this._mixer,I=B.time;let K=this._weightInterpolant;if(K===null)K=B._lendControlInterpolant(),this._weightInterpolant=K;const{parameterPositions:J,sampleValues:C}=K;return J[0]=I,C[0]=Q,J[1]=I+A,C[1]=E,this}}var go=new Float32Array(1);class SK extends uE{constructor(A){super();this._root=A,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(A,Q){const E=A._localRoot||this._root,B=A._clip.tracks,I=B.length,K=A._propertyBindings,J=A._interpolants,C=E.uuid,U=this._bindingsByRootAndName;let Y=U[C];if(Y===void 0)Y={},U[C]=Y;for(let H=0;H!==I;++H){const R=B[H],G=R.name;let O=Y[G];if(O!==void 0)++O.referenceCount,K[H]=O;else{if(O=K[H],O!==void 0){if(O._cacheIndex===null)++O.referenceCount,this._addInactiveBinding(O,C,G);continue}const F=Q&&Q._propertyBindings[H].binding.parsedPath;O=new zO(P0.create(E,G,F),R.ValueTypeName,R.getValueSize()),++O.referenceCount,this._addInactiveBinding(O,C,G),K[H]=O}J[H].resultBuffer=O.buffer}}_activateAction(A){if(!this._isActiveAction(A)){if(A._cacheIndex===null){const E=(A._localRoot||this._root).uuid,B=A._clip.uuid,I=this._actionsByClip[B];this._bindAction(A,I&&I.knownActions[0]),this._addInactiveAction(A,B,E)}const Q=A._propertyBindings;for(let E=0,B=Q.length;E!==B;++E){const I=Q[E];if(I.useCount++===0)this._lendBinding(I),I.saveOriginalState()}this._lendAction(A)}}_deactivateAction(A){if(this._isActiveAction(A)){const Q=A._propertyBindings;for(let E=0,B=Q.length;E!==B;++E){const I=Q[E];if(--I.useCount===0)I.restoreOriginalState(),this._takeBackBinding(I)}this._takeBackAction(A)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const A=this;this.stats={actions:{get total(){return A._actions.length},get inUse(){return A._nActiveActions}},bindings:{get total(){return A._bindings.length},get inUse(){return A._nActiveBindings}},controlInterpolants:{get total(){return A._controlInterpolants.length},get inUse(){return A._nActiveControlInterpolants}}}}_isActiveAction(A){const Q=A._cacheIndex;return Q!==null&&Q<this._nActiveActions}_addInactiveAction(A,Q,E){const B=this._actions,I=this._actionsByClip;let K=I[Q];if(K===void 0)K={knownActions:[A],actionByRoot:{}},A._byClipCacheIndex=0,I[Q]=K;else{const J=K.knownActions;A._byClipCacheIndex=J.length,J.push(A)}A._cacheIndex=B.length,B.push(A),K.actionByRoot[E]=A}_removeInactiveAction(A){const Q=this._actions,E=Q[Q.length-1],B=A._cacheIndex;E._cacheIndex=B,Q[B]=E,Q.pop(),A._cacheIndex=null;const I=A._clip.uuid,K=this._actionsByClip,J=K[I],C=J.knownActions,U=C[C.length-1],Y=A._byClipCacheIndex;U._byClipCacheIndex=Y,C[Y]=U,C.pop(),A._byClipCacheIndex=null;const H=J.actionByRoot,R=(A._localRoot||this._root).uuid;if(delete H[R],C.length===0)delete K[I];this._removeInactiveBindingsForAction(A)}_removeInactiveBindingsForAction(A){const Q=A._propertyBindings;for(let E=0,B=Q.length;E!==B;++E){const I=Q[E];if(--I.referenceCount===0)this._removeInactiveBinding(I)}}_lendAction(A){const Q=this._actions,E=A._cacheIndex,B=this._nActiveActions++,I=Q[B];A._cacheIndex=B,Q[B]=A,I._cacheIndex=E,Q[E]=I}_takeBackAction(A){const Q=this._actions,E=A._cacheIndex,B=--this._nActiveActions,I=Q[B];A._cacheIndex=B,Q[B]=A,I._cacheIndex=E,Q[E]=I}_addInactiveBinding(A,Q,E){const B=this._bindingsByRootAndName,I=this._bindings;let K=B[Q];if(K===void 0)K={},B[Q]=K;K[E]=A,A._cacheIndex=I.length,I.push(A)}_removeInactiveBinding(A){const Q=this._bindings,E=A.binding,B=E.rootNode.uuid,I=E.path,K=this._bindingsByRootAndName,J=K[B],C=Q[Q.length-1],U=A._cacheIndex;if(C._cacheIndex=U,Q[U]=C,Q.pop(),delete J[I],Object.keys(J).length===0)delete K[B]}_lendBinding(A){const Q=this._bindings,E=A._cacheIndex,B=this._nActiveBindings++,I=Q[B];A._cacheIndex=B,Q[B]=A,I._cacheIndex=E,Q[E]=I}_takeBackBinding(A){const Q=this._bindings,E=A._cacheIndex,B=--this._nActiveBindings,I=Q[B];A._cacheIndex=B,Q[B]=A,I._cacheIndex=E,Q[E]=I}_lendControlInterpolant(){const A=this._controlInterpolants,Q=this._nActiveControlInterpolants++;let E=A[Q];if(E===void 0)E=new BY(new Float32Array(2),new Float32Array(2),1,go),E.__cacheIndex=Q,A[Q]=E;return E}_takeBackControlInterpolant(A){const Q=this._controlInterpolants,E=A.__cacheIndex,B=--this._nActiveControlInterpolants,I=Q[B];A.__cacheIndex=B,Q[B]=A,I.__cacheIndex=E,Q[E]=I}clipAction(A,Q,E){const B=Q||this._root,I=B.uuid;let K=typeof A==="string"?U1.findByName(B,A):A;const J=K!==null?K.uuid:A,C=this._actionsByClip[J];let U=null;if(E===void 0)if(K!==null)E=K.blendMode;else E=2500;if(C!==void 0){const H=C.actionByRoot[I];if(H!==void 0&&H.blendMode===E)return H;if(U=C.knownActions[0],K===null)K=U._clip}if(K===null)return null;const Y=new SO(this,K,Q,E);return this._bindAction(Y,U),this._addInactiveAction(Y,J,I),Y}existingAction(A,Q){const E=Q||this._root,B=E.uuid,I=typeof A==="string"?U1.findByName(E,A):A,K=I?I.uuid:A,J=this._actionsByClip[K];if(J!==void 0)return J.actionByRoot[B]||null;return null}stopAllAction(){const A=this._actions,Q=this._nActiveActions;for(let E=Q-1;E>=0;--E)A[E].stop();return this}update(A){A*=this.timeScale;const Q=this._actions,E=this._nActiveActions,B=this.time+=A,I=Math.sign(A),K=this._accuIndex^=1;for(let U=0;U!==E;++U)Q[U]._update(B,A,I,K);const J=this._bindings,C=this._nActiveBindings;for(let U=0;U!==C;++U)J[U].apply(K);return this}setTime(A){this.time=0;for(let Q=0;Q<this._actions.length;Q++)this._actions[Q].time=0;return this.update(A)}getRoot(){return this._root}uncacheClip(A){const Q=this._actions,E=A.uuid,B=this._actionsByClip,I=B[E];if(I!==void 0){const K=I.knownActions;for(let J=0,C=K.length;J!==C;++J){const U=K[J];this._deactivateAction(U);const Y=U._cacheIndex,H=Q[Q.length-1];U._cacheIndex=null,U._byClipCacheIndex=null,H._cacheIndex=Y,Q[Y]=H,Q.pop(),this._removeInactiveBindingsForAction(U)}delete B[E]}}uncacheRoot(A){const Q=A.uuid,E=this._actionsByClip;for(let K in E){const J=E[K].actionByRoot,C=J[Q];if(C!==void 0)this._deactivateAction(C),this._removeInactiveAction(C)}const B=this._bindingsByRootAndName,I=B[Q];if(I!==void 0)for(let K in I){const J=I[K];J.restoreOriginalState(),this._removeInactiveBinding(J)}}uncacheAction(A,Q){const E=this.existingAction(A,Q);if(E!==null)this._deactivateAction(E),this._removeInactiveAction(E)}}class e9{constructor(A){this.value=A}clone(){return new e9(this.value.clone===void 0?this.value:this.value.clone())}}var bo=0;class s3 extends uE{constructor(){super();this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:bo++}),this.name="",this.usage=35044,this.uniforms=[]}add(A){return this.uniforms.push(A),this}remove(A){const Q=this.uniforms.indexOf(A);if(Q!==-1)this.uniforms.splice(Q,1);return this}setName(A){return this.name=A,this}setUsage(A){return this.usage=A,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(A){this.name=A.name,this.usage=A.usage;const Q=A.uniforms;this.uniforms.length=0;for(let E=0,B=Q.length;E<B;E++){const I=Array.isArray(Q[E])?Q[E]:[Q[E]];for(let K=0;K<I.length;K++)this.uniforms.push(I[K].clone())}return this}clone(){return new this.constructor().copy(this)}}class AC extends K8{constructor(A,Q,E=1){super(A,Q);this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=E}copy(A){return super.copy(A),this.meshPerAttribute=A.meshPerAttribute,this}clone(A){const Q=super.clone(A);return Q.meshPerAttribute=this.meshPerAttribute,Q}toJSON(A){const Q=super.toJSON(A);return Q.isInstancedInterleavedBuffer=!0,Q.meshPerAttribute=this.meshPerAttribute,Q}}class r3{constructor(A,Q,E,B,I){this.isGLBufferAttribute=!0,this.name="",this.buffer=A,this.type=Q,this.itemSize=E,this.elementSize=B,this.count=I,this.version=0}set needsUpdate(A){if(A===!0)this.version++}setBuffer(A){return this.buffer=A,this}setType(A,Q){return this.type=A,this.elementSize=Q,this}setItemSize(A){return this.itemSize=A,this}setCount(A){return this.count=A,this}}var _M=/*@__PURE__*/new MA;class qE{constructor(A,Q,E=0,B=1/0){this.ray=new i1(A,Q),this.near=E,this.far=B,this.camera=null,this.layers=new NK,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(A,Q){this.ray.set(A,Q)}setFromCamera(A,Q){if(Q.isPerspectiveCamera)this.ray.origin.setFromMatrixPosition(Q.matrixWorld),this.ray.direction.set(A.x,A.y,0.5).unproject(Q).sub(this.ray.origin).normalize(),this.camera=Q;else if(Q.isOrthographicCamera)this.ray.origin.set(A.x,A.y,(Q.near+Q.far)/(Q.near-Q.far)).unproject(Q),this.ray.direction.set(0,0,-1).transformDirection(Q.matrixWorld),this.camera=Q;else console.error("THREE.Raycaster: Unsupported camera type: "+Q.type)}setFromXRController(A){return _M.identity().extractRotation(A.matrixWorld),this.ray.origin.setFromMatrixPosition(A.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(_M),this}intersectObject(A,Q=!0,E=[]){return fR(A,this,E,Q),E.sort(kM),E}intersectObjects(A,Q=!0,E=[]){for(let B=0,I=A.length;B<I;B++)fR(A[B],this,E,Q);return E.sort(kM),E}}class QC{constructor(A=1,Q=0,E=0){return this.radius=A,this.phi=Q,this.theta=E,this}set(A,Q,E){return this.radius=A,this.phi=Q,this.theta=E,this}copy(A){return this.radius=A.radius,this.phi=A.phi,this.theta=A.theta,this}makeSafe(){return this.phi=Math.max(0.000001,Math.min(Math.PI-0.000001,this.phi)),this}setFromVector3(A){return this.setFromCartesianCoords(A.x,A.y,A.z)}setFromCartesianCoords(A,Q,E){if(this.radius=Math.sqrt(A*A+Q*Q+E*E),this.radius===0)this.theta=0,this.phi=0;else this.theta=Math.atan2(A,E),this.phi=Math.acos(jQ(Q/this.radius,-1,1));return this}clone(){return new this.constructor().copy(this)}}class a3{constructor(A=1,Q=0,E=0){return this.radius=A,this.theta=Q,this.y=E,this}set(A,Q,E){return this.radius=A,this.theta=Q,this.y=E,this}copy(A){return this.radius=A.radius,this.theta=A.theta,this.y=A.y,this}setFromVector3(A){return this.setFromCartesianCoords(A.x,A.y,A.z)}setFromCartesianCoords(A,Q,E){return this.radius=Math.sqrt(A*A+E*E),this.theta=Math.atan2(A,E),this.y=Q,this}clone(){return new this.constructor().copy(this)}}class PO{constructor(A,Q,E,B){if(PO.prototype.isMatrix2=!0,this.elements=[1,0,0,1],A!==void 0)this.set(A,Q,E,B)}identity(){return this.set(1,0,0,1),this}fromArray(A,Q=0){for(let E=0;E<4;E++)this.elements[E]=A[E+Q];return this}set(A,Q,E,B){const I=this.elements;return I[0]=A,I[2]=Q,I[1]=E,I[3]=B,this}}var jM=/*@__PURE__*/new RA;class PK{constructor(A=new RA(1/0,1/0),Q=new RA(-1/0,-1/0)){this.isBox2=!0,this.min=A,this.max=Q}set(A,Q){return this.min.copy(A),this.max.copy(Q),this}setFromPoints(A){this.makeEmpty();for(let Q=0,E=A.length;Q<E;Q++)this.expandByPoint(A[Q]);return this}setFromCenterAndSize(A,Q){const E=jM.copy(Q).multiplyScalar(0.5);return this.min.copy(A).sub(E),this.max.copy(A).add(E),this}clone(){return new this.constructor().copy(this)}copy(A){return this.min.copy(A.min),this.max.copy(A.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(A){return this.isEmpty()?A.set(0,0):A.addVectors(this.min,this.max).multiplyScalar(0.5)}getSize(A){return this.isEmpty()?A.set(0,0):A.subVectors(this.max,this.min)}expandByPoint(A){return this.min.min(A),this.max.max(A),this}expandByVector(A){return this.min.sub(A),this.max.add(A),this}expandByScalar(A){return this.min.addScalar(-A),this.max.addScalar(A),this}containsPoint(A){return A.x>=this.min.x&&A.x<=this.max.x&&A.y>=this.min.y&&A.y<=this.max.y}containsBox(A){return this.min.x<=A.min.x&&A.max.x<=this.max.x&&this.min.y<=A.min.y&&A.max.y<=this.max.y}getParameter(A,Q){return Q.set((A.x-this.min.x)/(this.max.x-this.min.x),(A.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(A){return A.max.x>=this.min.x&&A.min.x<=this.max.x&&A.max.y>=this.min.y&&A.min.y<=this.max.y}clampPoint(A,Q){return Q.copy(A).clamp(this.min,this.max)}distanceToPoint(A){return this.clampPoint(A,jM).distanceTo(A)}intersect(A){if(this.min.max(A.min),this.max.min(A.max),this.isEmpty())this.makeEmpty();return this}union(A){return this.min.min(A.min),this.max.max(A.max),this}translate(A){return this.min.add(A),this.max.add(A),this}equals(A){return A.min.equals(this.min)&&A.max.equals(this.max)}}var hM=/*@__PURE__*/new f,$5=/*@__PURE__*/new f;class Y8{constructor(A=new f,Q=new f){this.start=A,this.end=Q}set(A,Q){return this.start.copy(A),this.end.copy(Q),this}copy(A){return this.start.copy(A.start),this.end.copy(A.end),this}getCenter(A){return A.addVectors(this.start,this.end).multiplyScalar(0.5)}delta(A){return A.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(A,Q){return this.delta(Q).multiplyScalar(A).add(this.start)}closestPointToPointParameter(A,Q){hM.subVectors(A,this.start),$5.subVectors(this.end,this.start);const E=$5.dot($5);let I=$5.dot(hM)/E;if(Q)I=jQ(I,0,1);return I}closestPointToPoint(A,Q,E){const B=this.closestPointToPointParameter(A,Q);return this.delta(E).multiplyScalar(B).add(this.start)}applyMatrix4(A){return this.start.applyMatrix4(A),this.end.applyMatrix4(A),this}equals(A){return A.start.equals(this.start)&&A.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}var vM=/*@__PURE__*/new f;class t3 extends Y0{constructor(A,Q){super();this.light=A,this.matrixAutoUpdate=!1,this.color=Q,this.type="SpotLightHelper";const E=new pA,B=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let K=0,J=1,C=32;K<C;K++,J++){const U=K/C*Math.PI*2,Y=J/C*Math.PI*2;B.push(Math.cos(U),Math.sin(U),1,Math.cos(Y),Math.sin(Y),1)}E.setAttribute("position",new bA(B,3));const I=new g0({fog:!1,toneMapped:!1});this.cone=new wQ(E,I),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){if(this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent)this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld);else this.matrix.copy(this.light.matrixWorld);this.matrixWorld.copy(this.light.matrixWorld);const A=this.light.distance?this.light.distance:1000,Q=A*Math.tan(this.light.angle);if(this.cone.scale.set(Q,Q,A),vM.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(vM),this.color!==void 0)this.cone.material.color.set(this.color);else this.cone.material.color.copy(this.light.color)}}var jB=/*@__PURE__*/new f,W5=/*@__PURE__*/new MA,kR=/*@__PURE__*/new MA;class _O extends wQ{constructor(A){const Q=e3(A),E=new pA,B=[],I=[],K=new WA(0,0,1),J=new WA(0,1,0);for(let U=0;U<Q.length;U++){const Y=Q[U];if(Y.parent&&Y.parent.isBone)B.push(0,0,0),B.push(0,0,0),I.push(K.r,K.g,K.b),I.push(J.r,J.g,J.b)}E.setAttribute("position",new bA(B,3)),E.setAttribute("color",new bA(I,3));const C=new g0({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(E,C);this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=A,this.bones=Q,this.matrix=A.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(A){const Q=this.bones,E=this.geometry,B=E.getAttribute("position");kR.copy(this.root.matrixWorld).invert();for(let I=0,K=0;I<Q.length;I++){const J=Q[I];if(J.parent&&J.parent.isBone)W5.multiplyMatrices(kR,J.matrixWorld),jB.setFromMatrixPosition(W5),B.setXYZ(K,jB.x,jB.y,jB.z),W5.multiplyMatrices(kR,J.parent.matrixWorld),jB.setFromMatrixPosition(W5),B.setXYZ(K+1,jB.x,jB.y,jB.z),K+=2}E.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(A)}dispose(){this.geometry.dispose(),this.material.dispose()}}class Aw extends mA{constructor(A,Q,E){const B=new x1(Q,4,2),I=new V0({wireframe:!0,fog:!1,toneMapped:!1});super(B,I);this.light=A,this.color=E,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){if(this.light.updateWorldMatrix(!0,!1),this.color!==void 0)this.material.color.set(this.color);else this.material.color.copy(this.light.color)}}var fo=/*@__PURE__*/new f,yM=/*@__PURE__*/new WA,xM=/*@__PURE__*/new WA;class Qw extends Y0{constructor(A,Q,E){super();this.light=A,this.matrix=A.matrixWorld,this.matrixAutoUpdate=!1,this.color=E,this.type="HemisphereLightHelper";const B=new TK(Q);if(B.rotateY(Math.PI*0.5),this.material=new V0({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0)this.material.vertexColors=!0;const I=B.getAttribute("position"),K=new Float32Array(I.count*3);B.setAttribute("color",new E0(K,3)),this.add(new mA(B,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const A=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const Q=A.geometry.getAttribute("color");yM.copy(this.light.color),xM.copy(this.light.groundColor);for(let E=0,B=Q.count;E<B;E++){const I=E<B/2?yM:xM;Q.setXYZ(E,I.r,I.g,I.b)}Q.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),A.lookAt(fo.setFromMatrixPosition(this.light.matrixWorld).negate())}}class kO extends wQ{constructor(A=10,Q=10,E=4473924,B=8947848){E=new WA(E),B=new WA(B);const I=Q/2,K=A/Q,J=A/2,C=[],U=[];for(let R=0,G=0,O=-J;R<=Q;R++,O+=K){C.push(-J,0,O,J,0,O),C.push(O,0,-J,O,0,J);const F=R===I?E:B;F.toArray(U,G),G+=3,F.toArray(U,G),G+=3,F.toArray(U,G),G+=3,F.toArray(U,G),G+=3}const Y=new pA;Y.setAttribute("position",new bA(C,3)),Y.setAttribute("color",new bA(U,3));const H=new g0({vertexColors:!0,toneMapped:!1});super(Y,H);this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Ew extends wQ{constructor(A=10,Q=16,E=8,B=64,I=4473924,K=8947848){I=new WA(I),K=new WA(K);const J=[],C=[];if(Q>1)for(let H=0;H<Q;H++){const R=H/Q*(Math.PI*2),G=Math.sin(R)*A,O=Math.cos(R)*A;J.push(0,0,0),J.push(G,0,O);const F=H&1?I:K;C.push(F.r,F.g,F.b),C.push(F.r,F.g,F.b)}for(let H=0;H<E;H++){const R=H&1?I:K,G=A-A/E*H;for(let O=0;O<B;O++){let F=O/B*(Math.PI*2),q=Math.sin(F)*G,W=Math.cos(F)*G;J.push(q,0,W),C.push(R.r,R.g,R.b),F=(O+1)/B*(Math.PI*2),q=Math.sin(F)*G,W=Math.cos(F)*G,J.push(q,0,W),C.push(R.r,R.g,R.b)}}const U=new pA;U.setAttribute("position",new bA(J,3)),U.setAttribute("color",new bA(C,3));const Y=new g0({vertexColors:!0,toneMapped:!1});super(U,Y);this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}var gM=/*@__PURE__*/new f,X5=/*@__PURE__*/new f,bM=/*@__PURE__*/new f;class RY extends Y0{constructor(A,Q,E){super();if(this.light=A,this.matrix=A.matrixWorld,this.matrixAutoUpdate=!1,this.color=E,this.type="DirectionalLightHelper",Q===void 0)Q=1;let B=new pA;B.setAttribute("position",new bA([-Q,Q,0,Q,Q,0,Q,-Q,0,-Q,-Q,0,-Q,Q,0],3));const I=new g0({fog:!1,toneMapped:!1});this.lightPlane=new sQ(B,I),this.add(this.lightPlane),B=new pA,B.setAttribute("position",new bA([0,0,0,0,0,1],3)),this.targetLine=new sQ(B,I),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){if(this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),gM.setFromMatrixPosition(this.light.matrixWorld),X5.setFromMatrixPosition(this.light.target.matrixWorld),bM.subVectors(X5,gM),this.lightPlane.lookAt(X5),this.color!==void 0)this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color);else this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color);this.targetLine.lookAt(X5),this.targetLine.scale.z=bM.length()}}var F5=/*@__PURE__*/new f,kQ=/*@__PURE__*/new DK;class Bw extends wQ{constructor(A){const Q=new pA,E=new g0({color:16777215,vertexColors:!0,toneMapped:!1}),B=[],I=[],K={};J("n1","n2"),J("n2","n4"),J("n4","n3"),J("n3","n1"),J("f1","f2"),J("f2","f4"),J("f4","f3"),J("f3","f1"),J("n1","f1"),J("n2","f2"),J("n3","f3"),J("n4","f4"),J("p","n1"),J("p","n2"),J("p","n3"),J("p","n4"),J("u1","u2"),J("u2","u3"),J("u3","u1"),J("c","t"),J("p","c"),J("cn1","cn2"),J("cn3","cn4"),J("cf1","cf2"),J("cf3","cf4");function J(O,F){C(O),C(F)}function C(O){if(B.push(0,0,0),I.push(0,0,0),K[O]===void 0)K[O]=[];K[O].push(B.length/3-1)}Q.setAttribute("position",new bA(B,3)),Q.setAttribute("color",new bA(I,3));super(Q,E);if(this.type="CameraHelper",this.camera=A,this.camera.updateProjectionMatrix)this.camera.updateProjectionMatrix();this.matrix=A.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=K,this.update();const U=new WA(16755200),Y=new WA(16711680),H=new WA(43775),R=new WA(16777215),G=new WA(3355443);this.setColors(U,Y,H,R,G)}setColors(A,Q,E,B,I){const J=this.geometry.getAttribute("color");J.setXYZ(0,A.r,A.g,A.b),J.setXYZ(1,A.r,A.g,A.b),J.setXYZ(2,A.r,A.g,A.b),J.setXYZ(3,A.r,A.g,A.b),J.setXYZ(4,A.r,A.g,A.b),J.setXYZ(5,A.r,A.g,A.b),J.setXYZ(6,A.r,A.g,A.b),J.setXYZ(7,A.r,A.g,A.b),J.setXYZ(8,A.r,A.g,A.b),J.setXYZ(9,A.r,A.g,A.b),J.setXYZ(10,A.r,A.g,A.b),J.setXYZ(11,A.r,A.g,A.b),J.setXYZ(12,A.r,A.g,A.b),J.setXYZ(13,A.r,A.g,A.b),J.setXYZ(14,A.r,A.g,A.b),J.setXYZ(15,A.r,A.g,A.b),J.setXYZ(16,A.r,A.g,A.b),J.setXYZ(17,A.r,A.g,A.b),J.setXYZ(18,A.r,A.g,A.b),J.setXYZ(19,A.r,A.g,A.b),J.setXYZ(20,A.r,A.g,A.b),J.setXYZ(21,A.r,A.g,A.b),J.setXYZ(22,A.r,A.g,A.b),J.setXYZ(23,A.r,A.g,A.b),J.setXYZ(24,Q.r,Q.g,Q.b),J.setXYZ(25,Q.r,Q.g,Q.b),J.setXYZ(26,Q.r,Q.g,Q.b),J.setXYZ(27,Q.r,Q.g,Q.b),J.setXYZ(28,Q.r,Q.g,Q.b),J.setXYZ(29,Q.r,Q.g,Q.b),J.setXYZ(30,Q.r,Q.g,Q.b),J.setXYZ(31,Q.r,Q.g,Q.b),J.setXYZ(32,E.r,E.g,E.b),J.setXYZ(33,E.r,E.g,E.b),J.setXYZ(34,E.r,E.g,E.b),J.setXYZ(35,E.r,E.g,E.b),J.setXYZ(36,E.r,E.g,E.b),J.setXYZ(37,E.r,E.g,E.b),J.setXYZ(38,B.r,B.g,B.b),J.setXYZ(39,B.r,B.g,B.b),J.setXYZ(40,I.r,I.g,I.b),J.setXYZ(41,I.r,I.g,I.b),J.setXYZ(42,I.r,I.g,I.b),J.setXYZ(43,I.r,I.g,I.b),J.setXYZ(44,I.r,I.g,I.b),J.setXYZ(45,I.r,I.g,I.b),J.setXYZ(46,I.r,I.g,I.b),J.setXYZ(47,I.r,I.g,I.b),J.setXYZ(48,I.r,I.g,I.b),J.setXYZ(49,I.r,I.g,I.b),J.needsUpdate=!0}update(){const A=this.geometry,Q=this.pointMap;kQ.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),fQ("c",Q,A,kQ,0,0,-1),fQ("t",Q,A,kQ,0,0,1),fQ("n1",Q,A,kQ,-1,-1,-1),fQ("n2",Q,A,kQ,1,-1,-1),fQ("n3",Q,A,kQ,-1,1,-1),fQ("n4",Q,A,kQ,1,1,-1),fQ("f1",Q,A,kQ,-1,-1,1),fQ("f2",Q,A,kQ,1,-1,1),fQ("f3",Q,A,kQ,-1,1,1),fQ("f4",Q,A,kQ,1,1,1),fQ("u1",Q,A,kQ,0.7,1.1,-1),fQ("u2",Q,A,kQ,-0.7,1.1,-1),fQ("u3",Q,A,kQ,0,2,-1),fQ("cf1",Q,A,kQ,-1,0,1),fQ("cf2",Q,A,kQ,1,0,1),fQ("cf3",Q,A,kQ,0,-1,1),fQ("cf4",Q,A,kQ,0,1,1),fQ("cn1",Q,A,kQ,-1,0,-1),fQ("cn2",Q,A,kQ,1,0,-1),fQ("cn3",Q,A,kQ,0,-1,-1),fQ("cn4",Q,A,kQ,0,1,-1),A.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}var q5=/*@__PURE__*/new p0;class Iw extends wQ{constructor(A,Q=16776960){const E=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),B=new Float32Array(24),I=new pA;I.setIndex(new E0(E,1)),I.setAttribute("position",new E0(B,3));super(I,new g0({color:Q,toneMapped:!1}));this.object=A,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(A){if(A!==void 0)console.warn("THREE.BoxHelper: .update() has no longer arguments.");if(this.object!==void 0)q5.setFromObject(this.object);if(q5.isEmpty())return;const{min:Q,max:E}=q5,B=this.geometry.attributes.position,I=B.array;I[0]=E.x,I[1]=E.y,I[2]=E.z,I[3]=Q.x,I[4]=E.y,I[5]=E.z,I[6]=Q.x,I[7]=Q.y,I[8]=E.z,I[9]=E.x,I[10]=Q.y,I[11]=E.z,I[12]=E.x,I[13]=E.y,I[14]=Q.z,I[15]=Q.x,I[16]=E.y,I[17]=Q.z,I[18]=Q.x,I[19]=Q.y,I[20]=Q.z,I[21]=E.x,I[22]=Q.y,I[23]=Q.z,B.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(A){return this.object=A,this.update(),this}copy(A,Q){return super.copy(A,Q),this.object=A.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class jO extends wQ{constructor(A,Q=16776960){const E=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),B=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],I=new pA;I.setIndex(new E0(E,1)),I.setAttribute("position",new bA(B,3));super(I,new g0({color:Q,toneMapped:!1}));this.box=A,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(A){const Q=this.box;if(Q.isEmpty())return;Q.getCenter(this.position),Q.getSize(this.scale),this.scale.multiplyScalar(0.5),super.updateMatrixWorld(A)}dispose(){this.geometry.dispose(),this.material.dispose()}}class Kw extends sQ{constructor(A,Q=1,E=16776960){const B=E,I=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],K=new pA;K.setAttribute("position",new bA(I,3)),K.computeBoundingSphere();super(K,new g0({color:B,toneMapped:!1}));this.type="PlaneHelper",this.plane=A,this.size=Q;const J=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],C=new pA;C.setAttribute("position",new bA(J,3)),C.computeBoundingSphere(),this.add(new mA(C,new V0({color:B,opacity:0.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(A){this.position.set(0,0,0),this.scale.set(0.5*this.size,0.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(A)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}var fM=/*@__PURE__*/new f,N5,jR;class Jw extends Y0{constructor(A=new f(0,0,1),Q=new f(0,0,0),E=1,B=16776960,I=E*0.2,K=I*0.2){super();if(this.type="ArrowHelper",N5===void 0)N5=new pA,N5.setAttribute("position",new bA([0,0,0,0,1,0],3)),jR=new d8(0,0.5,1,5,1),jR.translate(0,-0.5,0);this.position.copy(Q),this.line=new sQ(N5,new g0({color:B,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new mA(jR,new V0({color:B,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(A),this.setLength(E,I,K)}setDirection(A){if(A.y>0.99999)this.quaternion.set(0,0,0,1);else if(A.y<-0.99999)this.quaternion.set(1,0,0,0);else{fM.set(A.z,0,-A.x).normalize();const Q=Math.acos(A.y);this.quaternion.setFromAxisAngle(fM,Q)}}setLength(A,Q=A*0.2,E=Q*0.2){this.line.scale.set(1,Math.max(0.0001,A-Q),1),this.line.updateMatrix(),this.cone.scale.set(E,Q,E),this.cone.position.y=A,this.cone.updateMatrix()}setColor(A){this.line.material.color.set(A),this.cone.material.color.set(A)}copy(A){return super.copy(A,!1),this.line.copy(A.line),this.cone.copy(A.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Cw extends wQ{constructor(A=1){const Q=[0,0,0,A,0,0,0,0,0,0,A,0,0,0,0,0,0,A],E=[1,0,0,1,0.6,0,0,1,0,0.6,1,0,0,0,1,0,0.6,1],B=new pA;B.setAttribute("position",new bA(Q,3)),B.setAttribute("color",new bA(E,3));const I=new g0({vertexColors:!0,toneMapped:!1});super(B,I);this.type="AxesHelper"}setColors(A,Q,E){const B=new WA,I=this.geometry.attributes.color.array;return B.set(A),B.toArray(I,0),B.toArray(I,3),B.set(Q),B.toArray(I,6),B.toArray(I,9),B.set(E),B.toArray(I,12),B.toArray(I,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class OY{constructor(){this.type="ShapePath",this.color=new WA,this.subPaths=[],this.currentPath=null}moveTo(A,Q){return this.currentPath=new mI,this.subPaths.push(this.currentPath),this.currentPath.moveTo(A,Q),this}lineTo(A,Q){return this.currentPath.lineTo(A,Q),this}quadraticCurveTo(A,Q,E,B){return this.currentPath.quadraticCurveTo(A,Q,E,B),this}bezierCurveTo(A,Q,E,B,I,K){return this.currentPath.bezierCurveTo(A,Q,E,B,I,K),this}splineThru(A){return this.currentPath.splineThru(A),this}toShapes(A){function Q(W){const Z=[];for(let $=0,X=W.length;$<X;$++){const N=W[$],M=new g8;M.curves=N.curves,Z.push(M)}return Z}function E(W,Z){const $=Z.length;let X=!1;for(let N=$-1,M=0;M<$;N=M++){let L=Z[N],D=Z[M],w=D.x-L.x,P=D.y-L.y;if(Math.abs(P)>Number.EPSILON){if(P<0)L=Z[M],w=-w,D=Z[N],P=-P;if(W.y<L.y||W.y>D.y)continue;if(W.y===L.y){if(W.x===L.x)return!0}else{const V=P*(W.x-L.x)-w*(W.y-L.y);if(V===0)return!0;if(V<0)continue;X=!X}}else{if(W.y!==L.y)continue;if(D.x<=W.x&&W.x<=L.x||L.x<=W.x&&W.x<=D.x)return!0}}return X}const B=n1.isClockWise,I=this.subPaths;if(I.length===0)return[];let K,J,C;const U=[];if(I.length===1)return J=I[0],C=new g8,C.curves=J.curves,U.push(C),U;let Y=!B(I[0].getPoints());Y=A?!Y:Y;const H=[],R=[];let G=[],O=0,F;R[O]=void 0,G[O]=[];for(let W=0,Z=I.length;W<Z;W++)if(J=I[W],F=J.getPoints(),K=B(F),K=A?!K:K,K){if(!Y&&R[O])O++;if(R[O]={s:new g8,p:F},R[O].s.curves=J.curves,Y)O++;G[O]=[]}else G[O].push({h:J,p:F[0]});if(!R[0])return Q(I);if(R.length>1){let W=!1,Z=0;for(let $=0,X=R.length;$<X;$++)H[$]=[];for(let $=0,X=R.length;$<X;$++){const N=G[$];for(let M=0;M<N.length;M++){const L=N[M];let D=!0;for(let w=0;w<R.length;w++)if(E(L.p,R[w].p)){if($!==w)Z++;if(D)D=!1,H[w].push(L);else W=!0}if(D)H[$].push(L)}}if(Z>0&&W===!1)G=H}let q;for(let W=0,Z=R.length;W<Z;W++){C=R[W].s,U.push(C),q=G[W];for(let $=0,X=q.length;$<X;$++)C.holes.push(q[$].h)}return U}}class H8 extends uE{constructor(A,Q=null){super();this.object=A,this.domElement=Q,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}class Uw extends B0{constructor(A=1,Q=1,E=1,B={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.');super(A,Q,{...B,count:E});this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}if(typeof __THREE_DEVTOOLS__!=="undefined")__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"169"}}));if(typeof window!=="undefined")if(window.__THREE__)console.warn("WARNING: Multiple instances of Three.js being imported.");else window.__THREE__="169";function rI(...A){console.log("[jfl]",...A)}function Yw(A){return 32-[3,4,4,4,3,4,4,4,3,4,4,4,4,3,3,4,4,4,3,3,4,3,4,3,3,4,3,4,4,3,4,4,4,3,3,3,4,4,3,3,3,4,4,3,3,3,3,3,3,3,3,3,4,4,4,4,3,4,4,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4][A]}function Hw(A){return 32-[6,6,5,7,6,7,6,7,4,7,6,8,5,5,6,6,7,7,6,6,5,6,7,5,6,6,6,6][A]}function Gw(A,Q){switch(Q){case 3:case 15:case 19:case 20:case 21:case 23:case 25:if(A<12)A=12}return A}function hO(A,Q){switch(Q){case 14:case 26:if(A<12)A=12}return A}var vO=(A)=>({_112:A.unknown1,_114:A.unknown2,authorID:A.systemId,birthDay:A.birthDay,birthMonth:A.birthMonth,birthPlatform:A.deviceOrigin,build:A.build,copyable:Number(A.allowCopying),creatorID:A.systemId,creatorName:A.creatorName,favoriteColor:A.favoriteColor,favoriteMii:Number(A.favorite),fontRegion:0,gender:A.gender,height:A.height,localOnly:0,miiVersion:A.version,name:A.miiName,ngWord:0,pageIndex:A.pageIndex,parts:{beardColor:A.facialHairColor,beardType:A.beardType,eyebrowColor:A.eyebrowColor,eyebrowPositionY:A.eyebrowYPosition,eyebrowRotate:A.eyebrowRotation,eyebrowScale:A.eyebrowScale,eyebrowScaleY:A.eyebrowYPosition,eyebrowSpacingX:A.eyebrowSpacing,eyebrowType:A.eyebrowType,eyeColor:A.eyeColor,eyePositionY:A.eyeYPosition,eyeRotate:A.eyeRotation,eyeScale:A.eyeScale,eyeScaleY:A.eyeVerticalStretch,eyeSpacingX:A.eyeSpacing,eyeType:A.eyeType,faceLine:A.wrinklesType,facelineColor:A.skinColor,faceMakeup:A.makeupType,faceType:A.faceType,glassColor:A.glassesColor,glassPositionY:A.glassesYPosition,glassScale:A.glassesScale,glassType:A.glassesType,hairColor:A.hairColor,hairDir:Number(A.flipHair),hairType:A.hairType,molePositionX:A.moleXPosition,molePositionY:A.moleYPosition,moleScale:A.moleScale,moleType:Number(A.moleEnabled),mouthColor:A.mouthColor,mouthPositionY:A.mouthYPosition,mouthScale:A.mouthScale,mouthScaleY:A.mouthHorizontalStretch,mouthType:A.mouthType,mustachePositionY:A.mustacheYPosition,mustacheScale:A.mustacheScale,mustacheType:A.mustacheType,nosePositionY:A.noseYPosition,noseScale:A.noseScale,noseType:A.noseType},regionMove:A.regionLock,slotIndex:A.slotIndex});var yO=0.88961464,Zw=1.7792293,_K=1.0760943,Rw=18.451524,Ow=16.549806,$w=29.25885,Ww=31.763552999999998,Xw=17.7661652,Fw=17.9598606;function qw(A,Q,E,B,I){const K=E*0.015625,J=Q.parts.eyeSpacingX*yO,C=0.4*Q.parts.eyeScale+1,U=0.12*Q.parts.eyeScaleY+0.64,Y=5.34375*C,H=4.5*C*U,R=Q.parts.eyePositionY*_K+Rw,O=(Q.parts.eyeRotate+Yw(Q.parts.eyeType))%32*11.25,F=Q.parts.eyebrowSpacingX*yO,q=0.4*Q.parts.eyebrowScale+1,W=0.12*Q.parts.eyebrowScaleY+0.64,Z=5.0625*q,$=4.5*q*W,X=Q.parts.eyebrowPositionY*_K+Ow,M=(Q.parts.eyebrowRotate+Hw(Q.parts.eyebrowType))%32*11.25,L=0.4*Q.parts.mouthScale+1,D=0.12*Q.parts.mouthScaleY+0.64,w=6.1875*L,P=4.5*L*D,V=Q.parts.mouthPositionY*_K+$w,T=0.4*Q.parts.mustacheScale+1,S=4.5*T,h=9*T,x=Q.parts.mustachePositionY*_K+Ww,y=0.4*Q.parts.moleScale+1,j=Q.parts.molePositionX*Zw+Xw,v=Q.parts.molePositionY*_K+Fw;A.rawMaskPartsDescEye[0].pos.x=(32-J)*K,A.rawMaskPartsDescEye[0].pos.y=R*K,A.rawMaskPartsDescEye[0].scale.x=Y*K,A.rawMaskPartsDescEye[0].scale.y=hO(H*K,B),A.rawMaskPartsDescEye[0].rot=O,A.rawMaskPartsDescEye[0].originPos=2,A.rawMaskPartsDescEye[1].pos.x=(J+32)*K,A.rawMaskPartsDescEye[1].pos.y=R*K,A.rawMaskPartsDescEye[1].scale.x=Y*K,A.rawMaskPartsDescEye[1].scale.y=hO(H*K,I),A.rawMaskPartsDescEye[1].rot=360-O,A.rawMaskPartsDescEye[1].originPos=1,A.rawMaskPartsDescEyebrow[0].pos.x=(32-F)*K,A.rawMaskPartsDescEyebrow[0].pos.y=X*K,A.rawMaskPartsDescEyebrow[0].scale.x=Z*K,A.rawMaskPartsDescEyebrow[0].scale.y=$*K,A.rawMaskPartsDescEyebrow[0].rot=M,A.rawMaskPartsDescEyebrow[0].originPos=2,A.rawMaskPartsDescEyebrow[1].pos.x=(F+32)*K,A.rawMaskPartsDescEyebrow[1].pos.y=X*K,A.rawMaskPartsDescEyebrow[1].scale.x=Z*K,A.rawMaskPartsDescEyebrow[1].scale.y=$*K,A.rawMaskPartsDescEyebrow[1].rot=360-M,A.rawMaskPartsDescEyebrow[1].originPos=1,A.rawMaskPartsDescMouth.pos.x=32*K,A.rawMaskPartsDescMouth.pos.y=V*K,A.rawMaskPartsDescMouth.scale.x=w*K,A.rawMaskPartsDescMouth.scale.y=Gw(P*K,Q.parts.mouthType),A.rawMaskPartsDescMouth.rot=0,A.rawMaskPartsDescMouth.originPos=0,A.rawMaskPartsDescMustache[0].pos.x=32*K,A.rawMaskPartsDescMustache[0].pos.y=x*K,A.rawMaskPartsDescMustache[0].scale.x=S*K,A.rawMaskPartsDescMustache[0].scale.y=h*K,A.rawMaskPartsDescMustache[0].rot=0,A.rawMaskPartsDescMustache[0].originPos=2,A.rawMaskPartsDescMustache[1].pos.x=32*K,A.rawMaskPartsDescMustache[1].pos.y=x*K,A.rawMaskPartsDescMustache[1].scale.x=S*K,A.rawMaskPartsDescMustache[1].scale.y=h*K,A.rawMaskPartsDescMustache[1].rot=0,A.rawMaskPartsDescMustache[1].originPos=1,A.rawMaskPartsDescMole.pos.x=j*K,A.rawMaskPartsDescMole.pos.y=v*K,A.rawMaskPartsDescMole.scale.x=y*K,A.rawMaskPartsDescMole.scale.y=y*K,A.rawMaskPartsDescMole.rot=0,A.rawMaskPartsDescMole.originPos=0}var EC={0:[1,0.827,0.678],1:[1,0.714,0.42],2:[0.87,0.475,0.259],3:[1,0.667,0.549],4:[0.678,0.318,0.161],5:[0.388,0.173,0.094]},xO={0:[0.118,0.102,0.094],1:[0.251,0.125,0.063],2:[0.361,0.094,0.039],3:[0.486,0.227,0.078],4:[0.471,0.471,0.502],5:[0.306,0.243,0.063],6:[0.533,0.345,0.094],7:[0.816,0.627,0.29]};var gO={0:[0,0,0],1:[0.424,0.439,0.439],2:[0.4,0.235,0.173],3:[0.376,0.369,0.188],4:[0.275,0.329,0.659],5:[0.22,0.439,0.345]};var Nw=268,Lw=281,bO=312,Dw=329;var Mw=593;var ww=135;var GQA=new C0,ZQA=new f,RQA=new f,OQA=new f,$QA=new f,WQA=new f,XQA=new C0,FQA=new f,qQA=new f,NQA=new f,LQA=new MA;var wQA=new f,zQA=new C0,VQA=new f,TQA=new MA;var vQA=new C0;var zw={name:"BokehShader",uniforms:{textureWidth:{value:1},textureHeight:{value:1},focalDepth:{value:1},focalLength:{value:24},fstop:{value:0.9},tColor:{value:null},tDepth:{value:null},maxblur:{value:1},showFocus:{value:0},manualdof:{value:0},vignetting:{value:0},depthblur:{value:0},threshold:{value:0.5},gain:{value:2},bias:{value:0.5},fringe:{value:0.7},znear:{value:0.1},zfar:{value:100},noise:{value:1},dithering:{value:0.0001},pentagon:{value:0},shaderFocus:{value:1},focusCoords:{value:new RA}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		#include <common>

		varying vec2 vUv;

		uniform sampler2D tColor;
		uniform sampler2D tDepth;
		uniform float textureWidth;
		uniform float textureHeight;

		uniform float focalDepth;  //focal distance value in meters, but you may use autofocus option below
		uniform float focalLength; //focal length in mm
		uniform float fstop; //f-stop value
		uniform bool showFocus; //show debug focus point and focal range (red = focal point, green = focal range)

		/*
		make sure that these two values are the same for your camera, otherwise distances will be wrong.
		*/

		uniform float znear; // camera clipping start
		uniform float zfar; // camera clipping end

		//------------------------------------------
		//user variables

		const int samples = SAMPLES; //samples on the first ring
		const int rings = RINGS; //ring count

		const int maxringsamples = rings * samples;

		uniform bool manualdof; // manual dof calculation
		float ndofstart = 1.0; // near dof blur start
		float ndofdist = 2.0; // near dof blur falloff distance
		float fdofstart = 1.0; // far dof blur start
		float fdofdist = 3.0; // far dof blur falloff distance

		float CoC = 0.03; //circle of confusion size in mm (35mm film = 0.03mm)

		uniform bool vignetting; // use optical lens vignetting

		float vignout = 1.3; // vignetting outer border
		float vignin = 0.0; // vignetting inner border
		float vignfade = 22.0; // f-stops till vignete fades

		uniform bool shaderFocus;
		// disable if you use external focalDepth value

		uniform vec2 focusCoords;
		// autofocus point on screen (0.0,0.0 - left lower corner, 1.0,1.0 - upper right)
		// if center of screen use vec2(0.5, 0.5);

		uniform float maxblur;
		//clamp value of max blur (0.0 = no blur, 1.0 default)

		uniform float threshold; // highlight threshold;
		uniform float gain; // highlight gain;

		uniform float bias; // bokeh edge bias
		uniform float fringe; // bokeh chromatic aberration / fringing

		uniform bool noise; //use noise instead of pattern for sample dithering

		uniform float dithering;

		uniform bool depthblur; // blur the depth buffer
		float dbsize = 1.25; // depth blur size

		/*
		next part is experimental
		not looking good with small sample and ring count
		looks okay starting from samples = 4, rings = 4
		*/

		uniform bool pentagon; //use pentagon as bokeh shape?
		float feather = 0.4; //pentagon shape feather

		//------------------------------------------

		float penta(vec2 coords) {
			//pentagonal shape
			float scale = float(rings) - 1.3;
			vec4  HS0 = vec4( 1.0,         0.0,         0.0,  1.0);
			vec4  HS1 = vec4( 0.309016994, 0.951056516, 0.0,  1.0);
			vec4  HS2 = vec4(-0.809016994, 0.587785252, 0.0,  1.0);
			vec4  HS3 = vec4(-0.809016994,-0.587785252, 0.0,  1.0);
			vec4  HS4 = vec4( 0.309016994,-0.951056516, 0.0,  1.0);
			vec4  HS5 = vec4( 0.0        ,0.0         , 1.0,  1.0);

			vec4  one = vec4( 1.0 );

			vec4 P = vec4((coords),vec2(scale, scale));

			vec4 dist = vec4(0.0);
			float inorout = -4.0;

			dist.x = dot( P, HS0 );
			dist.y = dot( P, HS1 );
			dist.z = dot( P, HS2 );
			dist.w = dot( P, HS3 );

			dist = smoothstep( -feather, feather, dist );

			inorout += dot( dist, one );

			dist.x = dot( P, HS4 );
			dist.y = HS5.w - abs( P.z );

			dist = smoothstep( -feather, feather, dist );
			inorout += dist.x;

			return clamp( inorout, 0.0, 1.0 );
		}

		float bdepth(vec2 coords) {
			// Depth buffer blur
			float d = 0.0;
			float kernel[9];
			vec2 offset[9];

			vec2 wh = vec2(1.0/textureWidth,1.0/textureHeight) * dbsize;

			offset[0] = vec2(-wh.x,-wh.y);
			offset[1] = vec2( 0.0, -wh.y);
			offset[2] = vec2( wh.x -wh.y);

			offset[3] = vec2(-wh.x,  0.0);
			offset[4] = vec2( 0.0,   0.0);
			offset[5] = vec2( wh.x,  0.0);

			offset[6] = vec2(-wh.x, wh.y);
			offset[7] = vec2( 0.0,  wh.y);
			offset[8] = vec2( wh.x, wh.y);

			kernel[0] = 1.0/16.0;   kernel[1] = 2.0/16.0;   kernel[2] = 1.0/16.0;
			kernel[3] = 2.0/16.0;   kernel[4] = 4.0/16.0;   kernel[5] = 2.0/16.0;
			kernel[6] = 1.0/16.0;   kernel[7] = 2.0/16.0;   kernel[8] = 1.0/16.0;


			for( int i=0; i<9; i++ ) {
				float tmp = texture2D(tDepth, coords + offset[i]).r;
				d += tmp * kernel[i];
			}

			return d;
		}


		vec3 color(vec2 coords,float blur) {
			//processing the sample

			vec3 col = vec3(0.0);
			vec2 texel = vec2(1.0/textureWidth,1.0/textureHeight);

			col.r = texture2D(tColor,coords + vec2(0.0,1.0)*texel*fringe*blur).r;
			col.g = texture2D(tColor,coords + vec2(-0.866,-0.5)*texel*fringe*blur).g;
			col.b = texture2D(tColor,coords + vec2(0.866,-0.5)*texel*fringe*blur).b;

			vec3 lumcoeff = vec3(0.299,0.587,0.114);
			float lum = dot(col.rgb, lumcoeff);
			float thresh = max((lum-threshold)*gain, 0.0);
			return col+mix(vec3(0.0),col,thresh*blur);
		}

		vec3 debugFocus(vec3 col, float blur, float depth) {
			float edge = 0.002*depth; //distance based edge smoothing
			float m = clamp(smoothstep(0.0,edge,blur),0.0,1.0);
			float e = clamp(smoothstep(1.0-edge,1.0,blur),0.0,1.0);

			col = mix(col,vec3(1.0,0.5,0.0),(1.0-m)*0.6);
			col = mix(col,vec3(0.0,0.5,1.0),((1.0-e)-(1.0-m))*0.2);

			return col;
		}

		float linearize(float depth) {
			return -zfar * znear / (depth * (zfar - znear) - zfar);
		}

		float vignette() {
			float dist = distance(vUv.xy, vec2(0.5,0.5));
			dist = smoothstep(vignout+(fstop/vignfade), vignin+(fstop/vignfade), dist);
			return clamp(dist,0.0,1.0);
		}

		float gather(float i, float j, int ringsamples, inout vec3 col, float w, float h, float blur) {
			float rings2 = float(rings);
			float step = PI*2.0 / float(ringsamples);
			float pw = cos(j*step)*i;
			float ph = sin(j*step)*i;
			float p = 1.0;
			if (pentagon) {
				p = penta(vec2(pw,ph));
			}
			col += color(vUv.xy + vec2(pw*w,ph*h), blur) * mix(1.0, i/rings2, bias) * p;
			return 1.0 * mix(1.0, i /rings2, bias) * p;
		}

		void main() {
			//scene depth calculation

			float depth = linearize(texture2D(tDepth,vUv.xy).x);

			// Blur depth?
			if ( depthblur ) {
				depth = linearize(bdepth(vUv.xy));
			}

			//focal plane calculation

			float fDepth = focalDepth;

			if (shaderFocus) {

				fDepth = linearize(texture2D(tDepth,focusCoords).x);

			}

			// dof blur factor calculation

			float blur = 0.0;

			if (manualdof) {
				float a = depth-fDepth; // Focal plane
				float b = (a-fdofstart)/fdofdist; // Far DoF
				float c = (-a-ndofstart)/ndofdist; // Near Dof
				blur = (a>0.0) ? b : c;
			} else {
				float f = focalLength; // focal length in mm
				float d = fDepth*1000.0; // focal plane in mm
				float o = depth*1000.0; // depth in mm

				float a = (o*f)/(o-f);
				float b = (d*f)/(d-f);
				float c = (d-f)/(d*fstop*CoC);

				blur = abs(a-b)*c;
			}

			blur = clamp(blur,0.0,1.0);

			// calculation of pattern for dithering

			vec2 noise = vec2(rand(vUv.xy), rand( vUv.xy + vec2( 0.4, 0.6 ) ) )*dithering*blur;

			// getting blur x and y step factor

			float w = (1.0/textureWidth)*blur*maxblur+noise.x;
			float h = (1.0/textureHeight)*blur*maxblur+noise.y;

			// calculation of final color

			vec3 col = vec3(0.0);

			if(blur < 0.05) {
				//some optimization thingy
				col = texture2D(tColor, vUv.xy).rgb;
			} else {
				col = texture2D(tColor, vUv.xy).rgb;
				float s = 1.0;
				int ringsamples;

				for (int i = 1; i <= rings; i++) {
					/*unboxstart*/
					ringsamples = i * samples;

					for (int j = 0 ; j < maxringsamples ; j++) {
						if (j >= ringsamples) break;
						s += gather(float(i), float(j), ringsamples, col, w, h, blur);
					}
					/*unboxend*/
				}

				col /= s; //divide by sample count
			}

			if (showFocus) {
				col = debugFocus(col, blur, depth);
			}

			if (vignetting) {
				col *= vignette();
			}

			gl_FragColor.rgb = col;
			gl_FragColor.a = 1.0;

			#include <tonemapping_fragment>
			#include <colorspace_fragment>
		}`};var dQA={IDLE:Symbol(),ROTATE:Symbol(),PAN:Symbol(),SCALE:Symbol(),FOV:Symbol(),FOCUS:Symbol(),ZROTATE:Symbol(),TOUCH_MULTI:Symbol(),ANIMATION_FOCUS:Symbol(),ANIMATION_ROTATE:Symbol()},lQA={NONE:Symbol(),ONE_FINGER:Symbol(),ONE_FINGER_SWITCHED:Symbol(),TWO_FINGER:Symbol(),MULT_FINGER:Symbol(),CURSOR:Symbol()};var nQA={camera:new MA,gizmos:new MA};var oQA=new qE,iQA=new f,sQA=new MA,rQA=new MA,aQA=new f;var A1A=new ZQ,Q1A=new RA,E1A=new f,B1A=new RA,I1A=new RA,K1A=new f,J1A=new f,C1A=new MA,U1A=new f,Y1A=new f;var Z1A=new f,R1A=new QC,O1A=new f,$1A=new f;var F1A=new C0;var L1A=new i1,D1A=new ZQ,M1A=Math.cos(70*EQ.DEG2RAD),w1A=new f,z1A=2*Math.PI;var j1A=new vQ(0,0,0,"YXZ"),h1A=new f;var v1A=Math.PI/2;var g1A=new RA,b1A=new RA,f1A=new f,u1A=new f,p1A=new f,m1A=new C0,c1A=new f,d1A=new f,l1A=new f,n1A=new f;var s1A=new qE,r1A=new f,a1A=new f,t1A=new C0,e1A={X:new f(1,0,0),Y:new f(0,1,0),Z:new f(0,0,1)};var AEA=new vQ,QEA=new f(0,1,0),EEA=new f(0,0,0),BEA=new MA,IEA=new C0,KEA=new C0,JEA=new f,CEA=new MA,UEA=new f(1,0,0),YEA=new f(0,1,0),HEA=new f(0,0,1),GEA=new f,ZEA=new f,REA=new f;var fO=new MA;class $Y{constructor(A){if(A=A||{},this.vertices={near:[new f,new f,new f,new f],far:[new f,new f,new f,new f]},A.projectionMatrix!==void 0)this.setFromProjectionMatrix(A.projectionMatrix,A.maxFar||1e4)}setFromProjectionMatrix(A,Q){const E=A.elements[11]===0;return fO.copy(A).invert(),this.vertices.near[0].set(1,1,-1),this.vertices.near[1].set(1,-1,-1),this.vertices.near[2].set(-1,-1,-1),this.vertices.near[3].set(-1,1,-1),this.vertices.near.forEach(function(B){B.applyMatrix4(fO)}),this.vertices.far[0].set(1,1,1),this.vertices.far[1].set(1,-1,1),this.vertices.far[2].set(-1,-1,1),this.vertices.far[3].set(-1,1,1),this.vertices.far.forEach(function(B){B.applyMatrix4(fO);const I=Math.abs(B.z);if(E)B.z*=Math.min(Q/I,1);else B.multiplyScalar(Math.min(Q/I,1))}),this.vertices}split(A,Q){while(A.length>Q.length)Q.push(new $Y);Q.length=A.length;for(let E=0;E<A.length;E++){const B=Q[E];if(E===0)for(let I=0;I<4;I++)B.vertices.near[I].copy(this.vertices.near[I]);else for(let I=0;I<4;I++)B.vertices.near[I].lerpVectors(this.vertices.near[I],this.vertices.far[I],A[E-1]);if(E===A.length-1)for(let I=0;I<4;I++)B.vertices.far[I].copy(this.vertices.far[I]);else for(let I=0;I<4;I++)B.vertices.far[I].lerpVectors(this.vertices.near[I],this.vertices.far[I],A[E])}}toSpace(A,Q){for(let E=0;E<4;E++)Q.vertices.near[E].copy(this.vertices.near[E]).applyMatrix4(A),Q.vertices.far[E].copy(this.vertices.far[E]).applyMatrix4(A)}}var uo={lights_fragment_begin:`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );

vec3 geometryClearcoatNormal = vec3( 0.0 );

#ifdef USE_CLEARCOAT

	geometryClearcoatNormal = clearcoatNormal;

#endif

#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		// Iridescence F0 approximation
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif

IncidentLight directLight;

#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )

	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif

	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {

		pointLight = pointLights[ i ];

		getPointLightInfo( pointLight, geometryPosition, directLight );

		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif

		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );

	}
	#pragma unroll_loop_end

#endif

#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )

	SpotLight spotLight;
 	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;

	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif

	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {

		spotLight = spotLights[ i ];

		getSpotLightInfo( spotLight, geometryPosition, directLight );

  		// spot lights are ordered [shadows with maps, shadows without maps, maps without shadows, none]
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX

		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;

		#endif

		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );

	}
	#pragma unroll_loop_end

#endif

#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct ) && defined( USE_CSM ) && defined( CSM_CASCADES )

	DirectionalLight directionalLight;
	float linearDepth = (vViewPosition.z) / (shadowFar - cameraNear);
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif

	#if defined( USE_SHADOWMAP ) && defined( CSM_FADE )
		vec2 cascade;
		float cascadeCenter;
		float closestEdge;
		float margin;
		float csmx;
		float csmy;

		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {

			directionalLight = directionalLights[ i ];
			getDirectionalLightInfo( directionalLight, directLight );

			#if ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
				// NOTE: Depth gets larger away from the camera.
				// cascade.x is closer, cascade.y is further
				cascade = CSM_cascades[ i ];
				cascadeCenter = ( cascade.x + cascade.y ) / 2.0;
				closestEdge = linearDepth < cascadeCenter ? cascade.x : cascade.y;
				margin = 0.25 * pow( closestEdge, 2.0 );
				csmx = cascade.x - margin / 2.0;
				csmy = cascade.y + margin / 2.0;
				if( linearDepth >= csmx && ( linearDepth < csmy || UNROLLED_LOOP_INDEX == CSM_CASCADES - 1 ) ) {

					float dist = min( linearDepth - csmx, csmy - linearDepth );
					float ratio = clamp( dist / margin, 0.0, 1.0 );

					vec3 prevColor = directLight.color;
					directionalLightShadow = directionalLightShadows[ i ];
					directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;

					bool shouldFadeLastCascade = UNROLLED_LOOP_INDEX == CSM_CASCADES - 1 && linearDepth > cascadeCenter;
					directLight.color = mix( prevColor, directLight.color, shouldFadeLastCascade ? ratio : 1.0 );

					ReflectedLight prevLight = reflectedLight;
					RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );

					bool shouldBlend = UNROLLED_LOOP_INDEX != CSM_CASCADES - 1 || UNROLLED_LOOP_INDEX == CSM_CASCADES - 1 && linearDepth < cascadeCenter;
					float blendRatio = shouldBlend ? ratio : 1.0;

					reflectedLight.directDiffuse = mix( prevLight.directDiffuse, reflectedLight.directDiffuse, blendRatio );
					reflectedLight.directSpecular = mix( prevLight.directSpecular, reflectedLight.directSpecular, blendRatio );
					reflectedLight.indirectDiffuse = mix( prevLight.indirectDiffuse, reflectedLight.indirectDiffuse, blendRatio );
					reflectedLight.indirectSpecular = mix( prevLight.indirectSpecular, reflectedLight.indirectSpecular, blendRatio );

				}
			#endif

		}
		#pragma unroll_loop_end
	#elif defined (USE_SHADOWMAP)

		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {

			directionalLight = directionalLights[ i ];
			getDirectionalLightInfo( directionalLight, directLight );

			#if ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )

				directionalLightShadow = directionalLightShadows[ i ];
				if(linearDepth >= CSM_cascades[UNROLLED_LOOP_INDEX].x && linearDepth < CSM_cascades[UNROLLED_LOOP_INDEX].y) directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;

				if(linearDepth >= CSM_cascades[UNROLLED_LOOP_INDEX].x && (linearDepth < CSM_cascades[UNROLLED_LOOP_INDEX].y || UNROLLED_LOOP_INDEX == CSM_CASCADES - 1)) RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );

			#endif

		}
		#pragma unroll_loop_end

	#elif ( NUM_DIR_LIGHT_SHADOWS > 0 )
		// note: no loop here - all CSM lights are in fact one light only
		getDirectionalLightInfo( directionalLights[0], directLight );
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );

	#endif

	#if ( NUM_DIR_LIGHTS > NUM_DIR_LIGHT_SHADOWS)
		// compute the lights not casting shadows (if any)

		#pragma unroll_loop_start
		for ( int i = NUM_DIR_LIGHT_SHADOWS; i < NUM_DIR_LIGHTS; i ++ ) {

			directionalLight = directionalLights[ i ];

			getDirectionalLightInfo( directionalLight, directLight );

			RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );

		}
		#pragma unroll_loop_end

	#endif

#endif


#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct ) && !defined( USE_CSM ) && !defined( CSM_CASCADES )

	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif

	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {

		directionalLight = directionalLights[ i ];

		getDirectionalLightInfo( directionalLight, directLight );

		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif

		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );

	}
	#pragma unroll_loop_end

#endif

#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )

	RectAreaLight rectAreaLight;

	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {

		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );

	}
	#pragma unroll_loop_end

#endif

#if defined( RE_IndirectDiffuse )

	vec3 iblIrradiance = vec3( 0.0 );

	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );

	#if defined( USE_LIGHT_PROBES )

		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );

	#endif

	#if ( NUM_HEMI_LIGHTS > 0 )

		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {

			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );

		}
		#pragma unroll_loop_end

	#endif

#endif

#if defined( RE_IndirectSpecular )

	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );

#endif
`,lights_pars_begin:`
#if defined( USE_CSM ) && defined( CSM_CASCADES )
uniform vec2 CSM_cascades[CSM_CASCADES];
uniform float cameraNear;
uniform float shadowFar;
#endif
	`+R0.lights_pars_begin};var DEA=new MA,MEA=new $Y,wEA=new f,zEA=new p0;var VEA=new MA,TEA=new MA,SEA=new f(0,1,0);class n0{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}var mo=new s1(-1,1,1,-1,0,1);class Vw extends pA{constructor(){super();this.setAttribute("position",new bA([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new bA([0,2,0,0,2,0],2))}}var co=new Vw;class i0{constructor(A){this._mesh=new mA(co,A)}dispose(){this._mesh.geometry.dispose()}render(A){A.render(this._mesh,mo)}get material(){return this._mesh.material}set material(A){this._mesh.material=A}}function Tw(A){const Q=new WA,E=A.count,B=A.itemSize,I=new Float32Array(E*B);for(let K=0,J=E;K<J;K++)if(Q.fromBufferAttribute(A,K),D0.fromWorkingColorSpace(Q,$0),I[K*B]=Q.r,I[K*B+1]=Q.g,I[K*B+2]=Q.b,B===4)I[K*B+3]=A.getW(K);return I}class NE{parse(A,Q={}){if(Q=Object.assign({decodeSpeed:5,encodeSpeed:5,encoderMethod:NE.MESH_EDGEBREAKER_ENCODING,quantization:[16,8,8,8,8],exportUvs:!0,exportNormals:!0,exportColor:!1},Q),DracoEncoderModule===void 0)throw new Error("THREE.DRACOExporter: required the draco_encoder to work.");const E=A.geometry,B=DracoEncoderModule(),I=new B.Encoder;let K,J;if(A.isMesh===!0){K=new B.MeshBuilder,J=new B.Mesh;const G=E.getAttribute("position");K.AddFloatAttributeToMesh(J,B.POSITION,G.count,G.itemSize,G.array);const O=E.getIndex();if(O!==null)K.AddFacesToMesh(J,O.count/3,O.array);else{const F=new(G.count>65535?Uint32Array:Uint16Array)(G.count);for(let q=0;q<F.length;q++)F[q]=q;K.AddFacesToMesh(J,G.count,F)}if(Q.exportNormals===!0){const F=E.getAttribute("normal");if(F!==void 0)K.AddFloatAttributeToMesh(J,B.NORMAL,F.count,F.itemSize,F.array)}if(Q.exportUvs===!0){const F=E.getAttribute("uv");if(F!==void 0)K.AddFloatAttributeToMesh(J,B.TEX_COORD,F.count,F.itemSize,F.array)}if(Q.exportColor===!0){const F=E.getAttribute("color");if(F!==void 0){const q=Tw(F);K.AddFloatAttributeToMesh(J,B.COLOR,F.count,F.itemSize,q)}}}else if(A.isPoints===!0){K=new B.PointCloudBuilder,J=new B.PointCloud;const G=E.getAttribute("position");if(K.AddFloatAttribute(J,B.POSITION,G.count,G.itemSize,G.array),Q.exportColor===!0){const O=E.getAttribute("color");if(O!==void 0){const F=Tw(O);K.AddFloatAttribute(J,B.COLOR,O.count,O.itemSize,F)}}}else throw new Error("DRACOExporter: Unsupported object type.");const C=new B.DracoInt8Array,U=Q.encodeSpeed!==void 0?Q.encodeSpeed:5,Y=Q.decodeSpeed!==void 0?Q.decodeSpeed:5;if(I.SetSpeedOptions(U,Y),Q.encoderMethod!==void 0)I.SetEncodingMethod(Q.encoderMethod);if(Q.quantization!==void 0){for(let G=0;G<5;G++)if(Q.quantization[G]!==void 0)I.SetAttributeQuantization(G,Q.quantization[G])}let H;if(A.isMesh===!0)H=I.EncodeMeshToDracoBuffer(J,C);else H=I.EncodePointCloudToDracoBuffer(J,!0,C);if(B.destroy(J),H===0)throw new Error("THREE.DRACOExporter: Draco encoding failed.");const R=new Int8Array(new ArrayBuffer(H));for(let G=0;G<H;G++)R[G]=C.GetValue(G);return B.destroy(C),B.destroy(I),B.destroy(K),R}}NE.MESH_EDGEBREAKER_ENCODING=1;NE.MESH_SEQUENTIAL_ENCODING=0;NE.POINT_CLOUD=0;NE.TRIANGULAR_MESH=1;NE.INVALID=-1;NE.POSITION=0;NE.NORMAL=1;NE.COLOR=2;NE.TEX_COORD=3;NE.GENERIC=4;/*!
fflate - fast JavaScript compression/decompression
<https://101arrowz.github.io/fflate>
Licensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE
version 0.8.2
*/var kK=Uint8Array,Sw=Uint16Array,lo=Int32Array,no=new kK([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),oo=new kK([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),G8A=new kK([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Pw=function(A,Q){var E=new Sw(31);for(var B=0;B<31;++B)E[B]=Q+=1<<A[B-1];var I=new lo(E[30]);for(var B=1;B<30;++B)for(var K=E[B];K<E[B+1];++K)I[K]=K-E[B]<<5|B;return{b:E,r:I}},_w=Pw(no,2),io=_w.b,so=_w.r;io[28]=258,so[258]=28;var kw=Pw(oo,0),Z8A=kw.b,R8A=kw.r,ro=new Sw(32768);for(s0=0;s0<32768;++s0)s8=(s0&43690)>>1|(s0&21845)<<1,s8=(s8&52428)>>2|(s8&13107)<<2,s8=(s8&61680)>>4|(s8&3855)<<4,ro[s0]=((s8&65280)>>8|(s8&255)<<8)>>1;var s8,s0;var XY=new kK(288);for(s0=0;s0<144;++s0)XY[s0]=8;var s0;for(s0=144;s0<256;++s0)XY[s0]=9;var s0;for(s0=256;s0<280;++s0)XY[s0]=7;var s0;for(s0=280;s0<288;++s0)XY[s0]=8;var s0,ao=new kK(32);for(s0=0;s0<32;++s0)ao[s0]=5;var s0;var to=/*@__PURE__*/new kK(0);var eo=typeof TextDecoder!="undefined"&&/*@__PURE__*/new TextDecoder,Ai=0;try{eo.decode(to,{stream:!0}),Ai=1}catch(A){}function IC(A,Q=1/0,E=null){if(!uO)uO=new Y1(2,2,1,1);if(!jK)jK=new cA({uniforms:{blitTexture:new e9(A)},vertexShader:`
			varying vec2 vUv;
			void main(){
				vUv = uv;
				gl_Position = vec4(position.xy * 1.0,0.,.999999);
			}`,fragmentShader:`
			uniform sampler2D blitTexture; 
			varying vec2 vUv;

			void main(){ 
				gl_FragColor = vec4(vUv.xy, 0, 1);
				
				#ifdef IS_SRGB
				gl_FragColor = sRGBTransferOETF( texture2D( blitTexture, vUv) );
				#else
				gl_FragColor = texture2D( blitTexture, vUv);
				#endif
			}`});if(jK.uniforms.blitTexture.value=A,jK.defines.IS_SRGB=A.colorSpace==$0,jK.needsUpdate=!0,!FY)FY=new mA(uO,jK),FY.frustumCulled=!1;const B=new y0,I=new B1;if(I.add(FY),E===null)E=BC=new wK({antialias:!1});const K=Math.min(A.image.width,Q),J=Math.min(A.image.height,Q);E.setSize(K,J),E.clear(),E.render(I,B);const C=document.createElement("canvas"),U=C.getContext("2d");C.width=K,C.height=J,U.drawImage(E.domElement,0,0,K,J);const Y=new c8(C);if(Y.minFilter=A.minFilter,Y.magFilter=A.magFilter,Y.wrapS=A.wrapS,Y.wrapT=A.wrapT,Y.colorSpace=A.colorSpace,Y.name=A.name,BC)BC.forceContextLoss(),BC.dispose(),BC=null;return Y}var BC,uO,jK,FY;function KC(A,Q){return A.length===Q.length&&A.every(function(E,B){return E===Q[B]})}function Ji(A){return(/*@__PURE__*/new TextEncoder()).encode(A).buffer}function Ci(A){return KC(A.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}function Ui(A,Q,E){const B={min:new Array(A.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(A.itemSize).fill(Number.NEGATIVE_INFINITY)};for(let I=Q;I<Q+E;I++)for(let K=0;K<A.itemSize;K++){let J;if(A.itemSize>4)J=A.array[I*A.itemSize+K];else{if(K===0)J=A.getX(I);else if(K===1)J=A.getY(I);else if(K===2)J=A.getZ(I);else if(K===3)J=A.getW(I);if(A.normalized===!0)J=EQ.normalize(J,A.array)}B.min[K]=Math.min(B.min[K],J),B.max[K]=Math.max(B.max[K],J)}return B}function bw(A){return Math.ceil(A/4)*4}function mO(A,Q=0){const E=bw(A.byteLength);if(E!==A.byteLength){const B=new Uint8Array(E);if(B.set(new Uint8Array(A)),Q!==0)for(let I=A.byteLength;I<E;I++)B[I]=Q;return B.buffer}return A}function xw(){if(typeof document==="undefined"&&typeof OffscreenCanvas!=="undefined")return new OffscreenCanvas(1,1);return document.createElement("canvas")}function gw(A,Q){if(A.toBlob!==void 0)return new Promise((B)=>A.toBlob(B,Q));let E;if(Q==="image/jpeg")E=0.92;else if(Q==="image/webp")E=0.8;return A.convertToBlob({type:Q,quality:E})}var jw={POSITION:["byte","byte normalized","unsigned byte","unsigned byte normalized","short","short normalized","unsigned short","unsigned short normalized"],NORMAL:["byte normalized","short normalized"],TANGENT:["byte normalized","short normalized"],TEXCOORD:["byte","byte normalized","unsigned byte","short","short normalized","unsigned short"]};class cO{constructor(){this.pluginCallbacks=[],this.register(function(A){return new uw(A)}),this.register(function(A){return new pw(A)}),this.register(function(A){return new lw(A)}),this.register(function(A){return new nw(A)}),this.register(function(A){return new ow(A)}),this.register(function(A){return new iw(A)}),this.register(function(A){return new mw(A)}),this.register(function(A){return new cw(A)}),this.register(function(A){return new dw(A)}),this.register(function(A){return new sw(A)}),this.register(function(A){return new rw(A)}),this.register(function(A){return new aw(A)}),this.register(function(A){return new tw(A)}),this.register(function(A){return new ew(A)})}register(A){if(this.pluginCallbacks.indexOf(A)===-1)this.pluginCallbacks.push(A);return this}unregister(A){if(this.pluginCallbacks.indexOf(A)!==-1)this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(A),1);return this}parse(A,Q,E,B){const I=new fw,K=[];for(let J=0,C=this.pluginCallbacks.length;J<C;J++)K.push(this.pluginCallbacks[J](I));I.setPlugins(K),I.write(A,Q,B).catch(E)}parseAsync(A,Q){const E=this;return new Promise(function(B,I){E.parse(A,B,I,Q)})}}var j0={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,REPEAT:10497},pO="KHR_mesh_quantization",a1={};a1[L0]=j0.NEAREST;a1[P9]=j0.NEAREST_MIPMAP_NEAREST;a1[_9]=j0.NEAREST_MIPMAP_LINEAR;a1[l0]=j0.LINEAR;a1[k9]=j0.LINEAR_MIPMAP_NEAREST;a1[fE]=j0.LINEAR_MIPMAP_LINEAR;a1[RQ]=j0.CLAMP_TO_EDGE;a1[CQ]=j0.REPEAT;a1[vB]=j0.MIRRORED_REPEAT;var hw={scale:"scale",position:"translation",quaternion:"rotation",morphTargetInfluences:"weights"},Qi=new WA,vw=12,Ei=1179937895,Bi=2,yw=8,Ii=1313821514,Ki=5130562;class fw{constructor(){this.plugins=[],this.options={},this.pending=[],this.buffers=[],this.byteOffset=0,this.buffers=[],this.nodeMap=/*@__PURE__*/new Map,this.skins=[],this.extensionsUsed={},this.extensionsRequired={},this.uids=/*@__PURE__*/new Map,this.uid=0,this.json={asset:{version:"2.0",generator:"THREE.GLTFExporter r"+T5}},this.cache={meshes:/*@__PURE__*/new Map,attributes:/*@__PURE__*/new Map,attributesNormalized:/*@__PURE__*/new Map,materials:/*@__PURE__*/new Map,textures:/*@__PURE__*/new Map,images:/*@__PURE__*/new Map}}setPlugins(A){this.plugins=A}async write(A,Q,E={}){if(this.options=Object.assign({binary:!1,trs:!1,onlyVisible:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1},E),this.options.animations.length>0)this.options.trs=!0;this.processInput(A),await Promise.all(this.pending);const B=this,I=B.buffers,K=B.json;E=B.options;const{extensionsUsed:J,extensionsRequired:C}=B,U=new Blob(I,{type:"application/octet-stream"}),Y=Object.keys(J),H=Object.keys(C);if(Y.length>0)K.extensionsUsed=Y;if(H.length>0)K.extensionsRequired=H;if(K.buffers&&K.buffers.length>0)K.buffers[0].byteLength=U.size;if(E.binary===!0){const R=new FileReader;R.readAsArrayBuffer(U),R.onloadend=function(){const G=mO(R.result),O=new DataView(new ArrayBuffer(yw));O.setUint32(0,G.byteLength,!0),O.setUint32(4,Ki,!0);const F=mO(Ji(JSON.stringify(K)),32),q=new DataView(new ArrayBuffer(yw));q.setUint32(0,F.byteLength,!0),q.setUint32(4,Ii,!0);const W=new ArrayBuffer(vw),Z=new DataView(W);Z.setUint32(0,Ei,!0),Z.setUint32(4,Bi,!0);const $=vw+q.byteLength+F.byteLength+O.byteLength+G.byteLength;Z.setUint32(8,$,!0);const X=new Blob([W,q,F,O,G],{type:"application/octet-stream"}),N=new FileReader;N.readAsArrayBuffer(X),N.onloadend=function(){Q(N.result)}}}else if(K.buffers&&K.buffers.length>0){const R=new FileReader;R.readAsDataURL(U),R.onloadend=function(){const G=R.result;K.buffers[0].uri=G,Q(K)}}else Q(K)}serializeUserData(A,Q){if(Object.keys(A.userData).length===0)return;const E=this.options,B=this.extensionsUsed;try{const I=JSON.parse(JSON.stringify(A.userData));if(E.includeCustomExtensions&&I.gltfExtensions){if(Q.extensions===void 0)Q.extensions={};for(let K in I.gltfExtensions)Q.extensions[K]=I.gltfExtensions[K],B[K]=!0;delete I.gltfExtensions}if(Object.keys(I).length>0)Q.extras=I}catch(I){console.warn("THREE.GLTFExporter: userData of \'"+A.name+"\' won\'t be serialized because of JSON.stringify error - "+I.message)}}getUID(A,Q=!1){if(this.uids.has(A)===!1){const B=/*@__PURE__*/new Map;B.set(!0,this.uid++),B.set(!1,this.uid++),this.uids.set(A,B)}return this.uids.get(A).get(Q)}isNormalizedNormalAttribute(A){if(this.cache.attributesNormalized.has(A))return!1;const E=new f;for(let B=0,I=A.count;B<I;B++)if(Math.abs(E.fromBufferAttribute(A,B).length()-1)>0.0005)return!1;return!0}createNormalizedNormalAttribute(A){const Q=this.cache;if(Q.attributesNormalized.has(A))return Q.attributesNormalized.get(A);const E=A.clone(),B=new f;for(let I=0,K=E.count;I<K;I++){if(B.fromBufferAttribute(E,I),B.x===0&&B.y===0&&B.z===0)B.setX(1);else B.normalize();E.setXYZ(I,B.x,B.y,B.z)}return Q.attributesNormalized.set(A,E),E}applyTextureTransform(A,Q){let E=!1;const B={};if(Q.offset.x!==0||Q.offset.y!==0)B.offset=Q.offset.toArray(),E=!0;if(Q.rotation!==0)B.rotation=Q.rotation,E=!0;if(Q.repeat.x!==1||Q.repeat.y!==1)B.scale=Q.repeat.toArray(),E=!0;if(E)A.extensions=A.extensions||{},A.extensions.KHR_texture_transform=B,this.extensionsUsed.KHR_texture_transform=!0}buildMetalRoughTexture(A,Q){if(A===Q)return A;function E(G){if(G.colorSpace===$0)return function O(F){return F<0.04045?F*0.0773993808:Math.pow(F*0.9478672986+0.0521327014,2.4)};return function O(F){return F}}if(console.warn("THREE.GLTFExporter: Merged metalnessMap and roughnessMap textures."),A instanceof $E)A=IC(A);if(Q instanceof $E)Q=IC(Q);const B=A?A.image:null,I=Q?Q.image:null,K=Math.max(B?B.width:0,I?I.width:0),J=Math.max(B?B.height:0,I?I.height:0),C=xw();C.width=K,C.height=J;const U=C.getContext("2d",{willReadFrequently:!0});U.fillStyle="#00ffff",U.fillRect(0,0,K,J);const Y=U.getImageData(0,0,K,J);if(B){U.drawImage(B,0,0,K,J);const G=E(A),O=U.getImageData(0,0,K,J).data;for(let F=2;F<O.length;F+=4)Y.data[F]=G(O[F]/256)*256}if(I){U.drawImage(I,0,0,K,J);const G=E(Q),O=U.getImageData(0,0,K,J).data;for(let F=1;F<O.length;F+=4)Y.data[F]=G(O[F]/256)*256}U.putImageData(Y,0,0);const R=(A||Q).clone();if(R.source=new B8(C),R.colorSpace=mQ,R.channel=(A||Q).channel,A&&Q&&A.channel!==Q.channel)console.warn("THREE.GLTFExporter: UV channels for metalnessMap and roughnessMap textures must match.");return R}processBuffer(A){const Q=this.json,E=this.buffers;if(!Q.buffers)Q.buffers=[{byteLength:0}];return E.push(A),0}processBufferView(A,Q,E,B,I){const K=this.json;if(!K.bufferViews)K.bufferViews=[];let J;switch(Q){case j0.BYTE:case j0.UNSIGNED_BYTE:J=1;break;case j0.SHORT:case j0.UNSIGNED_SHORT:J=2;break;default:J=4}let C=A.itemSize*J;if(I===j0.ARRAY_BUFFER)C=Math.ceil(C/4)*4;const U=bw(B*C),Y=new DataView(new ArrayBuffer(U));let H=0;for(let O=E;O<E+B;O++){for(let F=0;F<A.itemSize;F++){let q;if(A.itemSize>4)q=A.array[O*A.itemSize+F];else{if(F===0)q=A.getX(O);else if(F===1)q=A.getY(O);else if(F===2)q=A.getZ(O);else if(F===3)q=A.getW(O);if(A.normalized===!0)q=EQ.normalize(q,A.array)}if(Q===j0.FLOAT)Y.setFloat32(H,q,!0);else if(Q===j0.INT)Y.setInt32(H,q,!0);else if(Q===j0.UNSIGNED_INT)Y.setUint32(H,q,!0);else if(Q===j0.SHORT)Y.setInt16(H,q,!0);else if(Q===j0.UNSIGNED_SHORT)Y.setUint16(H,q,!0);else if(Q===j0.BYTE)Y.setInt8(H,q);else if(Q===j0.UNSIGNED_BYTE)Y.setUint8(H,q);H+=J}if(H%C!==0)H+=C-H%C}const R={buffer:this.processBuffer(Y.buffer),byteOffset:this.byteOffset,byteLength:U};if(I!==void 0)R.target=I;if(I===j0.ARRAY_BUFFER)R.byteStride=C;return this.byteOffset+=U,K.bufferViews.push(R),{id:K.bufferViews.length-1,byteLength:0}}processBufferViewImage(A){const Q=this,E=Q.json;if(!E.bufferViews)E.bufferViews=[];return new Promise(function(B){const I=new FileReader;I.readAsArrayBuffer(A),I.onloadend=function(){const K=mO(I.result),J={buffer:Q.processBuffer(K),byteOffset:Q.byteOffset,byteLength:K.byteLength};Q.byteOffset+=K.byteLength,B(E.bufferViews.push(J)-1)}})}processAccessor(A,Q,E,B){const I=this.json,K={1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",9:"MAT3",16:"MAT4"};let J;if(A.array.constructor===Float32Array)J=j0.FLOAT;else if(A.array.constructor===Int32Array)J=j0.INT;else if(A.array.constructor===Uint32Array)J=j0.UNSIGNED_INT;else if(A.array.constructor===Int16Array)J=j0.SHORT;else if(A.array.constructor===Uint16Array)J=j0.UNSIGNED_SHORT;else if(A.array.constructor===Int8Array)J=j0.BYTE;else if(A.array.constructor===Uint8Array)J=j0.UNSIGNED_BYTE;else throw new Error("THREE.GLTFExporter: Unsupported bufferAttribute component type: "+A.array.constructor.name);if(E===void 0)E=0;if(B===void 0||B===1/0)B=A.count;if(B===0)return null;const C=Ui(A,E,B);let U;if(Q!==void 0)U=A===Q.index?j0.ELEMENT_ARRAY_BUFFER:j0.ARRAY_BUFFER;const Y=this.processBufferView(A,J,E,B,U),H={bufferView:Y.id,byteOffset:Y.byteOffset,componentType:J,count:B,max:C.max,min:C.min,type:K[A.itemSize]};if(A.normalized===!0)H.normalized=!0;if(!I.accessors)I.accessors=[];return I.accessors.push(H)-1}processImage(A,Q,E,B="image/png"){if(A!==null){const I=this,K=I.cache,J=I.json,C=I.options,U=I.pending;if(!K.images.has(A))K.images.set(A,{});const Y=K.images.get(A),H=B+":flipY/"+E.toString();if(Y[H]!==void 0)return Y[H];if(!J.images)J.images=[];const R={mimeType:B},G=xw();G.width=Math.min(A.width,C.maxTextureSize),G.height=Math.min(A.height,C.maxTextureSize);const O=G.getContext("2d",{willReadFrequently:!0});if(E===!0)O.translate(0,G.height),O.scale(1,-1);if(A.data!==void 0){if(Q!==UQ)console.error("GLTFExporter: Only RGBAFormat is supported.",Q);if(A.width>C.maxTextureSize||A.height>C.maxTextureSize)console.warn("GLTFExporter: Image size is bigger than maxTextureSize",A);const q=new Uint8ClampedArray(A.height*A.width*4);for(let W=0;W<q.length;W+=4)q[W+0]=A.data[W+0],q[W+1]=A.data[W+1],q[W+2]=A.data[W+2],q[W+3]=A.data[W+3];O.putImageData(new ImageData(q,A.width,A.height),0,0)}else if(typeof HTMLImageElement!=="undefined"&&A instanceof HTMLImageElement||typeof HTMLCanvasElement!=="undefined"&&A instanceof HTMLCanvasElement||typeof ImageBitmap!=="undefined"&&A instanceof ImageBitmap||typeof OffscreenCanvas!=="undefined"&&A instanceof OffscreenCanvas)O.drawImage(A,0,0,G.width,G.height);else throw new Error("THREE.GLTFExporter: Invalid image type. Use HTMLImageElement, HTMLCanvasElement, ImageBitmap or OffscreenCanvas.");if(C.binary===!0)U.push(gw(G,B).then((q)=>I.processBufferViewImage(q)).then((q)=>{R.bufferView=q}));else if(G.toDataURL!==void 0)R.uri=G.toDataURL(B);else U.push(gw(G,B).then((q)=>new FileReader().readAsDataURL(q)).then((q)=>{R.uri=q}));const F=J.images.push(R)-1;return Y[H]=F,F}else throw new Error("THREE.GLTFExporter: No valid image data found. Unable to process texture.")}processSampler(A){const Q=this.json;if(!Q.samplers)Q.samplers=[];const E={magFilter:a1[A.magFilter],minFilter:a1[A.minFilter],wrapS:a1[A.wrapS],wrapT:a1[A.wrapT]};return Q.samplers.push(E)-1}processTexture(A){const E=this.options,B=this.cache,I=this.json;if(B.textures.has(A))return B.textures.get(A);if(!I.textures)I.textures=[];if(A instanceof $E)A=IC(A,E.maxTextureSize);let K=A.userData.mimeType;if(K==="image/webp")K="image/png";const J={sampler:this.processSampler(A),source:this.processImage(A.image,A.format,A.flipY,K)};if(A.name)J.name=A.name;this._invokeAll(function(U){U.writeTexture&&U.writeTexture(A,J)});const C=I.textures.push(J)-1;return B.textures.set(A,C),C}processMaterial(A){const Q=this.cache,E=this.json;if(Q.materials.has(A))return Q.materials.get(A);if(A.isShaderMaterial)return console.warn("GLTFExporter: THREE.ShaderMaterial not supported."),null;if(!E.materials)E.materials=[];const B={pbrMetallicRoughness:{}};if(A.isMeshStandardMaterial!==!0&&A.isMeshBasicMaterial!==!0)console.warn("GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.");const I=A.color.toArray().concat([A.opacity]);if(!KC(I,[1,1,1,1]))B.pbrMetallicRoughness.baseColorFactor=I;if(A.isMeshStandardMaterial)B.pbrMetallicRoughness.metallicFactor=A.metalness,B.pbrMetallicRoughness.roughnessFactor=A.roughness;else B.pbrMetallicRoughness.metallicFactor=0.5,B.pbrMetallicRoughness.roughnessFactor=0.5;if(A.metalnessMap||A.roughnessMap){const J=this.buildMetalRoughTexture(A.metalnessMap,A.roughnessMap),C={index:this.processTexture(J),channel:J.channel};this.applyTextureTransform(C,J),B.pbrMetallicRoughness.metallicRoughnessTexture=C}if(A.map){const J={index:this.processTexture(A.map),texCoord:A.map.channel};this.applyTextureTransform(J,A.map),B.pbrMetallicRoughness.baseColorTexture=J}if(A.emissive){const J=A.emissive;if(Math.max(J.r,J.g,J.b)>0)B.emissiveFactor=A.emissive.toArray();if(A.emissiveMap){const U={index:this.processTexture(A.emissiveMap),texCoord:A.emissiveMap.channel};this.applyTextureTransform(U,A.emissiveMap),B.emissiveTexture=U}}if(A.normalMap){const J={index:this.processTexture(A.normalMap),texCoord:A.normalMap.channel};if(A.normalScale&&A.normalScale.x!==1)J.scale=A.normalScale.x;this.applyTextureTransform(J,A.normalMap),B.normalTexture=J}if(A.aoMap){const J={index:this.processTexture(A.aoMap),texCoord:A.aoMap.channel};if(A.aoMapIntensity!==1)J.strength=A.aoMapIntensity;this.applyTextureTransform(J,A.aoMap),B.occlusionTexture=J}if(A.transparent)B.alphaMode="BLEND";else if(A.alphaTest>0)B.alphaMode="MASK",B.alphaCutoff=A.alphaTest;if(A.side===FQ)B.doubleSided=!0;if(A.name!=="")B.name=A.name;this.serializeUserData(A,B),this._invokeAll(function(J){J.writeMaterial&&J.writeMaterial(A,B)});const K=E.materials.push(B)-1;return Q.materials.set(A,K),K}processMesh(A){const Q=this.cache,E=this.json,B=[A.geometry.uuid];if(Array.isArray(A.material))for(let X=0,N=A.material.length;X<N;X++)B.push(A.material[X].uuid);else B.push(A.material.uuid);const I=B.join(":");if(Q.meshes.has(I))return Q.meshes.get(I);const K=A.geometry;let J;if(A.isLineSegments)J=j0.LINES;else if(A.isLineLoop)J=j0.LINE_LOOP;else if(A.isLine)J=j0.LINE_STRIP;else if(A.isPoints)J=j0.POINTS;else J=A.material.wireframe?j0.LINES:j0.TRIANGLES;const C={},U={},Y=[],H=[],R={uv:"TEXCOORD_0",uv1:"TEXCOORD_1",uv2:"TEXCOORD_2",uv3:"TEXCOORD_3",color:"COLOR_0",skinWeight:"WEIGHTS_0",skinIndex:"JOINTS_0"},G=K.getAttribute("normal");if(G!==void 0&&!this.isNormalizedNormalAttribute(G))console.warn("THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one."),K.setAttribute("normal",this.createNormalizedNormalAttribute(G));let O=null;for(let X in K.attributes){if(X.slice(0,5)==="morph")continue;const N=K.attributes[X];if(X=R[X]||X.toUpperCase(),!/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(X))X="_"+X;if(Q.attributes.has(this.getUID(N))){U[X]=Q.attributes.get(this.getUID(N));continue}O=null;const L=N.array;if(X==="JOINTS_0"&&!(L instanceof Uint16Array)&&!(L instanceof Uint8Array))console.warn('GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.'),O=new E0(new Uint16Array(L),N.itemSize,N.normalized);const D=this.processAccessor(O||N,K);if(D!==null){if(!X.startsWith("_"))this.detectMeshQuantization(X,N);U[X]=D,Q.attributes.set(this.getUID(N),D)}}if(G!==void 0)K.setAttribute("normal",G);if(Object.keys(U).length===0)return null;if(A.morphTargetInfluences!==void 0&&A.morphTargetInfluences.length>0){const X=[],N=[],M={};if(A.morphTargetDictionary!==void 0)for(let L in A.morphTargetDictionary)M[A.morphTargetDictionary[L]]=L;for(let L=0;L<A.morphTargetInfluences.length;++L){const D={};let w=!1;for(let P in K.morphAttributes){if(P!=="position"&&P!=="normal"){if(!w)console.warn("GLTFExporter: Only POSITION and NORMAL morph are supported."),w=!0;continue}const V=K.morphAttributes[P][L],T=P.toUpperCase(),S=K.attributes[P];if(Q.attributes.has(this.getUID(V,!0))){D[T]=Q.attributes.get(this.getUID(V,!0));continue}const h=V.clone();if(!K.morphTargetsRelative)for(let x=0,y=V.count;x<y;x++)for(let j=0;j<V.itemSize;j++){if(j===0)h.setX(x,V.getX(x)-S.getX(x));if(j===1)h.setY(x,V.getY(x)-S.getY(x));if(j===2)h.setZ(x,V.getZ(x)-S.getZ(x));if(j===3)h.setW(x,V.getW(x)-S.getW(x))}D[T]=this.processAccessor(h,K),Q.attributes.set(this.getUID(S,!0),D[T])}if(H.push(D),X.push(A.morphTargetInfluences[L]),A.morphTargetDictionary!==void 0)N.push(M[L])}if(C.weights=X,N.length>0)C.extras={},C.extras.targetNames=N}const F=Array.isArray(A.material);if(F&&K.groups.length===0)return null;let q=!1;if(F&&K.index===null){const X=[];for(let N=0,M=K.attributes.position.count;N<M;N++)X[N]=N;K.setIndex(X),q=!0}const W=F?A.material:[A.material],Z=F?K.groups:[{materialIndex:0,start:void 0,count:void 0}];for(let X=0,N=Z.length;X<N;X++){const M={mode:J,attributes:U};if(this.serializeUserData(K,M),H.length>0)M.targets=H;if(K.index!==null){let D=this.getUID(K.index);if(Z[X].start!==void 0||Z[X].count!==void 0)D+=":"+Z[X].start+":"+Z[X].count;if(Q.attributes.has(D))M.indices=Q.attributes.get(D);else M.indices=this.processAccessor(K.index,K,Z[X].start,Z[X].count),Q.attributes.set(D,M.indices);if(M.indices===null)delete M.indices}const L=this.processMaterial(W[Z[X].materialIndex]);if(L!==null)M.material=L;Y.push(M)}if(q===!0)K.setIndex(null);if(C.primitives=Y,!E.meshes)E.meshes=[];this._invokeAll(function(X){X.writeMesh&&X.writeMesh(A,C)});const $=E.meshes.push(C)-1;return Q.meshes.set(I,$),$}detectMeshQuantization(A,Q){if(this.extensionsUsed[pO])return;let E=void 0;switch(Q.array.constructor){case Int8Array:E="byte";break;case Uint8Array:E="unsigned byte";break;case Int16Array:E="short";break;case Uint16Array:E="unsigned short";break;default:return}if(Q.normalized)E+=" normalized";const B=A.split("_",1)[0];if(jw[B]&&jw[B].includes(E))this.extensionsUsed[pO]=!0,this.extensionsRequired[pO]=!0}processCamera(A){const Q=this.json;if(!Q.cameras)Q.cameras=[];const E=A.isOrthographicCamera,B={type:E?"orthographic":"perspective"};if(E)B.orthographic={xmag:A.right*2,ymag:A.top*2,zfar:A.far<=0?0.001:A.far,znear:A.near<0?0:A.near};else B.perspective={aspectRatio:A.aspect,yfov:EQ.degToRad(A.fov),zfar:A.far<=0?0.001:A.far,znear:A.near<0?0:A.near};if(A.name!=="")B.name=A.type;return Q.cameras.push(B)-1}processAnimation(A,Q){const E=this.json,B=this.nodeMap;if(!E.animations)E.animations=[];A=cO.Utils.mergeMorphTargetTracks(A.clone(),Q);const I=A.tracks,K=[],J=[];for(let C=0;C<I.length;++C){const U=I[C],Y=P0.parseTrackName(U.name);let H=P0.findNode(Q,Y.nodeName);const R=hw[Y.propertyName];if(Y.objectName==="bones")if(H.isSkinnedMesh===!0)H=H.skeleton.getBoneByName(Y.objectIndex);else H=void 0;if(!H||!R){console.warn('THREE.GLTFExporter: Could not export animation track "%s".',U.name);continue}const G=1;let O=U.values.length/U.times.length;if(R===hw.morphTargetInfluences)O/=H.morphTargetInfluences.length;let F;if(U.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline===!0)F="CUBICSPLINE",O/=3;else if(U.getInterpolation()===y9)F="STEP";else F="LINEAR";J.push({input:this.processAccessor(new E0(U.times,G)),output:this.processAccessor(new E0(U.values,O)),interpolation:F}),K.push({sampler:J.length-1,target:{node:B.get(H),path:R}})}return E.animations.push({name:A.name||"clip_"+E.animations.length,samplers:J,channels:K}),E.animations.length-1}processSkin(A){const Q=this.json,E=this.nodeMap,B=Q.nodes[E.get(A)],I=A.skeleton;if(I===void 0)return null;const K=A.skeleton.bones[0];if(K===void 0)return null;const J=[],C=new Float32Array(I.bones.length*16),U=new MA;for(let H=0;H<I.bones.length;++H)J.push(E.get(I.bones[H])),U.copy(I.boneInverses[H]),U.multiply(A.bindMatrix).toArray(C,H*16);if(Q.skins===void 0)Q.skins=[];return Q.skins.push({inverseBindMatrices:this.processAccessor(new E0(C,16)),joints:J,skeleton:E.get(K)}),B.skin=Q.skins.length-1}processNode(A){const Q=this.json,E=this.options,B=this.nodeMap;if(!Q.nodes)Q.nodes=[];const I={};if(E.trs){const J=A.quaternion.toArray(),C=A.position.toArray(),U=A.scale.toArray();if(!KC(J,[0,0,0,1]))I.rotation=J;if(!KC(C,[0,0,0]))I.translation=C;if(!KC(U,[1,1,1]))I.scale=U}else{if(A.matrixAutoUpdate)A.updateMatrix();if(Ci(A.matrix)===!1)I.matrix=A.matrix.elements}if(A.name!=="")I.name=String(A.name);if(this.serializeUserData(A,I),A.isMesh||A.isLine||A.isPoints){const J=this.processMesh(A);if(J!==null)I.mesh=J}else if(A.isCamera)I.camera=this.processCamera(A);if(A.isSkinnedMesh)this.skins.push(A);if(A.children.length>0){const J=[];for(let C=0,U=A.children.length;C<U;C++){const Y=A.children[C];if(Y.visible||E.onlyVisible===!1){const H=this.processNode(Y);if(H!==null)J.push(H)}}if(J.length>0)I.children=J}this._invokeAll(function(J){J.writeNode&&J.writeNode(A,I)});const K=Q.nodes.push(I)-1;return B.set(A,K),K}processScene(A){const Q=this.json,E=this.options;if(!Q.scenes)Q.scenes=[],Q.scene=0;const B={};if(A.name!=="")B.name=A.name;Q.scenes.push(B);const I=[];for(let K=0,J=A.children.length;K<J;K++){const C=A.children[K];if(C.visible||E.onlyVisible===!1){const U=this.processNode(C);if(U!==null)I.push(U)}}if(I.length>0)B.nodes=I;this.serializeUserData(A,B)}processObjects(A){const Q=new B1;Q.name="AuxScene";for(let E=0;E<A.length;E++)Q.children.push(A[E]);this.processScene(Q)}processInput(A){const Q=this.options;A=A instanceof Array?A:[A],this._invokeAll(function(B){B.beforeParse&&B.beforeParse(A)});const E=[];for(let B=0;B<A.length;B++)if(A[B]instanceof B1)this.processScene(A[B]);else E.push(A[B]);if(E.length>0)this.processObjects(E);for(let B=0;B<this.skins.length;++B)this.processSkin(this.skins[B]);for(let B=0;B<Q.animations.length;++B)this.processAnimation(Q.animations[B],A[0]);this._invokeAll(function(B){B.afterParse&&B.afterParse(A)})}_invokeAll(A){for(let Q=0,E=this.plugins.length;Q<E;Q++)A(this.plugins[Q])}}class uw{constructor(A){this.writer=A,this.name="KHR_lights_punctual"}writeNode(A,Q){if(!A.isLight)return;if(!A.isDirectionalLight&&!A.isPointLight&&!A.isSpotLight){console.warn("THREE.GLTFExporter: Only directional, point, and spot lights are supported.",A);return}const E=this.writer,B=E.json,I=E.extensionsUsed,K={};if(A.name)K.name=A.name;if(K.color=A.color.toArray(),K.intensity=A.intensity,A.isDirectionalLight)K.type="directional";else if(A.isPointLight){if(K.type="point",A.distance>0)K.range=A.distance}else if(A.isSpotLight){if(K.type="spot",A.distance>0)K.range=A.distance;K.spot={},K.spot.innerConeAngle=(1-A.penumbra)*A.angle,K.spot.outerConeAngle=A.angle}if(A.decay!==void 0&&A.decay!==2)console.warn("THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2.");if(A.target&&(A.target.parent!==A||A.target.position.x!==0||A.target.position.y!==0||A.target.position.z!==-1))console.warn("THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1.");if(!I[this.name])B.extensions=B.extensions||{},B.extensions[this.name]={lights:[]},I[this.name]=!0;const J=B.extensions[this.name].lights;J.push(K),Q.extensions=Q.extensions||{},Q.extensions[this.name]={light:J.length-1}}}class pw{constructor(A){this.writer=A,this.name="KHR_materials_unlit"}writeMaterial(A,Q){if(!A.isMeshBasicMaterial)return;const B=this.writer.extensionsUsed;Q.extensions=Q.extensions||{},Q.extensions[this.name]={},B[this.name]=!0,Q.pbrMetallicRoughness.metallicFactor=0,Q.pbrMetallicRoughness.roughnessFactor=0.9}}class mw{constructor(A){this.writer=A,this.name="KHR_materials_clearcoat"}writeMaterial(A,Q){if(!A.isMeshPhysicalMaterial||A.clearcoat===0)return;const E=this.writer,B=E.extensionsUsed,I={};if(I.clearcoatFactor=A.clearcoat,A.clearcoatMap){const K={index:E.processTexture(A.clearcoatMap),texCoord:A.clearcoatMap.channel};E.applyTextureTransform(K,A.clearcoatMap),I.clearcoatTexture=K}if(I.clearcoatRoughnessFactor=A.clearcoatRoughness,A.clearcoatRoughnessMap){const K={index:E.processTexture(A.clearcoatRoughnessMap),texCoord:A.clearcoatRoughnessMap.channel};E.applyTextureTransform(K,A.clearcoatRoughnessMap),I.clearcoatRoughnessTexture=K}if(A.clearcoatNormalMap){const K={index:E.processTexture(A.clearcoatNormalMap),texCoord:A.clearcoatNormalMap.channel};if(A.clearcoatNormalScale.x!==1)K.scale=A.clearcoatNormalScale.x;E.applyTextureTransform(K,A.clearcoatNormalMap),I.clearcoatNormalTexture=K}Q.extensions=Q.extensions||{},Q.extensions[this.name]=I,B[this.name]=!0}}class cw{constructor(A){this.writer=A,this.name="KHR_materials_dispersion"}writeMaterial(A,Q){if(!A.isMeshPhysicalMaterial||A.dispersion===0)return;const B=this.writer.extensionsUsed,I={};I.dispersion=A.dispersion,Q.extensions=Q.extensions||{},Q.extensions[this.name]=I,B[this.name]=!0}}class dw{constructor(A){this.writer=A,this.name="KHR_materials_iridescence"}writeMaterial(A,Q){if(!A.isMeshPhysicalMaterial||A.iridescence===0)return;const E=this.writer,B=E.extensionsUsed,I={};if(I.iridescenceFactor=A.iridescence,A.iridescenceMap){const K={index:E.processTexture(A.iridescenceMap),texCoord:A.iridescenceMap.channel};E.applyTextureTransform(K,A.iridescenceMap),I.iridescenceTexture=K}if(I.iridescenceIor=A.iridescenceIOR,I.iridescenceThicknessMinimum=A.iridescenceThicknessRange[0],I.iridescenceThicknessMaximum=A.iridescenceThicknessRange[1],A.iridescenceThicknessMap){const K={index:E.processTexture(A.iridescenceThicknessMap),texCoord:A.iridescenceThicknessMap.channel};E.applyTextureTransform(K,A.iridescenceThicknessMap),I.iridescenceThicknessTexture=K}Q.extensions=Q.extensions||{},Q.extensions[this.name]=I,B[this.name]=!0}}class lw{constructor(A){this.writer=A,this.name="KHR_materials_transmission"}writeMaterial(A,Q){if(!A.isMeshPhysicalMaterial||A.transmission===0)return;const E=this.writer,B=E.extensionsUsed,I={};if(I.transmissionFactor=A.transmission,A.transmissionMap){const K={index:E.processTexture(A.transmissionMap),texCoord:A.transmissionMap.channel};E.applyTextureTransform(K,A.transmissionMap),I.transmissionTexture=K}Q.extensions=Q.extensions||{},Q.extensions[this.name]=I,B[this.name]=!0}}class nw{constructor(A){this.writer=A,this.name="KHR_materials_volume"}writeMaterial(A,Q){if(!A.isMeshPhysicalMaterial||A.transmission===0)return;const E=this.writer,B=E.extensionsUsed,I={};if(I.thicknessFactor=A.thickness,A.thicknessMap){const K={index:E.processTexture(A.thicknessMap),texCoord:A.thicknessMap.channel};E.applyTextureTransform(K,A.thicknessMap),I.thicknessTexture=K}if(A.attenuationDistance!==1/0)I.attenuationDistance=A.attenuationDistance;I.attenuationColor=A.attenuationColor.toArray(),Q.extensions=Q.extensions||{},Q.extensions[this.name]=I,B[this.name]=!0}}class ow{constructor(A){this.writer=A,this.name="KHR_materials_ior"}writeMaterial(A,Q){if(!A.isMeshPhysicalMaterial||A.ior===1.5)return;const B=this.writer.extensionsUsed,I={};I.ior=A.ior,Q.extensions=Q.extensions||{},Q.extensions[this.name]=I,B[this.name]=!0}}class iw{constructor(A){this.writer=A,this.name="KHR_materials_specular"}writeMaterial(A,Q){if(!A.isMeshPhysicalMaterial||A.specularIntensity===1&&A.specularColor.equals(Qi)&&!A.specularIntensityMap&&!A.specularColorMap)return;const E=this.writer,B=E.extensionsUsed,I={};if(A.specularIntensityMap){const K={index:E.processTexture(A.specularIntensityMap),texCoord:A.specularIntensityMap.channel};E.applyTextureTransform(K,A.specularIntensityMap),I.specularTexture=K}if(A.specularColorMap){const K={index:E.processTexture(A.specularColorMap),texCoord:A.specularColorMap.channel};E.applyTextureTransform(K,A.specularColorMap),I.specularColorTexture=K}I.specularFactor=A.specularIntensity,I.specularColorFactor=A.specularColor.toArray(),Q.extensions=Q.extensions||{},Q.extensions[this.name]=I,B[this.name]=!0}}class sw{constructor(A){this.writer=A,this.name="KHR_materials_sheen"}writeMaterial(A,Q){if(!A.isMeshPhysicalMaterial||A.sheen==0)return;const E=this.writer,B=E.extensionsUsed,I={};if(A.sheenRoughnessMap){const K={index:E.processTexture(A.sheenRoughnessMap),texCoord:A.sheenRoughnessMap.channel};E.applyTextureTransform(K,A.sheenRoughnessMap),I.sheenRoughnessTexture=K}if(A.sheenColorMap){const K={index:E.processTexture(A.sheenColorMap),texCoord:A.sheenColorMap.channel};E.applyTextureTransform(K,A.sheenColorMap),I.sheenColorTexture=K}I.sheenRoughnessFactor=A.sheenRoughness,I.sheenColorFactor=A.sheenColor.toArray(),Q.extensions=Q.extensions||{},Q.extensions[this.name]=I,B[this.name]=!0}}class rw{constructor(A){this.writer=A,this.name="KHR_materials_anisotropy"}writeMaterial(A,Q){if(!A.isMeshPhysicalMaterial||A.anisotropy==0)return;const E=this.writer,B=E.extensionsUsed,I={};if(A.anisotropyMap){const K={index:E.processTexture(A.anisotropyMap)};E.applyTextureTransform(K,A.anisotropyMap),I.anisotropyTexture=K}I.anisotropyStrength=A.anisotropy,I.anisotropyRotation=A.anisotropyRotation,Q.extensions=Q.extensions||{},Q.extensions[this.name]=I,B[this.name]=!0}}class aw{constructor(A){this.writer=A,this.name="KHR_materials_emissive_strength"}writeMaterial(A,Q){if(!A.isMeshStandardMaterial||A.emissiveIntensity===1)return;const B=this.writer.extensionsUsed,I={};I.emissiveStrength=A.emissiveIntensity,Q.extensions=Q.extensions||{},Q.extensions[this.name]=I,B[this.name]=!0}}class tw{constructor(A){this.writer=A,this.name="EXT_materials_bump"}writeMaterial(A,Q){if(!A.isMeshStandardMaterial||A.bumpScale===1&&!A.bumpMap)return;const E=this.writer,B=E.extensionsUsed,I={};if(A.bumpMap){const K={index:E.processTexture(A.bumpMap),texCoord:A.bumpMap.channel};E.applyTextureTransform(K,A.bumpMap),I.bumpTexture=K}I.bumpFactor=A.bumpScale,Q.extensions=Q.extensions||{},Q.extensions[this.name]=I,B[this.name]=!0}}class ew{constructor(A){this.writer=A,this.name="EXT_mesh_gpu_instancing"}writeNode(A,Q){if(!A.isInstancedMesh)return;const E=this.writer,B=A,I=new Float32Array(B.count*3),K=new Float32Array(B.count*4),J=new Float32Array(B.count*3),C=new MA,U=new f,Y=new C0,H=new f;for(let G=0;G<B.count;G++)B.getMatrixAt(G,C),C.decompose(U,Y,H),U.toArray(I,G*3),Y.toArray(K,G*4),H.toArray(J,G*3);const R={TRANSLATION:E.processAccessor(new E0(I,3)),ROTATION:E.processAccessor(new E0(K,4)),SCALE:E.processAccessor(new E0(J,3))};if(B.instanceColor)R._COLOR_0=E.processAccessor(B.instanceColor);Q.extensions=Q.extensions||{},Q.extensions[this.name]={attributes:R},E.extensionsUsed[this.name]=!0,E.extensionsRequired[this.name]=!0}}cO.Utils={insertKeyframe:function(A,Q){const B=A.getValueSize(),I=new A.TimeBufferType(A.times.length+1),K=new A.ValueBufferType(A.values.length+B),J=A.createInterpolant(new A.ValueBufferType(B));let C;if(A.times.length===0){I[0]=Q;for(let U=0;U<B;U++)K[U]=0;C=0}else if(Q<A.times[0]){if(Math.abs(A.times[0]-Q)<0.001)return 0;I[0]=Q,I.set(A.times,1),K.set(J.evaluate(Q),0),K.set(A.values,B),C=0}else if(Q>A.times[A.times.length-1]){if(Math.abs(A.times[A.times.length-1]-Q)<0.001)return A.times.length-1;I[I.length-1]=Q,I.set(A.times,0),K.set(A.values,0),K.set(J.evaluate(Q),A.values.length),C=I.length-1}else for(let U=0;U<A.times.length;U++){if(Math.abs(A.times[U]-Q)<0.001)return U;if(A.times[U]<Q&&A.times[U+1]>Q){I.set(A.times.slice(0,U+1),0),I[U+1]=Q,I.set(A.times.slice(U+1),U+2),K.set(A.values.slice(0,(U+1)*B),0),K.set(J.evaluate(Q),(U+1)*B),K.set(A.values.slice((U+1)*B),(U+2)*B),C=U+1;break}}return A.times=I,A.values=K,C},mergeMorphTargetTracks:function(A,Q){const E=[],B={},I=A.tracks;for(let K=0;K<I.length;++K){let J=I[K];const C=P0.parseTrackName(J.name),U=P0.findNode(Q,C.nodeName);if(C.propertyName!=="morphTargetInfluences"||C.propertyIndex===void 0){E.push(J);continue}if(J.createInterpolant!==J.InterpolantFactoryMethodDiscrete&&J.createInterpolant!==J.InterpolantFactoryMethodLinear){if(J.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");console.warn("THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead."),J=J.clone(),J.setInterpolation(FK)}const Y=U.morphTargetInfluences.length,H=U.morphTargetDictionary[C.propertyIndex];if(H===void 0)throw new Error("THREE.GLTFExporter: Morph target name not found: "+C.propertyIndex);let R;if(B[U.uuid]===void 0){R=J.clone();const O=new R.ValueBufferType(Y*R.times.length);for(let F=0;F<R.times.length;F++)O[F*Y+H]=R.values[F];R.name=(C.nodeName||"")+".morphTargetInfluences",R.values=O,B[U.uuid]=R,E.push(R);continue}const G=J.createInterpolant(new J.ValueBufferType(1));R=B[U.uuid];for(let O=0;O<R.times.length;O++)R.values[O*Y+H]=G.evaluate(R.times[O]);for(let O=0;O<J.times.length;O++){const F=this.insertKeyframe(R,J.times[O]);R.values[F*Y+H]=J.values[O]}}return A.tracks=E,A}};function Az(A){return(/*@__PURE__*/new TextDecoder()).decode(A)}function Kz(A){const Q=new Uint8Array(A.buffer,A.byteOffset,P1.length);if(Q[0]!==P1[0]||Q[1]!==P1[1]||Q[2]!==P1[2]||Q[3]!==P1[3]||Q[4]!==P1[4]||Q[5]!==P1[5]||Q[6]!==P1[6]||Q[7]!==P1[7]||Q[8]!==P1[8]||Q[9]!==P1[9]||Q[10]!==P1[10]||Q[11]!==P1[11])throw new Error("Missing KTX 2.0 identifier.");const E=new rO,B=17*Uint32Array.BYTES_PER_ELEMENT,I=new hK(A,P1.length,B,!0);E.vkFormat=I._nextUint32(),E.typeSize=I._nextUint32(),E.pixelWidth=I._nextUint32(),E.pixelHeight=I._nextUint32(),E.pixelDepth=I._nextUint32(),E.layerCount=I._nextUint32(),E.faceCount=I._nextUint32();const K=I._nextUint32();E.supercompressionScheme=I._nextUint32();const J=I._nextUint32(),C=I._nextUint32(),U=I._nextUint32(),Y=I._nextUint32(),H=I._nextUint64(),R=I._nextUint64(),G=new hK(A,P1.length+B,3*K*8,!0);for(let v=0;v<K;v++)E.levels.push({levelData:new Uint8Array(A.buffer,A.byteOffset+G._nextUint64(),G._nextUint64()),uncompressedByteLength:G._nextUint64()});const O=new hK(A,J,C,!0),F={vendorId:O._skip(4)._nextUint16(),descriptorType:O._nextUint16(),versionNumber:O._nextUint16(),descriptorBlockSize:O._nextUint16(),colorModel:O._nextUint8(),colorPrimaries:O._nextUint8(),transferFunction:O._nextUint8(),flags:O._nextUint8(),texelBlockDimension:[O._nextUint8(),O._nextUint8(),O._nextUint8(),O._nextUint8()],bytesPlane:[O._nextUint8(),O._nextUint8(),O._nextUint8(),O._nextUint8(),O._nextUint8(),O._nextUint8(),O._nextUint8(),O._nextUint8()],samples:[]},q=(F.descriptorBlockSize/4-6)/4;for(let v=0;v<q;v++){const _={bitOffset:O._nextUint16(),bitLength:O._nextUint8(),channelType:O._nextUint8(),samplePosition:[O._nextUint8(),O._nextUint8(),O._nextUint8(),O._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&_.channelType?(_.sampleLower=O._nextInt32(),_.sampleUpper=O._nextInt32()):(_.sampleLower=O._nextUint32(),_.sampleUpper=O._nextUint32()),F.samples[v]=_}E.dataFormatDescriptor.length=0,E.dataFormatDescriptor.push(F);const W=new hK(A,U,Y,!0);for(;W._offset<Y;){const v=W._nextUint32(),_=W._scan(v),g=Az(_);if(E.keyValue[g]=W._nextUint8Array(v-_.byteLength-1),g.match(/^ktx/i)){const b=Az(E.keyValue[g]);E.keyValue[g]=b.substring(0,b.lastIndexOf("\0"))}W._skip(v%4?4-v%4:0)}if(R<=0)return E;const Z=new hK(A,H,R,!0),$=Z._nextUint16(),X=Z._nextUint16(),N=Z._nextUint32(),M=Z._nextUint32(),L=Z._nextUint32(),D=Z._nextUint32(),w=[];for(let v=0;v<K;v++)w.push({imageFlags:Z._nextUint32(),rgbSliceByteOffset:Z._nextUint32(),rgbSliceByteLength:Z._nextUint32(),alphaSliceByteOffset:Z._nextUint32(),alphaSliceByteLength:Z._nextUint32()});const P=H+Z._offset,V=P+N,T=V+M,S=T+L,h=new Uint8Array(A.buffer,A.byteOffset+P,N),x=new Uint8Array(A.buffer,A.byteOffset+V,M),y=new Uint8Array(A.buffer,A.byteOffset+T,L),j=new Uint8Array(A.buffer,A.byteOffset+S,D);return E.globalData={endpointCount:$,selectorCount:X,imageDescs:w,endpointsData:h,selectorsData:x,tablesData:y,extendedData:j},E}var Qz=0;var dO=2;var Ez=1;var qY=2;var lO=0,nO=1;var Bz=10;var Iz=0;var vK=9;var JC=15,yK=16;var CC=22;var xK=37;var UC=43;var gK=76;var bK=83;var fK=97;var uK=100;var pK=103;var mK=109;var oO=165,iO=166;var sO=1000066000;class rO{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class hK{constructor(A,Q,E,B){this._dataView=void 0,this._littleEndian=void 0,this._offset=void 0,this._dataView=new DataView(A.buffer,A.byteOffset+Q,E),this._littleEndian=B,this._offset=0}_nextUint8(){const A=this._dataView.getUint8(this._offset);return this._offset+=1,A}_nextUint16(){const A=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,A}_nextUint32(){const A=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,A}_nextUint64(){const A=this._dataView.getUint32(this._offset,this._littleEndian)+4294967296*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,A}_nextInt32(){const A=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,A}_nextUint8Array(A){const Q=new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+this._offset,A);return this._offset+=A,Q}_skip(A){return this._offset+=A,this}_scan(A,Q){Q===void 0&&(Q=0);const E=this._offset;let B=0;for(;this._dataView.getUint8(this._offset)!==Q&&B<A;)B++,this._offset++;return B<A&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+E,B)}}var D8A=new Uint8Array([0]),P1=[171,75,84,88,32,50,48,187,13,10,26,10];var x8A={[UQ]:{[NQ]:{[mQ]:mK,[f0]:mK},[eA]:{[mQ]:fK,[f0]:fK},[qQ]:{[mQ]:xK,[f0]:xK,[$0]:UC}},[u8]:{[NQ]:{[mQ]:pK,[f0]:pK},[eA]:{[mQ]:bK,[f0]:bK},[qQ]:{[mQ]:yK,[f0]:yK,[$0]:CC}},[T1]:{[NQ]:{[mQ]:uK,[f0]:uK},[eA]:{[mQ]:gK,[f0]:gK},[qQ]:{[mQ]:vK,[f0]:vK,[$0]:JC}}};function aO(){}function YC(A,Q){this.dv=new DataView(A),this.offset=0,this.littleEndian=Q!==void 0?Q:!0,this.encoder=new aO}function HC(){}function cB(){}aO.prototype.s2u=function(A){var Q=this.s2uTable,E="",B=0;while(B<A.length){var I=A[B++];if(!(I>=0&&I<=126||I>=161&&I<=223)&&B<A.length)I=I<<8|A[B++];if(Q[I]===void 0)return console.error("unknown char code "+I+"."),E;E+=String.fromCharCode(Q[I])}return E};aO.prototype.s2uTable={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:92,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:126,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:65340,33120:65374,33121:8741,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:65293,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:65504,33170:65505,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:65506,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34624:9312,34625:9313,34626:9314,34627:9315,34628:9316,34629:9317,34630:9318,34631:9319,34632:9320,34633:9321,34634:9322,34635:9323,34636:9324,34637:9325,34638:9326,34639:9327,34640:9328,34641:9329,34642:9330,34643:9331,34644:8544,34645:8545,34646:8546,34647:8547,34648:8548,34649:8549,34650:8550,34651:8551,34652:8552,34653:8553,34655:13129,34656:13076,34657:13090,34658:13133,34659:13080,34660:13095,34661:13059,34662:13110,34663:13137,34664:13143,34665:13069,34666:13094,34667:13091,34668:13099,34669:13130,34670:13115,34671:13212,34672:13213,34673:13214,34674:13198,34675:13199,34676:13252,34677:13217,34686:13179,34688:12317,34689:12319,34690:8470,34691:13261,34692:8481,34693:12964,34694:12965,34695:12966,34696:12967,34697:12968,34698:12849,34699:12850,34700:12857,34701:13182,34702:13181,34703:13180,34704:8786,34705:8801,34706:8747,34707:8750,34708:8721,34709:8730,34710:8869,34711:8736,34712:8735,34713:8895,34714:8757,34715:8745,34716:8746,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35000:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21000,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39000,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32000,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36000:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37000:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:30000,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38000:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26000,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36000,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39000:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,40000:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27000,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58000:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34000,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59000:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38000,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,60000:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081,60736:32394,60737:35100,60738:37704,60739:37512,60740:34012,60741:20425,60742:28859,60743:26161,60744:26824,60745:37625,60746:26363,60747:24389,60748:20008,60749:20193,60750:20220,60751:20224,60752:20227,60753:20281,60754:20310,60755:20370,60756:20362,60757:20378,60758:20372,60759:20429,60760:20544,60761:20514,60762:20479,60763:20510,60764:20550,60765:20592,60766:20546,60767:20628,60768:20724,60769:20696,60770:20810,60771:20836,60772:20893,60773:20926,60774:20972,60775:21013,60776:21148,60777:21158,60778:21184,60779:21211,60780:21248,60781:21255,60782:21284,60783:21362,60784:21395,60785:21426,60786:21469,60787:64014,60788:21660,60789:21642,60790:21673,60791:21759,60792:21894,60793:22361,60794:22373,60795:22444,60796:22472,60797:22471,60798:64015,60800:64016,60801:22686,60802:22706,60803:22795,60804:22867,60805:22875,60806:22877,60807:22883,60808:22948,60809:22970,60810:23382,60811:23488,60812:29999,60813:23512,60814:23532,60815:23582,60816:23718,60817:23738,60818:23797,60819:23847,60820:23891,60821:64017,60822:23874,60823:23917,60824:23992,60825:23993,60826:24016,60827:24353,60828:24372,60829:24423,60830:24503,60831:24542,60832:24669,60833:24709,60834:24714,60835:24798,60836:24789,60837:24864,60838:24818,60839:24849,60840:24887,60841:24880,60842:24984,60843:25107,60844:25254,60845:25589,60846:25696,60847:25757,60848:25806,60849:25934,60850:26112,60851:26133,60852:26171,60853:26121,60854:26158,60855:26142,60856:26148,60857:26213,60858:26199,60859:26201,60860:64018,60861:26227,60862:26265,60863:26272,60864:26290,60865:26303,60866:26362,60867:26382,60868:63785,60869:26470,60870:26555,60871:26706,60872:26560,60873:26625,60874:26692,60875:26831,60876:64019,60877:26984,60878:64020,60879:27032,60880:27106,60881:27184,60882:27243,60883:27206,60884:27251,60885:27262,60886:27362,60887:27364,60888:27606,60889:27711,60890:27740,60891:27782,60892:27759,60893:27866,60894:27908,60895:28039,60896:28015,60897:28054,60898:28076,60899:28111,60900:28152,60901:28146,60902:28156,60903:28217,60904:28252,60905:28199,60906:28220,60907:28351,60908:28552,60909:28597,60910:28661,60911:28677,60912:28679,60913:28712,60914:28805,60915:28843,60916:28943,60917:28932,60918:29020,60919:28998,60920:28999,60921:64021,60922:29121,60923:29182,60924:29361,60992:29374,60993:29476,60994:64022,60995:29559,60996:29629,60997:29641,60998:29654,60999:29667,61000:29650,61001:29703,61002:29685,61003:29734,61004:29738,61005:29737,61006:29742,61007:29794,61008:29833,61009:29855,61010:29953,61011:30063,61012:30338,61013:30364,61014:30366,61015:30363,61016:30374,61017:64023,61018:30534,61019:21167,61020:30753,61021:30798,61022:30820,61023:30842,61024:31024,61025:64024,61026:64025,61027:64026,61028:31124,61029:64027,61030:31131,61031:31441,61032:31463,61033:64028,61034:31467,61035:31646,61036:64029,61037:32072,61038:32092,61039:32183,61040:32160,61041:32214,61042:32338,61043:32583,61044:32673,61045:64030,61046:33537,61047:33634,61048:33663,61049:33735,61050:33782,61051:33864,61052:33972,61053:34131,61054:34137,61056:34155,61057:64031,61058:34224,61059:64032,61060:64033,61061:34823,61062:35061,61063:35346,61064:35383,61065:35449,61066:35495,61067:35518,61068:35551,61069:64034,61070:35574,61071:35667,61072:35711,61073:36080,61074:36084,61075:36114,61076:36214,61077:64035,61078:36559,61079:64036,61080:64037,61081:36967,61082:37086,61083:64038,61084:37141,61085:37159,61086:37338,61087:37335,61088:37342,61089:37357,61090:37358,61091:37348,61092:37349,61093:37382,61094:37392,61095:37386,61096:37434,61097:37440,61098:37436,61099:37454,61100:37465,61101:37457,61102:37433,61103:37479,61104:37543,61105:37495,61106:37496,61107:37607,61108:37591,61109:37593,61110:37584,61111:64039,61112:37589,61113:37600,61114:37587,61115:37669,61116:37665,61117:37627,61118:64040,61119:37662,61120:37631,61121:37661,61122:37634,61123:37744,61124:37719,61125:37796,61126:37830,61127:37854,61128:37880,61129:37937,61130:37957,61131:37960,61132:38290,61133:63964,61134:64041,61135:38557,61136:38575,61137:38707,61138:38715,61139:38723,61140:38733,61141:38735,61142:38737,61143:38741,61144:38999,61145:39013,61146:64042,61147:64043,61148:39207,61149:64044,61150:39326,61151:39502,61152:39641,61153:39644,61154:39797,61155:39794,61156:39823,61157:39857,61158:39867,61159:39936,61160:40304,61161:40299,61162:64045,61163:40473,61164:40657,61167:8560,61168:8561,61169:8562,61170:8563,61171:8564,61172:8565,61173:8566,61174:8567,61175:8568,61176:8569,61177:65506,61178:65508,61179:65287,61180:65282,61504:57344,61505:57345,61506:57346,61507:57347,61508:57348,61509:57349,61510:57350,61511:57351,61512:57352,61513:57353,61514:57354,61515:57355,61516:57356,61517:57357,61518:57358,61519:57359,61520:57360,61521:57361,61522:57362,61523:57363,61524:57364,61525:57365,61526:57366,61527:57367,61528:57368,61529:57369,61530:57370,61531:57371,61532:57372,61533:57373,61534:57374,61535:57375,61536:57376,61537:57377,61538:57378,61539:57379,61540:57380,61541:57381,61542:57382,61543:57383,61544:57384,61545:57385,61546:57386,61547:57387,61548:57388,61549:57389,61550:57390,61551:57391,61552:57392,61553:57393,61554:57394,61555:57395,61556:57396,61557:57397,61558:57398,61559:57399,61560:57400,61561:57401,61562:57402,61563:57403,61564:57404,61565:57405,61566:57406,61568:57407,61569:57408,61570:57409,61571:57410,61572:57411,61573:57412,61574:57413,61575:57414,61576:57415,61577:57416,61578:57417,61579:57418,61580:57419,61581:57420,61582:57421,61583:57422,61584:57423,61585:57424,61586:57425,61587:57426,61588:57427,61589:57428,61590:57429,61591:57430,61592:57431,61593:57432,61594:57433,61595:57434,61596:57435,61597:57436,61598:57437,61599:57438,61600:57439,61601:57440,61602:57441,61603:57442,61604:57443,61605:57444,61606:57445,61607:57446,61608:57447,61609:57448,61610:57449,61611:57450,61612:57451,61613:57452,61614:57453,61615:57454,61616:57455,61617:57456,61618:57457,61619:57458,61620:57459,61621:57460,61622:57461,61623:57462,61624:57463,61625:57464,61626:57465,61627:57466,61628:57467,61629:57468,61630:57469,61631:57470,61632:57471,61633:57472,61634:57473,61635:57474,61636:57475,61637:57476,61638:57477,61639:57478,61640:57479,61641:57480,61642:57481,61643:57482,61644:57483,61645:57484,61646:57485,61647:57486,61648:57487,61649:57488,61650:57489,61651:57490,61652:57491,61653:57492,61654:57493,61655:57494,61656:57495,61657:57496,61658:57497,61659:57498,61660:57499,61661:57500,61662:57501,61663:57502,61664:57503,61665:57504,61666:57505,61667:57506,61668:57507,61669:57508,61670:57509,61671:57510,61672:57511,61673:57512,61674:57513,61675:57514,61676:57515,61677:57516,61678:57517,61679:57518,61680:57519,61681:57520,61682:57521,61683:57522,61684:57523,61685:57524,61686:57525,61687:57526,61688:57527,61689:57528,61690:57529,61691:57530,61692:57531,61760:57532,61761:57533,61762:57534,61763:57535,61764:57536,61765:57537,61766:57538,61767:57539,61768:57540,61769:57541,61770:57542,61771:57543,61772:57544,61773:57545,61774:57546,61775:57547,61776:57548,61777:57549,61778:57550,61779:57551,61780:57552,61781:57553,61782:57554,61783:57555,61784:57556,61785:57557,61786:57558,61787:57559,61788:57560,61789:57561,61790:57562,61791:57563,61792:57564,61793:57565,61794:57566,61795:57567,61796:57568,61797:57569,61798:57570,61799:57571,61800:57572,61801:57573,61802:57574,61803:57575,61804:57576,61805:57577,61806:57578,61807:57579,61808:57580,61809:57581,61810:57582,61811:57583,61812:57584,61813:57585,61814:57586,61815:57587,61816:57588,61817:57589,61818:57590,61819:57591,61820:57592,61821:57593,61822:57594,61824:57595,61825:57596,61826:57597,61827:57598,61828:57599,61829:57600,61830:57601,61831:57602,61832:57603,61833:57604,61834:57605,61835:57606,61836:57607,61837:57608,61838:57609,61839:57610,61840:57611,61841:57612,61842:57613,61843:57614,61844:57615,61845:57616,61846:57617,61847:57618,61848:57619,61849:57620,61850:57621,61851:57622,61852:57623,61853:57624,61854:57625,61855:57626,61856:57627,61857:57628,61858:57629,61859:57630,61860:57631,61861:57632,61862:57633,61863:57634,61864:57635,61865:57636,61866:57637,61867:57638,61868:57639,61869:57640,61870:57641,61871:57642,61872:57643,61873:57644,61874:57645,61875:57646,61876:57647,61877:57648,61878:57649,61879:57650,61880:57651,61881:57652,61882:57653,61883:57654,61884:57655,61885:57656,61886:57657,61887:57658,61888:57659,61889:57660,61890:57661,61891:57662,61892:57663,61893:57664,61894:57665,61895:57666,61896:57667,61897:57668,61898:57669,61899:57670,61900:57671,61901:57672,61902:57673,61903:57674,61904:57675,61905:57676,61906:57677,61907:57678,61908:57679,61909:57680,61910:57681,61911:57682,61912:57683,61913:57684,61914:57685,61915:57686,61916:57687,61917:57688,61918:57689,61919:57690,61920:57691,61921:57692,61922:57693,61923:57694,61924:57695,61925:57696,61926:57697,61927:57698,61928:57699,61929:57700,61930:57701,61931:57702,61932:57703,61933:57704,61934:57705,61935:57706,61936:57707,61937:57708,61938:57709,61939:57710,61940:57711,61941:57712,61942:57713,61943:57714,61944:57715,61945:57716,61946:57717,61947:57718,61948:57719,62016:57720,62017:57721,62018:57722,62019:57723,62020:57724,62021:57725,62022:57726,62023:57727,62024:57728,62025:57729,62026:57730,62027:57731,62028:57732,62029:57733,62030:57734,62031:57735,62032:57736,62033:57737,62034:57738,62035:57739,62036:57740,62037:57741,62038:57742,62039:57743,62040:57744,62041:57745,62042:57746,62043:57747,62044:57748,62045:57749,62046:57750,62047:57751,62048:57752,62049:57753,62050:57754,62051:57755,62052:57756,62053:57757,62054:57758,62055:57759,62056:57760,62057:57761,62058:57762,62059:57763,62060:57764,62061:57765,62062:57766,62063:57767,62064:57768,62065:57769,62066:57770,62067:57771,62068:57772,62069:57773,62070:57774,62071:57775,62072:57776,62073:57777,62074:57778,62075:57779,62076:57780,62077:57781,62078:57782,62080:57783,62081:57784,62082:57785,62083:57786,62084:57787,62085:57788,62086:57789,62087:57790,62088:57791,62089:57792,62090:57793,62091:57794,62092:57795,62093:57796,62094:57797,62095:57798,62096:57799,62097:57800,62098:57801,62099:57802,62100:57803,62101:57804,62102:57805,62103:57806,62104:57807,62105:57808,62106:57809,62107:57810,62108:57811,62109:57812,62110:57813,62111:57814,62112:57815,62113:57816,62114:57817,62115:57818,62116:57819,62117:57820,62118:57821,62119:57822,62120:57823,62121:57824,62122:57825,62123:57826,62124:57827,62125:57828,62126:57829,62127:57830,62128:57831,62129:57832,62130:57833,62131:57834,62132:57835,62133:57836,62134:57837,62135:57838,62136:57839,62137:57840,62138:57841,62139:57842,62140:57843,62141:57844,62142:57845,62143:57846,62144:57847,62145:57848,62146:57849,62147:57850,62148:57851,62149:57852,62150:57853,62151:57854,62152:57855,62153:57856,62154:57857,62155:57858,62156:57859,62157:57860,62158:57861,62159:57862,62160:57863,62161:57864,62162:57865,62163:57866,62164:57867,62165:57868,62166:57869,62167:57870,62168:57871,62169:57872,62170:57873,62171:57874,62172:57875,62173:57876,62174:57877,62175:57878,62176:57879,62177:57880,62178:57881,62179:57882,62180:57883,62181:57884,62182:57885,62183:57886,62184:57887,62185:57888,62186:57889,62187:57890,62188:57891,62189:57892,62190:57893,62191:57894,62192:57895,62193:57896,62194:57897,62195:57898,62196:57899,62197:57900,62198:57901,62199:57902,62200:57903,62201:57904,62202:57905,62203:57906,62204:57907,62272:57908,62273:57909,62274:57910,62275:57911,62276:57912,62277:57913,62278:57914,62279:57915,62280:57916,62281:57917,62282:57918,62283:57919,62284:57920,62285:57921,62286:57922,62287:57923,62288:57924,62289:57925,62290:57926,62291:57927,62292:57928,62293:57929,62294:57930,62295:57931,62296:57932,62297:57933,62298:57934,62299:57935,62300:57936,62301:57937,62302:57938,62303:57939,62304:57940,62305:57941,62306:57942,62307:57943,62308:57944,62309:57945,62310:57946,62311:57947,62312:57948,62313:57949,62314:57950,62315:57951,62316:57952,62317:57953,62318:57954,62319:57955,62320:57956,62321:57957,62322:57958,62323:57959,62324:57960,62325:57961,62326:57962,62327:57963,62328:57964,62329:57965,62330:57966,62331:57967,62332:57968,62333:57969,62334:57970,62336:57971,62337:57972,62338:57973,62339:57974,62340:57975,62341:57976,62342:57977,62343:57978,62344:57979,62345:57980,62346:57981,62347:57982,62348:57983,62349:57984,62350:57985,62351:57986,62352:57987,62353:57988,62354:57989,62355:57990,62356:57991,62357:57992,62358:57993,62359:57994,62360:57995,62361:57996,62362:57997,62363:57998,62364:57999,62365:58000,62366:58001,62367:58002,62368:58003,62369:58004,62370:58005,62371:58006,62372:58007,62373:58008,62374:58009,62375:58010,62376:58011,62377:58012,62378:58013,62379:58014,62380:58015,62381:58016,62382:58017,62383:58018,62384:58019,62385:58020,62386:58021,62387:58022,62388:58023,62389:58024,62390:58025,62391:58026,62392:58027,62393:58028,62394:58029,62395:58030,62396:58031,62397:58032,62398:58033,62399:58034,62400:58035,62401:58036,62402:58037,62403:58038,62404:58039,62405:58040,62406:58041,62407:58042,62408:58043,62409:58044,62410:58045,62411:58046,62412:58047,62413:58048,62414:58049,62415:58050,62416:58051,62417:58052,62418:58053,62419:58054,62420:58055,62421:58056,62422:58057,62423:58058,62424:58059,62425:58060,62426:58061,62427:58062,62428:58063,62429:58064,62430:58065,62431:58066,62432:58067,62433:58068,62434:58069,62435:58070,62436:58071,62437:58072,62438:58073,62439:58074,62440:58075,62441:58076,62442:58077,62443:58078,62444:58079,62445:58080,62446:58081,62447:58082,62448:58083,62449:58084,62450:58085,62451:58086,62452:58087,62453:58088,62454:58089,62455:58090,62456:58091,62457:58092,62458:58093,62459:58094,62460:58095,62528:58096,62529:58097,62530:58098,62531:58099,62532:58100,62533:58101,62534:58102,62535:58103,62536:58104,62537:58105,62538:58106,62539:58107,62540:58108,62541:58109,62542:58110,62543:58111,62544:58112,62545:58113,62546:58114,62547:58115,62548:58116,62549:58117,62550:58118,62551:58119,62552:58120,62553:58121,62554:58122,62555:58123,62556:58124,62557:58125,62558:58126,62559:58127,62560:58128,62561:58129,62562:58130,62563:58131,62564:58132,62565:58133,62566:58134,62567:58135,62568:58136,62569:58137,62570:58138,62571:58139,62572:58140,62573:58141,62574:58142,62575:58143,62576:58144,62577:58145,62578:58146,62579:58147,62580:58148,62581:58149,62582:58150,62583:58151,62584:58152,62585:58153,62586:58154,62587:58155,62588:58156,62589:58157,62590:58158,62592:58159,62593:58160,62594:58161,62595:58162,62596:58163,62597:58164,62598:58165,62599:58166,62600:58167,62601:58168,62602:58169,62603:58170,62604:58171,62605:58172,62606:58173,62607:58174,62608:58175,62609:58176,62610:58177,62611:58178,62612:58179,62613:58180,62614:58181,62615:58182,62616:58183,62617:58184,62618:58185,62619:58186,62620:58187,62621:58188,62622:58189,62623:58190,62624:58191,62625:58192,62626:58193,62627:58194,62628:58195,62629:58196,62630:58197,62631:58198,62632:58199,62633:58200,62634:58201,62635:58202,62636:58203,62637:58204,62638:58205,62639:58206,62640:58207,62641:58208,62642:58209,62643:58210,62644:58211,62645:58212,62646:58213,62647:58214,62648:58215,62649:58216,62650:58217,62651:58218,62652:58219,62653:58220,62654:58221,62655:58222,62656:58223,62657:58224,62658:58225,62659:58226,62660:58227,62661:58228,62662:58229,62663:58230,62664:58231,62665:58232,62666:58233,62667:58234,62668:58235,62669:58236,62670:58237,62671:58238,62672:58239,62673:58240,62674:58241,62675:58242,62676:58243,62677:58244,62678:58245,62679:58246,62680:58247,62681:58248,62682:58249,62683:58250,62684:58251,62685:58252,62686:58253,62687:58254,62688:58255,62689:58256,62690:58257,62691:58258,62692:58259,62693:58260,62694:58261,62695:58262,62696:58263,62697:58264,62698:58265,62699:58266,62700:58267,62701:58268,62702:58269,62703:58270,62704:58271,62705:58272,62706:58273,62707:58274,62708:58275,62709:58276,62710:58277,62711:58278,62712:58279,62713:58280,62714:58281,62715:58282,62716:58283,62784:58284,62785:58285,62786:58286,62787:58287,62788:58288,62789:58289,62790:58290,62791:58291,62792:58292,62793:58293,62794:58294,62795:58295,62796:58296,62797:58297,62798:58298,62799:58299,62800:58300,62801:58301,62802:58302,62803:58303,62804:58304,62805:58305,62806:58306,62807:58307,62808:58308,62809:58309,62810:58310,62811:58311,62812:58312,62813:58313,62814:58314,62815:58315,62816:58316,62817:58317,62818:58318,62819:58319,62820:58320,62821:58321,62822:58322,62823:58323,62824:58324,62825:58325,62826:58326,62827:58327,62828:58328,62829:58329,62830:58330,62831:58331,62832:58332,62833:58333,62834:58334,62835:58335,62836:58336,62837:58337,62838:58338,62839:58339,62840:58340,62841:58341,62842:58342,62843:58343,62844:58344,62845:58345,62846:58346,62848:58347,62849:58348,62850:58349,62851:58350,62852:58351,62853:58352,62854:58353,62855:58354,62856:58355,62857:58356,62858:58357,62859:58358,62860:58359,62861:58360,62862:58361,62863:58362,62864:58363,62865:58364,62866:58365,62867:58366,62868:58367,62869:58368,62870:58369,62871:58370,62872:58371,62873:58372,62874:58373,62875:58374,62876:58375,62877:58376,62878:58377,62879:58378,62880:58379,62881:58380,62882:58381,62883:58382,62884:58383,62885:58384,62886:58385,62887:58386,62888:58387,62889:58388,62890:58389,62891:58390,62892:58391,62893:58392,62894:58393,62895:58394,62896:58395,62897:58396,62898:58397,62899:58398,62900:58399,62901:58400,62902:58401,62903:58402,62904:58403,62905:58404,62906:58405,62907:58406,62908:58407,62909:58408,62910:58409,62911:58410,62912:58411,62913:58412,62914:58413,62915:58414,62916:58415,62917:58416,62918:58417,62919:58418,62920:58419,62921:58420,62922:58421,62923:58422,62924:58423,62925:58424,62926:58425,62927:58426,62928:58427,62929:58428,62930:58429,62931:58430,62932:58431,62933:58432,62934:58433,62935:58434,62936:58435,62937:58436,62938:58437,62939:58438,62940:58439,62941:58440,62942:58441,62943:58442,62944:58443,62945:58444,62946:58445,62947:58446,62948:58447,62949:58448,62950:58449,62951:58450,62952:58451,62953:58452,62954:58453,62955:58454,62956:58455,62957:58456,62958:58457,62959:58458,62960:58459,62961:58460,62962:58461,62963:58462,62964:58463,62965:58464,62966:58465,62967:58466,62968:58467,62969:58468,62970:58469,62971:58470,62972:58471,63040:58472,63041:58473,63042:58474,63043:58475,63044:58476,63045:58477,63046:58478,63047:58479,63048:58480,63049:58481,63050:58482,63051:58483,63052:58484,63053:58485,63054:58486,63055:58487,63056:58488,63057:58489,63058:58490,63059:58491,63060:58492,63061:58493,63062:58494,63063:58495,63064:58496,63065:58497,63066:58498,63067:58499,63068:58500,63069:58501,63070:58502,63071:58503,63072:58504,63073:58505,63074:58506,63075:58507,63076:58508,63077:58509,63078:58510,63079:58511,63080:58512,63081:58513,63082:58514,63083:58515,63084:58516,63085:58517,63086:58518,63087:58519,63088:58520,63089:58521,63090:58522,63091:58523,63092:58524,63093:58525,63094:58526,63095:58527,63096:58528,63097:58529,63098:58530,63099:58531,63100:58532,63101:58533,63102:58534,63104:58535,63105:58536,63106:58537,63107:58538,63108:58539,63109:58540,63110:58541,63111:58542,63112:58543,63113:58544,63114:58545,63115:58546,63116:58547,63117:58548,63118:58549,63119:58550,63120:58551,63121:58552,63122:58553,63123:58554,63124:58555,63125:58556,63126:58557,63127:58558,63128:58559,63129:58560,63130:58561,63131:58562,63132:58563,63133:58564,63134:58565,63135:58566,63136:58567,63137:58568,63138:58569,63139:58570,63140:58571,63141:58572,63142:58573,63143:58574,63144:58575,63145:58576,63146:58577,63147:58578,63148:58579,63149:58580,63150:58581,63151:58582,63152:58583,63153:58584,63154:58585,63155:58586,63156:58587,63157:58588,63158:58589,63159:58590,63160:58591,63161:58592,63162:58593,63163:58594,63164:58595,63165:58596,63166:58597,63167:58598,63168:58599,63169:58600,63170:58601,63171:58602,63172:58603,63173:58604,63174:58605,63175:58606,63176:58607,63177:58608,63178:58609,63179:58610,63180:58611,63181:58612,63182:58613,63183:58614,63184:58615,63185:58616,63186:58617,63187:58618,63188:58619,63189:58620,63190:58621,63191:58622,63192:58623,63193:58624,63194:58625,63195:58626,63196:58627,63197:58628,63198:58629,63199:58630,63200:58631,63201:58632,63202:58633,63203:58634,63204:58635,63205:58636,63206:58637,63207:58638,63208:58639,63209:58640,63210:58641,63211:58642,63212:58643,63213:58644,63214:58645,63215:58646,63216:58647,63217:58648,63218:58649,63219:58650,63220:58651,63221:58652,63222:58653,63223:58654,63224:58655,63225:58656,63226:58657,63227:58658,63228:58659,63296:58660,63297:58661,63298:58662,63299:58663,63300:58664,63301:58665,63302:58666,63303:58667,63304:58668,63305:58669,63306:58670,63307:58671,63308:58672,63309:58673,63310:58674,63311:58675,63312:58676,63313:58677,63314:58678,63315:58679,63316:58680,63317:58681,63318:58682,63319:58683,63320:58684,63321:58685,63322:58686,63323:58687,63324:58688,63325:58689,63326:58690,63327:58691,63328:58692,63329:58693,63330:58694,63331:58695,63332:58696,63333:58697,63334:58698,63335:58699,63336:58700,63337:58701,63338:58702,63339:58703,63340:58704,63341:58705,63342:58706,63343:58707,63344:58708,63345:58709,63346:58710,63347:58711,63348:58712,63349:58713,63350:58714,63351:58715,63352:58716,63353:58717,63354:58718,63355:58719,63356:58720,63357:58721,63358:58722,63360:58723,63361:58724,63362:58725,63363:58726,63364:58727,63365:58728,63366:58729,63367:58730,63368:58731,63369:58732,63370:58733,63371:58734,63372:58735,63373:58736,63374:58737,63375:58738,63376:58739,63377:58740,63378:58741,63379:58742,63380:58743,63381:58744,63382:58745,63383:58746,63384:58747,63385:58748,63386:58749,63387:58750,63388:58751,63389:58752,63390:58753,63391:58754,63392:58755,63393:58756,63394:58757,63395:58758,63396:58759,63397:58760,63398:58761,63399:58762,63400:58763,63401:58764,63402:58765,63403:58766,63404:58767,63405:58768,63406:58769,63407:58770,63408:58771,63409:58772,63410:58773,63411:58774,63412:58775,63413:58776,63414:58777,63415:58778,63416:58779,63417:58780,63418:58781,63419:58782,63420:58783,63421:58784,63422:58785,63423:58786,63424:58787,63425:58788,63426:58789,63427:58790,63428:58791,63429:58792,63430:58793,63431:58794,63432:58795,63433:58796,63434:58797,63435:58798,63436:58799,63437:58800,63438:58801,63439:58802,63440:58803,63441:58804,63442:58805,63443:58806,63444:58807,63445:58808,63446:58809,63447:58810,63448:58811,63449:58812,63450:58813,63451:58814,63452:58815,63453:58816,63454:58817,63455:58818,63456:58819,63457:58820,63458:58821,63459:58822,63460:58823,63461:58824,63462:58825,63463:58826,63464:58827,63465:58828,63466:58829,63467:58830,63468:58831,63469:58832,63470:58833,63471:58834,63472:58835,63473:58836,63474:58837,63475:58838,63476:58839,63477:58840,63478:58841,63479:58842,63480:58843,63481:58844,63482:58845,63483:58846,63484:58847,63552:58848,63553:58849,63554:58850,63555:58851,63556:58852,63557:58853,63558:58854,63559:58855,63560:58856,63561:58857,63562:58858,63563:58859,63564:58860,63565:58861,63566:58862,63567:58863,63568:58864,63569:58865,63570:58866,63571:58867,63572:58868,63573:58869,63574:58870,63575:58871,63576:58872,63577:58873,63578:58874,63579:58875,63580:58876,63581:58877,63582:58878,63583:58879,63584:58880,63585:58881,63586:58882,63587:58883,63588:58884,63589:58885,63590:58886,63591:58887,63592:58888,63593:58889,63594:58890,63595:58891,63596:58892,63597:58893,63598:58894,63599:58895,63600:58896,63601:58897,63602:58898,63603:58899,63604:58900,63605:58901,63606:58902,63607:58903,63608:58904,63609:58905,63610:58906,63611:58907,63612:58908,63613:58909,63614:58910,63616:58911,63617:58912,63618:58913,63619:58914,63620:58915,63621:58916,63622:58917,63623:58918,63624:58919,63625:58920,63626:58921,63627:58922,63628:58923,63629:58924,63630:58925,63631:58926,63632:58927,63633:58928,63634:58929,63635:58930,63636:58931,63637:58932,63638:58933,63639:58934,63640:58935,63641:58936,63642:58937,63643:58938,63644:58939,63645:58940,63646:58941,63647:58942,63648:58943,63649:58944,63650:58945,63651:58946,63652:58947,63653:58948,63654:58949,63655:58950,63656:58951,63657:58952,63658:58953,63659:58954,63660:58955,63661:58956,63662:58957,63663:58958,63664:58959,63665:58960,63666:58961,63667:58962,63668:58963,63669:58964,63670:58965,63671:58966,63672:58967,63673:58968,63674:58969,63675:58970,63676:58971,63677:58972,63678:58973,63679:58974,63680:58975,63681:58976,63682:58977,63683:58978,63684:58979,63685:58980,63686:58981,63687:58982,63688:58983,63689:58984,63690:58985,63691:58986,63692:58987,63693:58988,63694:58989,63695:58990,63696:58991,63697:58992,63698:58993,63699:58994,63700:58995,63701:58996,63702:58997,63703:58998,63704:58999,63705:59000,63706:59001,63707:59002,63708:59003,63709:59004,63710:59005,63711:59006,63712:59007,63713:59008,63714:59009,63715:59010,63716:59011,63717:59012,63718:59013,63719:59014,63720:59015,63721:59016,63722:59017,63723:59018,63724:59019,63725:59020,63726:59021,63727:59022,63728:59023,63729:59024,63730:59025,63731:59026,63732:59027,63733:59028,63734:59029,63735:59030,63736:59031,63737:59032,63738:59033,63739:59034,63740:59035,64064:8560,64065:8561,64066:8562,64067:8563,64068:8564,64069:8565,64070:8566,64071:8567,64072:8568,64073:8569,64074:8544,64075:8545,64076:8546,64077:8547,64078:8548,64079:8549,64080:8550,64081:8551,64082:8552,64083:8553,64084:65506,64085:65508,64086:65287,64087:65282,64088:12849,64089:8470,64090:8481,64091:8757,64092:32394,64093:35100,64094:37704,64095:37512,64096:34012,64097:20425,64098:28859,64099:26161,64100:26824,64101:37625,64102:26363,64103:24389,64104:20008,64105:20193,64106:20220,64107:20224,64108:20227,64109:20281,64110:20310,64111:20370,64112:20362,64113:20378,64114:20372,64115:20429,64116:20544,64117:20514,64118:20479,64119:20510,64120:20550,64121:20592,64122:20546,64123:20628,64124:20724,64125:20696,64126:20810,64128:20836,64129:20893,64130:20926,64131:20972,64132:21013,64133:21148,64134:21158,64135:21184,64136:21211,64137:21248,64138:21255,64139:21284,64140:21362,64141:21395,64142:21426,64143:21469,64144:64014,64145:21660,64146:21642,64147:21673,64148:21759,64149:21894,64150:22361,64151:22373,64152:22444,64153:22472,64154:22471,64155:64015,64156:64016,64157:22686,64158:22706,64159:22795,64160:22867,64161:22875,64162:22877,64163:22883,64164:22948,64165:22970,64166:23382,64167:23488,64168:29999,64169:23512,64170:23532,64171:23582,64172:23718,64173:23738,64174:23797,64175:23847,64176:23891,64177:64017,64178:23874,64179:23917,64180:23992,64181:23993,64182:24016,64183:24353,64184:24372,64185:24423,64186:24503,64187:24542,64188:24669,64189:24709,64190:24714,64191:24798,64192:24789,64193:24864,64194:24818,64195:24849,64196:24887,64197:24880,64198:24984,64199:25107,64200:25254,64201:25589,64202:25696,64203:25757,64204:25806,64205:25934,64206:26112,64207:26133,64208:26171,64209:26121,64210:26158,64211:26142,64212:26148,64213:26213,64214:26199,64215:26201,64216:64018,64217:26227,64218:26265,64219:26272,64220:26290,64221:26303,64222:26362,64223:26382,64224:63785,64225:26470,64226:26555,64227:26706,64228:26560,64229:26625,64230:26692,64231:26831,64232:64019,64233:26984,64234:64020,64235:27032,64236:27106,64237:27184,64238:27243,64239:27206,64240:27251,64241:27262,64242:27362,64243:27364,64244:27606,64245:27711,64246:27740,64247:27782,64248:27759,64249:27866,64250:27908,64251:28039,64252:28015,64320:28054,64321:28076,64322:28111,64323:28152,64324:28146,64325:28156,64326:28217,64327:28252,64328:28199,64329:28220,64330:28351,64331:28552,64332:28597,64333:28661,64334:28677,64335:28679,64336:28712,64337:28805,64338:28843,64339:28943,64340:28932,64341:29020,64342:28998,64343:28999,64344:64021,64345:29121,64346:29182,64347:29361,64348:29374,64349:29476,64350:64022,64351:29559,64352:29629,64353:29641,64354:29654,64355:29667,64356:29650,64357:29703,64358:29685,64359:29734,64360:29738,64361:29737,64362:29742,64363:29794,64364:29833,64365:29855,64366:29953,64367:30063,64368:30338,64369:30364,64370:30366,64371:30363,64372:30374,64373:64023,64374:30534,64375:21167,64376:30753,64377:30798,64378:30820,64379:30842,64380:31024,64381:64024,64382:64025,64384:64026,64385:31124,64386:64027,64387:31131,64388:31441,64389:31463,64390:64028,64391:31467,64392:31646,64393:64029,64394:32072,64395:32092,64396:32183,64397:32160,64398:32214,64399:32338,64400:32583,64401:32673,64402:64030,64403:33537,64404:33634,64405:33663,64406:33735,64407:33782,64408:33864,64409:33972,64410:34131,64411:34137,64412:34155,64413:64031,64414:34224,64415:64032,64416:64033,64417:34823,64418:35061,64419:35346,64420:35383,64421:35449,64422:35495,64423:35518,64424:35551,64425:64034,64426:35574,64427:35667,64428:35711,64429:36080,64430:36084,64431:36114,64432:36214,64433:64035,64434:36559,64435:64036,64436:64037,64437:36967,64438:37086,64439:64038,64440:37141,64441:37159,64442:37338,64443:37335,64444:37342,64445:37357,64446:37358,64447:37348,64448:37349,64449:37382,64450:37392,64451:37386,64452:37434,64453:37440,64454:37436,64455:37454,64456:37465,64457:37457,64458:37433,64459:37479,64460:37543,64461:37495,64462:37496,64463:37607,64464:37591,64465:37593,64466:37584,64467:64039,64468:37589,64469:37600,64470:37587,64471:37669,64472:37665,64473:37627,64474:64040,64475:37662,64476:37631,64477:37661,64478:37634,64479:37744,64480:37719,64481:37796,64482:37830,64483:37854,64484:37880,64485:37937,64486:37957,64487:37960,64488:38290,64489:63964,64490:64041,64491:38557,64492:38575,64493:38707,64494:38715,64495:38723,64496:38733,64497:38735,64498:38737,64499:38741,64500:38999,64501:39013,64502:64042,64503:64043,64504:39207,64505:64044,64506:39326,64507:39502,64508:39641,64576:39644,64577:39797,64578:39794,64579:39823,64580:39857,64581:39867,64582:39936,64583:40304,64584:40299,64585:64045,64586:40473,64587:40657};YC.prototype={constructor:YC,getInt8:function(){var A=this.dv.getInt8(this.offset);return this.offset+=1,A},getInt8Array:function(A){var Q=[];for(var E=0;E<A;E++)Q.push(this.getInt8());return Q},getUint8:function(){var A=this.dv.getUint8(this.offset);return this.offset+=1,A},getUint8Array:function(A){var Q=[];for(var E=0;E<A;E++)Q.push(this.getUint8());return Q},getInt16:function(){var A=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,A},getInt16Array:function(A){var Q=[];for(var E=0;E<A;E++)Q.push(this.getInt16());return Q},getUint16:function(){var A=this.dv.getUint16(this.offset,this.littleEndian);return this.offset+=2,A},getUint16Array:function(A){var Q=[];for(var E=0;E<A;E++)Q.push(this.getUint16());return Q},getInt32:function(){var A=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,A},getInt32Array:function(A){var Q=[];for(var E=0;E<A;E++)Q.push(this.getInt32());return Q},getUint32:function(){var A=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,A},getUint32Array:function(A){var Q=[];for(var E=0;E<A;E++)Q.push(this.getUint32());return Q},getFloat32:function(){var A=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,A},getFloat32Array:function(A){var Q=[];for(var E=0;E<A;E++)Q.push(this.getFloat32());return Q},getFloat64:function(){var A=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,A},getFloat64Array:function(A){var Q=[];for(var E=0;E<A;E++)Q.push(this.getFloat64());return Q},getIndex:function(A,Q){switch(A){case 1:return Q===!0?this.getUint8():this.getInt8();case 2:return Q===!0?this.getUint16():this.getInt16();case 4:return this.getInt32();default:throw"unknown number type "+A+" exception."}},getIndexArray:function(A,Q,E){var B=[];for(var I=0;I<Q;I++)B.push(this.getIndex(A,E));return B},getChars:function(A){var Q="";while(A>0){var E=this.getUint8();if(A--,E===0)break;Q+=String.fromCharCode(E)}while(A>0)this.getUint8(),A--;return Q},getSjisStringsAsUnicode:function(A){var Q=[];while(A>0){var E=this.getUint8();if(A--,E===0)break;Q.push(E)}while(A>0)this.getUint8(),A--;return this.encoder.s2u(new Uint8Array(Q))},getUnicodeStrings:function(A){var Q="";while(A>0){var E=this.getUint16();if(A-=2,E===0)break;Q+=String.fromCharCode(E)}while(A>0)this.getUint8(),A--;return Q},getTextBuffer:function(){var A=this.getUint32();return this.getUnicodeStrings(A)}};HC.prototype={constructor:HC,leftToRightVector3:function(A){A[2]=-A[2]},leftToRightQuaternion:function(A){A[0]=-A[0],A[1]=-A[1]},leftToRightEuler:function(A){A[0]=-A[0],A[1]=-A[1]},leftToRightIndexOrder:function(A){var Q=A[2];A[2]=A[0],A[0]=Q},leftToRightVector3Range:function(A,Q){var E=-Q[2];Q[2]=-A[2],A[2]=E},leftToRightEulerRange:function(A,Q){var E=-Q[0],B=-Q[1];Q[0]=-A[0],Q[1]=-A[1],A[0]=E,A[1]=B}};cB.prototype.parsePmd=function(A,Q){var E={},B=new YC(A);E.metadata={},E.metadata.format="pmd",E.metadata.coordinateSystem="left";var I=function(){var M=E.metadata;if(M.magic=B.getChars(3),M.magic!=="Pmd")throw"PMD file magic is not Pmd, but "+M.magic;M.version=B.getFloat32(),M.modelName=B.getSjisStringsAsUnicode(20),M.comment=B.getSjisStringsAsUnicode(256)},K=function(){var M=function(){var w={};return w.position=B.getFloat32Array(3),w.normal=B.getFloat32Array(3),w.uv=B.getFloat32Array(2),w.skinIndices=B.getUint16Array(2),w.skinWeights=[B.getUint8()/100],w.skinWeights.push(1-w.skinWeights[0]),w.edgeFlag=B.getUint8(),w},L=E.metadata;L.vertexCount=B.getUint32(),E.vertices=[];for(var D=0;D<L.vertexCount;D++)E.vertices.push(M())},J=function(){var M=function(){var w={};return w.indices=B.getUint16Array(3),w},L=E.metadata;L.faceCount=B.getUint32()/3,E.faces=[];for(var D=0;D<L.faceCount;D++)E.faces.push(M())},C=function(){var M=function(){var w={};return w.diffuse=B.getFloat32Array(4),w.shininess=B.getFloat32(),w.specular=B.getFloat32Array(3),w.ambient=B.getFloat32Array(3),w.toonIndex=B.getInt8(),w.edgeFlag=B.getUint8(),w.faceCount=B.getUint32()/3,w.fileName=B.getSjisStringsAsUnicode(20),w},L=E.metadata;L.materialCount=B.getUint32(),E.materials=[];for(var D=0;D<L.materialCount;D++)E.materials.push(M())},U=function(){var M=function(){var w={};return w.name=B.getSjisStringsAsUnicode(20),w.parentIndex=B.getInt16(),w.tailIndex=B.getInt16(),w.type=B.getUint8(),w.ikIndex=B.getInt16(),w.position=B.getFloat32Array(3),w},L=E.metadata;L.boneCount=B.getUint16(),E.bones=[];for(var D=0;D<L.boneCount;D++)E.bones.push(M())},Y=function(){var M=function(){var w={};w.target=B.getUint16(),w.effector=B.getUint16(),w.linkCount=B.getUint8(),w.iteration=B.getUint16(),w.maxAngle=B.getFloat32(),w.links=[];for(var P=0;P<w.linkCount;P++){var V={};V.index=B.getUint16(),w.links.push(V)}return w},L=E.metadata;L.ikCount=B.getUint16(),E.iks=[];for(var D=0;D<L.ikCount;D++)E.iks.push(M())},H=function(){var M=function(){var w={};w.name=B.getSjisStringsAsUnicode(20),w.elementCount=B.getUint32(),w.type=B.getUint8(),w.elements=[];for(var P=0;P<w.elementCount;P++)w.elements.push({index:B.getUint32(),position:B.getFloat32Array(3)});return w},L=E.metadata;L.morphCount=B.getUint16(),E.morphs=[];for(var D=0;D<L.morphCount;D++)E.morphs.push(M())},R=function(){var M=function(){var w={};return w.index=B.getUint16(),w},L=E.metadata;L.morphFrameCount=B.getUint8(),E.morphFrames=[];for(var D=0;D<L.morphFrameCount;D++)E.morphFrames.push(M())},G=function(){var M=function(){var w={};return w.name=B.getSjisStringsAsUnicode(50),w},L=E.metadata;L.boneFrameNameCount=B.getUint8(),E.boneFrameNames=[];for(var D=0;D<L.boneFrameNameCount;D++)E.boneFrameNames.push(M())},O=function(){var M=function(){var w={};return w.boneIndex=B.getInt16(),w.frameIndex=B.getUint8(),w},L=E.metadata;L.boneFrameCount=B.getUint32(),E.boneFrames=[];for(var D=0;D<L.boneFrameCount;D++)E.boneFrames.push(M())},F=function(){var M=E.metadata;if(M.englishCompatibility=B.getUint8(),M.englishCompatibility>0)M.englishModelName=B.getSjisStringsAsUnicode(20),M.englishComment=B.getSjisStringsAsUnicode(256)},q=function(){var M=function(){var w={};return w.name=B.getSjisStringsAsUnicode(20),w},L=E.metadata;if(L.englishCompatibility===0)return;E.englishBoneNames=[];for(var D=0;D<L.boneCount;D++)E.englishBoneNames.push(M())},W=function(){var M=function(){var w={};return w.name=B.getSjisStringsAsUnicode(20),w},L=E.metadata;if(L.englishCompatibility===0)return;E.englishMorphNames=[];for(var D=0;D<L.morphCount-1;D++)E.englishMorphNames.push(M())},Z=function(){var M=function(){var w={};return w.name=B.getSjisStringsAsUnicode(50),w},L=E.metadata;if(L.englishCompatibility===0)return;E.englishBoneFrameNames=[];for(var D=0;D<L.boneFrameNameCount;D++)E.englishBoneFrameNames.push(M())},$=function(){var M=function(){var D={};return D.fileName=B.getSjisStringsAsUnicode(100),D};E.toonTextures=[];for(var L=0;L<10;L++)E.toonTextures.push(M())},X=function(){var M=function(){var w={};return w.name=B.getSjisStringsAsUnicode(20),w.boneIndex=B.getInt16(),w.groupIndex=B.getUint8(),w.groupTarget=B.getUint16(),w.shapeType=B.getUint8(),w.width=B.getFloat32(),w.height=B.getFloat32(),w.depth=B.getFloat32(),w.position=B.getFloat32Array(3),w.rotation=B.getFloat32Array(3),w.weight=B.getFloat32(),w.positionDamping=B.getFloat32(),w.rotationDamping=B.getFloat32(),w.restitution=B.getFloat32(),w.friction=B.getFloat32(),w.type=B.getUint8(),w},L=E.metadata;L.rigidBodyCount=B.getUint32(),E.rigidBodies=[];for(var D=0;D<L.rigidBodyCount;D++)E.rigidBodies.push(M())},N=function(){var M=function(){var w={};return w.name=B.getSjisStringsAsUnicode(20),w.rigidBodyIndex1=B.getUint32(),w.rigidBodyIndex2=B.getUint32(),w.position=B.getFloat32Array(3),w.rotation=B.getFloat32Array(3),w.translationLimitation1=B.getFloat32Array(3),w.translationLimitation2=B.getFloat32Array(3),w.rotationLimitation1=B.getFloat32Array(3),w.rotationLimitation2=B.getFloat32Array(3),w.springPosition=B.getFloat32Array(3),w.springRotation=B.getFloat32Array(3),w},L=E.metadata;L.constraintCount=B.getUint32(),E.constraints=[];for(var D=0;D<L.constraintCount;D++)E.constraints.push(M())};if(I(),K(),J(),C(),U(),Y(),H(),R(),G(),O(),F(),q(),W(),Z(),$(),X(),N(),Q===!0)this.leftToRightModel(E);return E};cB.prototype.parsePmx=function(A,Q){var E={},B=new YC(A);E.metadata={},E.metadata.format="pmx",E.metadata.coordinateSystem="left";var I=function(){var F=E.metadata;if(F.magic=B.getChars(4),F.magic!=="PMX ")throw"PMX file magic is not PMX , but "+F.magic;if(F.version=B.getFloat32(),F.version!==2&&F.version!==2.1)throw"PMX version "+F.version+" is not supported.";F.headerSize=B.getUint8(),F.encoding=B.getUint8(),F.additionalUvNum=B.getUint8(),F.vertexIndexSize=B.getUint8(),F.textureIndexSize=B.getUint8(),F.materialIndexSize=B.getUint8(),F.boneIndexSize=B.getUint8(),F.morphIndexSize=B.getUint8(),F.rigidBodyIndexSize=B.getUint8(),F.modelName=B.getTextBuffer(),F.englishModelName=B.getTextBuffer(),F.comment=B.getTextBuffer(),F.englishComment=B.getTextBuffer()},K=function(){var F=function(){var Z={};Z.position=B.getFloat32Array(3),Z.normal=B.getFloat32Array(3),Z.uv=B.getFloat32Array(2),Z.auvs=[];for(var $=0;$<E.metadata.additionalUvNum;$++)Z.auvs.push(B.getFloat32Array(4));Z.type=B.getUint8();var X=q.boneIndexSize;if(Z.type===0)Z.skinIndices=B.getIndexArray(X,1),Z.skinWeights=[1];else if(Z.type===1)Z.skinIndices=B.getIndexArray(X,2),Z.skinWeights=B.getFloat32Array(1),Z.skinWeights.push(1-Z.skinWeights[0]);else if(Z.type===2)Z.skinIndices=B.getIndexArray(X,4),Z.skinWeights=B.getFloat32Array(4);else if(Z.type===3)Z.skinIndices=B.getIndexArray(X,2),Z.skinWeights=B.getFloat32Array(1),Z.skinWeights.push(1-Z.skinWeights[0]),Z.skinC=B.getFloat32Array(3),Z.skinR0=B.getFloat32Array(3),Z.skinR1=B.getFloat32Array(3),Z.type=1;else throw"unsupport bone type "+Z.type+" exception.";return Z.edgeRatio=B.getFloat32(),Z},q=E.metadata;q.vertexCount=B.getUint32(),E.vertices=[];for(var W=0;W<q.vertexCount;W++)E.vertices.push(F())},J=function(){var F=function(){var Z={};return Z.indices=B.getIndexArray(q.vertexIndexSize,3,!0),Z},q=E.metadata;q.faceCount=B.getUint32()/3,E.faces=[];for(var W=0;W<q.faceCount;W++)E.faces.push(F())},C=function(){var F=function(){return B.getTextBuffer()},q=E.metadata;q.textureCount=B.getUint32(),E.textures=[];for(var W=0;W<q.textureCount;W++)E.textures.push(F())},U=function(){var F=function(){var Z={};if(Z.name=B.getTextBuffer(),Z.englishName=B.getTextBuffer(),Z.diffuse=B.getFloat32Array(4),Z.specular=B.getFloat32Array(3),Z.shininess=B.getFloat32(),Z.ambient=B.getFloat32Array(3),Z.flag=B.getUint8(),Z.edgeColor=B.getFloat32Array(4),Z.edgeSize=B.getFloat32(),Z.textureIndex=B.getIndex(E.metadata.textureIndexSize),Z.envTextureIndex=B.getIndex(E.metadata.textureIndexSize),Z.envFlag=B.getUint8(),Z.toonFlag=B.getUint8(),Z.toonFlag===0)Z.toonIndex=B.getIndex(E.metadata.textureIndexSize);else if(Z.toonFlag===1)Z.toonIndex=B.getInt8();else throw"unknown toon flag "+Z.toonFlag+" exception.";return Z.comment=B.getTextBuffer(),Z.faceCount=B.getUint32()/3,Z},q=E.metadata;q.materialCount=B.getUint32(),E.materials=[];for(var W=0;W<q.materialCount;W++)E.materials.push(F())},Y=function(){var F=function(){var Z={};if(Z.name=B.getTextBuffer(),Z.englishName=B.getTextBuffer(),Z.position=B.getFloat32Array(3),Z.parentIndex=B.getIndex(E.metadata.boneIndexSize),Z.transformationClass=B.getUint32(),Z.flag=B.getUint16(),Z.flag&1)Z.connectIndex=B.getIndex(E.metadata.boneIndexSize);else Z.offsetPosition=B.getFloat32Array(3);if(Z.flag&256||Z.flag&512){var $={};$.isLocal=(Z.flag&128)!==0?!0:!1,$.affectRotation=(Z.flag&256)!==0?!0:!1,$.affectPosition=(Z.flag&512)!==0?!0:!1,$.parentIndex=B.getIndex(E.metadata.boneIndexSize),$.ratio=B.getFloat32(),Z.grant=$}if(Z.flag&1024)Z.fixAxis=B.getFloat32Array(3);if(Z.flag&2048)Z.localXVector=B.getFloat32Array(3),Z.localZVector=B.getFloat32Array(3);if(Z.flag&8192)Z.key=B.getUint32();if(Z.flag&32){var X={};X.effector=B.getIndex(E.metadata.boneIndexSize),X.target=null,X.iteration=B.getUint32(),X.maxAngle=B.getFloat32(),X.linkCount=B.getUint32(),X.links=[];for(var N=0;N<X.linkCount;N++){var M={};if(M.index=B.getIndex(E.metadata.boneIndexSize),M.angleLimitation=B.getUint8(),M.angleLimitation===1)M.lowerLimitationAngle=B.getFloat32Array(3),M.upperLimitationAngle=B.getFloat32Array(3);X.links.push(M)}Z.ik=X}return Z},q=E.metadata;q.boneCount=B.getUint32(),E.bones=[];for(var W=0;W<q.boneCount;W++)E.bones.push(F())},H=function(){var F=function(){var Z={};Z.name=B.getTextBuffer(),Z.englishName=B.getTextBuffer(),Z.panel=B.getUint8(),Z.type=B.getUint8(),Z.elementCount=B.getUint32(),Z.elements=[];for(var $=0;$<Z.elementCount;$++)if(Z.type===0){var X={};X.index=B.getIndex(E.metadata.morphIndexSize),X.ratio=B.getFloat32(),Z.elements.push(X)}else if(Z.type===1){var X={};X.index=B.getIndex(E.metadata.vertexIndexSize,!0),X.position=B.getFloat32Array(3),Z.elements.push(X)}else if(Z.type===2){var X={};X.index=B.getIndex(E.metadata.boneIndexSize),X.position=B.getFloat32Array(3),X.rotation=B.getFloat32Array(4),Z.elements.push(X)}else if(Z.type===3){var X={};X.index=B.getIndex(E.metadata.vertexIndexSize,!0),X.uv=B.getFloat32Array(4),Z.elements.push(X)}else if(Z.type===4);else if(Z.type===5);else if(Z.type===6);else if(Z.type===7);else if(Z.type===8){var X={};X.index=B.getIndex(E.metadata.materialIndexSize),X.type=B.getUint8(),X.diffuse=B.getFloat32Array(4),X.specular=B.getFloat32Array(3),X.shininess=B.getFloat32(),X.ambient=B.getFloat32Array(3),X.edgeColor=B.getFloat32Array(4),X.edgeSize=B.getFloat32(),X.textureColor=B.getFloat32Array(4),X.sphereTextureColor=B.getFloat32Array(4),X.toonColor=B.getFloat32Array(4),Z.elements.push(X)}return Z},q=E.metadata;q.morphCount=B.getUint32(),E.morphs=[];for(var W=0;W<q.morphCount;W++)E.morphs.push(F())},R=function(){var F=function(){var Z={};Z.name=B.getTextBuffer(),Z.englishName=B.getTextBuffer(),Z.type=B.getUint8(),Z.elementCount=B.getUint32(),Z.elements=[];for(var $=0;$<Z.elementCount;$++){var X={};X.target=B.getUint8(),X.index=X.target===0?B.getIndex(E.metadata.boneIndexSize):B.getIndex(E.metadata.morphIndexSize),Z.elements.push(X)}return Z},q=E.metadata;q.frameCount=B.getUint32(),E.frames=[];for(var W=0;W<q.frameCount;W++)E.frames.push(F())},G=function(){var F=function(){var Z={};return Z.name=B.getTextBuffer(),Z.englishName=B.getTextBuffer(),Z.boneIndex=B.getIndex(E.metadata.boneIndexSize),Z.groupIndex=B.getUint8(),Z.groupTarget=B.getUint16(),Z.shapeType=B.getUint8(),Z.width=B.getFloat32(),Z.height=B.getFloat32(),Z.depth=B.getFloat32(),Z.position=B.getFloat32Array(3),Z.rotation=B.getFloat32Array(3),Z.weight=B.getFloat32(),Z.positionDamping=B.getFloat32(),Z.rotationDamping=B.getFloat32(),Z.restitution=B.getFloat32(),Z.friction=B.getFloat32(),Z.type=B.getUint8(),Z},q=E.metadata;q.rigidBodyCount=B.getUint32(),E.rigidBodies=[];for(var W=0;W<q.rigidBodyCount;W++)E.rigidBodies.push(F())},O=function(){var F=function(){var Z={};return Z.name=B.getTextBuffer(),Z.englishName=B.getTextBuffer(),Z.type=B.getUint8(),Z.rigidBodyIndex1=B.getIndex(E.metadata.rigidBodyIndexSize),Z.rigidBodyIndex2=B.getIndex(E.metadata.rigidBodyIndexSize),Z.position=B.getFloat32Array(3),Z.rotation=B.getFloat32Array(3),Z.translationLimitation1=B.getFloat32Array(3),Z.translationLimitation2=B.getFloat32Array(3),Z.rotationLimitation1=B.getFloat32Array(3),Z.rotationLimitation2=B.getFloat32Array(3),Z.springPosition=B.getFloat32Array(3),Z.springRotation=B.getFloat32Array(3),Z},q=E.metadata;q.constraintCount=B.getUint32(),E.constraints=[];for(var W=0;W<q.constraintCount;W++)E.constraints.push(F())};if(I(),K(),J(),C(),U(),Y(),H(),R(),G(),O(),Q===!0)this.leftToRightModel(E);return E};cB.prototype.parseVmd=function(A,Q){var E={},B=new YC(A);E.metadata={},E.metadata.coordinateSystem="left";var I=function(){var U=E.metadata;if(U.magic=B.getChars(30),U.magic!=="Vocaloid Motion Data 0002")throw"VMD file magic is not Vocaloid Motion Data 0002, but "+U.magic;U.name=B.getSjisStringsAsUnicode(20)},K=function(){var U=function(){var R={};return R.boneName=B.getSjisStringsAsUnicode(15),R.frameNum=B.getUint32(),R.position=B.getFloat32Array(3),R.rotation=B.getFloat32Array(4),R.interpolation=B.getUint8Array(64),R},Y=E.metadata;Y.motionCount=B.getUint32(),E.motions=[];for(var H=0;H<Y.motionCount;H++)E.motions.push(U())},J=function(){var U=function(){var R={};return R.morphName=B.getSjisStringsAsUnicode(15),R.frameNum=B.getUint32(),R.weight=B.getFloat32(),R},Y=E.metadata;Y.morphCount=B.getUint32(),E.morphs=[];for(var H=0;H<Y.morphCount;H++)E.morphs.push(U())},C=function(){var U=function(){var R={};return R.frameNum=B.getUint32(),R.distance=B.getFloat32(),R.position=B.getFloat32Array(3),R.rotation=B.getFloat32Array(3),R.interpolation=B.getUint8Array(24),R.fov=B.getUint32(),R.perspective=B.getUint8(),R},Y=E.metadata;Y.cameraCount=B.getUint32(),E.cameras=[];for(var H=0;H<Y.cameraCount;H++)E.cameras.push(U())};if(I(),K(),J(),C(),Q===!0)this.leftToRightVmd(E);return E};cB.prototype.parseVpd=function(A,Q){var E={};E.metadata={},E.metadata.coordinateSystem="left",E.bones=[];var B=/\/\/\w*(\r|\n|\r\n)/g,I=/\r|\n|\r\n/,K=A.replace(B,"").split(I);function J(){throw"the file seems not vpd file."}function C(){if(K[0]!=="Vocaloid Pose Data file")J()}function U(){if(K.length<4)J();E.metadata.parentFile=K[2],E.metadata.boneCount=parseInt(K[3])}function Y(){var H=/^\s*(Bone[0-9]+)\s*\{\s*(.*)$/,R=/^\s*(-?[0-9]+\.[0-9]+)\s*,\s*(-?[0-9]+\.[0-9]+)\s*,\s*(-?[0-9]+\.[0-9]+)\s*;/,G=/^\s*(-?[0-9]+\.[0-9]+)\s*,\s*(-?[0-9]+\.[0-9]+)\s*,\s*(-?[0-9]+\.[0-9]+)\s*,\s*(-?[0-9]+\.[0-9]+)\s*;/,O=/^\s*}/,F=E.bones,q=null,W=null,Z=null;for(var $=4;$<K.length;$++){var X=K[$],N;if(N=X.match(H),N!==null){if(q!==null)J();q=N[2]}if(N=X.match(R),N!==null){if(W!==null)J();W=[parseFloat(N[1]),parseFloat(N[2]),parseFloat(N[3])]}if(N=X.match(G),N!==null){if(Z!==null)J();Z=[parseFloat(N[1]),parseFloat(N[2]),parseFloat(N[3]),parseFloat(N[4])]}if(N=X.match(O),N!==null){if(q===null||W===null||Z===null)J();F.push({name:q,translation:W,quaternion:Z}),q=null,W=null,Z=null}}if(q!==null||W!==null||Z!==null)J()}if(C(),U(),Y(),Q===!0)this.leftToRightVpd(E);return E};cB.prototype.mergeVmds=function(A){var Q={};Q.metadata={},Q.metadata.name=A[0].metadata.name,Q.metadata.coordinateSystem=A[0].metadata.coordinateSystem,Q.metadata.motionCount=0,Q.metadata.morphCount=0,Q.metadata.cameraCount=0,Q.motions=[],Q.morphs=[],Q.cameras=[];for(var E=0;E<A.length;E++){var B=A[E];Q.metadata.motionCount+=B.metadata.motionCount,Q.metadata.morphCount+=B.metadata.morphCount,Q.metadata.cameraCount+=B.metadata.cameraCount;for(var I=0;I<B.metadata.motionCount;I++)Q.motions.push(B.motions[I]);for(var I=0;I<B.metadata.morphCount;I++)Q.morphs.push(B.morphs[I]);for(var I=0;I<B.metadata.cameraCount;I++)Q.cameras.push(B.cameras[I])}return Q};cB.prototype.leftToRightModel=function(A){if(A.metadata.coordinateSystem==="right")return;A.metadata.coordinateSystem="right";var Q=new HC;for(var E=0;E<A.metadata.vertexCount;E++)Q.leftToRightVector3(A.vertices[E].position),Q.leftToRightVector3(A.vertices[E].normal);for(var E=0;E<A.metadata.faceCount;E++)Q.leftToRightIndexOrder(A.faces[E].indices);for(var E=0;E<A.metadata.boneCount;E++)Q.leftToRightVector3(A.bones[E].position);for(var E=0;E<A.metadata.morphCount;E++){var B=A.morphs[E];if(A.metadata.format==="pmx"&&B.type!==1)continue;for(var I=0;I<B.elements.length;I++)Q.leftToRightVector3(B.elements[I].position)}for(var E=0;E<A.metadata.rigidBodyCount;E++)Q.leftToRightVector3(A.rigidBodies[E].position),Q.leftToRightEuler(A.rigidBodies[E].rotation);for(var E=0;E<A.metadata.constraintCount;E++)Q.leftToRightVector3(A.constraints[E].position),Q.leftToRightEuler(A.constraints[E].rotation),Q.leftToRightVector3Range(A.constraints[E].translationLimitation1,A.constraints[E].translationLimitation2),Q.leftToRightEulerRange(A.constraints[E].rotationLimitation1,A.constraints[E].rotationLimitation2)};cB.prototype.leftToRightVmd=function(A){if(A.metadata.coordinateSystem==="right")return;A.metadata.coordinateSystem="right";var Q=new HC;for(var E=0;E<A.metadata.motionCount;E++)Q.leftToRightVector3(A.motions[E].position),Q.leftToRightQuaternion(A.motions[E].rotation);for(var E=0;E<A.metadata.cameraCount;E++)Q.leftToRightVector3(A.cameras[E].position),Q.leftToRightEuler(A.cameras[E].rotation)};cB.prototype.leftToRightVpd=function(A){if(A.metadata.coordinateSystem==="right")return;A.metadata.coordinateSystem="right";var Q=new HC;for(var E=0;E<A.bones.length;E++)Q.leftToRightVector3(A.bones[E].translation),Q.leftToRightQuaternion(A.bones[E].quaternion)};var BBA=new f,IBA=new Y8,KBA=new ZQ,JBA=new f,CBA=new nQ;class GC extends pA{constructor(A=(B,I,K)=>K.set(B,I,Math.cos(B)*Math.sin(I)),Q=8,E=8){super();this.type="ParametricGeometry",this.parameters={func:A,slices:Q,stacks:E};const B=[],I=[],K=[],J=[],C=0.00001,U=new f,Y=new f,H=new f,R=new f,G=new f,O=Q+1;for(let F=0;F<=E;F++){const q=F/E;for(let W=0;W<=Q;W++){const Z=W/Q;if(A(Z,q,Y),I.push(Y.x,Y.y,Y.z),Z-C>=0)A(Z-C,q,H),R.subVectors(Y,H);else A(Z+C,q,H),R.subVectors(H,Y);if(q-C>=0)A(Z,q-C,H),G.subVectors(Y,H);else A(Z,q+C,H),G.subVectors(H,Y);U.crossVectors(R,G).normalize(),K.push(U.x,U.y,U.z),J.push(Z,q)}}for(let F=0;F<E;F++)for(let q=0;q<Q;q++){const W=F*O+q,Z=F*O+q+1,$=(F+1)*O+q+1,X=(F+1)*O+q;B.push(W,Z,X),B.push(Z,$,X)}this.setIndex(B),this.setAttribute("position",new bA(I,3)),this.setAttribute("normal",new bA(K,3)),this.setAttribute("uv",new bA(J,2))}copy(A){return super.copy(A),this.parameters=Object.assign({},A.parameters),this}}var ZC={klein:function(A,Q,E){Q*=Math.PI,A*=2*Math.PI,Q=Q*2;let B,I;if(Q<Math.PI)B=3*Math.cos(Q)*(1+Math.sin(Q))+2*(1-Math.cos(Q)/2)*Math.cos(Q)*Math.cos(A),I=-8*Math.sin(Q)-2*(1-Math.cos(Q)/2)*Math.sin(Q)*Math.cos(A);else B=3*Math.cos(Q)*(1+Math.sin(Q))+2*(1-Math.cos(Q)/2)*Math.cos(A+Math.PI),I=-8*Math.sin(Q);const K=-2*(1-Math.cos(Q)/2)*Math.sin(A);E.set(B,K,I)},plane:function(A,Q){return function(E,B,I){const K=E*A,C=B*Q;I.set(K,0,C)}},mobius:function(A,Q,E){A=A-0.5;const B=2*Math.PI*Q,I=2,K=Math.cos(B)*(I+A*Math.cos(B/2)),J=Math.sin(B)*(I+A*Math.cos(B/2)),C=A*Math.sin(B/2);E.set(K,J,C)},mobius3d:function(A,Q,E){A*=Math.PI,Q*=2*Math.PI,A=A*2;const B=A/2,I=2.25,K=0.125,J=0.65;let C=K*Math.cos(Q)*Math.cos(B)-J*Math.sin(Q)*Math.sin(B);const U=K*Math.cos(Q)*Math.sin(B)+J*Math.sin(Q)*Math.cos(B),Y=(I+C)*Math.sin(A);C=(I+C)*Math.cos(A),E.set(C,Y,U)}};ZC.TubeGeometry=class A extends GC{constructor(Q,E=64,B=1,I=8,K=!1){const J=E+1,C=Q.computeFrenetFrames(E,K),U=C.tangents,Y=C.normals,H=C.binormals,R=new f;function G(O,F,q){F*=2*Math.PI;const W=Math.floor(O*(J-1));Q.getPointAt(O,R);const Z=Y[W],$=H[W],X=-B*Math.cos(F),N=B*Math.sin(F);R.x+=X*Z.x+N*$.x,R.y+=X*Z.y+N*$.y,R.z+=X*Z.z+N*$.z,q.copy(R)}super(G,E,I);this.tangents=U,this.normals=Y,this.binormals=H,this.path=Q,this.segments=E,this.radius=B,this.segmentsRadius=I,this.closed=K}};ZC.TorusKnotGeometry=class A extends ZC.TubeGeometry{constructor(Q=200,E=40,B=64,I=8,K=2,J=3){class C extends q1{getPoint(R,G=new f){const O=G;R*=Math.PI*2;const F=0.5,q=(1+F*Math.cos(J*R))*Math.cos(K*R),W=(1+F*Math.cos(J*R))*Math.sin(K*R),Z=F*Math.sin(J*R);return O.set(q,W,Z).multiplyScalar(Q)}}const U=B,Y=I,H=new C;super(H,U,E,Y,!0,!1);this.radius=Q,this.tube=E,this.segmentsT=B,this.segmentsR=I,this.p=K,this.q=J}};ZC.SphereGeometry=class A extends GC{constructor(Q,E,B){function I(K,J,C){K*=Math.PI,J*=2*Math.PI;const U=Q*Math.sin(K)*Math.cos(J),Y=Q*Math.sin(K)*Math.sin(J),H=Q*Math.cos(K);C.set(U,Y,H)}super(I,E,B)}};ZC.PlaneGeometry=class A extends GC{constructor(Q,E,B,I){function K(J,C,U){const Y=J*Q,R=C*E;U.set(Y,0,R)}super(K,B,I)}};var LBA=new f;function tO(A,Q){if(Q===sR)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),A;if(Q===qK||Q===x9){let E=A.getIndex();if(E===null){const J=[],C=A.getAttribute("position");if(C!==void 0){for(let U=0;U<C.count;U++)J.push(U);A.setIndex(J),E=A.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),A}const B=E.count-2,I=[];if(Q===qK)for(let J=1;J<=B;J++)I.push(E.getX(0)),I.push(E.getX(J)),I.push(E.getX(J+1));else for(let J=0;J<B;J++)if(J%2===0)I.push(E.getX(J)),I.push(E.getX(J+1)),I.push(E.getX(J+2));else I.push(E.getX(J+2)),I.push(E.getX(J+1)),I.push(E.getX(J));if(I.length/3!==B)console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const K=A.clone();return K.setIndex(I),K.clearGroups(),K}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",Q),A}var uBA=new f,pBA=new f,mBA=new J0;var lBA=new f,nBA=new f;var eBA=new RA;var AIA=new qE;var BIA=new m8,IIA=new f,KIA=new f,JIA=new f,CIA=new f,UIA=new f,YIA=new f,HIA=new f,GIA=new f,ZIA=new f,RIA=new f,OIA=new f,$IA=new f,WIA=new f,XIA=new f,FIA=new MA,qIA=new C0,NIA=new f;class cK{static init(){const A=[1,0,0,0.00002,1,0,0,0.000503905,1,0,0,0.00201562,1,0,0,0.00453516,1,0,0,0.00806253,1,0,0,0.0125978,1,0,0,0.018141,1,0,0,0.0246924,1,0,0,0.0322525,1,0,0,0.0408213,1,0,0,0.0503999,1,0,0,0.0609894,1,0,0,0.0725906,1,0,0,0.0852058,1,0,0,0.0988363,1,0,0,0.113484,1,0,0,0.129153,1,0,0,0.145839,1,0,0,0.163548,1,0,0,0.182266,1,0,0,0.201942,1,0,0,0.222314,1,0,0,0.241906,1,0,0,0.262314,1,0,0,0.285754,1,0,0,0.310159,1,0,0,0.335426,1,0,0,0.361341,1,0,0,0.387445,1,0,0,0.412784,1,0,0,0.438197,1,0,0,0.466966,1,0,0,0.49559,1,0,0,0.523448,1,0,0,0.549938,1,0,0,0.57979,1,0,0,0.608746,1,0,0,0.636185,1,0,0,0.664748,1,0,0,0.69313,1,0,0,0.71966,1,0,0,0.747662,1,0,0,0.774023,1,0,0,0.799775,1,0,0,0.825274,1,0,0,0.849156,1,0,0,0.873248,1,0,0,0.89532,1,0,0,0.917565,1,0,0,0.937863,1,0,0,0.958139,1,0,0,0.976563,1,0,0,0.994658,1,0,0,1.0112,1,0,0,1.02712,1,0,0,1.04189,1,0,0,1.05568,1,0,0,1.06877,1,0,0,1.08058,1,0,0,1.09194,1,0,0,1.10191,1,0,0,1.11161,1,0,0,1.1199,1,0,0,1.12813,0.999547,-0.000000448815,0.0224417,0.0000199902,0.999495,-0.0000113079,0.0224406,0.000503651,0.999496,-0.0000452317,0.0224406,0.00201461,0.999496,-0.000101772,0.0224406,0.00453287,0.999495,-0.000180928,0.0224406,0.00805845,0.999497,-0.000282702,0.0224406,0.0125914,0.999496,-0.000407096,0.0224406,0.0181319,0.999498,-0.000554114,0.0224406,0.02468,0.999499,-0.000723768,0.0224406,0.0322363,0.999495,-0.000916058,0.0224405,0.0408009,0.999499,-0.00113101,0.0224408,0.050375,0.999494,-0.00136863,0.0224405,0.0609586,0.999489,-0.00162896,0.0224401,0.0725537,0.999489,-0.00191201,0.0224414,0.0851619,0.999498,-0.00221787,0.0224413,0.0987867,0.999492,-0.00254642,0.0224409,0.113426,0.999507,-0.00289779,0.0224417,0.129088,0.999494,-0.0032716,0.0224386,0.145767,0.999546,-0.0036673,0.0224424,0.163472,0.999543,-0.00408166,0.0224387,0.182182,0.999499,-0.00450056,0.0224338,0.201843,0.999503,-0.00483661,0.0224203,0.222198,0.999546,-0.00452928,0.022315,0.241714,0.999508,-0.00587403,0.0224329,0.262184,0.999509,-0.00638806,0.0224271,0.285609,0.999501,-0.00691028,0.0224166,0.309998,0.999539,-0.00741979,0.0223989,0.335262,0.999454,-0.00786282,0.0223675,0.361154,0.999529,-0.00811928,0.0222828,0.387224,0.999503,-0.00799941,0.0221063,0.41252,0.999561,-0.00952753,0.0223057,0.438006,0.999557,-0.0099134,0.0222065,0.466735,0.999541,-0.0100935,0.0220402,0.495332,0.999562,-0.00996821,0.0218067,0.523197,0.999556,-0.0105031,0.0217096,0.550223,0.999561,-0.0114191,0.0217215,0.579498,0.999588,-0.0111818,0.0213357,0.608416,0.999633,-0.0107725,0.0208689,0.635965,0.999527,-0.0121671,0.0210149,0.664476,0.999508,-0.0116005,0.020431,0.692786,0.999568,-0.0115604,0.0199791,0.719709,0.999671,-0.0121117,0.0197415,0.74737,0.999688,-0.0110769,0.0188846,0.773692,0.99962,-0.0122368,0.0188452,0.799534,0.999823,-0.0110325,0.0178001,0.825046,0.999599,-0.0114923,0.0174221,0.849075,0.999619,-0.0105923,0.0164345,0.872999,0.999613,-0.0105988,0.0158227,0.895371,0.99964,-0.00979861,0.0148131,0.917364,0.99977,-0.00967238,0.0140721,0.938002,0.999726,-0.00869175,0.0129543,0.957917,0.99973,-0.00866872,0.0122329,0.976557,0.999773,-0.00731956,0.0108958,0.994459,0.999811,-0.00756027,0.0102715,1.01118,0.999862,-0.00583732,0.00878781,1.02701,0.999835,-0.00631438,0.00827529,1.04186,0.999871,-0.00450785,0.00674583,1.05569,0.999867,-0.00486079,0.00621041,1.06861,0.999939,-0.00322072,0.00478301,1.08064,0.999918,-0.00318199,0.00406395,1.09181,1.00003,-0.00193348,0.00280682,1.10207,0.999928,-0.00153729,0.00198741,1.11152,0.999933,-0.000623666,0.000917714,1.12009,1,-0.00000102387,0.000000907581,1.12813,0.997866,-0.000000896716,0.0448334,0.0000199584,0.997987,-0.0000225945,0.0448389,0.000502891,0.997987,-0.0000903781,0.0448388,0.00201156,0.997985,-0.000203351,0.0448388,0.00452602,0.997986,-0.000361514,0.0448388,0.00804629,0.997987,-0.00056487,0.0448389,0.0125724,0.997988,-0.000813423,0.0448389,0.0181045,0.997984,-0.00110718,0.0448387,0.0246427,0.997985,-0.00144616,0.0448388,0.0321875,0.997987,-0.00183038,0.044839,0.0407392,0.997983,-0.00225987,0.0448387,0.0502986,0.997991,-0.00273467,0.0448389,0.0608667,0.997984,-0.00325481,0.0448384,0.0724444,0.998002,-0.00382043,0.044839,0.0850348,0.997997,-0.00443145,0.0448396,0.0986372,0.998007,-0.00508796,0.0448397,0.113255,0.998008,-0.00578985,0.04484,0.128891,0.998003,-0.00653683,0.0448384,0.145548,0.997983,-0.00732713,0.0448358,0.163221,0.997985,-0.00815454,0.0448358,0.181899,0.998005,-0.00898985,0.0448286,0.201533,0.998026,-0.00964404,0.0447934,0.221821,0.998055,-0.00922677,0.044611,0.241282,0.99804,-0.0117361,0.0448245,0.261791,0.998048,-0.0127628,0.0448159,0.285181,0.998088,-0.0138055,0.0447996,0.30954,0.998058,-0.0148206,0.0447669,0.334751,0.998099,-0.0156998,0.044697,0.36061,0.998116,-0.0161976,0.0445122,0.386603,0.998195,-0.015945,0.0441711,0.411844,0.998168,-0.0183947,0.0444255,0.43773,0.998184,-0.0197913,0.0443809,0.466009,0.998251,-0.0201426,0.0440689,0.494574,0.998305,-0.0198847,0.0435632,0.522405,0.998273,-0.0210577,0.043414,0.549967,0.998254,-0.0227901,0.0433943,0.578655,0.998349,-0.0223108,0.0426529,0.60758,0.99843,-0.0223088,0.042,0.635524,0.998373,-0.0241141,0.0418987,0.663621,0.998425,-0.0231446,0.0408118,0.691906,0.998504,-0.0233684,0.0400565,0.719339,0.998443,-0.0241652,0.0394634,0.74643,0.99848,-0.0228715,0.0380002,0.773086,0.998569,-0.023519,0.0372322,0.798988,0.998619,-0.0223108,0.0356468,0.824249,0.998594,-0.0223105,0.034523,0.848808,0.998622,-0.0213426,0.0328887,0.87227,0.998669,-0.0207912,0.0314374,0.895157,0.998705,-0.0198416,0.0296925,0.916769,0.998786,-0.0189168,0.0279634,0.937773,0.998888,-0.0178811,0.0261597,0.957431,0.99906,-0.0166845,0.0242159,0.976495,0.999038,-0.0155464,0.0222638,0.994169,0.999237,-0.0141349,0.0201967,1.01112,0.999378,-0.0129324,0.0181744,1.02692,0.999433,-0.0113192,0.0159898,1.04174,0.999439,-0.0101244,0.0140385,1.05559,0.999614,-0.00837456,0.0117826,1.06852,0.999722,-0.00721769,0.00983745,1.08069,0.999817,-0.00554067,0.00769002,1.09176,0.99983,-0.00426961,0.005782,1.10211,0.999964,-0.00273904,0.00374503,1.11152,1.00001,-0.00136739,0.00187176,1.12031,0.999946,0.0000393227,-0.000028919,1.12804,0.995847,-0.0000013435,0.0671785,0.000019916,0.995464,-0.0000338387,0.0671527,0.000501622,0.99547,-0.000135355,0.0671531,0.00200649,0.995471,-0.00030455,0.0671532,0.00451461,0.99547,-0.000541423,0.0671531,0.008026,0.995471,-0.00084598,0.0671531,0.0125407,0.99547,-0.00121823,0.0671531,0.0180589,0.99547,-0.00165817,0.0671531,0.0245806,0.995463,-0.00216583,0.0671526,0.0321062,0.995468,-0.00274127,0.0671527,0.0406366,0.995474,-0.00338447,0.0671534,0.0501717,0.995473,-0.00409554,0.0671533,0.0607131,0.995478,-0.00487451,0.0671531,0.0722618,0.995476,-0.00572148,0.0671532,0.0848191,0.995477,-0.00663658,0.0671539,0.0983882,0.995498,-0.00761986,0.0671541,0.112972,0.995509,-0.00867094,0.0671542,0.128568,0.995509,-0.00978951,0.0671531,0.145183,0.995503,-0.0109725,0.0671491,0.162808,0.995501,-0.012211,0.0671465,0.181441,0.99553,-0.0134565,0.0671371,0.201015,0.99555,-0.014391,0.0670831,0.221206,0.99558,-0.014351,0.0668883,0.240813,0.995577,-0.0173997,0.0671055,0.261257,0.995602,-0.0191111,0.0671178,0.284467,0.995623,-0.0206705,0.0670946,0.308765,0.995658,-0.022184,0.0670472,0.333905,0.995705,-0.0234832,0.0669417,0.359677,0.995719,-0.0241933,0.0666714,0.385554,0.995786,-0.0243539,0.066266,0.410951,0.995887,-0.0271866,0.0664367,0.437163,0.995944,-0.0296012,0.0664931,0.464842,0.996004,-0.0301045,0.0660105,0.49332,0.996128,-0.0298311,0.0652694,0.521131,0.996253,-0.0316426,0.0650739,0.549167,0.996244,-0.0339043,0.0649433,0.57737,0.996309,-0.033329,0.0638926,0.606073,0.996417,-0.0338935,0.0630849,0.634527,0.996372,-0.0353104,0.0625083,0.66256,0.996542,-0.0348942,0.0611986,0.690516,0.996568,-0.0351614,0.060069,0.718317,0.996711,-0.0354317,0.0588522,0.74528,0.996671,-0.0349513,0.0571902,0.772061,0.996865,-0.0345622,0.0555321,0.798089,0.996802,-0.0342566,0.0537816,0.823178,0.996992,-0.0330862,0.0516095,0.847949,0.996944,-0.0324666,0.0495537,0.871431,0.997146,-0.0309544,0.0470302,0.894357,0.997189,-0.0299372,0.0446043,0.916142,0.997471,-0.0281389,0.0418812,0.937193,0.997515,-0.0268702,0.0391823,0.957,0.997812,-0.0247166,0.0361338,0.975936,0.998027,-0.0233525,0.0333945,0.99391,0.998233,-0.0209839,0.0301917,1.01075,0.998481,-0.0194309,0.027271,1.02669,0.998859,-0.0169728,0.0240162,1.04173,0.99894,-0.0152322,0.0210517,1.05551,0.999132,-0.0127497,0.0178632,1.06856,0.999369,-0.0108282,0.014787,1.08054,0.999549,-0.00845886,0.0116185,1.09185,0.999805,-0.0063937,0.00867209,1.10207,0.99985,-0.00414582,0.00566823,1.1117,0.999912,-0.00207443,0.00277562,1.12022,1.00001,0.0000870226,-0.000053766,1.12832,0.991943,-0.00000178672,0.0893382,0.0000198384,0.991952,-0.0000450183,0.089339,0.000499849,0.991956,-0.000180074,0.0893394,0.0019994,0.991955,-0.000405167,0.0893393,0.00449867,0.991953,-0.000720298,0.0893391,0.00799764,0.991955,-0.00112548,0.0893393,0.0124964,0.991957,-0.0016207,0.0893395,0.0179951,0.991958,-0.00220601,0.0893396,0.0244939,0.991947,-0.00288137,0.0893385,0.0319929,0.991962,-0.00364693,0.0893399,0.0404933,0.991965,-0.00450264,0.0893399,0.049995,0.99198,-0.00544862,0.0893411,0.0604995,0.99197,-0.00648491,0.0893397,0.0720074,0.991976,-0.00761164,0.089341,0.0845207,0.99198,-0.00882891,0.0893405,0.0980413,0.991982,-0.0101367,0.0893396,0.112571,0.992008,-0.011535,0.0893415,0.128115,0.992026,-0.0130228,0.0893414,0.144672,0.992064,-0.0145966,0.0893418,0.162241,0.992041,-0.0162421,0.0893359,0.180801,0.992086,-0.0178888,0.0893214,0.200302,0.992157,-0.0190368,0.0892401,0.220332,0.992181,-0.0195584,0.0890525,0.240144,0.992175,-0.0227257,0.0892153,0.260728,0.99221,-0.0254195,0.089304,0.283473,0.99222,-0.0274883,0.0892703,0.307673,0.992317,-0.0294905,0.0892027,0.332729,0.992374,-0.0311861,0.0890577,0.358387,0.992505,-0.0320656,0.0886994,0.384102,0.992568,-0.0329715,0.0883198,0.409767,0.992675,-0.036006,0.0883602,0.436145,0.992746,-0.0392897,0.0884591,0.463217,0.992873,-0.0399337,0.0878287,0.491557,0.992934,-0.040231,0.0870108,0.519516,0.993091,-0.0422013,0.0865857,0.547741,0.993259,-0.0443503,0.0861937,0.575792,0.993455,-0.0446368,0.0851187,0.604233,0.993497,-0.0454299,0.0840576,0.632925,0.993694,-0.0463296,0.0829671,0.660985,0.993718,-0.0470619,0.0817185,0.688714,0.993973,-0.0468838,0.0800294,0.716743,0.994207,-0.046705,0.0781286,0.74377,0.994168,-0.0469698,0.0763337,0.77042,0.9945,-0.0456816,0.0738184,0.796659,0.994356,-0.0455518,0.0715545,0.821868,0.994747,-0.0439488,0.0686085,0.846572,0.994937,-0.0430056,0.065869,0.870435,0.995142,-0.0413414,0.0626446,0.893272,0.995451,-0.0396521,0.05929,0.915376,0.995445,-0.0378453,0.0558503,0.936196,0.995967,-0.0355219,0.0520949,0.956376,0.996094,-0.0335146,0.048377,0.975327,0.996622,-0.030682,0.0442575,0.993471,0.996938,-0.0285504,0.0404693,1.01052,0.997383,-0.0253399,0.0360903,1.02637,0.997714,-0.0231651,0.0322176,1.04139,0.998249,-0.0198138,0.0278433,1.05542,0.998596,-0.0174337,0.0238759,1.06846,0.998946,-0.0141349,0.0195944,1.08056,0.99928,-0.0115603,0.0156279,1.09181,0.999507,-0.00839065,0.0114607,1.10213,0.999697,-0.005666,0.00763325,1.11169,0.999869,-0.00269902,0.00364946,1.12042,1.00001,0.0000623836,-0.0000319288,1.12832,0.987221,-0.00000222675,0.111332,0.0000197456,0.98739,-0.0000561116,0.111351,0.000497563,0.987448,-0.000224453,0.111357,0.00199031,0.987441,-0.000505019,0.111357,0.0044782,0.987442,-0.000897816,0.111357,0.00796129,0.987442,-0.00140284,0.111357,0.0124396,0.987444,-0.00202012,0.111357,0.0179132,0.987442,-0.00274964,0.111357,0.0243824,0.987446,-0.00359147,0.111357,0.0318474,0.987435,-0.00454562,0.111356,0.0403086,0.987461,-0.00561225,0.111358,0.0497678,0.987458,-0.00679125,0.111358,0.0602239,0.987443,-0.0080828,0.111356,0.0716792,0.987476,-0.0094872,0.111358,0.0841364,0.98749,-0.0110044,0.111361,0.097597,0.987508,-0.0126344,0.111362,0.112062,0.987494,-0.0143767,0.111357,0.127533,0.987526,-0.0162307,0.111359,0.144015,0.987558,-0.0181912,0.111361,0.161502,0.987602,-0.0202393,0.111355,0.179979,0.987692,-0.022273,0.111346,0.199386,0.987702,-0.0235306,0.111215,0.219183,0.987789,-0.0247628,0.111061,0.239202,0.987776,-0.0280668,0.111171,0.259957,0.987856,-0.0316751,0.111327,0.282198,0.987912,-0.0342468,0.111282,0.306294,0.988,-0.0367205,0.111198,0.331219,0.988055,-0.0387766,0.110994,0.356708,0.988241,-0.0397722,0.110547,0.382234,0.988399,-0.0416076,0.110198,0.408227,0.988539,-0.0448192,0.110137,0.434662,0.988661,-0.0483793,0.110143,0.461442,0.988967,-0.0495895,0.109453,0.489318,0.989073,-0.0506797,0.108628,0.517516,0.989274,-0.0526953,0.108003,0.545844,0.989528,-0.054578,0.107255,0.573823,0.989709,-0.0561503,0.106294,0.601944,0.989991,-0.056866,0.104896,0.630855,0.990392,-0.0572914,0.103336,0.658925,0.990374,-0.0586224,0.10189,0.686661,0.990747,-0.0584764,0.099783,0.714548,0.991041,-0.0582662,0.0974309,0.74186,0.991236,-0.0584118,0.0951678,0.768422,0.991585,-0.0573055,0.0921581,0.794817,0.991984,-0.0564241,0.0891167,0.820336,0.9921,-0.0553608,0.085805,0.84493,0.992749,-0.0533816,0.0820354,0.868961,0.99288,-0.0518661,0.0782181,0.891931,0.993511,-0.0492492,0.0738935,0.914186,0.993617,-0.0471956,0.0696402,0.93532,0.99411,-0.044216,0.0649659,0.95543,0.994595,-0.0416654,0.0603177,0.974685,0.994976,-0.0384314,0.0553493,0.992807,0.995579,-0.0353491,0.0503942,1.00996,0.996069,-0.0319787,0.0452123,1.02606,0.996718,-0.028472,0.0400112,1.04114,0.997173,-0.0250789,0.0349456,1.05517,0.997818,-0.0213326,0.029653,1.0683,0.998318,-0.0178509,0.024549,1.0805,0.998853,-0.0141118,0.0194197,1.09177,0.999218,-0.0105914,0.0143869,1.1022,0.999594,-0.00693474,0.00943517,1.11175,0.99975,-0.00340478,0.00464051,1.12056,1.00001,0.000109172,-0.000112821,1.12853,0.983383,-0.00000266524,0.133358,0.0000196534,0.981942,-0.0000671009,0.133162,0.000494804,0.981946,-0.000268405,0.133163,0.00197923,0.981944,-0.000603912,0.133163,0.00445326,0.981941,-0.00107362,0.133162,0.00791693,0.981946,-0.00167755,0.133163,0.0123703,0.981944,-0.00241569,0.133162,0.0178135,0.981945,-0.00328807,0.133163,0.0242466,0.981945,-0.00429472,0.133162,0.03167,0.981955,-0.00543573,0.133164,0.0400846,0.981951,-0.00671105,0.133163,0.0494901,0.981968,-0.00812092,0.133165,0.0598886,0.981979,-0.00966541,0.133166,0.0712811,0.981996,-0.0113446,0.133168,0.083669,0.982014,-0.0131585,0.133169,0.0970533,0.982011,-0.0151073,0.133167,0.111438,0.982062,-0.0171906,0.133172,0.126826,0.9821,-0.0194067,0.133175,0.143215,0.982149,-0.0217502,0.133176,0.160609,0.982163,-0.0241945,0.133173,0.178981,0.982247,-0.0265907,0.133148,0.198249,0.982291,-0.027916,0.132974,0.217795,0.982396,-0.0299663,0.132868,0.238042,0.982456,-0.0334544,0.132934,0.258901,0.982499,-0.0378636,0.133137,0.280639,0.982617,-0.0409274,0.133085,0.304604,0.98274,-0.0438523,0.132985,0.329376,0.982944,-0.0462288,0.132728,0.354697,0.98308,-0.0475995,0.132228,0.380102,0.983391,-0.0501901,0.131924,0.406256,0.983514,-0.0535899,0.131737,0.432735,0.98373,-0.0571858,0.131567,0.459359,0.984056,-0.0592353,0.130932,0.486637,0.984234,-0.0610488,0.130092,0.51509,0.984748,-0.0630758,0.12923,0.543461,0.985073,-0.0647398,0.128174,0.571376,0.985195,-0.0671941,0.127133,0.599414,0.985734,-0.0681345,0.125576,0.628134,0.986241,-0.0686089,0.123639,0.656399,0.986356,-0.0698511,0.121834,0.684258,0.986894,-0.0700931,0.119454,0.711818,0.987382,-0.0698321,0.116718,0.739511,0.988109,-0.0693975,0.113699,0.766267,0.988363,-0.0689584,0.110454,0.792456,0.989112,-0.0672353,0.106602,0.81813,0.989241,-0.0662034,0.10267,0.842889,0.990333,-0.0638938,0.0981381,0.867204,0.990591,-0.0618534,0.0935388,0.89038,0.991106,-0.0593117,0.088553,0.912576,0.991919,-0.0562676,0.0832187,0.934118,0.992111,-0.0534085,0.0778302,0.954254,0.992997,-0.0495459,0.0720453,0.973722,0.993317,-0.0463707,0.0663458,0.991949,0.994133,-0.0421245,0.0601883,1.00936,0.994705,-0.0384977,0.0542501,1.02559,0.995495,-0.0340956,0.0479862,1.04083,0.996206,-0.030105,0.041887,1.05497,0.996971,-0.0256095,0.0355355,1.06824,0.997796,-0.0213932,0.0293655,1.08056,0.998272,-0.0169612,0.0232926,1.09182,0.998857,-0.0126756,0.0172786,1.10219,0.99939,-0.00832486,0.0113156,1.11192,0.999752,-0.00410826,0.00557892,1.12075,1,0.000150957,-0.000119101,1.12885,0.975169,-0.00000309397,0.154669,0.0000195073,0.975439,-0.0000779608,0.154712,0.000491534,0.975464,-0.000311847,0.154716,0.00196617,0.975464,-0.000701656,0.154716,0.00442387,0.975462,-0.0012474,0.154715,0.0078647,0.975461,-0.00194906,0.154715,0.0122886,0.975464,-0.00280667,0.154715,0.0176959,0.975468,-0.00382025,0.154716,0.0240867,0.975471,-0.00498985,0.154716,0.0314612,0.975472,-0.00631541,0.154717,0.0398199,0.975486,-0.00779719,0.154718,0.0491639,0.975489,-0.00943505,0.154718,0.0594932,0.975509,-0.0112295,0.154721,0.0708113,0.97554,-0.0131802,0.154724,0.0831176,0.975557,-0.0152876,0.154726,0.096415,0.975585,-0.0175512,0.154728,0.110705,0.975605,-0.0199713,0.154729,0.125992,0.975645,-0.0225447,0.154729,0.142272,0.975711,-0.0252649,0.154735,0.159549,0.975788,-0.0280986,0.154736,0.177805,0.975872,-0.0308232,0.154704,0.196911,0.975968,-0.0324841,0.154525,0.216324,0.976063,-0.0351281,0.154432,0.236628,0.976157,-0.0388618,0.15446,0.257539,0.976204,-0.0437704,0.154665,0.278975,0.976358,-0.047514,0.154652,0.302606,0.976571,-0.0508638,0.154535,0.327204,0.976725,-0.0534995,0.154221,0.352276,0.977013,-0.0555547,0.153737,0.377696,0.977294,-0.0586728,0.153403,0.403855,0.977602,-0.0622715,0.15312,0.430333,0.977932,-0.0658166,0.152755,0.456855,0.978241,-0.0689877,0.152233,0.483668,0.978602,-0.0712805,0.15132,0.512097,0.979234,-0.0732775,0.150235,0.540455,0.97977,-0.075163,0.148978,0.568486,0.979995,-0.0778026,0.147755,0.596524,0.98078,-0.0791854,0.146019,0.624825,0.981628,-0.0799666,0.143906,0.653403,0.982067,-0.0808532,0.141561,0.681445,0.98271,-0.0816024,0.139025,0.708918,0.983734,-0.0812511,0.135764,0.736594,0.98431,-0.0806201,0.132152,0.763576,0.985071,-0.0801605,0.12846,0.789797,0.98618,-0.0784208,0.124084,0.815804,0.986886,-0.0766643,0.1193,0.840869,0.987485,-0.0747744,0.114236,0.864952,0.988431,-0.0716701,0.108654,0.888431,0.988886,-0.0691609,0.102994,0.910963,0.990024,-0.0654048,0.0967278,0.932629,0.990401,-0.0619765,0.090384,0.95313,0.991093,-0.0579296,0.0837885,0.972587,0.992018,-0.0536576,0.0770171,0.991184,0.992536,-0.0493719,0.0701486,1.00863,0.993421,-0.0444813,0.062953,1.02494,0.993928,-0.040008,0.0560455,1.04017,0.994994,-0.0347982,0.04856,1.05463,0.995866,-0.0301017,0.0416152,1.06807,0.996916,-0.0248225,0.0342597,1.08039,0.997766,-0.0199229,0.0271668,1.09177,0.998479,-0.0147422,0.0201387,1.10235,0.99921,-0.00980173,0.0131944,1.11206,0.999652,-0.0047426,0.00640712,1.12104,0.999998,0.0000891673,-0.00010379,1.12906,0.967868,-0.00000351885,0.175947,0.0000193569,0.968001,-0.0000886733,0.175972,0.000487782,0.96801,-0.000354697,0.175973,0.00195115,0.968012,-0.000798063,0.175974,0.00439006,0.968011,-0.00141879,0.175973,0.00780461,0.968011,-0.00221686,0.175973,0.0121948,0.968016,-0.00319231,0.175974,0.0175607,0.968019,-0.00434515,0.175974,0.0239027,0.968018,-0.00567538,0.175974,0.0312208,0.968033,-0.00718308,0.175977,0.0395158,0.968049,-0.00886836,0.175979,0.0487885,0.968047,-0.0107312,0.175978,0.0590394,0.968072,-0.0127719,0.175981,0.0702705,0.968108,-0.0149905,0.175986,0.0824836,0.968112,-0.0173866,0.175985,0.0956783,0.968173,-0.0199611,0.175993,0.109862,0.96827,-0.0227128,0.176008,0.125033,0.968292,-0.025639,0.17601,0.141193,0.968339,-0.0287299,0.176007,0.158336,0.968389,-0.0319399,0.176001,0.176441,0.968501,-0.034941,0.175962,0.195359,0.968646,-0.0370812,0.175793,0.214686,0.968789,-0.0402329,0.175708,0.234973,0.96886,-0.0442601,0.1757,0.255871,0.969013,-0.049398,0.175876,0.277238,0.969242,-0.0539932,0.17594,0.300326,0.969419,-0.0577299,0.175781,0.324702,0.969763,-0.0605643,0.175432,0.349527,0.970093,-0.0634488,0.174992,0.374976,0.970361,-0.0670589,0.174611,0.401097,0.970825,-0.0708246,0.174226,0.427496,0.971214,-0.0742871,0.173684,0.453858,0.971622,-0.0782608,0.173186,0.480637,0.972175,-0.0813151,0.172288,0.508655,0.972944,-0.0832678,0.170979,0.536973,0.973595,-0.0855964,0.169573,0.565138,0.974345,-0.0882163,0.168152,0.593222,0.975233,-0.0901671,0.166314,0.621201,0.976239,-0.0912111,0.163931,0.649919,0.977289,-0.0916959,0.161106,0.678011,0.978076,-0.0927061,0.158272,0.705717,0.979533,-0.0925562,0.15475,0.733228,0.980335,-0.0918159,0.150638,0.760454,0.981808,-0.0908508,0.146201,0.786918,0.983061,-0.0896172,0.141386,0.812953,0.984148,-0.0871588,0.135837,0.838281,0.985047,-0.0850624,0.130135,0.862594,0.986219,-0.0818541,0.123882,0.88633,0.987043,-0.0784523,0.117126,0.908952,0.988107,-0.0749601,0.110341,0.930744,0.988955,-0.0703548,0.102885,0.951728,0.989426,-0.0662798,0.0954167,0.971166,0.990421,-0.0610834,0.0876331,0.989984,0.991032,-0.0562936,0.0797785,1.00765,0.992041,-0.0508154,0.0718166,1.02434,0.992794,-0.0454045,0.0637125,1.03976,0.993691,-0.0398194,0.0555338,1.05418,0.994778,-0.0341482,0.0473388,1.06772,0.995915,-0.028428,0.0391016,1.08028,0.997109,-0.022642,0.0309953,1.09185,0.998095,-0.0168738,0.0230288,1.10247,0.998985,-0.0111274,0.0150722,1.11229,0.999581,-0.00543881,0.00740605,1.12131,1.00003,0.000162239,-0.000105549,1.12946,0.959505,-0.00000393734,0.196876,0.0000191893,0.959599,-0.0000992157,0.196895,0.000483544,0.959641,-0.000396868,0.196903,0.0019342,0.959599,-0.000892948,0.196895,0.00435193,0.959603,-0.00158747,0.196896,0.0077368,0.959604,-0.00248042,0.196896,0.0120888,0.959605,-0.00357184,0.196896,0.0174082,0.959605,-0.00486169,0.196896,0.0236949,0.959613,-0.00635008,0.196897,0.0309497,0.959619,-0.00803696,0.196898,0.0391725,0.959636,-0.00992255,0.196901,0.0483649,0.959634,-0.0120067,0.1969,0.0585266,0.959675,-0.0142898,0.196906,0.0696609,0.959712,-0.0167717,0.196911,0.0817678,0.959752,-0.0194524,0.196918,0.0948494,0.959807,-0.0223321,0.196925,0.10891,0.959828,-0.0254091,0.196924,0.123947,0.959906,-0.0286815,0.196934,0.139968,0.960005,-0.0321371,0.196944,0.156968,0.960071,-0.0357114,0.196936,0.17491,0.960237,-0.0389064,0.196882,0.193597,0.960367,-0.041623,0.196731,0.21285,0.960562,-0.0452655,0.196654,0.233075,0.960735,-0.0496207,0.196643,0.253941,0.960913,-0.0549379,0.196774,0.275278,0.961121,-0.0603414,0.196893,0.297733,0.96139,-0.0644244,0.196717,0.321877,0.961818,-0.067556,0.196314,0.346476,0.962175,-0.0712709,0.195917,0.371907,0.96255,-0.0752848,0.1955,0.397916,0.963164,-0.0792073,0.195026,0.424229,0.963782,-0.0828225,0.194424,0.450637,0.964306,-0.0873119,0.193831,0.477288,0.964923,-0.0911051,0.192973,0.504716,0.966048,-0.093251,0.19151,0.533053,0.967024,-0.0958983,0.190013,0.561366,0.968038,-0.09835,0.188253,0.589464,0.969152,-0.100754,0.186257,0.617433,0.970557,-0.102239,0.183775,0.645801,0.972104,-0.102767,0.180645,0.674278,0.973203,-0.103492,0.177242,0.702004,0.975123,-0.103793,0.17345,0.729529,0.97641,-0.102839,0.168886,0.756712,0.978313,-0.101687,0.163892,0.783801,0.980036,-0.100314,0.158439,0.809671,0.981339,-0.097836,0.152211,0.835402,0.982794,-0.0950006,0.145679,0.860081,0.984123,-0.0920994,0.138949,0.883757,0.984918,-0.0878641,0.131283,0.90685,0.985999,-0.083939,0.123464,0.928786,0.987151,-0.0791234,0.115324,0.94983,0.987827,-0.0739332,0.106854,0.96962,0.988806,-0.0688088,0.0982691,0.98861,0.989588,-0.0628962,0.0893456,1.00667,0.990438,-0.0573146,0.0805392,1.02344,0.991506,-0.0509433,0.0713725,1.03933,0.992492,-0.0448724,0.0623732,1.05378,0.993663,-0.0383497,0.0530838,1.06747,0.994956,-0.0319593,0.0439512,1.08007,0.99634,-0.025401,0.0347803,1.09182,0.99761,-0.0189687,0.0257954,1.1025,0.99863,-0.0124441,0.0169893,1.11247,0.99947,-0.00614003,0.00829498,1.12151,1.00008,0.000216624,-0.000146107,1.12993,0.950129,-0.00000434955,0.217413,0.0000190081,0.950264,-0.00010957,0.217444,0.00047884,0.9503,-0.000438299,0.217451,0.00191543,0.950246,-0.000986124,0.21744,0.00430951,0.950246,-0.00175311,0.21744,0.00766137,0.950245,-0.00273923,0.21744,0.011971,0.950253,-0.00394453,0.217441,0.0172385,0.950258,-0.00536897,0.217442,0.0234641,0.950267,-0.00701262,0.217444,0.030648,0.950277,-0.00887551,0.217446,0.038791,0.950284,-0.0109576,0.217446,0.0478931,0.950312,-0.0132591,0.217451,0.0579568,0.950334,-0.01578,0.217454,0.0689821,0.950378,-0.0185204,0.217462,0.0809714,0.950417,-0.0214803,0.217467,0.0939265,0.950488,-0.0246594,0.217479,0.10785,0.950534,-0.0280565,0.217483,0.122743,0.950633,-0.0316685,0.217498,0.138611,0.950698,-0.0354787,0.217499,0.155442,0.950844,-0.0394003,0.217507,0.173208,0.950999,-0.0426812,0.217419,0.191605,0.951221,-0.0461302,0.217317,0.21084,0.951412,-0.0502131,0.217238,0.230945,0.951623,-0.0549183,0.21722,0.251745,0.951867,-0.0604493,0.217306,0.273001,0.952069,-0.0665189,0.217466,0.294874,0.952459,-0.0709179,0.217266,0.318732,0.952996,-0.0746112,0.216891,0.34318,0.953425,-0.0789252,0.216503,0.36849,0.953885,-0.0833293,0.216042,0.394373,0.954617,-0.087371,0.215469,0.420505,0.955429,-0.0914054,0.214802,0.446907,0.956068,-0.0961671,0.214146,0.473522,0.957094,-0.10048,0.213286,0.50052,0.958372,-0.103248,0.211796,0.528715,0.959654,-0.106033,0.21016,0.557065,0.961305,-0.108384,0.208149,0.585286,0.962785,-0.111122,0.206024,0.613334,0.964848,-0.112981,0.203442,0.641334,0.966498,-0.113717,0.19996,0.669955,0.968678,-0.114121,0.196105,0.698094,0.970489,-0.114524,0.191906,0.725643,0.972903,-0.113792,0.186963,0.752856,0.974701,-0.112406,0.181343,0.780013,0.976718,-0.110685,0.175185,0.806268,0.978905,-0.108468,0.168535,0.832073,0.980267,-0.105061,0.161106,0.857149,0.981967,-0.101675,0.153387,0.881145,0.983063,-0.0974492,0.145199,0.904255,0.984432,-0.0925815,0.136527,0.926686,0.985734,-0.0877983,0.127584,0.947901,0.986228,-0.081884,0.118125,0.968111,0.98719,-0.0761208,0.108594,0.98719,0.988228,-0.0698196,0.0989996,1.00559,0.989046,-0.0632739,0.0890074,1.02246,0.990242,-0.056522,0.0790832,1.03841,0.991252,-0.0495272,0.0689182,1.05347,0.992542,-0.0425373,0.0588592,1.06724,0.994096,-0.0353198,0.0486833,1.08009,0.995593,-0.028235,0.0385977,1.09177,0.99711,-0.0209511,0.0286457,1.10274,0.998263,-0.0139289,0.0188497,1.11262,0.999254,-0.0067359,0.009208,1.12191,0.999967,0.000141846,-0.0000657764,1.13024,0.935608,-0.00000474692,0.236466,0.0000187817,0.93996,-0.00011971,0.237568,0.000473646,0.939959,-0.000478845,0.237567,0.0018946,0.939954,-0.0010774,0.237566,0.00426284,0.939956,-0.00191538,0.237566,0.00757842,0.939954,-0.00299277,0.237566,0.0118413,0.93996,-0.00430961,0.237567,0.0170518,0.939969,-0.00586589,0.237569,0.02321,0.939982,-0.00766166,0.237572,0.0303164,0.939987,-0.00969686,0.237572,0.0383711,0.939997,-0.0119715,0.237574,0.0473751,0.940031,-0.0144858,0.237581,0.0573298,0.940073,-0.0172399,0.237589,0.0682366,0.94012,-0.0202335,0.237598,0.080097,0.940162,-0.0234663,0.237604,0.0929116,0.940237,-0.0269387,0.237615,0.106686,0.940328,-0.0306489,0.237632,0.121421,0.940419,-0.0345917,0.237645,0.137115,0.940522,-0.0387481,0.237654,0.153766,0.940702,-0.0429906,0.237661,0.17133,0.940871,-0.0465089,0.237561,0.189502,0.941103,-0.050531,0.23748,0.208616,0.941369,-0.0550657,0.237423,0.228595,0.941641,-0.0601337,0.237399,0.249287,0.941903,-0.0658804,0.237443,0.270467,0.942224,-0.0722674,0.237597,0.292024,0.942633,-0.0771788,0.237419,0.315272,0.943172,-0.0815623,0.237068,0.339579,0.943691,-0.0863973,0.236682,0.364717,0.944382,-0.0911536,0.236213,0.390435,0.945392,-0.0952967,0.235562,0.416425,0.946185,-0.0998948,0.234832,0.442772,0.947212,-0.104796,0.234114,0.469347,0.948778,-0.10928,0.233222,0.496162,0.950149,-0.113081,0.231845,0.523978,0.951989,-0.115893,0.230005,0.552295,0.953921,-0.11846,0.227862,0.580569,0.955624,-0.12115,0.225439,0.608698,0.958234,-0.123373,0.222635,0.636696,0.960593,-0.124519,0.219093,0.665208,0.963201,-0.124736,0.214749,0.693557,0.965642,-0.125012,0.210059,0.721334,0.968765,-0.124661,0.204935,0.748613,0.971753,-0.122996,0.198661,0.776224,0.973751,-0.120998,0.191823,0.802461,0.976709,-0.118583,0.184359,0.828399,0.977956,-0.115102,0.176437,0.853693,0.979672,-0.111077,0.167681,0.877962,0.981816,-0.10688,0.158872,0.901564,0.98238,-0.101469,0.149398,0.924057,0.983964,-0.0960013,0.139436,0.945751,0.984933,-0.0899626,0.12943,0.966272,0.985694,-0.0832973,0.11894,0.985741,0.986822,-0.0767082,0.108349,1.00407,0.987725,-0.0693614,0.0976026,1.02154,0.98877,-0.06211,0.086652,1.03757,0.990129,-0.0544143,0.0756182,1.05296,0.991337,-0.046744,0.0645753,1.06683,0.992978,-0.0387931,0.0534683,1.0798,0.994676,-0.030973,0.0424137,1.09181,0.99645,-0.0230311,0.0314035,1.10286,0.997967,-0.0152065,0.0206869,1.11291,0.99922,-0.00744837,0.010155,1.12237,1.00002,0.000240209,-0.0000752767,1.13089,0.922948,-0.00000515351,0.255626,0.0000186069,0.928785,-0.000129623,0.257244,0.000468009,0.928761,-0.00051849,0.257237,0.00187202,0.928751,-0.0011666,0.257235,0.00421204,0.928751,-0.00207395,0.257234,0.0074881,0.928754,-0.00324055,0.257235,0.0117002,0.92876,-0.00466639,0.257236,0.0168486,0.928763,-0.00635149,0.257237,0.0229334,0.928774,-0.00829584,0.257239,0.029955,0.928791,-0.0104995,0.257243,0.0379139,0.928804,-0.0129623,0.257245,0.0468108,0.928847,-0.0156846,0.257255,0.0566473,0.92889,-0.0186661,0.257263,0.0674246,0.928924,-0.0219067,0.257268,0.0791433,0.928989,-0.0254066,0.257282,0.0918076,0.92909,-0.0291651,0.257301,0.105419,0.92918,-0.0331801,0.257316,0.119978,0.92929,-0.0374469,0.257332,0.135491,0.929453,-0.041939,0.257357,0.151948,0.929586,-0.0464612,0.257347,0.169275,0.929858,-0.0503426,0.257269,0.187257,0.930125,-0.0548409,0.257199,0.206204,0.930403,-0.0598063,0.257149,0.22601,0.930726,-0.0652437,0.257122,0.246561,0.931098,-0.0712376,0.257153,0.267618,0.931396,-0.0777506,0.257237,0.288993,0.931947,-0.0832374,0.257124,0.311527,0.932579,-0.0883955,0.25683,0.335697,0.933194,-0.0937037,0.256444,0.360634,0.934013,-0.0987292,0.255939,0.386126,0.935307,-0.103215,0.255282,0.412018,0.936374,-0.108234,0.254538,0.438292,0.93776,-0.113234,0.253728,0.464805,0.939599,-0.118013,0.25275,0.491464,0.941036,-0.122661,0.251404,0.518751,0.94337,-0.125477,0.249435,0.547133,0.945318,-0.128374,0.247113,0.575456,0.947995,-0.130996,0.244441,0.60372,0.950818,-0.133438,0.241352,0.63174,0.954378,-0.135004,0.237849,0.659971,0.957151,-0.135313,0.233188,0.688478,0.960743,-0.13521,0.228001,0.716767,0.964352,-0.135007,0.222249,0.744349,0.967273,-0.133523,0.21542,0.771786,0.969767,-0.131155,0.208039,0.798639,0.973195,-0.128492,0.200076,0.824774,0.975557,-0.125094,0.191451,0.850222,0.977692,-0.120578,0.18184,0.874761,0.98026,-0.115882,0.172102,0.898497,0.981394,-0.110372,0.161859,0.921636,0.982386,-0.10415,0.15108,0.943467,0.983783,-0.0978128,0.140407,0.964045,0.98422,-0.0906171,0.129058,0.98398,0.985447,-0.0832921,0.117614,1.00276,0.986682,-0.0754412,0.10585,1.02047,0.987326,-0.0673885,0.0940943,1.03678,0.988707,-0.0592565,0.0822093,1.05218,0.990185,-0.050717,0.070192,1.06652,0.991866,-0.0423486,0.0582081,1.07965,0.993897,-0.0336118,0.0460985,1.09188,0.995841,-0.0252178,0.0342737,1.10307,0.997605,-0.0164893,0.0224829,1.11324,0.999037,-0.00817112,0.0110647,1.12262,1.00003,0.000291686,-0.000168673,1.13139,0.915304,-0.00000552675,0.275999,0.0000183285,0.91668,-0.000139285,0.276414,0.000461914,0.916664,-0.00055713,0.276409,0.00184763,0.916653,-0.00125354,0.276406,0.00415715,0.916651,-0.00222851,0.276405,0.00739053,0.916655,-0.00348205,0.276406,0.0115478,0.916653,-0.00501414,0.276405,0.0166291,0.916667,-0.00682478,0.276409,0.0226346,0.91668,-0.00891398,0.276412,0.0295648,0.91669,-0.0112817,0.276413,0.0374199,0.916727,-0.013928,0.276422,0.0462016,0.916759,-0.0168528,0.276429,0.0559101,0.916793,-0.0200558,0.276436,0.0665466,0.916849,-0.0235373,0.276448,0.0781139,0.916964,-0.0272973,0.276474,0.0906156,0.917047,-0.0313344,0.276491,0.104051,0.917152,-0.0356465,0.276511,0.118424,0.917286,-0.0402271,0.276533,0.133736,0.917469,-0.0450408,0.276564,0.149978,0.917686,-0.0497872,0.276563,0.167057,0.917953,-0.0540937,0.276493,0.184846,0.918228,-0.0590709,0.276437,0.203614,0.918572,-0.0644277,0.276398,0.223212,0.918918,-0.0702326,0.276362,0.243584,0.919356,-0.076484,0.276383,0.264465,0.919842,-0.0830808,0.276434,0.285701,0.920451,-0.0892972,0.276407,0.307559,0.921113,-0.095016,0.276128,0.331501,0.921881,-0.100771,0.275754,0.356207,0.923027,-0.106029,0.275254,0.381477,0.924364,-0.111029,0.274595,0.40722,0.925818,-0.116345,0.273841,0.433385,0.92746,-0.121424,0.272913,0.459848,0.929167,-0.12657,0.271837,0.486493,0.931426,-0.131581,0.270575,0.513432,0.934001,-0.135038,0.268512,0.541502,0.936296,-0.138039,0.266135,0.569658,0.939985,-0.140687,0.263271,0.598375,0.943516,-0.143247,0.260058,0.626563,0.94782,-0.145135,0.256138,0.654711,0.951023,-0.145733,0.251154,0.683285,0.955338,-0.145554,0.245562,0.711831,0.959629,-0.145008,0.239265,0.739573,0.963123,-0.144003,0.232064,0.767027,0.966742,-0.141289,0.224036,0.794359,0.969991,-0.138247,0.215305,0.820361,0.973403,-0.134786,0.206051,0.846548,0.975317,-0.129966,0.195914,0.871541,0.977647,-0.12471,0.185184,0.895313,0.980137,-0.119086,0.174161,0.918398,0.981031,-0.112297,0.162792,0.940679,0.982037,-0.105372,0.150952,0.961991,0.983164,-0.097821,0.138921,0.981913,0.983757,-0.0897245,0.126611,1.00109,0.985036,-0.0815974,0.114228,1.01902,0.986289,-0.0727725,0.101389,1.03604,0.987329,-0.0639323,0.0886476,1.05149,0.989193,-0.0548109,0.0756837,1.06619,0.990716,-0.045687,0.0627581,1.07948,0.992769,-0.0364315,0.0498337,1.09172,0.99524,-0.0271761,0.0370305,1.1033,0.997154,-0.0179609,0.0243959,1.11353,0.998845,-0.00878063,0.0119567,1.12319,1.00002,0.000259038,-0.000108146,1.13177,0.903945,-0.00000591681,0.295126,0.0000181226,0.903668,-0.000148672,0.295037,0.000455367,0.903677,-0.000594683,0.29504,0.00182145,0.903673,-0.00133805,0.295039,0.00409831,0.903666,-0.00237872,0.295036,0.00728584,0.903668,-0.00371676,0.295037,0.0113842,0.903679,-0.00535212,0.29504,0.0163936,0.903684,-0.00728479,0.295041,0.0223141,0.903698,-0.00951473,0.295044,0.0291462,0.903718,-0.0120419,0.295049,0.0368904,0.903754,-0.0148664,0.295058,0.0455477,0.903801,-0.017988,0.29507,0.0551194,0.903851,-0.0214064,0.295082,0.0656058,0.903921,-0.0251219,0.295097,0.0770109,0.904002,-0.0291337,0.295116,0.0893354,0.904111,-0.033441,0.29514,0.102583,0.904246,-0.0380415,0.295169,0.116755,0.904408,-0.0429258,0.295202,0.131853,0.904637,-0.0480468,0.295245,0.147869,0.904821,-0.0529208,0.295214,0.164658,0.905163,-0.0577748,0.295185,0.182274,0.905469,-0.0631763,0.295143,0.200828,0.905851,-0.068917,0.295112,0.2202,0.906322,-0.0750861,0.295104,0.240372,0.906761,-0.0815855,0.295086,0.261082,0.90735,-0.0882138,0.295095,0.282123,0.908087,-0.095082,0.295139,0.303563,0.908826,-0.101488,0.29492,0.327028,0.909832,-0.107577,0.294577,0.351464,0.911393,-0.113033,0.294115,0.376497,0.912804,-0.118629,0.293446,0.402115,0.914081,-0.124232,0.292581,0.428111,0.91637,-0.129399,0.29166,0.454442,0.91814,-0.134892,0.290422,0.481024,0.921179,-0.140069,0.289194,0.507924,0.924544,-0.144431,0.287421,0.535557,0.927995,-0.147498,0.284867,0.563984,0.931556,-0.150197,0.281722,0.5923,0.935777,-0.152711,0.278207,0.620832,0.940869,-0.154836,0.274148,0.649069,0.945994,-0.155912,0.269057,0.677746,0.949634,-0.155641,0.262799,0.706293,0.955032,-0.154809,0.256097,0.734278,0.95917,-0.153678,0.248618,0.761751,0.962931,-0.151253,0.239794,0.789032,0.966045,-0.147625,0.230281,0.815422,0.96971,-0.143964,0.220382,0.841787,0.972747,-0.139464,0.209846,0.867446,0.975545,-0.133459,0.198189,0.892004,0.978381,-0.127424,0.186362,0.915458,0.979935,-0.120506,0.173964,0.937948,0.980948,-0.11282,0.161429,0.959732,0.982234,-0.104941,0.148557,0.980118,0.982767,-0.0962905,0.135508,0.999463,0.983544,-0.0873625,0.122338,1.01756,0.984965,-0.0783447,0.108669,1.03492,0.986233,-0.0684798,0.0949911,1.05087,0.987796,-0.0590867,0.0811386,1.0656,0.989885,-0.0489145,0.0673099,1.0794,0.991821,-0.0391,0.0535665,1.09174,0.99448,-0.029087,0.0397529,1.10341,0.996769,-0.019114,0.0261463,1.11383,0.998641,-0.00947007,0.0128731,1.1237,0.999978,0.000446316,-0.000169093,1.13253,0.888362,-0.00000627064,0.312578,0.0000178215,0.889988,-0.000157791,0.313148,0.000448451,0.889825,-0.000631076,0.313092,0.00179356,0.88984,-0.00141994,0.313097,0.00403554,0.889828,-0.0025243,0.313092,0.00717429,0.889831,-0.00394421,0.313093,0.0112099,0.889831,-0.00567962,0.313093,0.0161425,0.889844,-0.00773051,0.313096,0.0219724,0.889858,-0.0100968,0.3131,0.0286999,0.889882,-0.0127786,0.313106,0.0363256,0.889918,-0.0157757,0.313116,0.0448509,0.889967,-0.0190878,0.313129,0.0542758,0.89003,-0.022715,0.313145,0.0646032,0.890108,-0.0266566,0.313165,0.0758339,0.890218,-0.0309131,0.313193,0.0879729,0.890351,-0.0354819,0.313226,0.101019,0.89051,-0.0403613,0.313263,0.114979,0.890672,-0.0455385,0.313294,0.129848,0.890882,-0.0509444,0.313333,0.145616,0.891189,-0.0559657,0.313324,0.162122,0.891457,-0.0613123,0.313281,0.179524,0.891856,-0.0671488,0.313281,0.197855,0.892312,-0.0732732,0.313268,0.216991,0.892819,-0.0797865,0.313263,0.236924,0.893369,-0.0865269,0.313247,0.257433,0.894045,-0.0931592,0.313205,0.278215,0.894884,-0.100532,0.313276,0.299467,0.895832,-0.107716,0.313205,0.322276,0.897043,-0.114099,0.312873,0.34642,0.898515,-0.119941,0.312331,0.371187,0.900191,-0.126044,0.311731,0.396656,0.90188,-0.131808,0.310859,0.422488,0.904359,-0.137289,0.309857,0.448744,0.906923,-0.142991,0.308714,0.475239,0.910634,-0.148253,0.307465,0.501983,0.914502,-0.153332,0.305774,0.529254,0.919046,-0.156646,0.303156,0.557709,0.923194,-0.159612,0.299928,0.586267,0.928858,-0.162027,0.296245,0.614925,0.934464,-0.164203,0.291832,0.643187,0.939824,-0.165602,0.286565,0.671601,0.944582,-0.165383,0.280073,0.700213,0.949257,-0.164439,0.272891,0.728432,0.954389,-0.162953,0.264771,0.756082,0.958595,-0.161007,0.255927,0.78369,0.962138,-0.157243,0.245769,0.810769,0.966979,-0.152872,0.235127,0.836999,0.969566,-0.148209,0.22347,0.862684,0.972372,-0.142211,0.211147,0.887847,0.975916,-0.135458,0.198606,0.911843,0.978026,-0.128398,0.185498,0.934795,0.979686,-0.120313,0.17171,0.956787,0.980748,-0.11166,0.158159,0.978046,0.981622,-0.103035,0.144399,0.997693,0.982356,-0.0930328,0.13001,1.01642,0.983308,-0.0834627,0.115778,1.03366,0.985037,-0.0732249,0.101327,1.05014,0.986493,-0.0628145,0.086554,1.06507,0.988484,-0.0526556,0.0720413,1.07907,0.991051,-0.0415744,0.0571151,1.09189,0.993523,-0.0314275,0.0426643,1.10369,0.99628,-0.0203603,0.0279325,1.11423,0.998344,-0.0102446,0.0138182,1.12421,0.999997,0.00042612,-0.000193628,1.1333,0.871555,-0.00000660007,0.329176,0.0000174749,0.875255,-0.000166579,0.330571,0.000441051,0.875644,-0.000666394,0.330718,0.00176441,0.875159,-0.00149903,0.330536,0.00396899,0.87516,-0.00266493,0.330536,0.007056,0.875158,-0.00416393,0.330535,0.0110251,0.87516,-0.00599598,0.330535,0.0158764,0.875163,-0.00816108,0.330536,0.0216101,0.875174,-0.0106591,0.330538,0.0282266,0.875199,-0.0134899,0.330545,0.0357266,0.875257,-0.0166538,0.330563,0.0441117,0.875304,-0.0201501,0.330575,0.0533821,0.875373,-0.0239785,0.330595,0.0635395,0.875464,-0.0281389,0.330619,0.0745872,0.875565,-0.0326301,0.330645,0.0865255,0.875691,-0.0374516,0.330676,0.0993599,0.875897,-0.0425993,0.330733,0.113093,0.876091,-0.0480576,0.330776,0.127722,0.876353,-0.0537216,0.330826,0.143227,0.876649,-0.0589807,0.330809,0.159462,0.877034,-0.0647865,0.330819,0.176642,0.877443,-0.0709789,0.330817,0.194702,0.877956,-0.0774782,0.330832,0.213577,0.878499,-0.0843175,0.330822,0.233246,0.879144,-0.0912714,0.330804,0.253512,0.879982,-0.0980824,0.330766,0.274137,0.88097,-0.105823,0.330864,0.295209,0.882051,-0.113671,0.330896,0.317226,0.883397,-0.120303,0.330545,0.341068,0.884987,-0.12667,0.330068,0.365613,0.886789,-0.133118,0.329418,0.390807,0.889311,-0.139024,0.328683,0.416494,0.891995,-0.144971,0.327729,0.442618,0.895106,-0.150747,0.326521,0.469131,0.899527,-0.156283,0.325229,0.495921,0.90504,-0.161707,0.32378,0.523162,0.909875,-0.165661,0.32122,0.55092,0.91561,-0.168755,0.317942,0.579928,0.921225,-0.171193,0.313983,0.608539,0.927308,-0.17319,0.309636,0.636854,0.933077,-0.174819,0.304262,0.66523,0.938766,-0.175002,0.297563,0.693609,0.943667,-0.173946,0.289613,0.722157,0.949033,-0.172221,0.281227,0.750021,0.953765,-0.169869,0.271545,0.777466,0.95804,-0.166578,0.261034,0.804853,0.962302,-0.161761,0.249434,0.831569,0.966544,-0.156636,0.237484,0.857779,0.969372,-0.150784,0.224395,0.883051,0.972486,-0.143672,0.210786,0.907864,0.975853,-0.135772,0.196556,0.931223,0.977975,-0.127942,0.182307,0.954061,0.979122,-0.118347,0.167607,0.97531,0.980719,-0.109112,0.152739,0.995666,0.981223,-0.0991789,0.137932,1.01475,0.98216,-0.0883553,0.122692,1.03253,0.983379,-0.0780825,0.107493,1.04917,0.985434,-0.0665646,0.0917791,1.06464,0.987332,-0.0557714,0.0764949,1.07896,0.990004,-0.0442805,0.060721,1.09199,0.992975,-0.0331676,0.0452284,1.10393,0.995811,-0.0219547,0.0297934,1.11476,0.9982,-0.0107613,0.0146415,1.12484,1.00002,0.000248678,-0.00014555,1.13413,0.859519,-0.00000693595,0.347264,0.0000171673,0.859843,-0.00017503,0.347394,0.000433219,0.859656,-0.000700076,0.347319,0.00173277,0.859671,-0.00157517,0.347325,0.00389875,0.859669,-0.00280028,0.347324,0.00693112,0.85967,-0.0043754,0.347324,0.01083,0.859665,-0.00630049,0.347321,0.0155954,0.859685,-0.0085755,0.347328,0.0212278,0.859694,-0.0112003,0.347329,0.0277273,0.859718,-0.0141747,0.347336,0.0350946,0.85976,-0.0174988,0.347348,0.0433314,0.85982,-0.0211722,0.347366,0.0524384,0.859892,-0.0251941,0.347387,0.0624168,0.860006,-0.0295649,0.347422,0.0732708,0.860122,-0.0342825,0.347453,0.0849999,0.860282,-0.0393462,0.347499,0.0976102,0.860482,-0.0447513,0.347554,0.111104,0.860719,-0.0504775,0.347614,0.125479,0.860998,-0.0563577,0.347666,0.140703,0.861322,-0.0619473,0.347662,0.156681,0.861724,-0.0681277,0.347684,0.173597,0.862198,-0.0746567,0.347709,0.191371,0.862733,-0.0815234,0.347727,0.209976,0.863371,-0.0886643,0.347744,0.229351,0.86414,-0.0957908,0.347734,0.24934,0.865138,-0.102912,0.34772,0.269797,0.866182,-0.110924,0.3478,0.290654,0.867436,-0.119223,0.347911,0.312074,0.869087,-0.126197,0.347649,0.335438,0.870859,-0.133145,0.347222,0.359732,0.872997,-0.139869,0.346645,0.38467,0.875939,-0.146089,0.345935,0.41019,0.879012,-0.152334,0.345012,0.436218,0.883353,-0.15821,0.343924,0.462641,0.888362,-0.164097,0.342636,0.489449,0.895026,-0.169528,0.341351,0.516629,0.900753,-0.174408,0.339115,0.544109,0.906814,-0.17751,0.335809,0.572857,0.912855,-0.180101,0.331597,0.601554,0.919438,-0.182116,0.32698,0.630198,0.925962,-0.183494,0.321449,0.658404,0.931734,-0.184159,0.314595,0.686625,0.93762,-0.18304,0.306462,0.71531,0.943858,-0.181323,0.297514,0.744272,0.948662,-0.178683,0.287447,0.771462,0.953299,-0.175379,0.276166,0.798593,0.957346,-0.170395,0.263758,0.8256,0.962565,-0.165042,0.251019,0.852575,0.966075,-0.158655,0.237011,0.878316,0.969048,-0.151707,0.222518,0.90329,0.972423,-0.143271,0.207848,0.927745,0.975833,-0.134824,0.192463,0.950859,0.977629,-0.125444,0.1768,0.972947,0.978995,-0.114949,0.161033,0.993263,0.980533,-0.104936,0.145523,1.01337,0.980745,-0.0935577,0.129799,1.03128,0.981814,-0.0822956,0.113486,1.04825,0.983943,-0.0710082,0.0972925,1.06405,0.986141,-0.0587931,0.0808138,1.0785,0.988878,-0.0472755,0.0644915,1.09204,0.992132,-0.0349128,0.0478128,1.10413,0.9953,-0.0232407,0.031621,1.11527,0.998117,-0.0112713,0.0154935,1.12551,1.00003,0.000339743,-0.000195763,1.13504,0.845441,-0.00000729126,0.364305,0.0000169208,0.843588,-0.000183164,0.363506,0.000425067,0.843412,-0.00073253,0.36343,0.00169999,0.843401,-0.00164818,0.363426,0.00382495,0.843399,-0.00293008,0.363425,0.00679993,0.843401,-0.00457822,0.363425,0.010625,0.843394,-0.00659249,0.363421,0.0153002,0.843398,-0.00897282,0.363421,0.0208258,0.843415,-0.0117191,0.363426,0.0272024,0.843438,-0.0148312,0.363432,0.0344305,0.843483,-0.018309,0.363447,0.0425116,0.84356,-0.0221521,0.363472,0.0514471,0.843646,-0.0263597,0.363499,0.061238,0.843743,-0.0309315,0.363527,0.0718873,0.84388,-0.0358658,0.363569,0.0833969,0.844079,-0.0411624,0.363631,0.0957742,0.844279,-0.0468128,0.363688,0.109015,0.844549,-0.0527923,0.363761,0.123124,0.844858,-0.0588204,0.363817,0.138044,0.84522,-0.0647573,0.36383,0.153755,0.845669,-0.0713181,0.363879,0.170394,0.846155,-0.0781697,0.363908,0.187861,0.846789,-0.0853913,0.363969,0.206176,0.847502,-0.0928086,0.363999,0.225244,0.8484,-0.10005,0.363997,0.244926,0.849461,-0.107615,0.364008,0.265188,0.850562,-0.115814,0.364055,0.28587,0.851962,-0.124334,0.364179,0.306926,0.854326,-0.131995,0.364233,0.329605,0.856295,-0.139338,0.363856,0.35359,0.858857,-0.146346,0.363347,0.37831,0.862428,-0.152994,0.362807,0.403722,0.866203,-0.159463,0.361963,0.429537,0.871629,-0.165623,0.36112,0.456,0.877365,-0.171649,0.359917,0.482773,0.883744,-0.177151,0.35848,0.509705,0.890693,-0.182381,0.356523,0.537215,0.897278,-0.186076,0.3533,0.565493,0.903958,-0.188602,0.349095,0.594293,0.910908,-0.190755,0.344215,0.623165,0.918117,-0.192063,0.338606,0.651573,0.924644,-0.192758,0.331544,0.679869,0.931054,-0.192238,0.323163,0.708668,0.937303,-0.190035,0.313529,0.737201,0.943387,-0.187162,0.303152,0.764977,0.948494,-0.183876,0.29146,0.792683,0.952546,-0.178901,0.277917,0.819228,0.958077,-0.173173,0.264753,0.846559,0.962462,-0.16645,0.25002,0.872962,0.966569,-0.159452,0.234873,0.898729,0.969108,-0.15074,0.218752,0.923126,0.973072,-0.141523,0.202673,0.947278,0.975452,-0.132075,0.186326,0.969938,0.977784,-0.121257,0.169396,0.991325,0.97899,-0.110182,0.153044,1.01123,0.979777,-0.0989634,0.136485,1.0299,0.980865,-0.0865894,0.119343,1.04727,0.982432,-0.0746115,0.102452,1.06341,0.984935,-0.0621822,0.0852423,1.07834,0.987776,-0.0495694,0.0678546,1.092,0.99103,-0.0372386,0.0506917,1.1043,0.99474,-0.0244353,0.0333316,1.11576,0.997768,-0.0121448,0.0164348,1.12617,1.00003,0.00031774,-0.000169504,1.13598,0.825551,-0.00000756799,0.378425,0.0000165099,0.82664,-0.000190922,0.378923,0.000416504,0.826323,-0.000763495,0.378779,0.0016656,0.826359,-0.00171789,0.378795,0.00374768,0.82636,-0.00305402,0.378795,0.00666259,0.826368,-0.00477185,0.378798,0.0104104,0.826364,-0.00687131,0.378795,0.0149912,0.826368,-0.00935232,0.378795,0.0204054,0.826376,-0.0122146,0.378797,0.0266532,0.826399,-0.0154581,0.378803,0.0337355,0.82646,-0.0190825,0.378824,0.0416537,0.826525,-0.0230873,0.378846,0.0504091,0.826614,-0.0274719,0.378876,0.0600032,0.82674,-0.0322355,0.378917,0.0704393,0.826888,-0.0373766,0.378964,0.0817195,0.827078,-0.0428936,0.379024,0.0938492,0.827318,-0.0487778,0.379099,0.106828,0.82764,-0.0549935,0.379199,0.120659,0.827926,-0.0611058,0.379227,0.13526,0.828325,-0.0675054,0.379275,0.150713,0.828801,-0.0743455,0.379332,0.167034,0.8294,-0.0815523,0.379415,0.184209,0.830094,-0.0890779,0.379495,0.202203,0.8309,-0.096736,0.379555,0.220945,0.831943,-0.104135,0.379577,0.240306,0.833037,-0.112106,0.379604,0.260317,0.834278,-0.120554,0.379668,0.2808,0.836192,-0.129128,0.3799,0.301654,0.838671,-0.137541,0.380109,0.323502,0.840939,-0.14523,0.379809,0.347176,0.844575,-0.15248,0.379593,0.371706,0.848379,-0.159607,0.37909,0.39688,0.853616,-0.166267,0.378617,0.422702,0.858921,-0.172698,0.377746,0.448919,0.865324,-0.178823,0.376749,0.475661,0.872207,-0.184542,0.375363,0.502599,0.880018,-0.189836,0.373657,0.529914,0.88694,-0.194294,0.370673,0.557683,0.894779,-0.197022,0.36662,0.586848,0.902242,-0.199108,0.36138,0.615831,0.909914,-0.200398,0.355434,0.644478,0.917088,-0.20094,0.348173,0.672905,0.923888,-0.200671,0.339482,0.701327,0.930495,-0.198773,0.32956,0.730101,0.937247,-0.195394,0.318363,0.758383,0.943108,-0.191956,0.306323,0.786539,0.948296,-0.187227,0.292576,0.813637,0.953472,-0.181165,0.278234,0.840793,0.958485,-0.174119,0.263054,0.867712,0.962714,-0.166564,0.246756,0.893635,0.966185,-0.158181,0.229945,0.919028,0.970146,-0.148275,0.212633,0.943413,0.973491,-0.138157,0.195229,0.966627,0.975741,-0.127574,0.178048,0.988817,0.977238,-0.11554,0.160312,1.00924,0.978411,-0.10364,0.142857,1.02845,0.979811,-0.0913122,0.125317,1.04648,0.98116,-0.0782558,0.107627,1.06284,0.983543,-0.0655957,0.0895862,1.07798,0.986789,-0.0520411,0.0713756,1.092,0.990292,-0.0389727,0.053228,1.10484,0.994187,-0.025808,0.0351945,1.11642,0.997499,-0.0126071,0.0173198,1.12703,0.999999,0.000275604,-0.000148602,1.13674,0.81075,-0.0000078735,0.394456,0.0000161829,0.808692,-0.000198293,0.393453,0.000407564,0.80846,-0.000792877,0.39334,0.00162965,0.808595,-0.00178416,0.393407,0.00366711,0.808597,-0.00317182,0.393408,0.00651934,0.808598,-0.00495589,0.393408,0.0101866,0.808591,-0.00713627,0.393403,0.0146689,0.808592,-0.00971285,0.393402,0.0199667,0.80861,-0.0126855,0.393407,0.0260803,0.808633,-0.0160538,0.393413,0.0330107,0.80868,-0.0198175,0.393429,0.0407589,0.808748,-0.0239758,0.393453,0.0493264,0.808854,-0.0285286,0.39349,0.0587161,0.808992,-0.0334748,0.39354,0.0689304,0.809141,-0.0388116,0.393588,0.0799707,0.809352,-0.0445375,0.39366,0.0918432,0.809608,-0.0506427,0.393742,0.104549,0.809915,-0.0570708,0.393834,0.118085,0.810253,-0.0633526,0.393885,0.132377,0.810687,-0.0700966,0.393953,0.147537,0.811233,-0.0772274,0.394047,0.163543,0.811865,-0.0847629,0.394148,0.180394,0.812648,-0.0925663,0.394265,0.198051,0.813583,-0.100416,0.394363,0.216443,0.814683,-0.108119,0.394402,0.235502,0.815948,-0.11644,0.394489,0.255242,0.817278,-0.125036,0.394542,0.275441,0.819605,-0.133655,0.39486,0.296094,0.822256,-0.142682,0.395248,0.317309,0.825349,-0.150756,0.395241,0.340516,0.829605,-0.158392,0.395285,0.364819,0.83391,-0.165801,0.394922,0.389736,0.839808,-0.172677,0.394691,0.415409,0.845708,-0.179448,0.394006,0.441546,0.853025,-0.185746,0.393279,0.46832,0.859666,-0.191684,0.391655,0.495302,0.86789,-0.197146,0.390068,0.52262,0.875845,-0.201904,0.38727,0.550336,0.882634,-0.205023,0.382688,0.578825,0.891076,-0.207098,0.377543,0.608103,0.900589,-0.208474,0.371752,0.63723,0.90791,-0.209068,0.364016,0.665769,0.915971,-0.208655,0.355593,0.694428,0.923455,-0.20729,0.345439,0.723224,0.931514,-0.203821,0.334099,0.751925,0.937885,-0.19986,0.321069,0.780249,0.943136,-0.194993,0.306571,0.8077,0.948818,-0.189132,0.291556,0.83497,0.954433,-0.181617,0.275745,0.86188,0.959078,-0.173595,0.258695,0.888562,0.962705,-0.164855,0.240825,0.914008,0.966753,-0.155129,0.22268,0.939145,0.970704,-0.144241,0.204542,0.963393,0.973367,-0.133188,0.185927,0.985983,0.975984,-0.121146,0.167743,1.00704,0.976994,-0.108366,0.149218,1.02715,0.978485,-0.0956746,0.13131,1.0455,0.980074,-0.0820733,0.112513,1.06221,0.98225,-0.0684061,0.0938323,1.07782,0.98553,-0.0549503,0.0749508,1.09199,0.989529,-0.0407857,0.055848,1.10508,0.993536,-0.0271978,0.0368581,1.11684,0.997247,-0.0132716,0.0181845,1.12789,1,0.000431817,-0.000198809,1.13792,0.785886,-0.00000812608,0.405036,0.0000157669,0.790388,-0.000205278,0.407355,0.000398297,0.790145,-0.000820824,0.407231,0.00159263,0.790135,-0.00184681,0.407226,0.00358336,0.790119,-0.00328316,0.407218,0.00637039,0.790126,-0.00512988,0.40722,0.0099539,0.79013,-0.00738684,0.407221,0.0143339,0.790135,-0.0100538,0.407221,0.0195107,0.790134,-0.0131306,0.407217,0.0254848,0.79016,-0.0166169,0.407224,0.0322572,0.790197,-0.020512,0.407236,0.0398284,0.790273,-0.0248157,0.407263,0.0482014,0.790381,-0.029527,0.407304,0.0573777,0.790521,-0.0346446,0.407355,0.0673602,0.790704,-0.0401665,0.40742,0.0781522,0.790925,-0.0460896,0.407499,0.0897582,0.791195,-0.0524017,0.407589,0.10218,0.791522,-0.0590121,0.407691,0.11541,0.791878,-0.0654876,0.407748,0.12939,0.792361,-0.0725207,0.407849,0.144237,0.792942,-0.0799844,0.407963,0.159924,0.79362,-0.0877896,0.408087,0.176425,0.794529,-0.0958451,0.408259,0.193733,0.795521,-0.103827,0.408362,0.211756,0.796778,-0.111937,0.408482,0.230524,0.798027,-0.120521,0.408547,0.249967,0.799813,-0.129242,0.408721,0.269926,0.802387,-0.138048,0.409148,0.290338,0.805279,-0.147301,0.409641,0.311193,0.809251,-0.155895,0.410154,0.333611,0.813733,-0.163942,0.410297,0.357615,0.819081,-0.171666,0.410373,0.382339,0.825427,-0.178905,0.410348,0.407828,0.83172,-0.185812,0.409486,0.434034,0.83877,-0.192318,0.408776,0.460493,0.845817,-0.198249,0.407176,0.487346,0.854664,-0.204034,0.405719,0.514832,0.863495,-0.208908,0.403282,0.542401,0.871883,-0.212765,0.399293,0.570683,0.88065,-0.214911,0.393803,0.599947,0.89004,-0.216214,0.387536,0.62932,0.898476,-0.216745,0.379846,0.658319,0.906738,-0.216387,0.370625,0.687138,0.914844,-0.215053,0.360139,0.71601,0.923877,-0.212007,0.348849,0.745124,0.931925,-0.207481,0.335639,0.773366,0.938054,-0.202418,0.320798,0.801636,0.943895,-0.196507,0.304772,0.829055,0.949468,-0.189009,0.288033,0.856097,0.955152,-0.180539,0.270532,0.88301,0.959403,-0.171437,0.251639,0.909296,0.963309,-0.161661,0.232563,0.934868,0.967399,-0.150425,0.213231,0.959662,0.972009,-0.138659,0.194247,0.98302,0.97433,-0.126595,0.174718,1.00517,0.975823,-0.113205,0.155518,1.02566,0.976371,-0.0996096,0.136709,1.04418,0.978705,-0.0860754,0.117571,1.06146,0.981477,-0.0714438,0.0980046,1.07777,0.984263,-0.0572304,0.0782181,1.09214,0.988423,-0.0428875,0.0584052,1.10553,0.993,-0.0282442,0.038522,1.11758,0.99704,-0.0140183,0.0190148,1.12864,0.999913,0.000369494,-0.000145203,1.13901,0.777662,-0.0000084153,0.423844,0.0000154403,0.770458,-0.000211714,0.419915,0.00038845,0.770716,-0.000846888,0.420055,0.00155386,0.770982,-0.00190567,0.420202,0.00349653,0.770981,-0.00338782,0.420201,0.00621606,0.77098,-0.00529338,0.4202,0.00971274,0.770983,-0.00762223,0.4202,0.0139867,0.770985,-0.0103741,0.420198,0.0190381,0.770996,-0.0135489,0.4202,0.0248677,0.771029,-0.0171461,0.420212,0.0314764,0.771052,-0.0211647,0.420215,0.0388648,0.771131,-0.0256048,0.420245,0.047036,0.771235,-0.0304647,0.420284,0.0559911,0.771383,-0.0357436,0.420341,0.0657346,0.771591,-0.0414392,0.420423,0.0762694,0.771819,-0.0475462,0.420506,0.0875984,0.772123,-0.0540506,0.420617,0.099727,0.772464,-0.060797,0.42072,0.112637,0.772855,-0.0675393,0.420799,0.126313,0.773317,-0.0748323,0.420893,0.140824,0.773981,-0.0825681,0.421058,0.15617,0.774746,-0.0906307,0.421226,0.172322,0.77566,-0.0988982,0.421397,0.189253,0.776837,-0.106994,0.421569,0.206912,0.778097,-0.115528,0.421704,0.225359,0.779588,-0.124317,0.421849,0.24447,0.781574,-0.133139,0.422097,0.264156,0.784451,-0.142179,0.422615,0.284318,0.787682,-0.15165,0.423269,0.304902,0.792433,-0.160771,0.424396,0.3265,0.797359,-0.169166,0.424772,0.35014,0.803986,-0.177149,0.425475,0.374768,0.809504,-0.184745,0.424996,0.399928,0.815885,-0.19173,0.424247,0.425796,0.823513,-0.198525,0.423515,0.452287,0.832549,-0.204709,0.422787,0.479321,0.841653,-0.210447,0.421187,0.506718,0.850401,-0.215501,0.418519,0.53432,0.859854,-0.219752,0.414715,0.56242,0.869364,-0.222305,0.409462,0.591558,0.878837,-0.223744,0.402926,0.621074,0.888636,-0.224065,0.395043,0.650538,0.898132,-0.223742,0.38564,0.679538,0.907181,-0.222308,0.375378,0.708674,0.915621,-0.219837,0.363212,0.737714,0.9239,-0.215233,0.349313,0.767014,0.931644,-0.209592,0.334162,0.795133,0.938887,-0.203644,0.317943,0.823228,0.945282,-0.196349,0.300581,0.850822,0.950758,-0.18742,0.282195,0.877594,0.956146,-0.177879,0.262481,0.904564,0.960355,-0.167643,0.242487,0.930741,0.965256,-0.156671,0.222668,0.955868,0.968029,-0.144123,0.201907,0.979869,0.97251,-0.131305,0.18202,1.00291,0.974925,-0.118335,0.161909,1.02392,0.975402,-0.103714,0.142129,1.0433,0.976987,-0.089415,0.122447,1.06089,0.979677,-0.0748858,0.102248,1.07713,0.983184,-0.0596086,0.0814851,1.09218,0.987466,-0.0447671,0.0609484,1.10585,0.992348,-0.0295217,0.0401835,1.11829,0.996674,-0.0143917,0.0198163,1.12966,1.00003,0.000321364,-0.000149983,1.1402,0.757901,-0.00000869074,0.436176,0.0000151011,0.751195,-0.000217848,0.432317,0.000378533,0.751178,-0.000871373,0.432307,0.0015141,0.751195,-0.00196061,0.432317,0.0034068,0.751198,-0.00348552,0.432318,0.00605659,0.751195,-0.00544599,0.432315,0.00946353,0.751207,-0.00784203,0.43232,0.013628,0.751213,-0.0106732,0.43232,0.0185499,0.751221,-0.0139393,0.432319,0.0242302,0.751244,-0.0176398,0.432325,0.0306694,0.7513,-0.0217743,0.432348,0.0378698,0.751358,-0.0263412,0.432367,0.0458321,0.751458,-0.0313396,0.432404,0.0545587,0.751608,-0.0367682,0.432464,0.0640543,0.7518,-0.0426246,0.43254,0.0743222,0.752065,-0.0489031,0.432645,0.0853668,0.752376,-0.0555828,0.432762,0.0971911,0.752715,-0.0623861,0.432859,0.109768,0.753137,-0.069415,0.432958,0.123126,0.753676,-0.0770039,0.433099,0.137308,0.754345,-0.084971,0.433272,0.15229,0.755235,-0.0932681,0.433504,0.168075,0.756186,-0.10171,0.433693,0.184625,0.757363,-0.110019,0.433857,0.201897,0.75884,-0.11887,0.434102,0.220014,0.760467,-0.127881,0.434306,0.238778,0.762969,-0.136766,0.434751,0.258172,0.765823,-0.14612,0.43529,0.278062,0.769676,-0.15566,0.436236,0.298437,0.774909,-0.165177,0.437754,0.319532,0.77994,-0.17402,0.438343,0.342505,0.785757,-0.182201,0.438609,0.366693,0.792487,-0.190104,0.438762,0.391668,0.80038,-0.197438,0.438795,0.417494,0.808494,-0.204365,0.438226,0.443933,0.817695,-0.210714,0.437283,0.470929,0.828111,-0.216651,0.436087,0.498569,0.837901,-0.221804,0.433717,0.526165,0.847813,-0.226318,0.430133,0.554155,0.858314,-0.229297,0.425213,0.582822,0.868891,-0.230999,0.418576,0.612847,0.878941,-0.231155,0.410405,0.642445,0.888809,-0.230935,0.400544,0.672024,0.898089,-0.229343,0.389613,0.701366,0.908081,-0.226886,0.377197,0.730763,0.916819,-0.222676,0.363397,0.759642,0.924968,-0.216835,0.347437,0.788775,0.932906,-0.210245,0.32995,0.817135,0.940025,-0.202992,0.312262,0.844912,0.946101,-0.19436,0.293313,0.872164,0.952835,-0.184125,0.273638,0.899443,0.957347,-0.173657,0.252385,0.926389,0.961434,-0.162204,0.231038,0.951947,0.965522,-0.14979,0.209834,0.976751,0.969412,-0.136307,0.188821,1.00022,0.973902,-0.122527,0.168013,1.02229,0.974045,-0.108213,0.147634,1.04199,0.975775,-0.0927397,0.12705,1.06019,0.978383,-0.0778212,0.106309,1.07711,0.98211,-0.0621216,0.0849279,1.09245,0.986517,-0.0463847,0.0633519,1.10651,0.991696,-0.0309353,0.0419698,1.11903,0.996349,-0.0150914,0.0206272,1.13073,1.00003,0.000442449,-0.000231396,1.14146,0.727498,-0.00000885074,0.441528,0.0000145832,0.730897,-0.000223525,0.443589,0.000368298,0.730796,-0.000893996,0.443528,0.00147303,0.730805,-0.00201149,0.443533,0.00331433,0.730814,-0.00357596,0.443538,0.00589222,0.730815,-0.00558734,0.443538,0.00920678,0.730822,-0.00804544,0.44354,0.0132582,0.730836,-0.0109501,0.443545,0.0180468,0.730848,-0.0143008,0.443546,0.0235732,0.730871,-0.0180969,0.443552,0.0298382,0.730915,-0.022338,0.443567,0.0368438,0.730982,-0.0270225,0.443591,0.044591,0.731076,-0.0321491,0.443627,0.0530831,0.731245,-0.0377166,0.443699,0.0623243,0.73144,-0.0437216,0.443777,0.0723181,0.7317,-0.0501576,0.443881,0.0830691,0.732034,-0.0569942,0.444014,0.0945809,0.732388,-0.0638756,0.444113,0.106825,0.732853,-0.071203,0.444247,0.119859,0.733473,-0.0790076,0.444442,0.13369,0.734195,-0.0871937,0.444645,0.148304,0.735069,-0.095696,0.444877,0.163702,0.736169,-0.10426,0.445133,0.179861,0.73747,-0.112853,0.44537,0.196778,0.738991,-0.12199,0.445651,0.214496,0.740865,-0.131153,0.445958,0.232913,0.743637,-0.140245,0.446548,0.251977,0.746797,-0.149722,0.447246,0.271551,0.751517,-0.159341,0.448656,0.291774,0.756156,-0.169106,0.449866,0.312455,0.761519,-0.178436,0.450919,0.334552,0.768295,-0.186904,0.451776,0.358491,0.776613,-0.195117,0.452832,0.383446,0.783966,-0.202695,0.45249,0.408945,0.793542,-0.20985,0.452587,0.435364,0.803192,-0.216403,0.451852,0.462336,0.813892,-0.22251,0.450708,0.48987,0.824968,-0.227676,0.4486,0.517697,0.835859,-0.232443,0.445156,0.545975,0.846825,-0.235775,0.440351,0.574483,0.858085,-0.237897,0.433641,0.604246,0.868825,-0.238074,0.425354,0.634101,0.879638,-0.237661,0.415383,0.664201,0.889966,-0.236186,0.404136,0.693918,0.899479,-0.233599,0.390917,0.723481,0.908769,-0.229737,0.376352,0.75258,0.917966,-0.223836,0.360372,0.781764,0.926304,-0.217067,0.342551,0.811139,0.934626,-0.209309,0.324238,0.839585,0.941841,-0.20071,0.304484,0.867044,0.94789,-0.190602,0.283607,0.894579,0.954196,-0.179253,0.262205,0.921743,0.958383,-0.167646,0.239847,0.948026,0.963119,-0.155073,0.218078,0.973296,0.966941,-0.141426,0.195899,0.998135,0.970836,-0.126849,0.174121,1.02021,0.973301,-0.112296,0.153052,1.04085,0.97448,-0.0964965,0.131733,1.05946,0.977045,-0.080489,0.10997,1.07693,0.980751,-0.064844,0.0881657,1.09254,0.985475,-0.0481938,0.0657987,1.10697,0.991089,-0.0319185,0.0435215,1.12004,0.996122,-0.0158088,0.0214779,1.13173,1.00001,0.000372455,-0.000200295,1.14291,0.708622,-0.00000907597,0.45304,0.0000141962,0.711162,-0.000228911,0.454662,0.000358052,0.709812,-0.000914446,0.453797,0.00143034,0.709865,-0.00205819,0.453834,0.00321935,0.709864,-0.00365894,0.453833,0.00572331,0.709855,-0.00571692,0.453826,0.00894278,0.709862,-0.00823201,0.453828,0.012878,0.709875,-0.011204,0.453832,0.0175295,0.709896,-0.0146323,0.453839,0.0228978,0.709925,-0.0185163,0.453847,0.0289839,0.709974,-0.0228551,0.453866,0.0357894,0.710045,-0.0276473,0.453892,0.0433161,0.710133,-0.032891,0.453924,0.0515665,0.710292,-0.0385851,0.453992,0.0605458,0.710485,-0.0447254,0.45407,0.0702574,0.710769,-0.0513051,0.454192,0.0807077,0.711106,-0.0582733,0.454329,0.091896,0.711516,-0.0652866,0.45446,0.103814,0.712071,-0.0728426,0.454653,0.116508,0.712676,-0.0808307,0.45484,0.129968,0.713476,-0.0892216,0.455096,0.144206,0.714377,-0.0979047,0.455346,0.159212,0.715579,-0.106531,0.455647,0.174973,0.716977,-0.115492,0.455961,0.191504,0.71862,-0.124821,0.456315,0.208835,0.72084,-0.134079,0.4568,0.226869,0.723786,-0.143427,0.457521,0.245582,0.727464,-0.153061,0.458475,0.264957,0.732771,-0.162768,0.460239,0.284948,0.736515,-0.172627,0.460899,0.30522,0.743519,-0.182487,0.463225,0.326717,0.750041,-0.191295,0.464027,0.350113,0.758589,-0.199746,0.465227,0.374782,0.767703,-0.207584,0.465877,0.400226,0.777484,-0.214973,0.465996,0.426442,0.788792,-0.221796,0.466019,0.453688,0.800194,-0.228038,0.465083,0.481246,0.811234,-0.233346,0.462506,0.509086,0.822859,-0.238073,0.459257,0.537338,0.835082,-0.241764,0.454863,0.566108,0.846332,-0.244241,0.448163,0.595126,0.858355,-0.244736,0.439709,0.625574,0.87034,-0.244278,0.429837,0.65617,0.881027,-0.24255,0.418002,0.686029,0.891007,-0.239912,0.404325,0.716039,0.900874,-0.236133,0.389222,0.745518,0.911072,-0.230672,0.373269,0.775026,0.920359,-0.22356,0.355083,0.804521,0.928604,-0.215591,0.335533,0.834045,0.937175,-0.206503,0.315278,0.861612,0.942825,-0.196684,0.293653,0.889131,0.949805,-0.185116,0.271503,0.916853,0.955535,-0.172703,0.248821,0.943541,0.959843,-0.159978,0.225591,0.970132,0.964393,-0.146375,0.202719,0.994709,0.968008,-0.131269,0.179928,1.0186,0.971013,-0.11569,0.158007,1.03928,0.973334,-0.1003,0.13624,1.05887,0.975775,-0.0833352,0.1138,1.07652,0.979579,-0.0668981,0.0913141,1.09297,0.984323,-0.0500902,0.0683051,1.10734,0.990351,-0.0332377,0.0451771,1.12084,0.995823,-0.0161491,0.0221705,1.13296,1.0001,0.000234083,-0.000108712,1.14441,0.683895,-0.00000924677,0.46015,0.0000137429,0.68833,-0.000233383,0.463134,0.000346865,0.688368,-0.000933547,0.463159,0.00138748,0.688367,-0.00210049,0.463159,0.00312187,0.688369,-0.00373415,0.463159,0.00555004,0.688377,-0.00583449,0.463163,0.00867216,0.688386,-0.00840128,0.463166,0.0124884,0.688398,-0.0114343,0.463169,0.0169993,0.688418,-0.0149329,0.463175,0.0222054,0.688453,-0.0188964,0.463188,0.028108,0.688515,-0.0233239,0.463214,0.0347085,0.68857,-0.0282136,0.463231,0.0420091,0.688679,-0.033564,0.463276,0.0500132,0.688854,-0.0393733,0.463356,0.0587255,0.689038,-0.0456354,0.46343,0.0681476,0.689321,-0.0523433,0.463553,0.0782897,0.689662,-0.059412,0.463693,0.0891501,0.690188,-0.0665736,0.4639,0.100735,0.690755,-0.0743106,0.464107,0.113074,0.691405,-0.0824722,0.464329,0.126161,0.692198,-0.0910484,0.464585,0.140007,0.693196,-0.0998778,0.464893,0.154612,0.69454,-0.108651,0.465285,0.169984,0.695921,-0.117855,0.465596,0.186106,0.697749,-0.12734,0.466056,0.203034,0.700375,-0.136714,0.466771,0.220703,0.703395,-0.146386,0.467579,0.239062,0.707904,-0.156096,0.469067,0.258188,0.711673,-0.165904,0.469851,0.277759,0.717489,-0.175812,0.471815,0.297935,0.724051,-0.185931,0.47389,0.318916,0.731965,-0.195238,0.47587,0.341591,0.741151,-0.204021,0.477523,0.366062,0.751416,-0.212113,0.478881,0.391396,0.761848,-0.21979,0.479226,0.417599,0.771886,-0.2267,0.478495,0.444401,0.783998,-0.232991,0.477622,0.472084,0.796523,-0.238645,0.475833,0.500193,0.808851,-0.243396,0.472568,0.52865,0.821191,-0.247226,0.467857,0.557362,0.834261,-0.250102,0.461871,0.586768,0.846762,-0.251056,0.453543,0.617085,0.859867,-0.250604,0.443494,0.647659,0.871948,-0.248783,0.431711,0.678119,0.882967,-0.245855,0.417911,0.708399,0.892826,-0.242168,0.401993,0.738256,0.90332,-0.237062,0.385371,0.767999,0.913633,-0.22997,0.366837,0.798191,0.922774,-0.221687,0.346372,0.827756,0.931371,-0.212345,0.325682,0.856425,0.938929,-0.20206,0.303665,0.884299,0.944821,-0.190981,0.280786,0.912023,0.951792,-0.178065,0.2573,0.939669,0.957712,-0.164634,0.233448,0.96655,0.961912,-0.150863,0.209504,0.992366,0.966382,-0.13577,0.18597,1.01633,0.969588,-0.119593,0.162905,1.03843,0.971777,-0.103203,0.14053,1.05841,0.97433,-0.0865888,0.117909,1.07632,0.978686,-0.0690829,0.0944101,1.09326,0.983281,-0.0516568,0.0705671,1.10796,0.989562,-0.034558,0.0468592,1.12182,0.995465,-0.0167808,0.0229846,1.1342,0.999991,0.000373016,-0.000235606,1.1459,0.662251,-0.00000939016,0.468575,0.0000132714,0.666634,-0.000237624,0.471675,0.000335842,0.666411,-0.000950385,0.471516,0.00134321,0.666399,-0.00213833,0.471509,0.00302221,0.666386,-0.0038014,0.471499,0.00537283,0.666405,-0.00593958,0.471511,0.00839533,0.666406,-0.00855253,0.471508,0.0120898,0.666428,-0.0116401,0.471519,0.0164569,0.666444,-0.0152015,0.471522,0.0214971,0.66649,-0.0192362,0.471543,0.027212,0.666537,-0.0237428,0.471558,0.033603,0.666617,-0.0287198,0.471591,0.0406728,0.666718,-0.0341647,0.471631,0.0484238,0.666889,-0.0400759,0.47171,0.0568621,0.667104,-0.0464479,0.471805,0.0659915,0.667374,-0.0532677,0.471923,0.0758178,0.667772,-0.0603805,0.472098,0.0863425,0.668371,-0.0677392,0.472363,0.0975917,0.668971,-0.0756028,0.472596,0.109567,0.669696,-0.0839293,0.472869,0.122272,0.670481,-0.0926683,0.473126,0.135718,0.6715,-0.1016,0.473442,0.149914,0.672911,-0.110566,0.47389,0.164882,0.674512,-0.119984,0.474354,0.180602,0.67651,-0.129574,0.474922,0.19711,0.679292,-0.139106,0.475764,0.214371,0.682798,-0.148993,0.476886,0.232405,0.686955,-0.158737,0.478179,0.251153,0.691406,-0.168754,0.479432,0.270436,0.697438,-0.178703,0.481481,0.290374,0.704761,-0.188955,0.484143,0.311044,0.713599,-0.198814,0.487007,0.333003,0.723194,-0.207869,0.488962,0.357144,0.732601,-0.216189,0.489815,0.382169,0.744193,-0.22398,0.490888,0.408227,0.754907,-0.231156,0.490355,0.434928,0.767403,-0.23747,0.489548,0.462599,0.78107,-0.243503,0.488274,0.490908,0.793893,-0.248114,0.484843,0.519421,0.807296,-0.25222,0.4803,0.548561,0.820529,-0.255265,0.474097,0.577772,0.833716,-0.256741,0.466041,0.607782,0.848403,-0.25637,0.456547,0.638807,0.860755,-0.254804,0.443946,0.670058,0.874012,-0.251834,0.430852,0.700749,0.885619,-0.247867,0.414903,0.731446,0.896069,-0.242634,0.397276,0.761191,0.906266,-0.236093,0.378535,0.791053,0.916759,-0.227543,0.358038,0.821298,0.92523,-0.21783,0.335705,0.850747,0.93436,-0.207534,0.313797,0.879258,0.941631,-0.195983,0.289671,0.907734,0.947564,-0.183567,0.265319,0.935206,0.953681,-0.169345,0.240815,0.962739,0.960008,-0.154909,0.216119,0.989227,0.964145,-0.140161,0.192096,1.01465,0.968171,-0.123411,0.167855,1.03737,0.969859,-0.106525,0.144817,1.05767,0.972666,-0.0891023,0.12149,1.0761,0.977055,-0.0718094,0.0975306,1.09336,0.982527,-0.0534213,0.0730217,1.10878,0.989001,-0.0355579,0.0483366,1.12285,0.99512,-0.0176383,0.023938,1.13548,1.00007,0.000368831,-0.000211581,1.14744,0.651047,-0.00000960845,0.484101,0.000012922,0.644145,-0.000241347,0.478968,0.000324578,0.64396,-0.000965142,0.478831,0.00129798,0.64396,-0.00217154,0.47883,0.00292046,0.643968,-0.00386049,0.478835,0.00519202,0.643974,-0.00603186,0.478838,0.0081128,0.643977,-0.0086854,0.478836,0.011683,0.643982,-0.0118207,0.478834,0.0159031,0.644024,-0.0154374,0.478856,0.0207743,0.644059,-0.0195343,0.478868,0.0262975,0.644122,-0.0241103,0.478896,0.0324747,0.644207,-0.0291638,0.478933,0.039309,0.64432,-0.0346919,0.478981,0.0468029,0.644481,-0.0406919,0.479053,0.0549614,0.644722,-0.047159,0.479169,0.0637909,0.645013,-0.0540748,0.479302,0.0732974,0.645503,-0.0612001,0.479541,0.0834898,0.646117,-0.0687303,0.479829,0.0943873,0.646707,-0.0767846,0.480061,0.105991,0.647431,-0.0852465,0.480343,0.11831,0.64831,-0.0940719,0.48066,0.131348,0.649486,-0.103056,0.481083,0.14514,0.650864,-0.112261,0.481528,0.159676,0.652604,-0.121852,0.482102,0.174979,0.654825,-0.131505,0.482813,0.191079,0.657876,-0.141189,0.483876,0.207927,0.661339,-0.151239,0.48499,0.225586,0.665463,-0.161091,0.486279,0.243947,0.670542,-0.171235,0.487968,0.262957,0.677361,-0.181347,0.49053,0.282781,0.685672,-0.191679,0.493862,0.303311,0.694551,-0.201781,0.49699,0.324607,0.703753,-0.211164,0.498884,0.347916,0.713703,-0.219675,0.500086,0.372628,0.725911,-0.227836,0.501554,0.398694,0.73862,-0.23533,0.502193,0.425529,0.752118,-0.241786,0.501811,0.453209,0.76579,-0.247865,0.500185,0.481381,0.779568,-0.252696,0.497159,0.51011,0.793991,-0.256802,0.492765,0.539322,0.808182,-0.259942,0.486827,0.569078,0.821698,-0.261703,0.478386,0.598818,0.836009,-0.262006,0.468772,0.629762,0.849824,-0.260333,0.456352,0.661366,0.863888,-0.257398,0.442533,0.69295,0.876585,-0.253264,0.426573,0.723608,0.888665,-0.248026,0.408964,0.754378,0.899537,-0.241487,0.389677,0.784761,0.9094,-0.233463,0.368516,0.814688,0.920166,-0.223397,0.346624,0.845009,0.928899,-0.21255,0.322717,0.874431,0.937156,-0.200869,0.298698,0.902922,0.943861,-0.188387,0.273491,0.931356,0.949557,-0.174341,0.247866,0.958854,0.955862,-0.158994,0.222496,0.986098,0.961721,-0.143664,0.197522,1.01229,0.965976,-0.127412,0.17302,1.03571,0.968652,-0.109798,0.148954,1.05699,0.971084,-0.0916787,0.125044,1.07587,0.975584,-0.0739634,0.100577,1.09372,0.98122,-0.055322,0.0753666,1.10948,0.988253,-0.0366825,0.0498899,1.12394,0.99482,-0.0180389,0.024611,1.13694,1.00001,0.000229839,-0.000188283,1.14919,0.613867,-0.00000964198,0.479449,0.0000123452,0.621485,-0.000244534,0.485399,0.000313091,0.621429,-0.000978202,0.485353,0.00125245,0.62112,-0.00220004,0.485114,0.00281687,0.621119,-0.0039111,0.485112,0.00500783,0.621122,-0.00611091,0.485112,0.00782498,0.621133,-0.00879922,0.485117,0.0112687,0.621152,-0.0119756,0.485125,0.0153394,0.621183,-0.0156396,0.485139,0.0200382,0.621227,-0.0197898,0.485158,0.0253663,0.621298,-0.0244253,0.485192,0.0313261,0.621388,-0.0295441,0.485233,0.0379204,0.621507,-0.0351432,0.485286,0.0451523,0.621693,-0.0412198,0.485378,0.0530277,0.621933,-0.0477673,0.485495,0.0615522,0.622232,-0.0547574,0.485635,0.0707316,0.622809,-0.0619417,0.485943,0.0805883,0.623407,-0.069625,0.486232,0.0911267,0.62406,-0.077796,0.486516,0.102354,0.624835,-0.0863731,0.486838,0.114279,0.625758,-0.095251,0.487188,0.126902,0.627043,-0.104299,0.487695,0.140285,0.628438,-0.113724,0.488163,0.154397,0.630325,-0.123417,0.488858,0.169267,0.632801,-0.133137,0.489754,0.184941,0.635784,-0.143052,0.490815,0.20136,0.639406,-0.153132,0.492048,0.218643,0.643872,-0.163143,0.49363,0.236615,0.6499,-0.17333,0.496009,0.255449,0.657201,-0.183622,0.498994,0.275006,0.666221,-0.194019,0.502888,0.295354,0.674419,-0.204192,0.505459,0.316244,0.683729,-0.21406,0.507771,0.33849,0.695584,-0.222854,0.510245,0.363166,0.708583,-0.231315,0.512293,0.389071,0.721233,-0.238911,0.512747,0.415737,0.735134,-0.245657,0.512482,0.443331,0.750179,-0.251879,0.511526,0.471891,0.765073,-0.256911,0.508935,0.500892,0.779794,-0.261144,0.504341,0.530294,0.794801,-0.264316,0.498515,0.560144,0.810339,-0.266276,0.491015,0.590213,0.824818,-0.266981,0.481126,0.620865,0.839375,-0.265778,0.468685,0.652687,0.853043,-0.262748,0.453925,0.684759,0.867335,-0.258474,0.437912,0.716209,0.88037,-0.253187,0.419648,0.747508,0.891711,-0.246476,0.39982,0.77797,0.902896,-0.238735,0.37879,0.808586,0.913601,-0.22885,0.355891,0.838843,0.923019,-0.217656,0.331773,0.869014,0.933432,-0.205539,0.307356,0.898512,0.939691,-0.192595,0.281321,0.9269,0.946938,-0.178945,0.255441,0.955297,0.952372,-0.163587,0.229013,0.983231,0.95909,-0.147214,0.203179,1.00971,0.963675,-0.13064,0.17792,1.03438,0.968247,-0.113121,0.152898,1.05625,0.97001,-0.0945824,0.128712,1.07598,0.974458,-0.0755648,0.103349,1.094,0.980168,-0.0571998,0.0776731,1.1104,0.987295,-0.0377994,0.0514445,1.12491,0.994432,-0.0186417,0.025429,1.13851,0.999975,0.000542714,-0.000282356,1.15108,0.592656,-0.00000980249,0.486018,0.0000119532,0.598467,-0.000247275,0.490781,0.000301531,0.597934,-0.000988317,0.490343,0.00120517,0.597903,-0.00222366,0.490319,0.0027116,0.597913,-0.00395315,0.490327,0.00482077,0.597919,-0.00617653,0.490329,0.00753264,0.597936,-0.00889375,0.490339,0.0108478,0.597956,-0.0121043,0.490347,0.0147668,0.597992,-0.0158073,0.490365,0.0192905,0.598032,-0.0200017,0.490382,0.0244204,0.598109,-0.0246865,0.49042,0.0301593,0.598215,-0.0298594,0.490474,0.03651,0.59833,-0.0355167,0.490524,0.0434757,0.598525,-0.0416559,0.490624,0.0510629,0.598778,-0.0482692,0.490753,0.0592781,0.599135,-0.0553114,0.49094,0.0681304,0.599802,-0.062542,0.491328,0.0776467,0.600361,-0.0703638,0.491598,0.0878184,0.60101,-0.0786256,0.491882,0.0986573,0.601811,-0.0872962,0.492232,0.11018,0.602861,-0.0962284,0.492684,0.1224,0.604167,-0.10538,0.493213,0.135354,0.605693,-0.114896,0.493799,0.149034,0.607682,-0.124654,0.494576,0.163469,0.610672,-0.13456,0.4959,0.178747,0.613313,-0.144581,0.496713,0.194723,0.617603,-0.154703,0.498499,0.211617,0.622174,-0.16489,0.500188,0.229183,0.628855,-0.175164,0.503072,0.247786,0.636963,-0.185565,0.506798,0.267116,0.644866,-0.195911,0.509719,0.28702,0.653741,-0.206104,0.512776,0.307763,0.664942,-0.216447,0.516812,0.329631,0.67633,-0.22552,0.519181,0.353515,0.690012,-0.234316,0.521681,0.379226,0.704243,-0.242032,0.523129,0.405901,0.719396,-0.249172,0.523768,0.433585,0.734471,-0.255543,0.522541,0.462085,0.750539,-0.260697,0.520217,0.491233,0.766365,-0.26501,0.516293,0.521094,0.781677,-0.268409,0.509708,0.551014,0.797132,-0.270399,0.501944,0.581463,0.812655,-0.271247,0.492025,0.612402,0.828592,-0.270708,0.480424,0.643798,0.844044,-0.268085,0.465955,0.67682,0.857305,-0.263459,0.448425,0.708496,0.87114,-0.258151,0.430243,0.74046,0.884936,-0.251171,0.410578,0.771583,0.895772,-0.243305,0.38862,0.802234,0.906961,-0.234037,0.365214,0.833179,0.917775,-0.222714,0.34116,0.86353,0.927883,-0.210175,0.31572,0.893557,0.936617,-0.196925,0.289159,0.922976,0.943384,-0.182788,0.261996,0.951606,0.949713,-0.167965,0.235324,0.979958,0.955818,-0.151109,0.208408,1.00765,0.961344,-0.133834,0.182591,1.03329,0.965469,-0.115987,0.156958,1.0557,0.968693,-0.09746,0.132239,1.07583,0.973165,-0.0778514,0.106195,1.09451,0.979387,-0.0585067,0.0797669,1.11137,0.98671,-0.0390409,0.0530263,1.12643,0.994093,-0.019408,0.0263163,1.14016,1.00002,0.000540029,-0.000194487,1.15299,0.574483,-0.00000989066,0.494533,0.0000114896,0.574478,-0.000249127,0.494528,0.000289403,0.574607,-0.000996811,0.494637,0.00115797,0.574396,-0.00224241,0.494458,0.00260498,0.574377,-0.00398632,0.49444,0.00463102,0.574386,-0.00622836,0.494445,0.00723623,0.574401,-0.0089683,0.494453,0.010421,0.574419,-0.0122056,0.49446,0.0141859,0.574459,-0.0159396,0.494481,0.0185322,0.574525,-0.0201692,0.49452,0.0234617,0.574587,-0.0248924,0.494547,0.0289762,0.574697,-0.0301074,0.494604,0.0350797,0.574853,-0.0358114,0.494688,0.0417767,0.575027,-0.041999,0.494772,0.0490718,0.575294,-0.0486618,0.494915,0.0569728,0.575733,-0.0557148,0.495173,0.0654955,0.576356,-0.0630489,0.495537,0.0746612,0.576944,-0.0709285,0.495836,0.0844615,0.57765,-0.0792723,0.496177,0.0949142,0.578491,-0.0880167,0.496563,0.10603,0.579639,-0.0969462,0.497096,0.117841,0.580989,-0.10622,0.497684,0.130367,0.582587,-0.115861,0.498337,0.143609,0.584951,-0.125605,0.499414,0.157625,0.587602,-0.135608,0.500518,0.172413,0.59076,-0.145742,0.501767,0.187999,0.594992,-0.155934,0.503542,0.20445,0.600656,-0.166303,0.506135,0.221764,0.607816,-0.176681,0.509542,0.24002,0.61522,-0.187071,0.51263,0.258992,0.623702,-0.197465,0.516021,0.278773,0.634192,-0.207816,0.520422,0.299377,0.644936,-0.218183,0.524073,0.320802,0.657888,-0.2278,0.528049,0.34384,0.670666,-0.236747,0.52986,0.36916,0.685626,-0.24484,0.531892,0.395867,0.701304,-0.252071,0.532727,0.423488,0.717727,-0.258714,0.532146,0.452201,0.733914,-0.264211,0.529883,0.481579,0.750529,-0.26859,0.5259,0.511558,0.76747,-0.272046,0.51999,0.542042,0.785189,-0.274225,0.513083,0.572799,0.800954,-0.275189,0.502936,0.603816,0.816962,-0.274946,0.490921,0.635461,0.83336,-0.272695,0.47684,0.6676,0.848143,-0.268223,0.459405,0.70051,0.861818,-0.262768,0.440319,0.732902,0.876828,-0.255872,0.420123,0.765084,0.889312,-0.247703,0.398379,0.796391,0.900412,-0.238381,0.374496,0.827333,0.912251,-0.227783,0.349874,0.858385,0.921792,-0.214832,0.323181,0.888652,0.931273,-0.200949,0.296624,0.917763,0.940295,-0.186537,0.269211,0.947878,0.946812,-0.171538,0.241447,0.977016,0.953588,-0.155254,0.213829,1.00501,0.958841,-0.137156,0.186807,1.03179,0.963746,-0.118699,0.160706,1.05502,0.966468,-0.0998358,0.135504,1.07568,0.971178,-0.0805186,0.109131,1.09479,0.97831,-0.0599348,0.0818293,1.1123,0.985886,-0.0399661,0.0545872,1.12771,0.994021,-0.0198682,0.0269405,1.14186,1.00009,0.000271022,-0.00012989,1.15514,0.538716,-0.00000990918,0.486732,0.0000109675,0.550656,-0.000250642,0.497518,0.000277412,0.55057,-0.00100265,0.497441,0.00110974,0.550903,-0.00225672,0.497733,0.00249779,0.550568,-0.00401046,0.497438,0.00443906,0.550574,-0.00626613,0.49744,0.00693637,0.550591,-0.0090226,0.497449,0.00998921,0.550623,-0.0122795,0.497469,0.0135984,0.550667,-0.0160361,0.497495,0.0177654,0.550724,-0.0202908,0.497526,0.0224915,0.550792,-0.0250421,0.497557,0.0277795,0.550918,-0.0302878,0.49763,0.0336334,0.551058,-0.0360241,0.497701,0.0400573,0.551276,-0.0422473,0.497824,0.0470585,0.551551,-0.0489441,0.497977,0.0546433,0.552074,-0.0559596,0.498312,0.0628367,0.552681,-0.0633978,0.498679,0.071646,0.553324,-0.0713176,0.499031,0.0810746,0.554011,-0.0797268,0.499365,0.091129,0.55488,-0.0885238,0.499779,0.101837,0.556171,-0.0974417,0.500444,0.113239,0.557498,-0.106841,0.501025,0.125316,0.559299,-0.116533,0.501864,0.138128,0.561647,-0.126298,0.502967,0.151695,0.564347,-0.136388,0.504129,0.16604,0.567863,-0.146576,0.505713,0.181207,0.572569,-0.156832,0.507953,0.197259,0.578919,-0.167323,0.511186,0.214258,0.585387,-0.177712,0.514042,0.232038,0.593134,-0.188184,0.517484,0.250733,0.603295,-0.198717,0.522345,0.270454,0.613854,-0.209177,0.526751,0.290807,0.626092,-0.219644,0.531595,0.312202,0.637868,-0.229494,0.534721,0.334435,0.652458,-0.238718,0.538304,0.359184,0.666985,-0.247061,0.539875,0.385637,0.683301,-0.254652,0.541042,0.41328,0.69998,-0.261376,0.540735,0.441903,0.717824,-0.267085,0.539139,0.471609,0.734617,-0.271465,0.534958,0.501446,0.753663,-0.27528,0.53032,0.532571,0.770512,-0.277617,0.522134,0.563641,0.787356,-0.278525,0.51206,0.595067,0.806252,-0.278512,0.50119,0.627226,0.822061,-0.277023,0.486791,0.659402,0.838959,-0.273175,0.470467,0.692874,0.85379,-0.267238,0.450688,0.725702,0.868268,-0.260327,0.429741,0.75832,0.881994,-0.251946,0.407223,0.790189,0.893885,-0.242432,0.383214,0.821625,0.905118,-0.231904,0.357297,0.853011,0.916045,-0.219545,0.330733,0.883773,0.927614,-0.205378,0.303916,0.914435,0.936005,-0.190388,0.275941,0.944502,0.944533,-0.1749,0.247493,0.974439,0.950758,-0.158588,0.218996,1.00286,0.957078,-0.141027,0.191559,1.0304,0.962448,-0.121507,0.164457,1.05466,0.964993,-0.102068,0.138636,1.0761,0.970017,-0.0822598,0.111861,1.09541,0.97661,-0.062033,0.0843438,1.11317,0.985073,-0.0409832,0.0558496,1.12911,0.993515,-0.020146,0.0275331,1.1438,1.00006,0.00027329,-0.000107883,1.15736,0.525324,-0.00000999341,0.498153,0.0000105385,0.526513,-0.000251605,0.499277,0.000265329,0.526517,-0.00100641,0.499282,0.0010613,0.526588,-0.00226466,0.499337,0.00238823,0.526539,-0.0040255,0.499302,0.00424535,0.526547,-0.00628954,0.499306,0.00663364,0.526561,-0.00905628,0.499313,0.00955337,0.526593,-0.0123253,0.499334,0.0130054,0.526642,-0.0160957,0.499365,0.0169911,0.5267,-0.0203661,0.499396,0.0215122,0.526792,-0.0251347,0.499451,0.0265718,0.526904,-0.0303985,0.499511,0.0321732,0.527079,-0.0361554,0.499617,0.0383231,0.527285,-0.0423982,0.499731,0.045026,0.527602,-0.0491121,0.499924,0.0522936,0.528166,-0.0561127,0.500306,0.0601528,0.52879,-0.0635988,0.5007,0.0686059,0.529421,-0.071581,0.501048,0.0776518,0.530144,-0.0799854,0.501421,0.0873148,0.531062,-0.0888032,0.501884,0.0976084,0.532374,-0.0977643,0.50259,0.108588,0.533828,-0.107197,0.50329,0.120234,0.53581,-0.116887,0.504312,0.132602,0.538063,-0.126755,0.505365,0.145721,0.5409,-0.136819,0.506668,0.159617,0.544882,-0.147117,0.508731,0.174369,0.550238,-0.157446,0.511601,0.190028,0.556038,-0.167988,0.514431,0.206587,0.563031,-0.178364,0.517808,0.224046,0.571543,-0.189007,0.521937,0.242503,0.582255,-0.199546,0.527415,0.261977,0.59272,-0.210084,0.531682,0.282162,0.605648,-0.220448,0.537123,0.303426,0.61785,-0.230593,0.540664,0.325323,0.632223,-0.240238,0.544467,0.348993,0.648819,-0.24887,0.547594,0.375462,0.665825,-0.256657,0.54912,0.403024,0.683389,-0.263711,0.549294,0.431773,0.701495,-0.269666,0.547649,0.461494,0.719197,-0.274169,0.543786,0.491623,0.737906,-0.278124,0.538644,0.522994,0.756652,-0.280632,0.531057,0.554775,0.775279,-0.281741,0.521972,0.586441,0.792688,-0.281652,0.509613,0.618596,0.811894,-0.280345,0.496497,0.651462,0.827938,-0.277128,0.47968,0.684023,0.844837,-0.271646,0.460688,0.718024,0.859239,-0.264397,0.438872,0.751207,0.874088,-0.256144,0.41577,0.784232,0.887693,-0.246311,0.391369,0.816191,0.899402,-0.235497,0.365872,0.847828,0.910973,-0.223631,0.338618,0.87934,0.92204,-0.209874,0.310803,0.910325,0.930987,-0.194265,0.281802,0.940695,0.94,-0.178125,0.252836,0.970958,0.948018,-0.161479,0.224239,1.00078,0.955141,-0.144038,0.195857,1.0288,0.960513,-0.124915,0.168487,1.05371,0.963964,-0.104284,0.141495,1.07596,0.968713,-0.0838732,0.114437,1.09628,0.975524,-0.0635579,0.0863105,1.11448,0.98431,-0.042291,0.0574774,1.13069,0.992916,-0.0209131,0.0284343,1.14568,0.999926,0.000743097,-0.000379265,1.15955,0.501042,-0.00000998428,0.498726,0.0000100306,0.502992,-0.000252112,0.500665,0.000253283,0.502417,-0.00100791,0.500092,0.00101259,0.502965,-0.00226919,0.500621,0.00227978,0.502318,-0.00403109,0.499994,0.00405011,0.502333,-0.00629832,0.500005,0.00632868,0.502362,-0.00906907,0.500027,0.00911446,0.502369,-0.0123423,0.500023,0.0124078,0.50243,-0.0161178,0.500066,0.016211,0.502493,-0.0203937,0.500103,0.0205256,0.502592,-0.0251684,0.500166,0.0253548,0.502707,-0.0304389,0.50023,0.0307029,0.502881,-0.0362015,0.500335,0.0365753,0.503124,-0.0424507,0.500488,0.0429798,0.503443,-0.0491582,0.500686,0.0499268,0.504083,-0.0561476,0.501155,0.0574541,0.504668,-0.0636846,0.501524,0.0655408,0.505319,-0.0716834,0.501904,0.0742072,0.50609,-0.0800925,0.502321,0.0834699,0.507122,-0.0888425,0.502896,0.0933603,0.508414,-0.097855,0.503603,0.10391,0.509955,-0.107304,0.504416,0.115113,0.512061,-0.116921,0.505565,0.127054,0.514419,-0.12689,0.506732,0.139709,0.517529,-0.136934,0.508338,0.153173,0.522085,-0.147327,0.510987,0.167528,0.526986,-0.157612,0.513527,0.182708,0.533122,-0.168213,0.516717,0.198881,0.540807,-0.178688,0.520832,0.215986,0.550687,-0.189511,0.52632,0.234335,0.560567,-0.199998,0.531009,0.253375,0.571698,-0.210652,0.535839,0.273499,0.584364,-0.220917,0.541091,0.294355,0.599066,-0.23137,0.546875,0.316525,0.614148,-0.241206,0.551306,0.339671,0.631157,-0.250379,0.555187,0.36531,0.647919,-0.258397,0.556595,0.392767,0.666112,-0.265528,0.556949,0.421397,0.686158,-0.271827,0.556617,0.451433,0.704838,-0.27674,0.552975,0.482131,0.723957,-0.280733,0.547814,0.513458,0.74262,-0.283359,0.53997,0.545446,0.762009,-0.284541,0.530422,0.57775,0.781314,-0.284507,0.518546,0.610434,0.799116,-0.283309,0.504178,0.643178,0.817604,-0.280378,0.48843,0.676248,0.83459,-0.275619,0.469457,0.709698,0.850974,-0.26856,0.447698,0.744245,0.866747,-0.260094,0.424791,0.777695,0.881412,-0.249929,0.399913,0.810392,0.8936,-0.239137,0.37308,0.842872,0.905943,-0.226818,0.345705,0.874677,0.916408,-0.213699,0.31706,0.906257,0.927215,-0.198428,0.288444,0.936881,0.935625,-0.181643,0.258329,0.96795,0.944076,-0.164386,0.228488,0.998216,0.951229,-0.146339,0.199763,1.02689,0.958793,-0.127709,0.172153,1.0535,0.963219,-0.107244,0.144989,1.07646,0.967562,-0.0857764,0.11685,1.09675,0.974866,-0.0645377,0.0880571,1.11576,0.983353,-0.0431732,0.0587352,1.13227,0.992503,-0.0218356,0.0294181,1.1478,1.00003,0.000605203,-0.000231013,1.16207,0.482935,-0.0000101177,0.504695,0.00000968142,0.477554,-0.000251521,0.499071,0.000240676,0.477904,-0.00100683,0.499436,0.00096342,0.478368,-0.00226636,0.499899,0.0021687,0.477977,-0.00402719,0.499513,0.00385384,0.477993,-0.00629226,0.499525,0.0060221,0.478011,-0.00906011,0.499536,0.00867289,0.478051,-0.0123305,0.499566,0.0118074,0.478089,-0.016102,0.499587,0.0154269,0.478171,-0.0203736,0.499645,0.0195341,0.478254,-0.025143,0.499692,0.0241318,0.47839,-0.0304071,0.499779,0.0292247,0.478588,-0.0361631,0.499911,0.0348196,0.478812,-0.0424023,0.500046,0.0409231,0.479208,-0.0490724,0.500326,0.047552,0.479841,-0.0560722,0.500805,0.0547377,0.480392,-0.0636125,0.501152,0.0624607,0.481068,-0.0716134,0.501561,0.0707473,0.481898,-0.0800062,0.502054,0.0796118,0.483022,-0.0886568,0.502728,0.0890974,0.484332,-0.0977553,0.503479,0.0992099,0.486126,-0.107173,0.504546,0.10999,0.488066,-0.11677,0.50557,0.121476,0.490521,-0.126725,0.506849,0.133672,0.494232,-0.136793,0.50911,0.146731,0.498302,-0.147116,0.511345,0.160577,0.503565,-0.157446,0.514344,0.175335,0.510902,-0.168121,0.518824,0.191207,0.519263,-0.178799,0.523666,0.208058,0.528204,-0.189407,0.528296,0.225875,0.538854,-0.200145,0.533724,0.244782,0.551278,-0.210701,0.539833,0.264753,0.565222,-0.221303,0.546131,0.285745,0.579403,-0.231688,0.551496,0.307592,0.595469,-0.241718,0.556809,0.330582,0.610929,-0.250992,0.559641,0.354995,0.629433,-0.259602,0.562379,0.382471,0.648504,-0.267038,0.563676,0.411126,0.66756,-0.273388,0.562092,0.440924,0.689143,-0.278788,0.560807,0.472118,0.709056,-0.282783,0.555701,0.503774,0.729855,-0.285836,0.548698,0.536364,0.748954,-0.287078,0.538544,0.56895,0.768373,-0.287133,0.526711,0.601991,0.78827,-0.285839,0.512511,0.635403,0.807465,-0.283238,0.496323,0.668797,0.825194,-0.27906,0.477638,0.702584,0.842203,-0.272286,0.456253,0.736393,0.857749,-0.263854,0.432412,0.77096,0.874799,-0.253943,0.407806,0.80489,0.887497,-0.24237,0.38033,0.83771,0.89966,-0.230278,0.352446,0.870376,0.911753,-0.21646,0.323268,0.902256,0.923011,-0.202071,0.294314,0.933306,0.932375,-0.185519,0.264104,0.965177,0.940537,-0.167604,0.234035,0.996303,0.948904,-0.149068,0.20412,1.0261,0.955263,-0.129539,0.175431,1.05304,0.960303,-0.109932,0.148116,1.07617,0.965512,-0.0880572,0.119693,1.09742,0.973466,-0.0660548,0.0901619,1.11721,0.98284,-0.0439228,0.0599875,1.13436,0.992216,-0.0219588,0.0298975,1.15006,0.999946,0.000119402,-0.0000208547,1.16471,0.447827,-0.0000100414,0.491543,0.00000914833,0.454778,-0.000251257,0.499172,0.00022891,0.453519,-0.00100342,0.497787,0.000914184,0.45357,-0.00225776,0.497847,0.00205701,0.453578,-0.00401371,0.497855,0.00365705,0.45357,-0.00627107,0.497841,0.00571453,0.453598,-0.00902968,0.497864,0.00823019,0.453627,-0.0122888,0.497882,0.0112049,0.453684,-0.0160475,0.497923,0.0146405,0.453764,-0.0203044,0.49798,0.0185394,0.453866,-0.0250576,0.498049,0.0229054,0.453996,-0.0303028,0.49813,0.0277424,0.454196,-0.0360379,0.498267,0.0330587,0.454457,-0.0422521,0.498445,0.0388613,0.454926,-0.0488393,0.498812,0.0451767,0.455525,-0.0558653,0.499272,0.0520153,0.456074,-0.0633772,0.499625,0.0593754,0.456752,-0.0713606,0.500049,0.0672751,0.457648,-0.07971,0.500615,0.0757447,0.458849,-0.0883032,0.501399,0.0848231,0.46029,-0.0974095,0.502293,0.0945135,0.462,-0.106729,0.503301,0.104848,0.464121,-0.116354,0.504533,0.115884,0.466889,-0.126214,0.506172,0.127652,0.470744,-0.136324,0.508667,0.14024,0.47488,-0.146595,0.510995,0.153673,0.480845,-0.157027,0.514832,0.168053,0.488262,-0.167658,0.519506,0.183508,0.496547,-0.178343,0.524347,0.199948,0.506254,-0.188916,0.52983,0.217503,0.517961,-0.199975,0.536357,0.236272,0.531484,-0.210624,0.543641,0.256096,0.545496,-0.221227,0.550048,0.277085,0.559497,-0.231568,0.555076,0.298615,0.575752,-0.241698,0.560541,0.321547,0.591999,-0.251172,0.564156,0.345602,0.610654,-0.260178,0.567607,0.371851,0.630484,-0.268094,0.56923,0.40076,0.651807,-0.274661,0.569779,0.430801,0.67239,-0.280331,0.566791,0.461939,0.693024,-0.284501,0.562007,0.493854,0.715473,-0.287852,0.555791,0.526992,0.736323,-0.28929,0.546345,0.560102,0.755771,-0.289405,0.534,0.593543,0.775424,-0.2881,0.519114,0.627256,0.795447,-0.285562,0.502543,0.661464,0.815319,-0.281416,0.484773,0.695206,0.831769,-0.275523,0.463445,0.729044,0.849464,-0.267516,0.440269,0.764069,0.866775,-0.257584,0.415049,0.799089,0.881252,-0.245817,0.388049,0.831948,0.894209,-0.233127,0.35889,0.865526,0.906922,-0.219579,0.329915,0.89818,0.919686,-0.204491,0.300441,0.930013,0.929044,-0.188962,0.269445,0.962061,0.938393,-0.171079,0.238402,0.994214,0.94661,-0.15199,0.208204,1.02533,0.953095,-0.131953,0.178653,1.0529,0.958644,-0.111233,0.150684,1.0771,0.963925,-0.0903098,0.122359,1.09855,0.971995,-0.0680505,0.0923342,1.11874,0.981658,-0.0448512,0.0614195,1.13635,0.991649,-0.0221931,0.0303582,1.15238,0.999985,0.000393403,-0.000111086,1.16772,0.396806,-0.00000971563,0.457671,0.00000842355,0.429186,-0.000249421,0.495017,0.00021625,0.429324,-0.000998052,0.495173,0.000865322,0.429175,-0.00224487,0.494999,0.00194637,0.429129,-0.00399041,0.494952,0.00346004,0.429153,-0.00623476,0.494974,0.00540684,0.429168,-0.0089773,0.494983,0.00778714,0.429207,-0.0122175,0.495012,0.0106022,0.429257,-0.0159542,0.495047,0.0138535,0.429338,-0.0201864,0.495106,0.0175443,0.429431,-0.0249104,0.495165,0.0216774,0.429587,-0.0301252,0.495279,0.0262594,0.429796,-0.0358249,0.495432,0.0312968,0.430065,-0.0419972,0.495621,0.0367985,0.430588,-0.0485144,0.496061,0.042798,0.43113,-0.0555028,0.496472,0.0492914,0.431743,-0.0629852,0.496904,0.0562907,0.432448,-0.0709256,0.497369,0.0638056,0.433414,-0.0791942,0.498032,0.071885,0.434638,-0.0877346,0.498854,0.0805517,0.43611,-0.0968056,0.499812,0.0898047,0.437859,-0.106002,0.500891,0.0997142,0.440017,-0.115648,0.502198,0.110289,0.443236,-0.125427,0.504389,0.121644,0.44697,-0.135492,0.506809,0.133769,0.451689,-0.145746,0.509858,0.146787,0.45811,-0.156219,0.514247,0.160793,0.465305,-0.166834,0.518816,0.175791,0.474085,-0.177546,0.524331,0.191906,0.484808,-0.188262,0.53104,0.209199,0.49732,-0.199346,0.538511,0.227825,0.509693,-0.209951,0.544554,0.247269,0.524367,-0.220533,0.551616,0.267978,0.539228,-0.231082,0.557368,0.289672,0.55644,-0.241342,0.563782,0.31268,0.574204,-0.250964,0.568851,0.33651,0.593388,-0.260306,0.57312,0.362219,0.613358,-0.268667,0.574916,0.390322,0.634512,-0.275591,0.575053,0.420478,0.65563,-0.281328,0.572404,0.451614,0.678265,-0.285948,0.568893,0.484112,0.70011,-0.289408,0.561878,0.517348,0.723005,-0.291328,0.55359,0.551355,0.743744,-0.291418,0.541099,0.585109,0.763949,-0.290252,0.526489,0.619487,0.784186,-0.287648,0.509496,0.65404,0.804304,-0.283782,0.491484,0.688649,0.823629,-0.278067,0.470517,0.723133,0.84094,-0.270588,0.44705,0.757163,0.857852,-0.261188,0.421252,0.792816,0.874934,-0.249313,0.394191,0.827248,0.888709,-0.236492,0.365359,0.861074,0.902589,-0.222185,0.336016,0.894417,0.914201,-0.207314,0.30527,0.926825,0.925978,-0.191146,0.274532,0.9595,0.93512,-0.174135,0.243393,0.991583,0.943656,-0.155231,0.212414,1.02356,0.951719,-0.134403,0.182005,1.05239,0.957164,-0.113023,0.153043,1.07754,0.962656,-0.0914493,0.124186,1.09984,0.970695,-0.0694179,0.0941654,1.12,0.980749,-0.0466199,0.0629671,1.13849,0.991205,-0.0227032,0.0311146,1.15494,0.999884,0.000632388,-0.000254483,1.1706,0.379821,-0.00000957289,0.460637,0.00000789337,0.405188,-0.000247483,0.491396,0.000204064,0.404796,-0.000989434,0.490914,0.000815853,0.40483,-0.00222607,0.490949,0.00183559,0.40473,-0.00395723,0.49084,0.00326332,0.404731,-0.00618287,0.490836,0.00509945,0.404768,-0.00890258,0.490871,0.00734463,0.404791,-0.0121156,0.490883,0.00999992,0.404857,-0.0158214,0.490938,0.0130676,0.404943,-0.0200178,0.491004,0.0165503,0.405059,-0.0247027,0.491093,0.0204521,0.405213,-0.0298729,0.491205,0.0247788,0.405399,-0.0355226,0.491333,0.0295373,0.405731,-0.0416352,0.491604,0.034741,0.406303,-0.0480807,0.492116,0.0404255,0.406814,-0.0550458,0.492506,0.0465732,0.407404,-0.0624652,0.492926,0.0532058,0.408149,-0.0702958,0.493442,0.0603442,0.409128,-0.0784623,0.494136,0.0680297,0.410408,-0.087007,0.495054,0.0762786,0.411813,-0.0959639,0.495962,0.0851046,0.413735,-0.105075,0.497257,0.0945878,0.416137,-0.114646,0.498882,0.104725,0.41934,-0.124394,0.501132,0.11563,0.423326,-0.134328,0.503883,0.127325,0.428419,-0.14458,0.50747,0.139911,0.43484,-0.154979,0.511964,0.153481,0.442641,-0.165628,0.517328,0.168114,0.452511,-0.176365,0.524258,0.183995,0.463473,-0.187298,0.531248,0.200953,0.475564,-0.198244,0.538367,0.219176,0.488664,-0.208938,0.545175,0.238514,0.504073,-0.219599,0.553227,0.259129,0.520832,-0.230378,0.560653,0.280997,0.538455,-0.240703,0.567523,0.303821,0.55709,-0.250548,0.573287,0.327948,0.576646,-0.259964,0.577795,0.353362,0.596705,-0.268721,0.580077,0.380336,0.618053,-0.276054,0.58018,0.4101,0.640303,-0.282176,0.578747,0.44161,0.662365,-0.286931,0.574294,0.474106,0.684542,-0.290521,0.567035,0.507549,0.707984,-0.292672,0.558687,0.541853,0.730913,-0.293189,0.547606,0.576581,0.752948,-0.292199,0.533471,0.61172,0.773452,-0.289508,0.516395,0.646339,0.794715,-0.285716,0.497873,0.682131,0.814251,-0.280051,0.476845,0.716396,0.833057,-0.272873,0.453449,0.751503,0.84959,-0.263982,0.427857,0.786085,0.867022,-0.252745,0.400335,0.821355,0.882277,-0.239655,0.371304,0.85646,0.895375,-0.225386,0.340397,0.890828,0.909347,-0.209587,0.310005,0.923532,0.921885,-0.193433,0.2796,0.956419,0.932127,-0.176135,0.247276,0.989445,0.941869,-0.157872,0.216186,1.02221,0.949735,-0.137577,0.185602,1.05195,0.956617,-0.115285,0.155767,1.07822,0.961974,-0.0928418,0.126103,1.10149,0.96972,-0.0700592,0.0956758,1.12207,0.98012,-0.0474671,0.0643269,1.1408,0.990825,-0.0238113,0.0320863,1.1577,0.999876,0.000381574,-0.0000812203,1.17403,0.367636,-0.00000961342,0.469176,0.00000753287,0.380377,-0.000244772,0.485434,0.000191797,0.380416,-0.000978857,0.485475,0.000767015,0.380376,-0.00220165,0.485435,0.00172522,0.380419,-0.00391408,0.485487,0.00306734,0.380438,-0.00611549,0.485505,0.00479332,0.380462,-0.00880558,0.485525,0.00690391,0.380496,-0.0119837,0.485551,0.00940039,0.38056,-0.0156487,0.485605,0.0122848,0.38064,-0.0197988,0.485666,0.0155601,0.380767,-0.0244324,0.48577,0.0192313,0.380909,-0.0295444,0.485871,0.0233032,0.381142,-0.0351321,0.48606,0.0277861,0.381472,-0.0411535,0.486336,0.0326939,0.382015,-0.0475408,0.486833,0.0380565,0.382523,-0.0544395,0.487231,0.0438615,0.383129,-0.061784,0.487683,0.0501332,0.383952,-0.0695085,0.488313,0.0568996,0.38498,-0.0775819,0.489077,0.0641952,0.386331,-0.0860443,0.490113,0.0720324,0.387788,-0.0948406,0.491099,0.0804379,0.389808,-0.103899,0.492566,0.0894899,0.39252,-0.113313,0.494601,0.0992098,0.395493,-0.123007,0.496619,0.109641,0.399826,-0.132859,0.499912,0.120919,0.405341,-0.143077,0.504061,0.133107,0.411932,-0.153465,0.508905,0.146263,0.420591,-0.164108,0.515482,0.160544,0.43101,-0.174893,0.523191,0.176123,0.441881,-0.185839,0.53026,0.192757,0.453919,-0.196633,0.537295,0.210535,0.468715,-0.207611,0.546156,0.229886,0.485182,-0.218517,0.555173,0.250543,0.501926,-0.229249,0.562728,0.27221,0.51785,-0.239481,0.567494,0.294892,0.536947,-0.249395,0.573889,0.318987,0.557115,-0.259,0.578831,0.344348,0.577966,-0.268075,0.582055,0.371223,0.599489,-0.276115,0.583307,0.399834,0.62479,-0.282523,0.583902,0.431415,0.647504,-0.287663,0.57953,0.464301,0.670601,-0.291538,0.573103,0.498123,0.693539,-0.293842,0.563731,0.532662,0.717385,-0.294681,0.553169,0.567925,0.741533,-0.293717,0.539908,0.603502,0.762142,-0.291156,0.521902,0.639074,0.783014,-0.28719,0.502815,0.674439,0.805158,-0.281773,0.482598,0.710497,0.823646,-0.274682,0.458949,0.7456,0.841879,-0.266184,0.433129,0.781085,0.859515,-0.255682,0.406064,0.816,0.875335,-0.242849,0.376509,0.851074,0.890147,-0.228329,0.345502,0.886473,0.903144,-0.212491,0.31428,0.920751,0.916618,-0.195695,0.282994,0.954606,0.927953,-0.178267,0.251091,0.988402,0.937414,-0.159549,0.219107,1.02141,0.946823,-0.140022,0.18896,1.05167,0.954651,-0.118154,0.158667,1.07819,0.959955,-0.0946636,0.128808,1.1025,0.96858,-0.0711792,0.0973787,1.12391,0.97938,-0.0475046,0.0650965,1.14322,0.990498,-0.024059,0.0326267,1.16077,0.999844,-0.0000512408,0.000112444,1.17727,0.316912,-0.00000934977,0.425996,0.00000695559,0.356423,-0.000241372,0.479108,0.000179562,0.356272,-0.000965292,0.478897,0.00071811,0.356262,-0.00217182,0.478894,0.00161574,0.356265,-0.00386092,0.478895,0.00287261,0.356278,-0.0060324,0.478905,0.00448907,0.356293,-0.00868565,0.478914,0.00646572,0.356346,-0.0118207,0.478965,0.00880438,0.356395,-0.0154355,0.479001,0.0115066,0.356484,-0.019529,0.479075,0.0145762,0.356609,-0.0240991,0.47918,0.018018,0.356766,-0.0291413,0.479305,0.0218379,0.357009,-0.0346498,0.479512,0.0260454,0.357424,-0.0405462,0.479909,0.0306657,0.357899,-0.0468825,0.480337,0.0357054,0.358424,-0.0536887,0.480771,0.0411728,0.359041,-0.0609416,0.481242,0.0470841,0.359903,-0.0685239,0.481943,0.0534831,0.360932,-0.0764883,0.482741,0.0603795,0.362196,-0.0848364,0.483688,0.0678028,0.363847,-0.0935002,0.484947,0.0758086,0.365972,-0.102471,0.486588,0.0844173,0.368741,-0.111751,0.488787,0.0937199,0.372146,-0.121334,0.491405,0.103732,0.377114,-0.131147,0.495604,0.114608,0.38226,-0.141213,0.499436,0.126345,0.389609,-0.151632,0.505334,0.139116,0.397925,-0.162073,0.51168,0.152995,0.407824,-0.172819,0.518876,0.168071,0.420014,-0.183929,0.527639,0.184495,0.434266,-0.195032,0.537588,0.20232,0.447352,-0.205792,0.544379,0.221189,0.463726,-0.216704,0.553422,0.241616,0.481406,-0.227531,0.562074,0.263298,0.498707,-0.238017,0.568227,0.286116,0.518039,-0.247936,0.574473,0.3101,0.538277,-0.257437,0.579191,0.335401,0.561166,-0.266829,0.584807,0.362246,0.583189,-0.275329,0.586476,0.390609,0.606024,-0.28234,0.585578,0.420998,0.632419,-0.287924,0.584496,0.454357,0.656128,-0.291972,0.577766,0.488233,0.679953,-0.29456,0.56875,0.523248,0.704654,-0.295816,0.558388,0.559168,0.729016,-0.295157,0.544826,0.595326,0.752062,-0.292779,0.528273,0.631864,0.773138,-0.288681,0.508482,0.667793,0.794869,-0.283358,0.487341,0.704035,0.815101,-0.27608,0.46354,0.739925,0.834212,-0.26767,0.438672,0.775539,0.852368,-0.257397,0.411239,0.810895,0.870207,-0.245689,0.3829,0.846472,0.884063,-0.231452,0.351496,0.881788,0.898284,-0.215561,0.31895,0.917438,0.912964,-0.198208,0.287367,0.952422,0.924666,-0.180426,0.254487,0.987551,0.934429,-0.161525,0.222226,1.02142,0.943485,-0.141197,0.191143,1.05218,0.9521,-0.120085,0.161112,1.07937,0.957876,-0.0975881,0.130982,1.10403,0.966943,-0.0726842,0.0990553,1.12616,0.978313,-0.0483705,0.0662818,1.14619,0.990048,-0.0239072,0.0329243,1.16413,0.999984,0.000461885,-0.0000772859,1.18099,0.321287,-0.00000935049,0.455413,0.00000659662,0.332595,-0.000237513,0.471437,0.000167562,0.332729,-0.000949964,0.471618,0.000670192,0.332305,-0.00213618,0.471028,0.00150712,0.332326,-0.00379765,0.471055,0.00267959,0.332344,-0.00593353,0.471072,0.00418751,0.332356,-0.00854349,0.471077,0.00603172,0.332403,-0.0116268,0.471121,0.00821362,0.332461,-0.0151824,0.47117,0.0107357,0.332552,-0.0192088,0.471251,0.0136014,0.332657,-0.0237024,0.47133,0.0168152,0.332835,-0.0286615,0.471487,0.0203853,0.333083,-0.0340765,0.471708,0.0243212,0.333547,-0.0398563,0.47219,0.0286518,0.333989,-0.0460916,0.472587,0.0333763,0.334532,-0.0527897,0.473054,0.0385084,0.335167,-0.0599284,0.473568,0.0440638,0.33608,-0.0673514,0.474362,0.0500962,0.337146,-0.0752237,0.475231,0.0566022,0.338462,-0.083418,0.476282,0.0636272,0.34014,-0.0919382,0.477615,0.0712153,0.342341,-0.100741,0.479404,0.079417,0.345088,-0.109905,0.481618,0.0882631,0.349049,-0.119369,0.485081,0.0978851,0.353939,-0.129033,0.489317,0.108336,0.359893,-0.139038,0.494309,0.119698,0.366945,-0.149411,0.499983,0.132024,0.375814,-0.159843,0.507185,0.145558,0.387112,-0.170664,0.516392,0.160433,0.40023,-0.181897,0.526519,0.176648,0.412555,-0.192785,0.53423,0.193922,0.427023,-0.203663,0.542741,0.212662,0.443685,-0.214695,0.552066,0.232944,0.461499,-0.225561,0.560762,0.254495,0.480975,-0.236257,0.569421,0.277531,0.501,-0.24639,0.576101,0.301724,0.521691,-0.256101,0.581493,0.327112,0.543478,-0.265289,0.585221,0.353917,0.566094,-0.273938,0.587614,0.381941,0.589578,-0.281679,0.587991,0.41172,0.614583,-0.287655,0.585928,0.444148,0.641813,-0.292228,0.582092,0.478617,0.666189,-0.295172,0.57398,0.51397,0.690475,-0.29648,0.561676,0.550118,0.715543,-0.296203,0.548758,0.586933,0.740405,-0.293999,0.532792,0.62384,0.762183,-0.28998,0.512735,0.660723,0.786069,-0.28478,0.492402,0.69807,0.806812,-0.277568,0.469058,0.734422,0.826987,-0.268951,0.443017,0.770946,0.844588,-0.259049,0.415501,0.80699,0.863725,-0.2471,0.387328,0.842107,0.879137,-0.234157,0.356108,0.878078,0.894634,-0.218719,0.324315,0.914058,0.909162,-0.201293,0.291813,0.949922,0.92072,-0.18267,0.258474,0.985337,0.93158,-0.163212,0.225593,1.0205,0.941238,-0.142771,0.193986,1.05273,0.949293,-0.120956,0.163392,1.08075,0.956226,-0.0985743,0.132934,1.10559,0.96546,-0.075118,0.101255,1.12823,0.977403,-0.0497921,0.0675441,1.149,0.989648,-0.0241574,0.0334681,1.16765,1.00001,0.0005762,-0.000184807,1.18519,0.303474,-0.00000916603,0.4542,0.0000061243,0.308894,-0.000232869,0.462306,0.000155592,0.309426,-0.000931661,0.463093,0.000622499,0.308643,-0.0020949,0.461933,0.00139979,0.308651,-0.0037242,0.461941,0.00248874,0.308662,-0.00581873,0.46195,0.00388933,0.308687,-0.00837818,0.461974,0.00560247,0.308728,-0.0114016,0.462011,0.00762948,0.308789,-0.0148884,0.462067,0.00997326,0.308882,-0.0188369,0.462151,0.0126375,0.309007,-0.0232436,0.462263,0.0156271,0.30918,-0.0281054,0.462417,0.0189498,0.309442,-0.0334065,0.462667,0.0226167,0.309901,-0.0390589,0.463162,0.0266614,0.310331,-0.0452042,0.463555,0.0310715,0.310858,-0.0517735,0.464019,0.0358698,0.311576,-0.0587359,0.464669,0.0410848,0.312436,-0.0660383,0.465406,0.0467453,0.313526,-0.0737266,0.466339,0.0528718,0.314903,-0.0817574,0.467504,0.0595039,0.316814,-0.090167,0.469226,0.0666888,0.318965,-0.0987555,0.470981,0.0744658,0.322077,-0.107792,0.473814,0.082912,0.325947,-0.117098,0.477241,0.0920846,0.331008,-0.126602,0.48184,0.102137,0.337893,-0.136619,0.488334,0.113135,0.345106,-0.146838,0.494415,0.12511,0.355111,-0.157357,0.503275,0.138356,0.365095,-0.167955,0.510966,0.152686,0.378344,-0.179157,0.521508,0.16856,0.391599,-0.190143,0.530455,0.18561,0.407786,-0.20123,0.541275,0.204308,0.425294,-0.212456,0.551784,0.224623,0.444021,-0.223568,0.561493,0.246172,0.463418,-0.234154,0.569886,0.268979,0.484077,-0.244546,0.577116,0.293411,0.505513,-0.254301,0.582914,0.318936,0.527672,-0.263564,0.587208,0.345856,0.550565,-0.272332,0.589277,0.374054,0.573656,-0.280011,0.588426,0.403276,0.59827,-0.286924,0.587504,0.43474,0.624731,-0.291994,0.583401,0.468767,0.652396,-0.295159,0.576997,0.504411,0.67732,-0.296954,0.565863,0.54114,0.703147,-0.296877,0.552316,0.57816,0.728715,-0.295147,0.536773,0.616124,0.752448,-0.291275,0.51771,0.653885,0.775169,-0.285905,0.496087,0.691537,0.799307,-0.279064,0.474232,0.729251,0.819482,-0.270294,0.447676,0.766267,0.837659,-0.260032,0.419656,0.802616,0.856903,-0.248497,0.391328,0.838583,0.873325,-0.235252,0.360285,0.874711,0.889788,-0.221126,0.329215,0.91077,0.904486,-0.204304,0.296392,0.94653,0.917711,-0.185562,0.262159,0.983828,0.928969,-0.165635,0.229142,1.01955,0.939707,-0.14442,0.19673,1.05317,0.948167,-0.122147,0.165095,1.0823,0.955222,-0.099098,0.13451,1.10791,0.964401,-0.0755332,0.102476,1.1312,0.976605,-0.0513817,0.0689667,1.15218,0.989085,-0.0258499,0.034506,1.17129,0.999908,0.000617773,-0.000271268,1.18961,0.285803,-0.00000905752,0.452348,0.00000572272,0.284689,-0.00022732,0.450581,0.000143626,0.285263,-0.000910214,0.451482,0.000575099,0.285302,-0.00204784,0.451553,0.00129395,0.285318,-0.00364057,0.451574,0.0023006,0.28533,-0.00568813,0.451585,0.00359547,0.285361,-0.00819001,0.451618,0.00517934,0.285397,-0.0111458,0.45165,0.007054,0.285447,-0.0145536,0.451688,0.00922167,0.285527,-0.0184127,0.451758,0.0116869,0.285688,-0.0227207,0.451929,0.0144555,0.28584,-0.0274712,0.452055,0.0175341,0.286136,-0.0326278,0.452369,0.0209406,0.286574,-0.0381792,0.452853,0.0246965,0.287012,-0.0441879,0.453272,0.0287996,0.287542,-0.0506096,0.453752,0.033268,0.288299,-0.0573634,0.454488,0.0381504,0.289186,-0.0645458,0.455294,0.0434447,0.290302,-0.0720405,0.456301,0.0491973,0.291776,-0.0799046,0.457648,0.0554453,0.29372,-0.088117,0.459483,0.0622311,0.296052,-0.0965328,0.461571,0.0695992,0.299563,-0.105409,0.465085,0.077658,0.30335,-0.114553,0.468506,0.0864176,0.309167,-0.123917,0.474423,0.0961078,0.31529,-0.13381,0.47995,0.106643,0.324163,-0.144021,0.488592,0.118322,0.333272,-0.154382,0.496461,0.131133,0.344224,-0.165015,0.50562,0.145208,0.357733,-0.176168,0.516719,0.16073,0.373046,-0.187468,0.528513,0.177807,0.38788,-0.198488,0.537713,0.196072,0.405133,-0.209545,0.547999,0.21605,0.423845,-0.220724,0.55759,0.237484,0.443777,-0.231518,0.566246,0.26039,0.464824,-0.242035,0.574326,0.284835,0.486635,-0.251898,0.58037,0.310518,0.51012,-0.261304,0.58568,0.337678,0.535301,-0.270384,0.590197,0.366242,0.559193,-0.27841,0.590569,0.395873,0.583544,-0.285325,0.588161,0.426857,0.608834,-0.291113,0.584249,0.459477,0.635753,-0.294882,0.57763,0.494734,0.664367,-0.297088,0.569479,0.532023,0.689688,-0.297364,0.555064,0.569629,0.715732,-0.295949,0.539522,0.608124,0.741307,-0.292259,0.521613,0.646231,0.764949,-0.287063,0.49969,0.684938,0.788599,-0.28012,0.476747,0.723548,0.81048,-0.27153,0.45116,0.761135,0.831372,-0.261289,0.424101,0.798916,0.850092,-0.249559,0.39443,0.835952,0.867777,-0.236348,0.363849,0.871606,0.884632,-0.221569,0.332477,0.907843,0.90047,-0.20618,0.300667,0.944187,0.914524,-0.188771,0.266552,0.981371,0.926892,-0.168362,0.232349,1.01841,0.937951,-0.146761,0.199359,1.05308,0.947236,-0.123813,0.1675,1.0839,0.954367,-0.099984,0.136166,1.11047,0.963907,-0.0759278,0.103808,1.13414,0.976218,-0.0511367,0.0697061,1.15575,0.988772,-0.0267415,0.0352529,1.17531,0.999888,-0.000520778,0.000289926,1.19389,0.263546,-0.00000883274,0.441896,0.00000526783,0.262352,-0.000221849,0.439889,0.000132311,0.262325,-0.000886683,0.439848,0.000528824,0.26228,-0.00199476,0.439765,0.00118975,0.262372,-0.00354671,0.439922,0.00211568,0.26239,-0.00554141,0.439941,0.00330652,0.262412,-0.00797888,0.439961,0.00476346,0.262453,-0.0108584,0.440002,0.00648818,0.262528,-0.0141788,0.440085,0.0084835,0.262615,-0.017938,0.440166,0.0107533,0.262744,-0.0221346,0.440291,0.0133044,0.262939,-0.026762,0.440493,0.0161445,0.263277,-0.0317573,0.440889,0.0192974,0.26368,-0.0371832,0.441338,0.0227699,0.264106,-0.0430371,0.441753,0.0265698,0.264624,-0.0493035,0.442227,0.0307178,0.265378,-0.0558669,0.442985,0.0352616,0.266253,-0.0628718,0.443795,0.0401968,0.267478,-0.0701569,0.445008,0.04559,0.269062,-0.077845,0.446599,0.0514539,0.270926,-0.0857941,0.448349,0.0578382,0.273693,-0.0940773,0.451221,0.0648363,0.276746,-0.102704,0.454097,0.0724389,0.281693,-0.111735,0.459517,0.0808744,0.287335,-0.121004,0.46531,0.0901551,0.29448,-0.130734,0.472605,0.100371,0.30257,-0.140777,0.480251,0.111644,0.312465,-0.15111,0.489444,0.124111,0.324856,-0.16189,0.500919,0.137979,0.33774,-0.172946,0.511317,0.153163,0.35255,-0.184152,0.522684,0.169817,0.367786,-0.19522,0.53248,0.187886,0.385474,-0.20632,0.543326,0.207634,0.404976,-0.217744,0.554109,0.229165,0.425203,-0.228691,0.563395,0.252068,0.446704,-0.239299,0.571565,0.276471,0.468951,-0.249348,0.577935,0.302323,0.493487,-0.258933,0.584309,0.329882,0.517861,-0.268009,0.58773,0.358525,0.543309,-0.276238,0.589612,0.388585,0.569704,-0.28356,0.589294,0.419787,0.594871,-0.289497,0.585137,0.452114,0.622555,-0.294452,0.580356,0.486466,0.651167,-0.296918,0.57185,0.523079,0.677332,-0.297647,0.558428,0.5611,0.703718,-0.296321,0.542232,0.599592,0.730262,-0.293339,0.524541,0.639138,0.754304,-0.288036,0.502691,0.677978,0.778051,-0.281018,0.479212,0.716537,0.801557,-0.272414,0.454071,0.75586,0.822559,-0.262419,0.425952,0.794477,0.843051,-0.250702,0.397313,0.832664,0.86232,-0.237264,0.366534,0.869876,0.879044,-0.222716,0.334816,0.906973,0.896362,-0.206827,0.303143,0.943558,0.910342,-0.189659,0.269699,0.979759,0.924119,-0.171108,0.236411,1.01718,0.935374,-0.149579,0.202224,1.05289,0.944295,-0.126295,0.16989,1.08496,0.952227,-0.101511,0.138089,1.11256,0.962041,-0.0766392,0.105053,1.1375,0.97528,-0.0511967,0.070329,1.15983,0.988476,-0.025463,0.0351268,1.17987,0.999962,0.0000286808,0.0000145564,1.19901,0.227089,-0.00000841413,0.404216,0.00000472707,0.239725,-0.000215083,0.426708,0.000120833,0.239904,-0.000860718,0.427028,0.000483555,0.239911,-0.00193661,0.427039,0.00108806,0.239914,-0.00344276,0.42704,0.00193457,0.239933,-0.00537907,0.427064,0.00302363,0.239944,-0.00774482,0.427065,0.00435604,0.239993,-0.01054,0.427122,0.00593398,0.240052,-0.0137626,0.427179,0.00775987,0.240148,-0.0174115,0.427279,0.00983854,0.240278,-0.021484,0.42741,0.0121763,0.240472,-0.0259729,0.427618,0.0147827,0.240839,-0.0308131,0.428086,0.0176837,0.241201,-0.0360893,0.428482,0.0208775,0.241626,-0.0417723,0.428907,0.0243821,0.242207,-0.0478337,0.42952,0.0282228,0.24298,-0.0542199,0.430332,0.0324333,0.243881,-0.0610015,0.431222,0.0370252,0.245123,-0.0680874,0.432512,0.0420535,0.24667,-0.0755482,0.434088,0.0475414,0.248779,-0.0832873,0.436323,0.0535542,0.251665,-0.0913546,0.439509,0.0601716,0.255305,-0.0998489,0.443478,0.0674282,0.260049,-0.108576,0.448713,0.0754673,0.266192,-0.117754,0.455524,0.084339,0.273158,-0.127294,0.4627,0.0941683,0.282131,-0.137311,0.472068,0.10515,0.293332,-0.147736,0.483565,0.117402,0.304667,-0.158357,0.493702,0.130824,0.317785,-0.169274,0.504708,0.145724,0.333245,-0.180595,0.517107,0.16215,0.349843,-0.191892,0.528849,0.180149,0.367944,-0.203168,0.540301,0.199746,0.387579,-0.214443,0.551514,0.221047,0.408247,-0.225624,0.560906,0.243981,0.43014,-0.236422,0.56959,0.268513,0.452669,-0.24654,0.576098,0.294409,0.476196,-0.256157,0.580925,0.322002,0.501157,-0.265289,0.584839,0.351052,0.527632,-0.273671,0.587614,0.3812,0.555754,-0.281254,0.589119,0.412994,0.581682,-0.287448,0.585204,0.445498,0.608196,-0.292614,0.579006,0.479505,0.635661,-0.296068,0.571297,0.514643,0.664999,-0.297395,0.560855,0.552213,0.691039,-0.296645,0.544525,0.591365,0.7179,-0.293785,0.526535,0.630883,0.744059,-0.289089,0.50545,0.670932,0.76863,-0.282239,0.482514,0.710904,0.793273,-0.273688,0.457246,0.750259,0.814731,-0.26328,0.428872,0.78948,0.835603,-0.251526,0.399384,0.828597,0.85489,-0.238339,0.368811,0.866892,0.872828,-0.223607,0.336617,0.90563,0.889462,-0.207538,0.303997,0.943538,0.904929,-0.190297,0.270812,0.980591,0.919101,-0.172034,0.237453,1.01935,0.930536,-0.152058,0.204431,1.05498,0.941223,-0.129515,0.172495,1.08717,0.94982,-0.104263,0.140175,1.11551,0.960592,-0.0781944,0.106465,1.14098,0.974629,-0.051688,0.0711592,1.16418,0.98811,-0.0253929,0.0354432,1.18465,1.00004,0.000804378,-0.000330876,1.20462,0.214668,-0.00000821282,0.406619,0.00000433582,0.218053,-0.000208144,0.413025,0.000109887,0.217987,-0.000832212,0.412901,0.000439362,0.217971,-0.00187246,0.412876,0.000988623,0.217968,-0.00332855,0.41286,0.00175772,0.217985,-0.00520055,0.412882,0.00274729,0.218014,-0.00748814,0.412916,0.00395842,0.218054,-0.0101901,0.412957,0.00539274,0.218106,-0.0133057,0.413005,0.00705348,0.218217,-0.0168342,0.413139,0.00894581,0.218338,-0.0207707,0.413258,0.0110754,0.21855,-0.0251001,0.413509,0.0134551,0.218913,-0.0297861,0.413992,0.0161081,0.219265,-0.0348956,0.414383,0.0190307,0.219696,-0.0403909,0.414839,0.0222458,0.220329,-0.0462003,0.415567,0.025792,0.220989,-0.0524208,0.41621,0.0296637,0.222027,-0.058948,0.417385,0.0339323,0.223301,-0.0658208,0.418779,0.0386055,0.224988,-0.0730347,0.420665,0.0437355,0.227211,-0.0805274,0.423198,0.0493844,0.230131,-0.088395,0.426566,0.0556135,0.233908,-0.0966208,0.43091,0.0624829,0.239092,-0.105223,0.437148,0.0701636,0.245315,-0.11424,0.444302,0.0786949,0.253166,-0.12368,0.453262,0.0882382,0.262374,-0.133569,0.463211,0.0988682,0.273145,-0.143836,0.474271,0.110727,0.285512,-0.154577,0.4863,0.123945,0.299512,-0.165501,0.498817,0.138581,0.314287,-0.176698,0.510341,0.154676,0.331083,-0.188066,0.522583,0.172459,0.349615,-0.199597,0.534879,0.191979,0.369318,-0.210843,0.546083,0.21309,0.390377,-0.222068,0.5562,0.235998,0.412411,-0.233059,0.564704,0.260518,0.435715,-0.24357,0.572314,0.286795,0.461196,-0.253356,0.579395,0.314559,0.485587,-0.262362,0.581985,0.343581,0.511908,-0.270895,0.584347,0.374367,0.539798,-0.278452,0.58505,0.406015,0.567974,-0.284877,0.583344,0.439168,0.594303,-0.290124,0.577348,0.473005,0.622951,-0.294183,0.570751,0.508534,0.652404,-0.296389,0.561541,0.544764,0.679291,-0.296605,0.546426,0.582927,0.706437,-0.294095,0.528599,0.622681,0.734485,-0.28978,0.508676,0.663567,0.758841,-0.283363,0.484768,0.704092,0.78537,-0.275015,0.460434,0.745101,0.807315,-0.264689,0.432166,0.784712,0.8271,-0.252597,0.401807,0.824241,0.849191,-0.239154,0.371458,0.863803,0.867046,-0.224451,0.338873,0.903063,0.8852,-0.208342,0.306175,0.942763,0.901771,-0.190684,0.272759,0.981559,0.915958,-0.172105,0.239306,1.02048,0.928046,-0.152214,0.206071,1.05765,0.939961,-0.130247,0.17367,1.08999,0.948711,-0.10672,0.142201,1.11829,0.959305,-0.0808688,0.108454,1.14467,0.973009,-0.0539145,0.0728109,1.16839,0.987631,-0.0262947,0.0360625,1.19004,0.999978,0.00132758,-0.000559424,1.21058,0.193925,-0.00000793421,0.391974,0.00000392537,0.196746,-0.000200315,0.397675,0.0000991033,0.19667,-0.000801099,0.397521,0.000396342,0.196633,-0.00180246,0.397445,0.000891829,0.196654,-0.00320443,0.397482,0.00158582,0.196659,-0.00500647,0.39748,0.00247867,0.196683,-0.0072086,0.397506,0.00357167,0.196728,-0.00981001,0.397562,0.00486675,0.196792,-0.0128096,0.397633,0.00636707,0.19689,-0.0162055,0.397746,0.00807752,0.197017,-0.0199943,0.397884,0.0100052,0.19729,-0.024139,0.39827,0.0121691,0.197583,-0.0286671,0.398639,0.0145755,0.197927,-0.0335858,0.399034,0.0172355,0.198383,-0.0388806,0.399554,0.0201718,0.199002,-0.0444736,0.400289,0.0234194,0.199739,-0.0504583,0.401111,0.026984,0.200784,-0.056729,0.402349,0.0309217,0.202075,-0.0633643,0.403841,0.0352496,0.203898,-0.0703247,0.406076,0.0400313,0.206199,-0.0775565,0.408841,0.0453282,0.209252,-0.085184,0.41259,0.0511794,0.213638,-0.0931994,0.418288,0.0577459,0.21881,-0.101617,0.424681,0.0650508,0.225642,-0.11052,0.433429,0.0732759,0.233717,-0.119772,0.442897,0.0824683,0.242823,-0.129505,0.452888,0.0927484,0.254772,-0.139906,0.466407,0.104417,0.266603,-0.150402,0.477413,0.117211,0.28073,-0.161395,0.490519,0.131598,0.295399,-0.172465,0.50201,0.147407,0.312705,-0.183982,0.515311,0.165031,0.331335,-0.195532,0.52786,0.184336,0.351037,-0.206971,0.5392,0.205361,0.372175,-0.218117,0.54941,0.228043,0.394548,-0.229327,0.558642,0.25267,0.419598,-0.240052,0.567861,0.279071,0.443922,-0.249937,0.573332,0.306882,0.471495,-0.259407,0.58013,0.33661,0.496769,-0.267749,0.580564,0.367328,0.524951,-0.275524,0.581696,0.399753,0.55318,-0.282148,0.579885,0.433134,0.581577,-0.287533,0.575471,0.467534,0.609231,-0.291612,0.567445,0.502943,0.637478,-0.293911,0.557657,0.53871,0.667795,-0.295096,0.546535,0.576568,0.694272,-0.294073,0.529561,0.614929,0.722937,-0.290386,0.510561,0.655909,0.749682,-0.284481,0.487846,0.697663,0.774754,-0.276188,0.462487,0.738515,0.799301,-0.266215,0.43481,0.779802,0.820762,-0.254116,0.404879,0.820045,0.843231,-0.240393,0.374559,0.860294,0.861857,-0.225503,0.341582,0.900965,0.880815,-0.209382,0.308778,0.941727,0.89766,-0.19155,0.275232,0.980916,0.912926,-0.172346,0.240938,1.02162,0.926391,-0.151799,0.207223,1.0597,0.938429,-0.129968,0.17484,1.09291,0.947834,-0.10651,0.142984,1.12248,0.958432,-0.0824098,0.109902,1.149,0.972402,-0.0565242,0.0744454,1.1733,0.987191,-0.028427,0.0373794,1.19538,0.999975,0.0000385685,-0.00004203,1.21676,0.178114,-0.00000766075,0.385418,0.00000354027,0.176074,-0.000191966,0.381002,0.0000887135,0.17601,-0.000767549,0.380861,0.000354715,0.17598,-0.00172696,0.380798,0.000798168,0.175994,-0.00307012,0.380824,0.00141928,0.176017,-0.00479684,0.380858,0.00221859,0.176019,-0.00690648,0.380839,0.00319714,0.176072,-0.00939888,0.380913,0.0043572,0.176131,-0.0122726,0.380979,0.005702,0.176239,-0.0155264,0.38112,0.00723689,0.176371,-0.0191551,0.381272,0.00896907,0.176638,-0.023117,0.381669,0.0109194,0.176912,-0.0274633,0.382015,0.0130903,0.177279,-0.032173,0.382476,0.0154949,0.17774,-0.0372219,0.383041,0.0181669,0.178344,-0.0426132,0.38378,0.0211209,0.179153,-0.0483309,0.384773,0.0243899,0.180197,-0.0543447,0.386076,0.0280062,0.181581,-0.0607122,0.387809,0.032004,0.18344,-0.0673855,0.390205,0.036453,0.186139,-0.0743989,0.393944,0.0414162,0.189432,-0.0817731,0.39832,0.0469394,0.193795,-0.0895464,0.404188,0.0531442,0.199641,-0.0978264,0.4121,0.0601374,0.206679,-0.106499,0.421425,0.0680078,0.214865,-0.115654,0.431504,0.076919,0.224406,-0.125268,0.442526,0.0868835,0.235876,-0.135475,0.455465,0.0981875,0.248335,-0.146023,0.4681,0.110759,0.262868,-0.157016,0.482069,0.124885,0.278962,-0.168245,0.496182,0.140645,0.295082,-0.17958,0.507401,0.157838,0.313738,-0.191227,0.520252,0.17695,0.333573,-0.202718,0.531708,0.197817,0.356433,-0.214424,0.544509,0.220785,0.378853,-0.225492,0.55373,0.245306,0.402717,-0.236236,0.561348,0.271593,0.428375,-0.246568,0.568538,0.299776,0.454724,-0.255941,0.573462,0.329433,0.482291,-0.264511,0.576356,0.360598,0.509706,-0.272129,0.576446,0.393204,0.538805,-0.278979,0.575298,0.427227,0.568919,-0.284528,0.572154,0.462157,0.596804,-0.288801,0.564691,0.497997,0.625987,-0.291334,0.555134,0.534467,0.656414,-0.292722,0.545051,0.571736,0.683916,-0.292185,0.528813,0.610158,0.711809,-0.290043,0.51106,0.649061,0.739547,-0.285246,0.490103,0.690081,0.766914,-0.277647,0.465523,0.732554,0.791375,-0.267603,0.437718,0.773982,0.814772,-0.256109,0.40882,0.81609,0.836691,-0.242281,0.377823,0.856849,0.856984,-0.227155,0.34496,0.898363,0.876332,-0.210395,0.311335,0.939471,0.894988,-0.192612,0.277703,0.980799,0.911113,-0.173236,0.243019,1.02215,0.924092,-0.152258,0.209037,1.06139,0.936828,-0.129575,0.175909,1.09635,0.946869,-0.10594,0.143852,1.12707,0.958284,-0.081318,0.110289,1.15419,0.972325,-0.0556133,0.0747232,1.17909,0.986878,-0.0297899,0.0383149,1.20163,0.999936,-0.00197169,0.000912402,1.22338,0.151174,-0.00000720365,0.351531,0.00000309789,0.155594,-0.00018279,0.361806,0.000078608,0.156099,-0.000731569,0.362982,0.000314615,0.156053,-0.00164578,0.362869,0.000707845,0.156093,-0.0029261,0.362961,0.00125884,0.156099,-0.00457155,0.362959,0.00196783,0.15612,-0.00658224,0.362982,0.00283622,0.156168,-0.00895774,0.363048,0.00386625,0.156221,-0.0116962,0.363101,0.00506109,0.156324,-0.0147973,0.363241,0.00642675,0.156476,-0.0182503,0.363448,0.00797175,0.156731,-0.0220266,0.36384,0.00971484,0.156994,-0.026176,0.364179,0.0116575,0.157341,-0.0306701,0.36462,0.0138207,0.157867,-0.0354591,0.365364,0.0162356,0.15846,-0.0406141,0.366111,0.0189092,0.159308,-0.0460519,0.367248,0.021885,0.160426,-0.0518096,0.368767,0.0252004,0.161877,-0.0578906,0.370745,0.0288825,0.163995,-0.0642812,0.373831,0.0330139,0.16655,-0.0710067,0.377366,0.0376283,0.170237,-0.0781522,0.382799,0.0428493,0.175096,-0.0857172,0.389915,0.0487324,0.181069,-0.0938025,0.398487,0.0554214,0.188487,-0.102363,0.408799,0.0630189,0.197029,-0.111343,0.419991,0.071634,0.206684,-0.120812,0.431455,0.0812797,0.218698,-0.131033,0.445746,0.0923651,0.230726,-0.141373,0.457471,0.104545,0.245516,-0.152387,0.472388,0.118449,0.261551,-0.163628,0.486671,0.133923,0.277437,-0.174814,0.49762,0.150849,0.296662,-0.186713,0.51162,0.169924,0.31795,-0.198513,0.525435,0.190848,0.339422,-0.210119,0.536267,0.213504,0.362143,-0.221354,0.545982,0.237947,0.387198,-0.23224,0.555364,0.264427,0.412349,-0.24257,0.561489,0.292519,0.439274,-0.252284,0.566903,0.322561,0.466779,-0.261023,0.569614,0.353952,0.496011,-0.26899,0.571589,0.387278,0.524964,-0.275498,0.570325,0.421356,0.556518,-0.281449,0.568792,0.457314,0.584363,-0.285526,0.560268,0.493199,0.614214,-0.28844,0.55205,0.530276,0.645684,-0.289777,0.541906,0.56855,0.673446,-0.289722,0.526464,0.606927,0.701924,-0.287792,0.509872,0.645945,0.73037,-0.284315,0.490649,0.685564,0.757405,-0.278804,0.467964,0.726511,0.784025,-0.269543,0.441468,0.768601,0.808255,-0.258117,0.41216,0.811321,0.830739,-0.244728,0.380606,0.853496,0.851914,-0.229428,0.348111,0.895374,0.872586,-0.212508,0.314732,0.937674,0.891581,-0.194025,0.280338,0.979869,0.907641,-0.174711,0.245203,1.02253,0.922233,-0.153509,0.21077,1.06371,0.935878,-0.130418,0.177399,1.09972,0.946338,-0.105558,0.144507,1.13124,0.957265,-0.080059,0.110508,1.15973,0.971668,-0.0539766,0.0742311,1.18515,0.9866,-0.0277101,0.0375224,1.20858,1.00021,-0.000515531,0.000135226,1.23135,0.137468,-0.00000686011,0.345041,0.00000273315,0.13703,-0.000173378,0.343936,0.0000690761,0.136986,-0.000693048,0.34383,0.000276126,0.136964,-0.00155931,0.343761,0.000621337,0.137003,-0.00277211,0.343863,0.00110494,0.137012,-0.00433103,0.343868,0.00172744,0.137043,-0.00623606,0.343916,0.00249022,0.13709,-0.0084868,0.343986,0.00339559,0.137145,-0.0110814,0.344045,0.00444687,0.137242,-0.0140187,0.344177,0.00565007,0.137431,-0.0172713,0.344491,0.00701868,0.137644,-0.0208605,0.344805,0.00856042,0.13791,-0.024792,0.345172,0.0102863,0.138295,-0.0290461,0.345734,0.0122185,0.138764,-0.0335957,0.346371,0.0143771,0.139415,-0.038467,0.347298,0.0167894,0.140272,-0.0436176,0.348527,0.0194895,0.141457,-0.0491016,0.350276,0.0225043,0.14303,-0.0548764,0.352646,0.0258962,0.145289,-0.0610096,0.356206,0.0297168,0.148502,-0.0674777,0.361488,0.0340562,0.152188,-0.074345,0.367103,0.0389534,0.157359,-0.0817442,0.375247,0.0445541,0.16379,-0.0896334,0.385064,0.0509535,0.171376,-0.098005,0.396082,0.0582611,0.179901,-0.106817,0.407418,0.06654,0.189892,-0.116239,0.420031,0.075994,0.201838,-0.12627,0.434321,0.0867239,0.214311,-0.136701,0.447631,0.0987517,0.228902,-0.147616,0.462046,0.112353,0.245107,-0.158871,0.476942,0.127605,0.262292,-0.170261,0.490285,0.144469,0.281215,-0.182017,0.503783,0.163282,0.301058,-0.193729,0.515505,0.183873,0.322752,-0.205512,0.52682,0.206466,0.347547,-0.217214,0.539473,0.231194,0.370969,-0.227966,0.546625,0.257288,0.397533,-0.238555,0.55472,0.285789,0.42398,-0.248278,0.559468,0.315746,0.452928,-0.257422,0.564095,0.347724,0.482121,-0.265306,0.565426,0.380922,0.510438,-0.272043,0.563205,0.415639,0.541188,-0.277614,0.561087,0.451702,0.571667,-0.281927,0.554922,0.48845,0.602432,-0.285015,0.546838,0.526442,0.634126,-0.286512,0.537415,0.564896,0.662816,-0.286388,0.522906,0.604037,0.692411,-0.284734,0.507003,0.643795,0.720946,-0.281297,0.488398,0.68298,0.748293,-0.276262,0.466353,0.723466,0.776931,-0.269978,0.443573,0.764565,0.801065,-0.260305,0.415279,0.805838,0.825843,-0.247426,0.384773,0.849985,0.84807,-0.232437,0.352555,0.893174,0.869122,-0.215806,0.318642,0.936564,0.888963,-0.197307,0.28381,0.980253,0.905547,-0.177203,0.247888,1.02463,0.918554,-0.155542,0.212904,1.06714,0.931395,-0.131948,0.1787,1.10451,0.941749,-0.106723,0.145902,1.13694,0.954551,-0.0804939,0.111193,1.1666,0.970279,-0.0534239,0.0744697,1.19249,0.986117,-0.0257452,0.0368788,1.21665,0.999938,0.00190634,-0.0010291,1.23981,0.118493,-0.00000647439,0.32272,0.0000023772,0.118765,-0.000163023,0.323456,0.0000598573,0.118772,-0.00065212,0.323477,0.000239447,0.118843,-0.00146741,0.323657,0.000538881,0.118804,-0.00260846,0.323553,0.00095826,0.118826,-0.00407576,0.323595,0.00149845,0.118846,-0.00586826,0.323617,0.00216047,0.118886,-0.00798578,0.32367,0.00294679,0.118947,-0.0104273,0.323753,0.00386124,0.119055,-0.0131909,0.323922,0.00490999,0.119241,-0.0162444,0.324251,0.00610804,0.11944,-0.0196339,0.324544,0.00745805,0.119739,-0.0233378,0.325026,0.00897805,0.12011,-0.0273179,0.325586,0.0106895,0.120571,-0.0316143,0.326231,0.0126073,0.12124,-0.0361939,0.327264,0.0147654,0.122162,-0.0410511,0.328733,0.0172001,0.123378,-0.0462233,0.330659,0.0199375,0.125183,-0.0517109,0.333754,0.0230498,0.127832,-0.0575652,0.338507,0.026597,0.130909,-0.0637441,0.343666,0.0306345,0.135221,-0.0704302,0.351063,0.035273,0.14082,-0.0776364,0.360604,0.0406137,0.146781,-0.0852293,0.369638,0.0466788,0.155121,-0.0935351,0.3827,0.0537628,0.16398,-0.102234,0.39522,0.0617985,0.173926,-0.111465,0.40793,0.07097,0.185137,-0.121296,0.42105,0.0813426,0.19826,-0.13169,0.435735,0.0931596,0.212938,-0.142614,0.450932,0.106547,0.229046,-0.153884,0.465726,0.121575,0.246246,-0.165382,0.479461,0.138286,0.264637,-0.176806,0.492106,0.15666,0.284959,-0.188793,0.504774,0.17728,0.308157,-0.200763,0.518805,0.19988,0.330951,-0.21239,0.528231,0.224293,0.3549,-0.223521,0.536376,0.250541,0.381502,-0.234169,0.544846,0.278902,0.409529,-0.244077,0.551717,0.309227,0.437523,-0.253363,0.55517,0.341426,0.467624,-0.261659,0.557772,0.37518,0.497268,-0.268498,0.556442,0.41007,0.528294,-0.274018,0.553915,0.446445,0.559053,-0.278169,0.549153,0.483779,0.589329,-0.281229,0.539878,0.522249,0.622503,-0.282902,0.53162,0.561754,0.652382,-0.282815,0.518119,0.601544,0.681847,-0.281247,0.502187,0.641574,0.712285,-0.277986,0.484824,0.682633,0.740094,-0.273017,0.463483,0.723426,0.768478,-0.266692,0.441299,0.763747,0.794556,-0.258358,0.415238,0.805565,0.819408,-0.248807,0.386912,0.847254,0.843411,-0.236214,0.356165,0.891091,0.862397,-0.219794,0.320562,0.936174,0.883113,-0.201768,0.285322,0.982562,0.90023,-0.181672,0.249713,1.02862,0.915192,-0.159279,0.214546,1.07163,0.928458,-0.134725,0.180285,1.10995,0.94069,-0.10913,0.147119,1.14354,0.953409,-0.0821315,0.112492,1.17372,0.969537,-0.0542677,0.0752014,1.20043,0.985612,-0.0259096,0.0370361,1.22528,0.999835,0.00298198,-0.00151801,1.24959,0.10097,-0.00000602574,0.300277,0.00000202619,0.101577,-0.000152164,0.302077,0.0000511662,0.101572,-0.000608889,0.302066,0.000204751,0.101566,-0.00136997,0.302047,0.000460753,0.101592,-0.00243557,0.302114,0.000819497,0.101608,-0.0038053,0.30214,0.00128154,0.101627,-0.00547906,0.30216,0.0018483,0.101669,-0.00745647,0.302224,0.00252223,0.101732,-0.00973615,0.302318,0.00330716,0.101844,-0.0123097,0.302513,0.00421061,0.102025,-0.0151681,0.30285,0.00524481,0.102224,-0.0183334,0.303166,0.0064154,0.102515,-0.0217819,0.303654,0.00774063,0.102886,-0.0255067,0.304243,0.0092398,0.103395,-0.029514,0.305089,0.0109339,0.104109,-0.0337912,0.306301,0.0128561,0.105074,-0.0383565,0.30798,0.0150338,0.10654,-0.0432132,0.310726,0.0175228,0.108478,-0.0484244,0.314351,0.0203648,0.111015,-0.0539339,0.319032,0.0236325,0.114682,-0.0598885,0.32605,0.0274188,0.11911,-0.0663375,0.334109,0.0317905,0.124736,-0.0733011,0.344013,0.0368502,0.131479,-0.0807744,0.355358,0.0427104,0.139283,-0.0888204,0.367614,0.0494788,0.148054,-0.0973394,0.380072,0.0572367,0.159037,-0.10665,0.395678,0.0662704,0.169794,-0.116221,0.40795,0.0763192,0.18314,-0.126632,0.423546,0.087956,0.197515,-0.137383,0.438213,0.101042,0.213514,-0.148641,0.453248,0.115827,0.23065,-0.160117,0.46688,0.132283,0.249148,-0.171807,0.479962,0.150644,0.270219,-0.183695,0.494618,0.171073,0.292338,-0.195574,0.506937,0.193378,0.314999,-0.207205,0.516463,0.217585,0.340991,-0.218955,0.528123,0.24428,0.367982,-0.229917,0.537025,0.272784,0.39432,-0.239737,0.541627,0.302742,0.423364,-0.249048,0.546466,0.335112,0.453751,-0.257329,0.549466,0.369032,0.48416,-0.264623,0.549503,0.404577,0.515262,-0.270411,0.547008,0.441337,0.547036,-0.274581,0.542249,0.479162,0.576614,-0.277266,0.533015,0.517904,0.611143,-0.279144,0.525512,0.558508,0.640989,-0.279001,0.51154,0.598995,0.671182,-0.277324,0.495641,0.639935,0.700848,-0.273908,0.477526,0.681017,0.729862,-0.269063,0.457955,0.722764,0.758273,-0.262282,0.434846,0.764349,0.784121,-0.254281,0.409203,0.806206,0.809798,-0.24505,0.382694,0.848617,0.834953,-0.233861,0.354034,0.892445,0.856817,-0.221308,0.321764,0.936263,0.877609,-0.205996,0.288118,0.982401,0.897489,-0.186702,0.253277,1.02975,0.913792,-0.164618,0.217963,1.07488,0.92785,-0.140023,0.183221,1.11487,0.940378,-0.11328,0.149385,1.14947,0.95273,-0.0853958,0.114152,1.1807,0.969059,-0.0568698,0.0769845,1.20912,0.985574,-0.0276502,0.0381186,1.23498,0.999943,0.00239052,-0.00126861,1.25987,0.0852715,-0.00000560067,0.279021,0.00000171162,0.0854143,-0.000140871,0.279483,0.0000430516,0.0854191,-0.000563385,0.2795,0.000172184,0.0854188,-0.00126753,0.279493,0.000387464,0.0854229,-0.00225337,0.279501,0.00068918,0.0854443,-0.00352086,0.279549,0.00107803,0.0854697,-0.00506962,0.279591,0.00155536,0.0855093,-0.00689873,0.279652,0.00212354,0.0855724,-0.00900821,0.279752,0.00278703,0.0856991,-0.0113799,0.280011,0.0035551,0.085855,-0.0140314,0.280297,0.00443449,0.0860682,-0.016963,0.280682,0.00543636,0.086344,-0.0201438,0.281159,0.0065788,0.0867426,-0.0235999,0.281886,0.00787977,0.087239,-0.0273069,0.282745,0.0093606,0.0879815,-0.031269,0.284139,0.011056,0.0891258,-0.035531,0.28647,0.0130065,0.0906909,-0.0400947,0.289708,0.0152495,0.0927624,-0.0449638,0.293904,0.0178454,0.0958376,-0.0502427,0.300471,0.0208915,0.0995827,-0.0559514,0.30806,0.0244247,0.104526,-0.0622152,0.317874,0.0285721,0.110532,-0.0690046,0.329332,0.0334227,0.117385,-0.0763068,0.341217,0.0390466,0.12522,-0.084184,0.353968,0.0455786,0.134037,-0.0925248,0.366797,0.0530773,0.144014,-0.101487,0.380209,0.0617424,0.156013,-0.111273,0.395956,0.071777,0.168872,-0.121431,0.41053,0.0830905,0.183089,-0.132105,0.425073,0.0959341,0.198763,-0.143286,0.439833,0.110448,0.216159,-0.154841,0.454507,0.126769,0.234859,-0.166588,0.468368,0.14495,0.255879,-0.178626,0.482846,0.165233,0.27677,-0.190218,0.493489,0.187217,0.301184,-0.202227,0.506549,0.211659,0.325852,-0.213764,0.5158,0.237922,0.352824,-0.22487,0.525442,0.26632,0.380882,-0.235246,0.532487,0.296691,0.410137,-0.244847,0.537703,0.329179,0.439787,-0.253122,0.540361,0.363135,0.472291,-0.260517,0.542734,0.399222,0.501856,-0.266519,0.538826,0.436352,0.534816,-0.270905,0.535152,0.474505,0.565069,-0.273826,0.525979,0.513988,0.597154,-0.275333,0.516394,0.554852,0.630473,-0.275314,0.506206,0.596592,0.660574,-0.273323,0.489769,0.638117,0.692015,-0.270008,0.472578,0.680457,0.720647,-0.265001,0.452134,0.723008,0.750528,-0.258311,0.430344,0.765954,0.777568,-0.250046,0.405624,0.809012,0.80387,-0.240114,0.378339,0.852425,0.828439,-0.228737,0.349877,0.895346,0.851472,-0.216632,0.318968,0.940695,0.873906,-0.202782,0.287489,0.987235,0.89467,-0.187059,0.254394,1.03348,0.912281,-0.168818,0.221294,1.07812,0.927358,-0.146494,0.18675,1.11928,0.940385,-0.120009,0.152322,1.15609,0.952672,-0.0917183,0.117514,1.18875,0.968496,-0.0620321,0.0797405,1.21821,0.985236,-0.0314945,0.0402383,1.24523,0.99998,-0.000575153,0.000110644,1.27133,0.0702429,-0.00000512222,0.255273,0.00000140947,0.0702981,-0.000128826,0.255469,0.0000354488,0.0703691,-0.000515562,0.255727,0.000141874,0.0703805,-0.00116,0.255754,0.00031929,0.0703961,-0.00206224,0.255813,0.000567999,0.0704102,-0.00322223,0.255839,0.00088871,0.0704298,-0.00463928,0.255863,0.00128272,0.0704759,-0.00631375,0.255953,0.00175283,0.0705434,-0.00824317,0.256079,0.00230342,0.0706693,-0.010412,0.25636,0.0029443,0.0708189,-0.0128439,0.256647,0.00368031,0.0710364,-0.0155177,0.257084,0.00452614,0.0713223,-0.0184374,0.257637,0.00549706,0.0717182,-0.0216002,0.258416,0.00661246,0.072321,-0.0249966,0.259699,0.00790147,0.0731446,-0.0286566,0.261475,0.0093884,0.0743352,-0.0325888,0.264132,0.0111186,0.0760676,-0.036843,0.26815,0.013145,0.078454,-0.0414292,0.273636,0.0155251,0.0818618,-0.0464634,0.281653,0.0183525,0.0857382,-0.0519478,0.289992,0.0216642,0.0908131,-0.0579836,0.30066,0.0255956,0.0967512,-0.0645124,0.312204,0.0301954,0.103717,-0.0716505,0.325001,0.0356017,0.111596,-0.0793232,0.338129,0.041896,0.120933,-0.087645,0.352853,0.0492447,0.130787,-0.096492,0.366192,0.0576749,0.142311,-0.105973,0.380864,0.0673969,0.155344,-0.116182,0.396575,0.0785899,0.169535,-0.126815,0.411443,0.0912377,0.185173,-0.138015,0.426256,0.105607,0.201755,-0.149325,0.439607,0.121551,0.221334,-0.161207,0.455467,0.139608,0.241461,-0.173162,0.469096,0.159591,0.26294,-0.18504,0.481014,0.18156,0.286776,-0.196881,0.493291,0.205781,0.311596,-0.208311,0.503556,0.231819,0.338667,-0.219671,0.513268,0.260274,0.366021,-0.230451,0.519414,0.290862,0.395875,-0.240131,0.526766,0.323196,0.425564,-0.248566,0.52905,0.357071,0.457094,-0.256195,0.530796,0.393262,0.488286,-0.262331,0.528703,0.430797,0.522291,-0.267141,0.52727,0.470231,0.554172,-0.270411,0.519848,0.510477,0.586427,-0.271986,0.510307,0.551594,0.619638,-0.27192,0.499158,0.593849,0.650656,-0.269817,0.483852,0.636314,0.68284,-0.266267,0.467515,0.679679,0.714356,-0.26113,0.44931,0.723884,0.742717,-0.254067,0.425789,0.767245,0.770894,-0.245652,0.401144,0.811819,0.797358,-0.235554,0.374224,0.856315,0.823377,-0.223896,0.346167,0.901077,0.847456,-0.210865,0.316056,0.946502,0.870697,-0.196574,0.284503,0.993711,0.891068,-0.180814,0.251628,1.04134,0.909267,-0.163314,0.219065,1.08609,0.925653,-0.143304,0.186446,1.12702,0.940017,-0.121322,0.153416,1.16371,0.952398,-0.0973872,0.120334,1.19712,0.967568,-0.0698785,0.08352,1.22791,0.984772,-0.0390031,0.0439209,1.25672,1.00026,-0.0070087,0.00315668,1.28428,0.0556653,-0.00000459654,0.227325,0.00000112556,0.0565238,-0.000116382,0.230826,0.0000284985,0.0565717,-0.000465666,0.231026,0.000114036,0.0565859,-0.00104773,0.231079,0.000256656,0.0565761,-0.00186255,0.231025,0.00045663,0.0565913,-0.00291002,0.231058,0.000714664,0.0566108,-0.00418998,0.231085,0.00103224,0.0566532,-0.00570206,0.231169,0.00141202,0.0567473,-0.00743666,0.231417,0.00186018,0.0568567,-0.00940298,0.231661,0.00238264,0.0569859,-0.0115991,0.231895,0.00298699,0.0572221,-0.0140096,0.232456,0.00368957,0.057519,-0.0166508,0.233096,0.00450303,0.0579534,-0.01951,0.234094,0.00544945,0.0585922,-0.0225991,0.235629,0.00655564,0.0595647,-0.0259416,0.238106,0.00785724,0.0609109,-0.0295661,0.241557,0.00939127,0.0628751,-0.0335126,0.246652,0.0112198,0.0656908,-0.0378604,0.254091,0.0134168,0.0691347,-0.0426543,0.262666,0.0160374,0.0732165,-0.0478967,0.272029,0.0191514,0.0782863,-0.0536716,0.283007,0.0228597,0.0843973,-0.0600683,0.295732,0.0272829,0.0913598,-0.0670095,0.308779,0.032484,0.0994407,-0.0745516,0.322886,0.0385886,0.108189,-0.082712,0.336408,0.0457133,0.118574,-0.0914927,0.351692,0.0539832,0.129989,-0.100854,0.366502,0.0635162,0.142722,-0.110837,0.381675,0.0744386,0.156654,-0.121353,0.3963,0.0868483,0.172151,-0.132414,0.411477,0.100963,0.188712,-0.143809,0.42508,0.116795,0.208093,-0.155765,0.441328,0.134715,0.227936,-0.167608,0.454328,0.154396,0.249495,-0.179579,0.467235,0.176179,0.27362,-0.191488,0.480248,0.200193,0.296371,-0.202618,0.487886,0.225775,0.324234,-0.214133,0.499632,0.25441,0.353049,-0.225212,0.509532,0.285077,0.381785,-0.234875,0.514265,0.317047,0.414038,-0.244205,0.521282,0.351874,0.445251,-0.252145,0.522931,0.388279,0.476819,-0.258433,0.520947,0.425825,0.509209,-0.263411,0.517669,0.465104,0.542759,-0.266732,0.512841,0.505741,0.574822,-0.268263,0.503317,0.547611,0.609324,-0.268489,0.493035,0.590953,0.641772,-0.266941,0.478816,0.63488,0.674049,-0.263297,0.462863,0.679072,0.705071,-0.257618,0.442931,0.723487,0.734709,-0.250625,0.421299,0.768708,0.763704,-0.24179,0.397085,0.814375,0.791818,-0.231115,0.370577,0.859907,0.817439,-0.21922,0.34232,0.906715,0.843202,-0.205658,0.312627,0.953943,0.866639,-0.190563,0.280933,1.00185,0.888129,-0.173978,0.248393,1.05105,0.907239,-0.155485,0.216007,1.09704,0.923893,-0.134782,0.183233,1.13857,0.938882,-0.11249,0.150376,1.17539,0.952464,-0.0890706,0.117177,1.20924,0.968529,-0.0646523,0.0813095,1.24055,0.984763,-0.038606,0.0439378,1.27018,1.00053,-0.01238,0.00598668,1.29873,0.0437928,-0.00000409594,0.204012,0.000000879224,0.0440166,-0.000103395,0.205049,0.0000221946,0.0440529,-0.000413633,0.205225,0.0000887981,0.0440493,-0.000930594,0.2052,0.000199858,0.0439884,-0.00165352,0.204901,0.000355495,0.0440716,-0.0025849,0.205255,0.000556983,0.0440968,-0.00372222,0.205311,0.000805326,0.0441359,-0.00506478,0.205391,0.00110333,0.0442231,-0.00660384,0.205638,0.00145768,0.0443254,-0.00835246,0.205877,0.00187275,0.0444832,-0.0102992,0.20627,0.00235938,0.0447001,-0.0124449,0.206796,0.0029299,0.0450168,-0.0147935,0.207593,0.0036005,0.0454816,-0.017336,0.208819,0.00439246,0.0462446,-0.0201156,0.211036,0.00533864,0.0473694,-0.0231568,0.214388,0.00646984,0.0490191,-0.0264941,0.219357,0.00783856,0.0512776,-0.030184,0.226061,0.00950182,0.0541279,-0.0342661,0.234094,0.0115156,0.0578989,-0.0388539,0.244297,0.0139687,0.0620835,-0.0438735,0.254457,0.0169015,0.0673497,-0.04951,0.266706,0.0204554,0.0731759,-0.0556263,0.278753,0.0246606,0.0803937,-0.0624585,0.29309,0.0297126,0.0879287,-0.0697556,0.305856,0.0355868,0.0970669,-0.0778795,0.321059,0.0425768,0.106508,-0.0863541,0.333873,0.05056,0.11776,-0.0955935,0.349008,0.0598972,0.130081,-0.105438,0.363776,0.0706314,0.144454,-0.115899,0.380112,0.0828822,0.1596,-0.126827,0.394843,0.0967611,0.176097,-0.138161,0.409033,0.112381,0.194726,-0.149904,0.424257,0.129952,0.213944,-0.161675,0.436945,0.149333,0.235516,-0.173659,0.450176,0.170892,0.260564,-0.185963,0.466305,0.194984,0.285183,-0.197582,0.477328,0.220805,0.311095,-0.208697,0.486566,0.248694,0.338924,-0.219519,0.494811,0.279015,0.369757,-0.229766,0.504065,0.311725,0.3996,-0.238879,0.507909,0.345844,0.430484,-0.246802,0.509805,0.381749,0.46413,-0.253924,0.511436,0.420251,0.497077,-0.259319,0.508787,0.459957,0.530434,-0.263297,0.50394,0.501356,0.565725,-0.265619,0.49804,0.544252,0.599254,-0.265842,0.487346,0.587856,0.631251,-0.263978,0.472975,0.631969,0.663972,-0.26043,0.457135,0.677471,0.697724,-0.255358,0.439844,0.723744,0.727725,-0.248308,0.417872,0.770653,0.756417,-0.239181,0.39273,0.817357,0.785419,-0.22814,0.367839,0.864221,0.81266,-0.215681,0.339449,0.912701,0.839391,-0.201623,0.309279,0.962419,0.86366,-0.185624,0.278029,1.0122,0.885028,-0.16797,0.245294,1.06186,0.904639,-0.148336,0.212689,1.10934,0.922048,-0.12637,0.179616,1.15063,0.936952,-0.102928,0.146749,1.18885,0.951895,-0.0785268,0.112733,1.22352,0.967198,-0.0530153,0.0760056,1.25681,0.984405,-0.02649,0.0383183,1.28762,1.00021,0.00070019,-0.00020039,1.31656,0.0325964,-0.00000355447,0.176706,0.000000655682,0.0329333,-0.0000899174,0.178527,0.0000165869,0.0329181,-0.000359637,0.178453,0.0000663498,0.0329085,-0.000808991,0.178383,0.000149332,0.0329181,-0.00143826,0.178394,0.000265873,0.0329425,-0.00224678,0.178517,0.000416597,0.0329511,-0.00323575,0.17849,0.000603299,0.033011,-0.00439875,0.178695,0.000829422,0.0330733,-0.00574059,0.178843,0.00109908,0.0331857,-0.00725896,0.179176,0.00141933,0.0333445,-0.00895289,0.179618,0.0017999,0.0335674,-0.0108219,0.180238,0.00225316,0.033939,-0.0128687,0.181417,0.00279765,0.0345239,-0.015114,0.183395,0.0034564,0.0354458,-0.017596,0.186616,0.00425864,0.0368313,-0.0203524,0.191547,0.00524936,0.0386115,-0.0234105,0.197508,0.00647033,0.0410303,-0.0268509,0.205395,0.00798121,0.0442245,-0.0307481,0.215365,0.0098557,0.0478659,-0.0350863,0.225595,0.0121417,0.0522416,-0.0399506,0.236946,0.0149385,0.0574513,-0.045357,0.249442,0.0183189,0.0631208,-0.0512863,0.261222,0.0223644,0.0701124,-0.0579273,0.275418,0.0272418,0.0777331,-0.0650652,0.288989,0.0329458,0.0862709,-0.0728813,0.302546,0.0396819,0.096103,-0.081363,0.317164,0.04757,0.106976,-0.0904463,0.331733,0.0567012,0.119175,-0.100105,0.34661,0.067202,0.132919,-0.110375,0.362249,0.0792588,0.147727,-0.121115,0.376978,0.0928672,0.163618,-0.132299,0.390681,0.108228,0.182234,-0.143887,0.406571,0.125502,0.201809,-0.155827,0.42042,0.144836,0.225041,-0.168357,0.438411,0.166706,0.247621,-0.18004,0.450368,0.189909,0.27097,-0.191536,0.460083,0.215251,0.296658,-0.203024,0.469765,0.243164,0.325892,-0.214056,0.481837,0.273388,0.35406,-0.224104,0.487474,0.305344,0.384372,-0.233489,0.492773,0.339741,0.41749,-0.241874,0.498451,0.376287,0.45013,-0.248834,0.499632,0.414195,0.481285,-0.254658,0.495233,0.454077,0.519183,-0.259367,0.496401,0.496352,0.551544,-0.261818,0.487686,0.538798,0.587349,-0.262964,0.479453,0.583626,0.621679,-0.262128,0.467709,0.629451,0.654991,-0.258998,0.452123,0.67566,0.686873,-0.254119,0.433495,0.723248,0.719801,-0.246946,0.413657,0.771156,0.750355,-0.237709,0.390366,0.81989,0.780033,-0.226549,0.364947,0.868601,0.809254,-0.214186,0.337256,0.920034,0.836576,-0.199639,0.307395,0.971706,0.861774,-0.183169,0.275431,1.02479,0.885707,-0.165111,0.243431,1.07837,0.904742,-0.144363,0.210921,1.12783,0.915604,-0.121305,0.17647,1.17254,0.930959,-0.0962119,0.143106,1.21012,0.948404,-0.069969,0.108112,1.24474,0.967012,-0.0427586,0.0708478,1.27718,0.984183,-0.0147043,0.032335,1.3083,0.999577,0.0142165,-0.00726867,1.3382,0.0229227,-0.00000299799,0.148623,0.000000462391,0.0232194,-0.0000758796,0.15054,0.0000117033,0.0232315,-0.000303636,0.15063,0.0000468397,0.0232354,-0.000683189,0.150624,0.000105472,0.0232092,-0.0012136,0.150445,0.000187744,0.0232523,-0.00189765,0.150679,0.000294847,0.0232828,-0.00273247,0.150789,0.000428013,0.0233371,-0.00371287,0.150995,0.000591134,0.0234015,-0.00484794,0.15118,0.000787642,0.023514,-0.00612877,0.151562,0.00102547,0.023679,-0.00756125,0.152116,0.00131351,0.0239559,-0.00914651,0.153162,0.00166594,0.0244334,-0.010904,0.155133,0.00210182,0.025139,-0.0128615,0.158035,0.00264406,0.0262598,-0.0150628,0.162751,0.00332923,0.0277875,-0.0175532,0.168944,0.00419773,0.0298472,-0.0203981,0.176835,0.00530034,0.0325444,-0.023655,0.186686,0.00669777,0.0355581,-0.0272982,0.196248,0.00842661,0.0392841,-0.0314457,0.207352,0.0105854,0.0436815,-0.0361157,0.219279,0.0132458,0.0485272,-0.0412932,0.230728,0.0164736,0.0541574,-0.0470337,0.242994,0.0203715,0.0609479,-0.0535002,0.257042,0.0250953,0.0685228,-0.0605409,0.27102,0.0306856,0.0768042,-0.0680553,0.28406,0.037193,0.0864844,-0.0765011,0.299186,0.0449795,0.0969415,-0.0852674,0.3132,0.0538316,0.108478,-0.0947333,0.327138,0.0641149,0.121705,-0.10481,0.342345,0.0759185,0.136743,-0.115474,0.358472,0.0894116,0.152986,-0.126536,0.374067,0.104562,0.170397,-0.138061,0.388267,0.121632,0.191392,-0.150203,0.406467,0.140996,0.211566,-0.161751,0.418641,0.161696,0.233567,-0.173407,0.430418,0.184557,0.257769,-0.185397,0.44277,0.210092,0.28531,-0.197048,0.457191,0.237827,0.311726,-0.20784,0.464712,0.267253,0.340537,-0.218345,0.472539,0.299332,0.372921,-0.228306,0.482331,0.333988,0.402924,-0.236665,0.484378,0.369722,0.434475,-0.244097,0.484717,0.407836,0.469736,-0.250547,0.487093,0.448465,0.505045,-0.25511,0.485575,0.490263,0.540262,-0.258444,0.481225,0.534495,0.576347,-0.259903,0.473481,0.579451,0.608656,-0.259572,0.4603,0.625604,0.646679,-0.257908,0.450341,0.674511,0.679902,-0.253663,0.431561,0.723269,0.714159,-0.247419,0.412684,0.773263,0.745345,-0.239122,0.389388,0.824182,0.778248,-0.228837,0.365361,0.876634,0.807208,-0.216197,0.337667,0.92945,0.835019,-0.201772,0.307197,0.985261,0.860261,-0.185291,0.274205,1.04299,0.877601,-0.165809,0.240178,1.09816,0.898211,-0.143897,0.207571,1.14694,0.915789,-0.119513,0.174904,1.19008,0.931831,-0.0932919,0.141423,1.2297,0.949244,-0.0656528,0.105603,1.26553,0.967527,-0.0370262,0.0679551,1.29986,0.984139,-0.00730117,0.0283133,1.33252,0.999713,0.0234648,-0.0121785,1.36397,0.0152135,-0.00000245447,0.122795,0.000000304092,0.0151652,-0.0000615778,0.122399,0.0000076292,0.0151181,-0.000245948,0.122023,0.0000304802,0.0151203,-0.000553394,0.12203,0.0000686634,0.015125,-0.000983841,0.122037,0.000122463,0.0151427,-0.00153774,0.12214,0.000192706,0.0151708,-0.0022103,0.122237,0.000281219,0.0152115,-0.00300741,0.12238,0.000390804,0.0152877,-0.00392494,0.1227,0.000526317,0.015412,-0.00496597,0.123244,0.00069443,0.0156201,-0.00613314,0.124228,0.00090547,0.0159658,-0.00744113,0.125945,0.0011732,0.0165674,-0.00892546,0.129098,0.00151888,0.017487,-0.010627,0.133865,0.00197007,0.018839,-0.0126043,0.140682,0.0025637,0.020554,-0.0148814,0.148534,0.00333637,0.0226727,-0.0175123,0.157381,0.00433738,0.0251879,-0.0205266,0.166685,0.00561664,0.0283635,-0.0240319,0.177796,0.00725563,0.0318694,-0.0279432,0.188251,0.00928811,0.0361044,-0.0324313,0.200038,0.011835,0.0406656,-0.0373527,0.210685,0.0149146,0.0463846,-0.0430132,0.224182,0.0187254,0.0525696,-0.0491013,0.23634,0.0232283,0.0598083,-0.0559175,0.250013,0.0286521,0.0679437,-0.0633657,0.263981,0.0350634,0.0771181,-0.0714602,0.278072,0.0425882,0.0881273,-0.0803502,0.29511,0.0514487,0.0996628,-0.0896903,0.309976,0.0615766,0.112702,-0.099644,0.325611,0.0732139,0.126488,-0.109829,0.339321,0.0862324,0.142625,-0.120859,0.35574,0.101275,0.15953,-0.131956,0.369845,0.117892,0.176991,-0.143145,0.38146,0.136205,0.199715,-0.155292,0.40052,0.157252,0.220787,-0.167066,0.412055,0.179966,0.243697,-0.178396,0.423133,0.204418,0.272106,-0.190433,0.439524,0.232141,0.297637,-0.201265,0.447041,0.261109,0.325273,-0.211834,0.454488,0.292627,0.357219,-0.221889,0.465004,0.326669,0.387362,-0.230729,0.468527,0.362426,0.423131,-0.23924,0.475836,0.401533,0.45543,-0.246067,0.475017,0.441902,0.493393,-0.251557,0.478017,0.484239,0.526253,-0.255571,0.4709,0.528586,0.560554,-0.257752,0.463167,0.574346,0.599306,-0.258076,0.456452,0.621655,0.634541,-0.256471,0.443725,0.670492,0.668907,-0.253283,0.428719,0.721943,0.705619,-0.247562,0.411348,0.772477,0.739034,-0.240626,0.388939,0.8264,0.771408,-0.231493,0.36425,0.881702,0.803312,-0.220125,0.337321,0.9385,0.828457,-0.206645,0.305364,0.997437,0.854819,-0.190664,0.273715,1.05693,0.878666,-0.171429,0.242218,1.11251,0.898404,-0.149235,0.209556,1.16398,0.917416,-0.12435,0.176863,1.21014,0.933133,-0.0972703,0.142775,1.25178,0.95066,-0.0683607,0.106735,1.29028,0.968589,-0.0378724,0.0681609,1.32703,0.984776,-0.00605712,0.0273966,1.36158,0.99994,0.0263276,-0.0138124,1.3943,0.00867437,-0.00000186005,0.0928979,0.000000173682,0.00864003,-0.0000466389,0.0925237,0.00000435505,0.00864593,-0.000186594,0.0925806,0.0000174322,0.00864095,-0.000419639,0.0924903,0.0000392862,0.00863851,-0.000746272,0.0924589,0.0000702598,0.00868531,-0.00116456,0.0929,0.000111188,0.00869667,-0.00167711,0.0928529,0.000163867,0.00874332,-0.00228051,0.0930914,0.00023104,0.00882709,-0.00297864,0.0935679,0.00031741,0.00898874,-0.00377557,0.0946165,0.000430186,0.00929346,-0.00469247,0.0967406,0.000580383,0.00978271,-0.00575491,0.100084,0.000783529,0.0105746,-0.00701514,0.105447,0.00106304,0.0116949,-0.00851797,0.112494,0.00144685,0.0130419,-0.0102757,0.119876,0.00196439,0.0148375,-0.012381,0.129034,0.00266433,0.0168725,-0.01482,0.137812,0.00358364,0.0193689,-0.0176563,0.147696,0.00478132,0.0222691,-0.0209211,0.157795,0.00631721,0.0256891,-0.0246655,0.168431,0.00826346,0.0294686,-0.0288597,0.178587,0.0106714,0.0340412,-0.0336441,0.190251,0.0136629,0.0393918,-0.039033,0.202999,0.0173272,0.0453947,-0.0450087,0.215655,0.0217448,0.0521936,-0.0515461,0.228686,0.0269941,0.0600279,-0.058817,0.242838,0.033272,0.0692398,-0.0667228,0.258145,0.0406457,0.0793832,-0.0752401,0.273565,0.0492239,0.0902297,-0.0841851,0.287735,0.0590105,0.102014,-0.0936479,0.301161,0.0702021,0.116054,-0.103967,0.317438,0.0832001,0.13191,-0.114622,0.334166,0.0977951,0.148239,-0.125452,0.348192,0.113985,0.165809,-0.136453,0.361094,0.131928,0.184616,-0.147648,0.373534,0.151811,0.207491,-0.159607,0.39101,0.174476,0.230106,-0.171119,0.402504,0.198798,0.257036,-0.182906,0.418032,0.225796,0.281172,-0.193605,0.425468,0.254027,0.312034,-0.204771,0.440379,0.285713,0.340402,-0.214988,0.445406,0.319196,0.370231,-0.224711,0.44968,0.35537,0.407105,-0.233516,0.460747,0.393838,0.439037,-0.240801,0.460624,0.433747,0.47781,-0.24762,0.465957,0.477234,0.510655,-0.251823,0.460054,0.52044,0.550584,-0.255552,0.459172,0.567853,0.585872,-0.257036,0.450311,0.615943,0.620466,-0.257535,0.437763,0.667693,0.660496,-0.255248,0.426639,0.718988,0.695578,-0.251141,0.409185,0.772503,0.732176,-0.244718,0.39015,0.827023,0.760782,-0.236782,0.362594,0.885651,0.79422,-0.225923,0.33711,0.943756,0.824521,-0.213855,0.308272,1.00874,0.854964,-0.197723,0.278529,1.06764,0.878065,-0.179209,0.246208,1.12836,0.899834,-0.157569,0.21329,1.18318,0.918815,-0.133206,0.181038,1.23161,0.934934,-0.106545,0.146993,1.27644,0.952115,-0.0780574,0.111175,1.31842,0.96906,-0.0478279,0.0728553,1.35839,0.985178,-0.0160014,0.032579,1.39697,1.00039,0.0173126,-0.0095256,1.43312,0.00384146,-0.00000124311,0.0613583,0.0000000778271,0.00390023,-0.0000314043,0.0622919,0.00000196626,0.00389971,-0.000125622,0.0622632,0.00000787379,0.00389491,-0.000282352,0.0620659,0.00001778,0.00391618,-0.000502512,0.0624687,0.0000320918,0.00392662,-0.000784458,0.0625113,0.0000515573,0.00396053,-0.00112907,0.0628175,0.0000778668,0.00401911,-0.00153821,0.0633286,0.000113811,0.00414994,-0.0020208,0.0646443,0.00016445,0.00441223,-0.00260007,0.0673886,0.000237734,0.00484427,-0.0033097,0.0716528,0.000345929,0.00549109,-0.00418966,0.0774998,0.000505987,0.00636293,-0.00527331,0.0844758,0.000739208,0.00746566,-0.00660428,0.0921325,0.00107347,0.00876625,-0.00818826,0.0997067,0.00153691,0.0103125,-0.0100811,0.107433,0.00217153,0.0123309,-0.0123643,0.117088,0.00303427,0.0146274,-0.0150007,0.126438,0.00416018,0.0172295,-0.0180531,0.135672,0.00561513,0.0204248,-0.0215962,0.146244,0.007478,0.0241597,-0.0256234,0.157481,0.00981046,0.0284693,-0.0302209,0.169125,0.0127148,0.033445,-0.0353333,0.181659,0.0162453,0.0391251,-0.0410845,0.1944,0.0205417,0.0454721,-0.0473451,0.207082,0.0256333,0.0530983,-0.0542858,0.221656,0.0317036,0.0615356,-0.0618384,0.236036,0.0388319,0.0703363,-0.0697631,0.248398,0.046974,0.0810391,-0.0784757,0.263611,0.0565246,0.0920144,-0.0873488,0.275857,0.0671724,0.105584,-0.0973652,0.292555,0.0798105,0.119506,-0.107271,0.306333,0.0935945,0.134434,-0.117608,0.318888,0.109106,0.153399,-0.128938,0.337552,0.127074,0.171258,-0.139944,0.349955,0.14643,0.191059,-0.151288,0.361545,0.168,0.215069,-0.163018,0.378421,0.192082,0.237838,-0.174226,0.38879,0.217838,0.266965,-0.186063,0.405857,0.246931,0.292827,-0.196909,0.414146,0.277505,0.324352,-0.207473,0.426955,0.310711,0.354427,-0.217713,0.433429,0.346794,0.389854,-0.227183,0.443966,0.385237,0.420749,-0.235131,0.44471,0.424955,0.459597,-0.242786,0.451729,0.468446,0.495316,-0.248767,0.45072,0.513422,0.534903,-0.253351,0.450924,0.560618,0.572369,-0.256277,0.445266,0.609677,0.612383,-0.2576,0.438798,0.660995,0.644037,-0.256931,0.421693,0.713807,0.686749,-0.254036,0.4109,0.767616,0.719814,-0.249785,0.390151,0.82533,0.754719,-0.244283,0.367847,0.888311,0.792022,-0.235076,0.345013,0.948177,0.822404,-0.225061,0.316193,1.01661,0.853084,-0.211113,0.287013,1.08075,0.879871,-0.19449,0.255424,1.14501,0.901655,-0.174023,0.222879,1.20203,0.919957,-0.1509,0.18989,1.25698,0.938412,-0.124923,0.15606,1.30588,0.953471,-0.0968139,0.120512,1.3529,0.970451,-0.066734,0.0828515,1.3986,0.985522,-0.034734,0.0424458,1.44148,1.00099,-0.00102222,0.000678929,1.48398,0.000965494,-0.000000627338,0.0306409,0.0000000197672,0.00099168,-0.0000158573,0.0314638,0.000000499803,0.000991068,-0.0000634012,0.031363,0.00000200682,0.000974567,-0.00014144,0.03036,0.00000457312,0.000998079,-0.000252812,0.031496,0.00000860131,0.00102243,-0.000396506,0.0319955,0.0000148288,0.00107877,-0.000577593,0.0331376,0.0000249141,0.00121622,-0.000816816,0.0359396,0.0000423011,0.0014455,-0.00113761,0.0399652,0.0000724613,0.00178791,-0.00156959,0.0450556,0.000123929,0.00225668,-0.00214064,0.0508025,0.000208531,0.00285627,-0.00287655,0.0568443,0.000341969,0.0035991,-0.00380271,0.0630892,0.000544158,0.00455524,-0.00496264,0.0702204,0.000842423,0.00569143,-0.0063793,0.0773426,0.00126704,0.00716928,-0.00813531,0.0860839,0.00186642,0.00885307,-0.0101946,0.0944079,0.00267014,0.0109316,-0.0126386,0.103951,0.00374033,0.0133704,-0.0154876,0.113786,0.0051304,0.0161525,-0.0187317,0.123477,0.00688858,0.0194267,-0.0224652,0.133986,0.00910557,0.0230967,-0.0265976,0.143979,0.0118074,0.0273627,-0.0312848,0.154645,0.0151266,0.0323898,-0.0365949,0.166765,0.0191791,0.0379225,-0.0422914,0.177932,0.0239236,0.0447501,-0.0487469,0.19167,0.0296568,0.0519391,-0.0556398,0.203224,0.0362924,0.0599464,-0.0631646,0.215652,0.0440585,0.0702427,-0.0714308,0.232089,0.0531619,0.0806902,-0.0800605,0.245258,0.0634564,0.0923194,-0.0892815,0.258609,0.0752481,0.106938,-0.09931,0.276654,0.0888914,0.121238,-0.109575,0.289847,0.104055,0.138817,-0.120461,0.307566,0.121266,0.15595,-0.131209,0.320117,0.139944,0.178418,-0.143049,0.339677,0.161591,0.197875,-0.154074,0.349886,0.184303,0.224368,-0.166307,0.369352,0.210669,0.252213,-0.178051,0.386242,0.238895,0.277321,-0.189335,0.395294,0.269182,0.310332,-0.200683,0.412148,0.302508,0.338809,-0.210856,0.418266,0.337264,0.372678,-0.220655,0.428723,0.374881,0.405632,-0.230053,0.433887,0.415656,0.442293,-0.237993,0.439911,0.457982,0.477256,-0.244897,0.440175,0.502831,0.515592,-0.250657,0.441079,0.550277,0.550969,-0.255459,0.435219,0.601102,0.592883,-0.257696,0.432882,0.651785,0.629092,-0.259894,0.421054,0.708961,0.672033,-0.258592,0.41177,0.763806,0.709147,-0.256525,0.395267,0.824249,0.745367,-0.254677,0.375013,0.8951,0.784715,-0.247892,0.353906,0.959317,0.818107,-0.240162,0.327801,1.03153,0.847895,-0.229741,0.298821,1.10601,0.879603,-0.213084,0.269115,1.164,0.902605,-0.195242,0.236606,1.22854,0.922788,-0.174505,0.203442,1.29017,0.944831,-0.150169,0.169594,1.34157,0.959656,-0.124099,0.135909,1.3956,0.972399,-0.0960626,0.0990563,1.45128,0.986549,-0.0657097,0.0602348,1.50312,1.00013,-0.0333558,0.0186694,1.55364,0.00000619747,-0.0000001,0.00778326,0.0000000000796756,0.0000000237499,-0.0000000999999,0.0000282592,0.000000000114596,0.00000100292,-0.00000166369,0.000250354,0.00000000677492,0.00000350752,-0.00000637769,0.000357289,0.0000000631655,0.00000826445,-0.0000174689,0.000516179,0.00000031851,0.0000242481,-0.0000450868,0.0010223,0.00000130577,0.0000455631,-0.000089044,0.00144302,0.00000374587,0.0000971222,-0.000178311,0.00241912,0.0000102584,0.000171403,-0.000313976,0.00354938,0.0000236481,0.000292747,-0.000520026,0.00513765,0.0000496014,0.000789827,-0.00118187,0.0238621,0.000139056,0.00114093,-0.00171827,0.0286691,0.000244093,0.00176119,-0.00249667,0.0368565,0.000420623,0.0022233,-0.00333742,0.0400469,0.00065673,0.00343382,-0.00481976,0.0535751,0.00109323,0.00427602,-0.00600755,0.057099,0.00155268,0.00461435,-0.00737637,0.0551084,0.00215031,0.00695698,-0.00971401,0.0715767,0.00316529,0.00867619,-0.0120943,0.0793314,0.00436995,0.0106694,-0.0148202,0.0869391,0.0058959,0.0140351,-0.0183501,0.101572,0.00798757,0.0168939,-0.022006,0.11018,0.0104233,0.020197,-0.0261568,0.119041,0.0134167,0.0254702,-0.0312778,0.135404,0.0173009,0.0298384,-0.0362469,0.1437,0.0215428,0.035159,-0.042237,0.15512,0.0268882,0.0427685,-0.0488711,0.17128,0.033235,0.0494848,-0.0557997,0.181813,0.0404443,0.0592394,-0.0635578,0.198745,0.0490043,0.0681463,-0.071838,0.210497,0.0588239,0.0804753,-0.0809297,0.228864,0.0702835,0.0942205,-0.0906488,0.247008,0.0834012,0.106777,-0.100216,0.258812,0.0975952,0.124471,-0.110827,0.278617,0.114162,0.138389,-0.121193,0.287049,0.131983,0.159543,-0.13253,0.307151,0.152541,0.176432,-0.143611,0.31564,0.174673,0.201723,-0.15548,0.33538,0.199842,0.229721,-0.167166,0.355256,0.227097,0.250206,-0.178238,0.360047,0.256014,0.282118,-0.189905,0.378761,0.28855,0.312821,-0.201033,0.39181,0.323348,0.341482,-0.211584,0.397716,0.360564,0.377368,-0.221314,0.410141,0.400004,0.418229,-0.230474,0.423485,0.442371,0.444881,-0.239443,0.418874,0.488796,0.488899,-0.245987,0.427545,0.535012,0.520317,-0.253948,0.422147,0.589678,0.568566,-0.256616,0.42719,0.637683,0.599607,-0.26376,0.415114,0.703363,0.64222,-0.268687,0.408715,0.771363,0.685698,-0.2694,0.399722,0.83574,0.732327,-0.266642,0.388651,0.897764,0.769873,-0.267712,0.369198,0.983312,0.806733,-0.263479,0.346802,1.06222,0.843466,-0.254575,0.321368,1.13477,0.873008,-0.242749,0.29211,1.20712,0.908438,-0.22725,0.262143,1.27465,0.936321,-0.207621,0.228876,1.33203,0.950353,-0.187932,0.19484,1.40439,0.96442,-0.165154,0.163178,1.4732,0.979856,-0.139302,0.127531,1.53574,0.982561,-0.11134,0.0903457,1.59982,0.996389,-0.0808124,0.0489007,1.6577],Q=[1,0,0,0,1,0.000000000000000000000000000000791421,0,0,1,0.00000000000000000000000104392,0,0,1,0.00000000000000000000349405,0,0,1,0.00000000000000000109923,0,0,1,0.0000000000000000947414,0,0,1,0.00000000000000359627,0,0,1,0.0000000000000772053,0,0,1,0.00000000000108799,0,0,1,0.0000000000110655,0,0,1,0.0000000000865818,0,0,0.999998,0.000000000545037,0,0,0.999994,0.00000000285095,0,0,0.999989,0.0000000126931,0,0,0.999973,0.0000000489938,0,0,0.999947,0.000000166347,0,0,0.999894,0.000000502694,0,0,0.999798,0.00000136532,0,0,0.999617,0.00000335898,0,0,0.999234,0.00000752126,0,0,0.998258,0.0000152586,0,0,0.99504,0.0000266207,0,0,0.980816,0.0000236802,0,0,0.967553,0.00000207684,0,0,0.966877,0.00000403733,0,0,0.965752,0.00000741174,0,0,0.96382,0.0000127746,0,0,0.960306,0.0000202792,0,0,0.953619,0.0000280232,0,0,0.941103,0.0000278816,0,0,0.926619,0.0000160221,0,0,0.920983,0.0000235164,0,0,0.912293,0.0000311924,0,0.0158731,0.899277,0.0000348118,0,0.0476191,0.880884,0.000026041,0,0.0793651,0.870399,0.0000338726,0,0.111111,0.856138,0.0000392906,0,0.142857,0.837436,0.0000372874,0,0.174603,0.820973,0.0000392558,0,0.206349,0.803583,0.0000434658,0,0.238095,0.782168,0.000040256,0,0.269841,0.764107,0.0000448159,0,0.301587,0.743092,0.0000457627,0,0.333333,0.721626,0.0000455314,0,0.365079,0.700375,0.0000477335,0,0.396825,0.677334,0.0000461072,0,0.428571,0.655702,0.0000484393,0,0.460317,0.632059,0.0000464583,0,0.492064,0.610125,0.0000483923,0,0.52381,0.58653,0.0000464342,0,0.555556,0.564508,0.0000477033,0,0.587302,0.541405,0.0000459263,0,0.619048,0.519556,0.000046412,0,0.650794,0.497292,0.0000448913,0,0.68254,0.475898,0.0000445789,0,0.714286,0.454722,0.0000433496,0,0.746032,0.434042,0.0000423054,0,0.777778,0.414126,0.0000413737,0,0.809524,0.394387,0.0000397265,0,0.84127,0.375841,0.0000390709,0,0.873016,0.357219,0.0000369938,0,0.904762,0.340084,0.0000365618,0,0.936508,0.322714,0.0000342533,0,0.968254,0.306974,0.0000339596,0,1,1,0.00000000000000000101524,0,0,1,0.0000000000000000010292,0,0,1,0.00000000000000000130908,0,0,1,0.00000000000000000473331,0,0,1,0.0000000000000000625319,0,0,1,0.00000000000000107932,0,0,1,0.0000000000000163779,0,0,1,0.000000000000203198,0,0,1,0.00000000000204717,0,0,0.999999,0.0000000000168995,0,0,0.999998,0.000000000115855,0,0,0.999996,0.00000000066947,0,0,0.999991,0.00000000330863,0,0,0.999983,0.0000000141737,0,0,0.999968,0.0000000532626,0,0,0.99994,0.000000177431,0,0,0.999891,0.000000528835,0,0,0.999797,0.00000142169,0,0,0.999617,0.00000347057,0,0,0.999227,0.0000077231,0,0,0.998239,0.0000155753,0,0,0.994937,0.0000268495,0,0,0.980225,0.0000213742,0,0,0.967549,0.0000021631,0,0,0.966865,0.00000417989,0,0,0.965739,0.00000763341,0,0,0.963794,0.0000130892,0,0,0.960244,0.0000206456,0,0,0.953495,0.0000282016,0,0.000148105,0.940876,0.0000271581,0,0.002454,0.926569,0.0000164159,0,0.00867491,0.920905,0.0000239521,0,0.01956,0.912169,0.0000315127,0,0.035433,0.899095,0.0000346626,0,0.056294,0.882209,0.0000290223,0,0.0818191,0.870272,0.0000342992,0,0.111259,0.855977,0.0000394164,0,0.142857,0.837431,0.0000372343,0,0.174603,0.820826,0.0000396691,0,0.206349,0.803408,0.0000435395,0,0.238095,0.782838,0.0000419579,0,0.269841,0.763941,0.0000450953,0,0.301587,0.742904,0.0000455847,0,0.333333,0.721463,0.0000458833,0,0.365079,0.700197,0.0000477159,0,0.396825,0.677501,0.0000470641,0,0.428571,0.655527,0.0000484732,0,0.460317,0.6324,0.0000476834,0,0.492064,0.609964,0.0000484213,0,0.52381,0.586839,0.0000475541,0,0.555556,0.564353,0.0000476951,0,0.587302,0.541589,0.0000467611,0,0.619048,0.519413,0.0000463493,0,0.650794,0.497337,0.0000453994,0,0.68254,0.475797,0.0000445308,0,0.714286,0.454659,0.0000435787,0,0.746032,0.434065,0.0000424839,0,0.777778,0.414018,0.000041436,0,0.809524,0.39455,0.0000401902,0,0.84127,0.375742,0.0000390813,0,0.873016,0.357501,0.0000377116,0,0.904762,0.339996,0.000036535,0,0.936508,0.323069,0.0000351265,0,0.968254,0.306897,0.0000339112,0,1,1,0.0000000000000010396,0,0,1,0.00000000000000104326,0,0,1,0.00000000000000110153,0,0,1,0.00000000000000144668,0,0,1,0.0000000000000034528,0,0,1,0.0000000000000175958,0,0,1,0.00000000000012627,0,0,1,0.000000000000936074,0,0,1,0.00000000000645742,0,0,0.999998,0.0000000000401228,0,0,0.999997,0.000000000222338,0,0,0.999995,0.0000000010967,0,0,0.999991,0.00000000482132,0,0,0.999981,0.0000000189434,0,0,0.999967,0.0000000667716,0,0,0.999938,0.000000212066,0,0,0.999886,0.00000060977,0,0,0.999792,0.00000159504,0,0,0.999608,0.00000381191,0,0,0.999209,0.00000833727,0,0,0.998179,0.0000165288,0,0,0.994605,0.0000274387,0,0,0.979468,0.0000167316,0,0,0.967529,0.00000242877,0,0,0.966836,0.00000461696,0,0,0.96569,0.00000830977,0,0,0.963706,0.0000140427,0,0.00000244659,0.960063,0.0000217353,0,0.000760774,0.953113,0.0000286606,0,0.00367261,0.940192,0.0000247691,0,0.00940263,0.927731,0.0000195814,0,0.018333,0.920669,0.0000252531,0,0.0306825,0.911799,0.0000324277,0,0.0465556,0.89857,0.0000340982,0,0.0659521,0.883283,0.0000319622,0,0.0887677,0.86989,0.000035548,0,0.114784,0.855483,0.0000397143,0,0.143618,0.837987,0.0000391665,0,0.174606,0.820546,0.0000411306,0,0.206349,0.802878,0.0000436753,0,0.238095,0.783402,0.0000444,0,0.269841,0.763439,0.0000458726,0,0.301587,0.742925,0.0000467097,0,0.333333,0.721633,0.0000478887,0,0.365079,0.69985,0.0000481251,0,0.396825,0.67783,0.0000491811,0,0.428571,0.655126,0.0000488199,0,0.460318,0.632697,0.0000496025,0,0.492064,0.609613,0.000048829,0,0.52381,0.587098,0.0000492754,0,0.555556,0.564119,0.0000482625,0,0.587302,0.541813,0.0000482807,0,0.619048,0.519342,0.0000471552,0,0.650794,0.497514,0.0000466765,0,0.68254,0.475879,0.0000455582,0,0.714286,0.454789,0.0000446007,0,0.746032,0.434217,0.0000435382,0,0.777778,0.414086,0.0000421753,0,0.809524,0.394744,0.0000412093,0,0.84127,0.375782,0.0000396634,0,0.873016,0.357707,0.0000386419,0,0.904762,0.340038,0.0000370345,0,0.936508,0.323284,0.0000359725,0,0.968254,0.306954,0.00003436,0,1,1,0.0000000000000599567,0,0,1,0.0000000000000600497,0,0,1,0.0000000000000614839,0,0,1,0.0000000000000686641,0,0,1,0.0000000000000972658,0,0,1,0.000000000000221271,0,0,1,0.000000000000833195,0,0,1,0.00000000000403601,0,0,0.999999,0.0000000000206001,0,0,0.999998,0.000000000101739,0,0,0.999997,0.000000000470132,0,0,0.999993,0.00000000200436,0,0,0.999988,0.00000000783682,0,0,0.999979,0.0000000280338,0,0,0.999962,0.0000000917033,0,0,0.999933,0.000000274514,0,0,0.999881,0.000000753201,0,0,0.999783,0.00000189826,0,0,0.999594,0.00000440279,0,0,0.999178,0.0000093898,0,0,0.998073,0.0000181265,0,0,0.993993,0.0000280487,0,0,0.979982,0.0000149422,0,0,0.968145,0.00000378481,0,0,0.966786,0.0000053771,0,0,0.965611,0.00000947508,0,0.0000388934,0.963557,0.0000156616,0,0.0009693,0.959752,0.0000235144,0,0.00370329,0.952461,0.0000291568,0,0.00868428,0.940193,0.0000240102,0,0.0161889,0.929042,0.0000231235,0,0.0263948,0.920266,0.0000273968,0,0.0394088,0.911178,0.0000337915,0,0.0552818,0.897873,0.0000333629,0,0.0740138,0.884053,0.0000351405,0,0.0955539,0.869455,0.0000378034,0,0.119795,0.854655,0.0000399378,0,0.14656,0.838347,0.0000419108,0,0.175573,0.820693,0.0000440831,0,0.206388,0.802277,0.0000445599,0,0.238095,0.783634,0.0000472691,0,0.269841,0.763159,0.0000476984,0,0.301587,0.742914,0.0000491487,0,0.333333,0.721662,0.0000502312,0,0.365079,0.699668,0.0000502817,0,0.396825,0.677839,0.000051406,0,0.428571,0.655091,0.0000511095,0,0.460317,0.632665,0.0000516067,0,0.492064,0.609734,0.0000512255,0,0.52381,0.587043,0.0000510263,0,0.555556,0.564298,0.000050565,0,0.587302,0.541769,0.0000497951,0,0.619048,0.519529,0.0000492698,0,0.650794,0.497574,0.0000482066,0,0.68254,0.476028,0.0000473689,0,0.714286,0.454961,0.0000461941,0,0.746032,0.434341,0.0000450618,0,0.777778,0.414364,0.0000438355,0,0.809524,0.394832,0.0000424196,0,0.84127,0.376109,0.0000412563,0,0.873016,0.35779,0.0000396226,0,0.904762,0.340379,0.0000384886,0,0.936508,0.323385,0.0000368214,0,0.968254,0.307295,0.0000356636,0,1,1,0.00000000000106465,0,0,1,0.00000000000106555,0,0,1,0.00000000000107966,0,0,1,0.00000000000114601,0,0,1,0.00000000000137123,0,0,1,0.0000000000021243,0,0,0.999999,0.00000000000489653,0,0,0.999999,0.0000000000160283,0,0,0.999998,0.000000000062269,0,0,0.999997,0.000000000251859,0,0,0.999996,0.000000000996192,0,0,0.999992,0.00000000374531,0,0,0.999986,0.0000000132022,0,0,0.999975,0.0000000433315,0,0,0.999959,0.000000131956,0,0,0.999927,0.000000372249,0,0,0.999871,0.000000972461,0,0,0.999771,0.00000235343,0,0,0.999572,0.0000052768,0,0,0.999133,0.0000109237,0,0,0.997912,0.0000203675,0,0,0.993008,0.0000279396,0,0,0.980645,0.0000139604,0,0,0.970057,0.00000646596,0,0,0.966717,0.0000065089,0,0.0000474145,0.965497,0.0000111863,0,0.00089544,0.96334,0.0000179857,0,0.0032647,0.959294,0.0000259045,0,0.0075144,0.951519,0.0000292327,0,0.0138734,0.940517,0.0000249769,0,0.0224952,0.93014,0.000026803,0,0.0334828,0.91972,0.0000303656,0,0.0468973,0.910294,0.0000353323,0,0.0627703,0.897701,0.0000351002,0,0.0811019,0.884522,0.0000388104,0,0.10186,0.869489,0.0000412932,0,0.124985,0.853983,0.0000415781,0,0.150372,0.838425,0.0000454066,0,0.177868,0.820656,0.0000471624,0,0.207245,0.801875,0.0000475243,0,0.238143,0.783521,0.0000505621,0,0.269841,0.763131,0.000050721,0,0.301587,0.74261,0.0000523293,0,0.333333,0.72148,0.0000528699,0,0.365079,0.699696,0.0000538677,0,0.396825,0.677592,0.0000539255,0,0.428571,0.65525,0.0000546367,0,0.460317,0.632452,0.0000541348,0,0.492064,0.609903,0.0000544976,0,0.52381,0.586928,0.0000536201,0,0.555556,0.564464,0.0000535185,0,0.587302,0.541801,0.0000524949,0,0.619048,0.519681,0.000051812,0,0.650794,0.497685,0.0000507687,0,0.68254,0.47622,0.0000496243,0,0.714286,0.455135,0.0000485714,0,0.746032,0.4346,0.0000471847,0,0.777778,0.414564,0.0000459294,0,0.809524,0.395165,0.0000444705,0,0.84127,0.376333,0.0000430772,0,0.873016,0.358197,0.0000416229,0,0.904762,0.34064,0.0000401019,0,0.936508,0.323816,0.0000386623,0,0.968254,0.307581,0.0000370933,0,1,1,0.00000000000991541,0,0,1,0.00000000000992077,0,0,1,0.0000000000100041,0,0,1,0.000000000010385,0,0,1,0.0000000000115777,0,0,1,0.0000000000150215,0,0,0.999999,0.0000000000254738,0,0,0.999999,0.0000000000598822,0,0,0.999998,0.000000000179597,0,0,0.999997,0.000000000602367,0,0,0.999994,0.00000000206835,0,0,0.99999,0.00000000694952,0,0,0.999984,0.0000000223363,0,0,0.999972,0.0000000678578,0,0,0.999952,0.000000193571,0,0,0.999919,0.000000516594,0,0,0.99986,0.00000128739,0,0,0.999753,0.00000299298,0,0,0.999546,0.00000648258,0,0,0.999074,0.0000129985,0,0,0.997671,0.0000232176,0,0,0.991504,0.0000256701,0,0,0.981148,0.0000131141,0,0,0.971965,0.00000869048,0,0.0000280182,0.966624,0.00000808301,0,0.000695475,0.965344,0.0000135235,0,0.00265522,0.963048,0.0000210592,0,0.00622975,0.958673,0.0000287473,0,0.0116234,0.950262,0.0000281379,0,0.018976,0.940836,0.0000271089,0,0.0283844,0.930996,0.000030926,0,0.0399151,0.919848,0.0000348359,0,0.0536063,0.909136,0.0000366092,0,0.0694793,0.897554,0.0000384162,0,0.0875342,0.884691,0.0000430971,0,0.107749,0.869414,0.0000447803,0,0.130087,0.853462,0.0000452858,0,0.154481,0.838187,0.0000495769,0,0.180833,0.820381,0.0000502709,0,0.209005,0.801844,0.0000522713,0,0.238791,0.783061,0.0000541505,0,0.269869,0.763205,0.0000553712,0,0.301587,0.742362,0.0000564909,0,0.333333,0.721393,0.0000572646,0,0.365079,0.699676,0.0000581012,0,0.396825,0.677395,0.000058096,0,0.428571,0.655208,0.0000585766,0,0.460317,0.632451,0.0000583602,0,0.492064,0.609839,0.0000580234,0,0.52381,0.587093,0.0000577161,0,0.555556,0.564467,0.0000568447,0,0.587302,0.542043,0.0000563166,0,0.619048,0.519826,0.000055156,0,0.650794,0.497952,0.0000541682,0,0.68254,0.476477,0.0000528971,0,0.714286,0.455412,0.0000514952,0,0.746032,0.434926,0.0000502222,0,0.777778,0.4149,0.0000485779,0,0.809524,0.395552,0.0000472242,0,0.84127,0.376712,0.0000454891,0,0.873016,0.358622,0.0000440924,0,0.904762,0.341048,0.0000422984,0,0.936508,0.324262,0.0000408582,0,0.968254,0.308013,0.0000390839,0,1,1,0.0000000000613913,0,0,1,0.0000000000614145,0,0,1,0.0000000000617708,0,0,1,0.0000000000633717,0,0,1,0.0000000000681648,0,0,1,0.0000000000808291,0,0,1,0.000000000114608,0,0,0.999998,0.000000000210507,0,0,0.999997,0.000000000499595,0,0,0.999995,0.00000000139897,0,0,0.999994,0.00000000419818,0,0,0.999988,0.0000000127042,0,0,0.999979,0.0000000375153,0,0,0.999965,0.000000106206,0,0,0.999945,0.000000285381,0,0,0.999908,0.000000723611,0,0,0.999846,0.0000017255,0,0,0.999733,0.00000386104,0,0,0.999511,0.00000808493,0,0,0.998993,0.0000156884,0,0,0.997326,0.0000265538,0,0,0.989706,0.0000206466,0,0,0.981713,0.0000130756,0,0.0000070005,0.973636,0.0000106473,0,0.000464797,0.966509,0.000010194,0,0.00201743,0.965149,0.0000165881,0,0.00497549,0.962669,0.0000249147,0,0.00953262,0.95786,0.0000317449,0,0.0158211,0.949334,0.0000281045,0,0.0239343,0.941041,0.0000303263,0,0.0339372,0.931575,0.0000356754,0,0.0458738,0.920102,0.0000397075,0,0.059772,0.908002,0.0000384886,0,0.075645,0.897269,0.000043027,0,0.0934929,0.884559,0.0000479925,0,0.113302,0.869161,0.000048246,0,0.135045,0.853342,0.0000509505,0,0.158678,0.837633,0.0000542846,0,0.184136,0.820252,0.0000554139,0,0.211325,0.801872,0.0000581412,0,0.240113,0.782418,0.0000585535,0,0.270306,0.7631,0.0000610923,0,0.301594,0.742183,0.0000613678,0,0.333333,0.721098,0.0000627275,0,0.365079,0.699512,0.0000629413,0,0.396825,0.677372,0.0000636351,0,0.428571,0.655059,0.0000633555,0,0.460317,0.632567,0.0000636513,0,0.492064,0.609784,0.0000628965,0,0.52381,0.587237,0.0000625546,0,0.555556,0.564525,0.0000615825,0,0.587302,0.542181,0.0000605048,0,0.619048,0.520017,0.0000596329,0,0.650794,0.498204,0.0000581516,0,0.68254,0.476742,0.0000569186,0,0.714286,0.455803,0.0000553833,0,0.746032,0.435251,0.0000537807,0,0.777778,0.415374,0.0000522025,0,0.809524,0.395921,0.0000503421,0,0.84127,0.377253,0.0000488211,0,0.873016,0.359021,0.0000468234,0,0.904762,0.341637,0.0000453269,0,0.936508,0.3247,0.0000433014,0,0.968254,0.308625,0.0000418007,0,1,1,0.000000000286798,0,0,1,0.000000000286877,0,0,1,0.000000000288094,0,0,1,0.000000000293506,0,0,1,0.000000000309262,0,0,0.999999,0.000000000348593,0,0,0.999999,0.000000000444582,0,0,0.999998,0.000000000688591,0,0,0.999996,0.00000000134391,0,0,0.999993,0.00000000317438,0,0,0.999989,0.00000000835609,0,0,0.999983,0.0000000228677,0,0,0.999974,0.0000000623361,0,0,0.999959,0.000000165225,0,0,0.999936,0.000000419983,0,0,0.999896,0.00000101546,0,0,0.99983,0.00000232376,0,0,0.999709,0.0000050156,0,0,0.999469,0.000010167,0,0,0.998886,0.0000190775,0,0,0.996819,0.0000300511,0,0,0.988837,0.0000185092,0,0.000000168222,0.982178,0.0000134622,0,0.000259622,0.975017,0.0000125961,0,0.00142595,0.967101,0.000013507,0,0.00382273,0.964905,0.0000205003,0,0.00764164,0.96218,0.000029546,0,0.0130121,0.956821,0.0000343738,0,0.0200253,0.948829,0.0000305063,0,0.0287452,0.941092,0.0000346487,0,0.039218,0.931883,0.0000412061,0,0.0514748,0.920211,0.0000444651,0,0.0655351,0.907307,0.0000431252,0,0.0814082,0.89684,0.0000490382,0,0.0990939,0.884119,0.000053334,0,0.118583,0.869148,0.000054114,0,0.139856,0.853377,0.0000578536,0,0.162882,0.836753,0.0000592285,0,0.187615,0.820063,0.0000622787,0,0.213991,0.801694,0.0000645492,0,0.241918,0.782116,0.000065353,0,0.271267,0.762673,0.0000674344,0,0.301847,0.742133,0.0000682788,0,0.333333,0.720779,0.0000691959,0,0.365079,0.699386,0.0000696817,0,0.396826,0.67732,0.0000699583,0,0.428572,0.654888,0.0000698447,0,0.460318,0.632499,0.0000694063,0,0.492064,0.609825,0.0000691612,0,0.52381,0.587287,0.0000681576,0,0.555556,0.564743,0.0000674138,0,0.587302,0.542409,0.0000661617,0,0.619048,0.520282,0.0000647785,0,0.650794,0.498506,0.0000633836,0,0.68254,0.477102,0.0000615905,0,0.714286,0.456167,0.0000601013,0,0.746032,0.435728,0.0000581457,0,0.777778,0.415809,0.0000564215,0,0.809524,0.396517,0.0000544997,0,0.84127,0.377737,0.0000525061,0,0.873016,0.359698,0.0000506831,0,0.904762,0.342164,0.000048568,0,0.936508,0.325417,0.0000467826,0,0.968254,0.309186,0.0000446736,0,1,1,0.00000000109018,0,0,1,0.0000000010904,0,0,1,0.00000000109393,0,0,1,0.0000000011095,0,0,1,0.000000001154,0,0,1,0.00000000126089,0,0,0.999999,0.0000000015059,0,0,0.999997,0.00000000207899,0,0,0.999994,0.00000000348164,0,0,0.999993,0.00000000705728,0,0,0.999987,0.0000000163692,0,0,0.999981,0.0000000406033,0,0,0.999969,0.00000010245,0,0,0.999953,0.000000255023,0,0,0.999925,0.00000061511,0,0,0.999881,0.00000142218,0,0,0.99981,0.00000313086,0,0,0.99968,0.00000653119,0,0,0.999418,0.000012832,0,0,0.998748,0.0000232497,0,0,0.996066,0.0000329522,0,0,0.988379,0.0000179613,0,0.000108799,0.982567,0.0000143715,0,0.000921302,0.976097,0.0000148096,0,0.00280738,0.968475,0.0000178905,0,0.00596622,0.964606,0.0000253921,0,0.0105284,0.961564,0.0000348623,0,0.0165848,0.955517,0.0000357612,0,0.0242,0.948381,0.0000343493,0,0.03342,0.941095,0.0000405849,0,0.0442777,0.931923,0.0000475394,0,0.0567958,0.91996,0.0000484328,0,0.0709879,0.907419,0.0000502146,0,0.086861,0.89618,0.0000561654,0,0.104415,0.88337,0.0000587612,0,0.123643,0.869046,0.0000618057,0,0.144531,0.853278,0.0000657392,0,0.167057,0.836091,0.000066303,0,0.191188,0.819644,0.0000704445,0,0.216878,0.801246,0.0000714071,0,0.244062,0.782031,0.0000740093,0,0.272649,0.762066,0.000074685,0,0.302509,0.741964,0.0000766647,0,0.333442,0.720554,0.0000766328,0,0.365079,0.699098,0.0000777857,0,0.396826,0.677189,0.0000774633,0,0.428572,0.65484,0.0000776235,0,0.460318,0.632496,0.0000770316,0,0.492064,0.609908,0.0000762669,0,0.52381,0.587312,0.0000753972,0,0.555556,0.564938,0.0000739994,0,0.587302,0.542577,0.0000728382,0,0.619048,0.52062,0.000071112,0,0.650794,0.498819,0.0000694004,0,0.68254,0.477555,0.0000675575,0,0.714286,0.456568,0.0000653449,0,0.746032,0.436278,0.0000636068,0,0.777778,0.41637,0.0000613466,0,0.809524,0.397144,0.0000594177,0,0.84127,0.378412,0.0000570987,0,0.873016,0.360376,0.0000550419,0,0.904762,0.342906,0.0000527422,0,0.936508,0.326136,0.0000506544,0,0.968254,0.30997,0.0000484307,0,1,1,0.00000000354014,0,0,1,0.00000000354073,0,0,1,0.00000000354972,0,0,1,0.00000000358929,0,0,1,0.00000000370093,0,0,0.999999,0.00000000396194,0,0,0.999998,0.00000000453352,0,0,0.999997,0.00000000578828,0,0,0.999994,0.00000000863812,0,0,0.999991,0.0000000153622,0,0,0.999985,0.0000000316356,0,0,0.999977,0.0000000712781,0,0,0.999964,0.000000166725,0,0,0.999945,0.000000390501,0,0,0.999912,0.000000895622,0,0,0.999866,0.00000198428,0,0,0.999786,0.00000421038,0,0,0.999647,0.00000850239,0,0,0.999356,0.0000162059,0,0,0.998563,0.0000282652,0,0,0.994928,0.0000336309,0,0.0000244244,0.987999,0.0000178458,0,0.000523891,0.982893,0.0000159162,0,0.00194729,0.977044,0.0000178056,0,0.00451099,0.969972,0.0000230624,0,0.00835132,0.964237,0.0000313922,0,0.013561,0.960791,0.0000406145,0,0.0202056,0.954292,0.0000372796,0,0.0283321,0.948052,0.0000403199,0,0.0379739,0.940938,0.0000479537,0,0.0491551,0.931689,0.0000545292,0,0.0618918,0.91987,0.000054038,0,0.0761941,0.907665,0.0000589909,0,0.0920672,0.895281,0.0000642651,0,0.109511,0.882621,0.0000659707,0,0.12852,0.86873,0.0000709973,0,0.149085,0.853008,0.0000742221,0,0.171189,0.835944,0.0000761754,0,0.194809,0.818949,0.0000797052,0,0.21991,0.800951,0.0000812434,0,0.246447,0.781847,0.0000838075,0,0.274352,0.761649,0.000084501,0,0.303535,0.74152,0.0000860258,0,0.333857,0.720495,0.0000866233,0,0.365104,0.698742,0.0000868326,0,0.396826,0.677096,0.000087133,0,0.428572,0.654782,0.0000863497,0,0.460318,0.632335,0.0000860206,0,0.492064,0.610031,0.0000849337,0,0.52381,0.587457,0.0000838279,0,0.555556,0.56513,0.000082309,0,0.587302,0.542877,0.0000803542,0,0.619048,0.5209,0.0000786928,0,0.650794,0.499291,0.0000765171,0,0.68254,0.477971,0.0000744753,0,0.714286,0.457221,0.000072209,0,0.746032,0.436803,0.0000697448,0,0.777778,0.417083,0.0000675333,0,0.809524,0.397749,0.0000648058,0,0.84127,0.379177,0.0000625759,0,0.873016,0.361061,0.0000598584,0,0.904762,0.343713,0.0000575797,0,0.936508,0.326894,0.0000549999,0,0.968254,0.310816,0.0000527482,0,1,1,0.000000010153,0,0,1,0.0000000101544,0,0,1,0.0000000101751,0,0,1,0.0000000102662,0,0,1,0.000000010521,0,0,0.999999,0.0000000111049,0,0,0.999999,0.0000000123408,0,0,0.999996,0.000000014924,0,0,0.999992,0.0000000204471,0,0,0.999989,0.0000000326539,0,0,0.99998,0.0000000603559,0,0,0.999971,0.000000123936,0,0,0.999955,0.000000269058,0,0,0.999933,0.000000593604,0,0,0.999901,0.00000129633,0,0,0.999847,0.00000275621,0,0,0.999761,0.00000564494,0,0,0.999607,0.0000110485,0,0,0.999282,0.0000204388,0,0,0.99831,0.0000341084,0,0.00000022038,0.993288,0.0000294949,0,0.000242388,0.987855,0.0000192736,0,0.0012503,0.983167,0.0000182383,0,0.0032745,0.977908,0.0000218633,0,0.00646321,0.971194,0.0000290662,0,0.0109133,0.963867,0.0000386401,0,0.0166927,0.95982,0.0000462827,0,0.0238494,0.953497,0.0000420705,0,0.0324178,0.947621,0.0000477743,0,0.0424225,0.940611,0.0000568258,0,0.0538808,0.931174,0.0000618061,0,0.0668047,0.919919,0.0000627098,0,0.0812014,0.907856,0.0000694714,0,0.0970745,0.894509,0.0000735008,0,0.114424,0.881954,0.0000763369,0,0.133246,0.868309,0.0000821896,0,0.153534,0.852511,0.000083769,0,0.175275,0.835821,0.0000881615,0,0.198453,0.817981,0.0000896368,0,0.223042,0.800504,0.0000930906,0,0.249009,0.78141,0.0000945056,0,0.276304,0.761427,0.0000963605,0,0.304862,0.74094,0.0000968088,0,0.334584,0.720233,0.0000981481,0,0.365322,0.698592,0.0000979122,0,0.396826,0.676763,0.0000981057,0,0.428571,0.654808,0.0000973956,0,0.460318,0.632326,0.0000962619,0,0.492064,0.610049,0.0000952996,0,0.52381,0.58763,0.0000933334,0,0.555556,0.565261,0.0000917573,0,0.587302,0.543244,0.0000896636,0,0.619048,0.521273,0.0000873304,0,0.650794,0.499818,0.0000852648,0,0.68254,0.478536,0.0000823961,0,0.714286,0.457826,0.000079939,0,0.746032,0.437549,0.000077126,0,0.777778,0.41776,0.0000743043,0,0.809524,0.39863,0.0000716426,0,0.84127,0.379954,0.0000686456,0,0.873016,0.362025,0.0000660514,0,0.904762,0.344581,0.0000630755,0,0.936508,0.327909,0.0000605439,0,0.968254,0.311736,0.0000576345,0,1,1,0.0000000263344,0,0,1,0.0000000263373,0,0,1,0.0000000263815,0,0,1,0.0000000265753,0,0,1,0.0000000271132,0,0,0.999999,0.0000000283279,0,0,0.999997,0.000000030833,0,0,0.999995,0.0000000358711,0,0,0.999992,0.0000000461266,0,0,0.999985,0.000000067574,0,0,0.999977,0.00000011358,0,0,0.999966,0.000000213657,0,0,0.999948,0.000000431151,0,0,0.999923,0.000000896656,0,0,0.999884,0.00000186603,0,0,0.999826,0.00000381115,0,0,0.999732,0.00000754184,0,0,0.999561,0.0000143192,0,0,0.999191,0.0000257061,0,0,0.997955,0.0000405724,0,0.0000744132,0.992228,0.0000276537,0,0.000716477,0.987638,0.0000208885,0,0.0022524,0.983395,0.0000215226,0,0.00484816,0.978614,0.0000270795,0,0.00860962,0.972389,0.0000365282,0,0.0136083,0.964392,0.0000474747,0,0.0198941,0.95861,0.0000509141,0,0.0275023,0.952806,0.000048963,0,0.0364584,0.94712,0.0000571119,0,0.04678,0.940104,0.0000671704,0,0.0584799,0.930398,0.0000687586,0,0.0715665,0.919866,0.0000738161,0,0.086045,0.907853,0.0000813235,0,0.101918,0.894078,0.0000834582,0,0.119186,0.881177,0.0000892093,0,0.137845,0.867575,0.0000944548,0,0.157891,0.852107,0.0000969607,0,0.179316,0.835502,0.000101456,0,0.202106,0.81756,0.000103256,0,0.226243,0.79984,0.000106954,0,0.251704,0.780998,0.000108066,0,0.278451,0.761132,0.000110111,0,0.306436,0.740429,0.000110459,0,0.335586,0.719836,0.000111219,0,0.365796,0.698467,0.00011145,0,0.3969,0.676446,0.000110393,0,0.428571,0.654635,0.000110035,0,0.460318,0.632411,0.000108548,0,0.492064,0.609986,0.000106963,0,0.52381,0.587872,0.000105238,0,0.555556,0.565528,0.000102665,0,0.587302,0.543563,0.000100543,0,0.619048,0.52176,0.0000976182,0,0.650794,0.500188,0.0000947099,0,0.68254,0.479204,0.0000919929,0,0.714286,0.458413,0.0000886139,0,0.746032,0.438314,0.0000857839,0,0.777778,0.418573,0.000082411,0,0.809524,0.39947,0.0000792211,0,0.84127,0.380892,0.0000759546,0,0.873016,0.362953,0.0000727571,0,0.904762,0.345601,0.0000695738,0,0.936508,0.328895,0.0000664907,0,0.968254,0.312808,0.0000634277,0,1,1,0.0000000628647,0,0,1,0.0000000628705,0,0,1,0.0000000629587,0,0,1,0.0000000633441,0,0,0.999999,0.0000000644087,0,0,0.999998,0.0000000667856,0,0,0.999997,0.0000000715889,0,0,0.999995,0.0000000809577,0,0,0.999989,0.0000000992764,0,0,0.999983,0.000000135834,0,0,0.999974,0.000000210482,0,0,0.999959,0.000000365215,0,0,0.999939,0.000000686693,0,0,0.999911,0.0000013472,0,0,0.999868,0.0000026731,0,0,0.999804,0.00000524756,0,0,0.9997,0.0000100403,0,0,0.99951,0.0000185019,0,0,0.999078,0.0000322036,0,0.00000620676,0.997428,0.0000470002,0,0.000341552,0.99162,0.0000287123,0,0.00143727,0.987479,0.0000234706,0,0.00349201,0.983582,0.0000260083,0,0.0066242,0.979186,0.0000337927,0,0.0109113,0.97325,0.0000454689,0,0.0164064,0.965221,0.0000573759,0,0.0231463,0.957262,0.0000544114,0,0.0311571,0.952211,0.0000587006,0,0.0404572,0.946631,0.0000692256,0,0.0510592,0.939391,0.0000787819,0,0.0629723,0.929795,0.0000792368,0,0.0762025,0.91965,0.0000875075,0,0.090753,0.907737,0.0000950903,0,0.106626,0.893899,0.0000972963,0,0.123822,0.880239,0.00010459,0,0.142337,0.866562,0.000107689,0,0.16217,0.85164,0.000113081,0,0.183314,0.835021,0.000116636,0,0.20576,0.817311,0.000120074,0,0.229496,0.798845,0.000121921,0,0.254502,0.780479,0.00012475,0,0.280753,0.760694,0.000125255,0,0.308212,0.740142,0.000126719,0,0.336825,0.719248,0.00012636,0,0.366517,0.698209,0.000126712,0,0.397167,0.676398,0.000125769,0,0.428578,0.654378,0.000124432,0,0.460318,0.632484,0.000123272,0,0.492064,0.610113,0.00012085,0,0.52381,0.587931,0.000118411,0,0.555556,0.565872,0.00011569,0,0.587302,0.543814,0.000112521,0,0.619048,0.522265,0.000109737,0,0.650794,0.500835,0.000106228,0,0.68254,0.479818,0.000102591,0,0.714286,0.459258,0.0000991288,0,0.746032,0.439061,0.0000952325,0,0.777778,0.419552,0.000091895,0,0.809524,0.400399,0.0000879051,0,0.84127,0.381976,0.0000844775,0,0.873016,0.364009,0.0000806316,0,0.904762,0.346761,0.0000771848,0,0.936508,0.330049,0.0000735429,0,0.968254,0.314018,0.0000702103,0,1,1,0.000000139968,0,0,1,0.000000139979,0,0,1,0.000000140145,0,0,1,0.00000014087,0,0,0.999999,0.000000142865,0,0,0.999998,0.000000147279,0,0,0.999997,0.000000156057,0,0,0.999992,0.00000017276,0,0,0.999989,0.000000204352,0,0,0.99998,0.00000026494,0,0,0.999969,0.000000383435,0,0,0.999953,0.000000618641,0,0,0.999929,0.00000108755,0,0,0.999898,0.00000201497,0,0,0.999849,0.00000381346,0,0,0.999778,0.00000719815,0,0,0.999661,0.0000133215,0,0,0.999451,0.0000238313,0,0,0.998936,0.0000401343,0,0.000113724,0.99662,0.0000517346,0,0.000820171,0.991094,0.0000304323,0,0.00238143,0.987487,0.0000281757,0,0.00493527,0.983731,0.0000320048,0,0.00856859,0.979647,0.0000423905,0,0.0133393,0.973837,0.0000562935,0,0.0192863,0.96584,0.0000677442,0,0.0264369,0.956309,0.0000623073,0,0.03481,0.951523,0.0000704131,0,0.0444184,0.946003,0.0000836594,0,0.0552713,0.938454,0.0000911736,0,0.0673749,0.929279,0.0000938264,0,0.0807329,0.919239,0.000103754,0,0.0953479,0.907293,0.000109928,0,0.111221,0.893936,0.000115257,0,0.128352,0.879674,0.000122265,0,0.14674,0.865668,0.000125733,0,0.166382,0.850998,0.000132305,0,0.187276,0.834498,0.000134844,0,0.209413,0.816903,0.000139276,0,0.232786,0.798235,0.000140984,0,0.257382,0.779724,0.00014378,0,0.283181,0.760251,0.000144623,0,0.310156,0.739808,0.000145228,0,0.338269,0.718762,0.00014539,0,0.367461,0.697815,0.000144432,0,0.397646,0.67631,0.000143893,0,0.428685,0.654278,0.000141846,0,0.460318,0.632347,0.00013935,0,0.492064,0.610296,0.000137138,0,0.52381,0.588039,0.000133806,0,0.555556,0.566218,0.000130755,0,0.587302,0.544346,0.000127128,0,0.619048,0.522701,0.000123002,0,0.650794,0.501542,0.000119443,0,0.68254,0.480508,0.000115055,0,0.714286,0.460092,0.000111032,0,0.746032,0.440021,0.000106635,0,0.777778,0.420446,0.000102162,0,0.809524,0.401512,0.000098184,0,0.84127,0.38299,0.0000936497,0,0.873016,0.365232,0.000089813,0,0.904762,0.347865,0.0000853073,0,0.936508,0.331342,0.0000817068,0,0.968254,0.315202,0.0000773818,0,1,1,0.00000029368,0,0,1,0.0000002937,0,0,1,0.000000293998,0,0,1,0.000000295298,0,0,0.999999,0.000000298865,0,0,0.999998,0.0000003067,0,0,0.999995,0.000000322082,0,0,0.999992,0.000000350767,0,0,0.999986,0.000000403538,0,0,0.999976,0.000000501372,0,0,0.999964,0.00000068562,0,0,0.999945,0.0000010374,0,0,0.999919,0.00000171269,0,0,0.999882,0.00000300175,0,0,0.999829,0.00000542144,0,0,0.999749,0.00000984182,0,0,0.99962,0.0000176213,0,0,0.999382,0.0000305995,0,0.0000138418,0.998751,0.0000496686,0,0.000389844,0.995344,0.0000510733,0,0.00150343,0.990768,0.0000345829,0,0.00352451,0.987464,0.0000342841,0,0.00655379,0.983846,0.0000399072,0,0.0106554,0.980007,0.0000533219,0,0.0158723,0.974494,0.0000696992,0,0.0222333,0.96622,0.0000776754,0,0.029758,0.956273,0.0000747718,0,0.0384596,0.950952,0.0000864611,0,0.0483473,0.945215,0.000100464,0,0.0594266,0.937287,0.000103729,0,0.0717019,0.928649,0.000111665,0,0.0851752,0.918791,0.00012353,0,0.0998479,0.906685,0.000127115,0,0.115721,0.893706,0.00013628,0,0.132794,0.879248,0.000142427,0,0.151067,0.864685,0.000148091,0,0.170538,0.850032,0.000153517,0,0.191204,0.833853,0.000157322,0,0.213063,0.816353,0.000161086,0,0.236107,0.797834,0.000164111,0,0.260329,0.778831,0.000165446,0,0.285714,0.759756,0.000167492,0,0.312243,0.739419,0.000166928,0,0.339887,0.718491,0.000167,0,0.368604,0.697392,0.000165674,0,0.398329,0.676102,0.000163815,0,0.428961,0.654243,0.000162003,0,0.460331,0.632176,0.000158831,0,0.492064,0.610407,0.000155463,0,0.52381,0.588394,0.000152062,0,0.555556,0.56645,0.000147665,0,0.587302,0.5449,0.00014375,0,0.619048,0.523276,0.000138905,0,0.650794,0.502179,0.000134189,0,0.68254,0.481359,0.000129392,0,0.714286,0.46092,0.000124556,0,0.746032,0.441084,0.00011957,0,0.777778,0.421517,0.000114652,0,0.809524,0.402721,0.000109688,0,0.84127,0.384222,0.000104667,0,0.873016,0.366534,0.0000999633,0,0.904762,0.349205,0.0000950177,0,0.936508,0.332702,0.0000907301,0,0.968254,0.316599,0.0000859769,0,1,1,0.000000585473,0,0,1,0.000000585507,0,0,1,0.00000058602,0,0,0.999999,0.000000588259,0,0,0.999999,0.000000594381,0,0,0.999998,0.000000607754,0,0,0.999995,0.000000633729,0,0,0.99999,0.00000068137,0,0,0.999984,0.000000767003,0,0,0.999973,0.000000921212,0,0,0.999959,0.00000120218,0,0,0.999936,0.00000172024,0,0,0.999907,0.00000268088,0,0,0.999866,0.00000445512,0,0,0.999806,0.00000768481,0,0,0.999716,0.00001342,0,0,0.999576,0.0000232473,0,0,0.9993,0.0000391694,0,0.000129917,0.998498,0.0000608429,0,0.000845035,0.994132,0.0000489743,0,0.00237616,0.99031,0.0000384644,0,0.00484456,0.987409,0.0000421768,0,0.00832472,0.983981,0.0000504854,0,0.0128643,0.980268,0.0000671028,0,0.0184947,0.974875,0.0000852749,0,0.025237,0.966063,0.000085531,0,0.0331046,0.956779,0.0000900588,0,0.0421067,0.950259,0.00010577,0,0.0522487,0.944239,0.000119458,0,0.0635343,0.936341,0.000122164,0,0.0759654,0.928047,0.000134929,0,0.0895434,0.918065,0.000145544,0,0.104269,0.906267,0.000150531,0,0.120142,0.893419,0.000161652,0,0.137163,0.878758,0.00016593,0,0.15533,0.863699,0.000174014,0,0.174645,0.848876,0.000177877,0,0.195106,0.833032,0.000184049,0,0.21671,0.815557,0.000186088,0,0.239454,0.797323,0.00019054,0,0.263332,0.778124,0.000191765,0,0.288336,0.758929,0.000192535,0,0.314451,0.738979,0.000192688,0,0.341658,0.718213,0.000191522,0,0.369924,0.696947,0.000190491,0,0.399202,0.675807,0.000187913,0,0.429416,0.654147,0.000184451,0,0.460447,0.63229,0.000181442,0,0.492064,0.610499,0.000177139,0,0.523809,0.588747,0.000172596,0,0.555555,0.566783,0.000167457,0,0.587301,0.545359,0.000162518,0,0.619048,0.523984,0.000156818,0,0.650794,0.502917,0.000151884,0,0.68254,0.482294,0.000145514,0,0.714286,0.461945,0.000140199,0,0.746032,0.442133,0.000134101,0,0.777778,0.422705,0.000128374,0,0.809524,0.403916,0.000122996,0,0.84127,0.38554,0.000116808,0,0.873016,0.367909,0.000111973,0,0.904762,0.350651,0.000105938,0,0.936508,0.334208,0.000101355,0,0.968254,0.318123,0.0000957629,0,1,1,0.00000111633,0,0,1,0.00000111639,0,0,1,0.00000111725,0,0,1,0.00000112096,0,0,0.999999,0.0000011311,0,0,0.999997,0.00000115315,0,0,0.999995,0.0000011956,0,0,0.999989,0.00000127239,0,0,0.999981,0.00000140772,0,0,0.999969,0.00000164541,0,0,0.999952,0.00000206607,0,0,0.999928,0.00000281783,0,0,0.999895,0.00000416835,0,0,0.999848,0.00000658728,0,0,0.999781,0.0000108648,0,0,0.999682,0.0000182579,0,0,0.999523,0.0000306003,0,0.0000159122,0.999205,0.0000499862,0,0.000391184,0.998131,0.000073306,0,0.00147534,0.993334,0.0000513229,0,0.0034227,0.99016,0.0000467783,0,0.00632232,0.987321,0.0000523413,0,0.0102295,0.984099,0.000064267,0,0.0151794,0.980432,0.0000843042,0,0.0211947,0.974976,0.000102819,0,0.0282899,0.966429,0.0000996234,0,0.0364739,0.957633,0.000111074,0,0.0457522,0.949422,0.000128644,0,0.0561278,0.943045,0.000140076,0,0.0676023,0.935448,0.000146349,0,0.0801762,0.927225,0.000161854,0,0.0938499,0.917033,0.000169135,0,0.108623,0.905762,0.000179987,0,0.124496,0.892879,0.000189832,0,0.141469,0.878435,0.000195881,0,0.159541,0.863114,0.00020466,0,0.178713,0.84776,0.000209473,0,0.198985,0.832084,0.000214861,0,0.220355,0.814915,0.000217695,0,0.242823,0.796711,0.000220313,0,0.266385,0.777603,0.00022313,0,0.291036,0.757991,0.000222471,0,0.316767,0.738371,0.000222869,0,0.343563,0.717872,0.000221243,0,0.371402,0.696619,0.000218089,0,0.400248,0.675379,0.00021562,0,0.430047,0.65411,0.00021169,0,0.460709,0.63241,0.000206947,0,0.492079,0.61046,0.000201709,0,0.52381,0.58903,0.000196753,0,0.555556,0.567267,0.000189637,0,0.587302,0.545886,0.000184735,0,0.619048,0.524714,0.000177257,0,0.650794,0.503789,0.000171424,0,0.68254,0.483204,0.000164688,0,0.714286,0.462976,0.000157172,0,0.746032,0.443294,0.000151341,0,0.777778,0.423988,0.000143737,0,0.809524,0.405325,0.000138098,0,0.84127,0.386981,0.000130698,0,0.873016,0.369436,0.000125276,0,0.904762,0.35219,0.000118349,0,0.936508,0.335804,0.00011312,0,0.968254,0.319749,0.000106687,0,1,1,0.00000204685,0,0,1,0.00000204694,0,0,1,0.00000204831,0,0,0.999999,0.00000205428,0,0,0.999999,0.00000207056,0,0,0.999997,0.00000210581,0,0,0.999993,0.0000021732,0,0,0.999987,0.00000229365,0,0,0.999979,0.00000250243,0,0,0.999965,0.00000286127,0,0,0.999947,0.00000348028,0,0,0.999918,0.00000455588,0,0,0.999881,0.00000643303,0,0,0.999828,0.00000970064,0,0,0.999753,0.0000153233,0,0,0.999642,0.000024793,0,0,0.999464,0.0000402032,0,0.000122947,0.999089,0.0000635852,0,0.000807414,0.997567,0.0000857026,0,0.00227206,0.992903,0.0000594912,0,0.00462812,0.990011,0.0000578515,0,0.00794162,0.987192,0.000065399,0,0.0122534,0.98418,0.0000819675,0,0.0175888,0.980491,0.000105514,0,0.0239635,0.974779,0.000121532,0,0.031387,0.96675,0.000119144,0,0.0398644,0.958248,0.000136125,0,0.0493982,0.948884,0.000155408,0,0.0599896,0.941673,0.000162281,0,0.0716382,0.934521,0.000176754,0,0.0843437,0.926205,0.000192873,0,0.0981056,0.916089,0.000200038,0,0.112923,0.904963,0.000213624,0,0.128796,0.892089,0.000221834,0,0.145725,0.878028,0.000232619,0,0.163709,0.86249,0.000238632,0,0.182749,0.846587,0.000247002,0,0.202847,0.830988,0.000250702,0,0.224001,0.814165,0.000255562,0,0.246214,0.796135,0.000257505,0,0.269482,0.777052,0.000258625,0,0.293805,0.757201,0.000258398,0,0.319176,0.737655,0.000256714,0,0.345587,0.717477,0.000255187,0,0.373021,0.696433,0.000251792,0,0.401454,0.675084,0.000247223,0,0.430844,0.653907,0.000242213,0,0.461125,0.632561,0.000237397,0,0.492187,0.610658,0.000229313,0,0.52381,0.589322,0.000224402,0,0.555556,0.567857,0.000216116,0,0.587302,0.54652,0.000209124,0,0.619048,0.525433,0.000201601,0,0.650794,0.504679,0.000192957,0,0.68254,0.484203,0.000186052,0,0.714286,0.464203,0.000177672,0,0.746032,0.444549,0.000170005,0,0.777778,0.425346,0.000162401,0,0.809524,0.406706,0.0001544,0,0.84127,0.388576,0.000147437,0,0.873016,0.37094,0.000139493,0,0.904762,0.353996,0.000133219,0,0.936508,0.337391,0.000125573,0,0.968254,0.321648,0.000119867,0,1,1,0.00000362511,0,0,1,0.00000362525,0,0,1,0.00000362739,0,0,0.999999,0.00000363673,0,0,0.999998,0.00000366214,0,0,0.999996,0.00000371698,0,0,0.999992,0.00000382116,0,0,0.999986,0.00000400554,0,0,0.999976,0.00000432058,0,0,0.999961,0.00000485194,0,0,0.999938,0.00000574808,0,0,0.999908,0.00000726643,0,0,0.999865,0.00000984707,0,0,0.999807,0.0000142217,0,0,0.999723,0.0000215581,0,0,0.999602,0.0000336114,0,0.0000119113,0.999398,0.0000527353,0,0.000355813,0.998946,0.0000805809,0,0.00137768,0.996647,0.0000942908,0,0.00322469,0.992298,0.0000668733,0,0.00597897,0.989802,0.0000716564,0,0.00968903,0.987019,0.0000821355,0,0.0143845,0.984219,0.000104555,0,0.0200831,0.980425,0.000131245,0,0.0267948,0.974241,0.000139613,0,0.034525,0.967006,0.000145931,0,0.0432757,0.95893,0.000167153,0,0.0530471,0.949157,0.000188146,0,0.0638386,0.94062,0.000194625,0,0.0756487,0.933509,0.000213721,0,0.0884762,0.925088,0.000229616,0,0.10232,0.915178,0.000239638,0,0.117178,0.904093,0.000254814,0,0.133051,0.891337,0.000263685,0,0.149939,0.877326,0.000274789,0,0.167841,0.861794,0.000280534,0,0.18676,0.845758,0.000289534,0,0.206696,0.829792,0.000294446,0,0.22765,0.813037,0.000296877,0,0.249625,0.795285,0.000300217,0,0.27262,0.776323,0.000299826,0,0.296636,0.756673,0.000299787,0,0.321671,0.736856,0.000297867,0,0.347718,0.716883,0.000294052,0,0.374768,0.696089,0.000289462,0,0.402804,0.67505,0.000285212,0,0.431796,0.653509,0.00027653,0,0.461695,0.63258,0.000271759,0,0.49242,0.61104,0.000262811,0,0.523822,0.589567,0.000255151,0,0.555556,0.568322,0.000246434,0,0.587302,0.547235,0.000237061,0,0.619048,0.52616,0.000228343,0,0.650794,0.505716,0.000219236,0,0.68254,0.485274,0.000209595,0,0.714286,0.465411,0.000201011,0,0.746032,0.445854,0.00019109,0,0.777778,0.426911,0.000182897,0,0.809524,0.408222,0.000173569,0,0.84127,0.390307,0.000165496,0,0.873016,0.372624,0.000156799,0,0.904762,0.355804,0.00014917,0,0.936508,0.33924,0.000140907,0,0.968254,0.323534,0.000134062,0,1,1,0.00000622487,0,0,1,0.0000062251,0,0,1,0.00000622837,0,0,0.999999,0.00000624259,0,0,0.999998,0.00000628127,0,0,0.999996,0.00000636451,0,0,0.999991,0.0000065218,0,0,0.999984,0.00000679782,0,0,0.999973,0.00000726361,0,0,0.999955,0.00000803644,0,0,0.999931,0.00000931397,0,0,0.999896,0.0000114299,0,0,0.999847,0.0000149402,0,0,0.999784,0.0000207461,0,0,0.999692,0.0000302493,0,0,0.999554,0.0000454957,0,0.0000997275,0.999326,0.0000690762,0,0.000724813,0.998757,0.000101605,0,0.0020972,0.995367,0.0000958745,0,0.00432324,0.99209,0.0000832808,0,0.00746347,0.989517,0.0000887601,0,0.0115534,0.987008,0.00010564,0,0.0166134,0.98421,0.000133179,0,0.0226552,0.98021,0.000161746,0,0.0296838,0.973676,0.000161821,0,0.0377016,0.967052,0.000178635,0,0.0467079,0.959385,0.000206765,0,0.0567013,0.949461,0.00022476,0,0.0676796,0.939578,0.00023574,0,0.0796403,0.932416,0.00025893,0,0.0925812,0.923759,0.000271228,0,0.106501,0.914223,0.000289165,0,0.121397,0.902942,0.000301156,0,0.13727,0.890419,0.000313852,0,0.15412,0.876639,0.000324408,0,0.171946,0.861316,0.00033249,0,0.190751,0.84496,0.000338497,0,0.210537,0.828427,0.000345861,0,0.231305,0.811871,0.000347863,0,0.253057,0.794397,0.000350225,0,0.275797,0.775726,0.000349915,0,0.299525,0.75617,0.000347297,0,0.324242,0.736091,0.000344232,0,0.349947,0.716213,0.000340835,0,0.376633,0.695736,0.000332369,0,0.404289,0.674961,0.000327943,0,0.432895,0.653518,0.000318533,0,0.462415,0.632574,0.000310391,0,0.492788,0.61134,0.000300755,0,0.523909,0.590017,0.000290506,0,0.555556,0.568752,0.000280446,0,0.587302,0.548061,0.000269902,0,0.619048,0.52711,0.000258815,0,0.650794,0.506682,0.000248481,0,0.68254,0.486524,0.000237141,0,0.714286,0.466812,0.000226872,0,0.746032,0.44732,0.000216037,0,0.777778,0.428473,0.000205629,0,0.809524,0.409921,0.000195691,0,0.84127,0.392028,0.000185457,0,0.873016,0.374606,0.000176436,0,0.904762,0.357601,0.000166508,0,0.936508,0.341348,0.000158385,0,0.968254,0.32542,0.000149203,0,1,1,0.0000103967,0,0,1,0.000010397,0,0,1,0.0000104019,0,0,0.999999,0.0000104231,0,0,0.999998,0.0000104806,0,0,0.999995,0.0000106042,0,0,0.999991,0.0000108366,0,0,0.999982,0.0000112415,0,0,0.999968,0.0000119174,0,0,0.99995,0.0000130227,0,0,0.999922,0.0000148176,0,0,0.999884,0.0000177303,0,0,0.99983,0.0000224564,0,0,0.999758,0.0000300966,0,0,0.999654,0.0000423193,0,0.00000549083,0.999503,0.0000614848,0,0.000296087,0.999237,0.0000903576,0,0.00123144,0.998491,0.0001271,0,0.00295954,0.994594,0.000107754,0,0.00555829,0.99178,0.000103025,0,0.00907209,0.989265,0.00011154,0,0.0135257,0.986998,0.000136296,0,0.0189327,0.984137,0.000169154,0,0.0252993,0.979798,0.000196671,0,0.0326272,0.97337,0.000196678,0,0.0409157,0.967239,0.000223121,0,0.0501623,0.959543,0.000253809,0,0.0603638,0.949466,0.000265972,0,0.0715171,0.939074,0.000288372,0,0.0836187,0.931118,0.000310983,0,0.0966657,0.922525,0.000325561,0,0.110656,0.912983,0.000345725,0,0.125588,0.901617,0.0003556,0,0.141461,0.889487,0.000374012,0,0.158275,0.875787,0.000383445,0,0.176031,0.860654,0.000393972,0,0.19473,0.844417,0.000400311,0,0.214374,0.82741,0.000405004,0,0.234967,0.810545,0.000407378,0,0.256512,0.793312,0.000407351,0,0.279011,0.774847,0.000406563,0,0.302468,0.755621,0.000404903,0,0.326887,0.735511,0.000397486,0,0.352266,0.715435,0.00039357,0,0.378605,0.695403,0.000384739,0,0.405897,0.674681,0.000376108,0,0.43413,0.65359,0.000365997,0,0.463277,0.632471,0.000354957,0,0.493295,0.61151,0.000343593,0,0.524106,0.59064,0.000331841,0,0.555561,0.569386,0.000318891,0,0.587302,0.548785,0.0003072,0,0.619048,0.528146,0.00029361,0,0.650794,0.507872,0.000281709,0,0.68254,0.487805,0.000268627,0,0.714286,0.468196,0.000255887,0,0.746032,0.448922,0.000243997,0,0.777778,0.430093,0.000231662,0,0.809524,0.411845,0.000220339,0,0.84127,0.393808,0.000208694,0,0.873016,0.376615,0.000198045,0,0.904762,0.359655,0.000187375,0,0.936508,0.343452,0.000177371,0,0.968254,0.32765,0.000167525,0,1,1,0.0000169351,0,0,1,0.0000169356,0,0,1,0.0000169427,0,0,0.999999,0.0000169736,0,0,0.999998,0.0000170575,0,0,0.999995,0.0000172372,0,0,0.99999,0.0000175739,0,0,0.999979,0.0000181568,0,0,0.999966,0.0000191206,0,0,0.999944,0.000020677,0,0,0.999912,0.0000231644,0,0,0.999869,0.0000271268,0,0,0.999811,0.0000334272,0,0,0.99973,0.0000433979,0,0,0.999617,0.0000590083,0,0.0000680315,0.999445,0.0000829497,0,0.000612796,0.999138,0.000118019,0,0.00187408,0.998095,0.000156712,0,0.00395791,0.993919,0.000125054,0,0.00692144,0.991333,0.000126091,0,0.0107962,0.989226,0.000144912,0,0.0155986,0.986954,0.000175737,0,0.0213364,0.983982,0.000213883,0,0.0280114,0.979128,0.000234526,0,0.0356226,0.973327,0.000243725,0,0.0441668,0.967416,0.0002773,0,0.0536399,0.959729,0.000308799,0,0.0640376,0.949758,0.000322447,0,0.0753554,0.939173,0.000350021,0,0.0875893,0.9296,0.000370089,0,0.100736,0.921181,0.000391365,0,0.114793,0.91164,0.000413636,0,0.129759,0.900435,0.000427068,0,0.145632,0.888183,0.000441046,0,0.162412,0.874772,0.000454968,0,0.180101,0.859566,0.000461882,0,0.1987,0.843579,0.000471556,0,0.218213,0.826453,0.000474335,0,0.238641,0.809164,0.000477078,0,0.259989,0.792179,0.00047755,0,0.282262,0.773866,0.000472573,0,0.305464,0.754944,0.000469765,0,0.329599,0.735133,0.000462371,0,0.35467,0.714858,0.000453674,0,0.380678,0.694829,0.000443888,0,0.407622,0.674453,0.000432052,0,0.435493,0.653685,0.000420315,0,0.464275,0.632666,0.000406829,0,0.493938,0.611676,0.000392234,0,0.524422,0.591193,0.000379208,0,0.555624,0.570145,0.00036319,0,0.587302,0.549566,0.000349111,0,0.619048,0.529278,0.000334166,0,0.650794,0.509026,0.000318456,0,0.68254,0.489186,0.00030449,0,0.714286,0.469662,0.000289051,0,0.746032,0.450691,0.000275494,0,0.777778,0.431841,0.000261437,0,0.809524,0.413752,0.000247846,0,0.84127,0.395951,0.000235085,0,0.873016,0.378633,0.000222245,0,0.904762,0.36194,0.000210533,0,0.936508,0.345599,0.000198494,0,0.968254,0.329999,0.000188133,0,1,1,0.0000269663,0,0,1,0.000026967,0,0,1,0.0000269772,0,0,0.999999,0.0000270214,0,0,0.999998,0.0000271415,0,0,0.999994,0.000027398,0,0,0.999988,0.0000278771,0,0,0.999977,0.0000287019,0,0,0.999961,0.0000300544,0,0,0.999937,0.0000322138,0,0,0.999904,0.0000356163,0,0,0.999854,0.0000409465,0,0,0.99979,0.0000492651,0,0,0.999699,0.0000621722,0,0.00000088288,0.999572,0.0000819715,0,0.000223369,0.999381,0.000111689,0,0.00105414,0.999016,0.000153862,0,0.0026493,0.997437,0.000187667,0,0.00508608,0.993545,0.000155672,0,0.00840554,0.991135,0.000161455,0,0.012629,0.989157,0.000188241,0,0.0177661,0.986874,0.000226229,0,0.0238198,0.983714,0.000268668,0,0.0307887,0.978301,0.000277109,0,0.0386688,0.973227,0.000303446,0,0.0474554,0.967317,0.000341851,0,0.0571428,0.959477,0.000370885,0,0.0677256,0.950012,0.000392753,0,0.0791988,0.939484,0.00042781,0,0.0915576,0.928135,0.000443866,0,0.104798,0.919819,0.000472959,0,0.118918,0.910049,0.000491551,0,0.133915,0.899181,0.000512616,0,0.149788,0.886881,0.000523563,0,0.166537,0.87359,0.000540183,0,0.184164,0.858613,0.000547386,0,0.202669,0.842809,0.000554809,0,0.222056,0.825727,0.000558316,0,0.242329,0.808086,0.000557824,0,0.263492,0.790728,0.000556346,0,0.285551,0.772987,0.000552672,0,0.30851,0.7541,0.000543738,0,0.332376,0.734669,0.000536107,0,0.357153,0.714411,0.000523342,0,0.382845,0.694196,0.000512238,0,0.409454,0.674252,0.000497465,0,0.436977,0.65357,0.000481096,0,0.465404,0.632999,0.000467054,0,0.494713,0.611994,0.000448771,0,0.524864,0.591604,0.000431889,0,0.555779,0.571134,0.000415238,0,0.587302,0.550528,0.000396369,0,0.619048,0.530292,0.000379477,0,0.650794,0.510364,0.000361488,0,0.68254,0.490749,0.000343787,0,0.714286,0.471266,0.000327822,0,0.746032,0.452462,0.000310626,0,0.777778,0.433907,0.000295352,0,0.809524,0.415659,0.000279179,0,0.84127,0.398138,0.000264685,0,0.873016,0.380833,0.000249905,0,0.904762,0.364247,0.000236282,0,0.936508,0.348041,0.000222905,0,0.968254,0.332389,0.000210522,0,1,1,0.0000420604,0,0,1,0.0000420614,0,0,1,0.0000420757,0,0,0.999999,0.000042138,0,0,0.999997,0.0000423067,0,0,0.999993,0.0000426668,0,0,0.999986,0.0000433372,0,0,0.999974,0.0000444857,0,0,0.999956,0.0000463554,0,0,0.99993,0.0000493105,0,0,0.999892,0.0000539077,0,0,0.999838,0.0000610005,0,0,0.999767,0.0000718822,0,0,0.999666,0.0000884581,0,0.0000365471,0.999525,0.000113398,0,0.000485623,0.999311,0.000150043,0,0.00162096,0.998865,0.000200063,0,0.00355319,0.996278,0.000211014,0,0.00633818,0.992956,0.000189672,0,0.0100043,0.991017,0.000210262,0,0.0145648,0.989055,0.000244292,0,0.0200237,0.986741,0.000290481,0,0.0263798,0.983288,0.000334303,0,0.033629,0.977784,0.000340307,0,0.0417652,0.973037,0.000377864,0,0.0507821,0.967181,0.0004239,0,0.060673,0.958971,0.000443854,0,0.0714314,0.950093,0.000483039,0,0.0830518,0.939552,0.000517934,0,0.0955288,0.927678,0.000539449,0,0.108859,0.918278,0.000568604,0,0.123038,0.908449,0.000588505,0,0.138065,0.897713,0.000612473,0,0.153938,0.885533,0.000625575,0,0.170657,0.872131,0.00063854,0,0.188224,0.857517,0.000647034,0,0.20664,0.841796,0.00065209,0,0.225909,0.824726,0.0006544,0,0.246035,0.807297,0.000655744,0,0.267022,0.789058,0.000646716,0,0.288878,0.77189,0.000643898,0,0.311607,0.753082,0.000629973,0,0.335216,0.7341,0.000621564,0,0.359713,0.714094,0.000605171,0,0.385103,0.693839,0.000588752,0,0.41139,0.673891,0.000573294,0,0.438576,0.653565,0.000552682,0,0.466656,0.633326,0.000533446,0,0.495617,0.612582,0.000514635,0,0.525431,0.59205,0.00049303,0,0.556041,0.571918,0.000471842,0,0.587338,0.551572,0.000451713,0,0.619048,0.531553,0.000430049,0,0.650794,0.51175,0.000410445,0,0.68254,0.49238,0.000390098,0,0.714286,0.473143,0.000370033,0,0.746032,0.45423,0.000351205,0,0.777778,0.435963,0.000332049,0,0.809524,0.41787,0.000315021,0,0.84127,0.400387,0.000297315,0,0.873016,0.383332,0.000281385,0,0.904762,0.366665,0.000265397,0,0.936508,0.350633,0.000250601,0,0.968254,0.334964,0.00023589,0,1,1,0.0000643736,0,0,1,0.000064375,0,0,1,0.0000643947,0,0,0.999999,0.000064481,0,0,0.999997,0.0000647143,0,0,0.999994,0.0000652119,0,0,0.999985,0.0000661359,0,0,0.999972,0.0000677116,0,0,0.999952,0.0000702599,0,0,0.999922,0.0000742517,0,0,0.99988,0.0000803906,0,0,0.99982,0.0000897315,0,0,0.999741,0.000103838,0,0,0.999629,0.00012496,0,0.000149024,0.999474,0.000156161,0,0.000861027,0.999229,0.000201034,0,0.00231198,0.998662,0.000259069,0,0.00458147,0.995299,0.000245439,0,0.00770895,0.992732,0.00024498,0,0.0117126,0.990847,0.000273211,0,0.0165989,0.988911,0.000316492,0,0.0223674,0.98654,0.00037161,0,0.0290135,0.982636,0.000410352,0,0.0365309,0.977346,0.000421756,0,0.0449117,0.972909,0.000475578,0,0.0541481,0.966821,0.000522482,0,0.0642326,0.958686,0.000545008,0,0.075158,0.949754,0.000589286,0,0.0869181,0.939184,0.000619995,0,0.0995074,0.927505,0.000654266,0,0.112922,0.916606,0.000682362,0,0.127157,0.906707,0.000704286,0,0.142212,0.895937,0.000725909,0,0.158085,0.883913,0.000743939,0,0.174776,0.870642,0.000755157,0,0.192287,0.856241,0.000764387,0,0.210619,0.84069,0.000771032,0,0.229775,0.823728,0.000765906,0,0.249761,0.806481,0.000767604,0,0.270582,0.787924,0.000754385,0,0.292243,0.770588,0.000749668,0,0.314753,0.751991,0.000731613,0,0.338118,0.733407,0.000717655,0,0.362347,0.713688,0.000700604,0,0.387447,0.693595,0.000678765,0,0.413424,0.673426,0.000657042,0,0.440284,0.65359,0.000635892,0,0.468027,0.633576,0.000611569,0,0.496645,0.613144,0.000586011,0,0.526122,0.592711,0.000563111,0,0.556417,0.572722,0.000537699,0,0.587451,0.552762,0.000512556,0,0.619048,0.532985,0.000489757,0,0.650794,0.513219,0.000464139,0,0.68254,0.493992,0.000442193,0,0.714286,0.47509,0.000418629,0,0.746032,0.456287,0.000397045,0,0.777778,0.438152,0.000375504,0,0.809524,0.420294,0.00035492,0,0.84127,0.402749,0.000335327,0,0.873016,0.385879,0.000316422,0,0.904762,0.369352,0.000298333,0,0.936508,0.353301,0.000281417,0,0.968254,0.337781,0.000265203,0,1,1,0.0000968267,0,0,1,0.0000968284,0,0,1,0.0000968556,0,0,0.999999,0.0000969733,0,0,0.999997,0.0000972913,0,0,0.999993,0.0000979688,0,0,0.999984,0.0000992239,0,0,0.999969,0.000101356,0,0,0.999946,0.000104784,0,0,0.999913,0.000110111,0,0,0.999868,0.000118217,0,0,0.999801,0.000130396,0,0,0.999712,0.000148523,0,0.0000124907,0.999589,0.000175233,0,0.000355405,0.999416,0.000213999,0,0.0013528,0.999136,0.000268529,0,0.00312557,0.998367,0.000333088,0,0.00573045,0.994701,0.000304757,0,0.00919397,0.992497,0.000318031,0,0.0135261,0.990608,0.000353863,0,0.0187278,0.988715,0.000409044,0,0.0247947,0.986241,0.000472967,0,0.0317196,0.981696,0.000495104,0,0.039494,0.977097,0.000532873,0,0.0481087,0.972583,0.000594447,0,0.0575549,0.966142,0.000636867,0,0.0678242,0.95823,0.000669899,0,0.0789089,0.949677,0.000719499,0,0.0908023,0.939226,0.000750584,0,0.103499,0.927501,0.000793183,0,0.116993,0.915199,0.00081995,0,0.131282,0.90498,0.000847654,0,0.146364,0.894243,0.000868929,0,0.162237,0.882154,0.000884278,0,0.178902,0.869161,0.000898108,0,0.196358,0.854751,0.000901254,0,0.21461,0.839368,0.00090679,0,0.23366,0.822874,0.000901541,0,0.253512,0.805514,0.000897297,0,0.274174,0.78716,0.000881856,0,0.29565,0.769061,0.000870032,0,0.31795,0.751,0.000851719,0,0.341081,0.732614,0.000830671,0,0.365053,0.713171,0.000806569,0,0.389874,0.693472,0.00078338,0,0.415553,0.673528,0.000756404,0,0.442098,0.653397,0.000726872,0,0.469512,0.633781,0.000700494,0,0.497794,0.613877,0.00067105,0,0.526935,0.593506,0.000640361,0,0.556908,0.573667,0.000613502,0,0.587657,0.553932,0.000583177,0,0.61906,0.534345,0.000554375,0,0.650794,0.515042,0.000527811,0,0.68254,0.495674,0.000499367,0,0.714286,0.477132,0.00047429,0,0.746032,0.458609,0.000447726,0,0.777778,0.440354,0.000424205,0,0.809524,0.422765,0.000399549,0,0.84127,0.405472,0.000378315,0,0.873016,0.388482,0.000355327,0,0.904762,0.372191,0.000336122,0,0.936508,0.356099,0.000315247,0,0.968254,0.340737,0.00029794,0,1,1,0.000143327,0,0,1,0.00014333,0,0,1,0.000143366,0,0,0.999999,0.000143524,0,0,0.999996,0.000143952,0,0,0.999991,0.000144862,0,0,0.999981,0.000146544,0,0,0.999966,0.000149391,0,0,0.999941,0.000153946,0,0,0.999905,0.000160971,0,0,0.999852,0.000171562,0,0,0.99978,0.00018729,0,0,0.999681,0.000210386,0,0.0000826239,0.999546,0.000243906,0,0.000664807,0.999352,0.000291739,0,0.00196192,0.999027,0.000357419,0,0.00405941,0.997886,0.000422349,0,0.00699664,0.99419,0.000385008,0,0.0107896,0.99214,0.000409775,0,0.0154415,0.990274,0.000456418,0,0.0209488,0.988455,0.000527008,0,0.0273037,0.985804,0.000597685,0,0.0344969,0.98103,0.000613124,0,0.0425183,0.976674,0.000668321,0,0.0513575,0.972021,0.000736985,0,0.0610046,0.965274,0.000773789,0,0.0714508,0.958046,0.000830852,0,0.0826877,0.949333,0.000875766,0,0.0947085,0.939135,0.000917088,0,0.107507,0.927119,0.000952244,0,0.121078,0.91469,0.000990626,0,0.135419,0.903006,0.00101304,0,0.150526,0.892368,0.00103834,0,0.166399,0.880231,0.00105002,0,0.183038,0.867432,0.00106331,0,0.200443,0.853208,0.00106783,0,0.218618,0.837956,0.00106458,0,0.237566,0.821772,0.00105945,0,0.257291,0.804328,0.00104685,0,0.2778,0.786465,0.00103178,0,0.2991,0.768004,0.00101077,0,0.321199,0.74972,0.000985504,0,0.344106,0.731682,0.000962893,0,0.36783,0.712813,0.000932146,0,0.392383,0.693139,0.00089871,0,0.417774,0.673566,0.000869678,0,0.444013,0.653483,0.000835525,0,0.471107,0.633891,0.000799853,0,0.49906,0.614433,0.000766838,0,0.527869,0.594586,0.000732227,0,0.557517,0.574769,0.000696442,0,0.587966,0.555149,0.000663935,0,0.61913,0.535898,0.000629826,0,0.650794,0.516753,0.000596486,0,0.68254,0.497816,0.000567078,0,0.714286,0.479034,0.000534399,0,0.746032,0.460975,0.000507013,0,0.777778,0.442935,0.000477421,0,0.809524,0.425263,0.000451101,0,0.84127,0.408248,0.000424964,0,0.873016,0.391339,0.00039993,0,0.904762,0.37513,0.000377619,0,0.936508,0.359172,0.000354418,0,0.968254,0.343876,0.000334823,0,1,1,0.000209042,0,0,1,0.000209045,0,0,1,0.000209093,0,0,0.999999,0.000209304,0,0,0.999996,0.000209871,0,0,0.999991,0.000211078,0,0,0.999979,0.000213304,0,0,0.999963,0.000217061,0,0,0.999933,0.000223042,0,0,0.999894,0.000232206,0,0,0.999837,0.000245901,0,0,0.999756,0.000266023,0,0.00000102927,0.999648,0.000295204,0,0.000233468,0.999499,0.000336958,0,0.00108237,0.999283,0.000395563,0,0.00268832,0.998896,0.000473785,0,0.00511138,0.997006,0.000520008,0,0.00837705,0.993819,0.000497261,0,0.0124928,0.991632,0.000523722,0,0.0174561,0.989875,0.000587258,0,0.0232596,0.988109,0.000676329,0,0.0298932,0.985155,0.000747701,0,0.0373453,0.980479,0.000768803,0,0.0456045,0.976271,0.000841054,0,0.0546593,0.971347,0.000911469,0,0.0644994,0.964528,0.000953057,0,0.0751152,0.957632,0.00102221,0,0.0864981,0.948681,0.00106122,0,0.0986407,0.938716,0.00111857,0,0.111537,0.926629,0.00114762,0,0.125182,0.914025,0.00118995,0,0.139571,0.901026,0.00121228,0,0.154703,0.890358,0.00123946,0,0.170576,0.878283,0.0012527,0,0.18719,0.865459,0.00125536,0,0.204547,0.851407,0.00126134,0,0.222648,0.836276,0.00124759,0,0.241498,0.820436,0.00124443,0,0.261101,0.803253,0.00122071,0,0.281465,0.785562,0.00120107,0,0.302595,0.76718,0.00117762,0,0.324501,0.748551,0.00114289,0,0.347192,0.730564,0.00110872,0,0.370679,0.712253,0.00107636,0,0.394973,0.692867,0.00103646,0,0.420085,0.673695,0.000996793,0,0.446027,0.653912,0.00095675,0,0.47281,0.634129,0.000916739,0,0.500441,0.615004,0.000874401,0,0.528921,0.595587,0.000833411,0,0.558244,0.575965,0.000794556,0,0.588384,0.5566,0.00075196,0,0.619281,0.537428,0.000716381,0,0.650795,0.518623,0.000676558,0,0.68254,0.499964,0.00064074,0,0.714286,0.481356,0.000605984,0,0.746032,0.463279,0.000570256,0,0.777778,0.445673,0.000540138,0,0.809524,0.428032,0.000507299,0,0.84127,0.411112,0.000479553,0,0.873016,0.394444,0.000450737,0,0.904762,0.378247,0.000424269,0,0.936508,0.362415,0.000399111,0,0.968254,0.347103,0.000375274,0,1,1,0.000300729,0,0,1,0.000300733,0,0,1,0.000300797,0,0,0.999998,0.000301072,0,0,0.999996,0.000301817,0,0,0.999989,0.000303398,0,0,0.999977,0.000306309,0,0,0.999958,0.000311209,0,0,0.999927,0.000318975,0,0,0.999884,0.000330804,0,0,0.99982,0.00034834,0,0,0.999733,0.000373854,0,0.0000326995,0.999613,0.000410424,0,0.000477174,0.999447,0.000462047,0,0.00161099,0.999204,0.000533322,0,0.00353153,0.998725,0.000624964,0,0.00627965,0.995871,0.000631786,0,0.0098693,0.993194,0.000632017,0,0.0143011,0.991541,0.00068923,0,0.019568,0.989773,0.000766892,0,0.0256593,0.987647,0.000863668,0,0.0325625,0.984193,0.000922089,0,0.0402647,0.980016,0.000970749,0,0.0487532,0.975859,0.00106027,0,0.058016,0.970514,0.00112239,0,0.0680419,0.963625,0.00117212,0,0.0788208,0.956959,0.00125211,0,0.0903439,0.947956,0.00129411,0,0.102604,0.93809,0.00135879,0,0.115594,0.92659,0.00139309,0,0.129309,0.913829,0.00143253,0,0.143745,0.90005,0.00145809,0,0.158901,0.888129,0.0014748,0,0.174774,0.87607,0.00148756,0,0.191365,0.863461,0.00148714,0,0.208674,0.849594,0.00148892,0,0.226705,0.834531,0.00146496,0,0.245461,0.81903,0.0014579,0,0.264947,0.802122,0.00143039,0,0.28517,0.78445,0.00139717,0,0.306137,0.766434,0.00136312,0,0.327857,0.747816,0.00132597,0,0.350341,0.729519,0.00128323,0,0.373598,0.711454,0.00123803,0,0.397642,0.692699,0.00119097,0,0.422485,0.673723,0.00114565,0,0.448139,0.654386,0.00109552,0,0.474619,0.634673,0.00104553,0,0.501933,0.615554,0.00099985,0,0.530089,0.596462,0.000948207,0,0.559087,0.577385,0.000902299,0,0.588913,0.558257,0.000856448,0,0.619525,0.5392,0.000810395,0,0.650826,0.520543,0.000768558,0,0.68254,0.502206,0.0007239,0,0.714286,0.48402,0.000685794,0,0.746032,0.465779,0.00064471,0,0.777778,0.448455,0.000609583,0,0.809524,0.431091,0.00057227,0,0.84127,0.414147,0.00054042,0,0.873016,0.39765,0.000506545,0,0.904762,0.381576,0.000477635,0,0.936508,0.365881,0.000448446,0,0.968254,0.350582,0.000421424,0,1,1,0.000427144,0,0,1,0.000427151,0,0,1,0.000427232,0,0,0.999998,0.00042759,0,0,0.999995,0.000428555,0,0,0.999988,0.000430603,0,0,0.999976,0.000434368,0,0,0.999952,0.000440688,0,0,0.999919,0.000450667,0,0,0.999871,0.00046578,0,0,0.999801,0.000488024,0,0,0.999704,0.000520092,0,0.000129791,0.999572,0.000565553,0,0.000821056,0.999389,0.000628906,0,0.00225241,0.999114,0.000714911,0,0.00449109,0.998488,0.000819218,0,0.00756249,0.995234,0.00080415,0,0.0114716,0.993021,0.000830181,0,0.0162131,0.991407,0.000902645,0,0.021776,0.989625,0.000996934,0,0.0281471,0.987064,0.00109707,0,0.0353118,0.983265,0.00114353,0,0.0432562,0.979535,0.0012272,0,0.0519665,0.975224,0.00132642,0,0.0614298,0.969574,0.00138092,0,0.0716348,0.963021,0.00145896,0,0.0825709,0.956046,0.00152834,0,0.094229,0.947136,0.00158217,0,0.106602,0.937313,0.0016347,0,0.119682,0.926073,0.00168383,0,0.133465,0.913121,0.00171627,0,0.147947,0.899165,0.00174229,0,0.163125,0.885891,0.00176137,0,0.178998,0.873783,0.00176406,0,0.195566,0.861331,0.00176156,0,0.21283,0.847569,0.00175346,0,0.230793,0.832785,0.00172753,0,0.249459,0.817442,0.00170204,0,0.268832,0.800613,0.00166576,0,0.28892,0.783597,0.00162909,0,0.30973,0.76571,0.0015826,0,0.331271,0.747021,0.00153106,0,0.353554,0.728593,0.00148036,0,0.37659,0.710661,0.00142808,0,0.400391,0.692426,0.00136906,0,0.424973,0.673623,0.00131066,0,0.450347,0.65494,0.00125569,0,0.476531,0.635448,0.00119517,0,0.503535,0.616221,0.00113828,0,0.531372,0.597531,0.0010816,0,0.560047,0.578795,0.00102673,0,0.589554,0.559892,0.000970985,0,0.619869,0.541307,0.000919773,0,0.650923,0.522608,0.000868479,0,0.68254,0.504484,0.00082137,0,0.714286,0.486603,0.000772916,0,0.746032,0.468802,0.000730353,0,0.777778,0.451172,0.000684955,0,0.809524,0.434348,0.000647565,0,0.84127,0.417445,0.000605863,0,0.873016,0.401077,0.000571885,0,0.904762,0.385039,0.000536034,0,0.936508,0.369483,0.000504227,0,0.968254,0.354272,0.000473165,0,1,1,0.000599525,0,0,1,0.000599533,0,0,1,0.000599639,0,0,0.999998,0.000600097,0,0,0.999994,0.000601336,0,0,0.999987,0.000603958,0,0,0.999972,0.000608775,0,0,0.999949,0.000616842,0,0,0.999912,0.000629534,0,0,0.999857,0.000648658,0,0,0.999781,0.000676615,0,0.00000538873,0.999674,0.000716574,0,0.000308602,0.999528,0.000772641,0,0.00127003,0.999326,0.000849806,0,0.00300783,0.999009,0.000952682,0,0.00556637,0.998112,0.00106394,0,0.00895889,0.994496,0.00102228,0,0.0131827,0.992806,0.00108586,0,0.0182277,0.991211,0.0011759,0,0.0240795,0.989415,0.00128955,0,0.030723,0.986499,0.00139038,0,0.0381418,0.982679,0.00144539,0,0.046321,0.978839,0.00153954,0,0.0552459,0.974295,0.00164417,0,0.0649034,0.968784,0.00171517,0,0.0752814,0.962324,0.00180282,0,0.0863693,0.954956,0.00186387,0,0.0981578,0.94624,0.00193817,0,0.110639,0.936517,0.00198156,0,0.123806,0.925186,0.00203042,0,0.137655,0.91252,0.0020664,0,0.15218,0.898441,0.00207822,0,0.16738,0.884394,0.0020992,0,0.183253,0.871273,0.00208748,0,0.199799,0.859057,0.00208686,0,0.21702,0.845243,0.00205519,0,0.234918,0.830723,0.00202868,0,0.253496,0.815801,0.00199501,0,0.272761,0.79914,0.00194193,0,0.292719,0.782372,0.00188824,0,0.313377,0.76482,0.00183695,0,0.334745,0.746586,0.00177418,0,0.356833,0.7281,0.00170628,0,0.379654,0.709842,0.00164063,0,0.403221,0.692019,0.00157355,0,0.427548,0.67364,0.00150262,0,0.452651,0.655277,0.00143473,0,0.478545,0.636438,0.00136371,0,0.505246,0.617364,0.00129911,0,0.532768,0.598603,0.00123014,0,0.561122,0.580195,0.00116587,0,0.590309,0.561786,0.00110398,0,0.620318,0.543377,0.00104148,0,0.651102,0.525093,0.000983984,0,0.682545,0.506791,0.00092667,0,0.714286,0.489291,0.000874326,0,0.746032,0.471811,0.000821734,0,0.777778,0.454435,0.000774698,0,0.809524,0.437493,0.000727302,0,0.84127,0.420977,0.000684039,0,0.873016,0.404729,0.00064373,0,0.904762,0.388756,0.00060285,0,0.936508,0.373344,0.00056765,0,0.968254,0.358191,0.000531929,0,1,1,0.000832169,0,0,1,0.000832178,0,0,1,0.00083231,0,0,0.999998,0.000832893,0,0,0.999995,0.000834465,0,0,0.999985,0.000837791,0,0,0.999969,0.000843893,0,0,0.999944,0.000854086,0,0,0.999903,0.000870071,0,0,0.999843,0.000894042,0,0,0.999759,0.000928865,0,0.0000531805,0.999643,0.000978242,0,0.000579365,0.99948,0.00104684,0,0.00182774,0.999255,0.00114012,0,0.00387804,0.998885,0.00126188,0,0.00675709,0.997405,0.00135888,0,0.010468,0.99424,0.00133626,0,0.0150018,0.992458,0.00140905,0,0.0203443,0.990929,0.00152305,0,0.0264786,0.989116,0.00165882,0,0.0333875,0.985624,0.00174128,0,0.0410536,0.982003,0.00182108,0,0.0494609,0.978336,0.00194498,0,0.0585941,0.973184,0.00202708,0,0.0684396,0.9678,0.00212166,0,0.0789851,0.961348,0.00221366,0,0.0902199,0.953841,0.00228219,0,0.102134,0.94534,0.00235662,0,0.114721,0.935552,0.00240572,0,0.127972,0.924064,0.00244405,0,0.141884,0.911827,0.00247557,0,0.156451,0.897731,0.00248374,0,0.171672,0.883409,0.00249863,0,0.187545,0.868625,0.00246688,0,0.20407,0.856529,0.00246523,0,0.221249,0.842999,0.00242368,0,0.239083,0.828505,0.00237354,0,0.257578,0.813825,0.00232588,0,0.276738,0.797813,0.00226731,0,0.296569,0.781097,0.00219704,0,0.31708,0.764038,0.00212394,0,0.338281,0.746067,0.00204786,0,0.360181,0.727687,0.00196728,0,0.382794,0.709571,0.00188779,0,0.406133,0.691503,0.00180532,0,0.430213,0.673673,0.00171849,0,0.45505,0.655732,0.00164147,0,0.480662,0.637399,0.00155858,0,0.507065,0.618616,0.00147641,0,0.534278,0.60005,0.00140125,0,0.562313,0.581713,0.00132441,0,0.59118,0.563546,0.00125014,0,0.620875,0.545605,0.00118249,0,0.651373,0.527559,0.0011116,0,0.682593,0.509764,0.00104979,0,0.714286,0.49193,0.000985977,0,0.746032,0.475011,0.000928592,0,0.777778,0.457878,0.000873466,0,0.809524,0.440979,0.000819585,0,0.84127,0.424613,0.000772365,0,0.873016,0.408549,0.000722195,0,0.904762,0.392771,0.000680014,0,0.936508,0.377317,0.000636797,0,0.968254,0.362352,0.000598318,0,1,1,0.00114313,0,0,1,0.00114314,0,0,0.999999,0.00114331,0,0,0.999998,0.00114404,0,0,0.999994,0.00114601,0,0,0.999984,0.00115019,0,0,0.999967,0.00115784,0,0,0.999937,0.0011706,0,0,0.999894,0.00119054,0,0,0.999828,0.00122031,0,0,0.999735,0.00126331,0,0.000169263,0.999606,0.00132382,0,0.000949167,0.999426,0.0014071,0,0.00249668,0.999173,0.00151895,0,0.00486392,0.99873,0.00166102,0,0.00806323,0.996243,0.0017023,0,0.0120895,0.993779,0.00172782,0,0.0169288,0.9919,0.0018108,0,0.0225633,0.990524,0.00196028,0,0.028974,0.98868,0.00212014,0,0.036142,0.984663,0.00217598,0,0.044049,0.981457,0.00230563,0,0.0526781,0.977608,0.00243966,0,0.0620137,0.972215,0.00251336,0,0.0720418,0.966798,0.0026285,0,0.0827499,0.960241,0.00271409,0,0.0941271,0.952489,0.00278381,0,0.106164,0.944127,0.00285399,0,0.118852,0.934282,0.00290994,0,0.132185,0.923271,0.00294558,0,0.146157,0.910803,0.00296269,0,0.160766,0.896705,0.00296803,0,0.176007,0.88238,0.00296637,0,0.19188,0.867116,0.00293163,0,0.208385,0.853636,0.00289418,0,0.225523,0.840469,0.00284663,0,0.243296,0.82639,0.00278594,0,0.261709,0.811759,0.00271618,0,0.280767,0.796113,0.00263187,0,0.300476,0.779518,0.00254589,0,0.320845,0.763142,0.00246003,0,0.341883,0.745464,0.00236529,0,0.363601,0.727491,0.00226536,0,0.386011,0.709414,0.00216375,0,0.409128,0.691396,0.00207127,0,0.432967,0.67368,0.00197106,0,0.457545,0.656049,0.00187022,0,0.482881,0.638188,0.00177605,0,0.508992,0.620177,0.00168482,0,0.535899,0.601506,0.00158909,0,0.563619,0.58362,0.00150583,0,0.592165,0.565496,0.00141791,0,0.621544,0.54789,0.00133693,0,0.651743,0.530323,0.00126038,0,0.682709,0.512795,0.00118556,0,0.714286,0.495199,0.00111527,0,0.746032,0.478101,0.0010489,0,0.777778,0.461511,0.000984264,0,0.809524,0.444879,0.00092591,0,0.84127,0.428424,0.000866582,0,0.873016,0.412495,0.000814463,0,0.904762,0.396975,0.000764498,0,0.936508,0.381614,0.000715967,0,0.968254,0.366732,0.000672483,0,1,1,0.00155501,0,0,1,0.00155503,0,0,1,0.00155524,0,0,0.999998,0.00155615,0,0,0.999994,0.0015586,0,0,0.999983,0.00156379,0,0,0.999963,0.0015733,0,0,0.999932,0.00158911,0,0,0.999882,0.00161376,0,0,0.99981,0.00165041,0,0.0000100875,0.999708,0.00170304,0,0.000367658,0.999565,0.00177658,0,0.0014234,0.999368,0.00187688,0,0.00327939,0.999081,0.00200989,0,0.00596629,0.99852,0.00217177,0,0.0094852,0.99549,0.0021745,0,0.013824,0.993252,0.00222357,0,0.0189642,0.991727,0.00235022,0,0.0248856,0.989951,0.00250561,0,0.0315669,0.988029,0.00268829,0,0.0389882,0.984029,0.0027496,0,0.0471302,0.980683,0.00289793,0,0.0559754,0.976554,0.00303315,0,0.0655081,0.97139,0.00313257,0,0.0757138,0.965544,0.00323656,0,0.08658,0.95912,0.00333432,0,0.0980954,0.951183,0.0034039,0,0.110251,0.942974,0.00347515,0,0.123038,0.932642,0.00350381,0,0.13645,0.922158,0.00354519,0,0.150482,0.909404,0.00353851,0,0.165129,0.896071,0.0035435,0,0.18039,0.881206,0.00349936,0,0.196263,0.866077,0.00347256,0,0.212748,0.85093,0.003415,0,0.229847,0.837703,0.00333367,0,0.247561,0.823878,0.003249,0,0.265895,0.809449,0.00316347,0,0.284854,0.794379,0.00306351,0,0.304445,0.778138,0.0029499,0,0.324675,0.761997,0.00284099,0,0.345555,0.744938,0.00272104,0,0.367095,0.727212,0.00260715,0,0.389309,0.709549,0.00248855,0,0.41221,0.691704,0.00236783,0,0.435814,0.673689,0.00225178,0,0.460138,0.656453,0.00213765,0,0.485203,0.639128,0.00202178,0,0.511028,0.621512,0.00191443,0,0.537634,0.603598,0.00180977,0,0.565041,0.58559,0.00170456,0,0.593268,0.567852,0.00160927,0,0.622327,0.5503,0.00151395,0,0.652217,0.533033,0.00142499,0,0.682907,0.515942,0.00133955,0,0.714296,0.498814,0.0012602,0,0.746032,0.481595,0.00118188,0,0.777778,0.465117,0.00111171,0,0.809524,0.448865,0.00104091,0,0.84127,0.432711,0.000976618,0,0.873016,0.416822,0.00091859,0,0.904762,0.401272,0.000857704,0,0.936508,0.386226,0.000807172,0,0.968254,0.371321,0.00075464,0,1,1,0.00209596,0,0,1,0.00209598,0,0,1,0.00209624,0,0,0.999997,0.00209736,0,0,0.999991,0.00210039,0,0,0.999979,0.00210678,0,0,0.999959,0.00211847,0,0,0.999925,0.0021379,0,0,0.99987,0.00216809,0,0,0.999791,0.00221281,0,0.0000681487,0.999677,0.00227669,0,0.000658161,0.999521,0.00236533,0,0.00200635,0.999301,0.00248514,0,0.0041779,0.998977,0.00264185,0,0.00718648,0.998191,0.00281695,0,0.0110239,0.994801,0.00278518,0,0.015672,0.993091,0.00288774,0,0.0211091,0.991571,0.00303931,0,0.0273123,0.9897,0.00321643,0,0.034259,0.987023,0.00337332,0,0.0419282,0.983289,0.00346146,0,0.0502998,0.979892,0.00363704,0,0.0593562,0.975111,0.00373601,0,0.069081,0.970351,0.0038842,0,0.0794598,0.964131,0.00397053,0,0.0904798,0.957747,0.00408078,0,0.10213,0.949536,0.00413533,0,0.1144,0.941372,0.00420305,0,0.127284,0.931049,0.00422815,0,0.140772,0.920647,0.00425048,0,0.154862,0.908033,0.0042281,0,0.169548,0.895028,0.00422026,0,0.184828,0.879968,0.00415042,0,0.200701,0.864875,0.00408821,0,0.217167,0.84918,0.00400909,0,0.234227,0.834934,0.00391178,0,0.251884,0.821397,0.00380066,0,0.270141,0.807135,0.00367974,0,0.289004,0.792363,0.00355172,0,0.308479,0.776661,0.003411,0,0.328575,0.760705,0.00328123,0,0.349301,0.744408,0.00314003,0,0.370668,0.726994,0.0029906,0,0.392689,0.709598,0.00285034,0,0.415379,0.692112,0.00271179,0,0.438754,0.674435,0.00257185,0,0.46283,0.65676,0.00243425,0,0.48763,0.639982,0.00230351,0,0.513173,0.622983,0.0021777,0,0.539482,0.605471,0.00204991,0,0.566579,0.58796,0.00193759,0,0.594488,0.570463,0.00181976,0,0.623226,0.553058,0.00171497,0,0.6528,0.535894,0.00161109,0,0.683198,0.519089,0.00151394,0,0.714354,0.502454,0.00142122,0,0.746032,0.485681,0.00133488,0,0.777778,0.468935,0.00124975,0,0.809524,0.452951,0.00117309,0,0.84127,0.437139,0.00110155,0,0.873016,0.421446,0.00103124,0,0.904762,0.405951,0.000966387,0,0.936508,0.391003,0.000908119,0,0.968254,0.376198,0.000848057,0,1,1,0.00280076,0,0,1,0.00280078,0,0,0.999999,0.00280109,0,0,0.999997,0.00280246,0,0,0.999992,0.00280616,0,0,0.999979,0.00281396,0,0,0.999956,0.00282822,0,0,0.999916,0.00285186,0,0,0.999857,0.0028885,0,0,0.999768,0.00294259,0,0.000196026,0.999645,0.00301946,0,0.00104842,0.99947,0.00312541,0,0.00270199,0.999229,0.00326733,0,0.00519449,0.998852,0.00344992,0,0.00852602,0.997558,0.00361052,0,0.0126804,0.994417,0.0035898,0,0.017635,0.992824,0.00372393,0,0.023365,0.991344,0.00390695,0,0.0298456,0.989337,0.00410392,0,0.0370529,0.985811,0.00420987,0,0.0449651,0.982772,0.00437488,0,0.0535615,0.979001,0.00455069,0,0.0628243,0.974102,0.00464462,0,0.0727368,0.969197,0.00480577,0,0.0832844,0.962759,0.00487818,0,0.0944545,0.956207,0.00498176,0,0.106236,0.947909,0.00503392,0,0.118619,0.939596,0.00507474,0,0.131595,0.929642,0.00509798,0,0.145159,0.918807,0.00508476,0,0.159305,0.906921,0.00505634,0,0.174028,0.893312,0.00498845,0,0.189327,0.878933,0.0049133,0,0.2052,0.863986,0.0048259,0,0.221647,0.847936,0.00470848,0,0.23867,0.832253,0.00456889,0,0.25627,0.818619,0.00442726,0,0.274453,0.804788,0.00427677,0,0.293222,0.790241,0.00411906,0,0.312585,0.775162,0.00394833,0,0.33255,0.759463,0.00377366,0,0.353126,0.743598,0.00361026,0,0.374324,0.72697,0.00343627,0,0.396158,0.709646,0.00326422,0,0.418641,0.69277,0.00309717,0,0.44179,0.675371,0.0029356,0,0.465624,0.657863,0.00277712,0,0.490163,0.640772,0.00261738,0,0.515429,0.624441,0.0024737,0,0.541445,0.607497,0.00233125,0,0.568236,0.590438,0.00218994,0,0.595828,0.573224,0.0020664,0,0.624242,0.556168,0.00193526,0,0.653496,0.539232,0.00182463,0,0.683588,0.522352,0.00170735,0,0.714482,0.506172,0.00160555,0,0.746032,0.489842,0.00150451,0,0.777778,0.473463,0.00140938,0,0.809524,0.457266,0.00132568,0,0.84127,0.441609,0.0012376,0,0.873016,0.426348,0.00116265,0,0.904762,0.411002,0.00108935,0,0.936508,0.396045,0.00101946,0,0.968254,0.381448,0.000955665,0,1,1,0.0037121,0,0,1,0.00371213,0,0,1,0.00371251,0,0,0.999997,0.00371417,0,0,0.99999,0.00371863,0,0,0.999977,0.00372807,0,0,0.99995,0.00374529,0,0,0.999908,0.0037738,0,0,0.999843,0.00381789,0,0.0000123596,0.999745,0.00388273,0,0.000407442,0.999608,0.00397443,0,0.0015447,0.999415,0.00409998,0,0.00351385,0.999143,0.00426662,0,0.0063316,0.9987,0.00447625,0,0.00998679,0.996363,0.00455323,0,0.0144569,0.994021,0.00461052,0,0.0197151,0.992372,0.00476359,0,0.0257344,0.991007,0.00499101,0,0.0324882,0.988767,0.0051972,0,0.0399517,0.984872,0.00528407,0,0.0481022,0.982004,0.00548926,0,0.0569191,0.977714,0.00564385,0,0.0663839,0.973076,0.0057693,0,0.0764801,0.967565,0.0058924,0,0.0871928,0.961384,0.00599629,0,0.0985095,0.954435,0.00605998,0,0.110419,0.946303,0.0061133,0,0.122912,0.937662,0.00612028,0,0.13598,0.927867,0.00612209,0,0.149617,0.916475,0.00604813,0,0.163817,0.90541,0.00603088,0,0.178577,0.891591,0.00592218,0,0.193894,0.877573,0.00578854,0,0.209767,0.862511,0.00566648,0,0.226196,0.846861,0.00551481,0,0.243182,0.83068,0.00533754,0,0.260728,0.815725,0.00515487,0,0.278837,0.802321,0.0049655,0,0.297515,0.787826,0.00475421,0,0.316768,0.773454,0.00456002,0,0.336605,0.758224,0.00434727,0,0.357034,0.74265,0.00414444,0,0.378067,0.726729,0.00393738,0,0.399717,0.710155,0.00373575,0,0.421998,0.693312,0.00353736,0,0.444928,0.67653,0.00334368,0,0.468523,0.659444,0.00315981,0,0.492806,0.642051,0.00297809,0,0.517798,0.625758,0.00280592,0,0.543525,0.609615,0.00264254,0,0.570012,0.592919,0.00248459,0,0.597288,0.576298,0.00233327,0,0.625379,0.559489,0.00219519,0,0.654307,0.542891,0.00205441,0,0.684084,0.526255,0.00193385,0,0.714693,0.509853,0.00180745,0,0.746044,0.494131,0.00169817,0,0.777778,0.478114,0.0015913,0,0.809524,0.462274,0.00148981,0,0.84127,0.446412,0.00139537,0,0.873016,0.431274,0.00130984,0,0.904762,0.41635,0.00122403,0,0.936508,0.401476,0.00114809,0,0.968254,0.386993,0.00107563,0,1,1,0.00488216,0,0,1,0.0048822,0,0,1,0.00488265,0,0,0.999997,0.00488463,0,0,0.999988,0.00488999,0,0,0.999974,0.00490129,0,0,0.999946,0.00492191,0,0,0.999897,0.00495598,0,0,0.999825,0.00500855,0,0.0000744791,0.999718,0.00508559,0,0.000712744,0.999565,0.005194,0,0.00215249,0.999352,0.00534147,0,0.00444576,0.999046,0.00553523,0,0.00759218,0.998492,0.00577016,0,0.0115714,0.995564,0.00578487,0,0.0163557,0.993339,0.00586414,0,0.021915,0.991834,0.00606002,0,0.0282201,0.990496,0.00633312,0,0.0352433,0.987826,0.00651941,0,0.042959,0.98383,0.00660842,0,0.0513439,0.98109,0.00685523,0,0.0603772,0.976131,0.00695778,0,0.0700402,0.971922,0.00714236,0,0.0803163,0.965901,0.00721437,0,0.0911908,0.959606,0.00732017,0,0.102651,0.952504,0.00735788,0,0.114686,0.944365,0.00738493,0,0.127286,0.935652,0.00737969,0,0.140443,0.925813,0.00733612,0,0.154151,0.914397,0.00723094,0,0.168405,0.903257,0.00714002,0,0.183201,0.890015,0.00700149,0,0.198536,0.876014,0.00682813,0,0.214409,0.861436,0.00665567,0,0.23082,0.845752,0.00644526,0,0.24777,0.829169,0.00621635,0,0.265263,0.813435,0.00597789,0,0.283301,0.799701,0.00575694,0,0.301889,0.785726,0.00549866,0,0.321035,0.77152,0.0052503,0,0.340746,0.75683,0.00499619,0,0.361032,0.741951,0.0047543,0,0.381904,0.726367,0.0045084,0,0.403374,0.710537,0.00426784,0,0.425457,0.693965,0.00403487,0,0.448169,0.677724,0.0038075,0,0.47153,0.66117,0.00359431,0,0.495561,0.644274,0.00338354,0,0.520284,0.627449,0.00318163,0,0.545725,0.611645,0.00299672,0,0.571911,0.595614,0.00281016,0,0.598873,0.579426,0.00264252,0,0.62664,0.563016,0.00247509,0,0.655239,0.546728,0.00232647,0,0.684692,0.530539,0.00217803,0,0.714999,0.514164,0.00204216,0,0.746106,0.498344,0.00191403,0,0.777778,0.482957,0.00179203,0,0.809524,0.467336,0.00167695,0,0.84127,0.451994,0.00157567,0,0.873016,0.436514,0.00147113,0,0.904762,0.42178,0.00138034,0,0.936508,0.407271,0.00129219,0,0.968254,0.392822,0.0012098,0,1,1,0.00637427,0,0,1,0.00637431,0,0,0.999999,0.00637485,0,0,0.999996,0.00637721,0,0,0.999987,0.00638357,0,0,0.999971,0.006397,0,0,0.999939,0.00642142,0,0,0.999888,0.00646177,0,0,0.999807,0.00652387,0,0.000207916,0.999689,0.00661454,0,0.00112051,0.99952,0.00674155,0,0.00287719,0.999283,0.00691313,0,0.00550145,0.998936,0.00713598,0,0.00897928,0.998165,0.00738501,0,0.0132829,0.994847,0.00734388,0,0.01838,0.993182,0.00749991,0,0.0242381,0.991665,0.0077246,0,0.030826,0.989708,0.00797579,0,0.0381152,0.986663,0.00813011,0,0.0460794,0.983288,0.00830365,0,0.0546951,0.980104,0.00853496,0,0.0639411,0.974855,0.00861045,0,0.0737988,0.97045,0.00879133,0,0.0842516,0.964509,0.00886377,0,0.0952848,0.957594,0.00890346,0,0.106886,0.950546,0.00893289,0,0.119044,0.942225,0.00890074,0,0.131749,0.933365,0.00886826,0,0.144994,0.923202,0.0087316,0,0.158772,0.912605,0.00863082,0,0.173078,0.901099,0.00847403,0,0.187908,0.888177,0.00825838,0,0.203261,0.873955,0.00801834,0,0.219134,0.860091,0.00779026,0,0.235527,0.84434,0.00752478,0,0.252443,0.828517,0.00724074,0,0.269883,0.81239,0.00693769,0,0.287851,0.79721,0.00664817,0,0.306352,0.783489,0.00634763,0,0.325393,0.769514,0.00604221,0,0.344981,0.755419,0.00573568,0,0.365126,0.741083,0.00544359,0,0.385839,0.726059,0.00515515,0,0.407132,0.710809,0.00487139,0,0.42902,0.695052,0.00459846,0,0.45152,0.678886,0.00433412,0,0.474651,0.663042,0.00407981,0,0.498433,0.646634,0.00384264,0,0.52289,0.630117,0.00360897,0,0.548048,0.613804,0.00338863,0,0.573936,0.598338,0.00318486,0,0.600584,0.582687,0.00298377,0,0.628027,0.566809,0.00280082,0,0.656295,0.550817,0.00262255,0,0.685417,0.534937,0.00245835,0,0.715406,0.519151,0.00230574,0,0.74624,0.503118,0.0021549,0,0.777778,0.487723,0.00202008,0,0.809524,0.472725,0.00189355,0,0.84127,0.457599,0.00177108,0,0.873016,0.442558,0.00165843,0,0.904762,0.427624,0.00155494,0,0.936508,0.413171,0.00145273,0,0.968254,0.399122,0.00136454,0,1,1,0.00826496,0,0,1,0.00826499,0,0,1,0.00826564,0,0,0.999996,0.00826842,0,0,0.999987,0.00827589,0,0,0.999967,0.00829167,0,0,0.999933,0.00832037,0,0,0.999876,0.00836768,0,0.0000109338,0.999786,0.00844031,0,0.000427145,0.999655,0.00854603,0,0.0016384,0.999468,0.00869337,0,0.00372392,0.999203,0.008891,0,0.00668513,0.998803,0.00914387,0,0.0104968,0.99748,0.00935838,0,0.015125,0.994446,0.00933309,0,0.0205338,0.99292,0.00953084,0,0.0266884,0.991414,0.0097893,0,0.0335565,0.989049,0.0100228,0,0.0411086,0.98582,0.0101664,0,0.0493181,0.982441,0.0103582,0,0.0581613,0.978595,0.0105292,0,0.0676169,0.973495,0.0106274,0,0.0776661,0.968405,0.0107261,0,0.0882926,0.962717,0.0108234,0,0.0994817,0.955478,0.0108102,0,0.111221,0.948275,0.0107914,0,0.123499,0.940006,0.0107161,0,0.136308,0.930831,0.0106309,0,0.149639,0.920648,0.0104083,0,0.163485,0.910205,0.0102312,0,0.177843,0.898445,0.0100051,0,0.192707,0.885986,0.00971928,0,0.208077,0.872204,0.00940747,0,0.22395,0.858436,0.0091085,0,0.240326,0.843454,0.00876595,0,0.257208,0.827437,0.00839794,0,0.274596,0.811488,0.00803692,0,0.292496,0.796039,0.00767352,0,0.310911,0.781083,0.0073097,0,0.329849,0.767642,0.00694032,0,0.349316,0.753901,0.00657476,0,0.369323,0.740131,0.00622699,0,0.38988,0.725845,0.0058838,0,0.410999,0.710991,0.00555586,0,0.432696,0.696002,0.00523089,0,0.454987,0.680461,0.00492494,0,0.47789,0.664875,0.00463464,0,0.501426,0.649273,0.00435422,0,0.52562,0.63302,0.0040875,0,0.550498,0.61705,0.00384075,0,0.576089,0.601154,0.00359557,0,0.602427,0.586008,0.00337636,0,0.629544,0.570699,0.00316019,0,0.657479,0.555166,0.00296033,0,0.686264,0.539645,0.00277552,0,0.715924,0.524159,0.00259499,0,0.746459,0.508682,0.00243257,0,0.777789,0.493163,0.00227851,0,0.809524,0.478004,0.00213083,0,0.84127,0.46347,0.00199502,0,0.873016,0.448778,0.00186967,0,0.904762,0.434105,0.00174732,0,0.936508,0.419576,0.00163861,0,0.968254,0.405541,0.00153341,0,1,1,0.0106462,0,0,1,0.0106462,0,0,0.999999,0.010647,0,0,0.999995,0.0106502,0,0,0.999985,0.0106589,0,0,0.999964,0.0106773,0,0,0.999925,0.0107106,0,0,0.999861,0.0107655,0,0.0000712986,0.999763,0.0108497,0,0.000743959,0.999616,0.0109716,0,0.00227361,0.999408,0.0111408,0,0.0046983,0.999112,0.0113659,0,0.00800158,0.998637,0.0116475,0,0.0121493,0.996223,0.0117231,0,0.0171023,0.994006,0.0118064,0,0.0228218,0.992444,0.0120254,0,0.0292711,0.991028,0.0123314,0,0.036417,0.98803,0.0124954,0,0.0442295,0.984816,0.0126538,0,0.0526815,0.981399,0.0128537,0,0.0617492,0.977085,0.0129694,0,0.0714114,0.972154,0.013091,0,0.0816495,0.966617,0.0131166,0,0.0924472,0.960628,0.0131583,0,0.10379,0.953295,0.0131094,0,0.115665,0.94575,0.0129966,0,0.128062,0.937654,0.0128796,0,0.140972,0.927716,0.0126477,0,0.154387,0.917932,0.0123889,0,0.168301,0.907719,0.012131,0,0.182709,0.89584,0.0118013,0,0.197608,0.883526,0.0114145,0,0.212994,0.870301,0.0110075,0,0.228867,0.856272,0.0106019,0,0.245227,0.842251,0.0101938,0,0.262074,0.826466,0.00973254,0,0.279412,0.810859,0.0092846,0,0.297244,0.795051,0.00883304,0,0.315575,0.780053,0.00840272,0,0.334412,0.76575,0.00796438,0,0.35376,0.752298,0.00752526,0,0.373631,0.739153,0.00711486,0,0.394034,0.725514,0.00670361,0,0.414983,0.711473,0.00632656,0,0.436491,0.696936,0.00595206,0,0.458575,0.682126,0.00559191,0,0.481253,0.667027,0.00525362,0,0.504547,0.651875,0.00493805,0,0.528481,0.636463,0.00462848,0,0.553081,0.620641,0.00433936,0,0.578377,0.604931,0.00407,0,0.604404,0.589549,0.00380864,0,0.631197,0.574712,0.00357049,0,0.658795,0.559775,0.00334466,0,0.687238,0.544514,0.00312505,0,0.716559,0.529555,0.00293199,0,0.746776,0.514402,0.00274204,0,0.777849,0.499302,0.00256647,0,0.809524,0.484114,0.00239901,0,0.84127,0.469308,0.00225148,0,0.873016,0.455133,0.00210178,0,0.904762,0.440939,0.0019727,0,0.936508,0.426627,0.00184382,0,0.968254,0.412509,0.00172548,0,1,1,0.013628,0,0,1,0.0136281,0,0,0.999999,0.0136289,0,0,0.999995,0.0136327,0,0,0.999983,0.0136427,0,0,0.99996,0.0136638,0,0,0.999917,0.0137022,0,0,0.999846,0.0137652,0,0.000204597,0.999736,0.0138615,0,0.00116837,0.999573,0.0140007,0,0.00303325,0.99934,0.0141927,0,0.00580613,0.999004,0.0144457,0,0.00945626,0.998407,0.0147489,0,0.0139421,0.995464,0.014731,0,0.0192202,0.993328,0.0148283,0,0.0252495,0.991799,0.0150797,0,0.0319921,0.990397,0.0154316,0,0.0394138,0.986835,0.0155005,0,0.0474843,0.983938,0.0157308,0,0.0561763,0.980154,0.0158753,0,0.0654661,0.975659,0.0159581,0,0.0753326,0.970171,0.0159832,0,0.0857571,0.964803,0.0160084,0,0.0967236,0.958366,0.0159484,0,0.108218,0.950613,0.0158001,0,0.120227,0.942874,0.0155845,0,0.132741,0.935005,0.0154292,0,0.145751,0.924991,0.0150742,0,0.159249,0.914814,0.0146757,0,0.17323,0.904743,0.0143097,0,0.187687,0.893216,0.0138695,0,0.202619,0.880769,0.0133706,0,0.218021,0.868136,0.0128606,0,0.233894,0.85469,0.0123403,0,0.250238,0.840593,0.0118091,0,0.267052,0.825808,0.011253,0,0.284341,0.81009,0.0107099,0,0.302106,0.79504,0.0101636,0,0.320354,0.779757,0.00964041,0,0.33909,0.764697,0.00911896,0,0.358322,0.750913,0.00859533,0,0.378059,0.738175,0.00811592,0,0.398311,0.725242,0.00764504,0,0.41909,0.711864,0.00718885,0,0.440412,0.698009,0.00675843,0,0.462292,0.683841,0.00634984,0,0.484748,0.669391,0.00595502,0,0.507802,0.654731,0.00558671,0,0.531477,0.639805,0.00523578,0,0.555802,0.624789,0.00490834,0,0.580805,0.609325,0.00459448,0,0.606522,0.593975,0.00430342,0,0.63299,0.578983,0.00403019,0,0.66025,0.564442,0.0037707,0,0.688346,0.549835,0.0035316,0,0.717319,0.535039,0.00330255,0,0.7472,0.520403,0.00308932,0,0.777982,0.505687,0.00289335,0,0.809524,0.490939,0.00270818,0,0.84127,0.476233,0.0025343,0,0.873016,0.461624,0.00237097,0,0.904762,0.447833,0.00222065,0,0.936508,0.433992,0.00207561,0,0.968254,0.420147,0.00194955,0,1,1,0.0173415,0,0,1,0.0173416,0,0,0.999999,0.0173426,0,0,0.999995,0.0173468,0,0,0.999983,0.0173582,0,0,0.999954,0.0173822,0,0,0.999908,0.0174258,0,0.00000669501,0.999828,0.0174973,0,0.000427399,0.999705,0.0176063,0,0.00171019,0.999524,0.0177631,0,0.0039248,0.999263,0.0179781,0,0.00705382,0.998878,0.018258,0,0.0110552,0.998012,0.0185551,0,0.0158812,0.994614,0.0184264,0,0.0214852,0.993132,0.0186385,0,0.0278239,0.991563,0.0189067,0,0.0348585,0.989298,0.0191577,0,0.0425544,0.986036,0.0192522,0,0.050881,0.982558,0.0194063,0,0.059811,0.978531,0.019486,0,0.0693209,0.974198,0.0195847,0,0.0793895,0.968148,0.0194749,0,0.0899984,0.962565,0.0194277,0,0.101132,0.956041,0.0192991,0,0.112775,0.947749,0.0189893,0,0.124917,0.94018,0.018704,0,0.137547,0.93165,0.0183458,0,0.150655,0.921798,0.0178775,0,0.164236,0.911573,0.0173618,0,0.178281,0.901569,0.0168482,0,0.192788,0.890341,0.016265,0,0.207752,0.877835,0.0156199,0,0.223171,0.865472,0.0149516,0,0.239044,0.852905,0.0143274,0,0.255371,0.838906,0.0136643,0,0.272153,0.824888,0.0129903,0,0.289393,0.809977,0.0123218,0,0.307093,0.794697,0.0116572,0,0.325259,0.780028,0.0110307,0,0.343896,0.765124,0.0104236,0,0.363012,0.750411,0.0098219,0,0.382617,0.737264,0.00924397,0,0.402719,0.724799,0.00868719,0,0.423332,0.712253,0.00816476,0,0.444469,0.699267,0.00767262,0,0.466146,0.685618,0.00719746,0,0.488383,0.671736,0.00673916,0,0.511199,0.657777,0.00631937,0,0.534618,0.643497,0.00592411,0,0.558668,0.62889,0.00553928,0,0.58338,0.614299,0.0051934,0,0.608787,0.599197,0.00485985,0,0.634929,0.584175,0.00454357,0,0.661849,0.569541,0.00425787,0,0.689594,0.555193,0.00397905,0,0.718211,0.540947,0.00372364,0,0.747742,0.526593,0.00348599,0,0.778205,0.512335,0.00326103,0,0.80953,0.498017,0.00305137,0,0.84127,0.483609,0.00285485,0,0.873016,0.469368,0.00267472,0,0.904762,0.455037,0.00249945,0,0.936508,0.441493,0.00234792,0,0.968254,0.428147,0.00219936,0,1,1,0.0219422,0,0,1,0.0219423,0,0,0.999998,0.0219434,0,0,0.999993,0.0219481,0,0,0.999981,0.021961,0,0,0.999949,0.0219879,0,0,0.999896,0.0220367,0,0.0000593194,0.999808,0.0221167,0,0.00075364,0.99967,0.0222383,0,0.00237884,0.999466,0.0224125,0,0.00495612,0.999174,0.0226495,0,0.00844887,0.998725,0.0229525,0,0.0128058,0.996979,0.0231123,0,0.0179742,0.994317,0.0230742,0,0.0239047,0.992781,0.0232895,0,0.0305526,0.991191,0.0235734,0,0.0378786,0.987787,0.0236152,0,0.0458475,0.985092,0.0237994,0,0.0544287,0.981121,0.0238553,0,0.0635952,0.976924,0.0238706,0,0.0733233,0.97218,0.0238704,0,0.0835922,0.965956,0.0236598,0,0.0943839,0.959998,0.0234735,0,0.105682,0.953245,0.0232277,0,0.117474,0.944445,0.0226973,0,0.129747,0.937087,0.0223527,0,0.142491,0.928341,0.0218144,0,0.155697,0.9184,0.0211516,0,0.169358,0.907959,0.0204553,0,0.183469,0.89808,0.0197673,0,0.198024,0.887047,0.0189915,0,0.21302,0.875221,0.0182082,0,0.228455,0.86269,0.0173584,0,0.244329,0.850735,0.0165718,0,0.260639,0.837545,0.0157524,0,0.277389,0.823639,0.0149482,0,0.29458,0.809699,0.0141431,0,0.312216,0.794797,0.0133527,0,0.3303,0.780578,0.0126193,0,0.34884,0.766019,0.0118914,0,0.367842,0.751447,0.0111839,0,0.387315,0.737275,0.010514,0,0.40727,0.724545,0.00987277,0,0.427717,0.712644,0.00926569,0,0.448671,0.700432,0.00869029,0,0.470149,0.687664,0.00814691,0,0.492167,0.674288,0.00763012,0,0.514746,0.660966,0.00714437,0,0.537911,0.647264,0.00668457,0,0.561688,0.633431,0.00626581,0,0.586108,0.619133,0.00585593,0,0.611206,0.604935,0.00548188,0,0.637022,0.590236,0.00513288,0,0.663599,0.575473,0.0047906,0,0.690989,0.561228,0.00448895,0,0.719242,0.547054,0.00420233,0,0.748411,0.533175,0.00392869,0,0.778531,0.519163,0.00367445,0,0.809583,0.505328,0.00344097,0,0.84127,0.491446,0.00322003,0,0.873016,0.477356,0.00301283,0,0.904762,0.46356,0.00282592,0,0.936508,0.449623,0.00264956,0,0.968254,0.436068,0.00246956,0,1,1,0.0276135,0,0,1,0.0276136,0,0,0.999998,0.0276148,0,0,0.999993,0.0276201,0,0,0.999976,0.0276342,0,0,0.999945,0.027664,0,0,0.999884,0.0277179,0,0.00018679,0.999784,0.027806,0,0.00119607,0.99963,0.0279394,0,0.00318407,0.999401,0.0281295,0,0.00613601,0.999066,0.0283858,0,0.00999963,0.998524,0.0287027,0,0.0147164,0.995702,0.0286256,0,0.0202295,0.993593,0.0286733,0,0.0264876,0.992067,0.0288989,0,0.0334452,0.990548,0.0292135,0,0.0410621,0.986775,0.0291296,0,0.0493032,0.984054,0.0293099,0,0.0581381,0.979481,0.0291881,0,0.0675397,0.975297,0.0291598,0,0.0774848,0.96981,0.028954,0,0.0879528,0.963524,0.028628,0,0.0989258,0.957398,0.0283135,0,0.110388,0.950088,0.0278469,0,0.122327,0.941538,0.0271798,0,0.134729,0.933332,0.0265388,0,0.147587,0.924392,0.0257776,0,0.160889,0.914581,0.024916,0,0.174631,0.904347,0.0240242,0,0.188806,0.894324,0.0231229,0,0.203409,0.883724,0.022153,0,0.218437,0.872207,0.0211355,0,0.233888,0.859927,0.0201048,0,0.249761,0.848373,0.0191263,0,0.266056,0.836023,0.0181306,0,0.282774,0.82289,0.0171718,0,0.299917,0.809324,0.0162196,0,0.317488,0.795361,0.0152622,0,0.335493,0.781253,0.01439,0,0.353936,0.767338,0.013533,0,0.372825,0.753156,0.0127244,0,0.392168,0.739122,0.0119454,0,0.411976,0.725358,0.0112054,0,0.432259,0.712949,0.010487,0,0.453032,0.701621,0.00984032,0,0.47431,0.689703,0.00921495,0,0.496111,0.677216,0.00862492,0,0.518456,0.664217,0.00806882,0,0.541367,0.65137,0.00755922,0,0.564872,0.638,0.00705705,0,0.589001,0.62453,0.00661266,0,0.613789,0.610601,0.00618432,0,0.639277,0.59676,0.00578033,0,0.66551,0.582433,0.00540927,0,0.692539,0.568026,0.00506104,0,0.720422,0.55414,0.0047353,0,0.749216,0.540178,0.00442889,0,0.778974,0.526513,0.00414363,0,0.809711,0.512954,0.00388237,0,0.84127,0.499403,0.00362875,0,0.873016,0.486026,0.00340827,0,0.904762,0.472345,0.00318598,0,0.936508,0.458828,0.00297635,0,0.968254,0.445379,0.00279447,0,1,1,0.0345716,0,0,1,0.0345717,0,0,0.999999,0.034573,0,0,0.999991,0.0345787,0,0,0.999974,0.0345941,0,0,0.999937,0.0346263,0,0.00000188589,0.999869,0.0346847,0,0.000409238,0.999757,0.0347798,0,0.0017674,0.999582,0.0349233,0,0.00413658,0.999322,0.0351265,0,0.00747408,0.998939,0.0353967,0,0.0117157,0.998219,0.0357018,0,0.0167966,0.994974,0.0354726,0,0.0226572,0.993201,0.0355621,0,0.0292445,0.991573,0.0357641,0,0.0365123,0.989301,0.0359252,0,0.0444203,0.985712,0.0358017,0,0.0529334,0.982411,0.0358353,0,0.0620214,0.977827,0.035617,0,0.0716574,0.973278,0.0354398,0,0.0818186,0.967397,0.0350483,0,0.0924846,0.960696,0.0344795,0,0.103638,0.954349,0.0339861,0,0.115263,0.946066,0.0331323,0,0.127348,0.938012,0.032359,0,0.13988,0.929413,0.0314413,0,0.152849,0.920355,0.0304103,0,0.166248,0.910586,0.0292785,0,0.18007,0.900609,0.0281391,0,0.194308,0.890093,0.0269103,0,0.208958,0.880013,0.0257269,0,0.224018,0.869001,0.0244671,0,0.239485,0.85751,0.0232252,0,0.255359,0.84582,0.0220117,0,0.271638,0.834383,0.0208274,0,0.288324,0.822158,0.0196628,0,0.305419,0.809056,0.0185306,0,0.322927,0.795832,0.0174174,0,0.340851,0.782547,0.0163758,0,0.359199,0.7689,0.015391,0,0.377975,0.755526,0.0144488,0,0.397189,0.741681,0.0135372,0,0.416851,0.728178,0.0126957,0,0.436971,0.714642,0.0118812,0,0.457564,0.702756,0.0111165,0,0.478644,0.69175,0.0104145,0,0.500229,0.680159,0.00974439,0,0.522339,0.668073,0.00911926,0,0.544997,0.655405,0.00851393,0,0.56823,0.642921,0.00797637,0,0.592068,0.629993,0.00745119,0,0.616546,0.616828,0.00696972,0,0.641705,0.603305,0.00652425,0,0.66759,0.589833,0.00610188,0,0.694255,0.575945,0.00570834,0,0.72176,0.561745,0.00533384,0,0.750168,0.548277,0.00500001,0,0.779545,0.534467,0.00467582,0,0.809933,0.521032,0.00438092,0,0.841272,0.507877,0.00410348,0,0.873016,0.494654,0.00383618,0,0.904762,0.481592,0.00358699,0,0.936508,0.468509,0.00337281,0,0.968254,0.455293,0.00316196,0,1,1,0.0430698,0,0,1,0.0430699,0,0,0.999998,0.0430713,0,0,0.999991,0.0430773,0,0,0.99997,0.0430936,0,0,0.999928,0.0431277,0,0.0000406396,0.999852,0.0431893,0,0.000744376,0.999724,0.0432895,0,0.0024806,0.999527,0.0434397,0,0.00524779,0.99923,0.0436507,0,0.00898164,0.998783,0.0439255,0,0.0136083,0.997507,0.0441104,0,0.0190582,0.994418,0.0438225,0,0.0252694,0.992864,0.0439396,0,0.0321879,0.991127,0.0440962,0,0.039767,0.987331,0.0438408,0,0.0479667,0.984819,0.0438991,0,0.056752,0.980384,0.0435906,0,0.0660929,0.975846,0.0432543,0,0.075963,0.970748,0.0428293,0,0.0863398,0.964303,0.042153,0,0.0972035,0.95772,0.0414111,0,0.108537,0.950747,0.0405893,0,0.120325,0.942533,0.0394887,0,0.132554,0.934045,0.0383544,0,0.145215,0.924942,0.037057,0,0.158296,0.915811,0.0356993,0,0.17179,0.90612,0.0342401,0,0.185691,0.896434,0.0328078,0,0.199993,0.886021,0.031288,0,0.214691,0.876081,0.0297776,0,0.229782,0.865608,0.0282334,0,0.245265,0.854924,0.026749,0,0.261138,0.843607,0.02526,0,0.277401,0.832456,0.0238214,0,0.294056,0.821342,0.0224682,0,0.311104,0.809303,0.0211297,0,0.328548,0.796468,0.0198387,0,0.346394,0.784046,0.0186227,0,0.364645,0.771262,0.0174561,0,0.38331,0.758118,0.0163806,0,0.402396,0.745075,0.0153287,0,0.421912,0.731926,0.0143647,0,0.44187,0.71863,0.0134363,0,0.462283,0.705414,0.0125603,0,0.483165,0.693792,0.0117508,0,0.504535,0.683108,0.0110016,0,0.52641,0.67183,0.0102757,0,0.548816,0.66015,0.00962044,0,0.571776,0.647907,0.00898031,0,0.595323,0.635734,0.00840811,0,0.619489,0.623208,0.00786211,0,0.644317,0.610438,0.00734953,0,0.669852,0.597345,0.00687688,0,0.696148,0.584138,0.00643469,0,0.723267,0.5707,0.00602236,0,0.75128,0.556966,0.0056324,0,0.780258,0.543607,0.00528277,0,0.810268,0.530213,0.00493999,0,0.841311,0.516912,0.00462265,0,0.873016,0.503916,0.0043307,0,0.904762,0.491146,0.00406858,0,0.936508,0.478439,0.00381436,0,0.968254,0.465834,0.00358003,0,1,1,0.0534039,0,0,1,0.053404,0,0,0.999998,0.0534055,0,0,0.999989,0.0534116,0,0,0.999968,0.0534283,0,0,0.999918,0.0534633,0,0.000155895,0.99983,0.0535262,0,0.00120914,0.999685,0.0536281,0,0.00334944,0.999461,0.0537799,0,0.00653077,0.999119,0.0539902,0,0.0106718,0.998582,0.0542524,0,0.0156907,0.995919,0.0540318,0,0.0215147,0.993735,0.0538914,0,0.0280801,0.992126,0.0539557,0,0.0353323,0.990266,0.0540401,0,0.0432247,0.986317,0.0536064,0,0.0517172,0.983213,0.0534425,0,0.0607754,0.978303,0.0528622,0,0.0703698,0.973665,0.0523363,0,0.0804742,0.968091,0.0516165,0,0.0910667,0.961026,0.0505434,0,0.102128,0.954333,0.049523,0,0.113641,0.946372,0.0481698,0,0.125591,0.938254,0.0467674,0,0.137965,0.929516,0.0452341,0,0.150754,0.920106,0.0435083,0,0.163947,0.910899,0.0417399,0,0.177537,0.901532,0.0399389,0,0.191516,0.891919,0.0380901,0,0.205881,0.882006,0.0362341,0,0.220626,0.871965,0.0343444,0,0.235749,0.862145,0.0324832,0,0.251248,0.852058,0.0306681,0,0.267121,0.84161,0.0289097,0,0.283368,0.830806,0.0272079,0,0.299992,0.820476,0.0256089,0,0.316992,0.809514,0.0240394,0,0.334374,0.797865,0.0225379,0,0.35214,0.785621,0.0211235,0,0.370296,0.773765,0.0197908,0,0.388849,0.761629,0.0185235,0,0.407807,0.748891,0.0173358,0,0.427178,0.736437,0.0162305,0,0.446974,0.723707,0.0151778,0,0.467207,0.710606,0.0141791,0,0.487892,0.698019,0.0132592,0,0.509046,0.686203,0.0123887,0,0.530687,0.675692,0.0115976,0,0.552839,0.664826,0.0108325,0,0.575527,0.65349,0.0101348,0,0.59878,0.641774,0.00947756,0,0.622634,0.629794,0.00886058,0,0.647128,0.617647,0.00828526,0,0.672308,0.60534,0.00775312,0,0.698231,0.592718,0.00726033,0,0.724958,0.579746,0.00679731,0,0.752563,0.566763,0.00636111,0,0.781127,0.553515,0.00595228,0,0.810733,0.540118,0.00556876,0,0.841426,0.527325,0.00523051,0,0.873016,0.514265,0.00490712,0,0.904762,0.501406,0.00460297,0,0.936508,0.488922,0.00431247,0,0.968254,0.476541,0.0040472,0,1,1,0.0659184,0,0,1,0.0659185,0,0,0.999998,0.06592,0,0,0.999988,0.0659259,0,0,0.999963,0.0659423,0,0,0.999907,0.0659764,0,0.000374198,0.999806,0.0660376,0,0.00182071,0.999639,0.0661361,0,0.0043894,0.999378,0.0662814,0,0.00800055,0.998985,0.0664779,0,0.0125594,0.998285,0.0666914,0,0.0179786,0.995071,0.0661989,0,0.0241822,0.993172,0.0660454,0,0.031106,0.991438,0.0660105,0,0.0386952,0.988428,0.0656875,0,0.0469032,0.985218,0.0652913,0,0.0556905,0.981128,0.0647107,0,0.065023,0.976015,0.0638491,0,0.0748717,0.97097,0.062993,0,0.0852112,0.964582,0.0617927,0,0.0960199,0.957383,0.0603626,0,0.107279,0.949969,0.0588128,0,0.118971,0.941843,0.0570274,0,0.131084,0.933624,0.0551885,0,0.143604,0.924543,0.053122,0,0.156521,0.914919,0.0508897,0,0.169825,0.905773,0.0486418,0,0.18351,0.896434,0.0463364,0,0.197569,0.887195,0.0440623,0,0.211997,0.877706,0.0417799,0,0.226789,0.867719,0.03945,0,0.241944,0.858587,0.037243,0,0.257458,0.849317,0.0350956,0,0.273331,0.839585,0.0329852,0,0.289563,0.829856,0.0310028,0,0.306154,0.819589,0.0290953,0,0.323108,0.809714,0.0272738,0,0.340426,0.79934,0.0255631,0,0.358113,0.788224,0.0239175,0,0.376175,0.776619,0.0223831,0,0.394616,0.76521,0.0209298,0,0.413445,0.753716,0.0195786,0,0.432671,0.741564,0.0183001,0,0.452305,0.729413,0.0171259,0,0.472358,0.717146,0.0159933,0,0.492845,0.70436,0.0149495,0,0.513783,0.69219,0.0139681,0,0.535189,0.680289,0.0130577,0,0.557087,0.669611,0.0122198,0,0.5795,0.659113,0.0114174,0,0.602459,0.648148,0.0106729,0,0.625997,0.636905,0.00998997,0,0.650154,0.625154,0.00934313,0,0.674976,0.613481,0.00874839,0,0.700518,0.60154,0.00818265,0,0.726845,0.58943,0.00766889,0,0.754032,0.576828,0.00717153,0,0.782167,0.564194,0.00672696,0,0.811344,0.551501,0.00630863,0,0.841644,0.538635,0.00592177,0,0.873016,0.525724,0.00554888,0,0.904762,0.513209,0.00520225,0,0.936508,0.500457,0.00488231,0,0.968254,0.48799,0.00457153,0,1,1,0.0810131,0,0,1,0.0810133,0,0,0.999997,0.0810145,0,0,0.999985,0.08102,0,0,0.999956,0.0810347,0,0.0000195026,0.999893,0.0810656,0,0.000719316,0.999777,0.0811205,0,0.00259774,0.999583,0.081208,0,0.00561807,0.999281,0.0813343,0,0.00967472,0.998813,0.0814969,0,0.0146627,0.997597,0.0815217,0,0.0204902,0.994379,0.0808502,0,0.0270802,0.992744,0.0806792,0,0.0343674,0.990745,0.0804589,0,0.0422974,0.986646,0.0796107,0,0.0508242,0.983611,0.0790913,0,0.0599087,0.978869,0.0780746,0,0.0695175,0.973475,0.0768218,0,0.0796223,0.967845,0.0754926,0,0.0901983,0.960778,0.0737063,0,0.101224,0.953333,0.0718052,0,0.112682,0.945274,0.0695946,0,0.124555,0.936955,0.0672492,0,0.136831,0.928319,0.0647732,0,0.149496,0.919075,0.0620947,0,0.162542,0.909114,0.0591816,0,0.175958,0.900137,0.0563917,0,0.189739,0.891069,0.0535392,0,0.203877,0.882262,0.0507642,0,0.218368,0.873232,0.0479793,0,0.233208,0.864042,0.045226,0,0.248393,0.855002,0.0425413,0,0.263923,0.846569,0.0400126,0,0.279796,0.837714,0.0375269,0,0.296012,0.828918,0.0352027,0,0.312573,0.819783,0.0330011,0,0.329479,0.810129,0.0308908,0,0.346734,0.800866,0.0289112,0,0.364342,0.79093,0.0270255,0,0.382307,0.780593,0.0252758,0,0.400637,0.769511,0.0236178,0,0.419337,0.758558,0.0220652,0,0.438418,0.747632,0.0206289,0,0.457889,0.736146,0.0192873,0,0.477761,0.724093,0.0180333,0,0.49805,0.71234,0.0168264,0,0.51877,0.700201,0.015746,0,0.53994,0.687949,0.0147027,0,0.561581,0.676163,0.0137512,0,0.583718,0.665001,0.0128655,0,0.60638,0.65472,0.0120366,0,0.629599,0.644213,0.0112604,0,0.653415,0.633382,0.0105413,0,0.677874,0.62212,0.00986498,0,0.70303,0.610631,0.00923308,0,0.728948,0.599078,0.00864206,0,0.755706,0.587519,0.00811784,0,0.783396,0.575505,0.00761237,0,0.812121,0.563148,0.00713949,0,0.841989,0.550828,0.00668379,0,0.873035,0.538458,0.00627715,0,0.904762,0.525905,0.00588336,0,0.936508,0.513517,0.00552687,0,0.968254,0.501395,0.00519681,0,1,1,0.0991506,0,0,1,0.0991504,0,0,0.999996,0.0991515,0,0,0.999984,0.0991558,0,0,0.999947,0.0991672,0,0.000114389,0.999874,0.0991912,0,0.00121503,0.999739,0.0992331,0,0.00356108,0.999514,0.0992983,0,0.00705578,0.999159,0.0993877,0,0.011574,0.998586,0.0994837,0,0.017003,0.995731,0.0988425,0,0.0232484,0.993384,0.098276,0,0.0302318,0.991615,0.0979269,0,0.0378884,0.989029,0.0973432,0,0.0461641,0.985373,0.0963539,0,0.0550136,0.981278,0.0952306,0,0.0643988,0.975777,0.0936233,0,0.0742868,0.970526,0.0920219,0,0.0846501,0.963755,0.0898912,0,0.0954644,0.956676,0.0876064,0,0.106709,0.948099,0.0847751,0,0.118367,0.939718,0.0818638,0,0.130423,0.931305,0.078857,0,0.142862,0.922342,0.0756127,0,0.155674,0.912842,0.0721473,0,0.168849,0.903304,0.0686195,0,0.182378,0.89411,0.0650589,0,0.196255,0.885512,0.0616022,0,0.210473,0.877193,0.0582434,0,0.225027,0.86877,0.0548979,0,0.239915,0.860267,0.0516095,0,0.255132,0.851915,0.048468,0,0.270678,0.843912,0.0454447,0,0.286551,0.83604,0.0425612,0,0.302751,0.828245,0.0398752,0,0.31928,0.820159,0.0373198,0,0.336138,0.81167,0.034916,0,0.35333,0.802659,0.0326402,0,0.370858,0.793921,0.0304901,0,0.388728,0.784713,0.0284857,0,0.406944,0.774946,0.0266186,0,0.425515,0.76448,0.0248593,0,0.444449,0.753793,0.0232114,0,0.463756,0.743506,0.0217039,0,0.483447,0.732555,0.0202841,0,0.503535,0.720965,0.0189648,0,0.524036,0.709422,0.0177189,0,0.544968,0.697756,0.0165626,0,0.56635,0.685565,0.015483,0,0.588208,0.673987,0.0144892,0,0.610569,0.66244,0.0135607,0,0.633466,0.651675,0.0126956,0,0.656936,0.641598,0.0118788,0,0.681025,0.63121,0.0111261,0,0.705788,0.620514,0.010437,0,0.731289,0.609366,0.00978747,0,0.757606,0.598137,0.00917257,0,0.784834,0.586966,0.00859778,0,0.813085,0.575549,0.00806803,0,0.842485,0.563797,0.00757294,0,0.87313,0.551758,0.00710592,0,0.904762,0.539894,0.0066841,0,0.936508,0.527901,0.00627901,0,0.968254,0.515819,0.00590506,0,1,1,0.120864,0,0,1,0.120864,0,0,0.999996,0.120864,0,0,0.99998,0.120867,0,0,0.99994,0.120872,0,0.000323781,0.999852,0.120884,0,0.00188693,0.999693,0.120903,0,0.00473489,0.999426,0.120929,0,0.00872704,0.999002,0.120955,0,0.0137237,0.998235,0.120918,0,0.0196068,0.994608,0.119764,0,0.0262803,0.992997,0.119265,0,0.0336657,0.990968,0.11863,0,0.0416987,0.987002,0.117261,0,0.0503261,0.983524,0.116009,0,0.0595035,0.97875,0.114252,0,0.0691935,0.972652,0.11193,0,0.0793645,0.966613,0.109555,0,0.0899894,0.959275,0.106612,0,0.101045,0.951272,0.103375,0,0.112512,0.942323,0.0996594,0,0.124372,0.933679,0.0958841,0,0.136611,0.924822,0.0919265,0,0.149216,0.915742,0.0878061,0,0.162176,0.906348,0.0834894,0,0.175482,0.896883,0.079085,0,0.189125,0.88774,0.0746745,0,0.203098,0.87986,0.0705773,0,0.217396,0.871998,0.0665005,0,0.232015,0.864325,0.0625413,0,0.24695,0.856685,0.0586781,0,0.2622,0.84925,0.0550063,0,0.277761,0.841719,0.0514727,0,0.293634,0.834755,0.0481398,0,0.309819,0.827853,0.0450172,0,0.326315,0.820888,0.0420969,0,0.343126,0.813616,0.0393702,0,0.360254,0.805767,0.0367771,0,0.377701,0.797338,0.0343274,0,0.395474,0.789122,0.0320529,0,0.413577,0.780601,0.0299485,0,0.432018,0.771424,0.0279812,0,0.450804,0.761502,0.0261054,0,0.469944,0.751166,0.0243942,0,0.489451,0.741276,0.0228087,0,0.509337,0.730898,0.0213265,0,0.529617,0.719878,0.0199307,0,0.550307,0.708379,0.0186574,0,0.571428,0.697165,0.0174446,0,0.593003,0.685554,0.0163144,0,0.615059,0.673631,0.015276,0,0.637628,0.662385,0.0143003,0,0.660746,0.651059,0.0134112,0,0.68446,0.640451,0.0125794,0,0.70882,0.630536,0.011793,0,0.733893,0.620316,0.0110547,0,0.759756,0.609722,0.0103668,0,0.786505,0.598804,0.00973009,0,0.814259,0.587871,0.00912812,0,0.843157,0.577121,0.00858916,0,0.87334,0.566019,0.00807333,0,0.904762,0.554664,0.00759687,0,0.936508,0.543101,0.00714759,0,0.968254,0.531558,0.00673418,0,1,1,0.146767,0,0,1,0.146767,0,0,0.999997,0.146767,0,0,0.999977,0.146765,0,0.00000320658,0.999929,0.146762,0,0.000682576,0.999823,0.146753,0,0.00276402,0.999633,0.146735,0,0.00614771,0.999314,0.146699,0,0.0106613,0.998796,0.14662,0,0.0161546,0.997124,0.146107,0,0.0225063,0.994062,0.144857,0,0.0296198,0.992154,0.144011,0,0.037417,0.989186,0.142712,0,0.0458348,0.985279,0.140926,0,0.0548211,0.980826,0.13885,0,0.0643326,0.975056,0.136168,0,0.074333,0.969005,0.133217,0,0.0847917,0.961554,0.12959,0,0.0956828,0.954206,0.125886,0,0.106984,0.945046,0.121335,0,0.118675,0.935678,0.116492,0,0.130741,0.926748,0.111635,0,0.143166,0.917764,0.106625,0,0.155939,0.908358,0.101325,0,0.169049,0.899219,0.0960249,0,0.182487,0.890089,0.0906527,0,0.196245,0.881488,0.0853905,0,0.210317,0.874031,0.0804177,0,0.224697,0.866932,0.0756005,0,0.23938,0.859976,0.0709019,0,0.254364,0.853375,0.0664391,0,0.269646,0.846971,0.0622012,0,0.285223,0.840483,0.058129,0,0.301096,0.833969,0.0542762,0,0.317265,0.82806,0.0507042,0,0.333729,0.822128,0.047368,0,0.350491,0.815989,0.044272,0,0.367554,0.809336,0.0413444,0,0.38492,0.802177,0.038601,0,0.402594,0.79441,0.0360227,0,0.420582,0.786573,0.0336383,0,0.438891,0.778619,0.0314321,0,0.457527,0.77,0.029362,0,0.476499,0.760698,0.0274102,0,0.49582,0.750932,0.0256146,0,0.5155,0.740993,0.023974,0,0.535555,0.731159,0.0224182,0,0.556,0.720836,0.0209889,0,0.576855,0.709913,0.0196411,0,0.598143,0.698415,0.0183824,0,0.619888,0.68745,0.0172222,0,0.642123,0.676154,0.0161509,0,0.664883,0.664383,0.0151397,0,0.688211,0.6533,0.0141873,0,0.71216,0.642072,0.0133105,0,0.736792,0.631412,0.0124932,0,0.762186,0.621622,0.0117408,0,0.788439,0.611681,0.0110358,0,0.815672,0.60142,0.0103775,0,0.844034,0.59083,0.00975623,0,0.873699,0.580254,0.00918084,0,0.904765,0.569841,0.00864721,0,0.936508,0.559224,0.00815731,0,0.968254,0.548315,0.00767924,0,1,1,0.177563,0,0,1,0.177563,0,0,0.999994,0.177562,0,0,0.999972,0.177555,0,0.0000664171,0.999914,0.177536,0,0.0012276,0.999787,0.177496,0,0.00388025,0.999556,0.17742,0,0.00783463,0.999165,0.177285,0,0.0128953,0.9985,0.177037,0,0.0189053,0.995388,0.175634,0,0.025742,0.993102,0.174375,0,0.033309,0.990992,0.173121,0,0.0415298,0.986932,0.170896,0,0.0503425,0.982786,0.16847,0,0.0596964,0.977592,0.165455,0,0.0695498,0.971075,0.161676,0,0.0798676,0.963967,0.157458,0,0.0906201,0.956397,0.152836,0,0.101783,0.947489,0.147467,0,0.113333,0.937564,0.14145,0,0.125254,0.928182,0.135383,0,0.137529,0.919027,0.129212,0,0.150144,0.909618,0.12276,0,0.163088,0.900492,0.116273,0,0.176351,0.891671,0.1098,0,0.189924,0.883146,0.103362,0,0.203799,0.875151,0.0970799,0,0.21797,0.868338,0.0911732,0,0.232433,0.862033,0.0854966,0,0.247182,0.856107,0.0800691,0,0.262216,0.850644,0.0749618,0,0.27753,0.845261,0.070079,0,0.293124,0.839885,0.0654321,0,0.308997,0.834609,0.0610975,0,0.325149,0.829083,0.0569741,0,0.341581,0.82404,0.0531736,0,0.358294,0.818968,0.049665,0,0.37529,0.813496,0.0463856,0,0.392573,0.807533,0.0433217,0,0.410148,0.80099,0.0404402,0,0.428019,0.793891,0.0377578,0,0.446192,0.786281,0.0352616,0,0.464676,0.778773,0.0329577,0,0.483478,0.770737,0.030808,0,0.502608,0.762094,0.0287964,0,0.522079,0.752898,0.0269254,0,0.541905,0.743306,0.0251926,0,0.5621,0.733416,0.023595,0,0.582684,0.723742,0.0221155,0,0.603677,0.713542,0.0207435,0,0.625106,0.702755,0.019434,0,0.646998,0.691484,0.0182046,0,0.66939,0.680531,0.0170771,0,0.692324,0.66953,0.0160339,0,0.715849,0.658126,0.0150677,0,0.740028,0.646933,0.0141551,0,0.764937,0.636107,0.0133179,0,0.790673,0.625271,0.0125284,0,0.817358,0.615225,0.0117937,0,0.84515,0.605678,0.0111181,0,0.874244,0.59583,0.0104759,0,0.904828,0.585704,0.00986672,0,0.936508,0.575413,0.00929712,0,0.968254,0.565373,0.00876713,0,1,1,0.214058,0,0,0.999999,0.214058,0,0,0.999994,0.214055,0,0,0.999966,0.214039,0,0.000259642,0.999893,0.213998,0,0.00200075,0.999737,0.21391,0,0.00527775,0.999449,0.213745,0,0.00983959,0.99896,0.213458,0,0.0154755,0.9979,0.212855,0,0.0220249,0.994278,0.210779,0,0.0293654,0.992254,0.20926,0,0.0374021,0.98881,0.206908,0,0.0460604,0.984715,0.204009,0,0.0552802,0.979738,0.200471,0,0.0650127,0.972884,0.195813,0,0.0752175,0.965996,0.190856,0,0.0858612,0.957974,0.185077,0,0.0969155,0.949155,0.17868,0,0.108356,0.939288,0.171513,0,0.120163,0.928996,0.163838,0,0.132319,0.919563,0.156246,0,0.144808,0.910004,0.148359,0,0.157618,0.900791,0.140417,0,0.170737,0.892135,0.132569,0,0.184155,0.883803,0.124741,0,0.197866,0.876034,0.117091,0,0.211861,0.869219,0.109835,0,0.226134,0.863062,0.102859,0,0.240682,0.857795,0.0962928,0,0.255499,0.853009,0.0900725,0,0.270583,0.848603,0.0842101,0,0.285931,0.844335,0.0786527,0,0.301542,0.840208,0.0734397,0,0.317415,0.836035,0.0685334,0,0.33355,0.83172,0.0639275,0,0.349948,0.827135,0.0595909,0,0.36661,0.822797,0.0556204,0,0.383539,0.818387,0.0519394,0,0.400738,0.813565,0.0485317,0,0.41821,0.808142,0.0453138,0,0.435961,0.802212,0.0423354,0,0.453997,0.79573,0.0395553,0,0.472324,0.788741,0.036988,0,0.490951,0.781093,0.0345688,0,0.509887,0.773597,0.0323297,0,0.529144,0.765622,0.0302719,0,0.548735,0.757083,0.0283477,0,0.568674,0.747992,0.0265562,0,0.588979,0.738591,0.0248844,0,0.609671,0.728719,0.0233342,0,0.630773,0.719146,0.0219081,0,0.652314,0.709165,0.0205711,0,0.674328,0.69875,0.0193248,0,0.696854,0.687884,0.0181582,0,0.719942,0.676818,0.0170746,0,0.743651,0.666247,0.0160718,0,0.768057,0.655284,0.0151262,0,0.793253,0.64401,0.0142561,0,0.819363,0.633353,0.0134327,0,0.846547,0.622674,0.012653,0,0.875017,0.612265,0.0119354,0,0.905021,0.602455,0.0112533,0,0.936508,0.593147,0.0106234,0,0.968254,0.583592,0.0100213,0,1,1,0.25717,0,0,1,0.25717,0,0,0.999992,0.257164,0,0,0.999958,0.257135,0,0.000641715,0.999864,0.25706,0,0.00305314,0.999666,0.256897,0,0.00700975,0.999302,0.256596,0,0.0122194,0.998663,0.25607,0,0.0184622,0.995607,0.254123,0,0.0255773,0.993094,0.252081,0,0.0334439,0.9907,0.249867,0,0.0419696,0.98594,0.246118,0,0.0510823,0.981214,0.242049,0,0.0607242,0.974966,0.236869,0,0.0708486,0.967589,0.230724,0,0.081417,0.95915,0.223635,0,0.0923974,0.950257,0.21596,0,0.103763,0.940165,0.207296,0,0.115491,0.929396,0.197901,0,0.127562,0.919288,0.188437,0,0.13996,0.909428,0.178762,0,0.15267,0.900105,0.169072,0,0.165679,0.891418,0.159478,0,0.178979,0.883347,0.15002,0,0.192558,0.875992,0.140813,0,0.20641,0.869466,0.13196,0,0.220529,0.863699,0.123501,0,0.234907,0.858553,0.115436,0,0.249542,0.854379,0.107901,0,0.264428,0.850894,0.10088,0,0.279564,0.847632,0.0942296,0,0.294947,0.844571,0.0879861,0,0.310575,0.84163,0.0821534,0,0.326448,0.838542,0.0766409,0,0.342566,0.835412,0.0715322,0,0.358929,0.831899,0.0666883,0,0.37554,0.828177,0.0622175,0,0.392399,0.82416,0.0580452,0,0.409511,0.820393,0.054267,0,0.426878,0.816068,0.0507172,0,0.444506,0.811201,0.0474041,0,0.4624,0.805785,0.0443174,0,0.480566,0.799878,0.0414562,0,0.499013,0.793469,0.0388147,0,0.517749,0.786473,0.0363453,0,0.536785,0.778874,0.0340225,0,0.556134,0.771277,0.0318599,0,0.575809,0.763426,0.0298859,0,0.595827,0.755044,0.0280357,0,0.616207,0.746161,0.0262979,0,0.636973,0.737124,0.0247295,0,0.65815,0.72761,0.0232514,0,0.679772,0.717822,0.0218755,0,0.701876,0.708279,0.0205942,0,0.724509,0.698333,0.0193947,0,0.74773,0.68802,0.0182717,0,0.771609,0.677321,0.0172044,0,0.79624,0.666504,0.0162122,0,0.821743,0.656184,0.0152924,0,0.84828,0.64556,0.0144326,0,0.876069,0.634636,0.0136157,0,0.905404,0.624124,0.0128612,0,0.936508,0.613914,0.0121435,0,0.968254,0.603589,0.0114887,0,1,1,0.307946,0,0,0.999999,0.307945,0,0,0.999988,0.307934,0,0.0000204479,0.999944,0.307886,0,0.00127833,0.999824,0.307756,0,0.00445047,0.999565,0.30748,0,0.00914673,0.999085,0.306966,0,0.0150498,0.998103,0.306004,0,0.0219367,0.994249,0.303028,0,0.0296485,0.991807,0.300435,0,0.038068,0.987773,0.296554,0,0.0471062,0.982673,0.2916,0,0.0566942,0.976623,0.285641,0,0.0667768,0.968757,0.27815,0,0.0773099,0.959849,0.269529,0,0.088257,0.950663,0.260248,0,0.0995879,0.940129,0.249704,0,0.111277,0.92895,0.238291,0,0.123304,0.917996,0.226501,0,0.13565,0.907813,0.214669,0,0.148299,0.898305,0.202835,0,0.161237,0.889626,0.191158,0,0.174455,0.88175,0.179695,0,0.187941,0.874715,0.168548,0,0.201687,0.868746,0.15792,0,0.215687,0.863703,0.147807,0,0.229933,0.859315,0.138149,0,0.24442,0.855538,0.128993,0,0.259145,0.852428,0.120414,0,0.274103,0.850168,0.112498,0,0.289293,0.848132,0.105054,0,0.304711,0.846291,0.0981087,0,0.320357,0.844431,0.0915942,0,0.33623,0.842493,0.0855056,0,0.35233,0.840368,0.0798204,0,0.368658,0.83798,0.0745097,0,0.385214,0.83523,0.0695424,0,0.402002,0.832091,0.0649092,0,0.419023,0.828667,0.0606291,0,0.436282,0.824805,0.0566523,0,0.453782,0.820988,0.0530229,0,0.471529,0.816635,0.0496364,0,0.489528,0.811725,0.0464658,0,0.507788,0.806316,0.0435082,0,0.526317,0.800469,0.0407873,0,0.545124,0.794107,0.038255,0,0.564221,0.787218,0.0358825,0,0.583621,0.779872,0.0336785,0,0.603341,0.772097,0.0316379,0,0.623397,0.764484,0.0297379,0,0.643812,0.756428,0.0279581,0,0.664611,0.748022,0.0263153,0,0.685824,0.739268,0.0247799,0,0.707488,0.73024,0.0233385,0,0.729646,0.720893,0.0220035,0,0.752354,0.71119,0.0207555,0,0.77568,0.701791,0.0195843,0,0.799715,0.692184,0.0184891,0,0.824574,0.682258,0.0174541,0,0.850417,0.67206,0.0164873,0,0.877466,0.661717,0.0155959,0,0.90604,0.651462,0.0147519,0,0.936528,0.641467,0.0139727,0,0.968254,0.631229,0.0132363,0,1,1,0.367573,0,0,0.999999,0.367571,0,0,0.999984,0.367553,0,0.000183382,0.999925,0.367473,0,0.00225254,0.999759,0.367259,0,0.00628165,0.99941,0.366801,0,0.0117858,0.998739,0.365946,0,0.0184359,0.995529,0.363191,0,0.0260114,0.992875,0.360171,0,0.0343581,0.989135,0.355981,0,0.0433637,0.984166,0.350401,0,0.0529438,0.977871,0.343348,0,0.0630334,0.96951,0.334341,0,0.0735805,0.959964,0.323862,0,0.0845437,0.950162,0.312521,0,0.095889,0.938882,0.299577,0,0.107588,0.926992,0.285573,0,0.119617,0.915589,0.271212,0,0.131957,0.904791,0.256611,0,0.144591,0.895177,0.242224,0,0.157503,0.886403,0.227952,0,0.170682,0.878957,0.214192,0,0.184117,0.872418,0.200795,0,0.197799,0.867029,0.188015,0,0.21172,0.862835,0.175975,0,0.225873,0.859411,0.164526,0,0.240253,0.856655,0.153693,0,0.254854,0.854519,0.14352,0,0.269673,0.852828,0.13397,0,0.284707,0.851412,0.124984,0,0.299953,0.850609,0.116748,0,0.315408,0.849855,0.10905,0,0.331073,0.849017,0.101839,0,0.346946,0.848079,0.0951359,0,0.363028,0.846911,0.0888774,0,0.379318,0.845445,0.0830375,0,0.395818,0.84362,0.0775844,0,0.41253,0.841411,0.0725054,0,0.429457,0.838768,0.0677691,0,0.446602,0.835801,0.0634016,0,0.463968,0.832341,0.0593095,0,0.481561,0.828424,0.0555121,0,0.499386,0.824312,0.052024,0,0.51745,0.819918,0.0487865,0,0.535761,0.815072,0.0457801,0,0.554328,0.809863,0.0430184,0,0.573162,0.804164,0.0404245,0,0.592275,0.798034,0.0380146,0,0.611681,0.791436,0.0357436,0,0.631398,0.784498,0.0336475,0,0.651445,0.777125,0.0316666,0,0.671845,0.769365,0.0298122,0,0.692628,0.761579,0.0281001,0,0.713827,0.753746,0.0265049,0,0.735484,0.745573,0.0250067,0,0.75765,0.737083,0.0236026,0,0.78039,0.728545,0.0223302,0,0.803789,0.719691,0.0211243,0,0.82796,0.710569,0.0199983,0,0.853056,0.701216,0.0189569,0,0.879298,0.692094,0.0179702,0,0.907014,0.682909,0.0170418,0,0.936691,0.673509,0.0161732,0,0.968254,0.663863,0.0153406,0,1,1,0.437395,0,0,0.999998,0.437394,0,0,0.99998,0.437363,0,0.000616704,0.999891,0.437232,0,0.00367925,0.999656,0.436877,0,0.00867446,0.999148,0.436121,0,0.0150679,0.997959,0.434564,0,0.022531,0.993464,0.430134,0,0.0308507,0.990606,0.426077,0,0.0398805,0.985027,0.419397,0,0.0495148,0.978491,0.41118,0,0.0596749,0.969643,0.40048,0,0.0703001,0.959189,0.38769,0,0.0813427,0.948223,0.373575,0,0.0927641,0.935955,0.357622,0,0.104533,0.923237,0.34043,0,0.116624,0.911074,0.322735,0,0.129015,0.899724,0.30479,0,0.141687,0.890189,0.287392,0,0.154626,0.881796,0.270248,0,0.167818,0.874781,0.253659,0,0.181252,0.869166,0.237786,0,0.194918,0.864725,0.222618,0,0.208807,0.861565,0.208356,0,0.222913,0.859284,0.194867,0,0.237229,0.857677,0.18212,0,0.25175,0.856714,0.17018,0,0.266473,0.856155,0.158969,0,0.281392,0.8558,0.148413,0,0.296505,0.855672,0.138578,0,0.311811,0.855538,0.129345,0,0.327306,0.855689,0.120861,0,0.342991,0.855767,0.112969,0,0.358864,0.855618,0.105593,0,0.374925,0.85525,0.0987451,0,0.391176,0.854583,0.0923727,0,0.407616,0.853534,0.0864143,0,0.424249,0.852061,0.0808338,0,0.441076,0.850253,0.0756771,0,0.4581,0.848004,0.0708612,0,0.475324,0.845333,0.0663784,0,0.492754,0.842376,0.0622631,0,0.510394,0.838956,0.0584112,0,0.528251,0.835121,0.0548328,0,0.546331,0.830842,0.0514838,0,0.564644,0.826212,0.048355,0,0.583198,0.821522,0.0454714,0,0.602005,0.816551,0.0428263,0,0.621078,0.811211,0.0403612,0,0.640434,0.805479,0.038039,0,0.660089,0.799409,0.0358739,0,0.680066,0.79306,0.0338727,0,0.70039,0.786395,0.0319985,0,0.721094,0.779416,0.030241,0,0.742215,0.77214,0.0285951,0,0.7638,0.764636,0.0270747,0,0.785912,0.756836,0.0256354,0,0.808628,0.749315,0.0243027,0,0.832055,0.741561,0.0230497,0,0.856338,0.733589,0.0218801,0,0.88169,0.725479,0.020784,0,0.908441,0.717255,0.0197702,0,0.937125,0.708829,0.0188168,0,0.968254,0.700191,0.0179113,0,1,1,0.518937,0,0,0.999998,0.518933,0,0,0.999967,0.518883,0,0.00147741,0.999832,0.51866,0,0.00573221,0.999466,0.518057,0,0.011826,0.998644,0.516752,0,0.0192116,0.994458,0.512347,0,0.027573,0.991223,0.507675,0,0.0367099,0.985515,0.500188,0,0.046487,0.978308,0.490408,0,0.0568071,0.968359,0.477357,0,0.0675984,0.95682,0.461752,0,0.0788059,0.943929,0.443796,0,0.090386,0.930224,0.423893,0,0.102304,0.916514,0.402682,0,0.114532,0.903653,0.380914,0,0.127047,0.892315,0.359212,0,0.139828,0.882942,0.338102,0,0.152861,0.875438,0.31773,0,0.16613,0.869642,0.298186,0,0.179624,0.865304,0.279491,0,0.193332,0.862382,0.261804,0,0.207247,0.860666,0.245146,0,0.22136,0.859788,0.229406,0,0.235666,0.859608,0.214605,0,0.250158,0.859912,0.200691,0,0.264832,0.86053,0.187623,0,0.279684,0.861368,0.17539,0,0.294711,0.862237,0.163901,0,0.309911,0.863127,0.153175,0,0.32528,0.863923,0.143147,0,0.340819,0.864567,0.133781,0,0.356524,0.865013,0.125042,0,0.372397,0.86539,0.116952,0,0.388438,0.865591,0.109476,0,0.404645,0.865517,0.102542,0,0.421022,0.865084,0.0960688,0,0.437569,0.864309,0.0900499,0,0.454287,0.863151,0.0844328,0,0.471181,0.861649,0.0792218,0,0.488253,0.859742,0.0743482,0,0.505507,0.857446,0.0697963,0,0.522947,0.854757,0.0655364,0,0.54058,0.851783,0.061608,0,0.558412,0.848516,0.0579701,0,0.576449,0.844897,0.0545742,0,0.594701,0.840956,0.0514167,0,0.613178,0.836676,0.0484598,0,0.631892,0.832075,0.0456934,0,0.650856,0.827191,0.0431178,0,0.670088,0.822295,0.0407718,0,0.689606,0.817294,0.0386032,0,0.709434,0.812013,0.0365675,0,0.7296,0.806465,0.0346547,0,0.750138,0.800691,0.0328717,0,0.771093,0.794709,0.031211,0,0.792519,0.788493,0.0296504,0,0.814488,0.782049,0.0281782,0,0.837097,0.775403,0.0267965,0,0.860481,0.76857,0.0255002,0,0.884842,0.761536,0.0242759,0,0.910494,0.754303,0.0231142,0,0.937985,0.74692,0.0220305,0,0.968254,0.739745,0.0210192,0,1,1,0.613914,0,0,0.999996,0.613907,0,0.0000963597,0.999942,0.613814,0,0.00301247,0.999704,0.613407,0,0.00870385,0.999046,0.612302,0,0.0160714,0.995516,0.608266,0,0.0245899,0.991726,0.602863,0,0.0339681,0.985157,0.593956,0,0.0440254,0.97642,0.581748,0,0.0546409,0.964404,0.565183,0,0.0657284,0.950601,0.545273,0,0.0772246,0.935158,0.522129,0,0.0890812,0.919364,0.496782,0,0.10126,0.904754,0.470571,0,0.113731,0.89176,0.444037,0,0.126469,0.881492,0.418322,0,0.139454,0.873656,0.393522,0,0.15267,0.868053,0.369795,0,0.166101,0.864336,0.347171,0,0.179736,0.862259,0.325737,0,0.193565,0.861556,0.305532,0,0.207578,0.861776,0.286416,0,0.221769,0.862661,0.268355,0,0.23613,0.864015,0.251334,0,0.250656,0.865711,0.235352,0,0.265343,0.867519,0.220302,0,0.280187,0.869351,0.206161,0,0.295183,0.871144,0.192908,0,0.31033,0.872839,0.180505,0,0.325624,0.874307,0.168848,0,0.341065,0.875667,0.158021,0,0.35665,0.876758,0.147877,0,0.37238,0.87764,0.138441,0,0.388253,0.878237,0.129627,0,0.404269,0.878563,0.121415,0,0.42043,0.878572,0.113741,0,0.436735,0.87842,0.106652,0,0.453187,0.878057,0.100097,0,0.469786,0.877413,0.0940128,0,0.486536,0.87646,0.0883462,0,0.503439,0.875233,0.0830924,0,0.520498,0.8737,0.0781975,0,0.537717,0.871873,0.07364,0,0.555102,0.86978,0.0694103,0,0.572657,0.867405,0.0654696,0,0.59039,0.864751,0.0617914,0,0.608307,0.861818,0.0583491,0,0.626419,0.858645,0.0551443,0,0.644733,0.855307,0.0521894,0,0.663264,0.851736,0.0494334,0,0.682025,0.847927,0.0468504,0,0.701032,0.843888,0.0444261,0,0.720308,0.839629,0.0421497,0,0.739875,0.835158,0.0400082,0,0.759764,0.830509,0.0380076,0,0.780014,0.825714,0.0361488,0,0.800673,0.820729,0.0343956,0,0.821803,0.815751,0.0327781,0,0.843492,0.810752,0.031275,0,0.86586,0.805587,0.0298542,0,0.889087,0.800317,0.0285397,0,0.913466,0.79489,0.0272948,0,0.93952,0.789314,0.0261139,0,0.96835,0.783593,0.0249938,0,1,1,0.724258,0,0,0.999992,0.724243,0,0.000726889,0.99987,0.724044,0,0.00569574,0.999336,0.72317,0,0.0131702,0.996271,0.719432,0,0.0220738,0.991159,0.712576,0,0.0319405,0.982465,0.700927,0,0.0425202,0.97049,0.684297,0,0.0536599,0.953973,0.661244,0,0.065258,0.935546,0.633804,0,0.0772427,0.916596,0.603071,0,0.0895616,0.899353,0.57105,0,0.102175,0.885216,0.539206,0,0.11505,0.875076,0.508714,0,0.128164,0.868334,0.479571,0,0.141495,0.864414,0.451796,0,0.155026,0.862678,0.425328,0,0.168745,0.862835,0.400352,0,0.182639,0.864067,0.376532,0,0.196699,0.866086,0.35391,0,0.210915,0.868557,0.332424,0,0.225282,0.871271,0.312053,0,0.239792,0.874058,0.292764,0,0.25444,0.8768,0.27453,0,0.269223,0.87939,0.257297,0,0.284135,0.8819,0.24114,0,0.299174,0.884187,0.225934,0,0.314337,0.886262,0.211669,0,0.329622,0.888119,0.198311,0,0.345026,0.889709,0.185783,0,0.360549,0.891054,0.174063,0,0.376189,0.892196,0.163143,0,0.391946,0.893101,0.152952,0,0.407819,0.893803,0.143475,0,0.423808,0.894277,0.134647,0,0.439914,0.894532,0.126434,0,0.456137,0.894576,0.1188,0,0.472479,0.894393,0.111694,0,0.48894,0.893976,0.105069,0,0.505523,0.893346,0.0989077,0,0.52223,0.892502,0.0931724,0,0.539064,0.891441,0.0878276,0,0.556028,0.890276,0.082903,0,0.573125,0.888972,0.0783505,0,0.590361,0.887469,0.0741083,0,0.607741,0.885785,0.0701633,0,0.62527,0.883914,0.0664835,0,0.642957,0.881872,0.0630567,0,0.660809,0.879651,0.0598527,0,0.678836,0.877267,0.0568615,0,0.69705,0.874717,0.05406,0,0.715465,0.872012,0.0514378,0,0.734098,0.869157,0.0489805,0,0.752968,0.866155,0.0466727,0,0.772101,0.863014,0.0445056,0,0.791529,0.859748,0.0424733,0,0.81129,0.856416,0.0405957,0,0.831438,0.852958,0.0388273,0,0.852044,0.849382,0.0371619,0,0.87321,0.845694,0.0355959,0,0.89509,0.841893,0.0341155,0,0.917932,0.837981,0.0327141,0,0.942204,0.833963,0.0313856,0,0.968981,0.829847,0.0301275,0,1,1,0.85214,0,0,0.999969,0.852095,0,0.00279627,0.999483,0.851408,0,0.0107635,0.994545,0.84579,0,0.0206454,0.986188,0.835231,0,0.0315756,0.969847,0.814687,0,0.0432021,0.945951,0.783735,0,0.0553396,0.91917,0.746074,0,0.0678766,0.895488,0.706938,0,0.0807395,0.878232,0.669534,0,0.0938767,0.868252,0.635168,0,0.10725,0.863873,0.603069,0,0.120832,0.863369,0.572514,0,0.134598,0.86545,0.543169,0,0.148533,0.868803,0.514578,0,0.16262,0.872794,0.486762,0,0.176849,0.87702,0.459811,0,0.19121,0.881054,0.433654,0,0.205694,0.884974,0.408574,0,0.220294,0.888587,0.384525,0,0.235005,0.891877,0.36156,0,0.24982,0.894793,0.339661,0,0.264737,0.89743,0.318913,0,0.279751,0.899796,0.299302,0,0.294859,0.901943,0.280843,0,0.310058,0.903858,0.263481,0,0.325346,0.905574,0.247197,0,0.340721,0.907069,0.231915,0,0.356181,0.908379,0.217614,0,0.371725,0.90952,0.20425,0,0.387353,0.910483,0.191758,0,0.403063,0.91128,0.180092,0,0.418854,0.911936,0.169222,0,0.434727,0.912454,0.159098,0,0.450682,0.912835,0.149668,0,0.466718,0.913078,0.140884,0,0.482837,0.913192,0.132709,0,0.499038,0.913175,0.125095,0,0.515324,0.91304,0.118012,0,0.531695,0.912781,0.111417,0,0.548153,0.91241,0.105281,0,0.5647,0.911924,0.0995691,0,0.581338,0.911331,0.0942531,0,0.59807,0.910637,0.0893076,0,0.6149,0.90984,0.0846998,0,0.63183,0.908941,0.0804044,0,0.648865,0.907944,0.0763984,0,0.666011,0.906857,0.0726638,0,0.683273,0.90568,0.0691783,0,0.700659,0.904416,0.0659222,0,0.718176,0.903067,0.0628782,0,0.735834,0.901637,0.0600307,0,0.753646,0.900128,0.0573647,0,0.771625,0.898544,0.0548668,0,0.78979,0.89689,0.052527,0,0.808162,0.895165,0.0503306,0,0.826771,0.893371,0.0482668,0,0.845654,0.891572,0.0463605,0,0.864863,0.889763,0.0445998,0,0.884472,0.887894,0.0429451,0,0.904592,0.885967,0.0413884,0,0.925407,0.883984,0.0399225,0,0.947271,0.881945,0.0385405,0,0.97105,0.879854,0.0372362,0,1,0.999804,0.995833,0,0,0.938155,0.933611,0,0.0158731,0.864755,0.854311,0,0.0317461,0.888594,0.865264,0,0.0476191,0.905575,0.863922,0,0.0634921,0.915125,0.850558,0,0.0793651,0.920665,0.829254,0,0.0952381,0.924073,0.802578,0,0.111111,0.926304,0.772211,0,0.126984,0.927829,0.739366,0,0.142857,0.928924,0.705033,0,0.15873,0.92973,0.670019,0,0.174603,0.930339,0.634993,0,0.190476,0.930811,0.600485,0,0.206349,0.931191,0.566897,0,0.222222,0.93149,0.534485,0,0.238095,0.931737,0.503429,0,0.253968,0.931939,0.473811,0,0.269841,0.932108,0.445668,0,0.285714,0.93225,0.418993,0,0.301587,0.932371,0.393762,0,0.31746,0.932474,0.369939,0,0.333333,0.932562,0.347479,0,0.349206,0.932638,0.326336,0,0.365079,0.932703,0.306462,0,0.380952,0.93276,0.287805,0,0.396825,0.932809,0.270313,0,0.412698,0.932851,0.253933,0,0.428571,0.932887,0.23861,0,0.444444,0.932917,0.224289,0,0.460317,0.932943,0.210917,0,0.47619,0.932965,0.19844,0,0.492063,0.932982,0.186807,0,0.507937,0.932995,0.175966,0,0.52381,0.933005,0.165869,0,0.539683,0.933011,0.156468,0,0.555556,0.933013,0.147719,0,0.571429,0.933013,0.139579,0,0.587302,0.93301,0.132007,0,0.603175,0.933004,0.124965,0,0.619048,0.932994,0.118416,0,0.634921,0.932982,0.112326,0,0.650794,0.932968,0.106663,0,0.666667,0.93295,0.101397,0,0.68254,0.932931,0.0964993,0,0.698413,0.932908,0.0919438,0,0.714286,0.932883,0.0877057,0,0.730159,0.932856,0.0837623,0,0.746032,0.932827,0.0800921,0,0.761905,0.932796,0.0766754,0,0.777778,0.932762,0.0734936,0,0.793651,0.932727,0.0705296,0,0.809524,0.932689,0.0677676,0,0.825397,0.93265,0.0651929,0,0.84127,0.932609,0.0627917,0,0.857143,0.932565,0.0605515,0,0.873016,0.932521,0.0584606,0,0.888889,0.932474,0.0565082,0,0.904762,0.932427,0.0546841,0,0.920635,0.932377,0.0529793,0,0.936508,0.932326,0.0513851,0,0.952381,0.932274,0.0498936,0,0.968254,0.93222,0.0484975,0,0.984127,0.932164,0.0471899,0,1],E=new Float32Array(A),B=new Float32Array(Q),I=new d0(E,64,64,UQ,NQ,f8,RQ,RQ,l0,L0,1),K=new d0(B,64,64,UQ,NQ,f8,RQ,RQ,l0,L0,1);I.needsUpdate=!0,K.needsUpdate=!0;const J=new Uint16Array(A.length);A.forEach(function(H,R){J[R]=OE.toHalfFloat(H)});const C=new Uint16Array(Q.length);Q.forEach(function(H,R){C[R]=OE.toHalfFloat(H)});const U=new d0(J,64,64,UQ,eA,f8,RQ,RQ,l0,L0,1),Y=new d0(C,64,64,UQ,eA,f8,RQ,RQ,l0,L0,1);return U.needsUpdate=!0,Y.needsUpdate=!0,this.LTC_HALF_1=U,this.LTC_HALF_1=Y,this.LTC_FLOAT_1=I,this.LTC_FLOAT_2=K,this}}cK.LTC_HALF_1=null;cK.LTC_HALF_1=null;cK.LTC_FLOAT_1=null;cK.LTC_FLOAT_2=null;var jIA=new p0,hIA=new f;fA.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new RA(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}};hQ.line={uniforms:rA.merge([fA.common,fA.fog,fA.line]),vertexShader:`
		#include <common>
		#include <color_pars_vertex>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>
		#include <clipping_planes_pars_vertex>

		uniform float linewidth;
		uniform vec2 resolution;

		attribute vec3 instanceStart;
		attribute vec3 instanceEnd;

		attribute vec3 instanceColorStart;
		attribute vec3 instanceColorEnd;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#ifdef USE_DASH

			uniform float dashScale;
			attribute float instanceDistanceStart;
			attribute float instanceDistanceEnd;
			varying float vLineDistance;

		#endif

		void trimSegment( const in vec4 start, inout vec4 end ) {

			// trim end segment so it terminates between the camera plane and the near plane

			// conservative estimate of the near plane
			float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
			float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
			float nearEstimate = - 0.5 * b / a;

			float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

			end.xyz = mix( start.xyz, end.xyz, alpha );

		}

		void main() {

			#ifdef USE_COLOR

				vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

			#endif

			#ifdef USE_DASH

				vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
				vUv = uv;

			#endif

			float aspect = resolution.x / resolution.y;

			// camera space
			vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
			vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

			#ifdef WORLD_UNITS

				worldStart = start.xyz;
				worldEnd = end.xyz;

			#else

				vUv = uv;

			#endif

			// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
			// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
			// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
			// perhaps there is a more elegant solution -- WestLangley

			bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

			if ( perspective ) {

				if ( start.z < 0.0 && end.z >= 0.0 ) {

					trimSegment( start, end );

				} else if ( end.z < 0.0 && start.z >= 0.0 ) {

					trimSegment( end, start );

				}

			}

			// clip space
			vec4 clipStart = projectionMatrix * start;
			vec4 clipEnd = projectionMatrix * end;

			// ndc space
			vec3 ndcStart = clipStart.xyz / clipStart.w;
			vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

			// direction
			vec2 dir = ndcEnd.xy - ndcStart.xy;

			// account for clip-space aspect ratio
			dir.x *= aspect;
			dir = normalize( dir );

			#ifdef WORLD_UNITS

				vec3 worldDir = normalize( end.xyz - start.xyz );
				vec3 tmpFwd = normalize( mix( start.xyz, end.xyz, 0.5 ) );
				vec3 worldUp = normalize( cross( worldDir, tmpFwd ) );
				vec3 worldFwd = cross( worldDir, worldUp );
				worldPos = position.y < 0.5 ? start: end;

				// height offset
				float hw = linewidth * 0.5;
				worldPos.xyz += position.x < 0.0 ? hw * worldUp : - hw * worldUp;

				// don't extend the line if we're rendering dashes because we
				// won't be rendering the endcaps
				#ifndef USE_DASH

					// cap extension
					worldPos.xyz += position.y < 0.5 ? - hw * worldDir : hw * worldDir;

					// add width to the box
					worldPos.xyz += worldFwd * hw;

					// endcaps
					if ( position.y > 1.0 || position.y < 0.0 ) {

						worldPos.xyz -= worldFwd * 2.0 * hw;

					}

				#endif

				// project the worldpos
				vec4 clip = projectionMatrix * worldPos;

				// shift the depth of the projected points so the line
				// segments overlap neatly
				vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
				clip.z = clipPose.z * clip.w;

			#else

				vec2 offset = vec2( dir.y, - dir.x );
				// undo aspect ratio adjustment
				dir.x /= aspect;
				offset.x /= aspect;

				// sign flip
				if ( position.x < 0.0 ) offset *= - 1.0;

				// endcaps
				if ( position.y < 0.0 ) {

					offset += - dir;

				} else if ( position.y > 1.0 ) {

					offset += dir;

				}

				// adjust for linewidth
				offset *= linewidth;

				// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
				offset /= resolution.y;

				// select end
				vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

				// back to clip space
				offset *= clip.w;

				clip.xy += offset;

			#endif

			gl_Position = clip;

			vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

			#include <logdepthbuf_vertex>
			#include <clipping_planes_vertex>
			#include <fog_vertex>

		}
		`,fragmentShader:`
		uniform vec3 diffuse;
		uniform float opacity;
		uniform float linewidth;

		#ifdef USE_DASH

			uniform float dashOffset;
			uniform float dashSize;
			uniform float gapSize;

		#endif

		varying float vLineDistance;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#include <common>
		#include <color_pars_fragment>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>
		#include <clipping_planes_pars_fragment>

		vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

			float mua;
			float mub;

			vec3 p13 = p1 - p3;
			vec3 p43 = p4 - p3;

			vec3 p21 = p2 - p1;

			float d1343 = dot( p13, p43 );
			float d4321 = dot( p43, p21 );
			float d1321 = dot( p13, p21 );
			float d4343 = dot( p43, p43 );
			float d2121 = dot( p21, p21 );

			float denom = d2121 * d4343 - d4321 * d4321;

			float numer = d1343 * d4321 - d1321 * d4343;

			mua = numer / denom;
			mua = clamp( mua, 0.0, 1.0 );
			mub = ( d1343 + d4321 * ( mua ) ) / d4343;
			mub = clamp( mub, 0.0, 1.0 );

			return vec2( mua, mub );

		}

		void main() {

			#include <clipping_planes_fragment>

			#ifdef USE_DASH

				if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

				if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

			#endif

			float alpha = opacity;

			#ifdef WORLD_UNITS

				// Find the closest points on the view ray and the line segment
				vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
				vec3 lineDir = worldEnd - worldStart;
				vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

				vec3 p1 = worldStart + lineDir * params.x;
				vec3 p2 = rayEnd * params.y;
				vec3 delta = p1 - p2;
				float len = length( delta );
				float norm = len / linewidth;

				#ifndef USE_DASH

					#ifdef USE_ALPHA_TO_COVERAGE

						float dnorm = fwidth( norm );
						alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

					#else

						if ( norm > 0.5 ) {

							discard;

						}

					#endif

				#endif

			#else

				#ifdef USE_ALPHA_TO_COVERAGE

					// artifacts appear on some hardware if a derivative is taken within a conditional
					float a = vUv.x;
					float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
					float len2 = a * a + b * b;
					float dlen = fwidth( len2 );

					if ( abs( vUv.y ) > 1.0 ) {

						alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

					}

				#else

					if ( abs( vUv.y ) > 1.0 ) {

						float a = vUv.x;
						float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
						float len2 = a * a + b * b;

						if ( len2 > 1.0 ) discard;

					}

				#endif

			#endif

			vec4 diffuseColor = vec4( diffuse, alpha );

			#include <logdepthbuf_fragment>
			#include <color_fragment>

			gl_FragColor = vec4( diffuseColor.rgb, alpha );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>
			#include <fog_fragment>
			#include <premultiplied_alpha_fragment>

		}
		`};var uIA=new gA,pIA=new f,mIA=new f,cIA=new gA,dIA=new gA,lIA=new gA,nIA=new f,oIA=new MA,iIA=new Y8,sIA=new f,rIA=new p0,aIA=new YQ,tIA=new gA;var G6A=new f,Z6A=new f,R6A=new gA;var m6A=new vQ,c6A=new f;function Zi(){let A={};return{get:function(Q){return A[Q]},add:function(Q,E){A[Q]=E},remove:function(Q){delete A[Q]},removeAll:function(){A={}}}}function $i(A){if(A.DefaultMaterial===void 0)A.DefaultMaterial=new LQ({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:xE});return A.DefaultMaterial}function aI(A,Q,E){for(let B in E.extensions)if(A[B]===void 0)Q.userData.gltfExtensions=Q.userData.gltfExtensions||{},Q.userData.gltfExtensions[B]=E.extensions[B]}function a8(A,Q){if(Q.extras!==void 0)if(typeof Q.extras==="object")Object.assign(A.userData,Q.extras);else console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+Q.extras)}function Wi(A,Q,E){let B=!1,I=!1,K=!1;for(let Y=0,H=Q.length;Y<H;Y++){const R=Q[Y];if(R.POSITION!==void 0)B=!0;if(R.NORMAL!==void 0)I=!0;if(R.COLOR_0!==void 0)K=!0;if(B&&I&&K)break}if(!B&&!I&&!K)return Promise.resolve(A);const J=[],C=[],U=[];for(let Y=0,H=Q.length;Y<H;Y++){const R=Q[Y];if(B){const G=R.POSITION!==void 0?E.getDependency("accessor",R.POSITION):A.attributes.position;J.push(G)}if(I){const G=R.NORMAL!==void 0?E.getDependency("accessor",R.NORMAL):A.attributes.normal;C.push(G)}if(K){const G=R.COLOR_0!==void 0?E.getDependency("accessor",R.COLOR_0):A.attributes.color;U.push(G)}}return Promise.all([Promise.all(J),Promise.all(C),Promise.all(U)]).then(function(Y){const H=Y[0],R=Y[1],G=Y[2];if(B)A.morphAttributes.position=H;if(I)A.morphAttributes.normal=R;if(K)A.morphAttributes.color=G;return A.morphTargetsRelative=!0,A})}function Xi(A,Q){if(A.updateMorphTargets(),Q.weights!==void 0)for(let E=0,B=Q.weights.length;E<B;E++)A.morphTargetInfluences[E]=Q.weights[E];if(Q.extras&&Array.isArray(Q.extras.targetNames)){const E=Q.extras.targetNames;if(A.morphTargetInfluences.length===E.length){A.morphTargetDictionary={};for(let B=0,I=E.length;B<I;B++)A.morphTargetDictionary[E[B]]=B}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Fi(A){let Q;const E=A.extensions&&A.extensions[h0.KHR_DRACO_MESH_COMPRESSION];if(E)Q="draco:"+E.bufferView+":"+E.indices+":"+I$(E.attributes);else Q=A.indices+":"+I$(A.attributes)+":"+A.mode;if(A.targets!==void 0)for(let B=0,I=A.targets.length;B<I;B++)Q+=":"+I$(A.targets[B]);return Q}function I$(A){let Q="";const E=Object.keys(A).sort();for(let B=0,I=E.length;B<I;B++)Q+=E[B]+":"+A[E[B]]+";";return Q}function J$(A){switch(A){case Int8Array:return 0.007874015748031496;case Uint8Array:return 0.00392156862745098;case Int16Array:return 0.00003051850947599719;case Uint16Array:return 0.000015259021896696422;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function qi(A){if(A.search(/\.jpe?g($|\?)/i)>0||A.search(/^data\:image\/jpeg/)===0)return"image/jpeg";if(A.search(/\.webp($|\?)/i)>0||A.search(/^data\:image\/webp/)===0)return"image/webp";return"image/png"}function Li(A,Q,E){const B=Q.attributes,I=new p0;if(B.POSITION!==void 0){const C=E.json.accessors[B.POSITION],U=C.min,Y=C.max;if(U!==void 0&&Y!==void 0){if(I.set(new f(U[0],U[1],U[2]),new f(Y[0],Y[1],Y[2])),C.normalized){const H=J$(dK[C.componentType]);I.min.multiplyScalar(H),I.max.multiplyScalar(H)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const K=Q.targets;if(K!==void 0){const C=new f,U=new f;for(let Y=0,H=K.length;Y<H;Y++){const R=K[Y];if(R.POSITION!==void 0){const G=E.json.accessors[R.POSITION],O=G.min,F=G.max;if(O!==void 0&&F!==void 0){if(U.setX(Math.max(Math.abs(O[0]),Math.abs(F[0]))),U.setY(Math.max(Math.abs(O[1]),Math.abs(F[1]))),U.setZ(Math.max(Math.abs(O[2]),Math.abs(F[2]))),G.normalized){const q=J$(dK[G.componentType]);U.multiplyScalar(q)}C.max(U)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}I.expandByVector(C)}A.boundingBox=I;const J=new YQ;I.getCenter(J.center),J.radius=I.min.distanceTo(I.max)/2,A.boundingSphere=J}function Gz(A,Q,E){const B=Q.attributes,I=[];function K(J,C){return E.getDependency("accessor",J).then(function(U){A.setAttribute(C,U)})}for(let J in B){const C=K$[J]||J.toLowerCase();if(C in A.attributes)continue;I.push(K(B[J],C))}if(Q.indices!==void 0&&!A.index){const J=E.getDependency("accessor",Q.indices).then(function(C){A.setIndex(C)});I.push(J)}if(D0.workingColorSpace!==f0&&"COLOR_0"in B)console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${D0.workingColorSpace}" not supported.`);return a8(A,Q),Li(A,Q,E),Promise.all(I).then(function(){return Q.targets!==void 0?Wi(A,Q.targets,E):A})}class tI extends G0{constructor(A){super(A);this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(Q){return new $z(Q)}),this.register(function(Q){return new Wz(Q)}),this.register(function(Q){return new zz(Q)}),this.register(function(Q){return new Vz(Q)}),this.register(function(Q){return new Tz(Q)}),this.register(function(Q){return new Fz(Q)}),this.register(function(Q){return new qz(Q)}),this.register(function(Q){return new Nz(Q)}),this.register(function(Q){return new Lz(Q)}),this.register(function(Q){return new Oz(Q)}),this.register(function(Q){return new Dz(Q)}),this.register(function(Q){return new Xz(Q)}),this.register(function(Q){return new wz(Q)}),this.register(function(Q){return new Mz(Q)}),this.register(function(Q){return new Zz(Q)}),this.register(function(Q){return new Sz(Q)}),this.register(function(Q){return new Pz(Q)})}load(A,Q,E,B){const I=this;let K;if(this.resourcePath!=="")K=this.resourcePath;else if(this.path!==""){const U=F1.extractUrlBase(A);K=F1.resolveURL(U,this.path)}else K=F1.extractUrlBase(A);this.manager.itemStart(A);const J=function(U){if(B)B(U);else console.error(U);I.manager.itemError(A),I.manager.itemEnd(A)},C=new Z0(this.manager);C.setPath(this.path),C.setResponseType("arraybuffer"),C.setRequestHeader(this.requestHeader),C.setWithCredentials(this.withCredentials),C.load(A,function(U){try{I.parse(U,K,function(Y){Q(Y),I.manager.itemEnd(A)},J)}catch(Y){J(Y)}},E,J)}setDRACOLoader(A){return this.dracoLoader=A,this}setKTX2Loader(A){return this.ktx2Loader=A,this}setMeshoptDecoder(A){return this.meshoptDecoder=A,this}register(A){if(this.pluginCallbacks.indexOf(A)===-1)this.pluginCallbacks.push(A);return this}unregister(A){if(this.pluginCallbacks.indexOf(A)!==-1)this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(A),1);return this}parse(A,Q,E,B){let I;const K={},J={},C=/*@__PURE__*/new TextDecoder;if(typeof A==="string")I=JSON.parse(A);else if(A instanceof ArrayBuffer)if(C.decode(new Uint8Array(A,0,4))===_z){try{K[h0.KHR_BINARY_GLTF]=new kz(A)}catch(H){if(B)B(H);return}I=JSON.parse(K[h0.KHR_BINARY_GLTF].content)}else I=JSON.parse(C.decode(A));else I=A;if(I.asset===void 0||I.asset.version[0]<2){if(B)B(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const U=new xz(I,{path:Q||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});U.fileLoader.setRequestHeader(this.requestHeader);for(let Y=0;Y<this.pluginCallbacks.length;Y++){const H=this.pluginCallbacks[Y](U);if(!H.name)console.error("THREE.GLTFLoader: Invalid plugin found: missing name");J[H.name]=H,K[H.name]=!0}if(I.extensionsUsed)for(let Y=0;Y<I.extensionsUsed.length;++Y){const H=I.extensionsUsed[Y],R=I.extensionsRequired||[];switch(H){case h0.KHR_MATERIALS_UNLIT:K[H]=new Rz;break;case h0.KHR_DRACO_MESH_COMPRESSION:K[H]=new jz(I,this.dracoLoader);break;case h0.KHR_TEXTURE_TRANSFORM:K[H]=new hz;break;case h0.KHR_MESH_QUANTIZATION:K[H]=new vz;break;default:if(R.indexOf(H)>=0&&J[H]===void 0)console.warn('THREE.GLTFLoader: Unknown extension "'+H+'".')}}U.setExtensions(K),U.setPlugins(J),U.parse(E,B)}parseAsync(A,Q){const E=this;return new Promise(function(B,I){E.parse(A,Q,B,I)})}}var h0={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Zz{constructor(A){this.parser=A,this.name=h0.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const A=this.parser,Q=this.parser.json.nodes||[];for(let E=0,B=Q.length;E<B;E++){const I=Q[E];if(I.extensions&&I.extensions[this.name]&&I.extensions[this.name].light!==void 0)A._addNodeRef(this.cache,I.extensions[this.name].light)}}_loadLight(A){const Q=this.parser,E="light:"+A;let B=Q.cache.get(E);if(B)return B;const I=Q.json,C=((I.extensions&&I.extensions[this.name]||{}).lights||[])[A];let U;const Y=new WA(16777215);if(C.color!==void 0)Y.setRGB(C.color[0],C.color[1],C.color[2],f0);const H=C.range!==void 0?C.range:0;switch(C.type){case"directional":U=new FE(Y),U.target.position.set(0,0,-1),U.add(U.target);break;case"point":U=new U8(Y),U.distance=H;break;case"spot":U=new pB(Y),U.distance=H,C.spot=C.spot||{},C.spot.innerConeAngle=C.spot.innerConeAngle!==void 0?C.spot.innerConeAngle:0,C.spot.outerConeAngle=C.spot.outerConeAngle!==void 0?C.spot.outerConeAngle:Math.PI/4,U.angle=C.spot.outerConeAngle,U.penumbra=1-C.spot.innerConeAngle/C.spot.outerConeAngle,U.target.position.set(0,0,-1),U.add(U.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+C.type)}if(U.position.set(0,0,0),U.decay=2,a8(U,C),C.intensity!==void 0)U.intensity=C.intensity;return U.name=Q.createUniqueName(C.name||"light_"+A),B=Promise.resolve(U),Q.cache.add(E,B),B}getDependency(A,Q){if(A!=="light")return;return this._loadLight(Q)}createNodeAttachment(A){const Q=this,E=this.parser,I=E.json.nodes[A],J=(I.extensions&&I.extensions[this.name]||{}).light;if(J===void 0)return null;return this._loadLight(J).then(function(C){return E._getNodeRef(Q.cache,J,C)})}}class Rz{constructor(){this.name=h0.KHR_MATERIALS_UNLIT}getMaterialType(){return V0}extendParams(A,Q,E){const B=[];A.color=new WA(1,1,1),A.opacity=1;const I=Q.pbrMetallicRoughness;if(I){if(Array.isArray(I.baseColorFactor)){const K=I.baseColorFactor;A.color.setRGB(K[0],K[1],K[2],f0),A.opacity=K[3]}if(I.baseColorTexture!==void 0)B.push(E.assignTexture(A,"map",I.baseColorTexture,$0))}return Promise.all(B)}}class Oz{constructor(A){this.parser=A,this.name=h0.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(A,Q){const B=this.parser.json.materials[A];if(!B.extensions||!B.extensions[this.name])return Promise.resolve();const I=B.extensions[this.name].emissiveStrength;if(I!==void 0)Q.emissiveIntensity=I;return Promise.resolve()}}class $z{constructor(A){this.parser=A,this.name=h0.KHR_MATERIALS_CLEARCOAT}getMaterialType(A){const E=this.parser.json.materials[A];if(!E.extensions||!E.extensions[this.name])return null;return H1}extendMaterialParams(A,Q){const E=this.parser,B=E.json.materials[A];if(!B.extensions||!B.extensions[this.name])return Promise.resolve();const I=[],K=B.extensions[this.name];if(K.clearcoatFactor!==void 0)Q.clearcoat=K.clearcoatFactor;if(K.clearcoatTexture!==void 0)I.push(E.assignTexture(Q,"clearcoatMap",K.clearcoatTexture));if(K.clearcoatRoughnessFactor!==void 0)Q.clearcoatRoughness=K.clearcoatRoughnessFactor;if(K.clearcoatRoughnessTexture!==void 0)I.push(E.assignTexture(Q,"clearcoatRoughnessMap",K.clearcoatRoughnessTexture));if(K.clearcoatNormalTexture!==void 0){if(I.push(E.assignTexture(Q,"clearcoatNormalMap",K.clearcoatNormalTexture)),K.clearcoatNormalTexture.scale!==void 0){const J=K.clearcoatNormalTexture.scale;Q.clearcoatNormalScale=new RA(J,J)}}return Promise.all(I)}}class Wz{constructor(A){this.parser=A,this.name=h0.KHR_MATERIALS_DISPERSION}getMaterialType(A){const E=this.parser.json.materials[A];if(!E.extensions||!E.extensions[this.name])return null;return H1}extendMaterialParams(A,Q){const B=this.parser.json.materials[A];if(!B.extensions||!B.extensions[this.name])return Promise.resolve();const I=B.extensions[this.name];return Q.dispersion=I.dispersion!==void 0?I.dispersion:0,Promise.resolve()}}class Xz{constructor(A){this.parser=A,this.name=h0.KHR_MATERIALS_IRIDESCENCE}getMaterialType(A){const E=this.parser.json.materials[A];if(!E.extensions||!E.extensions[this.name])return null;return H1}extendMaterialParams(A,Q){const E=this.parser,B=E.json.materials[A];if(!B.extensions||!B.extensions[this.name])return Promise.resolve();const I=[],K=B.extensions[this.name];if(K.iridescenceFactor!==void 0)Q.iridescence=K.iridescenceFactor;if(K.iridescenceTexture!==void 0)I.push(E.assignTexture(Q,"iridescenceMap",K.iridescenceTexture));if(K.iridescenceIor!==void 0)Q.iridescenceIOR=K.iridescenceIor;if(Q.iridescenceThicknessRange===void 0)Q.iridescenceThicknessRange=[100,400];if(K.iridescenceThicknessMinimum!==void 0)Q.iridescenceThicknessRange[0]=K.iridescenceThicknessMinimum;if(K.iridescenceThicknessMaximum!==void 0)Q.iridescenceThicknessRange[1]=K.iridescenceThicknessMaximum;if(K.iridescenceThicknessTexture!==void 0)I.push(E.assignTexture(Q,"iridescenceThicknessMap",K.iridescenceThicknessTexture));return Promise.all(I)}}class Fz{constructor(A){this.parser=A,this.name=h0.KHR_MATERIALS_SHEEN}getMaterialType(A){const E=this.parser.json.materials[A];if(!E.extensions||!E.extensions[this.name])return null;return H1}extendMaterialParams(A,Q){const E=this.parser,B=E.json.materials[A];if(!B.extensions||!B.extensions[this.name])return Promise.resolve();const I=[];Q.sheenColor=new WA(0,0,0),Q.sheenRoughness=0,Q.sheen=1;const K=B.extensions[this.name];if(K.sheenColorFactor!==void 0){const J=K.sheenColorFactor;Q.sheenColor.setRGB(J[0],J[1],J[2],f0)}if(K.sheenRoughnessFactor!==void 0)Q.sheenRoughness=K.sheenRoughnessFactor;if(K.sheenColorTexture!==void 0)I.push(E.assignTexture(Q,"sheenColorMap",K.sheenColorTexture,$0));if(K.sheenRoughnessTexture!==void 0)I.push(E.assignTexture(Q,"sheenRoughnessMap",K.sheenRoughnessTexture));return Promise.all(I)}}class qz{constructor(A){this.parser=A,this.name=h0.KHR_MATERIALS_TRANSMISSION}getMaterialType(A){const E=this.parser.json.materials[A];if(!E.extensions||!E.extensions[this.name])return null;return H1}extendMaterialParams(A,Q){const E=this.parser,B=E.json.materials[A];if(!B.extensions||!B.extensions[this.name])return Promise.resolve();const I=[],K=B.extensions[this.name];if(K.transmissionFactor!==void 0)Q.transmission=K.transmissionFactor;if(K.transmissionTexture!==void 0)I.push(E.assignTexture(Q,"transmissionMap",K.transmissionTexture));return Promise.all(I)}}class Nz{constructor(A){this.parser=A,this.name=h0.KHR_MATERIALS_VOLUME}getMaterialType(A){const E=this.parser.json.materials[A];if(!E.extensions||!E.extensions[this.name])return null;return H1}extendMaterialParams(A,Q){const E=this.parser,B=E.json.materials[A];if(!B.extensions||!B.extensions[this.name])return Promise.resolve();const I=[],K=B.extensions[this.name];if(Q.thickness=K.thicknessFactor!==void 0?K.thicknessFactor:0,K.thicknessTexture!==void 0)I.push(E.assignTexture(Q,"thicknessMap",K.thicknessTexture));Q.attenuationDistance=K.attenuationDistance||1/0;const J=K.attenuationColor||[1,1,1];return Q.attenuationColor=new WA().setRGB(J[0],J[1],J[2],f0),Promise.all(I)}}class Lz{constructor(A){this.parser=A,this.name=h0.KHR_MATERIALS_IOR}getMaterialType(A){const E=this.parser.json.materials[A];if(!E.extensions||!E.extensions[this.name])return null;return H1}extendMaterialParams(A,Q){const B=this.parser.json.materials[A];if(!B.extensions||!B.extensions[this.name])return Promise.resolve();const I=B.extensions[this.name];return Q.ior=I.ior!==void 0?I.ior:1.5,Promise.resolve()}}class Dz{constructor(A){this.parser=A,this.name=h0.KHR_MATERIALS_SPECULAR}getMaterialType(A){const E=this.parser.json.materials[A];if(!E.extensions||!E.extensions[this.name])return null;return H1}extendMaterialParams(A,Q){const E=this.parser,B=E.json.materials[A];if(!B.extensions||!B.extensions[this.name])return Promise.resolve();const I=[],K=B.extensions[this.name];if(Q.specularIntensity=K.specularFactor!==void 0?K.specularFactor:1,K.specularTexture!==void 0)I.push(E.assignTexture(Q,"specularIntensityMap",K.specularTexture));const J=K.specularColorFactor||[1,1,1];if(Q.specularColor=new WA().setRGB(J[0],J[1],J[2],f0),K.specularColorTexture!==void 0)I.push(E.assignTexture(Q,"specularColorMap",K.specularColorTexture,$0));return Promise.all(I)}}class Mz{constructor(A){this.parser=A,this.name=h0.EXT_MATERIALS_BUMP}getMaterialType(A){const E=this.parser.json.materials[A];if(!E.extensions||!E.extensions[this.name])return null;return H1}extendMaterialParams(A,Q){const E=this.parser,B=E.json.materials[A];if(!B.extensions||!B.extensions[this.name])return Promise.resolve();const I=[],K=B.extensions[this.name];if(Q.bumpScale=K.bumpFactor!==void 0?K.bumpFactor:1,K.bumpTexture!==void 0)I.push(E.assignTexture(Q,"bumpMap",K.bumpTexture));return Promise.all(I)}}class wz{constructor(A){this.parser=A,this.name=h0.KHR_MATERIALS_ANISOTROPY}getMaterialType(A){const E=this.parser.json.materials[A];if(!E.extensions||!E.extensions[this.name])return null;return H1}extendMaterialParams(A,Q){const E=this.parser,B=E.json.materials[A];if(!B.extensions||!B.extensions[this.name])return Promise.resolve();const I=[],K=B.extensions[this.name];if(K.anisotropyStrength!==void 0)Q.anisotropy=K.anisotropyStrength;if(K.anisotropyRotation!==void 0)Q.anisotropyRotation=K.anisotropyRotation;if(K.anisotropyTexture!==void 0)I.push(E.assignTexture(Q,"anisotropyMap",K.anisotropyTexture));return Promise.all(I)}}class zz{constructor(A){this.parser=A,this.name=h0.KHR_TEXTURE_BASISU}loadTexture(A){const Q=this.parser,E=Q.json,B=E.textures[A];if(!B.extensions||!B.extensions[this.name])return null;const I=B.extensions[this.name],K=Q.options.ktx2Loader;if(!K)if(E.extensionsRequired&&E.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");else return null;return Q.loadTextureImage(A,I.source,K)}}class Vz{constructor(A){this.parser=A,this.name=h0.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(A){const Q=this.name,E=this.parser,B=E.json,I=B.textures[A];if(!I.extensions||!I.extensions[Q])return null;const K=I.extensions[Q],J=B.images[K.source];let C=E.textureLoader;if(J.uri){const U=E.options.manager.getHandler(J.uri);if(U!==null)C=U}return this.detectSupport().then(function(U){if(U)return E.loadTextureImage(A,K.source,C);if(B.extensionsRequired&&B.extensionsRequired.indexOf(Q)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return E.loadTexture(A)})}detectSupport(){if(!this.isSupported)this.isSupported=new Promise(function(A){const Q=new Image;Q.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",Q.onload=Q.onerror=function(){A(Q.height===1)}});return this.isSupported}}class Tz{constructor(A){this.parser=A,this.name=h0.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(A){const Q=this.name,E=this.parser,B=E.json,I=B.textures[A];if(!I.extensions||!I.extensions[Q])return null;const K=I.extensions[Q],J=B.images[K.source];let C=E.textureLoader;if(J.uri){const U=E.options.manager.getHandler(J.uri);if(U!==null)C=U}return this.detectSupport().then(function(U){if(U)return E.loadTextureImage(A,K.source,C);if(B.extensionsRequired&&B.extensionsRequired.indexOf(Q)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return E.loadTexture(A)})}detectSupport(){if(!this.isSupported)this.isSupported=new Promise(function(A){const Q=new Image;Q.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",Q.onload=Q.onerror=function(){A(Q.height===1)}});return this.isSupported}}class Sz{constructor(A){this.name=h0.EXT_MESHOPT_COMPRESSION,this.parser=A}loadBufferView(A){const Q=this.parser.json,E=Q.bufferViews[A];if(E.extensions&&E.extensions[this.name]){const B=E.extensions[this.name],I=this.parser.getDependency("buffer",B.buffer),K=this.parser.options.meshoptDecoder;if(!K||!K.supported)if(Q.extensionsRequired&&Q.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");else return null;return I.then(function(J){const C=B.byteOffset||0,U=B.byteLength||0,Y=B.count,H=B.byteStride,R=new Uint8Array(J,C,U);if(K.decodeGltfBufferAsync)return K.decodeGltfBufferAsync(Y,H,R,B.mode,B.filter).then(function(G){return G.buffer});else return K.ready.then(function(){const G=new ArrayBuffer(Y*H);return K.decodeGltfBuffer(new Uint8Array(G),Y,H,R,B.mode,B.filter),G})})}else return null}}class Pz{constructor(A){this.name=h0.EXT_MESH_GPU_INSTANCING,this.parser=A}createNodeMesh(A){const Q=this.parser.json,E=Q.nodes[A];if(!E.extensions||!E.extensions[this.name]||E.mesh===void 0)return null;const B=Q.meshes[E.mesh];for(let U of B.primitives)if(U.mode!==LE.TRIANGLES&&U.mode!==LE.TRIANGLE_STRIP&&U.mode!==LE.TRIANGLE_FAN&&U.mode!==void 0)return null;const K=E.extensions[this.name].attributes,J=[],C={};for(let U in K)J.push(this.parser.getDependency("accessor",K[U]).then((Y)=>{return C[U]=Y,C[U]}));if(J.length<1)return null;return J.push(this.parser.createNodeMesh(A)),Promise.all(J).then((U)=>{const Y=U.pop(),H=Y.isGroup?Y.children:[Y],R=U[0].count,G=[];for(let O of H){const F=new MA,q=new f,W=new C0,Z=new f(1,1,1),$=new oI(O.geometry,O.material,R);for(let X=0;X<R;X++){if(C.TRANSLATION)q.fromBufferAttribute(C.TRANSLATION,X);if(C.ROTATION)W.fromBufferAttribute(C.ROTATION,X);if(C.SCALE)Z.fromBufferAttribute(C.SCALE,X);$.setMatrixAt(X,F.compose(q,W,Z))}for(let X in C)if(X==="_COLOR_0"){const N=C[X];$.instanceColor=new I8(N.array,N.itemSize,N.normalized)}else if(X!=="TRANSLATION"&&X!=="ROTATION"&&X!=="SCALE")O.geometry.setAttribute(X,C[X]);Y0.prototype.copy.call($,O),this.parser.assignFinalMaterial($),G.push($)}if(Y.isGroup)return Y.clear(),Y.add(...G),Y;return G[0]})}}var _z="glTF",RC=12,Uz={JSON:1313821514,BIN:5130562};class kz{constructor(A){this.name=h0.KHR_BINARY_GLTF,this.content=null,this.body=null;const Q=new DataView(A,0,RC),E=/*@__PURE__*/new TextDecoder;if(this.header={magic:E.decode(new Uint8Array(A.slice(0,4))),version:Q.getUint32(4,!0),length:Q.getUint32(8,!0)},this.header.magic!==_z)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");else if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const B=this.header.length-RC,I=new DataView(A,RC);let K=0;while(K<B){const J=I.getUint32(K,!0);K+=4;const C=I.getUint32(K,!0);if(K+=4,C===Uz.JSON){const U=new Uint8Array(A,RC+K,J);this.content=E.decode(U)}else if(C===Uz.BIN){const U=RC+K;this.body=A.slice(U,U+J)}K+=J}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class jz{constructor(A,Q){if(!Q)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=h0.KHR_DRACO_MESH_COMPRESSION,this.json=A,this.dracoLoader=Q,this.dracoLoader.preload()}decodePrimitive(A,Q){const E=this.json,B=this.dracoLoader,I=A.extensions[this.name].bufferView,K=A.extensions[this.name].attributes,J={},C={},U={};for(let Y in K){const H=K$[Y]||Y.toLowerCase();J[H]=K[Y]}for(let Y in A.attributes){const H=K$[Y]||Y.toLowerCase();if(K[Y]!==void 0){const R=E.accessors[A.attributes[Y]],G=dK[R.componentType];U[H]=G.name,C[H]=R.normalized===!0}}return Q.getDependency("bufferView",I).then(function(Y){return new Promise(function(H,R){B.decodeDracoFile(Y,function(G){for(let O in G.attributes){const F=G.attributes[O],q=C[O];if(q!==void 0)F.normalized=q}H(G)},J,U,f0,R)})})}}class hz{constructor(){this.name=h0.KHR_TEXTURE_TRANSFORM}extendTexture(A,Q){if((Q.texCoord===void 0||Q.texCoord===A.channel)&&Q.offset===void 0&&Q.rotation===void 0&&Q.scale===void 0)return A;if(A=A.clone(),Q.texCoord!==void 0)A.channel=Q.texCoord;if(Q.offset!==void 0)A.offset.fromArray(Q.offset);if(Q.rotation!==void 0)A.rotation=Q.rotation;if(Q.scale!==void 0)A.repeat.fromArray(Q.scale);return A.needsUpdate=!0,A}}class vz{constructor(){this.name=h0.KHR_MESH_QUANTIZATION}}class C$ extends l8{constructor(A,Q,E,B){super(A,Q,E,B)}copySampleValue_(A){const Q=this.resultBuffer,E=this.sampleValues,B=this.valueSize,I=A*B*3+B;for(let K=0;K!==B;K++)Q[K]=E[I+K];return Q}interpolate_(A,Q,E,B){const I=this.resultBuffer,K=this.sampleValues,J=this.valueSize,C=J*2,U=J*3,Y=B-Q,H=(E-Q)/Y,R=H*H,G=R*H,O=A*U,F=O-U,q=-2*G+3*R,W=G-R,Z=1-q,$=W-R+H;for(let X=0;X!==J;X++){const N=K[F+X+J],M=K[F+X+C]*Y,L=K[O+X+J],D=K[O+X]*Y;I[X]=Z*N+$*M+q*L+W*D}return I}}var Ri=new C0;class yz extends C${interpolate_(A,Q,E,B){const I=super.interpolate_(A,Q,E,B);return Ri.fromArray(I).normalize().toArray(I),I}}var LE={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},dK={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Yz={9728:L0,9729:l0,9984:P9,9985:k9,9986:_9,9987:fE},Hz={33071:RQ,33648:vB,10497:CQ},E$={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},K$={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},dB={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Oi={CUBICSPLINE:void 0,LINEAR:FK,STEP:y9},B$={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"},Ni=new MA;class xz{constructor(A={},Q={}){this.json=A,this.extensions={},this.plugins={},this.options=Q,this.cache=new Zi,this.associations=/*@__PURE__*/new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let E=!1,B=-1,I=!1,K=-1;if(typeof navigator!=="undefined"){const J=navigator.userAgent;E=/^((?!chrome|android).)*safari/i.test(J)===!0;const C=J.match(/Version\/(\d+)/);B=E&&C?parseInt(C[1],10):-1,I=J.indexOf("Firefox")>-1,K=I?J.match(/Firefox\/([0-9]+)\./)[1]:-1}if(typeof createImageBitmap==="undefined"||E&&B<17||I&&K<98)this.textureLoader=new cQ(this.options.manager);else this.textureLoader=new GY(this.options.manager);if(this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Z0(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials")this.fileLoader.setWithCredentials(!0)}setExtensions(A){this.extensions=A}setPlugins(A){this.plugins=A}parse(A,Q){const E=this,B=this.json,I=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(K){return K._markDefs&&K._markDefs()}),Promise.all(this._invokeAll(function(K){return K.beforeRoot&&K.beforeRoot()})).then(function(){return Promise.all([E.getDependencies("scene"),E.getDependencies("animation"),E.getDependencies("camera")])}).then(function(K){const J={scene:K[0][B.scene||0],scenes:K[0],animations:K[1],cameras:K[2],asset:B.asset,parser:E,userData:{}};return aI(I,J,B),a8(J,B),Promise.all(E._invokeAll(function(C){return C.afterRoot&&C.afterRoot(J)})).then(function(){for(let C of J.scenes)C.updateMatrixWorld();A(J)})}).catch(Q)}_markDefs(){const A=this.json.nodes||[],Q=this.json.skins||[],E=this.json.meshes||[];for(let B=0,I=Q.length;B<I;B++){const K=Q[B].joints;for(let J=0,C=K.length;J<C;J++)A[K[J]].isBone=!0}for(let B=0,I=A.length;B<I;B++){const K=A[B];if(K.mesh!==void 0){if(this._addNodeRef(this.meshCache,K.mesh),K.skin!==void 0)E[K.mesh].isSkinnedMesh=!0}if(K.camera!==void 0)this._addNodeRef(this.cameraCache,K.camera)}}_addNodeRef(A,Q){if(Q===void 0)return;if(A.refs[Q]===void 0)A.refs[Q]=A.uses[Q]=0;A.refs[Q]++}_getNodeRef(A,Q,E){if(A.refs[Q]<=1)return E;const B=E.clone(),I=(K,J)=>{const C=this.associations.get(K);if(C!=null)this.associations.set(J,C);for(let[U,Y]of K.children.entries())I(Y,J.children[U])};return I(E,B),B.name+="_instance_"+A.uses[Q]++,B}_invokeOne(A){const Q=Object.values(this.plugins);Q.push(this);for(let E=0;E<Q.length;E++){const B=A(Q[E]);if(B)return B}return null}_invokeAll(A){const Q=Object.values(this.plugins);Q.unshift(this);const E=[];for(let B=0;B<Q.length;B++){const I=A(Q[B]);if(I)E.push(I)}return E}getDependency(A,Q){const E=A+":"+Q;let B=this.cache.get(E);if(!B){switch(A){case"scene":B=this.loadScene(Q);break;case"node":B=this._invokeOne(function(I){return I.loadNode&&I.loadNode(Q)});break;case"mesh":B=this._invokeOne(function(I){return I.loadMesh&&I.loadMesh(Q)});break;case"accessor":B=this.loadAccessor(Q);break;case"bufferView":B=this._invokeOne(function(I){return I.loadBufferView&&I.loadBufferView(Q)});break;case"buffer":B=this.loadBuffer(Q);break;case"material":B=this._invokeOne(function(I){return I.loadMaterial&&I.loadMaterial(Q)});break;case"texture":B=this._invokeOne(function(I){return I.loadTexture&&I.loadTexture(Q)});break;case"skin":B=this.loadSkin(Q);break;case"animation":B=this._invokeOne(function(I){return I.loadAnimation&&I.loadAnimation(Q)});break;case"camera":B=this.loadCamera(Q);break;default:if(B=this._invokeOne(function(I){return I!=this&&I.getDependency&&I.getDependency(A,Q)}),!B)throw new Error("Unknown type: "+A);break}this.cache.add(E,B)}return B}getDependencies(A){let Q=this.cache.get(A);if(!Q){const E=this,B=this.json[A+(A==="mesh"?"es":"s")]||[];Q=Promise.all(B.map(function(I,K){return E.getDependency(A,K)})),this.cache.add(A,Q)}return Q}loadBuffer(A){const Q=this.json.buffers[A],E=this.fileLoader;if(Q.type&&Q.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+Q.type+" buffer type is not supported.");if(Q.uri===void 0&&A===0)return Promise.resolve(this.extensions[h0.KHR_BINARY_GLTF].body);const B=this.options;return new Promise(function(I,K){E.load(F1.resolveURL(Q.uri,B.path),I,void 0,function(){K(new Error('THREE.GLTFLoader: Failed to load buffer "'+Q.uri+'".'))})})}loadBufferView(A){const Q=this.json.bufferViews[A];return this.getDependency("buffer",Q.buffer).then(function(E){const B=Q.byteLength||0,I=Q.byteOffset||0;return E.slice(I,I+B)})}loadAccessor(A){const Q=this,E=this.json,B=this.json.accessors[A];if(B.bufferView===void 0&&B.sparse===void 0){const K=E$[B.type],J=dK[B.componentType],C=B.normalized===!0,U=new J(B.count*K);return Promise.resolve(new E0(U,K,C))}const I=[];if(B.bufferView!==void 0)I.push(this.getDependency("bufferView",B.bufferView));else I.push(null);if(B.sparse!==void 0)I.push(this.getDependency("bufferView",B.sparse.indices.bufferView)),I.push(this.getDependency("bufferView",B.sparse.values.bufferView));return Promise.all(I).then(function(K){const J=K[0],C=E$[B.type],U=dK[B.componentType],Y=U.BYTES_PER_ELEMENT,H=Y*C,R=B.byteOffset||0,G=B.bufferView!==void 0?E.bufferViews[B.bufferView].byteStride:void 0,O=B.normalized===!0;let F,q;if(G&&G!==H){const W=Math.floor(R/G),Z="InterleavedBuffer:"+B.bufferView+":"+B.componentType+":"+W+":"+B.count;let $=Q.cache.get(Z);if(!$)F=new U(J,W*G,B.count*G/Y),$=new K8(F,G/Y),Q.cache.add(Z,$);q=new X1($,C,R%G/Y,O)}else{if(J===null)F=new U(B.count*C);else F=new U(J,R,B.count*C);q=new E0(F,C,O)}if(B.sparse!==void 0){const W=E$.SCALAR,Z=dK[B.sparse.indices.componentType],$=B.sparse.indices.byteOffset||0,X=B.sparse.values.byteOffset||0,N=new Z(K[1],$,B.sparse.count*W),M=new U(K[2],X,B.sparse.count*C);if(J!==null)q=new E0(q.array.slice(),q.itemSize,q.normalized);q.normalized=!1;for(let L=0,D=N.length;L<D;L++){const w=N[L];if(q.setX(w,M[L*C]),C>=2)q.setY(w,M[L*C+1]);if(C>=3)q.setZ(w,M[L*C+2]);if(C>=4)q.setW(w,M[L*C+3]);if(C>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}q.normalized=O}return q})}loadTexture(A){const Q=this.json,E=this.options,I=Q.textures[A].source,K=Q.images[I];let J=this.textureLoader;if(K.uri){const C=E.manager.getHandler(K.uri);if(C!==null)J=C}return this.loadTextureImage(A,I,J)}loadTextureImage(A,Q,E){const B=this,I=this.json,K=I.textures[A],J=I.images[Q],C=(J.uri||J.bufferView)+":"+K.sampler;if(this.textureCache[C])return this.textureCache[C];const U=this.loadImageSource(Q,E).then(function(Y){if(Y.flipY=!1,Y.name=K.name||J.name||"",Y.name===""&&typeof J.uri==="string"&&J.uri.startsWith("data:image/")===!1)Y.name=J.uri;const R=(I.samplers||{})[K.sampler]||{};return Y.magFilter=Yz[R.magFilter]||l0,Y.minFilter=Yz[R.minFilter]||fE,Y.wrapS=Hz[R.wrapS]||CQ,Y.wrapT=Hz[R.wrapT]||CQ,B.associations.set(Y,{textures:A}),Y}).catch(function(){return null});return this.textureCache[C]=U,U}loadImageSource(A,Q){const E=this,B=this.json,I=this.options;if(this.sourceCache[A]!==void 0)return this.sourceCache[A].then((H)=>H.clone());const K=B.images[A],J=self.URL||self.webkitURL;let C=K.uri||"",U=!1;if(K.bufferView!==void 0)C=E.getDependency("bufferView",K.bufferView).then(function(H){U=!0;const R=new Blob([H],{type:K.mimeType});return C=J.createObjectURL(R),C});else if(K.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+A+" is missing URI and bufferView");const Y=Promise.resolve(C).then(function(H){return new Promise(function(R,G){let O=R;if(Q.isImageBitmapLoader===!0)O=function(F){const q=new JQ(F);q.needsUpdate=!0,R(q)};Q.load(F1.resolveURL(H,I.path),O,void 0,G)})}).then(function(H){if(U===!0)J.revokeObjectURL(C);return a8(H,K),H.userData.mimeType=K.mimeType||qi(K.uri),H}).catch(function(H){throw console.error("THREE.GLTFLoader: Couldn\'t load texture",C),H});return this.sourceCache[A]=Y,Y}assignTexture(A,Q,E,B){const I=this;return this.getDependency("texture",E.index).then(function(K){if(!K)return null;if(E.texCoord!==void 0&&E.texCoord>0)K=K.clone(),K.channel=E.texCoord;if(I.extensions[h0.KHR_TEXTURE_TRANSFORM]){const J=E.extensions!==void 0?E.extensions[h0.KHR_TEXTURE_TRANSFORM]:void 0;if(J){const C=I.associations.get(K);K=I.extensions[h0.KHR_TEXTURE_TRANSFORM].extendTexture(K,J),I.associations.set(K,C)}}if(B!==void 0)K.colorSpace=B;return A[Q]=K,K})}assignFinalMaterial(A){const Q=A.geometry;let E=A.material;const B=Q.attributes.tangent===void 0,I=Q.attributes.color!==void 0,K=Q.attributes.normal===void 0;if(A.isPoints){const J="PointsMaterial:"+E.uuid;let C=this.cache.get(J);if(!C)C=new mE,yQ.prototype.copy.call(C,E),C.color.copy(E.color),C.map=E.map,C.sizeAttenuation=!1,this.cache.add(J,C);E=C}else if(A.isLine){const J="LineBasicMaterial:"+E.uuid;let C=this.cache.get(J);if(!C)C=new g0,yQ.prototype.copy.call(C,E),C.color.copy(E.color),C.map=E.map,this.cache.add(J,C);E=C}if(B||I||K){let J="ClonedMaterial:"+E.uuid+":";if(B)J+="derivative-tangents:";if(I)J+="vertex-colors:";if(K)J+="flat-shading:";let C=this.cache.get(J);if(!C){if(C=E.clone(),I)C.vertexColors=!0;if(K)C.flatShading=!0;if(B){if(C.normalScale)C.normalScale.y*=-1;if(C.clearcoatNormalScale)C.clearcoatNormalScale.y*=-1}this.cache.add(J,C),this.associations.set(C,this.associations.get(E))}E=C}A.material=E}getMaterialType(){return LQ}loadMaterial(A){const Q=this,E=this.json,B=this.extensions,I=E.materials[A];let K;const J={},C=I.extensions||{},U=[];if(C[h0.KHR_MATERIALS_UNLIT]){const H=B[h0.KHR_MATERIALS_UNLIT];K=H.getMaterialType(),U.push(H.extendParams(J,I,Q))}else{const H=I.pbrMetallicRoughness||{};if(J.color=new WA(1,1,1),J.opacity=1,Array.isArray(H.baseColorFactor)){const R=H.baseColorFactor;J.color.setRGB(R[0],R[1],R[2],f0),J.opacity=R[3]}if(H.baseColorTexture!==void 0)U.push(Q.assignTexture(J,"map",H.baseColorTexture,$0));if(J.metalness=H.metallicFactor!==void 0?H.metallicFactor:1,J.roughness=H.roughnessFactor!==void 0?H.roughnessFactor:1,H.metallicRoughnessTexture!==void 0)U.push(Q.assignTexture(J,"metalnessMap",H.metallicRoughnessTexture)),U.push(Q.assignTexture(J,"roughnessMap",H.metallicRoughnessTexture));K=this._invokeOne(function(R){return R.getMaterialType&&R.getMaterialType(A)}),U.push(Promise.all(this._invokeAll(function(R){return R.extendMaterialParams&&R.extendMaterialParams(A,J)})))}if(I.doubleSided===!0)J.side=FQ;const Y=I.alphaMode||B$.OPAQUE;if(Y===B$.BLEND)J.transparent=!0,J.depthWrite=!1;else if(J.transparent=!1,Y===B$.MASK)J.alphaTest=I.alphaCutoff!==void 0?I.alphaCutoff:0.5;if(I.normalTexture!==void 0&&K!==V0){if(U.push(Q.assignTexture(J,"normalMap",I.normalTexture)),J.normalScale=new RA(1,1),I.normalTexture.scale!==void 0){const H=I.normalTexture.scale;J.normalScale.set(H,H)}}if(I.occlusionTexture!==void 0&&K!==V0){if(U.push(Q.assignTexture(J,"aoMap",I.occlusionTexture)),I.occlusionTexture.strength!==void 0)J.aoMapIntensity=I.occlusionTexture.strength}if(I.emissiveFactor!==void 0&&K!==V0){const H=I.emissiveFactor;J.emissive=new WA().setRGB(H[0],H[1],H[2],f0)}if(I.emissiveTexture!==void 0&&K!==V0)U.push(Q.assignTexture(J,"emissiveMap",I.emissiveTexture,$0));return Promise.all(U).then(function(){const H=new K(J);if(I.name)H.name=I.name;if(a8(H,I),Q.associations.set(H,{materials:A}),I.extensions)aI(B,H,I);return H})}createUniqueName(A){const Q=P0.sanitizeNodeName(A||"");if(Q in this.nodeNamesUsed)return Q+"_"+ ++this.nodeNamesUsed[Q];else return this.nodeNamesUsed[Q]=0,Q}loadGeometries(A){const Q=this,E=this.extensions,B=this.primitiveCache;function I(J){return E[h0.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(J,Q).then(function(C){return Gz(C,J,Q)})}const K=[];for(let J=0,C=A.length;J<C;J++){const U=A[J],Y=Fi(U),H=B[Y];if(H)K.push(H.promise);else{let R;if(U.extensions&&U.extensions[h0.KHR_DRACO_MESH_COMPRESSION])R=I(U);else R=Gz(new pA,U,Q);B[Y]={primitive:U,promise:R},K.push(R)}}return Promise.all(K)}loadMesh(A){const Q=this,E=this.json,B=this.extensions,I=E.meshes[A],K=I.primitives,J=[];for(let C=0,U=K.length;C<U;C++){const Y=K[C].material===void 0?$i(this.cache):this.getDependency("material",K[C].material);J.push(Y)}return J.push(Q.loadGeometries(K)),Promise.all(J).then(function(C){const U=C.slice(0,C.length-1),Y=C[C.length-1],H=[];for(let G=0,O=Y.length;G<O;G++){const F=Y[G],q=K[G];let W;const Z=U[G];if(q.mode===LE.TRIANGLES||q.mode===LE.TRIANGLE_STRIP||q.mode===LE.TRIANGLE_FAN||q.mode===void 0){if(W=I.isSkinnedMesh===!0?new xB(F,Z):new mA(F,Z),W.isSkinnedMesh===!0)W.normalizeSkinWeights();if(q.mode===LE.TRIANGLE_STRIP)W.geometry=tO(W.geometry,x9);else if(q.mode===LE.TRIANGLE_FAN)W.geometry=tO(W.geometry,qK)}else if(q.mode===LE.LINES)W=new wQ(F,Z);else if(q.mode===LE.LINE_STRIP)W=new sQ(F,Z);else if(q.mode===LE.LINE_LOOP)W=new u9(F,Z);else if(q.mode===LE.POINTS)W=new C8(F,Z);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+q.mode);if(Object.keys(W.geometry.morphAttributes).length>0)Xi(W,I);if(W.name=Q.createUniqueName(I.name||"mesh_"+A),a8(W,I),q.extensions)aI(B,W,q);Q.assignFinalMaterial(W),H.push(W)}for(let G=0,O=H.length;G<O;G++)Q.associations.set(H[G],{meshes:A,primitives:G});if(H.length===1){if(I.extensions)aI(B,H[0],I);return H[0]}const R=new QQ;if(I.extensions)aI(B,R,I);Q.associations.set(R,{meshes:A});for(let G=0,O=H.length;G<O;G++)R.add(H[G]);return R})}loadCamera(A){let Q;const E=this.json.cameras[A],B=E[E.type];if(!B){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}if(E.type==="perspective")Q=new y0(EQ.radToDeg(B.yfov),B.aspectRatio||1,B.znear||1,B.zfar||2000000);else if(E.type==="orthographic")Q=new s1(-B.xmag,B.xmag,B.ymag,-B.ymag,B.znear,B.zfar);if(E.name)Q.name=this.createUniqueName(E.name);return a8(Q,E),Promise.resolve(Q)}loadSkin(A){const Q=this.json.skins[A],E=[];for(let B=0,I=Q.joints.length;B<I;B++)E.push(this._loadNodeShallow(Q.joints[B]));if(Q.inverseBindMatrices!==void 0)E.push(this.getDependency("accessor",Q.inverseBindMatrices));else E.push(null);return Promise.all(E).then(function(B){const I=B.pop(),K=B,J=[],C=[];for(let U=0,Y=K.length;U<Y;U++){const H=K[U];if(H){J.push(H);const R=new MA;if(I!==null)R.fromArray(I.array,U*16);C.push(R)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',Q.joints[U])}return new J8(J,C)})}loadAnimation(A){const Q=this.json,E=this,B=Q.animations[A],I=B.name?B.name:"animation_"+A,K=[],J=[],C=[],U=[],Y=[];for(let H=0,R=B.channels.length;H<R;H++){const G=B.channels[H],O=B.samplers[G.sampler],F=G.target,q=F.node,W=B.parameters!==void 0?B.parameters[O.input]:O.input,Z=B.parameters!==void 0?B.parameters[O.output]:O.output;if(F.node===void 0)continue;K.push(this.getDependency("node",q)),J.push(this.getDependency("accessor",W)),C.push(this.getDependency("accessor",Z)),U.push(O),Y.push(F)}return Promise.all([Promise.all(K),Promise.all(J),Promise.all(C),Promise.all(U),Promise.all(Y)]).then(function(H){const R=H[0],G=H[1],O=H[2],F=H[3],q=H[4],W=[];for(let Z=0,$=R.length;Z<$;Z++){const X=R[Z],N=G[Z],M=O[Z],L=F[Z],D=q[Z];if(X===void 0)continue;if(X.updateMatrix)X.updateMatrix();const w=E._createAnimationTracks(X,N,M,L,D);if(w)for(let P=0;P<w.length;P++)W.push(w[P])}return new U1(I,void 0,W)})}createNodeMesh(A){const Q=this.json,E=this,B=Q.nodes[A];if(B.mesh===void 0)return null;return E.getDependency("mesh",B.mesh).then(function(I){const K=E._getNodeRef(E.meshCache,B.mesh,I);if(B.weights!==void 0)K.traverse(function(J){if(!J.isMesh)return;for(let C=0,U=B.weights.length;C<U;C++)J.morphTargetInfluences[C]=B.weights[C]});return K})}loadNode(A){const Q=this.json,E=this,B=Q.nodes[A],I=E._loadNodeShallow(A),K=[],J=B.children||[];for(let U=0,Y=J.length;U<Y;U++)K.push(E.getDependency("node",J[U]));const C=B.skin===void 0?Promise.resolve(null):E.getDependency("skin",B.skin);return Promise.all([I,Promise.all(K),C]).then(function(U){const Y=U[0],H=U[1],R=U[2];if(R!==null)Y.traverse(function(G){if(!G.isSkinnedMesh)return;G.bind(R,Ni)});for(let G=0,O=H.length;G<O;G++)Y.add(H[G]);return Y})}_loadNodeShallow(A){const Q=this.json,E=this.extensions,B=this;if(this.nodeCache[A]!==void 0)return this.nodeCache[A];const I=Q.nodes[A],K=I.name?B.createUniqueName(I.name):"",J=[],C=B._invokeOne(function(U){return U.createNodeMesh&&U.createNodeMesh(A)});if(C)J.push(C);if(I.camera!==void 0)J.push(B.getDependency("camera",I.camera).then(function(U){return B._getNodeRef(B.cameraCache,I.camera,U)}));return B._invokeAll(function(U){return U.createNodeAttachment&&U.createNodeAttachment(A)}).forEach(function(U){J.push(U)}),this.nodeCache[A]=Promise.all(J).then(function(U){let Y;if(I.isBone===!0)Y=new pE;else if(U.length>1)Y=new QQ;else if(U.length===1)Y=U[0];else Y=new Y0;if(Y!==U[0])for(let H=0,R=U.length;H<R;H++)Y.add(U[H]);if(I.name)Y.userData.name=I.name,Y.name=K;if(a8(Y,I),I.extensions)aI(E,Y,I);if(I.matrix!==void 0){const H=new MA;H.fromArray(I.matrix),Y.applyMatrix4(H)}else{if(I.translation!==void 0)Y.position.fromArray(I.translation);if(I.rotation!==void 0)Y.quaternion.fromArray(I.rotation);if(I.scale!==void 0)Y.scale.fromArray(I.scale)}if(!B.associations.has(Y))B.associations.set(Y,{});return B.associations.get(Y).nodes=A,Y}),this.nodeCache[A]}loadScene(A){const Q=this.extensions,E=this.json.scenes[A],B=this,I=new QQ;if(E.name)I.name=B.createUniqueName(E.name);if(a8(I,E),E.extensions)aI(Q,I,E);const K=E.nodes||[],J=[];for(let C=0,U=K.length;C<U;C++)J.push(B.getDependency("node",K[C]));return Promise.all(J).then(function(C){for(let Y=0,H=C.length;Y<H;Y++)I.add(C[Y]);const U=(Y)=>{const H=/*@__PURE__*/new Map;for(let[R,G]of B.associations)if(R instanceof yQ||R instanceof JQ)H.set(R,G);return Y.traverse((R)=>{const G=B.associations.get(R);if(G!=null)H.set(R,G)}),H};return B.associations=U(I),I})}_createAnimationTracks(A,Q,E,B,I){const K=[],J=A.name?A.name:A.uuid,C=[];if(dB[I.path]===dB.weights)A.traverse(function(R){if(R.morphTargetInfluences)C.push(R.name?R.name:R.uuid)});else C.push(J);let U;switch(dB[I.path]){case dB.weights:U=o1;break;case dB.rotation:U=g1;break;case dB.position:case dB.scale:U=z1;break;default:switch(E.itemSize){case 1:U=o1;break;case 2:case 3:default:U=z1;break}break}const Y=B.interpolation!==void 0?Oi[B.interpolation]:FK,H=this._getArrayFromAccessor(E);for(let R=0,G=C.length;R<G;R++){const O=new U(C[R]+"."+dB[I.path],Q.array,H,Y);if(B.interpolation==="CUBICSPLINE")this._createCubicSplineTrackInterpolant(O);K.push(O)}return K}_getArrayFromAccessor(A){let Q=A.array;if(A.normalized){const E=J$(Q.constructor),B=new Float32Array(Q.length);for(let I=0,K=Q.length;I<K;I++)B[I]=Q[I]*E;Q=B}return Q}_createCubicSplineTrackInterpolant(A){A.createInterpolant=function Q(E){return new(this instanceof g1?yz:C$)(this.times,this.values,this.getValueSize()/3,E)},A.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}class U${constructor(A=4){this.pool=A,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(A){if(!this.workers[A]){const Q=this.workerCreator();Q.addEventListener("message",this._onMessage.bind(this,A)),this.workers[A]=Q}}_getIdleWorker(){for(let A=0;A<this.pool;A++)if(!(this.workerStatus&1<<A))return A;return-1}_onMessage(A,Q){const E=this.workersResolve[A];if(E&&E(Q),this.queue.length){const{resolve:B,msg:I,transfer:K}=this.queue.shift();this.workersResolve[A]=B,this.workers[A].postMessage(I,K)}else this.workerStatus^=1<<A}setWorkerCreator(A){this.workerCreator=A}setWorkerLimit(A){this.pool=A}postMessage(A,Q){return new Promise((E)=>{const B=this._getIdleWorker();if(B!==-1)this._initWorker(B),this.workerStatus|=1<<B,this.workersResolve[B]=E,this.workers[B].postMessage(A,Q);else this.queue.push({resolve:E,msg:A,transfer:Q})})}dispose(){this.workers.forEach((A)=>A.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}var Y$,t8,G$,H$={env:{emscripten_notify_memory_growth:function(A){G$=new Uint8Array(t8.exports.memory.buffer)}}};class Z${init(){return Y$||(Y$=typeof fetch!="undefined"?fetch("data:application/wasm;base64,"+gz).then((A)=>A.arrayBuffer()).then((A)=>WebAssembly.instantiate(A,H$)).then(this._init):WebAssembly.instantiate(Buffer.from(gz,"base64"),H$).then(this._init),Y$)}_init(A){t8=A.instance,H$.env.emscripten_notify_memory_growth(0)}decode(A,Q=0){if(!t8)throw new Error("ZSTDDecoder: Await .init() before decoding.");const E=A.byteLength,B=t8.exports.malloc(E);G$.set(A,B),Q=Q||Number(t8.exports.ZSTD_findDecompressedSize(B,E));const I=t8.exports.malloc(Q),K=t8.exports.ZSTD_decompress(I,Q,B,E),J=G$.slice(I,I+K);return t8.exports.free(B),t8.exports.free(I),J}}var gz="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQhBSAGQQR2IQRBICAAdCIAQQFyIQkgASgCACEPQQAhAiADIQYCQANAIAlBAkggAiAPS3JFBEAgAiEHAkAgCARAA0AgBEH//wNxQf//A0YEQCAHQRhqIQcgBiAQSQR/IAZBAmoiBigAACAFdgUgBUEQaiEFIARBEHYLIQQMAQsLA0AgBEEDcSIIQQNGBEAgBUECaiEFIARBAnYhBCAHQQNqIQcMAQsLIAcgCGoiByAPSw0EIAVBAmohBQNAIAIgB0kEQCANIAJBAXRqQQA7AQAgAkEBaiECDAELCyAGIA5LQQAgBiAFQQN1aiIHIAxLG0UEQCAHKAAAIAVBB3EiBXYhBAwCCyAEQQJ2IQQLIAYhBwsCfyALQX9qIAQgAEF/anEiBiAAQQF0QX9qIgggCWsiEUkNABogBCAIcSIEQQAgESAEIABIG2shBiALCyEIIA0gAkEBdGogBkF/aiIEOwEAIAlBASAGayAEIAZBAUgbayEJA0AgCSAASARAIABBAXUhACALQX9qIQsMAQsLAn8gByAOS0EAIAcgBSAIaiIFQQN1aiIGIAxLG0UEQCAFQQdxDAELIAUgDCIGIAdrQQN0awshBSACQQFqIQIgBEUhCCAGKAAAIAVBH3F2IQQMAQsLQWwgCUEBRyAFQSBKcg0BGiABIAJBf2o2AgAgBiAFQQdqQQN1aiADawwBC0FQCyEAIApBEGokACAACwkAQQFBBSAAGwsMACAAIAEoAAA2AAALqgMBCn8jAEHwAGsiCiQAIAJBAWohDiAAQQhqIQtBgIAEIAVBf2p0QRB1IQxBACECQQEhBkEBIAV0IglBf2oiDyEIA0AgAiAORkUEQAJAIAEgAkEBdCINai8BACIHQf//A0YEQCALIAhBA3RqIAI2AgQgCEF/aiEIQQEhBwwBCyAGQQAgDCAHQRB0QRB1ShshBgsgCiANaiAHOwEAIAJBAWohAgwBCwsgACAFNgIEIAAgBjYCACAJQQN2IAlBAXZqQQNqIQxBACEAQQAhBkEAIQIDQCAGIA5GBEADQAJAIAAgCUYNACAKIAsgAEEDdGoiASgCBCIGQQF0aiICIAIvAQAiAkEBajsBACABIAUgAhAUayIIOgADIAEgAiAIQf8BcXQgCWs7AQAgASAEIAZBAnQiAmooAgA6AAIgASACIANqKAIANgIEIABBAWohAAwBCwsFIAEgBkEBdGouAQAhDUEAIQcDQCAHIA1ORQRAIAsgAkEDdGogBjYCBANAIAIgDGogD3EiAiAISw0ACyAHQQFqIQcMAQsLIAZBAWohBgwBCwsgCkHwAGokAAsjAEIAIAEQCSAAhUKHla+vmLbem55/fkLj3MqV/M7y9YV/fAsQACAAQn43AwggACABNgIACyQBAX8gAARAIAEoAgQiAgRAIAEoAgggACACEQEADwsgABAmCwsfACAAIAEgAi8BABAINgIAIAEQBBogACACQQRqNgIEC0oBAX9BoCAoAgAiASAAaiIAQX9MBEBBiCBBMDYCAEF/DwsCQCAAPwBBEHRNDQAgABBmDQBBiCBBMDYCAEF/DwtBoCAgADYCACABC9cBAQh/Qbp/IQoCQCACKAIEIgggAigCACIJaiIOIAEgAGtLDQBBbCEKIAkgBCADKAIAIgtrSw0AIAAgCWoiBCACKAIIIgxrIQ0gACABQWBqIg8gCyAJQQAQKSADIAkgC2o2AgACQAJAIAwgBCAFa00EQCANIQUMAQsgDCAEIAZrSw0CIAcgDSAFayIAaiIBIAhqIAdNBEAgBCABIAgQDxoMAgsgBCABQQAgAGsQDyEBIAIgACAIaiIINgIEIAEgAGshBAsgBCAPIAUgCEEBECkLIA4hCgsgCgubAgEBfyMAQYABayINJAAgDSADNgJ8AkAgAkEDSwRAQX8hCQwBCwJAAkACQAJAIAJBAWsOAwADAgELIAZFBEBBuH8hCQwEC0FsIQkgBS0AACICIANLDQMgACAHIAJBAnQiAmooAgAgAiAIaigCABA7IAEgADYCAEEBIQkMAwsgASAJNgIAQQAhCQwCCyAKRQRAQWwhCQwCC0EAIQkgC0UgDEEZSHINAUEIIAR0QQhqIQBBACECA0AgAiAATw0CIAJBQGshAgwAAAsAC0FsIQkgDSANQfwAaiANQfgAaiAFIAYQFSICEAMNACANKAJ4IgMgBEsNACAAIA0gDSgCfCAHIAggAxAYIAEgADYCACACIQkLIA1BgAFqJAAgCQsLACAAIAEgAhALGgsQACAALwAAIAAtAAJBEHRyCy8AAn9BuH8gAUEISQ0AGkFyIAAoAAQiAEF3Sw0AGkG4fyAAQQhqIgAgACABSxsLCwkAIAAgATsAAAsDAAELigYBBX8gACAAKAIAIgVBfnE2AgBBACAAIAVBAXZqQYQgKAIAIgQgAEYbIQECQAJAIAAoAgQiAkUNACACKAIAIgNBAXENACACQQhqIgUgA0EBdkF4aiIDQQggA0EISxtnQR9zQQJ0QYAfaiIDKAIARgRAIAMgAigCDDYCAAsgAigCCCIDBEAgAyACKAIMNgIECyACKAIMIgMEQCADIAIoAgg2AgALIAIgAigCACAAKAIAQX5xajYCAEGEICEAAkACQCABRQ0AIAEgAjYCBCABKAIAIgNBAXENASADQQF2QXhqIgNBCCADQQhLG2dBH3NBAnRBgB9qIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIAQYQgKAIAIQQLIAIgAigCACABKAIAQX5xajYCACABIARGDQAgASABKAIAQQF2akEEaiEACyAAIAI2AgALIAIoAgBBAXZBeGoiAEEIIABBCEsbZ0Efc0ECdEGAH2oiASgCACEAIAEgBTYCACACIAA2AgwgAkEANgIIIABFDQEgACAFNgIADwsCQCABRQ0AIAEoAgAiAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAigCACABQQhqRgRAIAIgASgCDDYCAAsgASgCCCICBEAgAiABKAIMNgIECyABKAIMIgIEQCACIAEoAgg2AgBBhCAoAgAhBAsgACAAKAIAIAEoAgBBfnFqIgI2AgACQCABIARHBEAgASABKAIAQQF2aiAANgIEIAAoAgAhAgwBC0GEICAANgIACyACQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgIoAgAhASACIABBCGoiAjYCACAAIAE2AgwgAEEANgIIIAFFDQEgASACNgIADwsgBUEBdkF4aiIBQQggAUEISxtnQR9zQQJ0QYAfaiICKAIAIQEgAiAAQQhqIgI2AgAgACABNgIMIABBADYCCCABRQ0AIAEgAjYCAAsLDgAgAARAIABBeGoQJQsLgAIBA38CQCAAQQ9qQXhxQYQgKAIAKAIAQQF2ayICEB1Bf0YNAAJAQYQgKAIAIgAoAgAiAUEBcQ0AIAFBAXZBeGoiAUEIIAFBCEsbZ0Efc0ECdEGAH2oiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgFFDQAgASAAKAIINgIAC0EBIQEgACAAKAIAIAJBAXRqIgI2AgAgAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAygCACECIAMgAEEIaiIDNgIAIAAgAjYCDCAAQQA2AgggAkUNACACIAM2AgALIAELtwIBA38CQAJAIABBASAAGyICEDgiAA0AAkACQEGEICgCACIARQ0AIAAoAgAiA0EBcQ0AIAAgA0EBcjYCACADQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyACECchAkEAIQFBhCAoAgAhACACDQEgACAAKAIAQX5xNgIAQQAPCyACQQ9qQXhxIgMQHSICQX9GDQIgAkEHakF4cSIAIAJHBEAgACACaxAdQX9GDQMLAkBBhCAoAgAiAUUEQEGAICAANgIADAELIAAgATYCBAtBhCAgADYCACAAIANBAXRBAXI2AgAMAQsgAEUNAQsgAEEIaiEBCyABC7kDAQJ/IAAgA2ohBQJAIANBB0wEQANAIAAgBU8NAiAAIAItAAA6AAAgAEEBaiEAIAJBAWohAgwAAAsACyAEQQFGBEACQCAAIAJrIgZBB00EQCAAIAItAAA6AAAgACACLQABOgABIAAgAi0AAjoAAiAAIAItAAM6AAMgAEEEaiACIAZBAnQiBkHAHmooAgBqIgIQFyACIAZB4B5qKAIAayECDAELIAAgAhAMCyACQQhqIQIgAEEIaiEACwJAAkACQAJAIAUgAU0EQCAAIANqIQEgBEEBRyAAIAJrQQ9Kcg0BA0AgACACEAwgAkEIaiECIABBCGoiACABSQ0ACwwFCyAAIAFLBEAgACEBDAQLIARBAUcgACACa0EPSnINASAAIQMgAiEEA0AgAyAEEAwgBEEIaiEEIANBCGoiAyABSQ0ACwwCCwNAIAAgAhAHIAJBEGohAiAAQRBqIgAgAUkNAAsMAwsgACEDIAIhBANAIAMgBBAHIARBEGohBCADQRBqIgMgAUkNAAsLIAIgASAAa2ohAgsDQCABIAVPDQEgASACLQAAOgAAIAFBAWohASACQQFqIQIMAAALAAsLQQECfyAAIAAoArjgASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigCACACaiAAQQZ2IgFBAnRBsB5qKAIAaiAAQSBxIgBFaiABRSAAQQV2cWoFQbh/CwsdACAAKAKQ4gEQWiAAQQA2AqDiASAAQgA3A5DiAQu1AwEFfyMAQZACayIKJABBuH8hBgJAIAVFDQAgBCwAACIIQf8BcSEHAkAgCEF/TARAIAdBgn9qQQF2IgggBU8NAkFsIQYgB0GBf2oiBUGAAk8NAiAEQQFqIQdBACEGA0AgBiAFTwRAIAUhBiAIIQcMAwUgACAGaiAHIAZBAXZqIgQtAABBBHY6AAAgACAGQQFyaiAELQAAQQ9xOgAAIAZBAmohBgwBCwAACwALIAcgBU8NASAAIARBAWogByAKEFMiBhADDQELIAYhBEEAIQYgAUEAQTQQECEJQQAhBQNAIAQgBkcEQCAAIAZqIggtAAAiAUELSwRAQWwhBgwDBSAJIAFBAnRqIgEgASgCAEEBajYCACAGQQFqIQZBASAILQAAdEEBdSAFaiEFDAILAAsLQWwhBiAFRQ0AIAUQFEEBaiIBQQxLDQAgAyABNgIAQQFBASABdCAFayIDEBQiAXQgA0cNACAAIARqIAFBAWoiADoAACAJIABBAnRqIgAgACgCAEEBajYCACAJKAIEIgBBAkkgAEEBcXINACACIARBAWo2AgAgB0EBaiEGCyAKQZACaiQAIAYLxhEBDH8jAEHwAGsiBSQAQWwhCwJAIANBCkkNACACLwAAIQogAi8AAiEJIAIvAAQhByAFQQhqIAQQDgJAIAMgByAJIApqakEGaiIMSQ0AIAUtAAohCCAFQdgAaiACQQZqIgIgChAGIgsQAw0BIAVBQGsgAiAKaiICIAkQBiILEAMNASAFQShqIAIgCWoiAiAHEAYiCxADDQEgBUEQaiACIAdqIAMgDGsQBiILEAMNASAAIAFqIg9BfWohECAEQQRqIQZBASELIAAgAUEDakECdiIDaiIMIANqIgIgA2oiDiEDIAIhBCAMIQcDQCALIAMgEElxBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgCS0AAyELIAcgBiAFQUBrIAgQAkECdGoiCS8BADsAACAFQUBrIAktAAIQASAJLQADIQogBCAGIAVBKGogCBACQQJ0aiIJLwEAOwAAIAVBKGogCS0AAhABIAktAAMhCSADIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgDS0AAyENIAAgC2oiCyAGIAVB2ABqIAgQAkECdGoiAC8BADsAACAFQdgAaiAALQACEAEgAC0AAyEAIAcgCmoiCiAGIAVBQGsgCBACQQJ0aiIHLwEAOwAAIAVBQGsgBy0AAhABIActAAMhByAEIAlqIgkgBiAFQShqIAgQAkECdGoiBC8BADsAACAFQShqIAQtAAIQASAELQADIQQgAyANaiIDIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgACALaiEAIAcgCmohByAEIAlqIQQgAyANLQADaiEDIAVB2ABqEA0gBUFAaxANciAFQShqEA1yIAVBEGoQDXJFIQsMAQsLIAQgDksgByACS3INAEFsIQsgACAMSw0BIAxBfWohCQNAQQAgACAJSSAFQdgAahAEGwRAIAAgBiAFQdgAaiAIEAJBAnRqIgovAQA7AAAgBUHYAGogCi0AAhABIAAgCi0AA2oiACAGIAVB2ABqIAgQAkECdGoiCi8BADsAACAFQdgAaiAKLQACEAEgACAKLQADaiEADAEFIAxBfmohCgNAIAVB2ABqEAQgACAKS3JFBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgACAJLQADaiEADAELCwNAIAAgCk0EQCAAIAYgBUHYAGogCBACQQJ0aiIJLwEAOwAAIAVB2ABqIAktAAIQASAAIAktAANqIQAMAQsLAkAgACAMTw0AIAAgBiAFQdgAaiAIEAIiAEECdGoiDC0AADoAACAMLQADQQFGBEAgBUHYAGogDC0AAhABDAELIAUoAlxBH0sNACAFQdgAaiAGIABBAnRqLQACEAEgBSgCXEEhSQ0AIAVBIDYCXAsgAkF9aiEMA0BBACAHIAxJIAVBQGsQBBsEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiIAIAYgBUFAayAIEAJBAnRqIgcvAQA7AAAgBUFAayAHLQACEAEgACAHLQADaiEHDAEFIAJBfmohDANAIAVBQGsQBCAHIAxLckUEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwNAIAcgDE0EQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwJAIAcgAk8NACAHIAYgBUFAayAIEAIiAEECdGoiAi0AADoAACACLQADQQFGBEAgBUFAayACLQACEAEMAQsgBSgCREEfSw0AIAVBQGsgBiAAQQJ0ai0AAhABIAUoAkRBIUkNACAFQSA2AkQLIA5BfWohAgNAQQAgBCACSSAFQShqEAQbBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2oiACAGIAVBKGogCBACQQJ0aiIELwEAOwAAIAVBKGogBC0AAhABIAAgBC0AA2ohBAwBBSAOQX5qIQIDQCAFQShqEAQgBCACS3JFBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsDQCAEIAJNBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsCQCAEIA5PDQAgBCAGIAVBKGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBKGogAi0AAhABDAELIAUoAixBH0sNACAFQShqIAYgAEECdGotAAIQASAFKAIsQSFJDQAgBUEgNgIsCwNAQQAgAyAQSSAFQRBqEAQbBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2oiACAGIAVBEGogCBACQQJ0aiICLwEAOwAAIAVBEGogAi0AAhABIAAgAi0AA2ohAwwBBSAPQX5qIQIDQCAFQRBqEAQgAyACS3JFBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsDQCADIAJNBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsCQCADIA9PDQAgAyAGIAVBEGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBEGogAi0AAhABDAELIAUoAhRBH0sNACAFQRBqIAYgAEECdGotAAIQASAFKAIUQSFJDQAgBUEgNgIUCyABQWwgBUHYAGoQCiAFQUBrEApxIAVBKGoQCnEgBUEQahAKcRshCwwJCwAACwALAAALAAsAAAsACwAACwALQWwhCwsgBUHwAGokACALC7UEAQ5/IwBBEGsiBiQAIAZBBGogABAOQVQhBQJAIARB3AtJDQAgBi0ABCEHIANB8ARqQQBB7AAQECEIIAdBDEsNACADQdwJaiIJIAggBkEIaiAGQQxqIAEgAhAxIhAQA0UEQCAGKAIMIgQgB0sNASADQdwFaiEPIANBpAVqIREgAEEEaiESIANBqAVqIQEgBCEFA0AgBSICQX9qIQUgCCACQQJ0aigCAEUNAAsgAkEBaiEOQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgASALaiAKNgIAIAVBAWohBSAKIAxqIQoMAQsLIAEgCjYCAEEAIQUgBigCCCELA0AgBSALRkUEQCABIAUgCWotAAAiDEECdGoiDSANKAIAIg1BAWo2AgAgDyANQQF0aiINIAw6AAEgDSAFOgAAIAVBAWohBQwBCwtBACEBIANBADYCqAUgBEF/cyAHaiEJQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgAyALaiABNgIAIAwgBSAJanQgAWohASAFQQFqIQUMAQsLIAcgBEEBaiIBIAJrIgRrQQFqIQgDQEEBIQUgBCAIT0UEQANAIAUgDk9FBEAgBUECdCIJIAMgBEE0bGpqIAMgCWooAgAgBHY2AgAgBUEBaiEFDAELCyAEQQFqIQQMAQsLIBIgByAPIAogESADIAIgARBkIAZBAToABSAGIAc6AAYgACAGKAIENgIACyAQIQULIAZBEGokACAFC8ENAQt/IwBB8ABrIgUkAEFsIQkCQCADQQpJDQAgAi8AACEKIAIvAAIhDCACLwAEIQYgBUEIaiAEEA4CQCADIAYgCiAMampBBmoiDUkNACAFLQAKIQcgBUHYAGogAkEGaiICIAoQBiIJEAMNASAFQUBrIAIgCmoiAiAMEAYiCRADDQEgBUEoaiACIAxqIgIgBhAGIgkQAw0BIAVBEGogAiAGaiADIA1rEAYiCRADDQEgACABaiIOQX1qIQ8gBEEEaiEGQQEhCSAAIAFBA2pBAnYiAmoiCiACaiIMIAJqIg0hAyAMIQQgCiECA0AgCSADIA9JcQRAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAACAGIAVBQGsgBxACQQF0aiIILQAAIQsgBUFAayAILQABEAEgAiALOgAAIAYgBUEoaiAHEAJBAXRqIggtAAAhCyAFQShqIAgtAAEQASAEIAs6AAAgBiAFQRBqIAcQAkEBdGoiCC0AACELIAVBEGogCC0AARABIAMgCzoAACAGIAVB2ABqIAcQAkEBdGoiCC0AACELIAVB2ABqIAgtAAEQASAAIAs6AAEgBiAFQUBrIAcQAkEBdGoiCC0AACELIAVBQGsgCC0AARABIAIgCzoAASAGIAVBKGogBxACQQF0aiIILQAAIQsgBUEoaiAILQABEAEgBCALOgABIAYgBUEQaiAHEAJBAXRqIggtAAAhCyAFQRBqIAgtAAEQASADIAs6AAEgA0ECaiEDIARBAmohBCACQQJqIQIgAEECaiEAIAkgBUHYAGoQDUVxIAVBQGsQDUVxIAVBKGoQDUVxIAVBEGoQDUVxIQkMAQsLIAQgDUsgAiAMS3INAEFsIQkgACAKSw0BIApBfWohCQNAIAVB2ABqEAQgACAJT3JFBEAgBiAFQdgAaiAHEAJBAXRqIggtAAAhCyAFQdgAaiAILQABEAEgACALOgAAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAASAAQQJqIQAMAQsLA0AgBUHYAGoQBCAAIApPckUEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCwNAIAAgCkkEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCyAMQX1qIQADQCAFQUBrEAQgAiAAT3JFBEAgBiAFQUBrIAcQAkEBdGoiCi0AACEJIAVBQGsgCi0AARABIAIgCToAACAGIAVBQGsgBxACQQF0aiIKLQAAIQkgBUFAayAKLQABEAEgAiAJOgABIAJBAmohAgwBCwsDQCAFQUBrEAQgAiAMT3JFBEAgBiAFQUBrIAcQAkEBdGoiAC0AACEKIAVBQGsgAC0AARABIAIgCjoAACACQQFqIQIMAQsLA0AgAiAMSQRAIAYgBUFAayAHEAJBAXRqIgAtAAAhCiAFQUBrIAAtAAEQASACIAo6AAAgAkEBaiECDAELCyANQX1qIQADQCAFQShqEAQgBCAAT3JFBEAgBiAFQShqIAcQAkEBdGoiAi0AACEKIAVBKGogAi0AARABIAQgCjoAACAGIAVBKGogBxACQQF0aiICLQAAIQogBUEoaiACLQABEAEgBCAKOgABIARBAmohBAwBCwsDQCAFQShqEAQgBCANT3JFBEAgBiAFQShqIAcQAkEBdGoiAC0AACECIAVBKGogAC0AARABIAQgAjoAACAEQQFqIQQMAQsLA0AgBCANSQRAIAYgBUEoaiAHEAJBAXRqIgAtAAAhAiAFQShqIAAtAAEQASAEIAI6AAAgBEEBaiEEDAELCwNAIAVBEGoQBCADIA9PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIAYgBUEQaiAHEAJBAXRqIgAtAAAhAiAFQRBqIAAtAAEQASADIAI6AAEgA0ECaiEDDAELCwNAIAVBEGoQBCADIA5PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIANBAWohAwwBCwsDQCADIA5JBEAgBiAFQRBqIAcQAkEBdGoiAC0AACECIAVBEGogAC0AARABIAMgAjoAACADQQFqIQMMAQsLIAFBbCAFQdgAahAKIAVBQGsQCnEgBUEoahAKcSAFQRBqEApxGyEJDAELQWwhCQsgBUHwAGokACAJC8oCAQR/IwBBIGsiBSQAIAUgBBAOIAUtAAIhByAFQQhqIAIgAxAGIgIQA0UEQCAEQQRqIQIgACABaiIDQX1qIQQDQCAFQQhqEAQgACAET3JFBEAgAiAFQQhqIAcQAkEBdGoiBi0AACEIIAVBCGogBi0AARABIAAgCDoAACACIAVBCGogBxACQQF0aiIGLQAAIQggBUEIaiAGLQABEAEgACAIOgABIABBAmohAAwBCwsDQCAFQQhqEAQgACADT3JFBEAgAiAFQQhqIAcQAkEBdGoiBC0AACEGIAVBCGogBC0AARABIAAgBjoAACAAQQFqIQAMAQsLA0AgACADT0UEQCACIAVBCGogBxACQQF0aiIELQAAIQYgBUEIaiAELQABEAEgACAGOgAAIABBAWohAAwBCwsgAUFsIAVBCGoQChshAgsgBUEgaiQAIAILtgMBCX8jAEEQayIGJAAgBkEANgIMIAZBADYCCEFUIQQCQAJAIANBQGsiDCADIAZBCGogBkEMaiABIAIQMSICEAMNACAGQQRqIAAQDiAGKAIMIgcgBi0ABEEBaksNASAAQQRqIQogBkEAOgAFIAYgBzoABiAAIAYoAgQ2AgAgB0EBaiEJQQEhBANAIAQgCUkEQCADIARBAnRqIgEoAgAhACABIAU2AgAgACAEQX9qdCAFaiEFIARBAWohBAwBCwsgB0EBaiEHQQAhBSAGKAIIIQkDQCAFIAlGDQEgAyAFIAxqLQAAIgRBAnRqIgBBASAEdEEBdSILIAAoAgAiAWoiADYCACAHIARrIQhBACEEAkAgC0EDTQRAA0AgBCALRg0CIAogASAEakEBdGoiACAIOgABIAAgBToAACAEQQFqIQQMAAALAAsDQCABIABPDQEgCiABQQF0aiIEIAg6AAEgBCAFOgAAIAQgCDoAAyAEIAU6AAIgBCAIOgAFIAQgBToABCAEIAg6AAcgBCAFOgAGIAFBBGohAQwAAAsACyAFQQFqIQUMAAALAAsgAiEECyAGQRBqJAAgBAutAQECfwJAQYQgKAIAIABHIAAoAgBBAXYiAyABa0F4aiICQXhxQQhHcgR/IAIFIAMQJ0UNASACQQhqC0EQSQ0AIAAgACgCACICQQFxIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgASAANgIEIAEgASgCAEEBcSAAIAJBAXZqIAFrIgJBAXRyNgIAQYQgIAEgAkH/////B3FqQQRqQYQgKAIAIABGGyABNgIAIAEQJQsLygIBBX8CQAJAAkAgAEEIIABBCEsbZ0EfcyAAaUEBR2oiAUEESSAAIAF2cg0AIAFBAnRB/B5qKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAIgBUEIIAVBCEsbZ0Efc0ECdEGAH2oiASgCAEYEQCABIAIoAgQ2AgALDAMLIARBHksNASAEQQFqIQQgAigCBCICDQALC0EAIQMgAUEgTw0BA0AgAUECdEGAH2ooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAIgAkF4aiIDKAIAQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgBGBEAgASACKAIENgIACwsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQNwsgAwvhCwINfwV+IwBB8ABrIgckACAHIAAoAvDhASIINgJcIAEgAmohDSAIIAAoAoDiAWohDwJAAkAgBUUEQCABIQQMAQsgACgCxOABIRAgACgCwOABIREgACgCvOABIQ4gAEEBNgKM4QFBACEIA0AgCEEDRwRAIAcgCEECdCICaiAAIAJqQazQAWooAgA2AkQgCEEBaiEIDAELC0FsIQwgB0EYaiADIAQQBhADDQEgB0EsaiAHQRhqIAAoAgAQEyAHQTRqIAdBGGogACgCCBATIAdBPGogB0EYaiAAKAIEEBMgDUFgaiESIAEhBEEAIQwDQCAHKAIwIAcoAixBA3RqKQIAIhRCEIinQf8BcSEIIAcoAkAgBygCPEEDdGopAgAiFUIQiKdB/wFxIQsgBygCOCAHKAI0QQN0aikCACIWQiCIpyEJIBVCIIghFyAUQiCIpyECAkAgFkIQiKdB/wFxIgNBAk8EQAJAIAZFIANBGUlyRQRAIAkgB0EYaiADQSAgBygCHGsiCiAKIANLGyIKEAUgAyAKayIDdGohCSAHQRhqEAQaIANFDQEgB0EYaiADEAUgCWohCQwBCyAHQRhqIAMQBSAJaiEJIAdBGGoQBBoLIAcpAkQhGCAHIAk2AkQgByAYNwNIDAELAkAgA0UEQCACBEAgBygCRCEJDAMLIAcoAkghCQwBCwJAAkAgB0EYakEBEAUgCSACRWpqIgNBA0YEQCAHKAJEQX9qIgMgA0VqIQkMAQsgA0ECdCAHaigCRCIJIAlFaiEJIANBAUYNAQsgByAHKAJINgJMCwsgByAHKAJENgJIIAcgCTYCRAsgF6chAyALBEAgB0EYaiALEAUgA2ohAwsgCCALakEUTwRAIAdBGGoQBBoLIAgEQCAHQRhqIAgQBSACaiECCyAHQRhqEAQaIAcgB0EYaiAUQhiIp0H/AXEQCCAUp0H//wNxajYCLCAHIAdBGGogFUIYiKdB/wFxEAggFadB//8DcWo2AjwgB0EYahAEGiAHIAdBGGogFkIYiKdB/wFxEAggFqdB//8DcWo2AjQgByACNgJgIAcoAlwhCiAHIAk2AmggByADNgJkAkACQAJAIAQgAiADaiILaiASSw0AIAIgCmoiEyAPSw0AIA0gBGsgC0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ";async function wi(A){const{vkFormat:Q}=A;if(W$[Q]===void 0)throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");let E;if(A.supercompressionScheme===dO){if(!$$)$$=new Promise(async(K)=>{const J=new Z$;await J.init(),K(J)});E=await $$}const B=[];for(let K=0;K<A.levels.length;K++){const J=Math.max(1,A.pixelWidth>>K),C=Math.max(1,A.pixelHeight>>K),U=A.pixelDepth?Math.max(1,A.pixelDepth>>K):0,Y=A.levels[K];let H;if(A.supercompressionScheme===Qz)H=Y.levelData;else if(A.supercompressionScheme===dO)H=E.decode(Y.levelData,Y.uncompressedByteLength);else throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");let R;if(X$[Q]===NQ)R=new Float32Array(H.buffer,H.byteOffset,H.byteLength/Float32Array.BYTES_PER_ELEMENT);else if(X$[Q]===eA)R=new Uint16Array(H.buffer,H.byteOffset,H.byteLength/Uint16Array.BYTES_PER_ELEMENT);else R=H;B.push({data:R,width:J,height:C,depth:U})}let I;if(Mi.has(W$[Q]))I=A.pixelDepth===0?new d0(B[0].data,A.pixelWidth,A.pixelHeight):new p8(B[0].data,A.pixelWidth,A.pixelHeight,A.pixelDepth);else{if(A.pixelDepth>0)throw new Error("THREE.KTX2Loader: Unsupported pixelDepth.");I=new $E(B,A.pixelWidth,A.pixelHeight)}return I.mipmaps=B,I.type=X$[Q],I.format=W$[Q],I.colorSpace=bz(A),I.needsUpdate=!0,Promise.resolve(I)}function bz(A){const Q=A.dataFormatDescriptor[0];if(Q.colorPrimaries===nO)return Q.transferFunction===qY?$0:f0;else if(Q.colorPrimaries===Bz)return Q.transferFunction===qY?rR:aR;else if(Q.colorPrimaries===lO)return mQ;else return console.warn(`THREE.KTX2Loader: Unsupported color primaries, "${Q.colorPrimaries}"`),mQ}var R$=/*@__PURE__*/new WeakMap,O$=0,$$;class e8 extends G0{constructor(A){super(A);if(this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new U$,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER!=="undefined")console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(A){return this.transcoderPath=A,this}setWorkerLimit(A){return this.workerPool.setWorkerLimit(A),this}async detectSupportAsync(A){return this.workerConfig={astcSupported:await A.hasFeatureAsync("texture-compression-astc"),etc1Supported:await A.hasFeatureAsync("texture-compression-etc1"),etc2Supported:await A.hasFeatureAsync("texture-compression-etc2"),dxtSupported:await A.hasFeatureAsync("texture-compression-bc"),bptcSupported:await A.hasFeatureAsync("texture-compression-bptc"),pvrtcSupported:await A.hasFeatureAsync("texture-compression-pvrtc")},this}detectSupport(A){if(A.isWebGPURenderer===!0)this.workerConfig={astcSupported:A.hasFeature("texture-compression-astc"),etc1Supported:A.hasFeature("texture-compression-etc1"),etc2Supported:A.hasFeature("texture-compression-etc2"),dxtSupported:A.hasFeature("texture-compression-bc"),bptcSupported:A.hasFeature("texture-compression-bptc"),pvrtcSupported:A.hasFeature("texture-compression-pvrtc")};else this.workerConfig={astcSupported:A.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:A.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:A.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:A.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:A.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:A.extensions.has("WEBGL_compressed_texture_pvrtc")||A.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")};return this}init(){if(!this.transcoderPending){const A=new Z0(this.manager);A.setPath(this.transcoderPath),A.setWithCredentials(this.withCredentials);const Q=A.loadAsync("basis_transcoder.js"),E=new Z0(this.manager);E.setPath(this.transcoderPath),E.setResponseType("arraybuffer"),E.setWithCredentials(this.withCredentials);const B=E.loadAsync("basis_transcoder.wasm");if(this.transcoderPending=Promise.all([Q,B]).then(([I,K])=>{const J=e8.BasisWorker.toString(),C=["/* constants */","let _EngineFormat = "+JSON.stringify(e8.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(e8.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(e8.BasisFormat),"/* basis_transcoder.js */",I,"/* worker */",J.substring(J.indexOf("{")+1,J.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([C])),this.transcoderBinary=K,this.workerPool.setWorkerCreator(()=>{const U=new Worker(this.workerSourceURL),Y=this.transcoderBinary.slice(0);return U.postMessage({type:"init",config:this.workerConfig,transcoderBinary:Y},[Y]),U})}),O$>0)console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances.");O$++}return this.transcoderPending}load(A,Q,E,B){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const I=new Z0(this.manager);I.setResponseType("arraybuffer"),I.setWithCredentials(this.withCredentials),I.load(A,(K)=>{this.parse(K,Q,B)},E,B)}parse(A,Q,E){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");if(R$.has(A))return R$.get(A).promise.then(Q).catch(E);this._createTexture(A).then((B)=>Q?Q(B):null).catch(E)}_createTextureFrom(A,Q){const{faces:E,width:B,height:I,format:K,type:J,error:C,dfdFlags:U}=A;if(J==="error")return Promise.reject(C);let Y;if(Q.faceCount===6)Y=new m5(E,K,qQ);else{const H=E[0].mipmaps;Y=Q.layerCount>1?new p5(H,B,I,Q.layerCount,K,qQ):new $E(H,B,I,K,qQ)}return Y.minFilter=E[0].mipmaps.length===1?l0:fE,Y.magFilter=l0,Y.generateMipmaps=!1,Y.needsUpdate=!0,Y.colorSpace=bz(Q),Y.premultiplyAlpha=!!(U&Ez),Y}async _createTexture(A,Q={}){const E=Kz(new Uint8Array(A));if(E.vkFormat!==Iz)return wi(E);const B=Q,I=this.init().then(()=>{return this.workerPool.postMessage({type:"transcode",buffer:A,taskConfig:B},[A])}).then((K)=>this._createTextureFrom(K.data,E));return R$.set(A,{promise:I}),I}dispose(){if(this.workerPool.dispose(),this.workerSourceURL)URL.revokeObjectURL(this.workerSourceURL);return O$--,this}}e8.BasisFormat={ETC1S:0,UASTC_4x4:1};e8.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16};e8.EngineFormat={RGBAFormat:UQ,RGBA_ASTC_4x4_Format:j5,RGBA_BPTC_Format:iR,RGBA_ETC2_EAC_Format:oR,RGBA_PVRTC_4BPPV1_Format:_5,RGBA_S3TC_DXT5_Format:P5,RGB_ETC1_Format:v9,RGB_ETC2_Format:k5,RGB_PVRTC_4BPPV1_Format:h9,RGBA_S3TC_DXT1_Format:lR};e8.BasisWorker=function(){let A,Q,E;const B=_EngineFormat,I=_TranscoderFormat,K=_BasisFormat;self.addEventListener("message",function(F){const q=F.data;switch(q.type){case"init":A=q.config,J(q.transcoderBinary);break;case"transcode":Q.then(()=>{try{const{faces:W,buffers:Z,width:$,height:X,hasAlpha:N,format:M,dfdFlags:L}=C(q.buffer);self.postMessage({type:"transcode",id:q.id,faces:W,width:$,height:X,hasAlpha:N,format:M,dfdFlags:L},Z)}catch(W){console.error(W),self.postMessage({type:"error",id:q.id,error:W.message})}});break}});function J(F){Q=new Promise((q)=>{E={wasmBinary:F,onRuntimeInitialized:q},BASIS(E)}).then(()=>{if(E.initializeBasis(),E.KTX2File===void 0)console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}function C(F){const q=new E.KTX2File(new Uint8Array(F));function W(){q.close(),q.delete()}if(!q.isValid())throw W(),new Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");const Z=q.isUASTC()?K.UASTC_4x4:K.ETC1S,$=q.getWidth(),X=q.getHeight(),N=q.getLayers()||1,M=q.getLevels(),L=q.getFaces(),D=q.getHasAlpha(),w=q.getDFDFlags(),{transcoderFormat:P,engineFormat:V}=R(Z,$,X,D);if(!$||!X||!M)throw W(),new Error("THREE.KTX2Loader:	Invalid texture");if(!q.startTranscoding())throw W(),new Error("THREE.KTX2Loader: .startTranscoding failed");const T=[],S=[];for(let h=0;h<L;h++){const x=[];for(let y=0;y<M;y++){const j=[];let v,_;for(let b=0;b<N;b++){const p=q.getImageLevelInfo(y,b,h);if(h===0&&y===0&&b===0&&(p.origWidth%4!==0||p.origHeight%4!==0))console.warn("THREE.KTX2Loader: ETC1S and UASTC textures should use multiple-of-four dimensions.");if(M>1)v=p.origWidth,_=p.origHeight;else v=p.width,_=p.height;const m=new Uint8Array(q.getImageTranscodedSizeInBytes(y,b,0,P));if(!q.transcodeImage(m,y,b,h,P,0,-1,-1))throw W(),new Error("THREE.KTX2Loader: .transcodeImage failed.");j.push(m)}const g=O(j);x.push({data:g,width:v,height:_}),S.push(g.buffer)}T.push({mipmaps:x,width:$,height:X,format:V})}return W(),{faces:T,buffers:S,width:$,height:X,hasAlpha:D,format:V,dfdFlags:w}}const U=[{if:"astcSupported",basisFormat:[K.UASTC_4x4],transcoderFormat:[I.ASTC_4x4,I.ASTC_4x4],engineFormat:[B.RGBA_ASTC_4x4_Format,B.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[K.ETC1S,K.UASTC_4x4],transcoderFormat:[I.BC7_M5,I.BC7_M5],engineFormat:[B.RGBA_BPTC_Format,B.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[K.ETC1S,K.UASTC_4x4],transcoderFormat:[I.BC1,I.BC3],engineFormat:[B.RGBA_S3TC_DXT1_Format,B.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[K.ETC1S,K.UASTC_4x4],transcoderFormat:[I.ETC1,I.ETC2],engineFormat:[B.RGB_ETC2_Format,B.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[K.ETC1S,K.UASTC_4x4],transcoderFormat:[I.ETC1],engineFormat:[B.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[K.ETC1S,K.UASTC_4x4],transcoderFormat:[I.PVRTC1_4_RGB,I.PVRTC1_4_RGBA],engineFormat:[B.RGB_PVRTC_4BPPV1_Format,B.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],Y=U.sort(function(F,q){return F.priorityETC1S-q.priorityETC1S}),H=U.sort(function(F,q){return F.priorityUASTC-q.priorityUASTC});function R(F,q,W,Z){let $,X;const N=F===K.ETC1S?Y:H;for(let M=0;M<N.length;M++){const L=N[M];if(!A[L.if])continue;if(!L.basisFormat.includes(F))continue;if(Z&&L.transcoderFormat.length<2)continue;if(L.needsPowerOfTwo&&!(G(q)&&G(W)))continue;return $=L.transcoderFormat[Z?1:0],X=L.engineFormat[Z?1:0],{transcoderFormat:$,engineFormat:X}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),$=I.RGBA32,X=B.RGBAFormat,{transcoderFormat:$,engineFormat:X}}function G(F){if(F<=2)return!0;return(F&F-1)===0&&F!==0}function O(F){if(F.length===1)return F[0];let q=0;for(let $=0;$<F.length;$++){const X=F[$];q+=X.byteLength}const W=new Uint8Array(q);let Z=0;for(let $=0;$<F.length;$++){const X=F[$];W.set(X,Z),Z+=X.byteLength}return W}};var Mi=/*@__PURE__*/new Set([UQ,u8,T1]),W$={[mK]:UQ,[fK]:UQ,[xK]:UQ,[UC]:UQ,[pK]:u8,[bK]:u8,[yK]:u8,[CC]:u8,[uK]:T1,[gK]:T1,[JC]:T1,[vK]:T1,[sO]:j5,[iO]:h5,[oO]:h5},X$={[mK]:NQ,[fK]:eA,[xK]:qQ,[UC]:qQ,[pK]:NQ,[bK]:eA,[yK]:qQ,[CC]:qQ,[uK]:NQ,[gK]:eA,[JC]:qQ,[vK]:qQ,[sO]:eA,[iO]:qQ,[oO]:qQ};var NKA=new f,LKA=new f;var DKA=new i1;var uz={};IH(uz,{default:()=>BQ});var BQ={};if(typeof document!=="undefined"){function createTag(A){return document.createElement(A)}function extendPrototype(A,Q){var E,B=A.length,I;for(E=0;E<B;E+=1){I=A[E].prototype;for(var K in I)if(Object.prototype.hasOwnProperty.call(I,K))Q.prototype[K]=I[K]}}function getDescriptor(A,Q){return Object.getOwnPropertyDescriptor(A,Q)}function createProxyFunction(A){function Q(){}return Q.prototype=A,Q}function createSizedArray(A){return Array.apply(null,{length:A})}function ProjectInterface$1(){return{}}function roundValues(A){_shouldRoundValues=!!A}function bmRnd(A){if(_shouldRoundValues)return Math.round(A);return A}function styleDiv(A){A.style.position="absolute",A.style.top=0,A.style.left=0,A.style.display="block",A.style.transformOrigin="0 0",A.style.webkitTransformOrigin="0 0",A.style.backfaceVisibility="visible",A.style.webkitBackfaceVisibility="visible",A.style.transformStyle="preserve-3d",A.style.webkitTransformStyle="preserve-3d",A.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(A,Q,E,B){this.type=A,this.currentTime=Q,this.totalTime=E,this.direction=B<0?-1:1}function BMCompleteEvent(A,Q){this.type=A,this.direction=Q<0?-1:1}function BMCompleteLoopEvent(A,Q,E,B){this.type=A,this.currentLoop=E,this.totalLoops=Q,this.direction=B<0?-1:1}function BMSegmentStartEvent(A,Q,E){this.type=A,this.firstFrame=Q,this.totalFrames=E}function BMDestroyEvent(A,Q){this.type=A,this.target=Q}function BMRenderFrameErrorEvent(A,Q){this.type="renderFrameError",this.nativeError=A,this.currentTime=Q}function BMConfigErrorEvent(A){this.type="configError",this.nativeError=A}function BMAnimationConfigErrorEvent(A,Q){this.type=A,this.nativeError=Q}function HSVtoRGB(A,Q,E){var B,I,K,J,C,U,Y,H;switch(J=Math.floor(A*6),C=A*6-J,U=E*(1-Q),Y=E*(1-C*Q),H=E*(1-(1-C)*Q),J%6){case 0:B=E,I=H,K=U;break;case 1:B=Y,I=E,K=U;break;case 2:B=U,I=E,K=H;break;case 3:B=U,I=Y,K=E;break;case 4:B=H,I=U,K=E;break;case 5:B=E,I=U,K=Y;break;default:break}return[B,I,K]}function RGBtoHSV(A,Q,E){var B=Math.max(A,Q,E),I=Math.min(A,Q,E),K=B-I,J,C=B===0?0:K/B,U=B/255;switch(B){case I:J=0;break;case A:J=Q-E+K*(Q<E?6:0),J/=6*K;break;case Q:J=E-A+K*2,J/=6*K;break;case E:J=A-Q+K*4,J/=6*K;break;default:break}return[J,C,U]}function addSaturationToRGB(A,Q){var E=RGBtoHSV(A[0]*255,A[1]*255,A[2]*255);if(E[1]+=Q,E[1]>1)E[1]=1;else if(E[1]<=0)E[1]=0;return HSVtoRGB(E[0],E[1],E[2])}function addBrightnessToRGB(A,Q){var E=RGBtoHSV(A[0]*255,A[1]*255,A[2]*255);if(E[2]+=Q,E[2]>1)E[2]=1;else if(E[2]<0)E[2]=0;return HSVtoRGB(E[0],E[1],E[2])}function addHueToRGB(A,Q){var E=RGBtoHSV(A[0]*255,A[1]*255,A[2]*255);if(E[0]+=Q/360,E[0]>1)E[0]-=1;else if(E[0]<0)E[0]+=1;return HSVtoRGB(E[0],E[1],E[2])}function createNS(A){return document.createElementNS("http://www.w3.org/2000/svg",A)}function BaseEvent(){}function getRenderer(A){return renderers[A]}function bezFunction(){var A=Math;function Q(G,O,F,q,W,Z){var $=G*q+O*W+F*Z-W*q-Z*G-F*O;return $>-0.001&&$<0.001}function E(G,O,F,q,W,Z,$,X,N){if(F===0&&Z===0&&N===0)return Q(G,O,q,W,$,X);var M=A.sqrt(A.pow(q-G,2)+A.pow(W-O,2)+A.pow(Z-F,2)),L=A.sqrt(A.pow($-G,2)+A.pow(X-O,2)+A.pow(N-F,2)),D=A.sqrt(A.pow($-q,2)+A.pow(X-W,2)+A.pow(N-Z,2)),w;if(M>L)if(M>D)w=M-L-D;else w=D-L-M;else if(D>L)w=D-L-M;else w=L-M-D;return w>-0.0001&&w<0.0001}var B=function(){return function(G,O,F,q){var W=getDefaultCurveSegments(),Z,$,X,N,M,L=0,D,w=[],P=[],V=bezierLengthPool.newElement();X=F.length;for(Z=0;Z<W;Z+=1){M=Z/(W-1),D=0;for($=0;$<X;$+=1){if(N=bmPow(1-M,3)*G[$]+3*bmPow(1-M,2)*M*F[$]+3*(1-M)*bmPow(M,2)*q[$]+bmPow(M,3)*O[$],w[$]=N,P[$]!==null)D+=bmPow(w[$]-P[$],2);P[$]=w[$]}if(D)D=bmSqrt(D),L+=D;V.percents[Z]=M,V.lengths[Z]=L}return V.addedLength=L,V}}();function I(G){var O=segmentsLengthPool.newElement(),F=G.c,q=G.v,W=G.o,Z=G.i,$,X=G._length,N=O.lengths,M=0;for($=0;$<X-1;$+=1)N[$]=B(q[$],q[$+1],W[$],Z[$+1]),M+=N[$].addedLength;if(F&&X)N[$]=B(q[$],q[0],W[$],Z[0]),M+=N[$].addedLength;return O.totalLength=M,O}function K(G){this.segmentLength=0,this.points=new Array(G)}function J(G,O){this.partialLength=G,this.point=O}var C=function(){var G={};return function(O,F,q,W){var Z=(O[0]+"_"+O[1]+"_"+F[0]+"_"+F[1]+"_"+q[0]+"_"+q[1]+"_"+W[0]+"_"+W[1]).replace(/\./g,"p");if(!G[Z]){var $=getDefaultCurveSegments(),X,N,M,L,D,w=0,P,V,T=null;if(O.length===2&&(O[0]!==F[0]||O[1]!==F[1])&&Q(O[0],O[1],F[0],F[1],O[0]+q[0],O[1]+q[1])&&Q(O[0],O[1],F[0],F[1],F[0]+W[0],F[1]+W[1]))$=2;var S=new K($);M=q.length;for(X=0;X<$;X+=1){V=createSizedArray(M),D=X/($-1),P=0;for(N=0;N<M;N+=1)if(L=bmPow(1-D,3)*O[N]+3*bmPow(1-D,2)*D*(O[N]+q[N])+3*(1-D)*bmPow(D,2)*(F[N]+W[N])+bmPow(D,3)*F[N],V[N]=L,T!==null)P+=bmPow(V[N]-T[N],2);P=bmSqrt(P),w+=P,S.points[X]=new J(P,V),T=V}S.segmentLength=w,G[Z]=S}return G[Z]}}();function U(G,O){var{percents:F,lengths:q}=O,W=F.length,Z=bmFloor((W-1)*G),$=G*O.addedLength,X=0;if(Z===W-1||Z===0||$===q[Z])return F[Z];var N=q[Z]>$?-1:1,M=!0;while(M){if(q[Z]<=$&&q[Z+1]>$)X=($-q[Z])/(q[Z+1]-q[Z]),M=!1;else Z+=N;if(Z<0||Z>=W-1){if(Z===W-1)return F[Z];M=!1}}return F[Z]+(F[Z+1]-F[Z])*X}function Y(G,O,F,q,W,Z){var $=U(W,Z),X=1-$,N=A.round((X*X*X*G[0]+($*X*X+X*$*X+X*X*$)*F[0]+($*$*X+X*$*$+$*X*$)*q[0]+$*$*$*O[0])*1000)/1000,M=A.round((X*X*X*G[1]+($*X*X+X*$*X+X*X*$)*F[1]+($*$*X+X*$*$+$*X*$)*q[1]+$*$*$*O[1])*1000)/1000;return[N,M]}var H=createTypedArray("float32",8);function R(G,O,F,q,W,Z,$){if(W<0)W=0;else if(W>1)W=1;var X=U(W,$);Z=Z>1?1:Z;var N=U(Z,$),M,L=G.length,D=1-X,w=1-N,P=D*D*D,V=X*D*D*3,T=X*X*D*3,S=X*X*X,h=D*D*w,x=X*D*w+D*X*w+D*D*N,y=X*X*w+D*X*N+X*D*N,j=X*X*N,v=D*w*w,_=X*w*w+D*N*w+D*w*N,g=X*N*w+D*N*N+X*w*N,b=X*N*N,p=w*w*w,m=N*w*w+w*N*w+w*w*N,o=N*N*w+w*N*N+N*w*N,AA=N*N*N;for(M=0;M<L;M+=1)H[M*4]=A.round((P*G[M]+V*F[M]+T*q[M]+S*O[M])*1000)/1000,H[M*4+1]=A.round((h*G[M]+x*F[M]+y*q[M]+j*O[M])*1000)/1000,H[M*4+2]=A.round((v*G[M]+_*F[M]+g*q[M]+b*O[M])*1000)/1000,H[M*4+3]=A.round((p*G[M]+m*F[M]+o*q[M]+AA*O[M])*1000)/1000;return H}return{getSegmentsLength:I,getNewSegment:R,getPointInSegment:Y,buildBezierData:C,pointOnLine2D:Q,pointOnLine3D:E}}function DynamicPropertyContainer(){}function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}function setLocation(A){setLocationHref(A)}function searchAnimations(){if(standalone===!0)animationManager.searchAnimations(animationData,standalone,renderer);else animationManager.searchAnimations()}function setSubframeRendering(A){setSubframeEnabled(A)}function setPrefix(A){setIdPrefix(A)}function loadAnimation(A){if(standalone===!0)A.animationData=JSON.parse(animationData);return animationManager.loadAnimation(A)}function setQuality(A){if(typeof A==="string")switch(A){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else if(!isNaN(A)&&A>1)setDefaultCurveSegments(A);if(getDefaultCurveSegments()>=50)roundValues(!1);else roundValues(!0)}function inBrowser(){return typeof navigator!=="undefined"}function installPlugin(A,Q){if(A==="expressions")setExpressionsPlugin(Q)}function getFactory(A){switch(A){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){if(document.readyState==="complete")clearInterval(readyStateCheckInterval),searchAnimations()}function getQueryVariable(A){var Q=queryString.split("&");for(var E=0;E<Q.length;E+=1){var B=Q[E].split("=");if(decodeURIComponent(B[0])==A)return decodeURIComponent(B[1])}return null}function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}function RepeaterModifier(){}function RoundCornersModifier(){}function getFontProperties(A){var Q=A.fStyle?A.fStyle.split(" "):[],E="normal",B="normal",I=Q.length,K;for(var J=0;J<I;J+=1)switch(K=Q[J].toLowerCase(),K){case"italic":B="italic";break;case"bold":E="700";break;case"black":E="900";break;case"medium":E="500";break;case"regular":case"normal":E="400";break;case"light":case"thin":E="200";break;default:break}return{style:B,weight:A.fWeight||E}}function RenderableElement(){}function SliderEffect(A,Q,E){this.p=PropertyFactory.getProp(Q,A.v,0,0,E)}function AngleEffect(A,Q,E){this.p=PropertyFactory.getProp(Q,A.v,0,0,E)}function ColorEffect(A,Q,E){this.p=PropertyFactory.getProp(Q,A.v,1,0,E)}function PointEffect(A,Q,E){this.p=PropertyFactory.getProp(Q,A.v,1,0,E)}function LayerIndexEffect(A,Q,E){this.p=PropertyFactory.getProp(Q,A.v,0,0,E)}function MaskIndexEffect(A,Q,E){this.p=PropertyFactory.getProp(Q,A.v,0,0,E)}function CheckboxEffect(A,Q,E){this.p=PropertyFactory.getProp(Q,A.v,0,0,E)}function NoValueEffect(){this.p={}}function EffectsManager(A,Q){var E=A.ef||[];this.effectElements=[];var B,I=E.length,K;for(B=0;B<I;B+=1)K=new GroupEffect(E[B],Q),this.effectElements.push(K)}function GroupEffect(A,Q){this.init(A,Q)}function BaseElement(){}function FrameElement(){}function FootageElement(A,Q,E){this.initFrame(),this.initRenderable(),this.assetData=Q.getAssetData(A.refId),this.footageData=Q.imageLoader.getAsset(this.assetData),this.initBaseData(A,Q,E)}function AudioElement(A,Q,E){this.initFrame(),this.initRenderable(),this.assetData=Q.getAssetData(A.refId),this.initBaseData(A,Q,E),this._isPlaying=!1,this._canPlay=!1;var B=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(B),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=A.tm?PropertyFactory.getProp(this,A.tm,0,Q.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,A.au&&A.au.lv?A.au.lv:{k:[100]},1,0.01,this)}function BaseRenderer(){}function TransformElement(){}function MaskElement(A,Q,E){this.data=A,this.element=Q,this.globalData=E,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var B=this.globalData.defs,I,K=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(K),this.solidPath="";var J,C=this.masksProperties,U=0,Y=[],H,R,G=createElementID(),O,F,q,W,Z="clipPath",$="clip-path";for(I=0;I<K;I+=1){if(C[I].mode!=="a"&&C[I].mode!=="n"||C[I].inv||C[I].o.k!==100||C[I].o.x)Z="mask",$="mask";if((C[I].mode==="s"||C[I].mode==="i")&&U===0)O=createNS("rect"),O.setAttribute("fill","#ffffff"),O.setAttribute("width",this.element.comp.data.w||0),O.setAttribute("height",this.element.comp.data.h||0),Y.push(O);else O=null;if(J=createNS("path"),C[I].mode==="n")this.viewData[I]={op:PropertyFactory.getProp(this.element,C[I].o,0,0.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,C[I],3),elem:J,lastPath:""},B.appendChild(J);else{U+=1,J.setAttribute("fill",C[I].mode==="s"?"#000000":"#ffffff"),J.setAttribute("clip-rule","nonzero");var X;if(C[I].x.k!==0)Z="mask",$="mask",W=PropertyFactory.getProp(this.element,C[I].x,0,null,this.element),X=createElementID(),F=createNS("filter"),F.setAttribute("id",X),q=createNS("feMorphology"),q.setAttribute("operator","erode"),q.setAttribute("in","SourceGraphic"),q.setAttribute("radius","0"),F.appendChild(q),B.appendChild(F),J.setAttribute("stroke",C[I].mode==="s"?"#000000":"#ffffff");else q=null,W=null;if(this.storedData[I]={elem:J,x:W,expan:q,lastPath:"",lastOperator:"",filterId:X,lastRadius:0},C[I].mode==="i"){R=Y.length;var N=createNS("g");for(H=0;H<R;H+=1)N.appendChild(Y[H]);var M=createNS("mask");M.setAttribute("mask-type","alpha"),M.setAttribute("id",G+"_"+U),M.appendChild(J),B.appendChild(M),N.setAttribute("mask","url("+getLocationHref()+"#"+G+"_"+U+")"),Y.length=0,Y.push(N)}else Y.push(J);if(C[I].inv&&!this.solidPath)this.solidPath=this.createLayerSolidPath();if(this.viewData[I]={elem:J,lastPath:"",op:PropertyFactory.getProp(this.element,C[I].o,0,0.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,C[I],3),invRect:O},!this.viewData[I].prop.k)this.drawPath(C[I],this.viewData[I].prop.v,this.viewData[I])}}this.maskElement=createNS(Z),K=Y.length;for(I=0;I<K;I+=1)this.maskElement.appendChild(Y[I]);if(U>0)this.maskElement.setAttribute("id",G),this.element.maskedElement.setAttribute($,"url("+getLocationHref()+"#"+G+")"),B.appendChild(this.maskElement);if(this.viewData.length)this.element.addRenderableComponent(this)}function SVGEffects(A){var Q,E="SourceGraphic",B=A.data.ef?A.data.ef.length:0,I=createElementID(),K=filtersFactory.createFilter(I,!0),J=0;this.filters=[];var C;for(Q=0;Q<B;Q+=1){C=null;var U=A.data.ef[Q].ty;if(registeredEffects[U]){var Y=registeredEffects[U].effect;if(C=new Y(K,A.effectsManager.effectElements[Q],A,idPrefix+J,E),E=idPrefix+J,registeredEffects[U].countsAsEffect)J+=1}if(C)this.filters.push(C)}if(J)A.globalData.defs.appendChild(K),A.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+I+")");if(this.filters.length)A.addRenderableComponent(this)}function registerEffect(A,Q,E){registeredEffects[A]={effect:Q,countsAsEffect:E}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(A,Q,E){this.assetData=Q.getAssetData(A.refId),this.initElement(A,Q,E),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(A,Q){this.elem=A,this.pos=Q}function IShapeElement(){}function SVGShapeData(A,Q,E){this.caches=[],this.styles=[],this.transformers=A,this.lStr="",this.sh=E,this.lvl=Q,this._isAnimated=!!E.k;var B=0,I=A.length;while(B<I){if(A[B].mProps.dynamicProperties.length){this._isAnimated=!0;break}B+=1}}function SVGStyleData(A,Q){this.data=A,this.type=A.ty,this.d="",this.lvl=Q,this._mdf=!1,this.closed=A.hd===!0,this.pElem=createNS("path"),this.msElem=null}function DashProperty(A,Q,E,B){this.elem=A,this.frameId=-1,this.dataProps=createSizedArray(Q.length),this.renderer=E,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",Q.length?Q.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(B);var I,K=Q.length||0,J;for(I=0;I<K;I+=1)J=PropertyFactory.getProp(A,Q[I].v,0,0,this),this.k=J.k||this.k,this.dataProps[I]={n:Q[I].n,p:J};if(!this.k)this.getValue(!0);this._isAnimated=this.k}function SVGStrokeStyleData(A,Q,E){this.initDynamicPropertyContainer(A),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(A,Q.o,0,0.01,this),this.w=PropertyFactory.getProp(A,Q.w,0,null,this),this.d=new DashProperty(A,Q.d||{},"svg",this),this.c=PropertyFactory.getProp(A,Q.c,1,255,this),this.style=E,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(A,Q,E){this.initDynamicPropertyContainer(A),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(A,Q.o,0,0.01,this),this.c=PropertyFactory.getProp(A,Q.c,1,255,this),this.style=E}function SVGNoStyleData(A,Q,E){this.initDynamicPropertyContainer(A),this.getValue=this.iterateDynamicProperties,this.style=E}function GradientProperty(A,Q,E){this.data=Q,this.c=createTypedArray("uint8c",Q.p*4);var B=Q.k.k[0].s?Q.k.k[0].s.length-Q.p*4:Q.k.k.length-Q.p*4;this.o=createTypedArray("float32",B),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=B,this.initDynamicPropertyContainer(E),this.prop=PropertyFactory.getProp(A,Q.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(A,Q,E){this.initDynamicPropertyContainer(A),this.getValue=this.iterateDynamicProperties,this.initGradientData(A,Q,E)}function SVGGradientStrokeStyleData(A,Q,E){this.initDynamicPropertyContainer(A),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(A,Q.w,0,null,this),this.d=new DashProperty(A,Q.d||{},"svg",this),this.initGradientData(A,Q,E),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(A,Q,E){this.transform={mProps:A,op:Q,container:E},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function SVGShapeElement(A,Q,E){this.shapes=[],this.shapesData=A.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(A,Q,E),this.prevViewData=[]}function LetterProps(A,Q,E,B,I,K){this.o=A,this.sw=Q,this.sc=E,this.fc=B,this.m=I,this.p=K,this._mdf={o:!0,sw:!!Q,sc:!!E,fc:!!B,m:!0,p:!0}}function TextProperty(A,Q){if(this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=Q,this.elem=A,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),!this.searchProperty())this.completeTextData(this.currentData)}function TextAnimatorDataProperty(A,Q,E){var B={propType:!1},I=PropertyFactory.getProp,K=Q.a;this.a={r:K.r?I(A,K.r,0,degToRads,E):B,rx:K.rx?I(A,K.rx,0,degToRads,E):B,ry:K.ry?I(A,K.ry,0,degToRads,E):B,sk:K.sk?I(A,K.sk,0,degToRads,E):B,sa:K.sa?I(A,K.sa,0,degToRads,E):B,s:K.s?I(A,K.s,1,0.01,E):B,a:K.a?I(A,K.a,1,0,E):B,o:K.o?I(A,K.o,0,0.01,E):B,p:K.p?I(A,K.p,1,0,E):B,sw:K.sw?I(A,K.sw,0,0,E):B,sc:K.sc?I(A,K.sc,1,0,E):B,fc:K.fc?I(A,K.fc,1,0,E):B,fh:K.fh?I(A,K.fh,0,0,E):B,fs:K.fs?I(A,K.fs,0,0.01,E):B,fb:K.fb?I(A,K.fb,0,0.01,E):B,t:K.t?I(A,K.t,0,0,E):B},this.s=TextSelectorProp.getTextSelectorProp(A,Q.s,E),this.s.t=Q.s.t}function TextAnimatorProperty(A,Q,E){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=A,this._renderType=Q,this._elem=E,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(E)}function ITextElement(){}function SVGTextLottieElement(A,Q,E){this.textSpans=[],this.renderType="svg",this.initElement(A,Q,E)}function ISolidElement(A,Q,E){this.initElement(A,Q,E)}function NullElement(A,Q,E){this.initFrame(),this.initBaseData(A,Q,E),this.initFrame(),this.initTransform(A,Q,E),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(A,Q,E){this.layers=A.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(A,Q,E),this.tm=A.tm?PropertyFactory.getProp(this,A.tm,0,Q.frameRate,this):{_placeholder:!0}}function SVGRenderer(A,Q){this.animationItem=A,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var E="";if(Q&&Q.title){var B=createNS("title"),I=createElementID();B.setAttribute("id",I),B.textContent=Q.title,this.svgElement.appendChild(B),E+=I}if(Q&&Q.description){var K=createNS("desc"),J=createElementID();K.setAttribute("id",J),K.textContent=Q.description,this.svgElement.appendChild(K),E+=" "+J}if(E)this.svgElement.setAttribute("aria-labelledby",E);var C=createNS("defs");this.svgElement.appendChild(C);var U=createNS("g");this.svgElement.appendChild(U),this.layerElement=U,this.renderConfig={preserveAspectRatio:Q&&Q.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:Q&&Q.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:Q&&Q.contentVisibility||"visible",progressiveLoad:Q&&Q.progressiveLoad||!1,hideOnTransparent:!(Q&&Q.hideOnTransparent===!1),viewBoxOnly:Q&&Q.viewBoxOnly||!1,viewBoxSize:Q&&Q.viewBoxSize||!1,className:Q&&Q.className||"",id:Q&&Q.id||"",focusable:Q&&Q.focusable,filterSize:{width:Q&&Q.filterSize&&Q.filterSize.width||"100%",height:Q&&Q.filterSize&&Q.filterSize.height||"100%",x:Q&&Q.filterSize&&Q.filterSize.x||"0%",y:Q&&Q.filterSize&&Q.filterSize.y||"0%"},width:Q&&Q.width,height:Q&&Q.height},this.globalData={_mdf:!1,frameNum:-1,defs:C,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CVContextData(){this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1;var A,Q=15;this.savedOp=createTypedArray("float32",Q);for(A=0;A<Q;A+=1)this.saved[A]=createTypedArray("float32",16);this._length=Q}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVEffects(){}function CVMaskElement(A,Q){this.data=A,this.element=Q,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var E,B=this.masksProperties.length,I=!1;for(E=0;E<B;E+=1){if(this.masksProperties[E].mode!=="n")I=!0;this.viewData[E]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[E],3)}if(this.hasMasks=I,I)this.element.addRenderableComponent(this)}function CVBaseElement(){}function CVShapeData(A,Q,E,B){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var I=4;if(Q.ty==="rc")I=5;else if(Q.ty==="el")I=6;else if(Q.ty==="sr")I=7;this.sh=ShapePropertyFactory.getShapeProp(A,Q,I,A);var K,J=E.length,C;for(K=0;K<J;K+=1)if(!E[K].closed)C={transforms:B.addTransformSequence(E[K].transforms),trNodes:[]},this.styledShapes.push(C),E[K].elements.push(C)}function CVShapeElement(A,Q,E){this.shapes=[],this.shapesData=A.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(A,Q,E)}function CVTextElement(A,Q,E){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(A,Q,E)}function CVImageElement(A,Q,E){this.assetData=Q.getAssetData(A.refId),this.img=Q.imageLoader.getAsset(this.assetData),this.initElement(A,Q,E)}function CVSolidElement(A,Q,E){this.initElement(A,Q,E)}function CanvasRendererBase(A,Q){if(this.animationItem=A,this.renderConfig={clearCanvas:Q&&Q.clearCanvas!==void 0?Q.clearCanvas:!0,context:Q&&Q.context||null,progressiveLoad:Q&&Q.progressiveLoad||!1,preserveAspectRatio:Q&&Q.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:Q&&Q.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:Q&&Q.contentVisibility||"visible",className:Q&&Q.className||"",id:Q&&Q.id||""},this.renderConfig.dpr=Q&&Q.dpr||1,this.animationItem.wrapper)this.renderConfig.dpr=Q&&Q.dpr||window.devicePixelRatio||1;this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function CVCompElement(A,Q,E){this.completeLayers=!1,this.layers=A.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(A,Q,E),this.tm=A.tm?PropertyFactory.getProp(this,A.tm,0,Q.frameRate,this):{_placeholder:!0}}function CanvasRenderer(A,Q){if(this.animationItem=A,this.renderConfig={clearCanvas:Q&&Q.clearCanvas!==void 0?Q.clearCanvas:!0,context:Q&&Q.context||null,progressiveLoad:Q&&Q.progressiveLoad||!1,preserveAspectRatio:Q&&Q.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:Q&&Q.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:Q&&Q.contentVisibility||"visible",className:Q&&Q.className||"",id:Q&&Q.id||""},this.renderConfig.dpr=Q&&Q.dpr||1,this.animationItem.wrapper)this.renderConfig.dpr=Q&&Q.dpr||window.devicePixelRatio||1;this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function seedRandom(A,Q){var E=this,B=256,I=6,K=52,J="random",C=Q.pow(B,I),U=Q.pow(2,K),Y=U*2,H=B-1,R;function G(X,N,M){var L=[];N=N===!0?{entropy:!0}:N||{};var D=W(q(N.entropy?[X,$(A)]:X===null?Z():X,3),L),w=new O(L),P=function(){var V=w.g(I),T=C,S=0;while(V<U)V=(V+S)*B,T*=B,S=w.g(1);while(V>=Y)V/=2,T/=2,S>>>=1;return(V+S)/T};return P.int32=function(){return w.g(4)|0},P.quick=function(){return w.g(4)/4294967296},P.double=P,W($(w.S),A),(N.pass||M||function(V,T,S,h){if(h){if(h.S)F(h,w);V.state=function(){return F(w,{})}}if(S)return Q[J]=V,T;else return V})(P,D,"global"in N?N.global:this==Q,N.state)}Q["seed"+J]=G;function O(X){var N,M=X.length,L=this,D=0,w=L.i=L.j=0,P=L.S=[];if(!M)X=[M++];while(D<B)P[D]=D++;for(D=0;D<B;D++)P[D]=P[w=H&w+X[D%M]+(N=P[D])],P[w]=N;L.g=function(V){var T,S=0,h=L.i,x=L.j,y=L.S;while(V--)T=y[h=H&h+1],S=S*B+y[H&(y[h]=y[x=H&x+T])+(y[x]=T)];return L.i=h,L.j=x,S}}function F(X,N){return N.i=X.i,N.j=X.j,N.S=X.S.slice(),N}function q(X,N){var M=[],L=typeof X,D;if(N&&L=="object")for(D in X)try{M.push(q(X[D],N-1))}catch(w){}return M.length?M:L=="string"?X:X+"\0"}function W(X,N){var M=X+"",L,D=0;while(D<M.length)N[H&D]=H&(L^=N[H&D]*19)+M.charCodeAt(D++);return $(N)}function Z(){try{if(R)return $(R.randomBytes(B));var X=new Uint8Array(B);return(E.crypto||E.msCrypto).getRandomValues(X),$(X)}catch(L){var N=E.navigator,M=N&&N.plugins;return[+/*@__PURE__*/new Date,E,M,E.screen,$(A)]}}function $(X){return String.fromCharCode.apply(0,X)}W(Q.random(),A)}function initialize$2(A){seedRandom([],A)}function addPropertyDecorator(){function A(G,O,F){if(!this.k||!this.keyframes)return this.pv;G=G?G.toLowerCase():"";var q=this.comp.renderedFrame,W=this.keyframes,Z=W[W.length-1].t;if(q<=Z)return this.pv;var $,X;if(!F){if(!O||O>W.length-1)O=W.length-1;X=W[W.length-1-O].t,$=Z-X}else{if(!O)$=Math.max(0,Z-this.elem.data.ip);else $=Math.abs(Z-this.elem.comp.globalData.frameRate*O);X=Z-$}var N,M,L;if(G==="pingpong"){var D=Math.floor((q-X)/$);if(D%2!==0)return this.getValueAtTime(($-(q-X)%$+X)/this.comp.globalData.frameRate,0)}else if(G==="offset"){var w=this.getValueAtTime(X/this.comp.globalData.frameRate,0),P=this.getValueAtTime(Z/this.comp.globalData.frameRate,0),V=this.getValueAtTime(((q-X)%$+X)/this.comp.globalData.frameRate,0),T=Math.floor((q-X)/$);if(this.pv.length){L=new Array(w.length),M=L.length;for(N=0;N<M;N+=1)L[N]=(P[N]-w[N])*T+V[N];return L}return(P-w)*T+V}else if(G==="continue"){var S=this.getValueAtTime(Z/this.comp.globalData.frameRate,0),h=this.getValueAtTime((Z-0.001)/this.comp.globalData.frameRate,0);if(this.pv.length){L=new Array(S.length),M=L.length;for(N=0;N<M;N+=1)L[N]=S[N]+(S[N]-h[N])*((q-Z)/this.comp.globalData.frameRate)/0.0005;return L}return S+(S-h)*((q-Z)/0.001)}return this.getValueAtTime(((q-X)%$+X)/this.comp.globalData.frameRate,0)}function Q(G,O,F){if(!this.k)return this.pv;G=G?G.toLowerCase():"";var q=this.comp.renderedFrame,W=this.keyframes,Z=W[0].t;if(q>=Z)return this.pv;var $,X;if(!F){if(!O||O>W.length-1)O=W.length-1;X=W[O].t,$=X-Z}else{if(!O)$=Math.max(0,this.elem.data.op-Z);else $=Math.abs(this.elem.comp.globalData.frameRate*O);X=Z+$}var N,M,L;if(G==="pingpong"){var D=Math.floor((Z-q)/$);if(D%2===0)return this.getValueAtTime(((Z-q)%$+Z)/this.comp.globalData.frameRate,0)}else if(G==="offset"){var w=this.getValueAtTime(Z/this.comp.globalData.frameRate,0),P=this.getValueAtTime(X/this.comp.globalData.frameRate,0),V=this.getValueAtTime(($-(Z-q)%$+Z)/this.comp.globalData.frameRate,0),T=Math.floor((Z-q)/$)+1;if(this.pv.length){L=new Array(w.length),M=L.length;for(N=0;N<M;N+=1)L[N]=V[N]-(P[N]-w[N])*T;return L}return V-(P-w)*T}else if(G==="continue"){var S=this.getValueAtTime(Z/this.comp.globalData.frameRate,0),h=this.getValueAtTime((Z+0.001)/this.comp.globalData.frameRate,0);if(this.pv.length){L=new Array(S.length),M=L.length;for(N=0;N<M;N+=1)L[N]=S[N]+(S[N]-h[N])*(Z-q)/0.001;return L}return S+(S-h)*(Z-q)/0.001}return this.getValueAtTime(($-((Z-q)%$+Z))/this.comp.globalData.frameRate,0)}function E(G,O){if(!this.k)return this.pv;if(G=(G||0.4)*0.5,O=Math.floor(O||5),O<=1)return this.pv;var F=this.comp.renderedFrame/this.comp.globalData.frameRate,q=F-G,W=F+G,Z=O>1?(W-q)/(O-1):1,$=0,X=0,N;if(this.pv.length)N=createTypedArray("float32",this.pv.length);else N=0;var M;while($<O){if(M=this.getValueAtTime(q+$*Z),this.pv.length)for(X=0;X<this.pv.length;X+=1)N[X]+=M[X];else N+=M;$+=1}if(this.pv.length)for(X=0;X<this.pv.length;X+=1)N[X]/=O;else N/=O;return N}function B(G){if(!this._transformCachingAtTime)this._transformCachingAtTime={v:new Matrix};var O=this._transformCachingAtTime.v;if(O.cloneFromProps(this.pre.props),this.appliedTransformations<1){var F=this.a.getValueAtTime(G);O.translate(-F[0]*this.a.mult,-F[1]*this.a.mult,F[2]*this.a.mult)}if(this.appliedTransformations<2){var q=this.s.getValueAtTime(G);O.scale(q[0]*this.s.mult,q[1]*this.s.mult,q[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var W=this.sk.getValueAtTime(G),Z=this.sa.getValueAtTime(G);O.skewFromAxis(-W*this.sk.mult,Z*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var $=this.r.getValueAtTime(G);O.rotate(-$*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var X=this.rz.getValueAtTime(G),N=this.ry.getValueAtTime(G),M=this.rx.getValueAtTime(G),L=this.or.getValueAtTime(G);O.rotateZ(-X*this.rz.mult).rotateY(N*this.ry.mult).rotateX(M*this.rx.mult).rotateZ(-L[2]*this.or.mult).rotateY(L[1]*this.or.mult).rotateX(L[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var D=this.px.getValueAtTime(G),w=this.py.getValueAtTime(G);if(this.data.p.z){var P=this.pz.getValueAtTime(G);O.translate(D*this.px.mult,w*this.py.mult,-P*this.pz.mult)}else O.translate(D*this.px.mult,w*this.py.mult,0)}else{var V=this.p.getValueAtTime(G);O.translate(V[0]*this.p.mult,V[1]*this.p.mult,-V[2]*this.p.mult)}return O}function I(){return this.v.clone(new Matrix)}var K=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(G,O,F){var q=K(G,O,F);if(q.dynamicProperties.length)q.getValueAtTime=B.bind(q);else q.getValueAtTime=I.bind(q);return q.setGroupProperty=expressionHelpers.setGroupProperty,q};var J=PropertyFactory.getProp;PropertyFactory.getProp=function(G,O,F,q,W){var Z=J(G,O,F,q,W);if(Z.kf)Z.getValueAtTime=expressionHelpers.getValueAtTime.bind(Z);else Z.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(Z);Z.setGroupProperty=expressionHelpers.setGroupProperty,Z.loopOut=A,Z.loopIn=Q,Z.smooth=E,Z.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(Z),Z.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(Z),Z.numKeys=O.a===1?O.k.length:0,Z.propertyIndex=O.ix;var $=0;if(F!==0)$=createTypedArray("float32",O.a===1?O.k[0].s.length:O.k.length);if(Z._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:$},expressionHelpers.searchExpressions(G,O,Z),Z.k)W.addDynamicProperty(Z);return Z};function C(G){if(!this._cachingAtTime)this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame};if(G*=this.elem.globalData.frameRate,G-=this.offsetTime,G!==this._cachingAtTime.lastTime)this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<G?this._caching.lastIndex:0,this._cachingAtTime.lastTime=G,this.interpolateShape(G,this._cachingAtTime.shapeValue,this._cachingAtTime);return this._cachingAtTime.shapeValue}var U=ShapePropertyFactory.getConstructorFunction(),Y=ShapePropertyFactory.getKeyframedConstructorFunction();function H(){}H.prototype={vertices:function(G,O){if(this.k)this.getValue();var F=this.v;if(O!==void 0)F=this.getValueAtTime(O,0);var q,W=F._length,Z=F[G],$=F.v,X=createSizedArray(W);for(q=0;q<W;q+=1)if(G==="i"||G==="o")X[q]=[Z[q][0]-$[q][0],Z[q][1]-$[q][1]];else X[q]=[Z[q][0],Z[q][1]];return X},points:function(G){return this.vertices("v",G)},inTangents:function(G){return this.vertices("i",G)},outTangents:function(G){return this.vertices("o",G)},isClosed:function(){return this.v.c},pointOnPath:function(G,O){var F=this.v;if(O!==void 0)F=this.getValueAtTime(O,0);if(!this._segmentsLength)this._segmentsLength=bez.getSegmentsLength(F);var q=this._segmentsLength,W=q.lengths,Z=q.totalLength*G,$=0,X=W.length,N=0,M;while($<X){if(N+W[$].addedLength>Z){var L=$,D=F.c&&$===X-1?0:$+1,w=(Z-N)/W[$].addedLength;M=bez.getPointInSegment(F.v[L],F.v[D],F.o[L],F.i[D],w,W[$]);break}else N+=W[$].addedLength;$+=1}if(!M)M=F.c?[F.v[0][0],F.v[0][1]]:[F.v[F._length-1][0],F.v[F._length-1][1]];return M},vectorOnPath:function(G,O,F){if(G==1)G=this.v.c;else if(G==0)G=0.999;var q=this.pointOnPath(G,O),W=this.pointOnPath(G+0.001,O),Z=W[0]-q[0],$=W[1]-q[1],X=Math.sqrt(Math.pow(Z,2)+Math.pow($,2));if(X===0)return[0,0];var N=F==="tangent"?[Z/X,$/X]:[-$/X,Z/X];return N},tangentOnPath:function(G,O){return this.vectorOnPath(G,O,"tangent")},normalOnPath:function(G,O){return this.vectorOnPath(G,O,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([H],U),extendPrototype([H],Y),Y.prototype.getValueAtTime=C,Y.prototype.initiateExpression=ExpressionManager.initiateExpression;var R=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(G,O,F,q,W){var Z=R(G,O,F,q,W);if(Z.propertyIndex=O.ix,Z.lock=!1,F===3)expressionHelpers.searchExpressions(G,O.pt,Z);else if(F===4)expressionHelpers.searchExpressions(G,O.ks,Z);if(Z.k)G.addDynamicProperty(Z);return Z}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function A(){if(this.data.d.x)return this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0;return null}TextProperty.prototype.getExpressionValue=function(Q,E){var B=this.calculateExpression(E);if(Q.t!==B){var I={};return this.copyData(I,Q),I.t=B.toString(),I.__complete=!1,I}return Q},TextProperty.prototype.searchProperty=function(){var Q=this.searchKeyframes(),E=this.searchExpressions();return this.kf=Q||E,this.kf},TextProperty.prototype.searchExpressions=A}function initialize(){addDecorator()}const svgNS="http://www.w3.org/2000/svg";let locationHref="",_useWebWorker=!1;const initialDefaultFrame=-999999,setWebWorker=(A)=>{_useWebWorker=!!A},getWebWorker=()=>_useWebWorker,setLocationHref=(A)=>{locationHref=A},getLocationHref=()=>locationHref,audioControllerFactory=function(){function A(Q){this.audios=[],this.audioFactory=Q,this._volume=1,this._isMuted=!1}return A.prototype={addAudio:function(Q){this.audios.push(Q)},pause:function(){var Q,E=this.audios.length;for(Q=0;Q<E;Q+=1)this.audios[Q].pause()},resume:function(){var Q,E=this.audios.length;for(Q=0;Q<E;Q+=1)this.audios[Q].resume()},setRate:function(Q){var E,B=this.audios.length;for(E=0;E<B;E+=1)this.audios[E].setRate(Q)},createAudio:function(Q){if(this.audioFactory)return this.audioFactory(Q);if(window.Howl)return new window.Howl({src:[Q]});return{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(Q){this.audioFactory=Q},setVolume:function(Q){this._volume=Q,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var Q,E=this.audios.length;for(Q=0;Q<E;Q+=1)this.audios[Q].volume(this._volume*(this._isMuted?0:1))}},function(){return new A}}(),createTypedArray=function(){function A(E,B){var I=0,K=[],J;switch(E){case"int16":case"uint8c":J=1;break;default:J=1.1;break}for(I=0;I<B;I+=1)K.push(J);return K}function Q(E,B){if(E==="float32")return new Float32Array(B);if(E==="int16")return new Int16Array(B);if(E==="uint8c")return new Uint8ClampedArray(B);return A(E,B)}if(typeof Uint8ClampedArray==="function"&&typeof Float32Array==="function")return Q;return A}();let subframeEnabled=!0,expressionsPlugin=null,idPrefix$1="";const isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);let _shouldRoundValues=!1;const{pow:bmPow,sqrt:bmSqrt,floor:bmFloor,max:bmMax,min:bmMin}=Math,BMMath={};(function(){var A=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],Q,E=A.length;for(Q=0;Q<E;Q+=1)BMMath[A[Q]]=Math[A[Q]]})(),BMMath.random=Math.random,BMMath.abs=function(A){var Q=typeof A;if(Q==="object"&&A.length){var E=createSizedArray(A.length),B,I=A.length;for(B=0;B<I;B+=1)E[B]=Math.abs(A[B]);return E}return Math.abs(A)};let defaultCurveSegments=150;const degToRads=Math.PI/180,roundCorner=0.5519,createElementID=function(){var A=0;return function Q(){return A+=1,idPrefix$1+"__lottie_element_"+A}}(),rgbToHex=function(){var A=[],Q,E;for(Q=0;Q<256;Q+=1)E=Q.toString(16),A[Q]=E.length===1?"0"+E:E;return function(B,I,K){if(B<0)B=0;if(I<0)I=0;if(K<0)K=0;return"#"+A[B]+A[I]+A[K]}}(),setSubframeEnabled=(A)=>{subframeEnabled=!!A},getSubframeEnabled=()=>subframeEnabled,setExpressionsPlugin=(A)=>{expressionsPlugin=A},getExpressionsPlugin=()=>expressionsPlugin,setDefaultCurveSegments=(A)=>{defaultCurveSegments=A},getDefaultCurveSegments=()=>defaultCurveSegments,setIdPrefix=(A)=>{idPrefix$1=A},getIdPrefix=()=>idPrefix$1,dataManager=function(){var A=1,Q=[],E,B,I={onmessage:function(){},postMessage:function(G){E({data:G})}},K={postMessage:function(G){I.onmessage({data:G})}};function J(G){if(window.Worker&&window.Blob&&getWebWorker()){var O=new Blob(["var _workerSelf = self; self.onmessage = ",G.toString()],{type:"text/javascript"}),F=URL.createObjectURL(O);return new Worker(F)}return E=G,I}function C(){if(!B)B=J(function G(O){function F(){function W(y,j){var v,_,g=y.length,b,p,m,o;for(_=0;_<g;_+=1)if(v=y[_],"ks"in v&&!v.completed){if(v.completed=!0,v.tt)y[_-1].td=v.tt;if(v.hasMask){var AA=v.masksProperties;p=AA.length;for(b=0;b<p;b+=1)if(AA[b].pt.k.i)M(AA[b].pt.k);else{o=AA[b].pt.k.length;for(m=0;m<o;m+=1){if(AA[b].pt.k[m].s)M(AA[b].pt.k[m].s[0]);if(AA[b].pt.k[m].e)M(AA[b].pt.k[m].e[0])}}}if(v.ty===0)v.layers=X(v.refId,j),W(v.layers,j);else if(v.ty===4)N(v.shapes);else if(v.ty===5)h(v)}}function Z(y,j){if(y){var v=0,_=y.length;for(v=0;v<_;v+=1)if(y[v].t===1)y[v].data.layers=X(y[v].data.refId,j),W(y[v].data.layers,j)}}function $(y,j){var v=0,_=j.length;while(v<_){if(j[v].id===y)return j[v];v+=1}return null}function X(y,j){var v=$(y,j);if(v){if(!v.layers.__used)return v.layers.__used=!0,v.layers;return JSON.parse(JSON.stringify(v.layers))}return null}function N(y){var j,v=y.length,_,g;for(j=v-1;j>=0;j-=1)if(y[j].ty==="sh")if(y[j].ks.k.i)M(y[j].ks.k);else{g=y[j].ks.k.length;for(_=0;_<g;_+=1){if(y[j].ks.k[_].s)M(y[j].ks.k[_].s[0]);if(y[j].ks.k[_].e)M(y[j].ks.k[_].e[0])}}else if(y[j].ty==="gr")N(y[j].it)}function M(y){var j,v=y.i.length;for(j=0;j<v;j+=1)y.i[j][0]+=y.v[j][0],y.i[j][1]+=y.v[j][1],y.o[j][0]+=y.v[j][0],y.o[j][1]+=y.v[j][1]}function L(y,j){var v=j?j.split("."):[100,100,100];if(y[0]>v[0])return!0;if(v[0]>y[0])return!1;if(y[1]>v[1])return!0;if(v[1]>y[1])return!1;if(y[2]>v[2])return!0;if(v[2]>y[2])return!1;return null}var D=function(){var y=[4,4,14];function j(_){var g=_.t.d;_.t.d={k:[{s:g,t:0}]}}function v(_){var g,b=_.length;for(g=0;g<b;g+=1)if(_[g].ty===5)j(_[g])}return function(_){if(L(y,_.v)){if(v(_.layers),_.assets){var g,b=_.assets.length;for(g=0;g<b;g+=1)if(_.assets[g].layers)v(_.assets[g].layers)}}}}(),w=function(){var y=[4,7,99];return function(j){if(j.chars&&!L(y,j.v)){var v,_=j.chars.length;for(v=0;v<_;v+=1){var g=j.chars[v];if(g.data&&g.data.shapes){if(N(g.data.shapes),g.data.ip=0,g.data.op=99999,g.data.st=0,g.data.sr=1,g.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},!j.chars[v].t)g.data.shapes.push({ty:"no"}),g.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})}}}}}(),P=function(){var y=[5,7,15];function j(_){var g=_.t.p;if(typeof g.a==="number")g.a={a:0,k:g.a};if(typeof g.p==="number")g.p={a:0,k:g.p};if(typeof g.r==="number")g.r={a:0,k:g.r}}function v(_){var g,b=_.length;for(g=0;g<b;g+=1)if(_[g].ty===5)j(_[g])}return function(_){if(L(y,_.v)){if(v(_.layers),_.assets){var g,b=_.assets.length;for(g=0;g<b;g+=1)if(_.assets[g].layers)v(_.assets[g].layers)}}}}(),V=function(){var y=[4,1,9];function j(_){var g,b=_.length,p,m;for(g=0;g<b;g+=1)if(_[g].ty==="gr")j(_[g].it);else if(_[g].ty==="fl"||_[g].ty==="st")if(_[g].c.k&&_[g].c.k[0].i){m=_[g].c.k.length;for(p=0;p<m;p+=1){if(_[g].c.k[p].s)_[g].c.k[p].s[0]/=255,_[g].c.k[p].s[1]/=255,_[g].c.k[p].s[2]/=255,_[g].c.k[p].s[3]/=255;if(_[g].c.k[p].e)_[g].c.k[p].e[0]/=255,_[g].c.k[p].e[1]/=255,_[g].c.k[p].e[2]/=255,_[g].c.k[p].e[3]/=255}}else _[g].c.k[0]/=255,_[g].c.k[1]/=255,_[g].c.k[2]/=255,_[g].c.k[3]/=255}function v(_){var g,b=_.length;for(g=0;g<b;g+=1)if(_[g].ty===4)j(_[g].shapes)}return function(_){if(L(y,_.v)){if(v(_.layers),_.assets){var g,b=_.assets.length;for(g=0;g<b;g+=1)if(_.assets[g].layers)v(_.assets[g].layers)}}}}(),T=function(){var y=[4,4,18];function j(_){var g,b=_.length,p,m;for(g=b-1;g>=0;g-=1)if(_[g].ty==="sh")if(_[g].ks.k.i)_[g].ks.k.c=_[g].closed;else{m=_[g].ks.k.length;for(p=0;p<m;p+=1){if(_[g].ks.k[p].s)_[g].ks.k[p].s[0].c=_[g].closed;if(_[g].ks.k[p].e)_[g].ks.k[p].e[0].c=_[g].closed}}else if(_[g].ty==="gr")j(_[g].it)}function v(_){var g,b,p=_.length,m,o,AA,s;for(b=0;b<p;b+=1){if(g=_[b],g.hasMask){var t=g.masksProperties;o=t.length;for(m=0;m<o;m+=1)if(t[m].pt.k.i)t[m].pt.k.c=t[m].cl;else{s=t[m].pt.k.length;for(AA=0;AA<s;AA+=1){if(t[m].pt.k[AA].s)t[m].pt.k[AA].s[0].c=t[m].cl;if(t[m].pt.k[AA].e)t[m].pt.k[AA].e[0].c=t[m].cl}}}if(g.ty===4)j(g.shapes)}}return function(_){if(L(y,_.v)){if(v(_.layers),_.assets){var g,b=_.assets.length;for(g=0;g<b;g+=1)if(_.assets[g].layers)v(_.assets[g].layers)}}}}();function S(y){if(y.__complete)return;V(y),D(y),w(y),P(y),T(y),W(y.layers,y.assets),Z(y.chars,y.assets),y.__complete=!0}function h(y){if(y.t.a.length===0&&!("m"in y.t.p));}var x={};return x.completeData=S,x.checkColors=V,x.checkChars=w,x.checkPathProperties=P,x.checkShapes=T,x.completeLayers=W,x}if(!K.dataManager)K.dataManager=F();if(!K.assetLoader)K.assetLoader=function(){function W($){var X=$.getResponseHeader("content-type");if(X&&$.responseType==="json"&&X.indexOf("json")!==-1)return $.response;if($.response&&typeof $.response==="object")return $.response;if($.response&&typeof $.response==="string")return JSON.parse($.response);if($.responseText)return JSON.parse($.responseText);return null}function Z($,X,N,M){var L,D=new XMLHttpRequest;try{D.responseType="json"}catch(w){}D.onreadystatechange=function(){if(D.readyState===4)if(D.status===200)L=W(D),N(L);else try{L=W(D),N(L)}catch(w){if(M)M(w)}};try{D.open("GET",$,!0)}catch(w){D.open("GET",X+"/"+$,!0)}D.send()}return{load:Z}}();if(O.data.type==="loadAnimation")K.assetLoader.load(O.data.path,O.data.fullPath,function(W){K.dataManager.completeData(W),K.postMessage({id:O.data.id,payload:W,status:"success"})},function(){K.postMessage({id:O.data.id,status:"error"})});else if(O.data.type==="complete"){var q=O.data.animation;K.dataManager.completeData(q),K.postMessage({id:O.data.id,payload:q,status:"success"})}else if(O.data.type==="loadData")K.assetLoader.load(O.data.path,O.data.fullPath,function(W){K.postMessage({id:O.data.id,payload:W,status:"success"})},function(){K.postMessage({id:O.data.id,status:"error"})})}),B.onmessage=function(G){var O=G.data,F=O.id,q=Q[F];if(Q[F]=null,O.status==="success")q.onComplete(O.payload);else if(q.onError)q.onError()}}function U(G,O){A+=1;var F="processId_"+A;return Q[F]={onComplete:G,onError:O},F}function Y(G,O,F){C();var q=U(O,F);B.postMessage({type:"loadAnimation",path:G,fullPath:window.location.origin+window.location.pathname,id:q})}function H(G,O,F){C();var q=U(O,F);B.postMessage({type:"loadData",path:G,fullPath:window.location.origin+window.location.pathname,id:q})}function R(G,O,F){C();var q=U(O,F);B.postMessage({type:"complete",animation:G,id:q})}return{loadAnimation:Y,loadData:H,completeAnimation:R}}(),ImagePreloader=function(){var A=function(){var Z=createTag("canvas");Z.width=1,Z.height=1;var $=Z.getContext("2d");return $.fillStyle="rgba(0,0,0,0)",$.fillRect(0,0,1,1),Z}();function Q(){if(this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages){if(this.imagesLoadedCb)this.imagesLoadedCb(null)}}function E(){if(this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages){if(this.imagesLoadedCb)this.imagesLoadedCb(null)}}function B(Z,$,X){var N="";if(Z.e)N=Z.p;else if($){var M=Z.p;if(M.indexOf("images/")!==-1)M=M.split("/")[1];N=$+M}else N=X,N+=Z.u?Z.u:"",N+=Z.p;return N}function I(Z){var $=0,X=setInterval(function(){var N=Z.getBBox();if(N.width||$>500)this._imageLoaded(),clearInterval(X);$+=1}.bind(this),50)}function K(Z){var $=B(Z,this.assetsPath,this.path),X=createNS("image");if(isSafari)this.testImageLoaded(X);else X.addEventListener("load",this._imageLoaded,!1);if(X.addEventListener("error",function(){N.img=A,this._imageLoaded()}.bind(this),!1),X.setAttributeNS("http://www.w3.org/1999/xlink","href",$),this._elementHelper.append)this._elementHelper.append(X);else this._elementHelper.appendChild(X);var N={img:X,assetData:Z};return N}function J(Z){var $=B(Z,this.assetsPath,this.path),X=createTag("img");X.crossOrigin="anonymous",X.addEventListener("load",this._imageLoaded,!1),X.addEventListener("error",function(){N.img=A,this._imageLoaded()}.bind(this),!1),X.src=$;var N={img:X,assetData:Z};return N}function C(Z){var $={assetData:Z},X=B(Z,this.assetsPath,this.path);return dataManager.loadData(X,function(N){$.img=N,this._footageLoaded()}.bind(this),function(){$.img={},this._footageLoaded()}.bind(this)),$}function U(Z,$){this.imagesLoadedCb=$;var X,N=Z.length;for(X=0;X<N;X+=1)if(!Z[X].layers){if(!Z[X].t||Z[X].t==="seq")this.totalImages+=1,this.images.push(this._createImageData(Z[X]));else if(Z[X].t===3)this.totalFootages+=1,this.images.push(this.createFootageData(Z[X]))}}function Y(Z){this.path=Z||""}function H(Z){this.assetsPath=Z||""}function R(Z){var $=0,X=this.images.length;while($<X){if(this.images[$].assetData===Z)return this.images[$].img;$+=1}return null}function G(){this.imagesLoadedCb=null,this.images.length=0}function O(){return this.totalImages===this.loadedAssets}function F(){return this.totalFootages===this.loadedFootagesCount}function q(Z,$){if(Z==="svg")this._elementHelper=$,this._createImageData=this.createImageData.bind(this);else this._createImageData=this.createImgData.bind(this)}function W(){this._imageLoaded=Q.bind(this),this._footageLoaded=E.bind(this),this.testImageLoaded=I.bind(this),this.createFootageData=C.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return W.prototype={loadAssets:U,setAssetsPath:H,setPath:Y,loadedImages:O,loadedFootages:F,destroy:G,getAsset:R,createImgData:J,createImageData:K,imageLoaded:Q,footageLoaded:E,setCacheType:q},W}();BaseEvent.prototype={triggerEvent:function(A,Q){if(this._cbs[A]){var E=this._cbs[A];for(var B=0;B<E.length;B+=1)E[B](Q)}},addEventListener:function(A,Q){if(!this._cbs[A])this._cbs[A]=[];return this._cbs[A].push(Q),function(){this.removeEventListener(A,Q)}.bind(this)},removeEventListener:function(A,Q){if(!Q)this._cbs[A]=null;else if(this._cbs[A]){var E=0,B=this._cbs[A].length;while(E<B){if(this._cbs[A][E]===Q)this._cbs[A].splice(E,1),E-=1,B-=1;E+=1}if(!this._cbs[A].length)this._cbs[A]=null}}};const markerParser=function(){function A(Q){var E=Q.split("\r\n"),B={},I,K=0;for(var J=0;J<E.length;J+=1)if(I=E[J].split(":"),I.length===2)B[I[0]]=I[1].trim(),K+=1;if(K===0)throw new Error;return B}return function(Q){var E=[];for(var B=0;B<Q.length;B+=1){var I=Q[B],K={time:I.tm,duration:I.dr};try{K.payload=JSON.parse(Q[B].cm)}catch(J){try{K.payload=A(Q[B].cm)}catch(C){K.payload={name:Q[B].cm}}}E.push(K)}return E}}(),ProjectInterface=function(){function A(Q){this.compositions.push(Q)}return function(){function Q(E){var B=0,I=this.compositions.length;while(B<I){if(this.compositions[B].data&&this.compositions[B].data.nm===E){if(this.compositions[B].prepareFrame&&this.compositions[B].data.xt)this.compositions[B].prepareFrame(this.currentFrame);return this.compositions[B].compInterface}B+=1}return null}return Q.compositions=[],Q.currentFrame=0,Q.registerComposition=A,Q}}(),renderers={},registerRenderer=(A,Q)=>{renderers[A]=Q},AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(A){if(A.wrapper||A.container)this.wrapper=A.wrapper||A.container;var Q="svg";if(A.animType)Q=A.animType;else if(A.renderer)Q=A.renderer;const E=getRenderer(Q);if(this.renderer=new E(this,A.rendererSettings),this.imagePreloader.setCacheType(Q,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=Q,A.loop===""||A.loop===null||A.loop===void 0||A.loop===!0)this.loop=!0;else if(A.loop===!1)this.loop=!1;else this.loop=parseInt(A.loop,10);if(this.autoplay="autoplay"in A?A.autoplay:!0,this.name=A.name?A.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(A,"autoloadSegments")?A.autoloadSegments:!0,this.assetsPath=A.assetsPath,this.initialSegment=A.initialSegment,A.audioFactory)this.audioController.setAudioFactory(A.audioFactory);if(A.animationData)this.setupAnimation(A.animationData);else if(A.path){if(A.path.lastIndexOf("\\")!==-1)this.path=A.path.substr(0,A.path.lastIndexOf("\\")+1);else this.path=A.path.substr(0,A.path.lastIndexOf("/")+1);this.fileName=A.path.substr(A.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(A.path,this.configAnimation,this.onSetupError)}},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(A){dataManager.completeAnimation(A,this.configAnimation)},AnimationItem.prototype.setData=function(A,Q){if(Q){if(typeof Q!=="object")Q=JSON.parse(Q)}var E={wrapper:A,animationData:Q},B=A.attributes;E.path=B.getNamedItem("data-animation-path")?B.getNamedItem("data-animation-path").value:B.getNamedItem("data-bm-path")?B.getNamedItem("data-bm-path").value:B.getNamedItem("bm-path")?B.getNamedItem("bm-path").value:"",E.animType=B.getNamedItem("data-anim-type")?B.getNamedItem("data-anim-type").value:B.getNamedItem("data-bm-type")?B.getNamedItem("data-bm-type").value:B.getNamedItem("bm-type")?B.getNamedItem("bm-type").value:B.getNamedItem("data-bm-renderer")?B.getNamedItem("data-bm-renderer").value:B.getNamedItem("bm-renderer")?B.getNamedItem("bm-renderer").value:"canvas";var I=B.getNamedItem("data-anim-loop")?B.getNamedItem("data-anim-loop").value:B.getNamedItem("data-bm-loop")?B.getNamedItem("data-bm-loop").value:B.getNamedItem("bm-loop")?B.getNamedItem("bm-loop").value:"";if(I==="false")E.loop=!1;else if(I==="true")E.loop=!0;else if(I!=="")E.loop=parseInt(I,10);var K=B.getNamedItem("data-anim-autoplay")?B.getNamedItem("data-anim-autoplay").value:B.getNamedItem("data-bm-autoplay")?B.getNamedItem("data-bm-autoplay").value:B.getNamedItem("bm-autoplay")?B.getNamedItem("bm-autoplay").value:!0;E.autoplay=K!=="false",E.name=B.getNamedItem("data-name")?B.getNamedItem("data-name").value:B.getNamedItem("data-bm-name")?B.getNamedItem("data-bm-name").value:B.getNamedItem("bm-name")?B.getNamedItem("bm-name").value:"";var J=B.getNamedItem("data-anim-prerender")?B.getNamedItem("data-anim-prerender").value:B.getNamedItem("data-bm-prerender")?B.getNamedItem("data-bm-prerender").value:B.getNamedItem("bm-prerender")?B.getNamedItem("bm-prerender").value:"";if(J==="false")E.prerender=!1;this.setParams(E)},AnimationItem.prototype.includeLayers=function(A){if(A.op>this.animationData.op)this.animationData.op=A.op,this.totalFrames=Math.floor(A.op-this.animationData.ip);var Q=this.animationData.layers,E,B=Q.length,I=A.layers,K,J=I.length;for(K=0;K<J;K+=1){E=0;while(E<B){if(Q[E].id===I[K].id){Q[E]=I[K];break}E+=1}}if(A.chars||A.fonts)this.renderer.globalData.fontManager.addChars(A.chars),this.renderer.globalData.fontManager.addFonts(A.fonts,this.renderer.globalData.defs);if(A.assets){B=A.assets.length;for(E=0;E<B;E+=1)this.animationData.assets.push(A.assets[E])}this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(A){this.animationData=A;var Q=getExpressionsPlugin();if(Q)Q.initExpressions(this);this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var A=this.animationData.segments;if(!A||A.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var Q=A.shift();this.timeCompleted=Q.time*this.frameRate;var E=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(E,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){var A=this.animationData.segments;if(!A)this.timeCompleted=this.totalFrames;this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(A){if(!this.renderer)return;try{if(this.animationData=A,this.initialSegment)this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0]);else this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip);if(this.renderer.configAnimation(A),!A.assets)A.assets=[];if(this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1000,this.renderer.searchExtraCompositions(A.assets),this.markers=markerParser(A.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused)this.audioController.pause()}catch(Q){this.triggerConfigError(Q)}},AnimationItem.prototype.waitForFontsLoaded=function(){if(!this.renderer)return;if(this.renderer.globalData.fontManager.isLoaded)this.checkLoaded();else setTimeout(this.waitForFontsLoaded.bind(this),20)},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var A=getExpressionsPlugin();if(A)A.initExpressions(this);if(this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay)this.play()}},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(A){this.isSubframeEnabled=!!A},AnimationItem.prototype.gotoFrame=function(){if(this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted)this.currentFrame=this.timeCompleted;this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(this.isLoaded===!1||!this.renderer)return;try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(A){this.triggerRenderFrameError(A)}},AnimationItem.prototype.play=function(A){if(A&&this.name!==A)return;if(this.isPaused===!0){if(this.isPaused=!1,this.trigger("_pause"),this.audioController.resume(),this._idle)this._idle=!1,this.trigger("_active")}},AnimationItem.prototype.pause=function(A){if(A&&this.name!==A)return;if(this.isPaused===!1)this.isPaused=!0,this.trigger("_play"),this._idle=!0,this.trigger("_idle"),this.audioController.pause()},AnimationItem.prototype.togglePause=function(A){if(A&&this.name!==A)return;if(this.isPaused===!0)this.play();else this.pause()},AnimationItem.prototype.stop=function(A){if(A&&this.name!==A)return;this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0)},AnimationItem.prototype.getMarkerData=function(A){var Q;for(var E=0;E<this.markers.length;E+=1)if(Q=this.markers[E],Q.payload&&Q.payload.name===A)return Q;return null},AnimationItem.prototype.goToAndStop=function(A,Q,E){if(E&&this.name!==E)return;var B=Number(A);if(isNaN(B)){var I=this.getMarkerData(A);if(I)this.goToAndStop(I.time,!0)}else if(Q)this.setCurrentRawFrameValue(A);else this.setCurrentRawFrameValue(A*this.frameModifier);this.pause()},AnimationItem.prototype.goToAndPlay=function(A,Q,E){if(E&&this.name!==E)return;var B=Number(A);if(isNaN(B)){var I=this.getMarkerData(A);if(I)if(!I.duration)this.goToAndStop(I.time,!0);else this.playSegments([I.time,I.time+I.duration],!0)}else this.goToAndStop(B,Q,E);this.play()},AnimationItem.prototype.advanceTime=function(A){if(this.isPaused===!0||this.isLoaded===!1)return;var Q=this.currentRawFrame+A*this.frameModifier,E=!1;if(Q>=this.totalFrames-1&&this.frameModifier>0)if(!this.loop||this.playCount===this.loop){if(!this.checkSegments(Q>this.totalFrames?Q%this.totalFrames:0))E=!0,Q=this.totalFrames-1}else if(Q>=this.totalFrames){if(this.playCount+=1,!this.checkSegments(Q%this.totalFrames))this.setCurrentRawFrameValue(Q%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete")}else this.setCurrentRawFrameValue(Q);else if(Q<0){if(!this.checkSegments(Q%this.totalFrames))if(this.loop&&!(this.playCount--<=0&&this.loop!==!0))if(this.setCurrentRawFrameValue(this.totalFrames+Q%this.totalFrames),!this._completedLoop)this._completedLoop=!0;else this.trigger("loopComplete");else E=!0,Q=0}else this.setCurrentRawFrameValue(Q);if(E)this.setCurrentRawFrameValue(Q),this.pause(),this.trigger("complete")},AnimationItem.prototype.adjustSegment=function(A,Q){if(this.playCount=0,A[1]<A[0]){if(this.frameModifier>0)if(this.playSpeed<0)this.setSpeed(-this.playSpeed);else this.setDirection(-1);this.totalFrames=A[0]-A[1],this.timeCompleted=this.totalFrames,this.firstFrame=A[1],this.setCurrentRawFrameValue(this.totalFrames-0.001-Q)}else if(A[1]>A[0]){if(this.frameModifier<0)if(this.playSpeed<0)this.setSpeed(-this.playSpeed);else this.setDirection(1);this.totalFrames=A[1]-A[0],this.timeCompleted=this.totalFrames,this.firstFrame=A[0],this.setCurrentRawFrameValue(0.001+Q)}this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(A,Q){var E=-1;if(this.isPaused){if(this.currentRawFrame+this.firstFrame<A)E=A;else if(this.currentRawFrame+this.firstFrame>Q)E=Q-A}if(this.firstFrame=A,this.totalFrames=Q-A,this.timeCompleted=this.totalFrames,E!==-1)this.goToAndStop(E,!0)},AnimationItem.prototype.playSegments=function(A,Q){if(Q)this.segments.length=0;if(typeof A[0]==="object"){var E,B=A.length;for(E=0;E<B;E+=1)this.segments.push(A[E])}else this.segments.push(A);if(this.segments.length&&Q)this.adjustSegment(this.segments.shift(),0);if(this.isPaused)this.play()},AnimationItem.prototype.resetSegments=function(A){if(this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),A)this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(A){if(this.segments.length)return this.adjustSegment(this.segments.shift(),A),!0;return!1},AnimationItem.prototype.destroy=function(A){if(A&&this.name!==A||!this.renderer)return;this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null},AnimationItem.prototype.setCurrentRawFrameValue=function(A){this.currentRawFrame=A,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(A){this.playSpeed=A,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(A){this.playDirection=A<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(A,Q){if(Q&&this.name!==Q)return;this.audioController.setVolume(A)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(A){if(A&&this.name!==A)return;this.audioController.mute()},AnimationItem.prototype.unmute=function(A){if(A&&this.name!==A)return;this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(A){var Q="";if(A.e)Q=A.p;else if(this.assetsPath){var E=A.p;if(E.indexOf("images/")!==-1)E=E.split("/")[1];Q=this.assetsPath+E}else Q=this.path,Q+=A.u?A.u:"",Q+=A.p;return Q},AnimationItem.prototype.getAssetData=function(A){var Q=0,E=this.assets.length;while(Q<E){if(A===this.assets[Q].id)return this.assets[Q];Q+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(A){return A?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(A,Q,E){try{var B=this.renderer.getElementByPath(A);B.updateDocumentData(Q,E)}catch(I){}},AnimationItem.prototype.trigger=function(A){if(this._cbs&&this._cbs[A])switch(A){case"enterFrame":this.triggerEvent(A,new BMEnterFrameEvent(A,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(A,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(A,new BMCompleteLoopEvent(A,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(A,new BMCompleteEvent(A,this.frameMult));break;case"segmentStart":this.triggerEvent(A,new BMSegmentStartEvent(A,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(A,new BMDestroyEvent(A,this));break;default:this.triggerEvent(A)}if(A==="enterFrame"&&this.onEnterFrame)this.onEnterFrame.call(this,new BMEnterFrameEvent(A,this.currentFrame,this.totalFrames,this.frameMult));if(A==="loopComplete"&&this.onLoopComplete)this.onLoopComplete.call(this,new BMCompleteLoopEvent(A,this.loop,this.playCount,this.frameMult));if(A==="complete"&&this.onComplete)this.onComplete.call(this,new BMCompleteEvent(A,this.frameMult));if(A==="segmentStart"&&this.onSegmentStart)this.onSegmentStart.call(this,new BMSegmentStartEvent(A,this.firstFrame,this.totalFrames));if(A==="destroy"&&this.onDestroy)this.onDestroy.call(this,new BMDestroyEvent(A,this))},AnimationItem.prototype.triggerRenderFrameError=function(A){var Q=new BMRenderFrameErrorEvent(A,this.currentFrame);if(this.triggerEvent("error",Q),this.onError)this.onError.call(this,Q)},AnimationItem.prototype.triggerConfigError=function(A){var Q=new BMConfigErrorEvent(A,this.currentFrame);if(this.triggerEvent("error",Q),this.onError)this.onError.call(this,Q)};const animationManager=function(){var A={},Q=[],E=0,B=0,I=0,K=!0,J=!1;function C(j){var v=0,_=j.target;while(v<B){if(Q[v].animation===_){if(Q.splice(v,1),v-=1,B-=1,!_.isPaused)R()}v+=1}}function U(j,v){if(!j)return null;var _=0;while(_<B){if(Q[_].elem===j&&Q[_].elem!==null)return Q[_].animation;_+=1}var g=new AnimationItem;return G(g,j),g.setData(j,v),g}function Y(){var j,v=Q.length,_=[];for(j=0;j<v;j+=1)_.push(Q[j].animation);return _}function H(){I+=1,V()}function R(){I-=1}function G(j,v){j.addEventListener("destroy",C),j.addEventListener("_active",H),j.addEventListener("_idle",R),Q.push({elem:v,animation:j}),B+=1}function O(j){var v=new AnimationItem;return G(v,null),v.setParams(j),v}function F(j,v){var _;for(_=0;_<B;_+=1)Q[_].animation.setSpeed(j,v)}function q(j,v){var _;for(_=0;_<B;_+=1)Q[_].animation.setDirection(j,v)}function W(j){var v;for(v=0;v<B;v+=1)Q[v].animation.play(j)}function Z(j){var v=j-E,_;for(_=0;_<B;_+=1)Q[_].animation.advanceTime(v);if(E=j,I&&!J)window.requestAnimationFrame(Z);else K=!0}function $(j){E=j,window.requestAnimationFrame(Z)}function X(j){var v;for(v=0;v<B;v+=1)Q[v].animation.pause(j)}function N(j,v,_){var g;for(g=0;g<B;g+=1)Q[g].animation.goToAndStop(j,v,_)}function M(j){var v;for(v=0;v<B;v+=1)Q[v].animation.stop(j)}function L(j){var v;for(v=0;v<B;v+=1)Q[v].animation.togglePause(j)}function D(j){var v;for(v=B-1;v>=0;v-=1)Q[v].animation.destroy(j)}function w(j,v,_){var g=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),b,p=g.length;for(b=0;b<p;b+=1){if(_)g[b].setAttribute("data-bm-type",_);U(g[b],j)}if(v&&p===0){if(!_)_="svg";var m=document.getElementsByTagName("body")[0];m.innerText="";var o=createTag("div");o.style.width="100%",o.style.height="100%",o.setAttribute("data-bm-type",_),m.appendChild(o),U(o,j)}}function P(){var j;for(j=0;j<B;j+=1)Q[j].animation.resize()}function V(){if(!J&&I){if(K)window.requestAnimationFrame($),K=!1}}function T(){J=!0}function S(){J=!1,V()}function h(j,v){var _;for(_=0;_<B;_+=1)Q[_].animation.setVolume(j,v)}function x(j){var v;for(v=0;v<B;v+=1)Q[v].animation.mute(j)}function y(j){var v;for(v=0;v<B;v+=1)Q[v].animation.unmute(j)}return A.registerAnimation=U,A.loadAnimation=O,A.setSpeed=F,A.setDirection=q,A.play=W,A.pause=X,A.stop=M,A.togglePause=L,A.searchAnimations=w,A.resize=P,A.goToAndStop=N,A.destroy=D,A.freeze=T,A.unfreeze=S,A.setVolume=h,A.mute=x,A.unmute=y,A.getRegisteredAnimations=Y,A}(),BezierFactory=function(){var A={};A.getBezierEasing=E;var Q={};function E($,X,N,M,L){var D=L||("bez_"+$+"_"+X+"_"+N+"_"+M).replace(/\./g,"p");if(Q[D])return Q[D];var w=new Z([$,X,N,M]);return Q[D]=w,w}var B=4,I=0.001,K=0.0000001,J=10,C=11,U=1/(C-1),Y=typeof Float32Array==="function";function H($,X){return 1-3*X+3*$}function R($,X){return 3*X-6*$}function G($){return 3*$}function O($,X,N){return((H(X,N)*$+R(X,N))*$+G(X))*$}function F($,X,N){return 3*H(X,N)*$*$+2*R(X,N)*$+G(X)}function q($,X,N,M,L){var D,w,P=0;do if(w=X+(N-X)/2,D=O(w,M,L)-$,D>0)N=w;else X=w;while(Math.abs(D)>K&&++P<J);return w}function W($,X,N,M){for(var L=0;L<B;++L){var D=F(X,N,M);if(D===0)return X;var w=O(X,N,M)-$;X-=w/D}return X}function Z($){this._p=$,this._mSampleValues=Y?new Float32Array(C):new Array(C),this._precomputed=!1,this.get=this.get.bind(this)}return Z.prototype={get:function($){var X=this._p[0],N=this._p[1],M=this._p[2],L=this._p[3];if(!this._precomputed)this._precompute();if(X===N&&M===L)return $;if($===0)return 0;if($===1)return 1;return O(this._getTForX($),N,L)},_precompute:function(){var $=this._p[0],X=this._p[1],N=this._p[2],M=this._p[3];if(this._precomputed=!0,$!==X||N!==M)this._calcSampleValues()},_calcSampleValues:function(){var $=this._p[0],X=this._p[2];for(var N=0;N<C;++N)this._mSampleValues[N]=O(N*U,$,X)},_getTForX:function($){var X=this._p[0],N=this._p[2],M=this._mSampleValues,L=0,D=1,w=C-1;for(;D!==w&&M[D]<=$;++D)L+=U;--D;var P=($-M[D])/(M[D+1]-M[D]),V=L+P*U,T=F(V,X,N);if(T>=I)return W($,V,X,N);if(T===0)return V;return q($,L,L+U,X,N)}},A}(),pooling=function(){function A(Q){return Q.concat(createSizedArray(Q.length))}return{double:A}}(),poolFactory=function(){return function(A,Q,E){var B=0,I=A,K=createSizedArray(I),J={newElement:C,release:U};function C(){var Y;if(B)B-=1,Y=K[B];else Y=Q();return Y}function U(Y){if(B===I)K=pooling.double(K),I*=2;if(E)E(Y);K[B]=Y,B+=1}return J}}(),bezierLengthPool=function(){function A(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,A)}(),segmentsLengthPool=function(){function A(){return{lengths:[],totalLength:0}}function Q(E){var B,I=E.lengths.length;for(B=0;B<I;B+=1)bezierLengthPool.release(E.lengths[B]);E.lengths.length=0}return poolFactory(8,A,Q)}(),bez=bezFunction(),PropertyFactory=function(){var A=initialDefaultFrame,Q=Math.abs;function E(W,Z){var $=this.offsetTime,X;if(this.propType==="multidimensional")X=createTypedArray("float32",this.pv.length);var N=Z.lastIndex,M=N,L=this.keyframes.length-1,D=!0,w,P,V;while(D){if(w=this.keyframes[M],P=this.keyframes[M+1],M===L-1&&W>=P.t-$){if(w.h)w=P;N=0;break}if(P.t-$>W){N=M;break}if(M<L-1)M+=1;else N=0,D=!1}V=this.keyframesMetadata[M]||{};var T,S,h,x,y,j,v=P.t-$,_=w.t-$,g;if(w.to){if(!V.bezierData)V.bezierData=bez.buildBezierData(w.s,P.s||w.e,w.to,w.ti);var b=V.bezierData;if(W>=v||W<_){var p=W>=v?b.points.length-1:0;S=b.points[p].point.length;for(T=0;T<S;T+=1)X[T]=b.points[p].point[T]}else{if(V.__fnct)j=V.__fnct;else j=BezierFactory.getBezierEasing(w.o.x,w.o.y,w.i.x,w.i.y,w.n).get,V.__fnct=j;h=j((W-_)/(v-_));var m=b.segmentLength*h,o,AA=Z.lastFrame<W&&Z._lastKeyframeIndex===M?Z._lastAddedLength:0;y=Z.lastFrame<W&&Z._lastKeyframeIndex===M?Z._lastPoint:0,D=!0,x=b.points.length;while(D){if(AA+=b.points[y].partialLength,m===0||h===0||y===b.points.length-1){S=b.points[y].point.length;for(T=0;T<S;T+=1)X[T]=b.points[y].point[T];break}else if(m>=AA&&m<AA+b.points[y+1].partialLength){o=(m-AA)/b.points[y+1].partialLength,S=b.points[y].point.length;for(T=0;T<S;T+=1)X[T]=b.points[y].point[T]+(b.points[y+1].point[T]-b.points[y].point[T])*o;break}if(y<x-1)y+=1;else D=!1}Z._lastPoint=y,Z._lastAddedLength=AA-b.points[y].partialLength,Z._lastKeyframeIndex=M}}else{var s,t,r,EA,JA;if(L=w.s.length,g=P.s||w.e,this.sh&&w.h!==1)if(W>=v)X[0]=g[0],X[1]=g[1],X[2]=g[2];else if(W<=_)X[0]=w.s[0],X[1]=w.s[1],X[2]=w.s[2];else{var YA=K(w.s),IA=K(g),l=(W-_)/(v-_);I(X,B(YA,IA,l))}else for(M=0;M<L;M+=1){if(w.h!==1)if(W>=v)h=1;else if(W<_)h=0;else{if(w.o.x.constructor===Array){if(!V.__fnct)V.__fnct=[];if(!V.__fnct[M])s=w.o.x[M]===void 0?w.o.x[0]:w.o.x[M],t=w.o.y[M]===void 0?w.o.y[0]:w.o.y[M],r=w.i.x[M]===void 0?w.i.x[0]:w.i.x[M],EA=w.i.y[M]===void 0?w.i.y[0]:w.i.y[M],j=BezierFactory.getBezierEasing(s,t,r,EA).get,V.__fnct[M]=j;else j=V.__fnct[M]}else if(!V.__fnct)s=w.o.x,t=w.o.y,r=w.i.x,EA=w.i.y,j=BezierFactory.getBezierEasing(s,t,r,EA).get,w.keyframeMetadata=j;else j=V.__fnct;h=j((W-_)/(v-_))}if(g=P.s||w.e,JA=w.h===1?w.s[M]:w.s[M]+(g[M]-w.s[M])*h,this.propType==="multidimensional")X[M]=JA;else X=JA}}return Z.lastIndex=N,X}function B(W,Z,$){var X=[],N=W[0],M=W[1],L=W[2],D=W[3],w=Z[0],P=Z[1],V=Z[2],T=Z[3],S,h,x,y,j;if(h=N*w+M*P+L*V+D*T,h<0)h=-h,w=-w,P=-P,V=-V,T=-T;if(1-h>0.000001)S=Math.acos(h),x=Math.sin(S),y=Math.sin((1-$)*S)/x,j=Math.sin($*S)/x;else y=1-$,j=$;return X[0]=y*N+j*w,X[1]=y*M+j*P,X[2]=y*L+j*V,X[3]=y*D+j*T,X}function I(W,Z){var $=Z[0],X=Z[1],N=Z[2],M=Z[3],L=Math.atan2(2*X*M-2*$*N,1-2*X*X-2*N*N),D=Math.asin(2*$*X+2*N*M),w=Math.atan2(2*$*M-2*X*N,1-2*$*$-2*N*N);W[0]=L/degToRads,W[1]=D/degToRads,W[2]=w/degToRads}function K(W){var Z=W[0]*degToRads,$=W[1]*degToRads,X=W[2]*degToRads,N=Math.cos(Z/2),M=Math.cos($/2),L=Math.cos(X/2),D=Math.sin(Z/2),w=Math.sin($/2),P=Math.sin(X/2),V=N*M*L-D*w*P,T=D*w*L+N*M*P,S=D*M*L+N*w*P,h=N*w*L-D*M*P;return[T,S,h,V]}function J(){var W=this.comp.renderedFrame-this.offsetTime,Z=this.keyframes[0].t-this.offsetTime,$=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(W===this._caching.lastFrame||this._caching.lastFrame!==A&&(this._caching.lastFrame>=$&&W>=$||this._caching.lastFrame<Z&&W<Z))){if(this._caching.lastFrame>=W)this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0;var X=this.interpolateValue(W,this._caching);this.pv=X}return this._caching.lastFrame=W,this.pv}function C(W){var Z;if(this.propType==="unidimensional"){if(Z=W*this.mult,Q(this.v-Z)>0.00001)this.v=Z,this._mdf=!0}else{var $=0,X=this.v.length;while($<X){if(Z=W[$]*this.mult,Q(this.v[$]-Z)>0.00001)this.v[$]=Z,this._mdf=!0;$+=1}}}function U(){if(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)return;if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var W,Z=this.effectsSequence.length,$=this.kf?this.pv:this.data.k;for(W=0;W<Z;W+=1)$=this.effectsSequence[W]($);this.setVValue($),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}function Y(W){this.effectsSequence.push(W),this.container.addDynamicProperty(this)}function H(W,Z,$,X){this.propType="unidimensional",this.mult=$||1,this.data=Z,this.v=$?Z.k*$:Z.k,this.pv=Z.k,this._mdf=!1,this.elem=W,this.container=X,this.comp=W.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=U,this.setVValue=C,this.addEffect=Y}function R(W,Z,$,X){this.propType="multidimensional",this.mult=$||1,this.data=Z,this._mdf=!1,this.elem=W,this.container=X,this.comp=W.comp,this.k=!1,this.kf=!1,this.frameId=-1;var N,M=Z.k.length;this.v=createTypedArray("float32",M),this.pv=createTypedArray("float32",M),this.vel=createTypedArray("float32",M);for(N=0;N<M;N+=1)this.v[N]=Z.k[N]*this.mult,this.pv[N]=Z.k[N];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=U,this.setVValue=C,this.addEffect=Y}function G(W,Z,$,X){this.propType="unidimensional",this.keyframes=Z.k,this.keyframesMetadata=[],this.offsetTime=W.data.st,this.frameId=-1,this._caching={lastFrame:A,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=Z,this.mult=$||1,this.elem=W,this.container=X,this.comp=W.comp,this.v=A,this.pv=A,this._isFirstFrame=!0,this.getValue=U,this.setVValue=C,this.interpolateValue=E,this.effectsSequence=[J.bind(this)],this.addEffect=Y}function O(W,Z,$,X){this.propType="multidimensional";var N,M=Z.k.length,L,D,w,P;for(N=0;N<M-1;N+=1)if(Z.k[N].to&&Z.k[N].s&&Z.k[N+1]&&Z.k[N+1].s){if(L=Z.k[N].s,D=Z.k[N+1].s,w=Z.k[N].to,P=Z.k[N].ti,L.length===2&&!(L[0]===D[0]&&L[1]===D[1])&&bez.pointOnLine2D(L[0],L[1],D[0],D[1],L[0]+w[0],L[1]+w[1])&&bez.pointOnLine2D(L[0],L[1],D[0],D[1],D[0]+P[0],D[1]+P[1])||L.length===3&&!(L[0]===D[0]&&L[1]===D[1]&&L[2]===D[2])&&bez.pointOnLine3D(L[0],L[1],L[2],D[0],D[1],D[2],L[0]+w[0],L[1]+w[1],L[2]+w[2])&&bez.pointOnLine3D(L[0],L[1],L[2],D[0],D[1],D[2],D[0]+P[0],D[1]+P[1],D[2]+P[2]))Z.k[N].to=null,Z.k[N].ti=null;if(L[0]===D[0]&&L[1]===D[1]&&w[0]===0&&w[1]===0&&P[0]===0&&P[1]===0){if(L.length===2||L[2]===D[2]&&w[2]===0&&P[2]===0)Z.k[N].to=null,Z.k[N].ti=null}}this.effectsSequence=[J.bind(this)],this.data=Z,this.keyframes=Z.k,this.keyframesMetadata=[],this.offsetTime=W.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=$||1,this.elem=W,this.container=X,this.comp=W.comp,this.getValue=U,this.setVValue=C,this.interpolateValue=E,this.frameId=-1;var V=Z.k[0].s.length;this.v=createTypedArray("float32",V),this.pv=createTypedArray("float32",V);for(N=0;N<V;N+=1)this.v[N]=A,this.pv[N]=A;this._caching={lastFrame:A,lastIndex:0,value:createTypedArray("float32",V)},this.addEffect=Y}function F(W,Z,$,X,N){var M;if(!Z.k.length)M=new H(W,Z,X,N);else if(typeof Z.k[0]==="number")M=new R(W,Z,X,N);else switch($){case 0:M=new G(W,Z,X,N);break;case 1:M=new O(W,Z,X,N);break;default:break}if(M.effectsSequence.length)N.addDynamicProperty(M);return M}var q={getProp:F};return q}();DynamicPropertyContainer.prototype={addDynamicProperty:function(A){if(this.dynamicProperties.indexOf(A)===-1)this.dynamicProperties.push(A),this.container.addDynamicProperty(this),this._isAnimated=!0},iterateDynamicProperties:function(){this._mdf=!1;var A,Q=this.dynamicProperties.length;for(A=0;A<Q;A+=1)if(this.dynamicProperties[A].getValue(),this.dynamicProperties[A]._mdf)this._mdf=!0},initDynamicPropertyContainer:function(A){this.container=A,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};const pointPool=function(){function A(){return createTypedArray("float32",2)}return poolFactory(8,A)}();ShapePath.prototype.setPathData=function(A,Q){this.c=A,this.setLength(Q);var E=0;while(E<Q)this.v[E]=pointPool.newElement(),this.o[E]=pointPool.newElement(),this.i[E]=pointPool.newElement(),E+=1},ShapePath.prototype.setLength=function(A){while(this._maxLength<A)this.doubleArrayLength();this._length=A},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(A,Q,E,B,I){var K;if(this._length=Math.max(this._length,B+1),this._length>=this._maxLength)this.doubleArrayLength();switch(E){case"v":K=this.v;break;case"i":K=this.i;break;case"o":K=this.o;break;default:K=[];break}if(!K[B]||K[B]&&!I)K[B]=pointPool.newElement();K[B][0]=A,K[B][1]=Q},ShapePath.prototype.setTripleAt=function(A,Q,E,B,I,K,J,C){this.setXYAt(A,Q,"v",J,C),this.setXYAt(E,B,"o",J,C),this.setXYAt(I,K,"i",J,C)},ShapePath.prototype.reverse=function(){var A=new ShapePath;A.setPathData(this.c,this._length);var Q=this.v,E=this.o,B=this.i,I=0;if(this.c)A.setTripleAt(Q[0][0],Q[0][1],B[0][0],B[0][1],E[0][0],E[0][1],0,!1),I=1;var K=this._length-1,J=this._length,C;for(C=I;C<J;C+=1)A.setTripleAt(Q[K][0],Q[K][1],B[K][0],B[K][1],E[K][0],E[K][1],C,!1),K-=1;return A};const shapePool=function(){function A(){return new ShapePath}function Q(I){var K=I._length,J;for(J=0;J<K;J+=1)pointPool.release(I.v[J]),pointPool.release(I.i[J]),pointPool.release(I.o[J]),I.v[J]=null,I.i[J]=null,I.o[J]=null;I._length=0,I.c=!1}function E(I){var K=B.newElement(),J,C=I._length===void 0?I.v.length:I._length;K.setLength(C),K.c=I.c;for(J=0;J<C;J+=1)K.setTripleAt(I.v[J][0],I.v[J][1],I.o[J][0],I.o[J][1],I.i[J][0],I.i[J][1],J);return K}var B=poolFactory(4,A,Q);return B.clone=E,B}();ShapeCollection.prototype.addShape=function(A){if(this._length===this._maxLength)this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2;this.shapes[this._length]=A,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var A;for(A=0;A<this._length;A+=1)shapePool.release(this.shapes[A]);this._length=0};const shapeCollectionPool=function(){var A={newShapeCollection:I,release:K},Q=0,E=4,B=createSizedArray(E);function I(){var J;if(Q)Q-=1,J=B[Q];else J=new ShapeCollection;return J}function K(J){var C,U=J._length;for(C=0;C<U;C+=1)shapePool.release(J.shapes[C]);if(J._length=0,Q===E)B=pooling.double(B),E*=2;B[Q]=J,Q+=1}return A}(),ShapePropertyFactory=function(){var A=-999999;function Q(Z,$,X){var N=X.lastIndex,M,L,D,w,P,V,T,S,h,x=this.keyframes;if(Z<x[0].t-this.offsetTime)M=x[0].s[0],D=!0,N=0;else if(Z>=x[x.length-1].t-this.offsetTime)M=x[x.length-1].s?x[x.length-1].s[0]:x[x.length-2].e[0],D=!0;else{var y=N,j=x.length-1,v=!0,_,g,b;while(v){if(_=x[y],g=x[y+1],g.t-this.offsetTime>Z)break;if(y<j-1)y+=1;else v=!1}if(b=this.keyframesMetadata[y]||{},D=_.h===1,N=y,!D){if(Z>=g.t-this.offsetTime)S=1;else if(Z<_.t-this.offsetTime)S=0;else{var p;if(b.__fnct)p=b.__fnct;else p=BezierFactory.getBezierEasing(_.o.x,_.o.y,_.i.x,_.i.y).get,b.__fnct=p;S=p((Z-(_.t-this.offsetTime))/(g.t-this.offsetTime-(_.t-this.offsetTime)))}L=g.s?g.s[0]:_.e[0]}M=_.s[0]}V=$._length,T=M.i[0].length,X.lastIndex=N;for(w=0;w<V;w+=1)for(P=0;P<T;P+=1)h=D?M.i[w][P]:M.i[w][P]+(L.i[w][P]-M.i[w][P])*S,$.i[w][P]=h,h=D?M.o[w][P]:M.o[w][P]+(L.o[w][P]-M.o[w][P])*S,$.o[w][P]=h,h=D?M.v[w][P]:M.v[w][P]+(L.v[w][P]-M.v[w][P])*S,$.v[w][P]=h}function E(){var Z=this.comp.renderedFrame-this.offsetTime,$=this.keyframes[0].t-this.offsetTime,X=this.keyframes[this.keyframes.length-1].t-this.offsetTime,N=this._caching.lastFrame;if(!(N!==A&&(N<$&&Z<$||N>X&&Z>X)))this._caching.lastIndex=N<Z?this._caching.lastIndex:0,this.interpolateShape(Z,this.pv,this._caching);return this._caching.lastFrame=Z,this.pv}function B(){this.paths=this.localShapeCollection}function I(Z,$){if(Z._length!==$._length||Z.c!==$.c)return!1;var X,N=Z._length;for(X=0;X<N;X+=1)if(Z.v[X][0]!==$.v[X][0]||Z.v[X][1]!==$.v[X][1]||Z.o[X][0]!==$.o[X][0]||Z.o[X][1]!==$.o[X][1]||Z.i[X][0]!==$.i[X][0]||Z.i[X][1]!==$.i[X][1])return!1;return!0}function K(Z){if(!I(this.v,Z))this.v=shapePool.clone(Z),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection}function J(){if(this.elem.globalData.frameId===this.frameId)return;if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var Z;if(this.kf)Z=this.pv;else if(this.data.ks)Z=this.data.ks.k;else Z=this.data.pt.k;var $,X=this.effectsSequence.length;for($=0;$<X;$+=1)Z=this.effectsSequence[$](Z);this.setVValue(Z),this.lock=!1,this.frameId=this.elem.globalData.frameId}function C(Z,$,X){this.propType="shape",this.comp=Z.comp,this.container=Z,this.elem=Z,this.data=$,this.k=!1,this.kf=!1,this._mdf=!1;var N=X===3?$.pt.k:$.ks.k;this.v=shapePool.clone(N),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=B,this.effectsSequence=[]}function U(Z){this.effectsSequence.push(Z),this.container.addDynamicProperty(this)}C.prototype.interpolateShape=Q,C.prototype.getValue=J,C.prototype.setVValue=K,C.prototype.addEffect=U;function Y(Z,$,X){this.propType="shape",this.comp=Z.comp,this.elem=Z,this.container=Z,this.offsetTime=Z.data.st,this.keyframes=X===3?$.pt.k:$.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var N=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,N),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=A,this.reset=B,this._caching={lastFrame:A,lastIndex:0},this.effectsSequence=[E.bind(this)]}Y.prototype.getValue=J,Y.prototype.interpolateShape=Q,Y.prototype.setVValue=K,Y.prototype.addEffect=U;var H=function(){var Z=roundCorner;function $(X,N){if(this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=N.d,this.elem=X,this.comp=X.comp,this.frameId=-1,this.initDynamicPropertyContainer(X),this.p=PropertyFactory.getProp(X,N.p,1,0,this),this.s=PropertyFactory.getProp(X,N.s,1,0,this),this.dynamicProperties.length)this.k=!0;else this.k=!1,this.convertEllToPath()}return $.prototype={reset:B,getValue:function(){if(this.elem.globalData.frameId===this.frameId)return;if(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf)this.convertEllToPath()},convertEllToPath:function(){var X=this.p.v[0],N=this.p.v[1],M=this.s.v[0]/2,L=this.s.v[1]/2,D=this.d!==3,w=this.v;w.v[0][0]=X,w.v[0][1]=N-L,w.v[1][0]=D?X+M:X-M,w.v[1][1]=N,w.v[2][0]=X,w.v[2][1]=N+L,w.v[3][0]=D?X-M:X+M,w.v[3][1]=N,w.i[0][0]=D?X-M*Z:X+M*Z,w.i[0][1]=N-L,w.i[1][0]=D?X+M:X-M,w.i[1][1]=N-L*Z,w.i[2][0]=D?X+M*Z:X-M*Z,w.i[2][1]=N+L,w.i[3][0]=D?X-M:X+M,w.i[3][1]=N+L*Z,w.o[0][0]=D?X+M*Z:X-M*Z,w.o[0][1]=N-L,w.o[1][0]=D?X+M:X-M,w.o[1][1]=N+L*Z,w.o[2][0]=D?X-M*Z:X+M*Z,w.o[2][1]=N+L,w.o[3][0]=D?X-M:X+M,w.o[3][1]=N-L*Z}},extendPrototype([DynamicPropertyContainer],$),$}(),R=function(){function Z($,X){if(this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=$,this.comp=$.comp,this.data=X,this.frameId=-1,this.d=X.d,this.initDynamicPropertyContainer($),X.sy===1)this.ir=PropertyFactory.getProp($,X.ir,0,0,this),this.is=PropertyFactory.getProp($,X.is,0,0.01,this),this.convertToPath=this.convertStarToPath;else this.convertToPath=this.convertPolygonToPath;if(this.pt=PropertyFactory.getProp($,X.pt,0,0,this),this.p=PropertyFactory.getProp($,X.p,1,0,this),this.r=PropertyFactory.getProp($,X.r,0,degToRads,this),this.or=PropertyFactory.getProp($,X.or,0,0,this),this.os=PropertyFactory.getProp($,X.os,0,0.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length)this.k=!0;else this.k=!1,this.convertToPath()}return Z.prototype={reset:B,getValue:function(){if(this.elem.globalData.frameId===this.frameId)return;if(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf)this.convertToPath()},convertStarToPath:function(){var $=Math.floor(this.pt.v)*2,X=Math.PI*2/$,N=!0,M=this.or.v,L=this.ir.v,D=this.os.v,w=this.is.v,P=2*Math.PI*M/($*2),V=2*Math.PI*L/($*2),T,S,h,x,y=-Math.PI/2;y+=this.r.v;var j=this.data.d===3?-1:1;this.v._length=0;for(T=0;T<$;T+=1){S=N?M:L,h=N?D:w,x=N?P:V;var v=S*Math.cos(y),_=S*Math.sin(y),g=v===0&&_===0?0:_/Math.sqrt(v*v+_*_),b=v===0&&_===0?0:-v/Math.sqrt(v*v+_*_);v+=+this.p.v[0],_+=+this.p.v[1],this.v.setTripleAt(v,_,v-g*x*h*j,_-b*x*h*j,v+g*x*h*j,_+b*x*h*j,T,!0),N=!N,y+=X*j}},convertPolygonToPath:function(){var $=Math.floor(this.pt.v),X=Math.PI*2/$,N=this.or.v,M=this.os.v,L=2*Math.PI*N/($*4),D,w=-Math.PI*0.5,P=this.data.d===3?-1:1;w+=this.r.v,this.v._length=0;for(D=0;D<$;D+=1){var V=N*Math.cos(w),T=N*Math.sin(w),S=V===0&&T===0?0:T/Math.sqrt(V*V+T*T),h=V===0&&T===0?0:-V/Math.sqrt(V*V+T*T);V+=+this.p.v[0],T+=+this.p.v[1],this.v.setTripleAt(V,T,V-S*L*M*P,T-h*L*M*P,V+S*L*M*P,T+h*L*M*P,D,!0),w+=X*P}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],Z),Z}(),G=function(){function Z($,X){if(this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=$,this.comp=$.comp,this.frameId=-1,this.d=X.d,this.initDynamicPropertyContainer($),this.p=PropertyFactory.getProp($,X.p,1,0,this),this.s=PropertyFactory.getProp($,X.s,1,0,this),this.r=PropertyFactory.getProp($,X.r,0,0,this),this.dynamicProperties.length)this.k=!0;else this.k=!1,this.convertRectToPath()}return Z.prototype={convertRectToPath:function(){var $=this.p.v[0],X=this.p.v[1],N=this.s.v[0]/2,M=this.s.v[1]/2,L=bmMin(N,M,this.r.v),D=L*(1-roundCorner);if(this.v._length=0,this.d===2||this.d===1)if(this.v.setTripleAt($+N,X-M+L,$+N,X-M+L,$+N,X-M+D,0,!0),this.v.setTripleAt($+N,X+M-L,$+N,X+M-D,$+N,X+M-L,1,!0),L!==0)this.v.setTripleAt($+N-L,X+M,$+N-L,X+M,$+N-D,X+M,2,!0),this.v.setTripleAt($-N+L,X+M,$-N+D,X+M,$-N+L,X+M,3,!0),this.v.setTripleAt($-N,X+M-L,$-N,X+M-L,$-N,X+M-D,4,!0),this.v.setTripleAt($-N,X-M+L,$-N,X-M+D,$-N,X-M+L,5,!0),this.v.setTripleAt($-N+L,X-M,$-N+L,X-M,$-N+D,X-M,6,!0),this.v.setTripleAt($+N-L,X-M,$+N-D,X-M,$+N-L,X-M,7,!0);else this.v.setTripleAt($-N,X+M,$-N+D,X+M,$-N,X+M,2),this.v.setTripleAt($-N,X-M,$-N,X-M+D,$-N,X-M,3);else if(this.v.setTripleAt($+N,X-M+L,$+N,X-M+D,$+N,X-M+L,0,!0),L!==0)this.v.setTripleAt($+N-L,X-M,$+N-L,X-M,$+N-D,X-M,1,!0),this.v.setTripleAt($-N+L,X-M,$-N+D,X-M,$-N+L,X-M,2,!0),this.v.setTripleAt($-N,X-M+L,$-N,X-M+L,$-N,X-M+D,3,!0),this.v.setTripleAt($-N,X+M-L,$-N,X+M-D,$-N,X+M-L,4,!0),this.v.setTripleAt($-N+L,X+M,$-N+L,X+M,$-N+D,X+M,5,!0),this.v.setTripleAt($+N-L,X+M,$+N-D,X+M,$+N-L,X+M,6,!0),this.v.setTripleAt($+N,X+M-L,$+N,X+M-L,$+N,X+M-D,7,!0);else this.v.setTripleAt($-N,X-M,$-N+D,X-M,$-N,X-M,1,!0),this.v.setTripleAt($-N,X+M,$-N,X+M-D,$-N,X+M,2,!0),this.v.setTripleAt($+N,X+M,$+N-D,X+M,$+N,X+M,3,!0)},getValue:function(){if(this.elem.globalData.frameId===this.frameId)return;if(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf)this.convertRectToPath()},reset:B},extendPrototype([DynamicPropertyContainer],Z),Z}();function O(Z,$,X){var N;if(X===3||X===4){var M=X===3?$.pt:$.ks,L=M.k;if(L.length)N=new Y(Z,$,X);else N=new C(Z,$,X)}else if(X===5)N=new G(Z,$);else if(X===6)N=new H(Z,$);else if(X===7)N=new R(Z,$);if(N.k)Z.addDynamicProperty(N);return N}function F(){return C}function q(){return Y}var W={};return W.getShapeProp=O,W.getConstructorFunction=F,W.getKeyframedConstructorFunction=q,W}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */const Matrix=function(){var{cos:A,sin:Q,tan:E,round:B}=Math;function I(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function K(v){if(v===0)return this;var _=A(v),g=Q(v);return this._t(_,-g,0,0,g,_,0,0,0,0,1,0,0,0,0,1)}function J(v){if(v===0)return this;var _=A(v),g=Q(v);return this._t(1,0,0,0,0,_,-g,0,0,g,_,0,0,0,0,1)}function C(v){if(v===0)return this;var _=A(v),g=Q(v);return this._t(_,0,g,0,0,1,0,0,-g,0,_,0,0,0,0,1)}function U(v){if(v===0)return this;var _=A(v),g=Q(v);return this._t(_,-g,0,0,g,_,0,0,0,0,1,0,0,0,0,1)}function Y(v,_){return this._t(1,_,v,1,0,0)}function H(v,_){return this.shear(E(v),E(_))}function R(v,_){var g=A(_),b=Q(_);return this._t(g,b,0,0,-b,g,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,E(v),1,0,0,0,0,1,0,0,0,0,1)._t(g,-b,0,0,b,g,0,0,0,0,1,0,0,0,0,1)}function G(v,_,g){if(!g&&g!==0)g=1;if(v===1&&_===1&&g===1)return this;return this._t(v,0,0,0,0,_,0,0,0,0,g,0,0,0,0,1)}function O(v,_,g,b,p,m,o,AA,s,t,r,EA,JA,YA,IA,l){return this.props[0]=v,this.props[1]=_,this.props[2]=g,this.props[3]=b,this.props[4]=p,this.props[5]=m,this.props[6]=o,this.props[7]=AA,this.props[8]=s,this.props[9]=t,this.props[10]=r,this.props[11]=EA,this.props[12]=JA,this.props[13]=YA,this.props[14]=IA,this.props[15]=l,this}function F(v,_,g){if(g=g||0,v!==0||_!==0||g!==0)return this._t(1,0,0,0,0,1,0,0,0,0,1,0,v,_,g,1);return this}function q(v,_,g,b,p,m,o,AA,s,t,r,EA,JA,YA,IA,l){var UA=this.props;if(v===1&&_===0&&g===0&&b===0&&p===0&&m===1&&o===0&&AA===0&&s===0&&t===0&&r===1&&EA===0)return UA[12]=UA[12]*v+UA[15]*JA,UA[13]=UA[13]*m+UA[15]*YA,UA[14]=UA[14]*r+UA[15]*IA,UA[15]*=l,this._identityCalculated=!1,this;var BA=UA[0],n=UA[1],i=UA[2],KA=UA[3],$A=UA[4],FA=UA[5],e=UA[6],c=UA[7],HA=UA[8],XA=UA[9],CA=UA[10],GA=UA[11],uA=UA[12],z=UA[13],k=UA[14],u=UA[15];return UA[0]=BA*v+n*p+i*s+KA*JA,UA[1]=BA*_+n*m+i*t+KA*YA,UA[2]=BA*g+n*o+i*r+KA*IA,UA[3]=BA*b+n*AA+i*EA+KA*l,UA[4]=$A*v+FA*p+e*s+c*JA,UA[5]=$A*_+FA*m+e*t+c*YA,UA[6]=$A*g+FA*o+e*r+c*IA,UA[7]=$A*b+FA*AA+e*EA+c*l,UA[8]=HA*v+XA*p+CA*s+GA*JA,UA[9]=HA*_+XA*m+CA*t+GA*YA,UA[10]=HA*g+XA*o+CA*r+GA*IA,UA[11]=HA*b+XA*AA+CA*EA+GA*l,UA[12]=uA*v+z*p+k*s+u*JA,UA[13]=uA*_+z*m+k*t+u*YA,UA[14]=uA*g+z*o+k*r+u*IA,UA[15]=uA*b+z*AA+k*EA+u*l,this._identityCalculated=!1,this}function W(){if(!this._identityCalculated)this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0;return this._identity}function Z(v){var _=0;while(_<16){if(v.props[_]!==this.props[_])return!1;_+=1}return!0}function $(v){var _;for(_=0;_<16;_+=1)v.props[_]=this.props[_];return v}function X(v){var _;for(_=0;_<16;_+=1)this.props[_]=v[_]}function N(v,_,g){return{x:v*this.props[0]+_*this.props[4]+g*this.props[8]+this.props[12],y:v*this.props[1]+_*this.props[5]+g*this.props[9]+this.props[13],z:v*this.props[2]+_*this.props[6]+g*this.props[10]+this.props[14]}}function M(v,_,g){return v*this.props[0]+_*this.props[4]+g*this.props[8]+this.props[12]}function L(v,_,g){return v*this.props[1]+_*this.props[5]+g*this.props[9]+this.props[13]}function D(v,_,g){return v*this.props[2]+_*this.props[6]+g*this.props[10]+this.props[14]}function w(){var v=this.props[0]*this.props[5]-this.props[1]*this.props[4],_=this.props[5]/v,g=-this.props[1]/v,b=-this.props[4]/v,p=this.props[0]/v,m=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/v,o=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/v,AA=new Matrix;return AA.props[0]=_,AA.props[1]=g,AA.props[4]=b,AA.props[5]=p,AA.props[12]=m,AA.props[13]=o,AA}function P(v){var _=this.getInverseMatrix();return _.applyToPointArray(v[0],v[1],v[2]||0)}function V(v){var _,g=v.length,b=[];for(_=0;_<g;_+=1)b[_]=P(v[_]);return b}function T(v,_,g){var b=createTypedArray("float32",6);if(this.isIdentity())b[0]=v[0],b[1]=v[1],b[2]=_[0],b[3]=_[1],b[4]=g[0],b[5]=g[1];else{var p=this.props[0],m=this.props[1],o=this.props[4],AA=this.props[5],s=this.props[12],t=this.props[13];b[0]=v[0]*p+v[1]*o+s,b[1]=v[0]*m+v[1]*AA+t,b[2]=_[0]*p+_[1]*o+s,b[3]=_[0]*m+_[1]*AA+t,b[4]=g[0]*p+g[1]*o+s,b[5]=g[0]*m+g[1]*AA+t}return b}function S(v,_,g){var b;if(this.isIdentity())b=[v,_,g];else b=[v*this.props[0]+_*this.props[4]+g*this.props[8]+this.props[12],v*this.props[1]+_*this.props[5]+g*this.props[9]+this.props[13],v*this.props[2]+_*this.props[6]+g*this.props[10]+this.props[14]];return b}function h(v,_){if(this.isIdentity())return v+","+_;var g=this.props;return Math.round((v*g[0]+_*g[4]+g[12])*100)/100+","+Math.round((v*g[1]+_*g[5]+g[13])*100)/100}function x(){var v=0,_=this.props,g="matrix3d(",b=1e4;while(v<16)g+=B(_[v]*b)/b,g+=v===15?")":",",v+=1;return g}function y(v){var _=1e4;if(v<0.000001&&v>0||v>-0.000001&&v<0)return B(v*_)/_;return v}function j(){var v=this.props,_=y(v[0]),g=y(v[1]),b=y(v[4]),p=y(v[5]),m=y(v[12]),o=y(v[13]);return"matrix("+_+","+g+","+b+","+p+","+m+","+o+")"}return function(){this.reset=I,this.rotate=K,this.rotateX=J,this.rotateY=C,this.rotateZ=U,this.skew=H,this.skewFromAxis=R,this.shear=Y,this.scale=G,this.setTransform=O,this.translate=F,this.transform=q,this.applyToPoint=N,this.applyToX=M,this.applyToY=L,this.applyToZ=D,this.applyToPointArray=S,this.applyToTriplePoints=T,this.applyToPointStringified=h,this.toCSS=x,this.to2dCSS=j,this.clone=$,this.cloneFromProps=X,this.equals=Z,this.inversePoints=V,this.inversePoint=P,this.getInverseMatrix=w,this._t=this.transform,this.isIdentity=W,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();if(standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="",BQ.play=animationManager.play,BQ.pause=animationManager.pause,BQ.setLocationHref=setLocation,BQ.togglePause=animationManager.togglePause,BQ.setSpeed=animationManager.setSpeed,BQ.setDirection=animationManager.setDirection,BQ.stop=animationManager.stop,BQ.searchAnimations=searchAnimations,BQ.registerAnimation=animationManager.registerAnimation,BQ.loadAnimation=loadAnimation,BQ.setSubframeRendering=setSubframeRendering,BQ.resize=animationManager.resize,BQ.goToAndStop=animationManager.goToAndStop,BQ.destroy=animationManager.destroy,BQ.setQuality=setQuality,BQ.inBrowser=inBrowser,BQ.installPlugin=installPlugin,BQ.freeze=animationManager.freeze,BQ.unfreeze=animationManager.unfreeze,BQ.setVolume=animationManager.setVolume,BQ.mute=animationManager.mute,BQ.unmute=animationManager.unmute,BQ.getRegisteredAnimations=animationManager.getRegisteredAnimations,BQ.useWebWorker=setWebWorker,BQ.setIDPrefix=setPrefix,BQ.__getFactory=getFactory,BQ.version="[[BM_VERSION]]",queryString="",standalone)F$=document.getElementsByTagName("script"),fz=F$.length-1,q$=F$[fz]||{src:""},queryString=q$.src?q$.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer");readyStateCheckInterval=setInterval(checkReady,100);try{if(!(typeof uz==="object"&&typeof zi!=="undefined")&&!(typeof define==="function"&&define.amd))window.bodymovin=BQ}catch(A){}const ShapeModifiers=function(){var A={},Q={};A.registerModifier=E,A.getModifier=B;function E(I,K){if(!Q[I])Q[I]=K}function B(I,K,J){return new Q[I](K,J)}return A}();ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(A){if(!this.closed){A.sh.container.addDynamicProperty(A.sh);var Q={shape:A.sh,data:A,localShapeCollection:shapeCollectionPool.newShapeCollection()};if(this.shapes.push(Q),this.addShapeToModifier(Q),this._isAnimated)A.setAsAnimated()}},ShapeModifier.prototype.init=function(A,Q){if(this.shapes=[],this.elem=A,this.initDynamicPropertyContainer(A),this.initModifierProperties(A,Q),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length)this.k=!0;else this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){if(this.elem.globalData.frameId===this.frameId)return;this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties()},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(A,Q){this.s=PropertyFactory.getProp(A,Q.s,0,0.01,this),this.e=PropertyFactory.getProp(A,Q.e,0,0.01,this),this.o=PropertyFactory.getProp(A,Q.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=Q.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(A){A.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(A,Q,E,B,I){var K=[];if(Q<=1)K.push({s:A,e:Q});else if(A>=1)K.push({s:A-1,e:Q-1});else K.push({s:A,e:1}),K.push({s:0,e:Q-1});var J=[],C,U=K.length,Y;for(C=0;C<U;C+=1)if(Y=K[C],!(Y.e*I<B||Y.s*I>B+E)){var H,R;if(Y.s*I<=B)H=0;else H=(Y.s*I-B)/E;if(Y.e*I>=B+E)R=1;else R=(Y.e*I-B)/E;J.push([H,R])}if(!J.length)J.push([0,0]);return J},TrimModifier.prototype.releasePathsData=function(A){var Q,E=A.length;for(Q=0;Q<E;Q+=1)segmentsLengthPool.release(A[Q]);return A.length=0,A},TrimModifier.prototype.processShapes=function(A){var Q,E;if(this._mdf||A){var B=this.o.v%360/360;if(B<0)B+=1;if(this.s.v>1)Q=1+B;else if(this.s.v<0)Q=0+B;else Q=this.s.v+B;if(this.e.v>1)E=1+B;else if(this.e.v<0)E=0+B;else E=this.e.v+B;if(Q>E){var I=Q;Q=E,E=I}Q=Math.round(Q*1e4)*0.0001,E=Math.round(E*1e4)*0.0001,this.sValue=Q,this.eValue=E}else Q=this.sValue,E=this.eValue;var K,J,C=this.shapes.length,U,Y,H,R,G,O=0;if(E===Q){for(J=0;J<C;J+=1)if(this.shapes[J].localShapeCollection.releaseShapes(),this.shapes[J].shape._mdf=!0,this.shapes[J].shape.paths=this.shapes[J].localShapeCollection,this._mdf)this.shapes[J].pathsData.length=0}else if(!(E===1&&Q===0||E===0&&Q===1)){var F=[],q,W;for(J=0;J<C;J+=1)if(q=this.shapes[J],!q.shape._mdf&&!this._mdf&&!A&&this.m!==2)q.shape.paths=q.localShapeCollection;else{if(K=q.shape.paths,Y=K._length,G=0,!q.shape._mdf&&q.pathsData.length)G=q.totalShapeLength;else{H=this.releasePathsData(q.pathsData);for(U=0;U<Y;U+=1)R=bez.getSegmentsLength(K.shapes[U]),H.push(R),G+=R.totalLength;q.totalShapeLength=G,q.pathsData=H}O+=G,q.shape._mdf=!0}var Z=Q,$=E,X=0,N;for(J=C-1;J>=0;J-=1)if(q=this.shapes[J],q.shape._mdf){if(W=q.localShapeCollection,W.releaseShapes(),this.m===2&&C>1)N=this.calculateShapeEdges(Q,E,q.totalShapeLength,X,O),X+=q.totalShapeLength;else N=[[Z,$]];Y=N.length;for(U=0;U<Y;U+=1){if(Z=N[U][0],$=N[U][1],F.length=0,$<=1)F.push({s:q.totalShapeLength*Z,e:q.totalShapeLength*$});else if(Z>=1)F.push({s:q.totalShapeLength*(Z-1),e:q.totalShapeLength*($-1)});else F.push({s:q.totalShapeLength*Z,e:q.totalShapeLength}),F.push({s:0,e:q.totalShapeLength*($-1)});var M=this.addShapes(q,F[0]);if(F[0].s!==F[0].e){if(F.length>1){var L=q.shape.paths.shapes[q.shape.paths._length-1];if(L.c){var D=M.pop();this.addPaths(M,W),M=this.addShapes(q,F[1],D)}else this.addPaths(M,W),M=this.addShapes(q,F[1])}this.addPaths(M,W)}}q.shape.paths=W}}else if(this._mdf)for(J=0;J<C;J+=1)this.shapes[J].pathsData.length=0,this.shapes[J].shape._mdf=!0},TrimModifier.prototype.addPaths=function(A,Q){var E,B=A.length;for(E=0;E<B;E+=1)Q.addShape(A[E])},TrimModifier.prototype.addSegment=function(A,Q,E,B,I,K,J){if(I.setXYAt(Q[0],Q[1],"o",K),I.setXYAt(E[0],E[1],"i",K+1),J)I.setXYAt(A[0],A[1],"v",K);I.setXYAt(B[0],B[1],"v",K+1)},TrimModifier.prototype.addSegmentFromArray=function(A,Q,E,B){if(Q.setXYAt(A[1],A[5],"o",E),Q.setXYAt(A[2],A[6],"i",E+1),B)Q.setXYAt(A[0],A[4],"v",E);Q.setXYAt(A[3],A[7],"v",E+1)},TrimModifier.prototype.addShapes=function(A,Q,E){var B=A.pathsData,I=A.shape.paths.shapes,K,J=A.shape.paths._length,C,U,Y=0,H,R,G,O,F=[],q,W=!0;if(!E)E=shapePool.newElement(),R=0,q=0;else R=E._length,q=E._length;F.push(E);for(K=0;K<J;K+=1){G=B[K].lengths,E.c=I[K].c,U=I[K].c?G.length:G.length+1;for(C=1;C<U;C+=1)if(H=G[C-1],Y+H.addedLength<Q.s)Y+=H.addedLength,E.c=!1;else if(Y>Q.e){E.c=!1;break}else{if(Q.s<=Y&&Q.e>=Y+H.addedLength)this.addSegment(I[K].v[C-1],I[K].o[C-1],I[K].i[C],I[K].v[C],E,R,W),W=!1;else O=bez.getNewSegment(I[K].v[C-1],I[K].v[C],I[K].o[C-1],I[K].i[C],(Q.s-Y)/H.addedLength,(Q.e-Y)/H.addedLength,G[C-1]),this.addSegmentFromArray(O,E,R,W),W=!1,E.c=!1;Y+=H.addedLength,R+=1}if(I[K].c&&G.length){if(H=G[C-1],Y<=Q.e){var Z=G[C-1].addedLength;if(Q.s<=Y&&Q.e>=Y+Z)this.addSegment(I[K].v[C-1],I[K].o[C-1],I[K].i[0],I[K].v[0],E,R,W),W=!1;else O=bez.getNewSegment(I[K].v[C-1],I[K].v[0],I[K].o[C-1],I[K].i[0],(Q.s-Y)/Z,(Q.e-Y)/Z,G[C-1]),this.addSegmentFromArray(O,E,R,W),W=!1,E.c=!1}else E.c=!1;Y+=H.addedLength,R+=1}if(E._length)E.setXYAt(E.v[q][0],E.v[q][1],"i",q),E.setXYAt(E.v[E._length-1][0],E.v[E._length-1][1],"o",E._length-1);if(Y>Q.e)break;if(K<J-1)E=shapePool.newElement(),W=!0,F.push(E),R=0}return F},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(A,Q){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(A,Q.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(A,Q){var E=Q/100,B=[0,0],I=A._length,K=0;for(K=0;K<I;K+=1)B[0]+=A.v[K][0],B[1]+=A.v[K][1];B[0]/=I,B[1]/=I;var J=shapePool.newElement();J.c=A.c;var C,U,Y,H,R,G;for(K=0;K<I;K+=1)C=A.v[K][0]+(B[0]-A.v[K][0])*E,U=A.v[K][1]+(B[1]-A.v[K][1])*E,Y=A.o[K][0]+(B[0]-A.o[K][0])*-E,H=A.o[K][1]+(B[1]-A.o[K][1])*-E,R=A.i[K][0]+(B[0]-A.i[K][0])*-E,G=A.i[K][1]+(B[1]-A.i[K][1])*-E,J.setTripleAt(C,U,Y,H,R,G,K);return J},PuckerAndBloatModifier.prototype.processShapes=function(A){var Q,E,B=this.shapes.length,I,K,J=this.amount.v;if(J!==0){var C,U;for(E=0;E<B;E+=1){if(C=this.shapes[E],U=C.localShapeCollection,!(!C.shape._mdf&&!this._mdf&&!A)){U.releaseShapes(),C.shape._mdf=!0,Q=C.shape.paths.shapes,K=C.shape.paths._length;for(I=0;I<K;I+=1)U.addShape(this.processPath(Q[I],J))}C.shape.paths=C.localShapeCollection}}if(!this.dynamicProperties.length)this._mdf=!1};const TransformPropertyFactory=function(){var A=[0,0];function Q(U){var Y=this._mdf;if(this.iterateDynamicProperties(),this._mdf=this._mdf||Y,this.a)U.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]);if(this.s)U.scale(this.s.v[0],this.s.v[1],this.s.v[2]);if(this.sk)U.skewFromAxis(-this.sk.v,this.sa.v);if(this.r)U.rotate(-this.r.v);else U.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);if(this.data.p.s)if(this.data.p.z)U.translate(this.px.v,this.py.v,-this.pz.v);else U.translate(this.px.v,this.py.v,0);else U.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function E(U){if(this.elem.globalData.frameId===this.frameId)return;if(this._isDirty)this.precalculateMatrix(),this._isDirty=!1;if(this.iterateDynamicProperties(),this._mdf||U){var Y;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1)this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]);if(this.appliedTransformations<2)this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]);if(this.sk&&this.appliedTransformations<3)this.v.skewFromAxis(-this.sk.v,this.sa.v);if(this.r&&this.appliedTransformations<4)this.v.rotate(-this.r.v);else if(!this.r&&this.appliedTransformations<4)this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);if(this.autoOriented){var H,R;if(Y=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)if(this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t)H=this.p.getValueAtTime((this.p.keyframes[0].t+0.01)/Y,0),R=this.p.getValueAtTime(this.p.keyframes[0].t/Y,0);else if(this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t)H=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/Y,0),R=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-0.05)/Y,0);else H=this.p.pv,R=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-0.01)/Y,this.p.offsetTime);else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){H=[],R=[];var G=this.px,O=this.py;if(G._caching.lastFrame+G.offsetTime<=G.keyframes[0].t)H[0]=G.getValueAtTime((G.keyframes[0].t+0.01)/Y,0),H[1]=O.getValueAtTime((O.keyframes[0].t+0.01)/Y,0),R[0]=G.getValueAtTime(G.keyframes[0].t/Y,0),R[1]=O.getValueAtTime(O.keyframes[0].t/Y,0);else if(G._caching.lastFrame+G.offsetTime>=G.keyframes[G.keyframes.length-1].t)H[0]=G.getValueAtTime(G.keyframes[G.keyframes.length-1].t/Y,0),H[1]=O.getValueAtTime(O.keyframes[O.keyframes.length-1].t/Y,0),R[0]=G.getValueAtTime((G.keyframes[G.keyframes.length-1].t-0.01)/Y,0),R[1]=O.getValueAtTime((O.keyframes[O.keyframes.length-1].t-0.01)/Y,0);else H=[G.pv,O.pv],R[0]=G.getValueAtTime((G._caching.lastFrame+G.offsetTime-0.01)/Y,G.offsetTime),R[1]=O.getValueAtTime((O._caching.lastFrame+O.offsetTime-0.01)/Y,O.offsetTime)}else R=A,H=R;this.v.rotate(-Math.atan2(H[1]-R[1],H[0]-R[0]))}if(this.data.p&&this.data.p.s)if(this.data.p.z)this.v.translate(this.px.v,this.py.v,-this.pz.v);else this.v.translate(this.px.v,this.py.v,0);else this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}function B(){if(!this.a.k)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;if(this.r){if(!this.r.effectsSequence.length)this.pre.rotate(-this.r.v),this.appliedTransformations=4}else if(!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length)this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4}function I(){}function K(U){this._addDynamicProperty(U),this.elem.addDynamicProperty(U),this._isDirty=!0}function J(U,Y,H){if(this.elem=U,this.frameId=-1,this.propType="transform",this.data=Y,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(H||U),Y.p&&Y.p.s){if(this.px=PropertyFactory.getProp(U,Y.p.x,0,0,this),this.py=PropertyFactory.getProp(U,Y.p.y,0,0,this),Y.p.z)this.pz=PropertyFactory.getProp(U,Y.p.z,0,0,this)}else this.p=PropertyFactory.getProp(U,Y.p||{k:[0,0,0]},1,0,this);if(Y.rx){if(this.rx=PropertyFactory.getProp(U,Y.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(U,Y.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(U,Y.rz,0,degToRads,this),Y.or.k[0].ti){var R,G=Y.or.k.length;for(R=0;R<G;R+=1)Y.or.k[R].to=null,Y.or.k[R].ti=null}this.or=PropertyFactory.getProp(U,Y.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(U,Y.r||{k:0},0,degToRads,this);if(Y.sk)this.sk=PropertyFactory.getProp(U,Y.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(U,Y.sa,0,degToRads,this);if(this.a=PropertyFactory.getProp(U,Y.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(U,Y.s||{k:[100,100,100]},1,0.01,this),Y.o)this.o=PropertyFactory.getProp(U,Y.o,0,0.01,U);else this.o={_mdf:!1,v:1};if(this._isDirty=!0,!this.dynamicProperties.length)this.getValue(!0)}J.prototype={applyToMatrix:Q,getValue:E,precalculateMatrix:B,autoOrient:I},extendPrototype([DynamicPropertyContainer],J),J.prototype.addDynamicProperty=K,J.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function C(U,Y,H){return new J(U,Y,H)}return{getTransformProperty:C}}();extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(A,Q){if(this.getValue=this.processKeys,this.c=PropertyFactory.getProp(A,Q.c,0,null,this),this.o=PropertyFactory.getProp(A,Q.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(A,Q.tr,this),this.so=PropertyFactory.getProp(A,Q.tr.so,0,0.01,this),this.eo=PropertyFactory.getProp(A,Q.tr.eo,0,0.01,this),this.data=Q,!this.dynamicProperties.length)this.getValue(!0);this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(A,Q,E,B,I,K){var J=K?-1:1,C=B.s.v[0]+(1-B.s.v[0])*(1-I),U=B.s.v[1]+(1-B.s.v[1])*(1-I);A.translate(B.p.v[0]*J*I,B.p.v[1]*J*I,B.p.v[2]),Q.translate(-B.a.v[0],-B.a.v[1],B.a.v[2]),Q.rotate(-B.r.v*J*I),Q.translate(B.a.v[0],B.a.v[1],B.a.v[2]),E.translate(-B.a.v[0],-B.a.v[1],B.a.v[2]),E.scale(K?1/C:C,K?1/U:U),E.translate(B.a.v[0],B.a.v[1],B.a.v[2])},RepeaterModifier.prototype.init=function(A,Q,E,B){this.elem=A,this.arr=Q,this.pos=E,this.elemsData=B,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(A),this.initModifierProperties(A,Q[E]);while(E>0)E-=1,this._elements.unshift(Q[E]);if(this.dynamicProperties.length)this.k=!0;else this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(A){var Q,E=A.length;for(Q=0;Q<E;Q+=1)if(A[Q]._processed=!1,A[Q].ty==="gr")this.resetElements(A[Q].it)},RepeaterModifier.prototype.cloneElements=function(A){var Q=JSON.parse(JSON.stringify(A));return this.resetElements(Q),Q},RepeaterModifier.prototype.changeGroupRender=function(A,Q){var E,B=A.length;for(E=0;E<B;E+=1)if(A[E]._render=Q,A[E].ty==="gr")this.changeGroupRender(A[E].it,Q)},RepeaterModifier.prototype.processShapes=function(A){var Q,E,B,I,K,J=!1;if(this._mdf||A){var C=Math.ceil(this.c.v);if(this._groups.length<C){while(this._groups.length<C){var U={it:this.cloneElements(this._elements),ty:"gr"};U.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,U),this._groups.splice(0,0,U),this._currentCopies+=1}this.elem.reloadShapes(),J=!0}K=0;var Y;for(B=0;B<=this._groups.length-1;B+=1){if(Y=K<C,this._groups[B]._render=Y,this.changeGroupRender(this._groups[B].it,Y),!Y){var H=this.elemsData[B].it,R=H[H.length-1];if(R.transform.op.v!==0)R.transform.op._mdf=!0,R.transform.op.v=0;else R.transform.op._mdf=!1}K+=1}this._currentCopies=C;var G=this.o.v,O=G%1,F=G>0?Math.floor(G):Math.ceil(G),q=this.pMatrix.props,W=this.rMatrix.props,Z=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var $=0;if(G>0){while($<F)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),$+=1;if(O)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,O,!1),$+=O}else if(G<0){while($>F)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),$-=1;if(O)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-O,!0),$-=O}B=this.data.m===1?0:this._currentCopies-1,I=this.data.m===1?1:-1,K=this._currentCopies;var X,N;while(K){if(Q=this.elemsData[B].it,E=Q[Q.length-1].transform.mProps.v.props,N=E.length,Q[Q.length-1].transform.mProps._mdf=!0,Q[Q.length-1].transform.op._mdf=!0,Q[Q.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(B/(this._currentCopies-1)),$!==0){if(B!==0&&I===1||B!==this._currentCopies-1&&I===-1)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1);this.matrix.transform(W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],W[8],W[9],W[10],W[11],W[12],W[13],W[14],W[15]),this.matrix.transform(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5],Z[6],Z[7],Z[8],Z[9],Z[10],Z[11],Z[12],Z[13],Z[14],Z[15]),this.matrix.transform(q[0],q[1],q[2],q[3],q[4],q[5],q[6],q[7],q[8],q[9],q[10],q[11],q[12],q[13],q[14],q[15]);for(X=0;X<N;X+=1)E[X]=this.matrix.props[X];this.matrix.reset()}else{this.matrix.reset();for(X=0;X<N;X+=1)E[X]=this.matrix.props[X]}$+=1,K-=1,B+=I}}else{K=this._currentCopies,B=0,I=1;while(K)Q=this.elemsData[B].it,E=Q[Q.length-1].transform.mProps.v.props,Q[Q.length-1].transform.mProps._mdf=!1,Q[Q.length-1].transform.op._mdf=!1,K-=1,B+=I}return J},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(A,Q){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(A,Q.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(A,Q){var E=shapePool.newElement();E.c=A.c;var B,I=A._length,K,J,C,U,Y,H,R=0,G,O,F,q,W,Z;for(B=0;B<I;B+=1)if(K=A.v[B],C=A.o[B],J=A.i[B],K[0]===C[0]&&K[1]===C[1]&&K[0]===J[0]&&K[1]===J[1])if((B===0||B===I-1)&&!A.c)E.setTripleAt(K[0],K[1],C[0],C[1],J[0],J[1],R),R+=1;else{if(B===0)U=A.v[I-1];else U=A.v[B-1];if(Y=Math.sqrt(Math.pow(K[0]-U[0],2)+Math.pow(K[1]-U[1],2)),H=Y?Math.min(Y/2,Q)/Y:0,W=K[0]+(U[0]-K[0])*H,G=W,Z=K[1]-(K[1]-U[1])*H,O=Z,F=G-(G-K[0])*roundCorner,q=O-(O-K[1])*roundCorner,E.setTripleAt(G,O,F,q,W,Z,R),R+=1,B===I-1)U=A.v[0];else U=A.v[B+1];Y=Math.sqrt(Math.pow(K[0]-U[0],2)+Math.pow(K[1]-U[1],2)),H=Y?Math.min(Y/2,Q)/Y:0,F=K[0]+(U[0]-K[0])*H,G=F,q=K[1]+(U[1]-K[1])*H,O=q,W=G-(G-K[0])*roundCorner,Z=O-(O-K[1])*roundCorner,E.setTripleAt(G,O,F,q,W,Z,R),R+=1}else E.setTripleAt(A.v[B][0],A.v[B][1],A.o[B][0],A.o[B][1],A.i[B][0],A.i[B][1],R),R+=1;return E},RoundCornersModifier.prototype.processShapes=function(A){var Q,E,B=this.shapes.length,I,K,J=this.rd.v;if(J!==0){var C,U;for(E=0;E<B;E+=1){if(C=this.shapes[E],U=C.localShapeCollection,!(!C.shape._mdf&&!this._mdf&&!A)){U.releaseShapes(),C.shape._mdf=!0,Q=C.shape.paths.shapes,K=C.shape.paths._length;for(I=0;I<K;I+=1)U.addShape(this.processPath(Q[I],J))}C.shape.paths=C.localShapeCollection}}if(!this.dynamicProperties.length)this._mdf=!1};const FontManager=function(){var A=5000,Q={w:0,size:0,shapes:[],data:{shapes:[]}},E=[];E=E.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var B=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],I=[65039,8205];function K(N){var M=N.split(","),L,D=M.length,w=[];for(L=0;L<D;L+=1)if(M[L]!=="sans-serif"&&M[L]!=="monospace")w.push(M[L]);return w.join(",")}function J(N,M){var L=createTag("span");L.setAttribute("aria-hidden",!0),L.style.fontFamily=M;var D=createTag("span");D.innerText="giItT1WQy@!-/#",L.style.position="absolute",L.style.left="-10000px",L.style.top="-10000px",L.style.fontSize="300px",L.style.fontVariant="normal",L.style.fontStyle="normal",L.style.fontWeight="normal",L.style.letterSpacing="0",L.appendChild(D),document.body.appendChild(L);var w=D.offsetWidth;return D.style.fontFamily=K(N)+", "+M,{node:D,w,parent:L}}function C(){var N,M=this.fonts.length,L,D,w=M;for(N=0;N<M;N+=1)if(this.fonts[N].loaded)w-=1;else if(this.fonts[N].fOrigin==="n"||this.fonts[N].origin===0)this.fonts[N].loaded=!0;else{if(L=this.fonts[N].monoCase.node,D=this.fonts[N].monoCase.w,L.offsetWidth!==D)w-=1,this.fonts[N].loaded=!0;else if(L=this.fonts[N].sansCase.node,D=this.fonts[N].sansCase.w,L.offsetWidth!==D)w-=1,this.fonts[N].loaded=!0;if(this.fonts[N].loaded)this.fonts[N].sansCase.parent.parentNode.removeChild(this.fonts[N].sansCase.parent),this.fonts[N].monoCase.parent.parentNode.removeChild(this.fonts[N].monoCase.parent)}if(w!==0&&Date.now()-this.initTime<A)setTimeout(this.checkLoadedFontsBinded,20);else setTimeout(this.setIsLoadedBinded,10)}function U(N,M){var L=document.body&&M?"svg":"canvas",D,w=getFontProperties(N);if(L==="svg"){var P=createNS("text");if(P.style.fontSize="100px",P.setAttribute("font-family",N.fFamily),P.setAttribute("font-style",w.style),P.setAttribute("font-weight",w.weight),P.textContent="1",N.fClass)P.style.fontFamily="inherit",P.setAttribute("class",N.fClass);else P.style.fontFamily=N.fFamily;M.appendChild(P),D=P}else{var V=new OffscreenCanvas(500,500).getContext("2d");V.font=w.style+" "+w.weight+" 100px "+N.fFamily,D=V}function T(S){if(L==="svg")return D.textContent=S,D.getComputedTextLength();return D.measureText(S).width}return{measureText:T}}function Y(N,M){if(!N){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=N.list;return}if(!document.body){this.isLoaded=!0,N.list.forEach((j)=>{j.helper=U(j),j.cache={}}),this.fonts=N.list;return}var L=N.list,D,w=L.length,P=w;for(D=0;D<w;D+=1){var V=!0,T,S;if(L[D].loaded=!1,L[D].monoCase=J(L[D].fFamily,"monospace"),L[D].sansCase=J(L[D].fFamily,"sans-serif"),!L[D].fPath)L[D].loaded=!0,P-=1;else if(L[D].fOrigin==="p"||L[D].origin===3){if(T=document.querySelectorAll('style[f-forigin="p"][f-family="'+L[D].fFamily+'"], style[f-origin="3"][f-family="'+L[D].fFamily+'"]'),T.length>0)V=!1;if(V){var h=createTag("style");h.setAttribute("f-forigin",L[D].fOrigin),h.setAttribute("f-origin",L[D].origin),h.setAttribute("f-family",L[D].fFamily),h.type="text/css",h.innerText="@font-face {font-family: "+L[D].fFamily+"; font-style: normal; src: url('"+L[D].fPath+"');}",M.appendChild(h)}}else if(L[D].fOrigin==="g"||L[D].origin===1){T=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]');for(S=0;S<T.length;S+=1)if(T[S].href.indexOf(L[D].fPath)!==-1)V=!1;if(V){var x=createTag("link");x.setAttribute("f-forigin",L[D].fOrigin),x.setAttribute("f-origin",L[D].origin),x.type="text/css",x.rel="stylesheet",x.href=L[D].fPath,document.body.appendChild(x)}}else if(L[D].fOrigin==="t"||L[D].origin===2){T=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]');for(S=0;S<T.length;S+=1)if(L[D].fPath===T[S].src)V=!1;if(V){var y=createTag("link");y.setAttribute("f-forigin",L[D].fOrigin),y.setAttribute("f-origin",L[D].origin),y.setAttribute("rel","stylesheet"),y.setAttribute("href",L[D].fPath),M.appendChild(y)}}L[D].helper=U(L[D],M),L[D].cache={},this.fonts.push(L[D])}if(P===0)this.isLoaded=!0;else setTimeout(this.checkLoadedFonts.bind(this),100)}function H(N){if(!N)return;if(!this.chars)this.chars=[];var M,L=N.length,D,w=this.chars.length,P;for(M=0;M<L;M+=1){D=0,P=!1;while(D<w){if(this.chars[D].style===N[M].style&&this.chars[D].fFamily===N[M].fFamily&&this.chars[D].ch===N[M].ch)P=!0;D+=1}if(!P)this.chars.push(N[M]),w+=1}}function R(N,M,L){var D=0,w=this.chars.length;while(D<w){if(this.chars[D].ch===N&&this.chars[D].style===M&&this.chars[D].fFamily===L)return this.chars[D];D+=1}if((typeof N==="string"&&N.charCodeAt(0)!==13||!N)&&console&&console.warn&&!this._warned)this._warned=!0,console.warn("Missing character from exported characters list: ",N,M,L);return Q}function G(N,M,L){var D=this.getFontByName(M),w=N.charCodeAt(0);if(!D.cache[w+1]){var P=D.helper;if(N===" "){var V=P.measureText("|"+N+"|"),T=P.measureText("||");D.cache[w+1]=(V-T)/100}else D.cache[w+1]=P.measureText(N)/100}return D.cache[w+1]*L}function O(N){var M=0,L=this.fonts.length;while(M<L){if(this.fonts[M].fName===N)return this.fonts[M];M+=1}return this.fonts[0]}function F(N,M){var L=N.toString(16)+M.toString(16);return B.indexOf(L)!==-1}function q(N,M){if(!M)return N===I[1];return N===I[0]&&M===I[1]}function W(N){return E.indexOf(N)!==-1}function Z(){this.isLoaded=!0}var $=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};$.isModifier=F,$.isZeroWidthJoiner=q,$.isCombinedCharacter=W;var X={addChars:H,addFonts:Y,getCharData:R,getFontByName:O,measureText:G,checkLoadedFonts:C,setIsLoaded:Z};return $.prototype=X,$}();RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(A){if(this.renderableComponents.indexOf(A)===-1)this.renderableComponents.push(A)},removeRenderableComponent:function(A){if(this.renderableComponents.indexOf(A)!==-1)this.renderableComponents.splice(this.renderableComponents.indexOf(A),1)},prepareRenderableFrame:function(A){this.checkLayerLimits(A)},checkTransparency:function(){if(this.finalTransform.mProp.o.v<=0){if(!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent)this.isTransparent=!0,this.hide()}else if(this.isTransparent)this.isTransparent=!1,this.show()},checkLayerLimits:function(A){if(this.data.ip-this.data.st<=A&&this.data.op-this.data.st>A){if(this.isInRange!==!0)this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()}else if(this.isInRange!==!1)this.globalData._mdf=!0,this.isInRange=!1,this.hide()},renderRenderable:function(){var A,Q=this.renderableComponents.length;for(A=0;A<Q;A+=1)this.renderableComponents[A].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){if(this.data.ty===5)return{w:this.data.textData.width,h:this.data.textData.height};return{w:this.data.width,h:this.data.height}}};const MaskManagerInterface=function(){function A(E,B){this._mask=E,this._data=B}Object.defineProperty(A.prototype,"maskPath",{get:function(){if(this._mask.prop.k)this._mask.prop.getValue();return this._mask.prop}}),Object.defineProperty(A.prototype,"maskOpacity",{get:function(){if(this._mask.op.k)this._mask.op.getValue();return this._mask.op.v*100}});var Q=function(E){var B=createSizedArray(E.viewData.length),I,K=E.viewData.length;for(I=0;I<K;I+=1)B[I]=new A(E.viewData[I],E.masksProperties[I]);var J=function(C){I=0;while(I<K){if(E.masksProperties[I].nm===C)return B[I];I+=1}return null};return J};return Q}(),ExpressionPropertyInterface=function(){var A={pv:0,v:0,mult:1},Q={pv:[0,0,0],v:[0,0,0],mult:1};function E(J,C,U){Object.defineProperty(J,"velocity",{get:function(){return C.getVelocityAtTime(C.comp.currentFrame)}}),J.numKeys=C.keyframes?C.keyframes.length:0,J.key=function(Y){if(!J.numKeys)return 0;var H="";if("s"in C.keyframes[Y-1])H=C.keyframes[Y-1].s;else if("e"in C.keyframes[Y-2])H=C.keyframes[Y-2].e;else H=C.keyframes[Y-2].s;var R=U==="unidimensional"?new Number(H):Object.assign({},H);return R.time=C.keyframes[Y-1].t/C.elem.comp.globalData.frameRate,R.value=U==="unidimensional"?H[0]:H,R},J.valueAtTime=C.getValueAtTime,J.speedAtTime=C.getSpeedAtTime,J.velocityAtTime=C.getVelocityAtTime,J.propertyGroup=C.propertyGroup}function B(J){if(!J||!("pv"in J))J=A;var C=1/J.mult,U=J.pv*C,Y=new Number(U);return Y.value=U,E(Y,J,"unidimensional"),function(){if(J.k)J.getValue();if(U=J.v*C,Y.value!==U)Y=new Number(U),Y.value=U,E(Y,J,"unidimensional");return Y}}function I(J){if(!J||!("pv"in J))J=Q;var C=1/J.mult,U=J.data&&J.data.l||J.pv.length,Y=createTypedArray("float32",U),H=createTypedArray("float32",U);return Y.value=H,E(Y,J,"multidimensional"),function(){if(J.k)J.getValue();for(var R=0;R<U;R+=1)H[R]=J.v[R]*C,Y[R]=H[R];return Y}}function K(){return A}return function(J){if(!J)return K;if(J.propType==="unidimensional")return B(J);return I(J)}}(),TransformExpressionInterface=function(){return function(A){function Q(J){switch(J){case"scale":case"Scale":case"ADBE Scale":case 6:return Q.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return Q.rotation;case"ADBE Rotate X":return Q.xRotation;case"ADBE Rotate Y":return Q.yRotation;case"position":case"Position":case"ADBE Position":case 2:return Q.position;case"ADBE Position_0":return Q.xPosition;case"ADBE Position_1":return Q.yPosition;case"ADBE Position_2":return Q.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return Q.anchorPoint;case"opacity":case"Opacity":case 11:return Q.opacity;default:return null}}Object.defineProperty(Q,"rotation",{get:ExpressionPropertyInterface(A.r||A.rz)}),Object.defineProperty(Q,"zRotation",{get:ExpressionPropertyInterface(A.rz||A.r)}),Object.defineProperty(Q,"xRotation",{get:ExpressionPropertyInterface(A.rx)}),Object.defineProperty(Q,"yRotation",{get:ExpressionPropertyInterface(A.ry)}),Object.defineProperty(Q,"scale",{get:ExpressionPropertyInterface(A.s)});var E,B,I,K;if(A.p)K=ExpressionPropertyInterface(A.p);else if(E=ExpressionPropertyInterface(A.px),B=ExpressionPropertyInterface(A.py),A.pz)I=ExpressionPropertyInterface(A.pz);return Object.defineProperty(Q,"position",{get:function(){if(A.p)return K();return[E(),B(),I?I():0]}}),Object.defineProperty(Q,"xPosition",{get:ExpressionPropertyInterface(A.px)}),Object.defineProperty(Q,"yPosition",{get:ExpressionPropertyInterface(A.py)}),Object.defineProperty(Q,"zPosition",{get:ExpressionPropertyInterface(A.pz)}),Object.defineProperty(Q,"anchorPoint",{get:ExpressionPropertyInterface(A.a)}),Object.defineProperty(Q,"opacity",{get:ExpressionPropertyInterface(A.o)}),Object.defineProperty(Q,"skew",{get:ExpressionPropertyInterface(A.sk)}),Object.defineProperty(Q,"skewAxis",{get:ExpressionPropertyInterface(A.sa)}),Object.defineProperty(Q,"orientation",{get:ExpressionPropertyInterface(A.or)}),Q}}(),LayerExpressionInterface=function(){function A(Y){var H=new Matrix;if(Y!==void 0){var R=this._elem.finalTransform.mProp.getValueAtTime(Y);R.clone(H)}else{var G=this._elem.finalTransform.mProp;G.applyToMatrix(H)}return H}function Q(Y,H){var R=this.getMatrix(H);return R.props[12]=0,R.props[13]=0,R.props[14]=0,this.applyPoint(R,Y)}function E(Y,H){var R=this.getMatrix(H);return this.applyPoint(R,Y)}function B(Y,H){var R=this.getMatrix(H);return R.props[12]=0,R.props[13]=0,R.props[14]=0,this.invertPoint(R,Y)}function I(Y,H){var R=this.getMatrix(H);return this.invertPoint(R,Y)}function K(Y,H){if(this._elem.hierarchy&&this._elem.hierarchy.length){var R,G=this._elem.hierarchy.length;for(R=0;R<G;R+=1)this._elem.hierarchy[R].finalTransform.mProp.applyToMatrix(Y)}return Y.applyToPointArray(H[0],H[1],H[2]||0)}function J(Y,H){if(this._elem.hierarchy&&this._elem.hierarchy.length){var R,G=this._elem.hierarchy.length;for(R=0;R<G;R+=1)this._elem.hierarchy[R].finalTransform.mProp.applyToMatrix(Y)}return Y.inversePoint(H)}function C(Y){var H=new Matrix;if(H.reset(),this._elem.finalTransform.mProp.applyToMatrix(H),this._elem.hierarchy&&this._elem.hierarchy.length){var R,G=this._elem.hierarchy.length;for(R=0;R<G;R+=1)this._elem.hierarchy[R].finalTransform.mProp.applyToMatrix(H);return H.inversePoint(Y)}return H.inversePoint(Y)}function U(){return[1,1,1,1]}return function(Y){var H;function R(q){O.mask=new MaskManagerInterface(q,Y)}function G(q){O.effect=q}function O(q){switch(q){case"ADBE Root Vectors Group":case"Contents":case 2:return O.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return H;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return O.effect;case"ADBE Text Properties":return O.textInterface;default:return null}}O.getMatrix=A,O.invertPoint=J,O.applyPoint=K,O.toWorld=E,O.toWorldVec=Q,O.fromWorld=I,O.fromWorldVec=B,O.toComp=E,O.fromComp=C,O.sampleImage=U,O.sourceRectAtTime=Y.sourceRectAtTime.bind(Y),O._elem=Y,H=TransformExpressionInterface(Y.finalTransform.mProp);var F=getDescriptor(H,"anchorPoint");return Object.defineProperties(O,{hasParent:{get:function(){return Y.hierarchy.length}},parent:{get:function(){return Y.hierarchy[0].layerInterface}},rotation:getDescriptor(H,"rotation"),scale:getDescriptor(H,"scale"),position:getDescriptor(H,"position"),opacity:getDescriptor(H,"opacity"),anchorPoint:F,anchor_point:F,transform:{get:function(){return H}},active:{get:function(){return Y.isInRange}}}),O.startTime=Y.data.st,O.index=Y.data.ind,O.source=Y.data.refId,O.height=Y.data.ty===0?Y.data.h:100,O.width=Y.data.ty===0?Y.data.w:100,O.inPoint=Y.data.ip/Y.comp.globalData.frameRate,O.outPoint=Y.data.op/Y.comp.globalData.frameRate,O._name=Y.data.nm,O.registerMaskInterface=R,O.registerEffectsInterface=G,O}}(),propertyGroupFactory=function(){return function(A,Q){return function(E){if(E=E===void 0?1:E,E<=0)return A;return Q(E-1)}}}(),PropertyInterface=function(){return function(A,Q){var E={_name:A};function B(I){if(I=I===void 0?1:I,I<=0)return E;return Q(I-1)}return B}}(),EffectsExpressionInterface=function(){var A={createEffectsInterface:Q};function Q(I,K){if(I.effectsManager){var J=[],C=I.data.ef,U,Y=I.effectsManager.effectElements.length;for(U=0;U<Y;U+=1)J.push(E(C[U],I.effectsManager.effectElements[U],K,I));var H=I.data.ef||[],R=function(G){U=0,Y=H.length;while(U<Y){if(G===H[U].nm||G===H[U].mn||G===H[U].ix)return J[U];U+=1}return null};return Object.defineProperty(R,"numProperties",{get:function(){return H.length}}),R}return null}function E(I,K,J,C){function U(O){var F=I.ef,q=0,W=F.length;while(q<W){if(O===F[q].nm||O===F[q].mn||O===F[q].ix){if(F[q].ty===5)return H[q];return H[q]()}q+=1}throw new Error}var Y=propertyGroupFactory(U,J),H=[],R,G=I.ef.length;for(R=0;R<G;R+=1)if(I.ef[R].ty===5)H.push(E(I.ef[R],K.effectElements[R],K.effectElements[R].propertyGroup,C));else H.push(B(K.effectElements[R],I.ef[R].ty,C,Y));if(I.mn==="ADBE Color Control")Object.defineProperty(U,"color",{get:function(){return H[0]()}});return Object.defineProperties(U,{numProperties:{get:function(){return I.np}},_name:{value:I.nm},propertyGroup:{value:Y}}),U.enabled=I.en!==0,U.active=U.enabled,U}function B(I,K,J,C){var U=ExpressionPropertyInterface(I.p);function Y(){if(K===10)return J.comp.compInterface(I.p.v);return U()}if(I.p.setGroupProperty)I.p.setGroupProperty(PropertyInterface("",C));return Y}return A}(),CompExpressionInterface=function(){return function(A){function Q(E){var B=0,I=A.layers.length;while(B<I){if(A.layers[B].nm===E||A.layers[B].ind===E)return A.elements[B].layerInterface;B+=1}return null}return Object.defineProperty(Q,"_name",{value:A.data.nm}),Q.layer=Q,Q.pixelAspect=1,Q.height=A.data.h||A.globalData.compSize.h,Q.width=A.data.w||A.globalData.compSize.w,Q.pixelAspect=1,Q.frameDuration=1/A.globalData.frameRate,Q.displayStartTime=0,Q.numLayers=A.layers.length,Q}}(),ShapePathInterface=function(){return function A(Q,E,B){var I=E.sh;function K(C){if(C==="Shape"||C==="shape"||C==="Path"||C==="path"||C==="ADBE Vector Shape"||C===2)return K.path;return null}var J=propertyGroupFactory(K,B);return I.setGroupProperty(PropertyInterface("Path",J)),Object.defineProperties(K,{path:{get:function(){if(I.k)I.getValue();return I}},shape:{get:function(){if(I.k)I.getValue();return I}},_name:{value:Q.nm},ix:{value:Q.ix},propertyIndex:{value:Q.ix},mn:{value:Q.mn},propertyGroup:{value:B}}),K}}(),ShapeExpressionInterface=function(){function A(F,q,W){var Z=[],$,X=F?F.length:0;for($=0;$<X;$+=1)if(F[$].ty==="gr")Z.push(E(F[$],q[$],W));else if(F[$].ty==="fl")Z.push(B(F[$],q[$],W));else if(F[$].ty==="st")Z.push(J(F[$],q[$],W));else if(F[$].ty==="tm")Z.push(C(F[$],q[$],W));else if(F[$].ty==="tr");else if(F[$].ty==="el")Z.push(Y(F[$],q[$],W));else if(F[$].ty==="sr")Z.push(H(F[$],q[$],W));else if(F[$].ty==="sh")Z.push(ShapePathInterface(F[$],q[$],W));else if(F[$].ty==="rc")Z.push(R(F[$],q[$],W));else if(F[$].ty==="rd")Z.push(G(F[$],q[$],W));else if(F[$].ty==="rp")Z.push(O(F[$],q[$],W));else if(F[$].ty==="gf")Z.push(I(F[$],q[$],W));else Z.push(K(F[$],q[$],W));return Z}function Q(F,q,W){var Z,$=function N(M){var L=0,D=Z.length;while(L<D){if(Z[L]._name===M||Z[L].mn===M||Z[L].propertyIndex===M||Z[L].ix===M||Z[L].ind===M)return Z[L];L+=1}if(typeof M==="number")return Z[M-1];return null};$.propertyGroup=propertyGroupFactory($,W),Z=A(F.it,q.it,$.propertyGroup),$.numProperties=Z.length;var X=U(F.it[F.it.length-1],q.it[q.it.length-1],$.propertyGroup);return $.transform=X,$.propertyIndex=F.cix,$._name=F.nm,$}function E(F,q,W){var Z=function N(M){switch(M){case"ADBE Vectors Group":case"Contents":case 2:return Z.content;default:return Z.transform}};Z.propertyGroup=propertyGroupFactory(Z,W);var $=Q(F,q,Z.propertyGroup),X=U(F.it[F.it.length-1],q.it[q.it.length-1],Z.propertyGroup);return Z.content=$,Z.transform=X,Object.defineProperty(Z,"_name",{get:function(){return F.nm}}),Z.numProperties=F.np,Z.propertyIndex=F.ix,Z.nm=F.nm,Z.mn=F.mn,Z}function B(F,q,W){function Z($){if($==="Color"||$==="color")return Z.color;if($==="Opacity"||$==="opacity")return Z.opacity;return null}return Object.defineProperties(Z,{color:{get:ExpressionPropertyInterface(q.c)},opacity:{get:ExpressionPropertyInterface(q.o)},_name:{value:F.nm},mn:{value:F.mn}}),q.c.setGroupProperty(PropertyInterface("Color",W)),q.o.setGroupProperty(PropertyInterface("Opacity",W)),Z}function I(F,q,W){function Z($){if($==="Start Point"||$==="start point")return Z.startPoint;if($==="End Point"||$==="end point")return Z.endPoint;if($==="Opacity"||$==="opacity")return Z.opacity;return null}return Object.defineProperties(Z,{startPoint:{get:ExpressionPropertyInterface(q.s)},endPoint:{get:ExpressionPropertyInterface(q.e)},opacity:{get:ExpressionPropertyInterface(q.o)},type:{get:function(){return"a"}},_name:{value:F.nm},mn:{value:F.mn}}),q.s.setGroupProperty(PropertyInterface("Start Point",W)),q.e.setGroupProperty(PropertyInterface("End Point",W)),q.o.setGroupProperty(PropertyInterface("Opacity",W)),Z}function K(){function F(){return null}return F}function J(F,q,W){var Z=propertyGroupFactory(D,W),$=propertyGroupFactory(L,Z);function X(w){Object.defineProperty(L,F.d[w].nm,{get:ExpressionPropertyInterface(q.d.dataProps[w].p)})}var N,M=F.d?F.d.length:0,L={};for(N=0;N<M;N+=1)X(N),q.d.dataProps[N].p.setGroupProperty($);function D(w){if(w==="Color"||w==="color")return D.color;if(w==="Opacity"||w==="opacity")return D.opacity;if(w==="Stroke Width"||w==="stroke width")return D.strokeWidth;return null}return Object.defineProperties(D,{color:{get:ExpressionPropertyInterface(q.c)},opacity:{get:ExpressionPropertyInterface(q.o)},strokeWidth:{get:ExpressionPropertyInterface(q.w)},dash:{get:function(){return L}},_name:{value:F.nm},mn:{value:F.mn}}),q.c.setGroupProperty(PropertyInterface("Color",Z)),q.o.setGroupProperty(PropertyInterface("Opacity",Z)),q.w.setGroupProperty(PropertyInterface("Stroke Width",Z)),D}function C(F,q,W){function Z(X){if(X===F.e.ix||X==="End"||X==="end")return Z.end;if(X===F.s.ix)return Z.start;if(X===F.o.ix)return Z.offset;return null}var $=propertyGroupFactory(Z,W);return Z.propertyIndex=F.ix,q.s.setGroupProperty(PropertyInterface("Start",$)),q.e.setGroupProperty(PropertyInterface("End",$)),q.o.setGroupProperty(PropertyInterface("Offset",$)),Z.propertyIndex=F.ix,Z.propertyGroup=W,Object.defineProperties(Z,{start:{get:ExpressionPropertyInterface(q.s)},end:{get:ExpressionPropertyInterface(q.e)},offset:{get:ExpressionPropertyInterface(q.o)},_name:{value:F.nm}}),Z.mn=F.mn,Z}function U(F,q,W){function Z(X){if(F.a.ix===X||X==="Anchor Point")return Z.anchorPoint;if(F.o.ix===X||X==="Opacity")return Z.opacity;if(F.p.ix===X||X==="Position")return Z.position;if(F.r.ix===X||X==="Rotation"||X==="ADBE Vector Rotation")return Z.rotation;if(F.s.ix===X||X==="Scale")return Z.scale;if(F.sk&&F.sk.ix===X||X==="Skew")return Z.skew;if(F.sa&&F.sa.ix===X||X==="Skew Axis")return Z.skewAxis;return null}var $=propertyGroupFactory(Z,W);if(q.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",$)),q.transform.mProps.p.setGroupProperty(PropertyInterface("Position",$)),q.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",$)),q.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",$)),q.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",$)),q.transform.mProps.sk)q.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",$)),q.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",$));return q.transform.op.setGroupProperty(PropertyInterface("Opacity",$)),Object.defineProperties(Z,{opacity:{get:ExpressionPropertyInterface(q.transform.mProps.o)},position:{get:ExpressionPropertyInterface(q.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(q.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(q.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(q.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(q.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(q.transform.mProps.sa)},_name:{value:F.nm}}),Z.ty="tr",Z.mn=F.mn,Z.propertyGroup=W,Z}function Y(F,q,W){function Z(N){if(F.p.ix===N)return Z.position;if(F.s.ix===N)return Z.size;return null}var $=propertyGroupFactory(Z,W);Z.propertyIndex=F.ix;var X=q.sh.ty==="tm"?q.sh.prop:q.sh;return X.s.setGroupProperty(PropertyInterface("Size",$)),X.p.setGroupProperty(PropertyInterface("Position",$)),Object.defineProperties(Z,{size:{get:ExpressionPropertyInterface(X.s)},position:{get:ExpressionPropertyInterface(X.p)},_name:{value:F.nm}}),Z.mn=F.mn,Z}function H(F,q,W){function Z(N){if(F.p.ix===N)return Z.position;if(F.r.ix===N)return Z.rotation;if(F.pt.ix===N)return Z.points;if(F.or.ix===N||N==="ADBE Vector Star Outer Radius")return Z.outerRadius;if(F.os.ix===N)return Z.outerRoundness;if(F.ir&&(F.ir.ix===N||N==="ADBE Vector Star Inner Radius"))return Z.innerRadius;if(F.is&&F.is.ix===N)return Z.innerRoundness;return null}var $=propertyGroupFactory(Z,W),X=q.sh.ty==="tm"?q.sh.prop:q.sh;if(Z.propertyIndex=F.ix,X.or.setGroupProperty(PropertyInterface("Outer Radius",$)),X.os.setGroupProperty(PropertyInterface("Outer Roundness",$)),X.pt.setGroupProperty(PropertyInterface("Points",$)),X.p.setGroupProperty(PropertyInterface("Position",$)),X.r.setGroupProperty(PropertyInterface("Rotation",$)),F.ir)X.ir.setGroupProperty(PropertyInterface("Inner Radius",$)),X.is.setGroupProperty(PropertyInterface("Inner Roundness",$));return Object.defineProperties(Z,{position:{get:ExpressionPropertyInterface(X.p)},rotation:{get:ExpressionPropertyInterface(X.r)},points:{get:ExpressionPropertyInterface(X.pt)},outerRadius:{get:ExpressionPropertyInterface(X.or)},outerRoundness:{get:ExpressionPropertyInterface(X.os)},innerRadius:{get:ExpressionPropertyInterface(X.ir)},innerRoundness:{get:ExpressionPropertyInterface(X.is)},_name:{value:F.nm}}),Z.mn=F.mn,Z}function R(F,q,W){function Z(N){if(F.p.ix===N)return Z.position;if(F.r.ix===N)return Z.roundness;if(F.s.ix===N||N==="Size"||N==="ADBE Vector Rect Size")return Z.size;return null}var $=propertyGroupFactory(Z,W),X=q.sh.ty==="tm"?q.sh.prop:q.sh;return Z.propertyIndex=F.ix,X.p.setGroupProperty(PropertyInterface("Position",$)),X.s.setGroupProperty(PropertyInterface("Size",$)),X.r.setGroupProperty(PropertyInterface("Rotation",$)),Object.defineProperties(Z,{position:{get:ExpressionPropertyInterface(X.p)},roundness:{get:ExpressionPropertyInterface(X.r)},size:{get:ExpressionPropertyInterface(X.s)},_name:{value:F.nm}}),Z.mn=F.mn,Z}function G(F,q,W){function Z(N){if(F.r.ix===N||N==="Round Corners 1")return Z.radius;return null}var $=propertyGroupFactory(Z,W),X=q;return Z.propertyIndex=F.ix,X.rd.setGroupProperty(PropertyInterface("Radius",$)),Object.defineProperties(Z,{radius:{get:ExpressionPropertyInterface(X.rd)},_name:{value:F.nm}}),Z.mn=F.mn,Z}function O(F,q,W){function Z(N){if(F.c.ix===N||N==="Copies")return Z.copies;if(F.o.ix===N||N==="Offset")return Z.offset;return null}var $=propertyGroupFactory(Z,W),X=q;return Z.propertyIndex=F.ix,X.c.setGroupProperty(PropertyInterface("Copies",$)),X.o.setGroupProperty(PropertyInterface("Offset",$)),Object.defineProperties(Z,{copies:{get:ExpressionPropertyInterface(X.c)},offset:{get:ExpressionPropertyInterface(X.o)},_name:{value:F.nm}}),Z.mn=F.mn,Z}return function(F,q,W){var Z;function $(N){if(typeof N==="number"){if(N=N===void 0?1:N,N===0)return W;return Z[N-1]}var M=0,L=Z.length;while(M<L){if(Z[M]._name===N)return Z[M];M+=1}return null}function X(){return W}return $.propertyGroup=propertyGroupFactory($,X),Z=A(F,q,$.propertyGroup),$.numProperties=Z.length,$._name="Contents",$}}(),TextExpressionInterface=function(){return function(A){var Q,E;function B(I){switch(I){case"ADBE Text Document":return B.sourceText;default:return null}}return Object.defineProperty(B,"sourceText",{get:function(){A.textProperty.getValue();var I=A.textProperty.currentData.t;if(I!==Q)A.textProperty.currentData.t=Q,E=new String(I),E.value=I||new String(I);return E}}),B}}(),getBlendMode=function(){var A={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(Q){return A[Q]||""}}();extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(A,Q){this.data=A,this.effectElements=[],this.initDynamicPropertyContainer(Q);var E,B=this.data.ef.length,I,K=this.data.ef;for(E=0;E<B;E+=1){switch(I=null,K[E].ty){case 0:I=new SliderEffect(K[E],Q,this);break;case 1:I=new AngleEffect(K[E],Q,this);break;case 2:I=new ColorEffect(K[E],Q,this);break;case 3:I=new PointEffect(K[E],Q,this);break;case 4:case 7:I=new CheckboxEffect(K[E],Q,this);break;case 10:I=new LayerIndexEffect(K[E],Q,this);break;case 11:I=new MaskIndexEffect(K[E],Q,this);break;case 5:I=new EffectsManager(K[E],Q,this);break;default:I=new NoValueEffect(K[E],Q,this);break}if(I)this.effectElements.push(I)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;var A=0,Q=this.data.masksProperties.length;while(A<Q){if(this.data.masksProperties[A].mode!=="n"&&this.data.masksProperties[A].cl!==!1)return!0;A+=1}return!1},initExpressions:function(){if(this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager)this.layerInterface.registerMaskInterface(this.maskManager);var A=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);if(this.layerInterface.registerEffectsInterface(A),this.data.ty===0||this.data.xt)this.compInterface=CompExpressionInterface(this);else if(this.data.ty===4)this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface;else if(this.data.ty===5)this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface},setBlendMode:function(){var A=getBlendMode(this.data.bm),Q=this.baseElement||this.layerElement;Q.style["mix-blend-mode"]=A},initBaseData:function(A,Q,E){if(this.globalData=Q,this.comp=E,this.data=A,this.layerId=createElementID(),!this.data.sr)this.data.sr=1;this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(A,Q){var E,B=this.dynamicProperties.length;for(E=0;E<B;E+=1)if(Q||this._isParent&&this.dynamicProperties[E].propType==="transform"){if(this.dynamicProperties[E].getValue(),this.dynamicProperties[E]._mdf)this.globalData._mdf=!0,this._mdf=!0}},addDynamicProperty:function(A){if(this.dynamicProperties.indexOf(A)===-1)this.dynamicProperties.push(A)}};const FootageInterface=function(){var A=function(E){var B="",I=E.getFootageData();function K(){return B="",I=E.getFootageData(),J}function J(C){if(I[C]){if(B=C,I=I[C],typeof I==="object")return J;return I}var U=C.indexOf(B);if(U!==-1){var Y=parseInt(C.substr(U+B.length),10);if(I=I[Y],typeof I==="object")return J;return I}return""}return K},Q=function(E){function B(I){if(I==="Outline")return B.outlineInterface();return null}return B._name="Outline",B.outlineInterface=A(E),B};return function(E){function B(I){if(I==="Data")return B.dataInterface;return null}return B._name="Data",B.dataInterface=Q(E),B}}();FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this)},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(A){if(this.prepareRenderableFrame(A,!0),this.prepareProperties(A,!0),!this.tm._placeholder){var Q=this.tm.v;this._currentTime=Q}else this._currentTime=A/this.data.sr;this._volume=this.lv.v[0];var E=this._volume*this._volumeMultiplier;if(this._previousVolume!==E)this._previousVolume=E,this.audio.volume(E)},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){if(this.isInRange&&this._canPlay){if(!this._isPlaying)this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0;else if(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>0.1)this.audio.seek(this._currentTime/this.globalData.frameRate)}},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(A){this.audio.rate(A)},AudioElement.prototype.volume=function(A){this._volumeMultiplier=A,this._previousVolume=A*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(A){var Q,E=this.layers.length,B;this.completeLayers=!0;for(Q=E-1;Q>=0;Q-=1){if(!this.elements[Q]){if(B=this.layers[Q],B.ip-B.st<=A-this.layers[Q].st&&B.op-B.st>A-this.layers[Q].st)this.buildItem(Q)}this.completeLayers=this.elements[Q]?this.completeLayers:!1}this.checkPendingElements()},BaseRenderer.prototype.createItem=function(A){switch(A.ty){case 2:return this.createImage(A);case 0:return this.createComp(A);case 1:return this.createSolid(A);case 3:return this.createNull(A);case 4:return this.createShape(A);case 5:return this.createText(A);case 6:return this.createAudio(A);case 13:return this.createCamera(A);case 15:return this.createFootage(A);default:return this.createNull(A)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You\'re using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(A){return new AudioElement(A,this.globalData,this)},BaseRenderer.prototype.createFootage=function(A){return new FootageElement(A,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var A,Q=this.layers.length;for(A=0;A<Q;A+=1)this.buildItem(A);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(A){this.completeLayers=!1;var Q,E=A.length,B,I=this.layers.length;for(Q=0;Q<E;Q+=1){B=0;while(B<I){if(this.layers[B].id===A[Q].id){this.layers[B]=A[Q];break}B+=1}}},BaseRenderer.prototype.setProjectInterface=function(A){this.globalData.projectInterface=A},BaseRenderer.prototype.initItems=function(){if(!this.globalData.progressiveLoad)this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(A,Q,E){var B=this.elements,I=this.layers,K=0,J=I.length;while(K<J){if(I[K].ind==Q)if(!B[K]||B[K]===!0)this.buildItem(K),this.addPendingElement(A);else if(E.push(B[K]),B[K].setAsParent(),I[K].parent!==void 0)this.buildElementParenting(A,I[K].parent,E);else A.setHierarchy(E);K+=1}},BaseRenderer.prototype.addPendingElement=function(A){this.pendingElements.push(A)},BaseRenderer.prototype.searchExtraCompositions=function(A){var Q,E=A.length;for(Q=0;Q<E;Q+=1)if(A[Q].xt){var B=this.createComp(A[Q]);B.initExpressions(),this.globalData.projectInterface.registerComposition(B)}},BaseRenderer.prototype.getElementByPath=function(A){var Q=A.shift(),E;if(typeof Q==="number")E=this.elements[Q];else{var B,I=this.elements.length;for(B=0;B<I;B+=1)if(this.elements[B].data.nm===Q){E=this.elements[B];break}}if(A.length===0)return E;return E.getElementByPath(A)},BaseRenderer.prototype.setupGlobalData=function(A,Q){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(A.chars),this.globalData.fontManager.addFonts(A.fonts,Q),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=A.fr,this.globalData.nm=A.nm,this.globalData.compSize={w:A.w,h:A.h}},TransformElement.prototype={initTransform:function(){if(this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao)this.finalTransform.mProp.autoOriented=!0;if(this.data.ty!==11);},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var A,Q=this.finalTransform.mat,E=0,B=this.hierarchy.length;if(!this.finalTransform._matMdf)while(E<B){if(this.hierarchy[E].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}E+=1}if(this.finalTransform._matMdf){A=this.finalTransform.mProp.v.props,Q.cloneFromProps(A);for(E=0;E<B;E+=1)A=this.hierarchy[E].finalTransform.mProp.v.props,Q.transform(A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],A[8],A[9],A[10],A[11],A[12],A[13],A[14],A[15])}}},globalToLocal:function(A){var Q=[];Q.push(this.finalTransform);var E=!0,B=this.comp;while(E)if(B.finalTransform){if(B.data.hasMask)Q.splice(0,0,B.finalTransform);B=B.comp}else E=!1;var I,K=Q.length,J;for(I=0;I<K;I+=1)J=Q[I].mat.applyToPointArray(0,0,0),A=[A[0]-J[0],A[1]-J[1],0];return A},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(A){return this.viewData[A].prop},MaskElement.prototype.renderFrame=function(A){var Q=this.element.finalTransform.mat,E,B=this.masksProperties.length;for(E=0;E<B;E+=1){if(this.viewData[E].prop._mdf||A)this.drawPath(this.masksProperties[E],this.viewData[E].prop.v,this.viewData[E]);if(this.viewData[E].op._mdf||A)this.viewData[E].elem.setAttribute("fill-opacity",this.viewData[E].op.v);if(this.masksProperties[E].mode!=="n"){if(this.viewData[E].invRect&&(this.element.finalTransform.mProp._mdf||A))this.viewData[E].invRect.setAttribute("transform",Q.getInverseMatrix().to2dCSS());if(this.storedData[E].x&&(this.storedData[E].x._mdf||A)){var I=this.storedData[E].expan;if(this.storedData[E].x.v<0){if(this.storedData[E].lastOperator!=="erode")this.storedData[E].lastOperator="erode",this.storedData[E].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[E].filterId+")");I.setAttribute("radius",-this.storedData[E].x.v)}else{if(this.storedData[E].lastOperator!=="dilate")this.storedData[E].lastOperator="dilate",this.storedData[E].elem.setAttribute("filter",null);this.storedData[E].elem.setAttribute("stroke-width",this.storedData[E].x.v*2)}}}}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var A="M0,0 ";return A+=" h"+this.globalData.compSize.w,A+=" v"+this.globalData.compSize.h,A+=" h-"+this.globalData.compSize.w,A+=" v-"+this.globalData.compSize.h+" ",A},MaskElement.prototype.drawPath=function(A,Q,E){var B=" M"+Q.v[0][0]+","+Q.v[0][1],I,K;K=Q._length;for(I=1;I<K;I+=1)B+=" C"+Q.o[I-1][0]+","+Q.o[I-1][1]+" "+Q.i[I][0]+","+Q.i[I][1]+" "+Q.v[I][0]+","+Q.v[I][1];if(Q.c&&K>1)B+=" C"+Q.o[I-1][0]+","+Q.o[I-1][1]+" "+Q.i[0][0]+","+Q.i[0][1]+" "+Q.v[0][0]+","+Q.v[0][1];if(E.lastPath!==B){var J="";if(E.elem){if(Q.c)J=A.inv?this.solidPath+B:B;E.elem.setAttribute("d",J)}E.lastPath=B}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};const filtersFactory=function(){var A={};A.createFilter=Q,A.createAlphaToLuminanceFilter=E;function Q(B,I){var K=createNS("filter");if(K.setAttribute("id",B),I!==!0)K.setAttribute("filterUnits","objectBoundingBox"),K.setAttribute("x","0%"),K.setAttribute("y","0%"),K.setAttribute("width","100%"),K.setAttribute("height","100%");return K}function E(){var B=createNS("feColorMatrix");return B.setAttribute("type","matrix"),B.setAttribute("color-interpolation-filters","sRGB"),B.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),B}return A}(),featureSupport=function(){var A={maskType:!0};if(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))A.maskType=!1;return A}();registeredEffects={},idPrefix="filter_result_",SVGEffects.prototype.renderFrame=function(A){var Q,E=this.filters.length;for(Q=0;Q<E;Q+=1)this.filters[Q].renderFrame(A)},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var A=null,Q,E,B;if(this.data.td){if(this.data.td==3||this.data.td==1){var I=createNS("mask");if(I.setAttribute("id",this.layerId),I.setAttribute("mask-type",this.data.td==3?"luminance":"alpha"),I.appendChild(this.layerElement),A=I,this.globalData.defs.appendChild(I),!featureSupport.maskType&&this.data.td==1)I.setAttribute("mask-type","luminance"),Q=createElementID(),E=filtersFactory.createFilter(Q),this.globalData.defs.appendChild(E),E.appendChild(filtersFactory.createAlphaToLuminanceFilter()),B=createNS("g"),B.appendChild(this.layerElement),A=B,I.appendChild(B),B.setAttribute("filter","url("+getLocationHref()+"#"+Q+")")}else if(this.data.td==2){var K=createNS("mask");K.setAttribute("id",this.layerId),K.setAttribute("mask-type","alpha");var J=createNS("g");K.appendChild(J),Q=createElementID(),E=filtersFactory.createFilter(Q);var C=createNS("feComponentTransfer");C.setAttribute("in","SourceGraphic"),E.appendChild(C);var U=createNS("feFuncA");U.setAttribute("type","table"),U.setAttribute("tableValues","1.0 0.0"),C.appendChild(U),this.globalData.defs.appendChild(E);var Y=createNS("rect");if(Y.setAttribute("width",this.comp.data.w),Y.setAttribute("height",this.comp.data.h),Y.setAttribute("x","0"),Y.setAttribute("y","0"),Y.setAttribute("fill","#ffffff"),Y.setAttribute("opacity","0"),J.setAttribute("filter","url("+getLocationHref()+"#"+Q+")"),J.appendChild(Y),J.appendChild(this.layerElement),A=J,!featureSupport.maskType)K.setAttribute("mask-type","luminance"),E.appendChild(filtersFactory.createAlphaToLuminanceFilter()),B=createNS("g"),J.appendChild(Y),B.appendChild(this.layerElement),A=B,J.appendChild(B);this.globalData.defs.appendChild(K)}}else if(this.data.tt)this.matteElement.appendChild(this.layerElement),A=this.matteElement,this.baseElement=this.matteElement;else this.baseElement=this.layerElement;if(this.data.ln)this.layerElement.setAttribute("id",this.data.ln);if(this.data.cl)this.layerElement.setAttribute("class",this.data.cl);if(this.data.ty===0&&!this.data.hd){var H=createNS("clipPath"),R=createNS("path");R.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var G=createElementID();if(H.setAttribute("id",G),H.appendChild(R),this.globalData.defs.appendChild(H),this.checkMasks()){var O=createNS("g");if(O.setAttribute("clip-path","url("+getLocationHref()+"#"+G+")"),O.appendChild(this.layerElement),this.transformedElement=O,A)A.appendChild(this.transformedElement);else this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+G+")")}if(this.data.bm!==0)this.setBlendMode()},renderElement:function(){if(this.finalTransform._matMdf)this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS());if(this.finalTransform._opMdf)this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){if(this.data.hd)return null;return this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(A){if(!this.matteElement)return;this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+A+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(A){this.hierarchy=A},setAsParent:function(){this._isParent=!0},checkParenting:function(){if(this.data.parent!==void 0)this.comp.buildElementParenting(this,this.data.parent,[])}},function(){var A={initElement:function(Q,E,B){this.initFrame(),this.initBaseData(Q,E,B),this.initTransform(Q,E,B),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var Q=this.baseElement||this.layerElement;Q.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var Q=this.baseElement||this.layerElement;Q.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){if(this.data.hd||this.hidden)return;if(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame)this._isFirstFrame=!1},renderInnerContent:function(){},prepareFrame:function(Q){this._mdf=!1,this.prepareRenderableFrame(Q),this.prepareProperties(Q,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(A)],RenderableDOMElement)}(),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var A=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",A),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(A){var Q,E=this.shapeModifiers.length;for(Q=0;Q<E;Q+=1)this.shapeModifiers[Q].addShape(A)},isShapeInAnimatedModifiers:function(A){var Q=0,E=this.shapeModifiers.length;while(Q<E)if(this.shapeModifiers[Q].isAnimatedWithShape(A))return!0;return!1},renderModifiers:function(){if(!this.shapeModifiers.length)return;var A,Q=this.shapes.length;for(A=0;A<Q;A+=1)this.shapes[A].sh.reset();Q=this.shapeModifiers.length;var E;for(A=Q-1;A>=0;A-=1)if(E=this.shapeModifiers[A].processShapes(this._isFirstFrame),E)break},searchProcessedElement:function(A){var Q=this.processedElements,E=0,B=Q.length;while(E<B){if(Q[E].elem===A)return Q[E].pos;E+=1}return 0},addProcessedElement:function(A,Q){var E=this.processedElements,B=E.length;while(B)if(B-=1,E[B].elem===A){E[B].pos=Q;return}E.push(new ProcessedElement(A,Q))},prepareFrame:function(A){this.prepareRenderableFrame(A),this.prepareProperties(A,this.isInRange)}};const lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(A){if(this.elem.globalData.frameId===this.frameId&&!A)return;if(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||A,this._mdf){var Q=0,E=this.dataProps.length;if(this.renderer==="svg")this.dashStr="";for(Q=0;Q<E;Q+=1)if(this.dataProps[Q].n!=="o")if(this.renderer==="svg")this.dashStr+=" "+this.dataProps[Q].p.v;else this.dashArray[Q]=this.dataProps[Q].p.v;else this.dashoffset[0]=this.dataProps[Q].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(A,Q){var E=0,B=this.o.length/2,I;while(E<B){if(I=Math.abs(A[E*4]-A[Q*4+E*2]),I>0.01)return!1;E+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s){var A=0,Q=this.data.k.k.length;while(A<Q){if(!this.comparePoints(this.data.k.k[A].s,this.data.p))return!1;A+=1}}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(A){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||A){var Q,E=this.data.p*4,B,I;for(Q=0;Q<E;Q+=1)if(B=Q%4===0?100:255,I=Math.round(this.prop.v[Q]*B),this.c[Q]!==I)this.c[Q]=I,this._cmdf=!A;if(this.o.length){E=this.prop.v.length;for(Q=this.data.p*4;Q<E;Q+=1)if(B=Q%2===0?100:1,I=Q%2===0?Math.round(this.prop.v[Q]*100):this.prop.v[Q],this.o[Q-this.data.p*4]!==I)this.o[Q-this.data.p*4]=I,this._omdf=!A}this._mdf=!A}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(A,Q,E){this.o=PropertyFactory.getProp(A,Q.o,0,0.01,this),this.s=PropertyFactory.getProp(A,Q.s,1,null,this),this.e=PropertyFactory.getProp(A,Q.e,1,null,this),this.h=PropertyFactory.getProp(A,Q.h||{k:0},0,0.01,this),this.a=PropertyFactory.getProp(A,Q.a||{k:0},0,degToRads,this),this.g=new GradientProperty(A,Q.g,this),this.style=E,this.stops=[],this.setGradientData(E.pElem,Q),this.setGradientOpacity(Q,E),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(A,Q){var E=createElementID(),B=createNS(Q.t===1?"linearGradient":"radialGradient");B.setAttribute("id",E),B.setAttribute("spreadMethod","pad"),B.setAttribute("gradientUnits","userSpaceOnUse");var I=[],K,J,C;C=Q.g.p*4;for(J=0;J<C;J+=4)K=createNS("stop"),B.appendChild(K),I.push(K);A.setAttribute(Q.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+E+")"),this.gf=B,this.cst=I},SVGGradientFillStyleData.prototype.setGradientOpacity=function(A,Q){if(this.g._hasOpacity&&!this.g._collapsable){var E,B,I,K=createNS("mask"),J=createNS("path");K.appendChild(J);var C=createElementID(),U=createElementID();K.setAttribute("id",U);var Y=createNS(A.t===1?"linearGradient":"radialGradient");Y.setAttribute("id",C),Y.setAttribute("spreadMethod","pad"),Y.setAttribute("gradientUnits","userSpaceOnUse"),I=A.g.k.k[0].s?A.g.k.k[0].s.length:A.g.k.k.length;var H=this.stops;for(B=A.g.p*4;B<I;B+=2)E=createNS("stop"),E.setAttribute("stop-color","rgb(255,255,255)"),Y.appendChild(E),H.push(E);if(J.setAttribute(A.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+C+")"),A.ty==="gs"){if(J.setAttribute("stroke-linecap",lineCapEnum[A.lc||2]),J.setAttribute("stroke-linejoin",lineJoinEnum[A.lj||2]),A.lj===1)J.setAttribute("stroke-miterlimit",A.ml)}this.of=Y,this.ms=K,this.ost=H,this.maskId=U,Q.msElem=J}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);const buildShapeString=function(A,Q,E,B){if(Q===0)return"";var{o:I,i:K,v:J}=A,C,U=" M"+B.applyToPointStringified(J[0][0],J[0][1]);for(C=1;C<Q;C+=1)U+=" C"+B.applyToPointStringified(I[C-1][0],I[C-1][1])+" "+B.applyToPointStringified(K[C][0],K[C][1])+" "+B.applyToPointStringified(J[C][0],J[C][1]);if(E&&Q)U+=" C"+B.applyToPointStringified(I[C-1][0],I[C-1][1])+" "+B.applyToPointStringified(K[0][0],K[0][1])+" "+B.applyToPointStringified(J[0][0],J[0][1]),U+="z";return U},SVGElementsRenderer=function(){var A=new Matrix,Q=new Matrix,E={createRenderFunction:B};function B(R){switch(R.ty){case"fl":return C;case"gf":return Y;case"gs":return U;case"st":return H;case"sh":case"el":case"rc":case"sr":return J;case"tr":return I;case"no":return K;default:return null}}function I(R,G,O){if(O||G.transform.op._mdf)G.transform.container.setAttribute("opacity",G.transform.op.v);if(O||G.transform.mProps._mdf)G.transform.container.setAttribute("transform",G.transform.mProps.v.to2dCSS())}function K(){}function J(R,G,O){var F,q,W,Z,$,X,N=G.styles.length,M=G.lvl,L,D,w,P,V;for(X=0;X<N;X+=1){if(Z=G.sh._mdf||O,G.styles[X].lvl<M){D=Q.reset(),P=M-G.styles[X].lvl,V=G.transformers.length-1;while(!Z&&P>0)Z=G.transformers[V].mProps._mdf||Z,P-=1,V-=1;if(Z){P=M-G.styles[X].lvl,V=G.transformers.length-1;while(P>0)w=G.transformers[V].mProps.v.props,D.transform(w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],w[8],w[9],w[10],w[11],w[12],w[13],w[14],w[15]),P-=1,V-=1}}else D=A;if(L=G.sh.paths,q=L._length,Z){W="";for(F=0;F<q;F+=1)if($=L.shapes[F],$&&$._length)W+=buildShapeString($,$._length,$.c,D);G.caches[X]=W}else W=G.caches[X];G.styles[X].d+=R.hd===!0?"":W,G.styles[X]._mdf=Z||G.styles[X]._mdf}}function C(R,G,O){var F=G.style;if(G.c._mdf||O)F.pElem.setAttribute("fill","rgb("+bmFloor(G.c.v[0])+","+bmFloor(G.c.v[1])+","+bmFloor(G.c.v[2])+")");if(G.o._mdf||O)F.pElem.setAttribute("fill-opacity",G.o.v)}function U(R,G,O){Y(R,G,O),H(R,G,O)}function Y(R,G,O){var F=G.gf,q=G.g._hasOpacity,W=G.s.v,Z=G.e.v;if(G.o._mdf||O){var $=R.ty==="gf"?"fill-opacity":"stroke-opacity";G.style.pElem.setAttribute($,G.o.v)}if(G.s._mdf||O){var X=R.t===1?"x1":"cx",N=X==="x1"?"y1":"cy";if(F.setAttribute(X,W[0]),F.setAttribute(N,W[1]),q&&!G.g._collapsable)G.of.setAttribute(X,W[0]),G.of.setAttribute(N,W[1])}var M,L,D,w;if(G.g._cmdf||O){M=G.cst;var P=G.g.c;D=M.length;for(L=0;L<D;L+=1)w=M[L],w.setAttribute("offset",P[L*4]+"%"),w.setAttribute("stop-color","rgb("+P[L*4+1]+","+P[L*4+2]+","+P[L*4+3]+")")}if(q&&(G.g._omdf||O)){var V=G.g.o;if(G.g._collapsable)M=G.cst;else M=G.ost;D=M.length;for(L=0;L<D;L+=1){if(w=M[L],!G.g._collapsable)w.setAttribute("offset",V[L*2]+"%");w.setAttribute("stop-opacity",V[L*2+1])}}if(R.t===1){if(G.e._mdf||O){if(F.setAttribute("x2",Z[0]),F.setAttribute("y2",Z[1]),q&&!G.g._collapsable)G.of.setAttribute("x2",Z[0]),G.of.setAttribute("y2",Z[1])}}else{var T;if(G.s._mdf||G.e._mdf||O){if(T=Math.sqrt(Math.pow(W[0]-Z[0],2)+Math.pow(W[1]-Z[1],2)),F.setAttribute("r",T),q&&!G.g._collapsable)G.of.setAttribute("r",T)}if(G.e._mdf||G.h._mdf||G.a._mdf||O){if(!T)T=Math.sqrt(Math.pow(W[0]-Z[0],2)+Math.pow(W[1]-Z[1],2));var S=Math.atan2(Z[1]-W[1],Z[0]-W[0]),h=G.h.v;if(h>=1)h=0.99;else if(h<=-1)h=-0.99;var x=T*h,y=Math.cos(S+G.a.v)*x+W[0],j=Math.sin(S+G.a.v)*x+W[1];if(F.setAttribute("fx",y),F.setAttribute("fy",j),q&&!G.g._collapsable)G.of.setAttribute("fx",y),G.of.setAttribute("fy",j)}}}function H(R,G,O){var{style:F,d:q}=G;if(q&&(q._mdf||O)&&q.dashStr)F.pElem.setAttribute("stroke-dasharray",q.dashStr),F.pElem.setAttribute("stroke-dashoffset",q.dashoffset[0]);if(G.c&&(G.c._mdf||O))F.pElem.setAttribute("stroke","rgb("+bmFloor(G.c.v[0])+","+bmFloor(G.c.v[1])+","+bmFloor(G.c.v[2])+")");if(G.o._mdf||O)F.pElem.setAttribute("stroke-opacity",G.o.v);if(G.w._mdf||O){if(F.pElem.setAttribute("stroke-width",G.w.v),F.msElem)F.msElem.setAttribute("stroke-width",G.w.v)}}return E}();extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var A,Q=this.shapes.length,E,B,I=this.stylesList.length,K,J=[],C=!1;for(B=0;B<I;B+=1){K=this.stylesList[B],C=!1,J.length=0;for(A=0;A<Q;A+=1)if(E=this.shapes[A],E.styles.indexOf(K)!==-1)J.push(E),C=E._isAnimated||C;if(J.length>1&&C)this.setShapesAsAnimated(J)}},SVGShapeElement.prototype.setShapesAsAnimated=function(A){var Q,E=A.length;for(Q=0;Q<E;Q+=1)A[Q].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(A,Q){var E,B=new SVGStyleData(A,Q),I=B.pElem;if(A.ty==="st")E=new SVGStrokeStyleData(this,A,B);else if(A.ty==="fl")E=new SVGFillStyleData(this,A,B);else if(A.ty==="gf"||A.ty==="gs"){var K=A.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;if(E=new K(this,A,B),this.globalData.defs.appendChild(E.gf),E.maskId)this.globalData.defs.appendChild(E.ms),this.globalData.defs.appendChild(E.of),I.setAttribute("mask","url("+getLocationHref()+"#"+E.maskId+")")}else if(A.ty==="no")E=new SVGNoStyleData(this,A,B);if(A.ty==="st"||A.ty==="gs"){if(I.setAttribute("stroke-linecap",lineCapEnum[A.lc||2]),I.setAttribute("stroke-linejoin",lineJoinEnum[A.lj||2]),I.setAttribute("fill-opacity","0"),A.lj===1)I.setAttribute("stroke-miterlimit",A.ml)}if(A.r===2)I.setAttribute("fill-rule","evenodd");if(A.ln)I.setAttribute("id",A.ln);if(A.cl)I.setAttribute("class",A.cl);if(A.bm)I.style["mix-blend-mode"]=getBlendMode(A.bm);return this.stylesList.push(B),this.addToAnimatedContents(A,E),E},SVGShapeElement.prototype.createGroupElement=function(A){var Q=new ShapeGroupData;if(A.ln)Q.gr.setAttribute("id",A.ln);if(A.cl)Q.gr.setAttribute("class",A.cl);if(A.bm)Q.gr.style["mix-blend-mode"]=getBlendMode(A.bm);return Q},SVGShapeElement.prototype.createTransformElement=function(A,Q){var E=TransformPropertyFactory.getTransformProperty(this,A,this),B=new SVGTransformData(E,E.o,Q);return this.addToAnimatedContents(A,B),B},SVGShapeElement.prototype.createShapeElement=function(A,Q,E){var B=4;if(A.ty==="rc")B=5;else if(A.ty==="el")B=6;else if(A.ty==="sr")B=7;var I=ShapePropertyFactory.getShapeProp(this,A,B,this),K=new SVGShapeData(Q,E,I);return this.shapes.push(K),this.addShapeToModifiers(K),this.addToAnimatedContents(A,K),K},SVGShapeElement.prototype.addToAnimatedContents=function(A,Q){var E=0,B=this.animatedContents.length;while(E<B){if(this.animatedContents[E].element===Q)return;E+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(A),element:Q,data:A})},SVGShapeElement.prototype.setElementStyles=function(A){var Q=A.styles,E,B=this.stylesList.length;for(E=0;E<B;E+=1)if(!this.stylesList[E].closed)Q.push(this.stylesList[E])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var A,Q=this.itemsData.length;for(A=0;A<Q;A+=1)this.prevViewData[A]=this.itemsData[A];this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),Q=this.dynamicProperties.length;for(A=0;A<Q;A+=1)this.dynamicProperties[A].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(A,Q,E,B,I,K,J){var C=[].concat(K),U,Y=A.length-1,H,R,G=[],O=[],F,q,W;for(U=Y;U>=0;U-=1){if(W=this.searchProcessedElement(A[U]),!W)A[U]._render=J;else Q[U]=E[W-1];if(A[U].ty==="fl"||A[U].ty==="st"||A[U].ty==="gf"||A[U].ty==="gs"||A[U].ty==="no"){if(!W)Q[U]=this.createStyleElement(A[U],I);else Q[U].style.closed=!1;if(A[U]._render){if(Q[U].style.pElem.parentNode!==B)B.appendChild(Q[U].style.pElem)}G.push(Q[U].style)}else if(A[U].ty==="gr"){if(!W)Q[U]=this.createGroupElement(A[U]);else{R=Q[U].it.length;for(H=0;H<R;H+=1)Q[U].prevViewData[H]=Q[U].it[H]}if(this.searchShapes(A[U].it,Q[U].it,Q[U].prevViewData,Q[U].gr,I+1,C,J),A[U]._render){if(Q[U].gr.parentNode!==B)B.appendChild(Q[U].gr)}}else if(A[U].ty==="tr"){if(!W)Q[U]=this.createTransformElement(A[U],B);F=Q[U].transform,C.push(F)}else if(A[U].ty==="sh"||A[U].ty==="rc"||A[U].ty==="el"||A[U].ty==="sr"){if(!W)Q[U]=this.createShapeElement(A[U],C,I);this.setElementStyles(Q[U])}else if(A[U].ty==="tm"||A[U].ty==="rd"||A[U].ty==="ms"||A[U].ty==="pb"){if(!W)q=ShapeModifiers.getModifier(A[U].ty),q.init(this,A[U]),Q[U]=q,this.shapeModifiers.push(q);else q=Q[U],q.closed=!1;O.push(q)}else if(A[U].ty==="rp"){if(!W)q=ShapeModifiers.getModifier(A[U].ty),Q[U]=q,q.init(this,A,U,Q),this.shapeModifiers.push(q),J=!1;else q=Q[U],q.closed=!0;O.push(q)}this.addProcessedElement(A[U],U+1)}Y=G.length;for(U=0;U<Y;U+=1)G[U].closed=!0;Y=O.length;for(U=0;U<Y;U+=1)O[U].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var A,Q=this.stylesList.length;for(A=0;A<Q;A+=1)this.stylesList[A].reset();this.renderShape();for(A=0;A<Q;A+=1)if(this.stylesList[A]._mdf||this._isFirstFrame){if(this.stylesList[A].msElem)this.stylesList[A].msElem.setAttribute("d",this.stylesList[A].d),this.stylesList[A].d="M0 0"+this.stylesList[A].d;this.stylesList[A].pElem.setAttribute("d",this.stylesList[A].d||"M0 0")}},SVGShapeElement.prototype.renderShape=function(){var A,Q=this.animatedContents.length,E;for(A=0;A<Q;A+=1)if(E=this.animatedContents[A],(this._isFirstFrame||E.element._isAnimated)&&E.data!==!0)E.fn(E.data,E.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(A,Q,E,B,I,K){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var J=!1;if(this.o!==A)this.o=A,this._mdf.o=!0,J=!0;if(this.sw!==Q)this.sw=Q,this._mdf.sw=!0,J=!0;if(this.sc!==E)this.sc=E,this._mdf.sc=!0,J=!0;if(this.fc!==B)this.fc=B,this._mdf.fc=!0,J=!0;if(this.m!==I)this.m=I,this._mdf.m=!0,J=!0;if(K.length&&(this.p[0]!==K[0]||this.p[1]!==K[1]||this.p[4]!==K[4]||this.p[5]!==K[5]||this.p[12]!==K[12]||this.p[13]!==K[13]))this.p=K,this._mdf.p=!0,J=!0;return J},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(A,Q){for(var E in Q)if(Object.prototype.hasOwnProperty.call(Q,E))A[E]=Q[E];return A},TextProperty.prototype.setCurrentData=function(A){if(!A.__complete)this.completeTextData(A);this.currentData=A,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){if(this.kf=this.data.d.k.length>1,this.kf)this.addEffect(this.getKeyframeValue.bind(this));return this.kf},TextProperty.prototype.addEffect=function(A){this.effectsSequence.push(A),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(A){if((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!A)return;this.currentData.t=this.data.d.k[this.keysIndex].s.t;var Q=this.currentData,E=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var B,I=this.effectsSequence.length,K=A||this.data.d.k[this.keysIndex].s;for(B=0;B<I;B+=1)if(E!==this.keysIndex)K=this.effectsSequence[B](K,K.t);else K=this.effectsSequence[B](this.currentData,K.t);if(Q!==K)this.setCurrentData(K);this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId},TextProperty.prototype.getKeyframeValue=function(){var A=this.data.d.k,Q=this.elem.comp.renderedFrame,E=0,B=A.length;while(E<=B-1){if(E===B-1||A[E+1].t>Q)break;E+=1}if(this.keysIndex!==E)this.keysIndex=E;return this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(A){var Q=[],E=0,B=A.length,I,K,J=!1;while(E<B){if(I=A.charCodeAt(E),FontManager.isCombinedCharacter(I))Q[Q.length-1]+=A.charAt(E);else if(I>=55296&&I<=56319)if(K=A.charCodeAt(E+1),K>=56320&&K<=57343){if(J||FontManager.isModifier(I,K))Q[Q.length-1]+=A.substr(E,2),J=!1;else Q.push(A.substr(E,2));E+=1}else Q.push(A.charAt(E));else if(I>56319)if(K=A.charCodeAt(E+1),FontManager.isZeroWidthJoiner(I,K))J=!0,Q[Q.length-1]+=A.substr(E,2),E+=1;else Q.push(A.charAt(E));else if(FontManager.isZeroWidthJoiner(I))Q[Q.length-1]+=A.charAt(E),J=!0;else Q.push(A.charAt(E));E+=1}return Q},TextProperty.prototype.completeTextData=function(A){A.__complete=!0;var Q=this.elem.globalData.fontManager,E=this.data,B=[],I,K,J,C=0,U,Y=E.m.g,H=0,R=0,G=0,O=[],F=0,q=0,W,Z,$=Q.getFontByName(A.f),X,N=0,M=getFontProperties($);A.fWeight=M.weight,A.fStyle=M.style,A.finalSize=A.s,A.finalText=this.buildFinalText(A.t),K=A.finalText.length,A.finalLineHeight=A.lh;var L=A.tr/1000*A.finalSize,D;if(A.sz){var w=!0,P=A.sz[0],V=A.sz[1],T,S;while(w){S=this.buildFinalText(A.t),T=0,F=0,K=S.length,L=A.tr/1000*A.finalSize;var h=-1;for(I=0;I<K;I+=1){if(D=S[I].charCodeAt(0),J=!1,S[I]===" ")h=I;else if(D===13||D===3)F=0,J=!0,T+=A.finalLineHeight||A.finalSize*1.2;if(Q.chars)X=Q.getCharData(S[I],$.fStyle,$.fFamily),N=J?0:X.w*A.finalSize/100;else N=Q.measureText(S[I],A.f,A.finalSize);if(F+N>P&&S[I]!==" "){if(h===-1)K+=1;else I=h;T+=A.finalLineHeight||A.finalSize*1.2,S.splice(I,h===I?1:0,"\r"),h=-1,F=0}else F+=N,F+=L}if(T+=$.ascent*A.finalSize/100,this.canResize&&A.finalSize>this.minimumFontSize&&V<T)A.finalSize-=1,A.finalLineHeight=A.finalSize*A.lh/A.s;else A.finalText=S,K=A.finalText.length,w=!1}}F=-L,N=0;var x=0,y;for(I=0;I<K;I+=1){if(J=!1,y=A.finalText[I],D=y.charCodeAt(0),D===13||D===3)x=0,O.push(F),q=F>q?F:q,F=-2*L,U="",J=!0,G+=1;else U=y;if(Q.chars)X=Q.getCharData(y,$.fStyle,Q.getFontByName(A.f).fFamily),N=J?0:X.w*A.finalSize/100;else N=Q.measureText(U,A.f,A.finalSize);if(y===" ")x+=N+L;else F+=N+L+x,x=0;if(B.push({l:N,an:N,add:H,n:J,anIndexes:[],val:U,line:G,animatorJustifyOffset:0}),Y==2){if(H+=N,U===""||U===" "||I===K-1){if(U===""||U===" ")H-=N;while(R<=I)B[R].an=H,B[R].ind=C,B[R].extra=N,R+=1;C+=1,H=0}}else if(Y==3){if(H+=N,U===""||I===K-1){if(U==="")H-=N;while(R<=I)B[R].an=H,B[R].ind=C,B[R].extra=N,R+=1;H=0,C+=1}}else B[C].ind=C,B[C].extra=0,C+=1}if(A.l=B,q=F>q?F:q,O.push(F),A.sz)A.boxWidth=A.sz[0],A.justifyOffset=0;else switch(A.boxWidth=q,A.j){case 1:A.justifyOffset=-A.boxWidth;break;case 2:A.justifyOffset=-A.boxWidth/2;break;default:A.justifyOffset=0}A.lineWidths=O;var j=E.a,v,_;Z=j.length;var g,b,p=[];for(W=0;W<Z;W+=1){if(v=j[W],v.a.sc)A.strokeColorAnim=!0;if(v.a.sw)A.strokeWidthAnim=!0;if(v.a.fc||v.a.fh||v.a.fs||v.a.fb)A.fillColorAnim=!0;b=0,g=v.s.b;for(I=0;I<K;I+=1)if(_=B[I],_.anIndexes[W]=b,g==1&&_.val!==""||g==2&&_.val!==""&&_.val!==" "||g==3&&(_.n||_.val==" "||I==K-1)||g==4&&(_.n||I==K-1)){if(v.s.rn===1)p.push(b);b+=1}E.a[W].s.totalChars=b;var m=-1,o;if(v.s.rn===1)for(I=0;I<K;I+=1){if(_=B[I],m!=_.anIndexes[W])m=_.anIndexes[W],o=p.splice(Math.floor(Math.random()*p.length),1)[0];_.anIndexes[W]=o}}A.yOffset=A.finalLineHeight||A.finalSize*1.2,A.ls=A.ls||0,A.ascent=$.ascent*A.finalSize/100},TextProperty.prototype.updateDocumentData=function(A,Q){Q=Q===void 0?this.keysIndex:Q;var E=this.copyData({},this.data.d.k[Q].s);E=this.copyData(E,A),this.data.d.k[Q].s=E,this.recalculate(Q),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(A){var Q=this.data.d.k[A].s;Q.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(Q)},TextProperty.prototype.canResizeFont=function(A){this.canResize=A,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(A){this.minimumFontSize=Math.floor(A)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};const TextSelectorProp=function(){var{max:A,min:Q,floor:E}=Math;function B(K,J){if(this._currentTextLength=-1,this.k=!1,this.data=J,this.elem=K,this.comp=K.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(K),this.s=PropertyFactory.getProp(K,J.s||{k:0},0,0,this),"e"in J)this.e=PropertyFactory.getProp(K,J.e,0,0,this);else this.e={v:100};if(this.o=PropertyFactory.getProp(K,J.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(K,J.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(K,J.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(K,J.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(K,J.a,0,0.01,this),!this.dynamicProperties.length)this.getValue()}B.prototype={getMult:function(K){if(this._currentTextLength!==this.elem.textProperty.currentData.l.length)this.getValue();var J=0,C=0,U=1,Y=1;if(this.ne.v>0)J=this.ne.v/100;else C=-this.ne.v/100;if(this.xe.v>0)U=1-this.xe.v/100;else Y=1+this.xe.v/100;var H=BezierFactory.getBezierEasing(J,C,U,Y).get,R=0,G=this.finalS,O=this.finalE,F=this.data.sh;if(F===2){if(O===G)R=K>=O?1:0;else R=A(0,Q(0.5/(O-G)+(K-G)/(O-G),1));R=H(R)}else if(F===3){if(O===G)R=K>=O?0:1;else R=1-A(0,Q(0.5/(O-G)+(K-G)/(O-G),1));R=H(R)}else if(F===4){if(O===G)R=0;else if(R=A(0,Q(0.5/(O-G)+(K-G)/(O-G),1)),R<0.5)R*=2;else R=1-2*(R-0.5);R=H(R)}else if(F===5){if(O===G)R=0;else{var q=O-G;K=Q(A(0,K+0.5-G),O-G);var W=-q/2+K,Z=q/2;R=Math.sqrt(1-W*W/(Z*Z))}R=H(R)}else if(F===6){if(O===G)R=0;else K=Q(A(0,K+0.5-G),O-G),R=(1+Math.cos(Math.PI+Math.PI*2*K/(O-G)))/2;R=H(R)}else{if(K>=E(G))if(K-G<0)R=A(0,Q(Q(O,1)-(G-K),1));else R=A(0,Q(O-K,1));R=H(R)}if(this.sm.v!==100){var $=this.sm.v*0.01;if($===0)$=0.00000001;var X=0.5-$*0.5;if(R<X)R=0;else if(R=(R-X)/$,R>1)R=1}return R*this.a.v},getValue:function(K){if(this.iterateDynamicProperties(),this._mdf=K||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,K&&this.data.r===2)this.e.v=this._currentTextLength;var J=this.data.r===2?1:100/this.data.totalChars,C=this.o.v/J,U=this.s.v/J+C,Y=this.e.v/J+C;if(U>Y){var H=U;U=Y,Y=H}this.finalS=U,this.finalE=Y}},extendPrototype([DynamicPropertyContainer],B);function I(K,J,C){return new B(K,J,C)}return{getTextSelectorProp:I}}();TextAnimatorProperty.prototype.searchProperties=function(){var A,Q=this._textData.a.length,E,B=PropertyFactory.getProp;for(A=0;A<Q;A+=1)E=this._textData.a[A],this._animatorsData[A]=new TextAnimatorDataProperty(this._elem,E,this);if(this._textData.p&&"m"in this._textData.p)this._pathData={a:B(this._elem,this._textData.p.a,0,0,this),f:B(this._elem,this._textData.p.f,0,0,this),l:B(this._elem,this._textData.p.l,0,0,this),r:B(this._elem,this._textData.p.r,0,0,this),p:B(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0;else this._hasMaskedPath=!1;this._moreOptions.alignment=B(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(A,Q){if(this.lettersChangedFlag=Q,!this._mdf&&!this._isFirstFrame&&!Q&&(!this._hasMaskedPath||!this._pathData.m._mdf))return;this._isFirstFrame=!1;var E=this._moreOptions.alignment.v,B=this._animatorsData,I=this._textData,K=this.mHelper,J=this._renderType,C=this.renderedLetters.length,U,Y,H,R,G=A.l,O,F,q,W,Z,$,X,N,M,L,D,w,P,V,T;if(this._hasMaskedPath){if(T=this._pathData.m,!this._pathData.n||this._pathData._mdf){var S=T.v;if(this._pathData.r.v)S=S.reverse();O={tLength:0,segments:[]},R=S._length-1;var h;w=0;for(H=0;H<R;H+=1)h=bez.buildBezierData(S.v[H],S.v[H+1],[S.o[H][0]-S.v[H][0],S.o[H][1]-S.v[H][1]],[S.i[H+1][0]-S.v[H+1][0],S.i[H+1][1]-S.v[H+1][1]]),O.tLength+=h.segmentLength,O.segments.push(h),w+=h.segmentLength;if(H=R,T.v.c)h=bez.buildBezierData(S.v[H],S.v[0],[S.o[H][0]-S.v[H][0],S.o[H][1]-S.v[H][1]],[S.i[0][0]-S.v[0][0],S.i[0][1]-S.v[0][1]]),O.tLength+=h.segmentLength,O.segments.push(h),w+=h.segmentLength;this._pathData.pi=O}if(O=this._pathData.pi,F=this._pathData.f.v,X=0,$=1,W=0,Z=!0,L=O.segments,F<0&&T.v.c){if(O.tLength<Math.abs(F))F=-Math.abs(F)%O.tLength;X=L.length-1,M=L[X].points,$=M.length-1;while(F<0)if(F+=M[$].partialLength,$-=1,$<0)X-=1,M=L[X].points,$=M.length-1}M=L[X].points,N=M[$-1],q=M[$],D=q.partialLength}R=G.length,U=0,Y=0;var x=A.finalSize*1.2*0.714,y=!0,j,v,_,g,b;g=B.length;var p,m=-1,o,AA,s,t=F,r=X,EA=$,JA=-1,YA,IA,l,UA,BA,n,i,KA,$A="",FA=this.defaultPropsArray,e;if(A.j===2||A.j===1){var c=0,HA=0,XA=A.j===2?-0.5:-1,CA=0,GA=!0;for(H=0;H<R;H+=1)if(G[H].n){if(c)c+=HA;while(CA<H)G[CA].animatorJustifyOffset=c,CA+=1;c=0,GA=!0}else{for(_=0;_<g;_+=1)if(j=B[_].a,j.t.propType){if(GA&&A.j===2)HA+=j.t.v*XA;if(v=B[_].s,p=v.getMult(G[H].anIndexes[_],I.a[_].s.totalChars),p.length)c+=j.t.v*p[0]*XA;else c+=j.t.v*p*XA}GA=!1}if(c)c+=HA;while(CA<H)G[CA].animatorJustifyOffset=c,CA+=1}for(H=0;H<R;H+=1){if(K.reset(),YA=1,G[H].n){if(U=0,Y+=A.yOffset,Y+=y?1:0,F=t,y=!1,this._hasMaskedPath)X=r,$=EA,M=L[X].points,N=M[$-1],q=M[$],D=q.partialLength,W=0;$A="",KA="",n="",e="",FA=this.defaultPropsArray}else{if(this._hasMaskedPath){if(JA!==G[H].line){switch(A.j){case 1:F+=w-A.lineWidths[G[H].line];break;case 2:F+=(w-A.lineWidths[G[H].line])/2;break;default:break}JA=G[H].line}if(m!==G[H].ind){if(G[m])F+=G[m].extra;F+=G[H].an/2,m=G[H].ind}F+=E[0]*G[H].an*0.005;var uA=0;for(_=0;_<g;_+=1){if(j=B[_].a,j.p.propType)if(v=B[_].s,p=v.getMult(G[H].anIndexes[_],I.a[_].s.totalChars),p.length)uA+=j.p.v[0]*p[0];else uA+=j.p.v[0]*p;if(j.a.propType)if(v=B[_].s,p=v.getMult(G[H].anIndexes[_],I.a[_].s.totalChars),p.length)uA+=j.a.v[0]*p[0];else uA+=j.a.v[0]*p}if(Z=!0,this._pathData.a.v)F=G[0].an*0.5+(w-this._pathData.f.v-G[0].an*0.5-G[G.length-1].an*0.5)*m/(R-1),F+=this._pathData.f.v;while(Z)if(W+D>=F+uA||!M)P=(F+uA-W)/q.partialLength,AA=N.point[0]+(q.point[0]-N.point[0])*P,s=N.point[1]+(q.point[1]-N.point[1])*P,K.translate(-E[0]*G[H].an*0.005,-(E[1]*x)*0.01),Z=!1;else if(M){if(W+=q.partialLength,$+=1,$>=M.length)if($=0,X+=1,!L[X])if(T.v.c)$=0,X=0,M=L[X].points;else W-=q.partialLength,M=null;else M=L[X].points;if(M)N=q,q=M[$],D=q.partialLength}o=G[H].an/2-G[H].add,K.translate(-o,0,0)}else o=G[H].an/2-G[H].add,K.translate(-o,0,0),K.translate(-E[0]*G[H].an*0.005,-E[1]*x*0.01,0);for(_=0;_<g;_+=1)if(j=B[_].a,j.t.propType){if(v=B[_].s,p=v.getMult(G[H].anIndexes[_],I.a[_].s.totalChars),U!==0||A.j!==0)if(this._hasMaskedPath)if(p.length)F+=j.t.v*p[0];else F+=j.t.v*p;else if(p.length)U+=j.t.v*p[0];else U+=j.t.v*p}if(A.strokeWidthAnim)l=A.sw||0;if(A.strokeColorAnim)if(A.sc)IA=[A.sc[0],A.sc[1],A.sc[2]];else IA=[0,0,0];if(A.fillColorAnim&&A.fc)UA=[A.fc[0],A.fc[1],A.fc[2]];for(_=0;_<g;_+=1)if(j=B[_].a,j.a.propType)if(v=B[_].s,p=v.getMult(G[H].anIndexes[_],I.a[_].s.totalChars),p.length)K.translate(-j.a.v[0]*p[0],-j.a.v[1]*p[1],j.a.v[2]*p[2]);else K.translate(-j.a.v[0]*p,-j.a.v[1]*p,j.a.v[2]*p);for(_=0;_<g;_+=1)if(j=B[_].a,j.s.propType)if(v=B[_].s,p=v.getMult(G[H].anIndexes[_],I.a[_].s.totalChars),p.length)K.scale(1+(j.s.v[0]-1)*p[0],1+(j.s.v[1]-1)*p[1],1);else K.scale(1+(j.s.v[0]-1)*p,1+(j.s.v[1]-1)*p,1);for(_=0;_<g;_+=1){if(j=B[_].a,v=B[_].s,p=v.getMult(G[H].anIndexes[_],I.a[_].s.totalChars),j.sk.propType)if(p.length)K.skewFromAxis(-j.sk.v*p[0],j.sa.v*p[1]);else K.skewFromAxis(-j.sk.v*p,j.sa.v*p);if(j.r.propType)if(p.length)K.rotateZ(-j.r.v*p[2]);else K.rotateZ(-j.r.v*p);if(j.ry.propType)if(p.length)K.rotateY(j.ry.v*p[1]);else K.rotateY(j.ry.v*p);if(j.rx.propType)if(p.length)K.rotateX(j.rx.v*p[0]);else K.rotateX(j.rx.v*p);if(j.o.propType)if(p.length)YA+=(j.o.v*p[0]-YA)*p[0];else YA+=(j.o.v*p-YA)*p;if(A.strokeWidthAnim&&j.sw.propType)if(p.length)l+=j.sw.v*p[0];else l+=j.sw.v*p;if(A.strokeColorAnim&&j.sc.propType)for(BA=0;BA<3;BA+=1)if(p.length)IA[BA]+=(j.sc.v[BA]-IA[BA])*p[0];else IA[BA]+=(j.sc.v[BA]-IA[BA])*p;if(A.fillColorAnim&&A.fc){if(j.fc.propType)for(BA=0;BA<3;BA+=1)if(p.length)UA[BA]+=(j.fc.v[BA]-UA[BA])*p[0];else UA[BA]+=(j.fc.v[BA]-UA[BA])*p;if(j.fh.propType)if(p.length)UA=addHueToRGB(UA,j.fh.v*p[0]);else UA=addHueToRGB(UA,j.fh.v*p);if(j.fs.propType)if(p.length)UA=addSaturationToRGB(UA,j.fs.v*p[0]);else UA=addSaturationToRGB(UA,j.fs.v*p);if(j.fb.propType)if(p.length)UA=addBrightnessToRGB(UA,j.fb.v*p[0]);else UA=addBrightnessToRGB(UA,j.fb.v*p)}}for(_=0;_<g;_+=1)if(j=B[_].a,j.p.propType)if(v=B[_].s,p=v.getMult(G[H].anIndexes[_],I.a[_].s.totalChars),this._hasMaskedPath)if(p.length)K.translate(0,j.p.v[1]*p[0],-j.p.v[2]*p[1]);else K.translate(0,j.p.v[1]*p,-j.p.v[2]*p);else if(p.length)K.translate(j.p.v[0]*p[0],j.p.v[1]*p[1],-j.p.v[2]*p[2]);else K.translate(j.p.v[0]*p,j.p.v[1]*p,-j.p.v[2]*p);if(A.strokeWidthAnim)n=l<0?0:l;if(A.strokeColorAnim)i="rgb("+Math.round(IA[0]*255)+","+Math.round(IA[1]*255)+","+Math.round(IA[2]*255)+")";if(A.fillColorAnim&&A.fc)KA="rgb("+Math.round(UA[0]*255)+","+Math.round(UA[1]*255)+","+Math.round(UA[2]*255)+")";if(this._hasMaskedPath){if(K.translate(0,-A.ls),K.translate(0,E[1]*x*0.01+Y,0),this._pathData.p.v){V=(q.point[1]-N.point[1])/(q.point[0]-N.point[0]);var z=Math.atan(V)*180/Math.PI;if(q.point[0]<N.point[0])z+=180;K.rotate(-z*Math.PI/180)}if(K.translate(AA,s,0),F-=E[0]*G[H].an*0.005,G[H+1]&&m!==G[H+1].ind)F+=G[H].an/2,F+=A.tr*0.001*A.finalSize}else{if(K.translate(U,Y,0),A.ps)K.translate(A.ps[0],A.ps[1]+A.ascent,0);switch(A.j){case 1:K.translate(G[H].animatorJustifyOffset+A.justifyOffset+(A.boxWidth-A.lineWidths[G[H].line]),0,0);break;case 2:K.translate(G[H].animatorJustifyOffset+A.justifyOffset+(A.boxWidth-A.lineWidths[G[H].line])/2,0,0);break;default:break}K.translate(0,-A.ls),K.translate(o,0,0),K.translate(E[0]*G[H].an*0.005,E[1]*x*0.01,0),U+=G[H].l+A.tr*0.001*A.finalSize}if(J==="html")$A=K.toCSS();else if(J==="svg")$A=K.to2dCSS();else FA=[K.props[0],K.props[1],K.props[2],K.props[3],K.props[4],K.props[5],K.props[6],K.props[7],K.props[8],K.props[9],K.props[10],K.props[11],K.props[12],K.props[13],K.props[14],K.props[15]];e=YA}if(C<=H)b=new LetterProps(e,n,i,KA,$A,FA),this.renderedLetters.push(b),C+=1,this.lettersChangedFlag=!0;else b=this.renderedLetters[H],this.lettersChangedFlag=b.update(e,n,i,KA,$A,FA)||this.lettersChangedFlag}},TextAnimatorProperty.prototype.getValue=function(){if(this._elem.globalData.frameId===this._frameId)return;this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties()},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(A,Q,E){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(A,Q,E),this.textProperty=new TextProperty(this,A.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(A.t,this.renderType,this),this.initTransform(A,Q,E),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(A){if(this._mdf=!1,this.prepareRenderableFrame(A),this.prepareProperties(A,this.isInRange),this.textProperty._mdf||this.textProperty._isFirstFrame)this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1},ITextElement.prototype.createPathShape=function(A,Q){var E,B=Q.length,I,K="";for(E=0;E<B;E+=1)if(Q[E].ty==="sh")I=Q[E].ks.k,K+=buildShapeString(I,I.i.length,!0,A);return K},ITextElement.prototype.updateDocumentData=function(A,Q){this.textProperty.updateDocumentData(A,Q)},ITextElement.prototype.canResizeFont=function(A){this.textProperty.canResizeFont(A)},ITextElement.prototype.setMinimumFontSize=function(A){this.textProperty.setMinimumFontSize(A)},ITextElement.prototype.applyTextPropertiesToMatrix=function(A,Q,E,B,I){if(A.ps)Q.translate(A.ps[0],A.ps[1]+A.ascent,0);switch(Q.translate(0,-A.ls,0),A.j){case 1:Q.translate(A.justifyOffset+(A.boxWidth-A.lineWidths[E]),0,0);break;case 2:Q.translate(A.justifyOffset+(A.boxWidth-A.lineWidths[E])/2,0,0);break;default:break}Q.translate(B,I,0)},ITextElement.prototype.buildColor=function(A){return"rgb("+Math.round(A[0]*255)+","+Math.round(A[1]*255)+","+Math.round(A[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},emptyShapeData={shapes:[]},extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){if(this.data.singleShape&&!this.globalData.fontManager.chars)this.textContainer=createNS("text")},SVGTextLottieElement.prototype.buildTextContents=function(A){var Q=0,E=A.length,B=[],I="";while(Q<E){if(A[Q]===String.fromCharCode(13)||A[Q]===String.fromCharCode(3))B.push(I),I="";else I+=A[Q];Q+=1}return B.push(I),B},SVGTextLottieElement.prototype.buildShapeData=function(A,Q){if(A.shapes&&A.shapes.length){var E=A.shapes[0];if(E.it){var B=E.it[E.it.length-1];if(B.s)B.s.k[0]=Q,B.s.k[1]=Q}}return A},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var A,Q,E=this.textProperty.currentData;if(this.renderedLetters=createSizedArray(E?E.l.length:0),E.fc)this.layerElement.setAttribute("fill",this.buildColor(E.fc));else this.layerElement.setAttribute("fill","rgba(0,0,0,0)");if(E.sc)this.layerElement.setAttribute("stroke",this.buildColor(E.sc)),this.layerElement.setAttribute("stroke-width",E.sw);this.layerElement.setAttribute("font-size",E.finalSize);var B=this.globalData.fontManager.getFontByName(E.f);if(B.fClass)this.layerElement.setAttribute("class",B.fClass);else{this.layerElement.setAttribute("font-family",B.fFamily);var{fWeight:I,fStyle:K}=E;this.layerElement.setAttribute("font-style",K),this.layerElement.setAttribute("font-weight",I)}this.layerElement.setAttribute("aria-label",E.t);var J=E.l||[],C=!!this.globalData.fontManager.chars;Q=J.length;var U,Y=this.mHelper,H="",R=this.data.singleShape,G=0,O=0,F=!0,q=E.tr*0.001*E.finalSize;if(R&&!C&&!E.sz){var W=this.textContainer,Z="start";switch(E.j){case 1:Z="end";break;case 2:Z="middle";break;default:Z="start";break}W.setAttribute("text-anchor",Z),W.setAttribute("letter-spacing",q);var $=this.buildTextContents(E.finalText);Q=$.length,O=E.ps?E.ps[1]+E.ascent:0;for(A=0;A<Q;A+=1){if(U=this.textSpans[A].span||createNS("tspan"),U.textContent=$[A],U.setAttribute("x",0),U.setAttribute("y",O),U.style.display="inherit",W.appendChild(U),!this.textSpans[A])this.textSpans[A]={span:null,glyph:null};this.textSpans[A].span=U,O+=E.finalLineHeight}this.layerElement.appendChild(W)}else{var X=this.textSpans.length,N;for(A=0;A<Q;A+=1){if(!this.textSpans[A])this.textSpans[A]={span:null,childSpan:null,glyph:null};if(!C||!R||A===0){if(U=X>A?this.textSpans[A].span:createNS(C?"g":"text"),X<=A){if(U.setAttribute("stroke-linecap","butt"),U.setAttribute("stroke-linejoin","round"),U.setAttribute("stroke-miterlimit","4"),this.textSpans[A].span=U,C){var M=createNS("g");U.appendChild(M),this.textSpans[A].childSpan=M}this.textSpans[A].span=U,this.layerElement.appendChild(U)}U.style.display="inherit"}if(Y.reset(),R){if(J[A].n)G=-q,O+=E.yOffset,O+=F?1:0,F=!1;this.applyTextPropertiesToMatrix(E,Y,J[A].line,G,O),G+=J[A].l||0,G+=q}if(C){N=this.globalData.fontManager.getCharData(E.finalText[A],B.fStyle,this.globalData.fontManager.getFontByName(E.f).fFamily);var L;if(N.t===1)L=new SVGCompElement(N.data,this.globalData,this);else{var D=emptyShapeData;if(N.data&&N.data.shapes)D=this.buildShapeData(N.data,E.finalSize);L=new SVGShapeElement(D,this.globalData,this)}if(this.textSpans[A].glyph){var w=this.textSpans[A].glyph;this.textSpans[A].childSpan.removeChild(w.layerElement),w.destroy()}if(this.textSpans[A].glyph=L,L._debug=!0,L.prepareFrame(0),L.renderFrame(),this.textSpans[A].childSpan.appendChild(L.layerElement),N.t===1)this.textSpans[A].childSpan.setAttribute("transform","scale("+E.finalSize/100+","+E.finalSize/100+")")}else{if(R)U.setAttribute("transform","translate("+Y.props[12]+","+Y.props[13]+")");U.textContent=J[A].val,U.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}}if(R&&U)U.setAttribute("d",H)}while(A<this.textSpans.length)this.textSpans[A].span.style.display="none",A+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var A=this.layerElement.getBBox();this.bbox={top:A.y,left:A.x,width:A.width,height:A.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var A,Q=this.textSpans.length,E;this.renderedFrame=this.comp.renderedFrame;for(A=0;A<Q;A+=1)if(E=this.textSpans[A].glyph,E){if(E.prepareFrame(this.comp.renderedFrame-this.data.st),E._mdf)this._mdf=!0}},SVGTextLottieElement.prototype.renderInnerContent=function(){if(!this.data.singleShape||this._mdf){if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){this._sizeChanged=!0;var A,Q,E=this.textAnimator.renderedLetters,B=this.textProperty.currentData.l;Q=B.length;var I,K,J;for(A=0;A<Q;A+=1)if(!B[A].n){if(I=E[A],K=this.textSpans[A].span,J=this.textSpans[A].glyph,J)J.renderFrame();if(I._mdf.m)K.setAttribute("transform",I.m);if(I._mdf.o)K.setAttribute("opacity",I.o);if(I._mdf.sw)K.setAttribute("stroke-width",I.sw);if(I._mdf.sc)K.setAttribute("stroke",I.sc);if(I._mdf.fc)K.setAttribute("fill",I.fc)}}}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var A=createNS("rect");A.setAttribute("width",this.data.sw),A.setAttribute("height",this.data.sh),A.setAttribute("fill",this.data.sc),this.layerElement.appendChild(A)},NullElement.prototype.prepareFrame=function(A){this.prepareProperties(A,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(A){return new NullElement(A,this.globalData,this)},SVGRendererBase.prototype.createShape=function(A){return new SVGShapeElement(A,this.globalData,this)},SVGRendererBase.prototype.createText=function(A){return new SVGTextLottieElement(A,this.globalData,this)},SVGRendererBase.prototype.createImage=function(A){return new IImageElement(A,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(A){return new ISolidElement(A,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(A){if(this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize)this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize);else this.svgElement.setAttribute("viewBox","0 0 "+A.w+" "+A.h);if(!this.renderConfig.viewBoxOnly)this.svgElement.setAttribute("width",A.w),this.svgElement.setAttribute("height",A.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility;if(this.renderConfig.width)this.svgElement.setAttribute("width",this.renderConfig.width);if(this.renderConfig.height)this.svgElement.setAttribute("height",this.renderConfig.height);if(this.renderConfig.className)this.svgElement.setAttribute("class",this.renderConfig.className);if(this.renderConfig.id)this.svgElement.setAttribute("id",this.renderConfig.id);if(this.renderConfig.focusable!==void 0)this.svgElement.setAttribute("focusable",this.renderConfig.focusable);this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var Q=this.globalData.defs;this.setupGlobalData(A,Q),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=A;var E=createNS("clipPath"),B=createNS("rect");B.setAttribute("width",A.w),B.setAttribute("height",A.h),B.setAttribute("x",0),B.setAttribute("y",0);var I=createElementID();E.setAttribute("id",I),E.appendChild(B),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+I+")"),Q.appendChild(E),this.layers=A.layers,this.elements=createSizedArray(A.layers.length)},SVGRendererBase.prototype.destroy=function(){if(this.animationItem.wrapper)this.animationItem.wrapper.innerText="";this.layerElement=null,this.globalData.defs=null;var A,Q=this.layers?this.layers.length:0;for(A=0;A<Q;A+=1)if(this.elements[A])this.elements[A].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.buildItem=function(A){var Q=this.elements;if(Q[A]||this.layers[A].ty===99)return;Q[A]=!0;var E=this.createItem(this.layers[A]);if(Q[A]=E,getExpressionsPlugin()){if(this.layers[A].ty===0)this.globalData.projectInterface.registerComposition(E);E.initExpressions()}if(this.appendElementInPos(E,A),this.layers[A].tt)if(!this.elements[A-1]||this.elements[A-1]===!0)this.buildItem(A-1),this.addPendingElement(E);else E.setMatte(Q[A-1].layerId)},SVGRendererBase.prototype.checkPendingElements=function(){while(this.pendingElements.length){var A=this.pendingElements.pop();if(A.checkParenting(),A.data.tt){var Q=0,E=this.elements.length;while(Q<E){if(this.elements[Q]===A){A.setMatte(this.elements[Q-1].layerId);break}Q+=1}}}},SVGRendererBase.prototype.renderFrame=function(A){if(this.renderedFrame===A||this.destroyed)return;if(A===null)A=this.renderedFrame;else this.renderedFrame=A;this.globalData.frameNum=A,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=A,this.globalData._mdf=!1;var Q,E=this.layers.length;if(!this.completeLayers)this.checkLayers(A);for(Q=E-1;Q>=0;Q-=1)if(this.completeLayers||this.elements[Q])this.elements[Q].prepareFrame(A-this.layers[Q].st);if(this.globalData._mdf){for(Q=0;Q<E;Q+=1)if(this.completeLayers||this.elements[Q])this.elements[Q].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(A,Q){var E=A.getBaseElement();if(!E)return;var B=0,I;while(B<Q){if(this.elements[B]&&this.elements[B]!==!0&&this.elements[B].getBaseElement())I=this.elements[B].getBaseElement();B+=1}if(I)this.layerElement.insertBefore(E,I);else this.layerElement.appendChild(E)},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(A,Q,E){if(this.initFrame(),this.initBaseData(A,Q,E),this.initTransform(A,Q,E),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.data.xt||!Q.progressiveLoad)this.buildAllItems();this.hide()},ICompElement.prototype.prepareFrame=function(A){if(this._mdf=!1,this.prepareRenderableFrame(A),this.prepareProperties(A,this.isInRange),!this.isInRange&&!this.data.xt)return;if(!this.tm._placeholder){var Q=this.tm.v;if(Q===this.data.op)Q=this.data.op-1;this.renderedFrame=Q}else this.renderedFrame=A/this.data.sr;var E,B=this.elements.length;if(!this.completeLayers)this.checkLayers(this.renderedFrame);for(E=B-1;E>=0;E-=1)if(this.completeLayers||this.elements[E]){if(this.elements[E].prepareFrame(this.renderedFrame-this.layers[E].st),this.elements[E]._mdf)this._mdf=!0}},ICompElement.prototype.renderInnerContent=function(){var A,Q=this.layers.length;for(A=0;A<Q;A+=1)if(this.completeLayers||this.elements[A])this.elements[A].renderFrame()},ICompElement.prototype.setElements=function(A){this.elements=A},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var A,Q=this.layers.length;for(A=0;A<Q;A+=1)if(this.elements[A])this.elements[A].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(A){return new SVGCompElement(A,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(A){return new SVGCompElement(A,this.globalData,this)},CVContextData.prototype.duplicate=function(){var A=this._length*2,Q=this.savedOp;this.savedOp=createTypedArray("float32",A),this.savedOp.set(Q);var E=0;for(E=this._length;E<A;E+=1)this.saved[E]=createTypedArray("float32",16);this._length=A},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},ShapeTransformManager.prototype={addTransformSequence:function(A){var Q,E=A.length,B="_";for(Q=0;Q<E;Q+=1)B+=A[Q].transform.key+"_";var I=this.sequences[B];if(!I)I={transforms:[].concat(A),finalTransform:new Matrix,_mdf:!1},this.sequences[B]=I,this.sequenceList.push(I);return I},processSequence:function(A,Q){var E=0,B=A.transforms.length,I=Q;while(E<B&&!Q){if(A.transforms[E].transform.mProps._mdf){I=!0;break}E+=1}if(I){var K;A.finalTransform.reset();for(E=B-1;E>=0;E-=1)K=A.transforms[E].transform.mProps.v.props,A.finalTransform.transform(K[0],K[1],K[2],K[3],K[4],K[5],K[6],K[7],K[8],K[9],K[10],K[11],K[12],K[13],K[14],K[15])}A._mdf=I},processSequences:function(A){var Q,E=this.sequenceList.length;for(Q=0;Q<E;Q+=1)this.processSequence(this.sequenceList[Q],A)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}},CVEffects.prototype.renderFrame=function(){},CVMaskElement.prototype.renderFrame=function(){if(!this.hasMasks)return;var A=this.element.finalTransform.mat,Q=this.element.canvasContext,E,B=this.masksProperties.length,I,K,J;Q.beginPath();for(E=0;E<B;E+=1)if(this.masksProperties[E].mode!=="n"){if(this.masksProperties[E].inv)Q.moveTo(0,0),Q.lineTo(this.element.globalData.compSize.w,0),Q.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),Q.lineTo(0,this.element.globalData.compSize.h),Q.lineTo(0,0);J=this.viewData[E].v,I=A.applyToPointArray(J.v[0][0],J.v[0][1],0),Q.moveTo(I[0],I[1]);var C,U=J._length;for(C=1;C<U;C+=1)K=A.applyToTriplePoints(J.o[C-1],J.i[C],J.v[C]),Q.bezierCurveTo(K[0],K[1],K[2],K[3],K[4],K[5]);K=A.applyToTriplePoints(J.o[C-1],J.i[0],J.v[0]),Q.bezierCurveTo(K[0],K[1],K[2],K[3],K[4],K[5])}this.element.globalData.renderer.save(!0),Q.clip()},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var A=this.globalData;if(A.blendMode!==this.data.bm){A.blendMode=this.data.bm;var Q=getBlendMode(this.data.bm);A.canvasContext.globalCompositeOperation=Q}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent))this.hidden=!0},showElement:function(){if(this.isInRange&&!this.isTransparent)this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0},renderFrame:function(){if(this.hidden||this.data.hd)return;this.renderTransform(),this.renderRenderable(),this.setBlendMode();var A=this.data.ty===0;if(this.globalData.renderer.save(A),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(A),this.maskManager.hasMasks)this.globalData.renderer.restore(!0);if(this._isFirstFrame)this._isFirstFrame=!1},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(A,Q){var E={data:A,type:A.ty,preTransforms:this.transformsManager.addTransformSequence(Q),transforms:[],elements:[],closed:A.hd===!0},B={};if(A.ty==="fl"||A.ty==="st"){if(B.c=PropertyFactory.getProp(this,A.c,1,255,this),!B.c.k)E.co="rgb("+bmFloor(B.c.v[0])+","+bmFloor(B.c.v[1])+","+bmFloor(B.c.v[2])+")"}else if(A.ty==="gf"||A.ty==="gs")B.s=PropertyFactory.getProp(this,A.s,1,null,this),B.e=PropertyFactory.getProp(this,A.e,1,null,this),B.h=PropertyFactory.getProp(this,A.h||{k:0},0,0.01,this),B.a=PropertyFactory.getProp(this,A.a||{k:0},0,degToRads,this),B.g=new GradientProperty(this,A.g,this);if(B.o=PropertyFactory.getProp(this,A.o,0,0.01,this),A.ty==="st"||A.ty==="gs"){if(E.lc=lineCapEnum[A.lc||2],E.lj=lineJoinEnum[A.lj||2],A.lj==1)E.ml=A.ml;if(B.w=PropertyFactory.getProp(this,A.w,0,null,this),!B.w.k)E.wi=B.w.v;if(A.d){var I=new DashProperty(this,A.d,"canvas",this);if(B.d=I,!B.d.k)E.da=B.d.dashArray,E.do=B.d.dashoffset[0]}}else E.r=A.r===2?"evenodd":"nonzero";return this.stylesList.push(E),B.style=E,B},CVShapeElement.prototype.createGroupElement=function(){var A={it:[],prevViewData:[]};return A},CVShapeElement.prototype.createTransformElement=function(A){var Q={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,A.o,0,0.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,A,this)}};return Q},CVShapeElement.prototype.createShapeElement=function(A){var Q=new CVShapeData(this,A,this.stylesList,this.transformsManager);return this.shapes.push(Q),this.addShapeToModifiers(Q),Q},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var A,Q=this.itemsData.length;for(A=0;A<Q;A+=1)this.prevViewData[A]=this.itemsData[A];this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),Q=this.dynamicProperties.length;for(A=0;A<Q;A+=1)this.dynamicProperties[A].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(A){var Q,E=this.stylesList.length;for(Q=0;Q<E;Q+=1)if(!this.stylesList[Q].closed)this.stylesList[Q].transforms.push(A)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var A,Q=this.stylesList.length;for(A=0;A<Q;A+=1)if(!this.stylesList[A].closed)this.stylesList[A].transforms.pop()},CVShapeElement.prototype.closeStyles=function(A){var Q,E=A.length;for(Q=0;Q<E;Q+=1)A[Q].closed=!0},CVShapeElement.prototype.searchShapes=function(A,Q,E,B,I){var K,J=A.length-1,C,U,Y=[],H=[],R,G,O,F=[].concat(I);for(K=J;K>=0;K-=1){if(R=this.searchProcessedElement(A[K]),!R)A[K]._shouldRender=B;else Q[K]=E[R-1];if(A[K].ty==="fl"||A[K].ty==="st"||A[K].ty==="gf"||A[K].ty==="gs"){if(!R)Q[K]=this.createStyleElement(A[K],F);else Q[K].style.closed=!1;Y.push(Q[K].style)}else if(A[K].ty==="gr"){if(!R)Q[K]=this.createGroupElement(A[K]);else{U=Q[K].it.length;for(C=0;C<U;C+=1)Q[K].prevViewData[C]=Q[K].it[C]}this.searchShapes(A[K].it,Q[K].it,Q[K].prevViewData,B,F)}else if(A[K].ty==="tr"){if(!R)O=this.createTransformElement(A[K]),Q[K]=O;F.push(Q[K]),this.addTransformToStyleList(Q[K])}else if(A[K].ty==="sh"||A[K].ty==="rc"||A[K].ty==="el"||A[K].ty==="sr"){if(!R)Q[K]=this.createShapeElement(A[K])}else if(A[K].ty==="tm"||A[K].ty==="rd"||A[K].ty==="pb"){if(!R)G=ShapeModifiers.getModifier(A[K].ty),G.init(this,A[K]),Q[K]=G,this.shapeModifiers.push(G);else G=Q[K],G.closed=!1;H.push(G)}else if(A[K].ty==="rp"){if(!R)G=ShapeModifiers.getModifier(A[K].ty),Q[K]=G,G.init(this,A,K,Q),this.shapeModifiers.push(G),B=!1;else G=Q[K],G.closed=!0;H.push(G)}this.addProcessedElement(A[K],K+1)}this.removeTransformFromStyleList(),this.closeStyles(Y),J=H.length;for(K=0;K<J;K+=1)H[K].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(A,Q){if(A._opMdf||Q.op._mdf||this._isFirstFrame)Q.opacity=A.opacity,Q.opacity*=Q.op.v,Q._opMdf=!0},CVShapeElement.prototype.drawLayer=function(){var A,Q=this.stylesList.length,E,B,I,K,J,C,U=this.globalData.renderer,Y=this.globalData.canvasContext,H,R;for(A=0;A<Q;A+=1)if(R=this.stylesList[A],H=R.type,!((H==="st"||H==="gs")&&R.wi===0||!R.data._shouldRender||R.coOp===0||this.globalData.currentGlobalAlpha===0)){if(U.save(),J=R.elements,H==="st"||H==="gs")Y.strokeStyle=H==="st"?R.co:R.grd,Y.lineWidth=R.wi,Y.lineCap=R.lc,Y.lineJoin=R.lj,Y.miterLimit=R.ml||0;else Y.fillStyle=H==="fl"?R.co:R.grd;if(U.ctxOpacity(R.coOp),H!=="st"&&H!=="gs")Y.beginPath();U.ctxTransform(R.preTransforms.finalTransform.props),B=J.length;for(E=0;E<B;E+=1){if(H==="st"||H==="gs"){if(Y.beginPath(),R.da)Y.setLineDash(R.da),Y.lineDashOffset=R.do}C=J[E].trNodes,K=C.length;for(I=0;I<K;I+=1)if(C[I].t==="m")Y.moveTo(C[I].p[0],C[I].p[1]);else if(C[I].t==="c")Y.bezierCurveTo(C[I].pts[0],C[I].pts[1],C[I].pts[2],C[I].pts[3],C[I].pts[4],C[I].pts[5]);else Y.closePath();if(H==="st"||H==="gs"){if(Y.stroke(),R.da)Y.setLineDash(this.dashResetter)}}if(H!=="st"&&H!=="gs")Y.fill(R.r);U.restore()}},CVShapeElement.prototype.renderShape=function(A,Q,E,B){var I,K=Q.length-1,J;J=A;for(I=K;I>=0;I-=1)if(Q[I].ty==="tr")J=E[I].transform,this.renderShapeTransform(A,J);else if(Q[I].ty==="sh"||Q[I].ty==="el"||Q[I].ty==="rc"||Q[I].ty==="sr")this.renderPath(Q[I],E[I]);else if(Q[I].ty==="fl")this.renderFill(Q[I],E[I],J);else if(Q[I].ty==="st")this.renderStroke(Q[I],E[I],J);else if(Q[I].ty==="gf"||Q[I].ty==="gs")this.renderGradientFill(Q[I],E[I],J);else if(Q[I].ty==="gr")this.renderShape(J,Q[I].it,E[I].it);else if(Q[I].ty==="tm");if(B)this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(A,Q){if(this._isFirstFrame||Q._mdf||A.transforms._mdf){var E=A.trNodes,B=Q.paths,I,K,J,C=B._length;E.length=0;var U=A.transforms.finalTransform;for(J=0;J<C;J+=1){var Y=B.shapes[J];if(Y&&Y.v){K=Y._length;for(I=1;I<K;I+=1){if(I===1)E.push({t:"m",p:U.applyToPointArray(Y.v[0][0],Y.v[0][1],0)});E.push({t:"c",pts:U.applyToTriplePoints(Y.o[I-1],Y.i[I],Y.v[I])})}if(K===1)E.push({t:"m",p:U.applyToPointArray(Y.v[0][0],Y.v[0][1],0)});if(Y.c&&K)E.push({t:"c",pts:U.applyToTriplePoints(Y.o[I-1],Y.i[0],Y.v[0])}),E.push({t:"z"})}}A.trNodes=E}},CVShapeElement.prototype.renderPath=function(A,Q){if(A.hd!==!0&&A._shouldRender){var E,B=Q.styledShapes.length;for(E=0;E<B;E+=1)this.renderStyledShape(Q.styledShapes[E],Q.sh)}},CVShapeElement.prototype.renderFill=function(A,Q,E){var B=Q.style;if(Q.c._mdf||this._isFirstFrame)B.co="rgb("+bmFloor(Q.c.v[0])+","+bmFloor(Q.c.v[1])+","+bmFloor(Q.c.v[2])+")";if(Q.o._mdf||E._opMdf||this._isFirstFrame)B.coOp=Q.o.v*E.opacity},CVShapeElement.prototype.renderGradientFill=function(A,Q,E){var B=Q.style,I;if(!B.grd||Q.g._mdf||Q.s._mdf||Q.e._mdf||A.t!==1&&(Q.h._mdf||Q.a._mdf)){var K=this.globalData.canvasContext,J=Q.s.v,C=Q.e.v;if(A.t===1)I=K.createLinearGradient(J[0],J[1],C[0],C[1]);else{var U=Math.sqrt(Math.pow(J[0]-C[0],2)+Math.pow(J[1]-C[1],2)),Y=Math.atan2(C[1]-J[1],C[0]-J[0]),H=Q.h.v;if(H>=1)H=0.99;else if(H<=-1)H=-0.99;var R=U*H,G=Math.cos(Y+Q.a.v)*R+J[0],O=Math.sin(Y+Q.a.v)*R+J[1];I=K.createRadialGradient(G,O,0,J[0],J[1],U)}var F,q=A.g.p,W=Q.g.c,Z=1;for(F=0;F<q;F+=1){if(Q.g._hasOpacity&&Q.g._collapsable)Z=Q.g.o[F*2+1];I.addColorStop(W[F*4]/100,"rgba("+W[F*4+1]+","+W[F*4+2]+","+W[F*4+3]+","+Z+")")}B.grd=I}B.coOp=Q.o.v*E.opacity},CVShapeElement.prototype.renderStroke=function(A,Q,E){var{style:B,d:I}=Q;if(I&&(I._mdf||this._isFirstFrame))B.da=I.dashArray,B.do=I.dashoffset[0];if(Q.c._mdf||this._isFirstFrame)B.co="rgb("+bmFloor(Q.c.v[0])+","+bmFloor(Q.c.v[1])+","+bmFloor(Q.c.v[2])+")";if(Q.o._mdf||E._opMdf||this._isFirstFrame)B.coOp=Q.o.v*E.opacity;if(Q.w._mdf||this._isFirstFrame)B.wi=Q.w.v},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var A=this.textProperty.currentData;this.renderedLetters=createSizedArray(A.l?A.l.length:0);var Q=!1;if(A.fc)Q=!0,this.values.fill=this.buildColor(A.fc);else this.values.fill="rgba(0,0,0,0)";this.fill=Q;var E=!1;if(A.sc)E=!0,this.values.stroke=this.buildColor(A.sc),this.values.sWidth=A.sw;var B=this.globalData.fontManager.getFontByName(A.f),I,K,J=A.l,C=this.mHelper;this.stroke=E,this.values.fValue=A.finalSize+"px "+this.globalData.fontManager.getFontByName(A.f).fFamily,K=A.finalText.length;var U,Y,H,R,G,O,F,q,W,Z,$=this.data.singleShape,X=A.tr*0.001*A.finalSize,N=0,M=0,L=!0,D=0;for(I=0;I<K;I+=1){if(U=this.globalData.fontManager.getCharData(A.finalText[I],B.fStyle,this.globalData.fontManager.getFontByName(A.f).fFamily),Y=U&&U.data||{},C.reset(),$&&J[I].n)N=-X,M+=A.yOffset,M+=L?1:0,L=!1;if(G=Y.shapes?Y.shapes[0].it:[],F=G.length,C.scale(A.finalSize/100,A.finalSize/100),$)this.applyTextPropertiesToMatrix(A,C,J[I].line,N,M);W=createSizedArray(F-1);var w=0;for(O=0;O<F;O+=1)if(G[O].ty==="sh"){R=G[O].ks.k.i.length,q=G[O].ks.k,Z=[];for(H=1;H<R;H+=1){if(H===1)Z.push(C.applyToX(q.v[0][0],q.v[0][1],0),C.applyToY(q.v[0][0],q.v[0][1],0));Z.push(C.applyToX(q.o[H-1][0],q.o[H-1][1],0),C.applyToY(q.o[H-1][0],q.o[H-1][1],0),C.applyToX(q.i[H][0],q.i[H][1],0),C.applyToY(q.i[H][0],q.i[H][1],0),C.applyToX(q.v[H][0],q.v[H][1],0),C.applyToY(q.v[H][0],q.v[H][1],0))}Z.push(C.applyToX(q.o[H-1][0],q.o[H-1][1],0),C.applyToY(q.o[H-1][0],q.o[H-1][1],0),C.applyToX(q.i[0][0],q.i[0][1],0),C.applyToY(q.i[0][0],q.i[0][1],0),C.applyToX(q.v[0][0],q.v[0][1],0),C.applyToY(q.v[0][0],q.v[0][1],0)),W[w]=Z,w+=1}if($)N+=J[I].l,N+=X;if(this.textSpans[D])this.textSpans[D].elem=W;else this.textSpans[D]={elem:W};D+=1}},CVTextElement.prototype.renderInnerContent=function(){var A=this.canvasContext;if(A.font=this.values.fValue,A.lineCap="butt",A.lineJoin="miter",A.miterLimit=4,!this.data.singleShape)this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var Q,E,B,I,K,J,C=this.textAnimator.renderedLetters,U=this.textProperty.currentData.l;E=U.length;var Y,H=null,R=null,G=null,O,F;for(Q=0;Q<E;Q+=1)if(!U[Q].n){if(Y=C[Q],Y)this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(Y.p),this.globalData.renderer.ctxOpacity(Y.o);if(this.fill){if(Y&&Y.fc){if(H!==Y.fc)H=Y.fc,A.fillStyle=Y.fc}else if(H!==this.values.fill)H=this.values.fill,A.fillStyle=this.values.fill;O=this.textSpans[Q].elem,I=O.length,this.globalData.canvasContext.beginPath();for(B=0;B<I;B+=1){F=O[B],J=F.length,this.globalData.canvasContext.moveTo(F[0],F[1]);for(K=2;K<J;K+=6)this.globalData.canvasContext.bezierCurveTo(F[K],F[K+1],F[K+2],F[K+3],F[K+4],F[K+5])}this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){if(Y&&Y.sw){if(G!==Y.sw)G=Y.sw,A.lineWidth=Y.sw}else if(G!==this.values.sWidth)G=this.values.sWidth,A.lineWidth=this.values.sWidth;if(Y&&Y.sc){if(R!==Y.sc)R=Y.sc,A.strokeStyle=Y.sc}else if(R!==this.values.stroke)R=this.values.stroke,A.strokeStyle=this.values.stroke;O=this.textSpans[Q].elem,I=O.length,this.globalData.canvasContext.beginPath();for(B=0;B<I;B+=1){F=O[B],J=F.length,this.globalData.canvasContext.moveTo(F[0],F[1]);for(K=2;K<J;K+=6)this.globalData.canvasContext.bezierCurveTo(F[K],F[K+1],F[K+2],F[K+3],F[K+4],F[K+5])}this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}if(Y)this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var A=createTag("canvas");A.width=this.assetData.w,A.height=this.assetData.h;var Q=A.getContext("2d"),E=this.img.width,B=this.img.height,I=E/B,K=this.assetData.w/this.assetData.h,J,C,U=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;if(I>K&&U==="xMidYMid slice"||I<K&&U!=="xMidYMid slice")C=B,J=C*K;else J=E,C=J/K;Q.drawImage(this.img,(E-J)/2,(B-C)/2,J,C,0,0,this.assetData.w,this.assetData.h),this.img=A}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var A=this.canvasContext;A.fillStyle=this.data.sc,A.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(A){return new CVShapeElement(A,this.globalData,this)},CanvasRendererBase.prototype.createText=function(A){return new CVTextElement(A,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(A){return new CVImageElement(A,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(A){return new CVSolidElement(A,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(A){if(A[0]===1&&A[1]===0&&A[4]===0&&A[5]===1&&A[12]===0&&A[13]===0)return;if(!this.renderConfig.clearCanvas){this.canvasContext.transform(A[0],A[1],A[4],A[5],A[12],A[13]);return}this.transformMat.cloneFromProps(A);var Q=this.contextData.cTr.props;this.transformMat.transform(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5],Q[6],Q[7],Q[8],Q[9],Q[10],Q[11],Q[12],Q[13],Q[14],Q[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var E=this.contextData.cTr.props;this.canvasContext.setTransform(E[0],E[1],E[4],E[5],E[12],E[13])},CanvasRendererBase.prototype.ctxOpacity=function(A){if(!this.renderConfig.clearCanvas){this.canvasContext.globalAlpha*=A<0?0:A,this.globalData.currentGlobalAlpha=this.contextData.cO;return}if(this.contextData.cO*=A<0?0:A,this.globalData.currentGlobalAlpha!==this.contextData.cO)this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(A){if(!this.renderConfig.clearCanvas){this.canvasContext.save();return}if(A)this.canvasContext.save();var Q=this.contextData.cTr.props;if(this.contextData._length<=this.contextData.cArrPos)this.contextData.duplicate();var E,B=this.contextData.saved[this.contextData.cArrPos];for(E=0;E<16;E+=1)B[E]=Q[E];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1},CanvasRendererBase.prototype.restore=function(A){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}if(A)this.canvasContext.restore(),this.globalData.blendMode="source-over";this.contextData.cArrPos-=1;var Q=this.contextData.saved[this.contextData.cArrPos],E,B=this.contextData.cTr.props;for(E=0;E<16;E+=1)B[E]=Q[E];if(this.canvasContext.setTransform(Q[0],Q[1],Q[4],Q[5],Q[12],Q[13]),Q=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=Q,this.globalData.currentGlobalAlpha!==Q)this.canvasContext.globalAlpha=Q,this.globalData.currentGlobalAlpha=Q},CanvasRendererBase.prototype.configAnimation=function(A){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var Q=this.animationItem.container.style;Q.width="100%",Q.height="100%";var E="0px 0px 0px";if(Q.transformOrigin=E,Q.mozTransformOrigin=E,Q.webkitTransformOrigin=E,Q["-webkit-transform"]=E,Q.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className)this.animationItem.container.setAttribute("class",this.renderConfig.className);if(this.renderConfig.id)this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=A,this.layers=A.layers,this.transformCanvas={w:A.w,h:A.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(A,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(A.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(){this.reset();var A,Q;if(this.animationItem.wrapper&&this.animationItem.container)A=this.animationItem.wrapper.offsetWidth,Q=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",A*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",Q*this.renderConfig.dpr);else A=this.canvasContext.canvas.width*this.renderConfig.dpr,Q=this.canvasContext.canvas.height*this.renderConfig.dpr;var E,B;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var I=this.renderConfig.preserveAspectRatio.split(" "),K=I[1]||"meet",J=I[0]||"xMidYMid",C=J.substr(0,4),U=J.substr(4);if(E=A/Q,B=this.transformCanvas.w/this.transformCanvas.h,B>E&&K==="meet"||B<E&&K==="slice")this.transformCanvas.sx=A/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=A/(this.transformCanvas.w/this.renderConfig.dpr);else this.transformCanvas.sx=Q/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=Q/(this.transformCanvas.h/this.renderConfig.dpr);if(C==="xMid"&&(B<E&&K==="meet"||B>E&&K==="slice"))this.transformCanvas.tx=(A-this.transformCanvas.w*(Q/this.transformCanvas.h))/2*this.renderConfig.dpr;else if(C==="xMax"&&(B<E&&K==="meet"||B>E&&K==="slice"))this.transformCanvas.tx=(A-this.transformCanvas.w*(Q/this.transformCanvas.h))*this.renderConfig.dpr;else this.transformCanvas.tx=0;if(U==="YMid"&&(B>E&&K==="meet"||B<E&&K==="slice"))this.transformCanvas.ty=(Q-this.transformCanvas.h*(A/this.transformCanvas.w))/2*this.renderConfig.dpr;else if(U==="YMax"&&(B>E&&K==="meet"||B<E&&K==="slice"))this.transformCanvas.ty=(Q-this.transformCanvas.h*(A/this.transformCanvas.w))*this.renderConfig.dpr;else this.transformCanvas.ty=0}else if(this.renderConfig.preserveAspectRatio==="none")this.transformCanvas.sx=A/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=Q/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0;else this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0;this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){if(this.renderConfig.clearCanvas&&this.animationItem.wrapper)this.animationItem.wrapper.innerText="";var A,Q=this.layers?this.layers.length:0;for(A=Q-1;A>=0;A-=1)if(this.elements[A])this.elements[A].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(A,Q){if(this.renderedFrame===A&&this.renderConfig.clearCanvas===!0&&!Q||this.destroyed||A===-1)return;this.renderedFrame=A,this.globalData.frameNum=A-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||Q,this.globalData.projectInterface.currentFrame=A;var E,B=this.layers.length;if(!this.completeLayers)this.checkLayers(A);for(E=0;E<B;E+=1)if(this.completeLayers||this.elements[E])this.elements[E].prepareFrame(A-this.layers[E].st);if(this.globalData._mdf){if(this.renderConfig.clearCanvas===!0)this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h);else this.save();for(E=B-1;E>=0;E-=1)if(this.completeLayers||this.elements[E])this.elements[E].renderFrame();if(this.renderConfig.clearCanvas!==!0)this.restore()}},CanvasRendererBase.prototype.buildItem=function(A){var Q=this.elements;if(Q[A]||this.layers[A].ty===99)return;var E=this.createItem(this.layers[A],this,this.globalData);Q[A]=E,E.initExpressions()},CanvasRendererBase.prototype.checkPendingElements=function(){while(this.pendingElements.length){var A=this.pendingElements.pop();A.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var A=this.canvasContext;A.beginPath(),A.moveTo(0,0),A.lineTo(this.data.w,0),A.lineTo(this.data.w,this.data.h),A.lineTo(0,this.data.h),A.lineTo(0,0),A.clip();var Q,E=this.layers.length;for(Q=E-1;Q>=0;Q-=1)if(this.completeLayers||this.elements[Q])this.elements[Q].renderFrame()},CVCompElement.prototype.destroy=function(){var A,Q=this.layers.length;for(A=Q-1;A>=0;A-=1)if(this.elements[A])this.elements[A].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(A){return new CVCompElement(A,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(A){return new CVCompElement(A,this.globalData,this)},registerRenderer("canvas",CanvasRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier);const Expressions=function(){var A={};A.initExpressions=Q;function Q(E){var B=0,I=[];function K(){B+=1}function J(){if(B-=1,B===0)U()}function C(Y){if(I.indexOf(Y)===-1)I.push(Y)}function U(){var Y,H=I.length;for(Y=0;Y<H;Y+=1)I[Y].release();I.length=0}E.renderer.compInterface=CompExpressionInterface(E.renderer),E.renderer.globalData.projectInterface.registerComposition(E.renderer),E.renderer.globalData.pushExpression=K,E.renderer.globalData.popExpression=J,E.renderer.globalData.registerExpressionProperty=C}return A}();propTypes={SHAPE:"shape"};const ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null;initialize$2(BMMath);function $bm_isInstanceOfArray(A){return A.constructor===Array||A.constructor===Float32Array}function isNumerable(A,Q){return A==="number"||A==="boolean"||A==="string"||Q instanceof Number}function $bm_neg(A){var Q=typeof A;if(Q==="number"||Q==="boolean"||A instanceof Number)return-A;if($bm_isInstanceOfArray(A)){var E,B=A.length,I=[];for(E=0;E<B;E+=1)I[E]=-A[E];return I}if(A.propType)return A.v;return-A}var easeInBez=BezierFactory.getBezierEasing(0.333,0,0.833,0.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(0.167,0.167,0.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(0.33,0,0.667,1,"easeInOut").get;function sum(A,Q){var E=typeof A,B=typeof Q;if(E==="string"||B==="string")return A+Q;if(isNumerable(E,A)&&isNumerable(B,Q))return A+Q;if($bm_isInstanceOfArray(A)&&isNumerable(B,Q))return A=A.slice(0),A[0]+=Q,A;if(isNumerable(E,A)&&$bm_isInstanceOfArray(Q))return Q=Q.slice(0),Q[0]=A+Q[0],Q;if($bm_isInstanceOfArray(A)&&$bm_isInstanceOfArray(Q)){var I=0,K=A.length,J=Q.length,C=[];while(I<K||I<J){if((typeof A[I]==="number"||A[I]instanceof Number)&&(typeof Q[I]==="number"||Q[I]instanceof Number))C[I]=A[I]+Q[I];else C[I]=Q[I]===void 0?A[I]:A[I]||Q[I];I+=1}return C}return 0}var add=sum;function sub(A,Q){var E=typeof A,B=typeof Q;if(isNumerable(E,A)&&isNumerable(B,Q)){if(E==="string")A=parseInt(A,10);if(B==="string")Q=parseInt(Q,10);return A-Q}if($bm_isInstanceOfArray(A)&&isNumerable(B,Q))return A=A.slice(0),A[0]-=Q,A;if(isNumerable(E,A)&&$bm_isInstanceOfArray(Q))return Q=Q.slice(0),Q[0]=A-Q[0],Q;if($bm_isInstanceOfArray(A)&&$bm_isInstanceOfArray(Q)){var I=0,K=A.length,J=Q.length,C=[];while(I<K||I<J){if((typeof A[I]==="number"||A[I]instanceof Number)&&(typeof Q[I]==="number"||Q[I]instanceof Number))C[I]=A[I]-Q[I];else C[I]=Q[I]===void 0?A[I]:A[I]||Q[I];I+=1}return C}return 0}function mul(A,Q){var E=typeof A,B=typeof Q,I;if(isNumerable(E,A)&&isNumerable(B,Q))return A*Q;var K,J;if($bm_isInstanceOfArray(A)&&isNumerable(B,Q)){J=A.length,I=createTypedArray("float32",J);for(K=0;K<J;K+=1)I[K]=A[K]*Q;return I}if(isNumerable(E,A)&&$bm_isInstanceOfArray(Q)){J=Q.length,I=createTypedArray("float32",J);for(K=0;K<J;K+=1)I[K]=A*Q[K];return I}return 0}function div(A,Q){var E=typeof A,B=typeof Q,I;if(isNumerable(E,A)&&isNumerable(B,Q))return A/Q;var K,J;if($bm_isInstanceOfArray(A)&&isNumerable(B,Q)){J=A.length,I=createTypedArray("float32",J);for(K=0;K<J;K+=1)I[K]=A[K]/Q;return I}if(isNumerable(E,A)&&$bm_isInstanceOfArray(Q)){J=Q.length,I=createTypedArray("float32",J);for(K=0;K<J;K+=1)I[K]=A/Q[K];return I}return 0}function mod(A,Q){if(typeof A==="string")A=parseInt(A,10);if(typeof Q==="string")Q=parseInt(Q,10);return A%Q}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(A,Q,E){if(Q>E){var B=E;E=Q,Q=B}return Math.min(Math.max(A,Q),E)}function radiansToDegrees(A){return A/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(A){return A*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(A,Q){if(typeof A==="number"||A instanceof Number)return Q=Q||0,Math.abs(A-Q);if(!Q)Q=helperLengthArray;var E,B=Math.min(A.length,Q.length),I=0;for(E=0;E<B;E+=1)I+=Math.pow(Q[E]-A[E],2);return Math.sqrt(I)}function normalize(A){return div(A,length(A))}function rgbToHsl(A){var Q=A[0],E=A[1],B=A[2],I=Math.max(Q,E,B),K=Math.min(Q,E,B),J,C,U=(I+K)/2;if(I===K)J=0,C=0;else{var Y=I-K;switch(C=U>0.5?Y/(2-I-K):Y/(I+K),I){case Q:J=(E-B)/Y+(E<B?6:0);break;case E:J=(B-Q)/Y+2;break;case B:J=(Q-E)/Y+4;break;default:break}J/=6}return[J,C,U,A[3]]}function hue2rgb(A,Q,E){if(E<0)E+=1;if(E>1)E-=1;if(E<0.16666666666666666)return A+(Q-A)*6*E;if(E<0.5)return Q;if(E<0.6666666666666666)return A+(Q-A)*(0.6666666666666666-E)*6;return A}function hslToRgb(A){var Q=A[0],E=A[1],B=A[2],I,K,J;if(E===0)I=B,J=B,K=B;else{var C=B<0.5?B*(1+E):B+E-B*E,U=2*B-C;I=hue2rgb(U,C,Q+0.3333333333333333),K=hue2rgb(U,C,Q),J=hue2rgb(U,C,Q-0.3333333333333333)}return[I,K,J,A[3]]}function linear(A,Q,E,B,I){if(B===void 0||I===void 0)B=Q,I=E,Q=0,E=1;if(E<Q){var K=E;E=Q,Q=K}if(A<=Q)return B;if(A>=E)return I;var J=E===Q?0:(A-Q)/(E-Q);if(!B.length)return B+(I-B)*J;var C,U=B.length,Y=createTypedArray("float32",U);for(C=0;C<U;C+=1)Y[C]=B[C]+(I[C]-B[C])*J;return Y}function random(A,Q){if(Q===void 0)if(A===void 0)A=0,Q=1;else Q=A,A=void 0;if(Q.length){var E,B=Q.length;if(!A)A=createTypedArray("float32",B);var I=createTypedArray("float32",B),K=BMMath.random();for(E=0;E<B;E+=1)I[E]=A[E]+K*(Q[E]-A[E]);return I}if(A===void 0)A=0;var J=BMMath.random();return A+J*(Q-A)}function createPath(A,Q,E,B){var I,K=A.length,J=shapePool.newElement();J.setPathData(!!B,K);var C=[0,0],U,Y;for(I=0;I<K;I+=1)U=Q&&Q[I]?Q[I]:C,Y=E&&E[I]?E[I]:C,J.setTripleAt(A[I][0],A[I][1],Y[0]+A[I][0],Y[1]+A[I][1],U[0]+A[I][0],U[1]+A[I][1],I,!0);return J}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=function A(Q,E){var B,I,K=this.pv.length?this.pv.length:1,J=createTypedArray("float32",K);Q=5;var C=Math.floor(time*Q);B=0,I=0;while(B<C){for(I=0;I<K;I+=1)J[I]+=-E+E*2*BMMath.random();B+=1}var U=time*Q,Y=U-Math.floor(U),H=createTypedArray("float32",K);if(K>1){for(I=0;I<K;I+=1)H[I]=this.pv[I]+J[I]+(-E+E*2*BMMath.random())*Y;return H}return this.pv+J[0]+(-E+E*2*BMMath.random())*Y}.bind(this);if(thisProperty.loopIn)loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn;if(thisProperty.loopOut)loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut;if(thisProperty.smooth)smooth=thisProperty.smooth.bind(thisProperty);function loopInDuration(A,Q){return loopIn(A,Q,!0)}function loopOutDuration(A,Q){return loopOut(A,Q,!0)}if(this.getValueAtTime)valueAtTime=this.getValueAtTime.bind(this);if(this.getVelocityAtTime)velocityAtTime=this.getVelocityAtTime.bind(this);var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(A,Q){var E=[Q[0]-A[0],Q[1]-A[1],Q[2]-A[2]],B=Math.atan2(E[0],Math.sqrt(E[1]*E[1]+E[2]*E[2]))/degToRads,I=-Math.atan2(E[1],E[2])/degToRads;return[I,B,0]}function easeOut(A,Q,E,B,I){return applyEase(easeOutBez,A,Q,E,B,I)}function easeIn(A,Q,E,B,I){return applyEase(easeInBez,A,Q,E,B,I)}function ease(A,Q,E,B,I){return applyEase(easeInOutBez,A,Q,E,B,I)}function applyEase(A,Q,E,B,I,K){if(I===void 0)I=E,K=B;else Q=(Q-E)/(B-E);if(Q>1)Q=1;else if(Q<0)Q=0;var J=A(Q);if($bm_isInstanceOfArray(I)){var C,U=I.length,Y=createTypedArray("float32",U);for(C=0;C<U;C+=1)Y[C]=(K[C]-I[C])*J+I[C];return Y}return(K-I)*J+I}function nearestKey(A){var Q,E=data.k.length,B,I;if(!data.k.length||typeof data.k[0]==="number")B=0,I=0;else if(B=-1,A*=elem.comp.globalData.frameRate,A<data.k[0].t)B=1,I=data.k[0].t;else{for(Q=0;Q<E-1;Q+=1)if(A===data.k[Q].t){B=Q+1,I=data.k[Q].t;break}else if(A>data.k[Q].t&&A<data.k[Q+1].t){if(A-data.k[Q].t>data.k[Q+1].t-A)B=Q+2,I=data.k[Q+1].t;else B=Q+1,I=data.k[Q].t;break}if(B===-1)B=Q+1,I=data.k[Q].t}var K={};return K.index=B,K.time=I/elem.comp.globalData.frameRate,K}function key(A){var Q,E,B;if(!data.k.length||typeof data.k[0]==="number")throw new Error("The property has no keyframe at index "+A);A-=1,Q={time:data.k[A].t/elem.comp.globalData.frameRate,value:[]};var I=Object.prototype.hasOwnProperty.call(data.k[A],"s")?data.k[A].s:data.k[A-1].e;B=I.length;for(E=0;E<B;E+=1)Q[E]=I[E],Q.value[E]=I[E];return Q}function framesToTime(A,Q){if(!Q)Q=elem.comp.globalData.frameRate;return A/Q}function timeToFrames(A,Q){if(!A&&A!==0)A=time;if(!Q)Q=elem.comp.globalData.frameRate;return A*Q}function seedRandom(A){BMMath.seedrandom(randSeed+A)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(A,Q){if(typeof value==="string"){if(Q===void 0)return value.substring(A);return value.substring(A,Q)}return""}function substr(A,Q){if(typeof value==="string"){if(Q===void 0)return value.substr(A);return value.substr(A,Q)}return""}function posterizeTime(A){time=A===0?0:Math.floor(time*A)/A,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(A){if(value=A,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector")return value;if(this.propType==="textSelector")textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue;if(!thisLayer)text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp;if(!transform){if(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform)anchorPoint=transform.anchorPoint}if(elemType===4&&!content)content=thisLayer("ADBE Root Vectors Group");if(!effect)effect=thisLayer(4);if(hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent)parent=elem.hierarchy[0].layerInterface;if(time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom)seedRandom(randSeed+time);if(needsVelocity)velocity=velocityAtTime(time);return expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath],ob}(),expressionHelpers=function(){function A(J,C,U){if(C.x)U.k=!0,U.x=!0,U.initiateExpression=ExpressionManager.initiateExpression,U.effectsSequence.push(U.initiateExpression(J,C,U).bind(U))}function Q(J){if(J*=this.elem.globalData.frameRate,J-=this.offsetTime,J!==this._cachingAtTime.lastFrame)this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<J?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(J,this._cachingAtTime),this._cachingAtTime.lastFrame=J;return this._cachingAtTime.value}function E(J){var C=-0.01,U=this.getValueAtTime(J),Y=this.getValueAtTime(J+C),H=0;if(U.length){var R;for(R=0;R<U.length;R+=1)H+=Math.pow(Y[R]-U[R],2);H=Math.sqrt(H)*100}else H=0;return H}function B(J){if(this.vel!==void 0)return this.vel;var C=-0.001,U=this.getValueAtTime(J),Y=this.getValueAtTime(J+C),H;if(U.length){H=createTypedArray("float32",U.length);var R;for(R=0;R<U.length;R+=1)H[R]=(Y[R]-U[R])/C}else H=(Y-U)/C;return H}function I(){return this.pv}function K(J){this.propertyGroup=J}return{searchExpressions:A,getSpeedAtTime:E,getVelocityAtTime:B,getValueAtTime:Q,getStaticValueAtTime:I,setGroupProperty:K}}();setExpressionsPlugin(Expressions),initialize$1(),initialize()}var standalone,animationData,renderer,queryString,F$,fz,q$,readyStateCheckInterval,registeredEffects,idPrefix,emptyShapeData,propTypes;var Vi=`
varying vec3 vViewPosition;

struct BlinnPhongMaterial {

	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;

};

void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {

	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;

	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );

	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;

}

void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {

	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );

}

#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
`,Ti=`
#ifdef USE_MATCAP

	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5; // 0.495 to remove artifacts caused by undersized matcap disks
	vec4 matcapColor = texture2D( matcap, uv );

	#ifdef MATCAP_BLENDING_MULTIPLY

		outgoingLight *= matcapColor.rgb;

	#elif defined( MATCAP_BLENDING_ADD )

		outgoingLight += matcapColor.rgb;

	#endif

#endif
`,Si={name:"MMDToonShader",defines:{TOON:!0,MATCAP:!0,MATCAP_BLENDING_ADD:!0},uniforms:rA.merge([hQ.toon.uniforms,hQ.phong.uniforms,hQ.matcap.uniforms]),vertexShader:hQ.phong.vertexShader.replace("#include <envmap_pars_vertex>","").replace("#include <envmap_vertex>",""),fragmentShader:hQ.phong.fragmentShader.replace("#include <common>",`
					#ifdef USE_MATCAP
						uniform sampler2D matcap;
					#endif

					#include <common>
				`).replace("#include <envmap_common_pars_fragment>",`
					#include <gradientmap_pars_fragment>
				`).replace("#include <envmap_pars_fragment>","").replace("#include <lights_phong_pars_fragment>",Vi).replace("#include <envmap_fragment>",`
					${Ti}
				`)};var RJA=new f,OJA=new f,$JA=new f,WJA=new f,XJA=new f,FJA=new WA;var zJA=new WA;var _JA=Array(1024).fill(0).map((A,Q)=>Math.pow(Q/255*0.9478672986+0.0521327014,2.4));var k0={};k0.toRGBA8=function(A){var{width:Q,height:E}=A;if(A.tabs.acTL==null)return[k0.toRGBA8.decodeImage(A.data,Q,E,A).buffer];var B=[];if(A.frames[0].data==null)A.frames[0].data=A.data;var I=Q*E*4,K=new Uint8Array(I),J=new Uint8Array(I),C=new Uint8Array(I);for(var U=0;U<A.frames.length;U++){var Y=A.frames[U],H=Y.rect.x,R=Y.rect.y,G=Y.rect.width,O=Y.rect.height,F=k0.toRGBA8.decodeImage(Y.data,G,O,A);if(U!=0)for(var q=0;q<I;q++)C[q]=K[q];if(Y.blend==0)k0._copyTile(F,G,O,K,Q,E,H,R,0);else if(Y.blend==1)k0._copyTile(F,G,O,K,Q,E,H,R,1);if(B.push(K.buffer.slice(0)),Y.dispose==1)k0._copyTile(J,G,O,K,Q,E,H,R,0);else if(Y.dispose==2)for(var q=0;q<I;q++)K[q]=C[q]}return B};k0.toRGBA8.decodeImage=function(A,Q,E,B){var I=Q*E,K=k0.decode._getBPP(B),J=Math.ceil(Q*K/8),C=new Uint8Array(I*4),U=new Uint32Array(C.buffer),Y=B.ctype,H=B.depth,R=k0._bin.readUshort;if(Y==6){var G=I<<2;if(H==8)for(var O=0;O<G;O+=4)C[O]=A[O],C[O+1]=A[O+1],C[O+2]=A[O+2],C[O+3]=A[O+3];if(H==16)for(var O=0;O<G;O++)C[O]=A[O<<1]}else if(Y==2){var F=B.tabs.tRNS;if(F==null){if(H==8)for(var O=0;O<I;O++){var q=O*3;U[O]=-16777216|A[q+2]<<16|A[q+1]<<8|A[q]}if(H==16)for(var O=0;O<I;O++){var q=O*6;U[O]=-16777216|A[q+4]<<16|A[q+2]<<8|A[q]}}else{var W=F[0],Z=F[1],$=F[2];if(H==8)for(var O=0;O<I;O++){var X=O<<2,q=O*3;if(U[O]=-16777216|A[q+2]<<16|A[q+1]<<8|A[q],A[q]==W&&A[q+1]==Z&&A[q+2]==$)C[X+3]=0}if(H==16)for(var O=0;O<I;O++){var X=O<<2,q=O*6;if(U[O]=-16777216|A[q+4]<<16|A[q+2]<<8|A[q],R(A,q)==W&&R(A,q+2)==Z&&R(A,q+4)==$)C[X+3]=0}}}else if(Y==3){var N=B.tabs.PLTE,M=B.tabs.tRNS,L=M?M.length:0;if(H==1)for(var D=0;D<E;D++){var w=D*J,P=D*Q;for(var O=0;O<Q;O++){var X=P+O<<2,V=A[w+(O>>3)]>>7-((O&7)<<0)&1,T=3*V;C[X]=N[T],C[X+1]=N[T+1],C[X+2]=N[T+2],C[X+3]=V<L?M[V]:255}}if(H==2)for(var D=0;D<E;D++){var w=D*J,P=D*Q;for(var O=0;O<Q;O++){var X=P+O<<2,V=A[w+(O>>2)]>>6-((O&3)<<1)&3,T=3*V;C[X]=N[T],C[X+1]=N[T+1],C[X+2]=N[T+2],C[X+3]=V<L?M[V]:255}}if(H==4)for(var D=0;D<E;D++){var w=D*J,P=D*Q;for(var O=0;O<Q;O++){var X=P+O<<2,V=A[w+(O>>1)]>>4-((O&1)<<2)&15,T=3*V;C[X]=N[T],C[X+1]=N[T+1],C[X+2]=N[T+2],C[X+3]=V<L?M[V]:255}}if(H==8)for(var O=0;O<I;O++){var X=O<<2,V=A[O],T=3*V;C[X]=N[T],C[X+1]=N[T+1],C[X+2]=N[T+2],C[X+3]=V<L?M[V]:255}}else if(Y==4){if(H==8)for(var O=0;O<I;O++){var X=O<<2,S=O<<1,h=A[S];C[X]=h,C[X+1]=h,C[X+2]=h,C[X+3]=A[S+1]}if(H==16)for(var O=0;O<I;O++){var X=O<<2,S=O<<2,h=A[S];C[X]=h,C[X+1]=h,C[X+2]=h,C[X+3]=A[S+2]}}else if(Y==0){var W=B.tabs.tRNS?B.tabs.tRNS:-1;for(var D=0;D<E;D++){var x=D*J,y=D*Q;if(H==1)for(var j=0;j<Q;j++){var h=255*(A[x+(j>>>3)]>>>7-(j&7)&1),v=h==W*255?0:255;U[y+j]=v<<24|h<<16|h<<8|h}else if(H==2)for(var j=0;j<Q;j++){var h=85*(A[x+(j>>>2)]>>>6-((j&3)<<1)&3),v=h==W*85?0:255;U[y+j]=v<<24|h<<16|h<<8|h}else if(H==4)for(var j=0;j<Q;j++){var h=17*(A[x+(j>>>1)]>>>4-((j&1)<<2)&15),v=h==W*17?0:255;U[y+j]=v<<24|h<<16|h<<8|h}else if(H==8)for(var j=0;j<Q;j++){var h=A[x+j],v=h==W?0:255;U[y+j]=v<<24|h<<16|h<<8|h}else if(H==16)for(var j=0;j<Q;j++){var h=A[x+(j<<1)],v=R(A,x+(j<<1))==W?0:255;U[y+j]=v<<24|h<<16|h<<8|h}}}return C};k0.decode=function(A){var Q=new Uint8Array(A),E=8,B=k0._bin,I=B.readUshort,K=B.readUint,J={tabs:{},frames:[]},C=new Uint8Array(Q.length),U=0,Y,H=0,R,G,O,F=[137,80,78,71,13,10,26,10];for(var q=0;q<8;q++)if(Q[q]!=F[q])throw new Error("The input is not a PNG file!");while(E<Q.length){var W=B.readUint(Q,E);E+=4;var Z=B.readASCII(Q,E,4);if(E+=4,Z=="IHDR")k0.decode._IHDR(Q,E,J);else if(Z=="CgBI")J.tabs[Z]=Q.slice(E,E+4);else if(Z=="IDAT"){for(var q=0;q<W;q++)C[U+q]=Q[E+q];U+=W}else if(Z=="acTL")J.tabs[Z]={num_frames:K(Q,E),num_plays:K(Q,E+4)},Y=new Uint8Array(Q.length);else if(Z=="fcTL"){if(H!=0){var $=J.frames[J.frames.length-1];$.data=k0.decode._decompress(J,Y.slice(0,H),$.rect.width,$.rect.height),H=0}var X={x:K(Q,E+12),y:K(Q,E+16),width:K(Q,E+4),height:K(Q,E+8)},N=I(Q,E+22);N=I(Q,E+20)/(N==0?100:N);var M={rect:X,delay:Math.round(N*1000),dispose:Q[E+24],blend:Q[E+25]};J.frames.push(M)}else if(Z=="fdAT"){for(var q=0;q<W-4;q++)Y[H+q]=Q[E+q+4];H+=W-4}else if(Z=="pHYs")J.tabs[Z]=[B.readUint(Q,E),B.readUint(Q,E+4),Q[E+8]];else if(Z=="cHRM"){J.tabs[Z]=[];for(var q=0;q<8;q++)J.tabs[Z].push(B.readUint(Q,E+q*4))}else if(Z=="tEXt"||Z=="zTXt"){if(J.tabs[Z]==null)J.tabs[Z]={};var L=B.nextZero(Q,E);G=B.readASCII(Q,E,L-E);var D=E+W-L-1;if(Z=="tEXt")R=B.readASCII(Q,L+1,D);else O=k0.decode._inflate(Q.slice(L+2,L+2+D)),R=B.readUTF8(O,0,O.length);J.tabs[Z][G]=R}else if(Z=="iTXt"){if(J.tabs[Z]==null)J.tabs[Z]={};var L=0,w=E;L=B.nextZero(Q,w),G=B.readASCII(Q,w,L-w),w=L+1;var P=Q[w];w+=2,L=B.nextZero(Q,w),B.readASCII(Q,w,L-w),w=L+1,L=B.nextZero(Q,w),B.readUTF8(Q,w,L-w),w=L+1;var D=W-(w-E);if(P==0)R=B.readUTF8(Q,w,D);else O=k0.decode._inflate(Q.slice(w,w+D)),R=B.readUTF8(O,0,O.length);J.tabs[Z][G]=R}else if(Z=="PLTE")J.tabs[Z]=B.readBytes(Q,E,W);else if(Z=="hIST"){var V=J.tabs.PLTE.length/3;J.tabs[Z]=[];for(var q=0;q<V;q++)J.tabs[Z].push(I(Q,E+q*2))}else if(Z=="tRNS"){if(J.ctype==3)J.tabs[Z]=B.readBytes(Q,E,W);else if(J.ctype==0)J.tabs[Z]=I(Q,E);else if(J.ctype==2)J.tabs[Z]=[I(Q,E),I(Q,E+2),I(Q,E+4)]}else if(Z=="gAMA")J.tabs[Z]=B.readUint(Q,E)/1e5;else if(Z=="sRGB")J.tabs[Z]=Q[E];else if(Z=="bKGD"){if(J.ctype==0||J.ctype==4)J.tabs[Z]=[I(Q,E)];else if(J.ctype==2||J.ctype==6)J.tabs[Z]=[I(Q,E),I(Q,E+2),I(Q,E+4)];else if(J.ctype==3)J.tabs[Z]=Q[E]}else if(Z=="IEND")break;E+=W,B.readUint(Q,E),E+=4}if(H!=0){var $=J.frames[J.frames.length-1];$.data=k0.decode._decompress(J,Y.slice(0,H),$.rect.width,$.rect.height)}return J.data=k0.decode._decompress(J,C,J.width,J.height),delete J.compress,delete J.interlace,delete J.filter,J};k0.decode._decompress=function(A,Q,E,B){var I=k0.decode._getBPP(A),K=Math.ceil(E*I/8),J=new Uint8Array((K+1+A.interlace)*B);if(A.tabs.CgBI)Q=k0.inflateRaw(Q,J);else Q=k0.decode._inflate(Q,J);if(A.interlace==0)Q=k0.decode._filterZero(Q,A,0,E,B);else if(A.interlace==1)Q=k0.decode._readInterlace(Q,A);return Q};k0.decode._inflate=function(A,Q){var E=k0.inflateRaw(new Uint8Array(A.buffer,2,A.length-6),Q);return E};k0.inflateRaw=function(){var A={};return A.H={},A.H.N=function(Q,E){var B=Uint8Array,I=0,K=0,J=0,C=0,U=0,Y=0,H=0,R=0,G=0,O,F;if(Q[0]==3&&Q[1]==0)return E?E:new B(0);var q=A.H,W=q.b,Z=q.e,$=q.R,X=q.n,N=q.A,M=q.Z,L=q.m,D=E==null;if(D)E=new B(Q.length>>>2<<5);while(I==0){if(I=W(Q,G,1),K=W(Q,G+1,2),G+=3,K==0){if((G&7)!=0)G+=8-(G&7);var w=(G>>>3)+4,P=Q[w-4]|Q[w-3]<<8;if(D)E=A.H.W(E,R+P);E.set(new B(Q.buffer,Q.byteOffset+w,P),R),G=w+P<<3,R+=P;continue}if(D)E=A.H.W(E,R+131072);if(K==1)O=L.J,F=L.h,Y=511,H=31;if(K==2){J=Z(Q,G,5)+257,C=Z(Q,G+5,5)+1,U=Z(Q,G+10,4)+4,G+=14;var V=1;for(var T=0;T<38;T+=2)L.Q[T]=0,L.Q[T+1]=0;for(var T=0;T<U;T++){var S=Z(Q,G+T*3,3);if(L.Q[(L.X[T]<<1)+1]=S,S>V)V=S}G+=3*U,X(L.Q,V),N(L.Q,V,L.u),O=L.w,F=L.d,G=$(L.u,(1<<V)-1,J+C,Q,G,L.v);var h=q.V(L.v,0,J,L.C);Y=(1<<h)-1;var x=q.V(L.v,J,C,L.D);H=(1<<x)-1,X(L.C,h),N(L.C,h,O),X(L.D,x),N(L.D,x,F)}while(!0){var y=O[M(Q,G)&Y];G+=y&15;var j=y>>>4;if(j>>>8==0)E[R++]=j;else if(j==256)break;else{var v=R+j-254;if(j>264){var _=L.q[j-257];v=R+(_>>>3)+Z(Q,G,_&7),G+=_&7}var g=F[M(Q,G)&H];G+=g&15;var b=g>>>4,p=L.c[b],m=(p>>>4)+W(Q,G,p&15);G+=p&15;while(R<v)E[R]=E[R++-m],E[R]=E[R++-m],E[R]=E[R++-m],E[R]=E[R++-m];R=v}}}return E.length==R?E:E.slice(0,R)},A.H.W=function(Q,E){var B=Q.length;if(E<=B)return Q;var I=new Uint8Array(B<<1);return I.set(Q,0),I},A.H.R=function(Q,E,B,I,K,J){var C=A.H.e,U=A.H.Z,Y=0;while(Y<B){var H=Q[U(I,K)&E];K+=H&15;var R=H>>>4;if(R<=15)J[Y]=R,Y++;else{var G=0,O=0;if(R==16)O=3+C(I,K,2),K+=2,G=J[Y-1];else if(R==17)O=3+C(I,K,3),K+=3;else if(R==18)O=11+C(I,K,7),K+=7;var F=Y+O;while(Y<F)J[Y]=G,Y++}}return K},A.H.V=function(Q,E,B,I){var K=0,J=0,C=I.length>>>1;while(J<B){var U=Q[J+E];if(I[J<<1]=0,I[(J<<1)+1]=U,U>K)K=U;J++}while(J<C)I[J<<1]=0,I[(J<<1)+1]=0,J++;return K},A.H.n=function(Q,E){var B=A.H.m,I=Q.length,K,J,C,U,Y,H=B.j;for(var U=0;U<=E;U++)H[U]=0;for(U=1;U<I;U+=2)H[Q[U]]++;var R=B.K;K=0,H[0]=0;for(J=1;J<=E;J++)K=K+H[J-1]<<1,R[J]=K;for(C=0;C<I;C+=2)if(Y=Q[C+1],Y!=0)Q[C]=R[Y],R[Y]++},A.H.A=function(Q,E,B){var I=Q.length,K=A.H.m,J=K.r;for(var C=0;C<I;C+=2)if(Q[C+1]!=0){var U=C>>1,Y=Q[C+1],H=U<<4|Y,R=E-Y,G=Q[C]<<R,O=G+(1<<R);while(G!=O){var F=J[G]>>>15-E;B[F]=H,G++}}},A.H.l=function(Q,E){var B=A.H.m.r,I=15-E;for(var K=0;K<Q.length;K+=2){var J=Q[K]<<E-Q[K+1];Q[K]=B[J]>>>I}},A.H.M=function(Q,E,B){B=B<<(E&7);var I=E>>>3;Q[I]|=B,Q[I+1]|=B>>>8},A.H.I=function(Q,E,B){B=B<<(E&7);var I=E>>>3;Q[I]|=B,Q[I+1]|=B>>>8,Q[I+2]|=B>>>16},A.H.e=function(Q,E,B){return(Q[E>>>3]|Q[(E>>>3)+1]<<8)>>>(E&7)&(1<<B)-1},A.H.b=function(Q,E,B){return(Q[E>>>3]|Q[(E>>>3)+1]<<8|Q[(E>>>3)+2]<<16)>>>(E&7)&(1<<B)-1},A.H.Z=function(Q,E){return(Q[E>>>3]|Q[(E>>>3)+1]<<8|Q[(E>>>3)+2]<<16)>>>(E&7)},A.H.i=function(Q,E){return(Q[E>>>3]|Q[(E>>>3)+1]<<8|Q[(E>>>3)+2]<<16|Q[(E>>>3)+3]<<24)>>>(E&7)},A.H.m=function(){var Q=Uint16Array,E=Uint32Array;return{K:new Q(16),j:new Q(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new Q(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new E(32),J:new Q(512),_:[],h:new Q(32),$:[],w:new Q(32768),C:[],v:[],d:new Q(32768),D:[],u:new Q(512),Q:[],r:new Q(32768),s:new E(286),Y:new E(30),a:new E(19),t:new E(15000),k:new Q(65536),g:new Q(32768)}}(),function(){var Q=A.H.m,E=32768;for(var B=0;B<E;B++){var I=B;I=(I&2863311530)>>>1|(I&1431655765)<<1,I=(I&3435973836)>>>2|(I&858993459)<<2,I=(I&4042322160)>>>4|(I&252645135)<<4,I=(I&4278255360)>>>8|(I&16711935)<<8,Q.r[B]=(I>>>16|I<<16)>>>17}function K(J,C,U){while(C--!=0)J.push(0,U)}for(var B=0;B<32;B++)Q.q[B]=Q.S[B]<<3|Q.T[B],Q.c[B]=Q.p[B]<<4|Q.z[B];K(Q._,144,8),K(Q._,112,9),K(Q._,24,7),K(Q._,8,8),A.H.n(Q._,9),A.H.A(Q._,9,Q.J),A.H.l(Q._,9),K(Q.$,32,5),A.H.n(Q.$,5),A.H.A(Q.$,5,Q.h),A.H.l(Q.$,5),K(Q.Q,19,0),K(Q.C,286,0),K(Q.D,30,0),K(Q.v,320,0)}(),A.H.N}();k0.decode._readInterlace=function(A,Q){var{width:E,height:B}=Q,I=k0.decode._getBPP(Q),K=I>>3,J=Math.ceil(E*I/8),C=new Uint8Array(B*J),U=0,Y=[0,0,4,0,2,0,1],H=[0,4,0,2,0,1,0],R=[8,8,8,4,4,2,2],G=[8,8,4,4,2,2,1],O=0;while(O<7){var F=R[O],q=G[O],W=0,Z=0,$=Y[O];while($<B)$+=F,Z++;var X=H[O];while(X<E)X+=q,W++;var N=Math.ceil(W*I/8);k0.decode._filterZero(A,Q,U,W,Z);var M=0,L=Y[O],D;while(L<B){var w=H[O],P=U+M*N<<3;while(w<E){if(I==1)D=A[P>>3],D=D>>7-(P&7)&1,C[L*J+(w>>3)]|=D<<7-((w&7)<<0);if(I==2)D=A[P>>3],D=D>>6-(P&7)&3,C[L*J+(w>>2)]|=D<<6-((w&3)<<1);if(I==4)D=A[P>>3],D=D>>4-(P&7)&15,C[L*J+(w>>1)]|=D<<4-((w&1)<<2);if(I>=8){var V=L*J+w*K;for(var T=0;T<K;T++)C[V+T]=A[(P>>3)+T]}P+=I,w+=q}M++,L+=F}if(W*Z!=0)U+=Z*(1+N);O=O+1}return C};k0.decode._getBPP=function(A){var Q=[1,null,3,1,2,null,4][A.ctype];return Q*A.depth};k0.decode._filterZero=function(A,Q,E,B,I){var K=k0.decode._getBPP(Q),J=Math.ceil(B*K/8),C=k0.decode._paeth;K=Math.ceil(K/8);var U,Y,H=A[E],R=0;if(H>1)A[E]=[0,0,1][H-2];if(H==3)for(R=K;R<J;R++)A[R+1]=A[R+1]+(A[R+1-K]>>>1)&255;for(var G=0;G<I;G++)if(U=E+G*J,Y=U+G+1,H=A[Y-1],R=0,H==0)for(;R<J;R++)A[U+R]=A[Y+R];else if(H==1){for(;R<K;R++)A[U+R]=A[Y+R];for(;R<J;R++)A[U+R]=A[Y+R]+A[U+R-K]}else if(H==2)for(;R<J;R++)A[U+R]=A[Y+R]+A[U+R-J];else if(H==3){for(;R<K;R++)A[U+R]=A[Y+R]+(A[U+R-J]>>>1);for(;R<J;R++)A[U+R]=A[Y+R]+(A[U+R-J]+A[U+R-K]>>>1)}else{for(;R<K;R++)A[U+R]=A[Y+R]+C(0,A[U+R-J],0);for(;R<J;R++)A[U+R]=A[Y+R]+C(A[U+R-K],A[U+R-J],A[U+R-K-J])}return A};k0.decode._paeth=function(A,Q,E){var B=A+Q-E,I=B-A,K=B-Q,J=B-E;if(I*I<=K*K&&I*I<=J*J)return A;else if(K*K<=J*J)return Q;return E};k0.decode._IHDR=function(A,Q,E){var B=k0._bin;E.width=B.readUint(A,Q),Q+=4,E.height=B.readUint(A,Q),Q+=4,E.depth=A[Q],Q++,E.ctype=A[Q],Q++,E.compress=A[Q],Q++,E.filter=A[Q],Q++,E.interlace=A[Q],Q++};k0._bin={nextZero:function(A,Q){while(A[Q]!=0)Q++;return Q},readUshort:function(A,Q){return A[Q]<<8|A[Q+1]},writeUshort:function(A,Q,E){A[Q]=E>>8&255,A[Q+1]=E&255},readUint:function(A,Q){return A[Q]*16777216+(A[Q+1]<<16|A[Q+2]<<8|A[Q+3])},writeUint:function(A,Q,E){A[Q]=E>>24&255,A[Q+1]=E>>16&255,A[Q+2]=E>>8&255,A[Q+3]=E&255},readASCII:function(A,Q,E){var B="";for(var I=0;I<E;I++)B+=String.fromCharCode(A[Q+I]);return B},writeASCII:function(A,Q,E){for(var B=0;B<E.length;B++)A[Q+B]=E.charCodeAt(B)},readBytes:function(A,Q,E){var B=[];for(var I=0;I<E;I++)B.push(A[Q+I]);return B},pad:function(A){return A.length<2?"0"+A:A},readUTF8:function(A,Q,E){var B="",I;for(var K=0;K<E;K++)B+="%"+k0._bin.pad(A[Q+K].toString(16));try{I=decodeURIComponent(B)}catch(J){return k0._bin.readASCII(A,Q,E)}return I}};k0._copyTile=function(A,Q,E,B,I,K,J,C,U){var Y=Math.min(Q,I),H=Math.min(E,K),R=0,G=0;for(var O=0;O<H;O++)for(var F=0;F<Y;F++){if(J>=0&&C>=0)R=O*Q+F<<2,G=(C+O)*I+J+F<<2;else R=(-C+O)*Q-J+F<<2,G=O*I+F<<2;if(U==0)B[G]=A[R],B[G+1]=A[R+1],B[G+2]=A[R+2],B[G+3]=A[R+3];else if(U==1){var q=A[R+3]*0.00392156862745098,W=A[R]*q,Z=A[R+1]*q,$=A[R+2]*q,X=B[G+3]*0.00392156862745098,N=B[G]*X,M=B[G+1]*X,L=B[G+2]*X,D=1-q,w=q+X*D,P=w==0?0:1/w;B[G+3]=255*w,B[G+0]=(W+N*D)*P,B[G+1]=(Z+M*D)*P,B[G+2]=($+L*D)*P}else if(U==2){var q=A[R+3],W=A[R],Z=A[R+1],$=A[R+2],X=B[G+3],N=B[G],M=B[G+1],L=B[G+2];if(q==X&&W==N&&Z==M&&$==L)B[G]=0,B[G+1]=0,B[G+2]=0,B[G+3]=0;else B[G]=W,B[G+1]=Z,B[G+2]=$,B[G+3]=q}else if(U==3){var q=A[R+3],W=A[R],Z=A[R+1],$=A[R+2],X=B[G+3],N=B[G],M=B[G+1],L=B[G+2];if(q==X&&W==N&&Z==M&&$==L)continue;if(q<220&&X>20)return!1}}return!0};var DA={};(function(){var A=function K(){function J(C){this.message="JPEG error: "+C}return J.prototype=new Error,J.prototype.name="JpegError",J.constructor=J,J}(),Q=function K(){var J=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),C=4017,U=799,Y=3406,H=2276,R=1567,G=3784,O=5793,F=2896;function q(L){if(L==null)L={};if(L.w==null)L.w=-1;this.V=L.n,this.N=L.w}function W(L,D){var w=0,P=[],V,T,S=16,h;while(S>0&&!L[S-1])S--;P.push({children:[],index:0});var x=P[0];for(V=0;V<S;V++){for(T=0;T<L[V];T++){x=P.pop(),x.children[x.index]=D[w];while(x.index>0)x=P.pop();x.index++,P.push(x);while(P.length<=V)P.push(h={children:[],index:0}),x.children[x.index]=h.children,x=h;w++}if(V+1<S)P.push(h={children:[],index:0}),x.children[x.index]=h.children,x=h}return P[0].children}function Z(L,D,w){return 64*((L.P+1)*D+w)}function $(L,D,w,P,V,T,S,h,x,y){if(y==null)y=!1;var{m:j,Z:v}=w,_=D,g=0,b=0,p=0,m=0,o,AA=0,s,t,r,EA,JA,YA,IA=0,l,UA,BA,n;function i(){if(b>0)return b--,g>>b&1;if(g=L[D++],g===255){var d=L[D++];if(d){if(d===220&&y){D+=2;var a=B(L,D);if(D+=2,a>0&&a!==w.s)throw new DNLMarkerError("Found DNL marker (0xFFDC) while parsing scan data",a)}else if(d===217){if(y){var OA=AA*8;if(OA>0&&OA<w.s/10)throw new DNLMarkerError("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",OA)}throw new EOIMarkerError("Found EOI marker (0xFFD9) while parsing scan data")}throw new A("unexpected marker")}}return b=7,g>>>7}function KA(d){var a=d;while(!0){switch(a=a[i()],typeof a){case"number":return a;case"object":continue}throw new A("invalid huffman sequence")}}function $A(d){var a=0;while(d>0)a=a<<1|i(),d--;return a}function FA(d){if(d===1)return i()===1?1:-1;var a=$A(d);if(a>=1<<d-1)return a;return a+(-1<<d)+1}function e(d,a){var OA=KA(d.J),LA=OA===0?0:FA(OA),SA=1;d.D[a]=d.Q+=LA;while(SA<64){var dA=KA(d.i),yA=dA&15,lA=dA>>4;if(yA===0){if(lA<15)break;SA+=16;continue}SA+=lA;var ZA=J[SA];d.D[a+ZA]=FA(yA),SA++}}function c(d,a){var OA=KA(d.J),LA=OA===0?0:FA(OA)<<x;d.D[a]=d.Q+=LA}function HA(d,a){d.D[a]|=i()<<x}function XA(d,a){if(p>0){p--;return}var OA=T,LA=S;while(OA<=LA){var SA=KA(d.i),dA=SA&15,yA=SA>>4;if(dA===0){if(yA<15){p=$A(yA)+(1<<yA)-1;break}OA+=16;continue}OA+=yA;var lA=J[OA];d.D[a+lA]=FA(dA)*(1<<x),OA++}}function CA(d,a){var OA=T,LA=S,SA=0,dA,yA;while(OA<=LA){var lA=a+J[OA],ZA=d.D[lA]<0?-1:1;switch(m){case 0:if(yA=KA(d.i),dA=yA&15,SA=yA>>4,dA===0)if(SA<15)p=$A(SA)+(1<<SA),m=4;else SA=16,m=1;else{if(dA!==1)throw new A("invalid ACn encoding");o=FA(dA),m=SA?2:3}continue;case 1:case 2:if(d.D[lA])d.D[lA]+=ZA*(i()<<x);else if(SA--,SA===0)m=m===2?3:0;break;case 3:if(d.D[lA])d.D[lA]+=ZA*(i()<<x);else d.D[lA]=o<<x,m=0;break;case 4:if(d.D[lA])d.D[lA]+=ZA*(i()<<x);break}OA++}if(m===4){if(p--,p===0)m=0}}function GA(d,a,OA,LA,SA){var dA=OA/j|0,yA=OA%j;AA=dA*d.A+LA;var lA=yA*d.h+SA,ZA=Z(d,AA,lA);a(d,ZA)}function uA(d,a,OA){AA=OA/d.P|0;var LA=OA%d.P,SA=Z(d,AA,LA);a(d,SA)}var z=P.length;if(v)if(T===0)YA=h===0?c:HA;else YA=h===0?XA:CA;else YA=e;if(z===1)UA=P[0].P*P[0].c;else UA=j*w.R;while(IA<=UA){var k=V?Math.min(UA-IA,V):UA;if(k>0){for(t=0;t<z;t++)P[t].Q=0;if(p=0,z===1){s=P[0];for(JA=0;JA<k;JA++)uA(s,YA,IA),IA++}else for(JA=0;JA<k;JA++){for(t=0;t<z;t++){s=P[t],BA=s.h,n=s.A;for(r=0;r<n;r++)for(EA=0;EA<BA;EA++)GA(s,YA,IA,r,EA)}IA++}}if(b=0,l=M(L,D),!l)break;if(l.u){var u=k>0?"unexpected":"excessive";D=l.offset}if(l.M>=65488&&l.M<=65495)D+=2;else break}return D-_}function X(L,D,w){var{$:P,D:V}=L,T,S,h,x,y,j,v,_,g,b,p,m,o,AA,s,t,r;if(!P)throw new A("missing required Quantization Table.");for(var EA=0;EA<64;EA+=8){if(g=V[D+EA],b=V[D+EA+1],p=V[D+EA+2],m=V[D+EA+3],o=V[D+EA+4],AA=V[D+EA+5],s=V[D+EA+6],t=V[D+EA+7],g*=P[EA],(b|p|m|o|AA|s|t)===0){r=O*g+512>>10,w[EA]=r,w[EA+1]=r,w[EA+2]=r,w[EA+3]=r,w[EA+4]=r,w[EA+5]=r,w[EA+6]=r,w[EA+7]=r;continue}b*=P[EA+1],p*=P[EA+2],m*=P[EA+3],o*=P[EA+4],AA*=P[EA+5],s*=P[EA+6],t*=P[EA+7],T=O*g+128>>8,S=O*o+128>>8,h=p,x=s,y=F*(b-t)+128>>8,_=F*(b+t)+128>>8,j=m<<4,v=AA<<4,T=T+S+1>>1,S=T-S,r=h*G+x*R+128>>8,h=h*R-x*G+128>>8,x=r,y=y+v+1>>1,v=y-v,_=_+j+1>>1,j=_-j,T=T+x+1>>1,x=T-x,S=S+h+1>>1,h=S-h,r=y*H+_*Y+2048>>12,y=y*Y-_*H+2048>>12,_=r,r=j*U+v*C+2048>>12,j=j*C-v*U+2048>>12,v=r,w[EA]=T+_,w[EA+7]=T-_,w[EA+1]=S+v,w[EA+6]=S-v,w[EA+2]=h+j,w[EA+5]=h-j,w[EA+3]=x+y,w[EA+4]=x-y}for(var JA=0;JA<8;++JA){if(g=w[JA],b=w[JA+8],p=w[JA+16],m=w[JA+24],o=w[JA+32],AA=w[JA+40],s=w[JA+48],t=w[JA+56],(b|p|m|o|AA|s|t)===0){if(r=O*g+8192>>14,r<-2040)r=0;else if(r>=2024)r=255;else r=r+2056>>4;V[D+JA]=r,V[D+JA+8]=r,V[D+JA+16]=r,V[D+JA+24]=r,V[D+JA+32]=r,V[D+JA+40]=r,V[D+JA+48]=r,V[D+JA+56]=r;continue}if(T=O*g+2048>>12,S=O*o+2048>>12,h=p,x=s,y=F*(b-t)+2048>>12,_=F*(b+t)+2048>>12,j=m,v=AA,T=(T+S+1>>1)+4112,S=T-S,r=h*G+x*R+2048>>12,h=h*R-x*G+2048>>12,x=r,y=y+v+1>>1,v=y-v,_=_+j+1>>1,j=_-j,T=T+x+1>>1,x=T-x,S=S+h+1>>1,h=S-h,r=y*H+_*Y+2048>>12,y=y*Y-_*H+2048>>12,_=r,r=j*U+v*C+2048>>12,j=j*C-v*U+2048>>12,v=r,g=T+_,t=T-_,b=S+v,s=S-v,p=h+j,AA=h-j,m=x+y,o=x-y,g<16)g=0;else if(g>=4080)g=255;else g>>=4;if(b<16)b=0;else if(b>=4080)b=255;else b>>=4;if(p<16)p=0;else if(p>=4080)p=255;else p>>=4;if(m<16)m=0;else if(m>=4080)m=255;else m>>=4;if(o<16)o=0;else if(o>=4080)o=255;else o>>=4;if(AA<16)AA=0;else if(AA>=4080)AA=255;else AA>>=4;if(s<16)s=0;else if(s>=4080)s=255;else s>>=4;if(t<16)t=0;else if(t>=4080)t=255;else t>>=4;V[D+JA]=g,V[D+JA+8]=b,V[D+JA+16]=p,V[D+JA+24]=m,V[D+JA+32]=o,V[D+JA+40]=AA,V[D+JA+48]=s,V[D+JA+56]=t}}function N(L,D){var{P:w,c:P}=D,V=new Int16Array(64);for(var T=0;T<P;T++)for(var S=0;S<w;S++){var h=Z(D,T,S);X(D,h,V)}return D.D}function M(L,D,w){if(w==null)w=D;var P=L.length-1,V=w<D?w:D;if(D>=P)return null;var T=B(L,D);if(T>=65472&&T<=65534)return{u:null,M:T,offset:D};var S=B(L,V);while(!(S>=65472&&S<=65534)){if(++V>=P)return null;S=B(L,V)}return{u:T.toString(16),M:S,offset:V}}return q.prototype={parse(L,D){if(D==null)D={};var w=D.F,P=0,V=null,T=null,S,h,x=0;function y(){var yA=B(L,P);P+=2;var lA=P+yA-2,ZA=M(L,lA,P);if(ZA&&ZA.u)lA=ZA.offset;var xA=L.subarray(P,lA);return P+=xA.length,xA}function j(yA){var lA=Math.ceil(yA.o/8/yA.X),ZA=Math.ceil(yA.s/8/yA.B);for(var xA=0;xA<yA.W.length;xA++){CA=yA.W[xA];var TA=Math.ceil(Math.ceil(yA.o/8)*CA.h/yA.X),kA=Math.ceil(Math.ceil(yA.s/8)*CA.A/yA.B),oA=lA*CA.h,iA=ZA*CA.A,q0=64*iA*(oA+1);CA.D=new Int16Array(q0),CA.P=TA,CA.c=kA}yA.m=lA,yA.R=ZA}var v=[],_=[],g=[],b=B(L,P);if(P+=2,b!==65496)throw new A("SOI not found");b=B(L,P),P+=2;A:while(b!==65497){var p,m,o;switch(b){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var AA=y();if(b===65504){if(AA[0]===74&&AA[1]===70&&AA[2]===73&&AA[3]===70&&AA[4]===0)V={version:{d:AA[5],T:AA[6]},K:AA[7],j:AA[8]<<8|AA[9],H:AA[10]<<8|AA[11],S:AA[12],I:AA[13],C:AA.subarray(14,14+3*AA[12]*AA[13])}}if(b===65518){if(AA[0]===65&&AA[1]===100&&AA[2]===111&&AA[3]===98&&AA[4]===101)T={version:AA[5]<<8|AA[6],k:AA[7]<<8|AA[8],q:AA[9]<<8|AA[10],a:AA[11]}}break;case 65499:var s=B(L,P),t;P+=2;var r=s+P-2;while(P<r){var EA=L[P++],JA=new Uint16Array(64);if(EA>>4===0)for(m=0;m<64;m++)t=J[m],JA[t]=L[P++];else if(EA>>4===1)for(m=0;m<64;m++)t=J[m],JA[t]=B(L,P),P+=2;else throw new A("DQT - invalid table spec");v[EA&15]=JA}break;case 65472:case 65473:case 65474:if(S)throw new A("Only single frame JPEGs supported");P+=2,S={},S.G=b===65473,S.Z=b===65474,S.precision=L[P++];var YA=B(L,P),IA,l=0,UA=0;P+=2,S.s=w||YA,S.o=B(L,P),P+=2,S.W=[],S._={};var BA=L[P++];for(p=0;p<BA;p++){IA=L[P];var n=L[P+1]>>4,i=L[P+1]&15;if(l<n)l=n;if(UA<i)UA=i;var KA=L[P+2];o=S.W.push({h:n,A:i,L:KA,$:null}),S._[IA]=o-1,P+=3}S.X=l,S.B=UA,j(S);break;case 65476:var $A=B(L,P);P+=2;for(p=2;p<$A;){var FA=L[P++],e=new Uint8Array(16),c=0;for(m=0;m<16;m++,P++)c+=e[m]=L[P];var HA=new Uint8Array(c);for(m=0;m<c;m++,P++)HA[m]=L[P];p+=17+c,(FA>>4===0?g:_)[FA&15]=W(e,HA)}break;case 65501:P+=2,h=B(L,P),P+=2;break;case 65498:var XA=++x===1&&!w,CA;P+=2;var GA=L[P++],uA=[];for(p=0;p<GA;p++){var z=L[P++],k=S._[z];CA=S.W[k],CA.index=z;var u=L[P++];CA.J=g[u>>4],CA.i=_[u&15],uA.push(CA)}var d=L[P++],a=L[P++],OA=L[P++];try{var LA=$(L,P,S,uA,h,d,a,OA>>4,OA&15,XA);P+=LA}catch(yA){if(yA instanceof DNLMarkerError)return this.parse(L,{F:yA.s});else if(yA instanceof EOIMarkerError)break A;throw yA}break;case 65500:P+=4;break;case 65535:if(L[P]!==255)P--;break;default:var SA=M(L,P-2,P-3);if(SA&&SA.u){P=SA.offset;break}if(P>=L.length-1)break A;throw new A("JpegImage.parse - unknown marker: "+b.toString(16))}b=B(L,P),P+=2}this.width=S.o,this.height=S.s,this.g=V,this.b=T,this.W=[];for(p=0;p<S.W.length;p++){CA=S.W[p];var dA=v[CA.L];if(dA)CA.$=dA;this.W.push({index:CA.index,e:N(S,CA),l:CA.h/S.X,t:CA.A/S.B,P:CA.P,c:CA.c})}this.p=this.W.length;return},Y(L,D,w){if(w==null)w=!1;var P=this.width/L,V=this.height/D,T,S,h,x,y,j,v,_,g,b,p=0,m,o=this.W.length,AA=L*D*o,s=new Uint8ClampedArray(AA),t=new Uint32Array(L),r=4294967288,EA;for(v=0;v<o;v++){if(T=this.W[v],S=T.l*P,h=T.t*V,p=v,m=T.e,x=T.P+1<<3,S!==EA){for(y=0;y<L;y++)_=0|y*S,t[y]=(_&r)<<3|_&7;EA=S}for(j=0;j<D;j++){_=0|j*h,b=x*(_&r)|(_&7)<<3;for(y=0;y<L;y++)s[p]=m[b+t[y]],p+=o}}var JA=this.V;if(!w&&o===4&&!JA)JA=new Int32Array([-256,255,-256,255,-256,255,-256,255]);if(JA)for(v=0;v<AA;)for(_=0,g=0;_<o;_++,v++,g+=2)s[v]=(s[v]*JA[g]>>8)+JA[g+1];return s},get f(){if(this.b)return!!this.b.a;if(this.p===3){if(this.N===0)return!1;else if(this.W[0].index===82&&this.W[1].index===71&&this.W[2].index===66)return!1;return!0}if(this.N===1)return!0;return!1},z:function L(D){var w,P,V;for(var T=0,S=D.length;T<S;T+=3)w=D[T],P=D[T+1],V=D[T+2],D[T]=w-179.456+1.402*V,D[T+1]=w+135.459-0.344*P-0.714*V,D[T+2]=w-226.816+1.772*P;return D},O:function L(D){var w,P,V,T,S=0;for(var h=0,x=D.length;h<x;h+=4)w=D[h],P=D[h+1],V=D[h+2],T=D[h+3],D[S++]=-122.67195406894+P*(-0.0000660635669420364*P+0.000437130475926232*V-0.000054080610064599*w+0.00048449797120281*T-0.154362151871126)+V*(-0.000957964378445773*V+0.000817076911346625*w-0.00477271405408747*T+1.53380253221734)+w*(0.000961250184130688*w-0.00266257332283933*T+0.48357088451265)+T*(-0.000336197177618394*T+0.484791561490776),D[S++]=107.268039397724+P*(0.0000219927104525741*P-0.000640992018297945*V+0.000659397001245577*w+0.000426105652938837*T-0.176491792462875)+V*(-0.000778269941513683*V+0.00130872261408275*w+0.000770482631801132*T-0.151051492775562)+w*(0.00126935368114843*w-0.00265090189010898*T+0.25802910206845)+T*(-0.000318913117588328*T-0.213742400323665),D[S++]=-20.810012546947+P*(-0.000570115196973677*P-0.0000263409051004589*V+0.0020741088115012*w-0.00288260236853442*T+0.814272968359295)+V*(-0.0000153496057440975*V-0.000132689043961446*w+0.000560833691242812*T-0.195152027534049)+w*(0.00174418132927582*w-0.00255243321439347*T+0.116935020465145)+T*(-0.000343531996510555*T+0.24165260232407);return D.subarray(0,S)},r:function L(D){var w,P,V;for(var T=0,S=D.length;T<S;T+=4)w=D[T],P=D[T+1],V=D[T+2],D[T]=434.456-w-1.402*V,D[T+1]=119.541-w+0.344*P+0.714*V,D[T+2]=481.816-w-1.772*P;return D},U:function L(D){var w,P,V,T,S=0;for(var h=0,x=D.length;h<x;h+=4)w=D[h],P=D[h+1],V=D[h+2],T=D[h+3],D[S++]=255+w*(-0.00006747147073602441*w+0.0008379262121013727*P+0.0002894718188643294*V+0.003264231057537806*T-1.1185611867203937)+P*(0.000026374107616089405*P-0.00008626949158638572*V-0.0002748769067499491*T-0.02155688794978967)+V*(-0.00003878099212869363*V-0.0003267808279485286*T+0.0686742238595345)-T*(0.0003361971776183937*T+0.7430659151342254),D[S++]=255+w*(0.00013596372813588848*w+0.000924537132573585*P+0.00010567359618683593*V+0.0004791864687436512*T-0.3109689587515875)+P*(-0.00023545346108370344*P+0.0002702845253534714*V+0.0020200308977307156*T-0.7488052167015494)+V*(0.00006834815998235662*V+0.00015168452363460973*T-0.09751927774728933)-T*(0.0003189131175883281*T+0.7364883807733168),D[S++]=255+w*(0.000013598650411385307*w+0.00012423956175490851*P+0.0004751985097583589*V-0.0000036729317476630422*T-0.05562186980264034)+P*(0.00016141380598724676*P+0.0009692239130725186*V+0.0007782692450036253*T-0.44015232367526463)+V*(0.0000005068882914068769*V+0.0017778369011375071*T-0.7591454649749609)-T*(0.0003435319965105553*T+0.7063770186160144);return D.subarray(0,S)},getData:function(L){var{width:D,height:w,forceRGB:P,isSourcePDF:V}=L;if(this.p>4)throw new A("Unsupported color mode");var T=this.Y(D,w,V);if(this.p===1&&P){var S=T.length,h=new Uint8ClampedArray(S*3),x=0;for(var y=0;y<S;y++){var j=T[y];h[x++]=j,h[x++]=j,h[x++]=j}return h}else if(this.p===3&&this.f)return this.z(T);else if(this.p===4){if(this.f){if(P)return this.O(T);return this.r(T)}else if(P)return this.U(T)}return T}},q}();function E(K,J){return K[J]<<24>>24}function B(K,J){return K[J]<<8|K[J+1]}function I(K,J){return(K[J]<<24|K[J+1]<<16|K[J+2]<<8|K[J+3])>>>0}DA.JpegDecoder=Q})();DA.encodeImage=function(A,Q,E,B){var I={t256:[Q],t257:[E],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1000],t277:[4],t278:[E],t279:[Q*E*4],t282:[[72,1]],t283:[[72,1]],t284:[1],t286:[[0,1]],t287:[[0,1]],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(B)for(var K in B)I[K]=B[K];var J=new Uint8Array(DA.encode([I])),C=new Uint8Array(A),U=new Uint8Array(1000+Q*E*4);for(var K=0;K<J.length;K++)U[K]=J[K];for(var K=0;K<C.length;K++)U[1000+K]=C[K];return U.buffer};DA.encode=function(A){var Q=!1,E=new Uint8Array(20000),B=4,I=Q?DA._binLE:DA._binBE;E[0]=E[1]=Q?73:77,I.writeUshort(E,2,42);var K=8;I.writeUint(E,B,K),B+=4;for(var J=0;J<A.length;J++){var C=DA._writeIFD(I,DA._types.basic,E,K,A[J]);if(K=C[1],J<A.length-1){if((K&3)!=0)K+=4-(K&3);I.writeUint(E,C[0],K)}}return E.slice(0,K).buffer};DA.decode=function(A,Q){if(Q==null)Q={parseMN:!0,debug:!1};var E=new Uint8Array(A),B=0,I=DA._binBE.readASCII(E,B,2);B+=2;var K=I=="II"?DA._binLE:DA._binBE,J=K.readUshort(E,B);B+=2;var C=K.readUint(E,B);B+=4;var U=[];while(!0){var Y=K.readUshort(E,C),H=K.readUshort(E,C+4);if(Y!=0){if(H<1||13<H){log("error in TIFF");break}}if(DA._readIFD(K,E,C,U,0,Q),C=K.readUint(E,C+2+Y*12),C==0)break}return U};DA.decodeImage=function(A,Q,E){if(Q.data)return;var B=new Uint8Array(A),I=DA._binBE.readASCII(B,0,2);if(Q.t256==null)return;Q.isLE=I=="II",Q.width=Q.t256[0],Q.height=Q.t257[0];var K=Q.t259?Q.t259[0]:1,J=Q.t266?Q.t266[0]:1;if(Q.t284&&Q.t284[0]==2)log("PlanarConfiguration 2 should not be used!");if(K==7&&Q.t258&&Q.t258.length>3)Q.t258=Q.t258.slice(0,3);var C=Q.t277?Q.t277[0]:1,U=Q.t258?Q.t258[0]:1,Y=U*C;if(K==1&&Q.t279!=null&&Q.t278&&Q.t262[0]==32803)Y=Math.round(Q.t279[0]*8/(Q.width*Q.t278[0]));if(Q.t50885&&Q.t50885[0]==4)Y=Q.t258[0]*3;var H=Math.ceil(Q.width*Y/8)*8,R=Q.t273;if(R==null||Q.t322)R=Q.t324;var G=Q.t279;if(K==1&&R.length==1)G=[Q.height*(H>>>3)];if(G==null||Q.t322)G=Q.t325;var O=new Uint8Array(Q.height*(H>>>3)),F=0;if(Q.t322!=null){var q=Q.t322[0],W=Q.t323[0],Z=Math.floor((Q.width+q-1)/q),$=Math.floor((Q.height+W-1)/W),X=new Uint8Array(Math.ceil(q*W*Y/8)|0);console.log("====",Z,$);for(var N=0;N<$;N++)for(var M=0;M<Z;M++){var L=N*Z+M;if(X.fill(0),DA.decode._decompress(Q,E,B,R[L],G[L],K,X,0,J,q,W),K==6)O=X;else DA._copyTile(X,Math.ceil(q*Y/8)|0,W,O,Math.ceil(Q.width*Y/8)|0,Q.height,Math.ceil(M*q*Y/8)|0,N*W)}F=O.length*8}else{if(R==null)return;var D=Q.t278?Q.t278[0]:Q.height;D=Math.min(D,Q.height);for(var L=0;L<R.length;L++)DA.decode._decompress(Q,E,B,R[L],G[L],K,O,Math.ceil(F/8)|0,J,Q.width,D),F+=H*D;F=Math.min(F,O.length*8)}Q.data=new Uint8Array(O.buffer,0,Math.ceil(F/8)|0)};DA.decode._decompress=function(A,Q,E,B,I,K,J,C,U,Y,H){if(A.t271&&A.t271[0]=="Panasonic"&&A.t45&&A.t45[0]==6)K=34316;if(K==1)for(var R=0;R<I;R++)J[C+R]=E[B+R];else if(K==2)DA.decode._decodeG2(E,B,I,J,C,Y,U);else if(K==3)DA.decode._decodeG3(E,B,I,J,C,Y,U,A.t292?(A.t292[0]&1)==1:!1);else if(K==4)DA.decode._decodeG4(E,B,I,J,C,Y,U);else if(K==5)DA.decode._decodeLZW(E,B,I,J,C,8);else if(K==6)DA.decode._decodeOldJPEG(A,E,B,I,J,C);else if(K==7||K==34892)DA.decode._decodeNewJPEG(A,E,B,I,J,C);else if(K==8||K==32946){var G=new Uint8Array(E.buffer,B+2,I-6),O=DA._inflateRaw(G);if(C+O.length<=J.length)J.set(O,C)}else if(K==9)DA.decode._decodeVC5(E,B,I,J,C,A.t33422);else if(K==32767)DA.decode._decodeARW(A,E,B,I,J,C);else if(K==32773)DA.decode._decodePackBits(E,B,I,J,C);else if(K==32809)DA.decode._decodeThunder(E,B,I,J,C);else if(K==34316)DA.decode._decodePanasonic(A,E,B,I,J,C);else if(K==34713)DA.decode._decodeNikon(A,Q,E,B,I,J,C);else if(K==34676)DA.decode._decodeLogLuv32(A,E,B,I,J,C);else log("Unknown compression",K);var F=A.t258?Math.min(32,A.t258[0]):1,q=A.t277?A.t277[0]:1,W=F*q>>>3,Z=Math.ceil(F*q*Y/8);if(F==16&&!A.isLE&&A.t33422==null)for(var $=0;$<H;$++){var X=C+$*Z;for(var N=1;N<Z;N+=2){var M=J[X+N];J[X+N]=J[X+N-1],J[X+N-1]=M}}if(A.t317&&A.t317[0]==2)for(var $=0;$<H;$++){var L=C+$*Z;if(F==16)for(var R=W;R<Z;R+=2){var D=(J[L+R+1]<<8|J[L+R])+(J[L+R-W+1]<<8|J[L+R-W]);J[L+R]=D&255,J[L+R+1]=D>>>8&255}else if(q==3)for(var R=3;R<Z;R+=3)J[L+R]=J[L+R]+J[L+R-3]&255,J[L+R+1]=J[L+R+1]+J[L+R-2]&255,J[L+R+2]=J[L+R+2]+J[L+R-1]&255;else for(var R=W;R<Z;R++)J[L+R]=J[L+R]+J[L+R-W]&255}};DA.decode._decodePanasonic=function(A,Q,E,B,I,K){var J=Q.buffer,C=A.t2[0],U=A.t3[0],Y=A.t10[0],H=A.t45[0],R=0,G=0,O=0,F=0,q,W,Z=H==6?new Uint32Array(18):new Uint8Array(16),$,X,N,M=[0,0],L=[0,0],D,w=0,P,V,T,S,h=new Uint8Array(16384),x=new Uint16Array(I.buffer);function y(i){if(O==0){var KA=new Uint8Array(J,E+G+8184,8200),$A=new Uint8Array(J,E+G,8184);h.set(KA),h.set($A,KA.length),G+=16384}if(H==5)for($=0;$<16;$++)Z[$]=h[O++],O&=16383;else return O=O-i&131071,F=O>>3^16368,(h[F]|h[F+1]<<8)>>(O&7)&~(-1<<i)}function j(i){return h[O+15-i]}function v(){Z[0]=j(0)<<6|j(1)>>2,Z[1]=((j(1)&3)<<12|j(2)<<4|j(3)>>4)&16383,Z[2]=j(3)>>2&3,Z[3]=(j(3)&3)<<8|j(4),Z[4]=j(5)<<2|j(6)>>6,Z[5]=(j(6)&63)<<4|j(7)>>4,Z[6]=j(7)>>2&3,Z[7]=(j(7)&3)<<8|j(8),Z[8]=j(9)<<2&1020|j(10)>>6,Z[9]=(j(10)<<4|j(11)>>4)&1023,Z[10]=j(11)>>2&3,Z[11]=(j(11)&3)<<8|j(12),Z[12]=(j(13)<<2&1020|j(14)>>6)&1023,Z[13]=(j(14)<<4|j(15)>>4)&1023,O+=16,F=0}function _(){Z[0]=j(0)<<4|j(1)>>4,Z[1]=((j(1)&15)<<8|j(2))&4095,Z[2]=j(3)>>6&3,Z[3]=(j(3)&63)<<2|j(4)>>6,Z[4]=(j(4)&63)<<2|j(5)>>6,Z[5]=(j(5)&63)<<2|j(6)>>6,Z[6]=j(6)>>4&3,Z[7]=(j(6)&15)<<4|j(7)>>4,Z[8]=(j(7)&15)<<4|j(8)>>4,Z[9]=(j(8)&15)<<4|j(9)>>4,Z[10]=j(9)>>2&3,Z[11]=(j(9)&3)<<6|j(10)>>2,Z[12]=(j(10)&3)<<6|j(11)>>2,Z[13]=(j(11)&3)<<6|j(12)>>2,Z[14]=j(12)&3,Z[15]=j(13),Z[16]=j(14),Z[17]=j(15),O+=16,F=0}function g(){M[0]=0,M[1]=0,L[0]=0,L[1]=0}if(H==7)throw H;else if(H==6){var b=Y==12,p=b?_:v,m=b?14:11,o=b?128:512,AA=b?2048:8192,s=b?16383:65535,t=b?4095:16383,r=C/m,EA=r*16,JA=b?18:14;for(V=0;V<U-15;V+=16){var YA=Math.min(16,U-V),IA=EA*YA;h=new Uint8Array(J,E+R,IA),O=0,R+=IA;for(S=0,T=0;S<YA;S++,T=0){w=(V+S)*C;for(var l=0;l<r;l++){p(),g(),N=0,P=0;for($=0;$<m;$++){if(D=$&1,$%3==2){var UA=F<JA?Z[F++]:0;if(UA==3)UA=4;P=o<<UA,N=1<<UA}var BA=F<JA?Z[F++]:0;if(M[D]){if(BA*=N,P<AA&&L[D]>P)BA+=L[D]-P;L[D]=BA}else if(M[D]=BA,BA)L[D]=BA;else BA=L[D];x[w+T++]=BA-15<=s?BA-15&s:BA+2147483633>>31&t}}}}}else if(H==5){var n=Y==12?10:9;for(V=0;V<U;V++)for(T=0;T<C;T+=n)if(y(0),Y==12)x[w++]=((Z[1]&15)<<8)+Z[0],x[w++]=16*Z[2]+(Z[1]>>4),x[w++]=((Z[4]&15)<<8)+Z[3],x[w++]=16*Z[5]+(Z[4]>>4),x[w++]=((Z[7]&15)<<8)+Z[6],x[w++]=16*Z[8]+(Z[7]>>4),x[w++]=((Z[10]&15)<<8)+Z[9],x[w++]=16*Z[11]+(Z[10]>>4),x[w++]=((Z[13]&15)<<8)+Z[12],x[w++]=16*Z[14]+(Z[13]>>4);else if(Y==14)x[w++]=Z[0]+((Z[1]&63)<<8),x[w++]=(Z[1]>>6)+4*Z[2]+((Z[3]&15)<<10),x[w++]=(Z[3]>>4)+16*Z[4]+((Z[5]&3)<<12),x[w++]=((Z[5]&252)>>2)+(Z[6]<<6),x[w++]=Z[7]+((Z[8]&63)<<8),x[w++]=(Z[8]>>6)+4*Z[9]+((Z[10]&15)<<10),x[w++]=(Z[10]>>4)+16*Z[11]+((Z[12]&3)<<12),x[w++]=((Z[12]&252)>>2)+(Z[13]<<6),x[w++]=Z[14]+((Z[15]&63)<<8)}else if(H==4)for(V=0;V<U;V++)for(T=0;T<C;T++){if($=T%14,D=$&1,$==0)g();if($%3==2)N=4>>3-y(2);if(L[D]){if(X=y(8),X!=0){if(M[D]-=128<<N,M[D]<0||N==4)M[D]&=~(-1<<N);M[D]+=X<<N}}else if(L[D]=y(8),L[D]||$>11)M[D]=L[D]<<4|y(4);x[w++]=M[T&1]}else throw H};DA.decode._decodeVC5=function(){var A=[1,0,1,0,2,2,1,1,3,7,1,2,5,25,1,3,6,48,1,4,6,54,1,5,7,111,1,8,7,99,1,6,7,105,12,0,7,107,1,7,8,209,20,0,8,212,1,9,8,220,1,10,9,393,1,11,9,394,32,0,9,416,1,12,9,427,1,13,10,887,1,18,10,784,1,14,10,790,1,15,10,835,60,0,10,852,1,16,10,885,1,17,11,1571,1,19,11,1668,1,20,11,1669,100,0,11,1707,1,21,11,1772,1,22,12,3547,1,29,12,3164,1,24,12,3166,1,25,12,3140,1,23,12,3413,1,26,12,3537,1,27,12,3539,1,28,13,7093,1,35,13,6283,1,30,13,6331,1,31,13,6335,180,0,13,6824,1,32,13,7072,1,33,13,7077,320,0,13,7076,1,34,14,12565,1,36,14,12661,1,37,14,12669,1,38,14,13651,1,39,14,14184,1,40,15,28295,1,46,15,28371,1,47,15,25320,1,42,15,25336,1,43,15,25128,1,41,15,27300,1,44,15,28293,1,45,16,50259,1,48,16,50643,1,49,16,50675,1,50,16,56740,1,53,16,56584,1,51,16,56588,1,52,17,113483,1,61,17,113482,1,60,17,101285,1,55,17,101349,1,56,17,109205,1,57,17,109207,1,58,17,100516,1,54,17,113171,1,59,18,202568,1,62,18,202696,1,63,18,218408,1,64,18,218412,1,65,18,226340,1,66,18,226356,1,67,18,226358,1,68,19,402068,1,69,19,405138,1,70,19,405394,1,71,19,436818,1,72,19,436826,1,73,19,452714,1,75,19,452718,1,76,19,452682,1,74,20,804138,1,77,20,810279,1,78,20,810790,1,79,20,873638,1,80,20,873654,1,81,20,905366,1,82,20,905430,1,83,20,905438,1,84,21,1608278,1,85,21,1620557,1,86,21,1621582,1,87,21,1621583,1,88,21,1747310,1,89,21,1810734,1,90,21,1810735,1,91,21,1810863,1,92,21,1810879,1,93,22,3621725,1,99,22,3621757,1,100,22,3241112,1,94,22,3494556,1,95,22,3494557,1,96,22,3494622,1,97,22,3494623,1,98,23,6482227,1,102,23,6433117,1,101,23,6989117,1,103,23,6989119,1,105,23,6989118,1,104,23,7243449,1,106,23,7243512,1,107,24,13978233,1,111,24,12964453,1,109,24,12866232,1,108,24,14486897,1,113,24,13978232,1,110,24,14486896,1,112,24,14487026,1,114,24,14487027,1,115,25,25732598,1,225,25,25732597,1,189,25,25732596,1,188,25,25732595,1,203,25,25732594,1,202,25,25732593,1,197,25,25732592,1,207,25,25732591,1,169,25,25732590,1,223,25,25732589,1,159,25,25732522,1,235,25,25732579,1,152,25,25732575,1,192,25,25732489,1,179,25,25732573,1,201,25,25732472,1,172,25,25732576,1,149,25,25732488,1,178,25,25732566,1,120,25,25732571,1,219,25,25732577,1,150,25,25732487,1,127,25,25732506,1,211,25,25732548,1,125,25,25732588,1,158,25,25732486,1,247,25,25732467,1,238,25,25732508,1,163,25,25732552,1,228,25,25732603,1,183,25,25732513,1,217,25,25732587,1,168,25,25732520,1,122,25,25732484,1,128,25,25732562,1,249,25,25732505,1,187,25,25732504,1,186,25,25732483,1,136,25,25928905,1,181,25,25732560,1,255,25,25732500,1,230,25,25732482,1,135,25,25732555,1,233,25,25732568,1,222,25,25732583,1,145,25,25732481,1,134,25,25732586,1,167,25,25732521,1,248,25,25732518,1,209,25,25732480,1,243,25,25732512,1,216,25,25732509,1,164,25,25732547,1,140,25,25732479,1,157,25,25732544,1,239,25,25732574,1,191,25,25732564,1,251,25,25732478,1,156,25,25732546,1,139,25,25732498,1,242,25,25732557,1,133,25,25732477,1,162,25,25732515,1,213,25,25732584,1,165,25,25732514,1,212,25,25732476,1,227,25,25732494,1,198,25,25732531,1,236,25,25732530,1,234,25,25732529,1,117,25,25732528,1,215,25,25732527,1,124,25,25732526,1,123,25,25732525,1,254,25,25732524,1,253,25,25732523,1,148,25,25732570,1,218,25,25732580,1,146,25,25732581,1,147,25,25732569,1,224,25,25732533,1,143,25,25732540,1,184,25,25732541,1,185,25,25732585,1,166,25,25732556,1,132,25,25732485,1,129,25,25732563,1,250,25,25732578,1,151,25,25732501,1,119,25,25732502,1,193,25,25732536,1,176,25,25732496,1,245,25,25732553,1,229,25,25732516,1,206,25,25732582,1,144,25,25732517,1,208,25,25732558,1,137,25,25732543,1,241,25,25732466,1,237,25,25732507,1,190,25,25732542,1,240,25,25732551,1,131,25,25732554,1,232,25,25732565,1,252,25,25732475,1,171,25,25732493,1,205,25,25732492,1,204,25,25732491,1,118,25,25732490,1,214,25,25928904,1,180,25,25732549,1,126,25,25732602,1,182,25,25732539,1,175,25,25732545,1,141,25,25732559,1,138,25,25732537,1,177,25,25732534,1,153,25,25732503,1,194,25,25732606,1,160,25,25732567,1,121,25,25732538,1,174,25,25732497,1,246,25,25732550,1,130,25,25732572,1,200,25,25732474,1,170,25,25732511,1,221,25,25732601,1,196,25,25732532,1,142,25,25732519,1,210,25,25732495,1,199,25,25732605,1,155,25,25732535,1,154,25,25732499,1,244,25,25732510,1,220,25,25732600,1,195,25,25732607,1,161,25,25732604,1,231,25,25732473,1,173,25,25732599,1,226,26,51465122,1,116,26,51465123,0,1],Q,E,B,I=[3,3,3,3,2,2,2,1,1,1],K=24576,J=16384,C=8192,U=J|C;function Y($){var X=$[1],N=$[0][X>>>3]>>>7-(X&7)&1;return $[1]++,N}function H($,X){if(Q==null){Q={};for(var N=0;N<A.length;N+=4)Q[A[N+1]]=A.slice(N,N+4)}var M=Y($),L=Q[M];while(L==null)M=M<<1|Y($),L=Q[M];var D=L[3];if(D!=0)D=Y($)==0?D:-D;X[0]=L[2],X[1]=D}function R($,X){for(var N=0;N<X;N++){if(($&1)==1)$++;$=$>>>1}return $}function G($,X){return $>>X}function O($,X,N,M,L,D){X[N]=G(G(11*$[L]-4*$[L+D]+$[L+D+D]+4,3)+$[M],1),X[N+D]=G(G(5*$[L]+4*$[L+D]-$[L+D+D]+4,3)-$[M],1)}function F($,X,N,M,L,D){var w=$[L-D]-$[L+D],P=$[L],V=$[M];X[N]=G(G(w+4,3)+P+V,1),X[N+D]=G(G(-w+4,3)+P-V,1)}function q($,X,N,M,L,D){X[N]=G(G(5*$[L]+4*$[L-D]-$[L-D-D]+4,3)+$[M],1),X[N+D]=G(G(11*$[L]-4*$[L-D]+$[L-D-D]+4,3)-$[M],1)}function W($){return $=$<0?0:$>4095?4095:$,$=B[$]>>>2,$}function Z($,X,N,M,L,D){M=new Uint16Array(M.buffer);var w=Date.now(),P=DA._binBE,V=X+N,T,S,h,x,y,j,v,_,g,b,p,m,o,AA,s,t,r,EA;X+=4;var JA=D[0]==1;while(X<V){var YA=P.readShort($,X),IA=P.readUshort($,X+2);if(X+=4,YA==12)T=IA;else if(YA==20)S=IA;else if(YA==21)h=IA;else if(YA==48)x=IA;else if(YA==53)y=IA;else if(YA==35)j=IA;else if(YA==62)v=IA;else if(YA==101)_=IA;else if(YA==109)g=IA;else if(YA==84)b=IA;else if(YA==106)p=IA;else if(YA==107)m=IA;else if(YA==108)o=IA;else if(YA==102)AA=IA;else if(YA==104)s=IA;else if(YA==105)t=IA;else{var l=YA<0?-YA:YA,UA=l&65280,BA=0;if(l&U)if(l&C)BA=IA&65535,BA+=(l&255)<<16;else BA=IA&65535;if((l&K)==K){if(r==null){r=[];for(var n=0;n<4;n++)r[n]=new Int16Array((S>>>1)*(h>>>1));EA=new Int16Array((S>>>1)*(h>>>1)),E=new Int16Array(1024);for(var n=0;n<1024;n++){var i=n-512,KA=Math.abs(i),T=Math.floor(768*KA*KA*KA/16581375)+KA;E[n]=Math.sign(i)*T}B=new Uint16Array(4096);var $A=65535;for(var n=0;n<4096;n++){var FA=n,e=$A*(Math.pow(113,FA/4095)-1)/112;B[n]=Math.min(e,$A)}}var c=r[v],HA=R(S,1+I[x]),XA=R(h,1+I[x]);if(x==0)for(var CA=0;CA<XA;CA++)for(var GA=0;GA<HA;GA++){var uA=X+(CA*HA+GA)*2;c[CA*(S>>>1)+GA]=$[uA]<<8|$[uA+1]}else{var z=[$,X*8],k=[],u=0,d=HA*XA,a=[0,0],OA=0,IA=0;while(u<d){H(z,a),OA=a[0],IA=a[1];while(OA>0)k[u++]=IA,OA--}var LA=(x-1)%3,SA=LA!=1?HA:0,dA=LA!=0?XA:0;for(var CA=0;CA<XA;CA++){var yA=(CA+dA)*(S>>>1)+SA,lA=CA*HA;for(var GA=0;GA<HA;GA++)c[yA+GA]=E[k[lA+GA]+512]*y}if(LA==2){var s=S>>>1,ZA=HA*2,xA=XA*2;for(var CA=0;CA<XA;CA++)for(var GA=0;GA<ZA;GA++){var n=CA*2*s+GA,TA=CA*s+GA,kA=XA*s+TA;if(CA==0)O(c,EA,n,kA,TA,s);else if(CA==XA-1)q(c,EA,n,kA,TA,s);else F(c,EA,n,kA,TA,s)}var oA=c;c=EA,EA=oA;for(var CA=0;CA<xA;CA++)for(var GA=0;GA<HA;GA++){var n=CA*s+2*GA,TA=CA*s+GA,kA=HA+TA;if(GA==0)O(c,EA,n,kA,TA,1);else if(GA==HA-1)q(c,EA,n,kA,TA,1);else F(c,EA,n,kA,TA,1)}var oA=c;c=EA,EA=oA;var iA=[],q0=2-~~((x-1)/3);for(var WQ=0;WQ<3;WQ++)iA[WQ]=g>>14-WQ*2&3;var tQ=iA[q0];if(tQ!=0)for(var CA=0;CA<xA;CA++)for(var GA=0;GA<ZA;GA++){var n=CA*s+GA;c[n]=c[n]<<tQ}}}if(x==9&&v==3){var b0=r[0],_1=r[1],QE=r[2],dC=r[3];for(var CA=0;CA<h;CA+=2)for(var GA=0;GA<S;GA+=2){var G1=CA*S+GA,uA=(CA>>>1)*(S>>>1)+(GA>>>1),JB=b0[uA],lC=_1[uA]-2048,nC=QE[uA]-2048,EI=dC[uA]-2048,CJ=(lC<<1)+JB,BI=(nC<<1)+JB,UJ=JB+EI,YJ=JB-EI;if(JA)M[G1]=W(UJ),M[G1+1]=W(BI),M[G1+S]=W(CJ),M[G1+S+1]=W(YJ);else M[G1]=W(CJ),M[G1+1]=W(UJ),M[G1+S]=W(YJ),M[G1+S+1]=W(BI)}}X+=BA*4}else if(l==16388)X+=BA*4;else if(UA==8192||UA==8448||UA==9216);else throw l.toString(16)}}console.log(Date.now()-w)}return Z}();DA.decode._decodeLogLuv32=function(A,Q,E,B,I,K){var J=A.width,C=J*4,U=0,Y=new Uint8Array(C);while(U<B){var H=0;while(H<C){var R=Q[E+U];if(U++,R<128){for(var G=0;G<R;G++)Y[H+G]=Q[E+U+G];H+=R,U+=R}else{R=R-126;for(var G=0;G<R;G++)Y[H+G]=Q[E+U];H+=R,U++}}for(var O=0;O<J;O++)I[K+0]=Y[O],I[K+1]=Y[O+J],I[K+2]=Y[O+J*2],I[K+4]=Y[O+J*3],K+=6}};DA.decode._ljpeg_diff=function(A,Q,E){var B=DA.decode._getbithuff,I,K;if(I=B(A,Q,E[0],E),K=B(A,Q,I,0),(K&1<<I-1)==0)K-=(1<<I)-1;return K};DA.decode._decodeARW=function(A,Q,E,B,I,K){var J=A.t256[0],C=A.t257[0],U=A.t258[0],Y=A.isLE?DA._binLE:DA._binBE,H=J*C==B||J*C*1.5==B;if(!H){C+=8;var R=[E,0,0,0],G=new Uint16Array(32770),O=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],v,F,q,P,w,W=0,Z=DA.decode._ljpeg_diff;G[0]=15;for(q=v=0;v<18;v++){var $=32768>>>(O[v]>>>8);for(var F=0;F<$;F++)G[++q]=O[v]}for(P=J;P--;)for(w=0;w<C+1;w+=2){if(w==C)w=1;if(W+=Z(Q,R,G),w<C){var X=W&4095;DA.decode._putsF(I,(w*J+P)*U,X<<16-U)}}return}if(J*C*1.5==B){for(var v=0;v<B;v+=3){var N=Q[E+v+0],M=Q[E+v+1],L=Q[E+v+2];I[K+v]=M<<4|N>>>4,I[K+v+1]=N<<4|L>>>4,I[K+v+2]=L<<4|M>>>4}return}var D=new Uint16Array(16),w,P,V,T,S,h,x,y,j,v,_,g=new Uint8Array(J+1);for(w=0;w<C;w++){for(var b=0;b<J;b++)g[b]=Q[E++];for(_=0,P=0;P<J-30;_+=16){T=2047&(V=Y.readUint(g,_)),S=2047&V>>>11,h=15&V>>>22,x=15&V>>>26;for(y=0;y<4&&128<<y<=T-S;y++);for(j=30,v=0;v<16;v++)if(v==h)D[v]=T;else if(v==x)D[v]=S;else{if(D[v]=((Y.readUshort(g,_+(j>>3))>>>(j&7)&127)<<y)+S,D[v]>2047)D[v]=2047;j+=7}for(v=0;v<16;v++,P+=2){var X=D[v]<<1;DA.decode._putsF(I,(w*J+P)*U,X<<16-U)}P-=P&1?1:31}}};DA.decode._decodeNikon=function(A,Q,E,B,I,K,J){var C=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],U=A.t256[0],Y=A.t257[0],H=A.t258[0],R=0,G=0,O=DA.decode._make_decoder,F=DA.decode._getbithuff,q=Q[0].exifIFD.makerNote,W=q.t150?q.t150:q.t140,Z=0,$=W[Z++],X=W[Z++];if($==73||X==88)Z+=2110;if($==70)R=2;if(H==14)R+=3;var N=[[0,0],[0,0]],M=A.isLE?DA._binLE:DA._binBE;for(var V=0;V<2;V++)for(var L=0;L<2;L++)N[V][L]=M.readShort(W,Z),Z+=2;var D=1<<H&32767,w=0,P=M.readShort(W,Z);if(Z+=2,P>1)w=Math.floor(D/(P-1));if($==68&&X==32&&w>0)G=M.readShort(W,562);var V,T,S,h,x,y,j=0,v=[0,0],_=O(C[R]),g=[B,0,0,0];for(j=T=0;T<Y;T++){if(G&&T==G)_=O(C[R+1]);for(S=0;S<U;S++){if(V=F(E,g,_[0],_),h=V&15,x=V>>>4,y=(F(E,g,h-x,0)<<1)+1<<x>>>1,(y&1<<h-1)==0)y-=(1<<h)-(x==0?1:0);if(S<2)v[S]=N[T&1][S]+=y;else v[S&1]+=y;var b=Math.min(Math.max(v[S&1],0),(1<<H)-1),p=(T*U+S)*H;DA.decode._putsF(K,p,b<<16-H)}}};DA.decode._putsF=function(A,Q,E){E=E<<8-(Q&7);var B=Q>>>3;A[B]|=E>>>16,A[B+1]|=E>>>8,A[B+2]|=E};DA.decode._getbithuff=function(A,Q,E,B){var I=0,K=DA.decode._get_byte,J,C=Q[0],U=Q[1],Y=Q[2],H=Q[3];if(E==0||Y<0)return 0;while(!H&&Y<E&&(J=A[C++])!=-1&&!(H=I&&J==255&&A[C++]))U=(U<<8)+J,Y+=8;if(J=U<<32-Y>>>32-E,B)Y-=B[J+1]>>>8,J=B[J+1]&255;else Y-=E;if(Y<0)throw"e";return Q[0]=C,Q[1]=U,Q[2]=Y,Q[3]=H,J};DA.decode._make_decoder=function(A){var Q,E,B,I,K,J=[];for(Q=16;Q!=0&&!A[Q];Q--);var C=17;J[0]=Q;for(B=E=1;E<=Q;E++)for(I=0;I<A[E];I++,++C)for(K=0;K<1<<Q-E;K++)if(B<=1<<Q)J[B++]=E<<8|A[C];return J};DA.decode._decodeNewJPEG=function(A,Q,E,B,I,K){B=Math.min(B,Q.length-E);var J=A.t347,C=J?J.length:0,U=new Uint8Array(C+B);if(J){var Y=216,H=217,R=0;for(var G=0;G<C-1;G++){if(J[G]==255&&J[G+1]==H)break;U[R++]=J[G]}var O=Q[E],F=Q[E+1];if(O!=255||F!=Y)U[R++]=O,U[R++]=F;for(var G=2;G<B;G++)U[R++]=Q[E+G]}else for(var G=0;G<B;G++)U[G]=Q[E+G];if(A.t262[0]==32803||A.t259[0]==7&&A.t262[0]==34892){var q=A.t258[0],W=DA.LosslessJpegDecode(U),Z=W.length;if(q==16)if(A.isLE)for(var G=0;G<Z;G++)I[K+(G<<1)]=W[G]&255,I[K+(G<<1)+1]=W[G]>>>8;else for(var G=0;G<Z;G++)I[K+(G<<1)]=W[G]>>>8,I[K+(G<<1)+1]=W[G]&255;else if(q==14||q==12||q==10){var $=16-q;for(var G=0;G<Z;G++)DA.decode._putsF(I,G*q,W[G]<<$)}else if(q==8)for(var G=0;G<Z;G++)I[K+G]=W[G];else throw new Error("unsupported bit depth "+q)}else{var X=new DA.JpegDecoder;X.parse(U);var N=X.getData({width:X.width,height:X.height,forceRGB:!0,isSourcePDF:!1});for(var G=0;G<N.length;G++)I[K+G]=N[G]}if(A.t262[0]==6)A.t262[0]=2};DA.decode._decodeOldJPEGInit=function(A,Q,E,B){var I=216,K=217,J=219,C=196,U=221,Y=192,H=218,R=0,G=0,O,F,q=!1,W,Z,$,X=A.t513,N=X?X[0]:0,M=A.t514,L=M?M[0]:0,D=A.t324||A.t273||X,w=A.t530,P=0,V=0,T=A.t277?A.t277[0]:1,S=A.t515;if(D)G=D[0],q=D.length>1;if(!q){if(Q[E]==255&&Q[E+1]==I)return{jpegOffset:E};if(X!=null){if(Q[E+N]==255&&Q[E+N+1]==I)R=E+N;else log("JPEGInterchangeFormat does not point to SOI");if(M==null)log("JPEGInterchangeFormatLength field is missing");else if(N>=G||N+L<=G)log("JPEGInterchangeFormatLength field value is invalid");if(R!=null)return{jpegOffset:R}}}if(w!=null)P=w[0],V=w[1];if(X!=null){if(M!=null)if(L>=2&&N+L<=G){if(Q[E+N+L-2]==255&&Q[E+N+L-1]==I)O=new Uint8Array(L-2);else O=new Uint8Array(L);for(W=0;W<O.length;W++)O[W]=Q[E+N+W];log("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else log("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile")}if(O==null){var h=0,x=[];x[h++]=255,x[h++]=I;var y=A.t519;if(y==null)throw new Error("JPEGQTables tag is missing");for(W=0;W<y.length;W++){x[h++]=255,x[h++]=J,x[h++]=0,x[h++]=67,x[h++]=W;for(Z=0;Z<64;Z++)x[h++]=Q[E+y[W]+Z]}for($=0;$<2;$++){var j=A[$==0?"t520":"t521"];if(j==null)throw new Error(($==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(W=0;W<j.length;W++){x[h++]=255,x[h++]=C;var v=19;for(Z=0;Z<16;Z++)v+=Q[E+j[W]+Z];x[h++]=v>>>8,x[h++]=v&255,x[h++]=W|$<<4;for(Z=0;Z<16;Z++)x[h++]=Q[E+j[W]+Z];for(Z=0;Z<v;Z++)x[h++]=Q[E+j[W]+16+Z]}}if(x[h++]=255,x[h++]=Y,x[h++]=0,x[h++]=8+3*T,x[h++]=8,x[h++]=A.height>>>8&255,x[h++]=A.height&255,x[h++]=A.width>>>8&255,x[h++]=A.width&255,x[h++]=T,T==1)x[h++]=1,x[h++]=17,x[h++]=0;else for(W=0;W<3;W++)x[h++]=W+1,x[h++]=W!=0?17:(P&15)<<4|V&15,x[h++]=W;if(S!=null&&S[0]!=0)x[h++]=255,x[h++]=U,x[h++]=0,x[h++]=4,x[h++]=S[0]>>>8&255,x[h++]=S[0]&255;O=new Uint8Array(x)}var _=-1;W=0;while(W<O.length-1){if(O[W]==255&&O[W+1]==Y){_=W;break}W++}if(_==-1){var g=new Uint8Array(O.length+10+3*T);g.set(O);var b=O.length;if(_=O.length,O=g,O[b++]=255,O[b++]=Y,O[b++]=0,O[b++]=8+3*T,O[b++]=8,O[b++]=A.height>>>8&255,O[b++]=A.height&255,O[b++]=A.width>>>8&255,O[b++]=A.width&255,O[b++]=T,T==1)O[b++]=1,O[b++]=17,O[b++]=0;else for(W=0;W<3;W++)O[b++]=W+1,O[b++]=W!=0?17:(P&15)<<4|V&15,O[b++]=W}if(Q[G]==255&&Q[G+1]==H){var p=Q[G+2]<<8|Q[G+3];F=new Uint8Array(p+2),F[0]=Q[G],F[1]=Q[G+1],F[2]=Q[G+2],F[3]=Q[G+3];for(W=0;W<p-2;W++)F[W+4]=Q[G+W+4]}else{F=new Uint8Array(8+2*T);var m=0;if(F[m++]=255,F[m++]=H,F[m++]=0,F[m++]=6+2*T,F[m++]=T,T==1)F[m++]=1,F[m++]=0;else for(W=0;W<3;W++)F[m++]=W+1,F[m++]=W<<4|W;F[m++]=0,F[m++]=63,F[m++]=0}return{jpegOffset:E,tables:O,sosMarker:F,sofPosition:_}};DA.decode._decodeOldJPEG=function(A,Q,E,B,I,K){var J,C,U,Y,H,R=DA.decode._decodeOldJPEGInit(A,Q,E,B);if(R.jpegOffset!=null){C=E+B-R.jpegOffset,Y=new Uint8Array(C);for(J=0;J<C;J++)Y[J]=Q[R.jpegOffset+J]}else{if(U=R.tables.length,Y=new Uint8Array(U+R.sosMarker.length+B+2),Y.set(R.tables),H=U,Y[R.sofPosition+5]=A.height>>>8&255,Y[R.sofPosition+6]=A.height&255,Y[R.sofPosition+7]=A.width>>>8&255,Y[R.sofPosition+8]=A.width&255,Q[E]!=255||Q[E+1]!=SOS)Y.set(R.sosMarker,H),H+=sosMarker.length;for(J=0;J<B;J++)Y[H++]=Q[E+J];Y[H++]=255,Y[H++]=EOI}var G=new DA.JpegDecoder;G.parse(Y);var O=G.getData({width:G.width,height:G.height,forceRGB:!0,isSourcePDF:!1});for(var J=0;J<O.length;J++)I[K+J]=O[J];if(A.t262&&A.t262[0]==6)A.t262[0]=2};DA.decode._decodePackBits=function(A,Q,E,B,I){var K=new Int8Array(A.buffer),J=new Int8Array(B.buffer),C=Q+E;while(Q<C){var U=K[Q];if(Q++,U>=0&&U<128)for(var Y=0;Y<U+1;Y++)J[I]=K[Q],I++,Q++;if(U>=-127&&U<0){for(var Y=0;Y<-U+1;Y++)J[I]=K[Q],I++;Q++}}return I};DA.decode._decodeThunder=function(A,Q,E,B,I){var K=[0,1,0,-1],J=[0,1,2,3,0,-3,-2,-1],C=Q+E,U=I*2,Y=0;while(Q<C){var H=A[Q],R=H>>>6,G=H&63;if(Q++,R==3)Y=G&15,B[U>>>1]|=Y<<4*(1-U&1),U++;if(R==0)for(var O=0;O<G;O++)B[U>>>1]|=Y<<4*(1-U&1),U++;if(R==2)for(var O=0;O<2;O++){var F=G>>>3*(1-O)&7;if(F!=4)Y+=J[F],B[U>>>1]|=Y<<4*(1-U&1),U++}if(R==1)for(var O=0;O<3;O++){var F=G>>>2*(2-O)&3;if(F!=2)Y+=K[F],B[U>>>1]|=Y<<4*(1-U&1),U++}}};DA.decode._dmap={"1":0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3};DA.decode._lens=function(){var A=function(U,Y,H,R){for(var G=0;G<Y.length;G++)U[Y[G]]=H+G*R},Q="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",E="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",B="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",I="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",K="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";Q=Q.split(","),E=E.split(","),B=B.split(","),I=I.split(","),K=K.split(",");var J={},C={};return A(J,Q,0,1),A(J,B,64,64),A(J,K,1792,64),A(C,E,0,1),A(C,I,64,64),A(C,K,1792,64),[J,C]}();DA.decode._decodeG4=function(A,Q,E,B,I,K,J){var C=DA.decode,U=Q<<3,Y=0,H="",R=[],G=[];for(var O=0;O<K;O++)G.push(0);G=C._makeDiff(G);var F=0,q=0,W=0,Z=0,$=0,X=0,N=0,M="",L=0,D=Math.ceil(K/8)*8;while(U>>>3<Q+E){Z=C._findDiff(G,F+(F==0?0:1),1-X),$=C._findDiff(G,Z,X);var w=0;if(J==1)w=A[U>>>3]>>>7-(U&7)&1;if(J==2)w=A[U>>>3]>>>(U&7)&1;if(U++,H+=w,M=="H"){if(C._lens[X][H]!=null){var P=C._lens[X][H];if(H="",Y+=P,P<64){if(C._addNtimes(R,Y,X),F+=Y,X=1-X,Y=0,L--,L==0)M=""}}}else{if(H=="0001")H="",C._addNtimes(R,$-F,X),F=$;if(H=="001")H="",M="H",L=2;if(C._dmap[H]!=null)q=Z+C._dmap[H],C._addNtimes(R,q-F,X),F=q,H="",X=1-X}if(R.length==K&&M=="")C._writeBits(R,B,I*8+N*D),X=0,N++,F=0,G=C._makeDiff(R),R=[]}};DA.decode._findDiff=function(A,Q,E){for(var B=0;B<A.length;B+=2)if(A[B]>=Q&&A[B+1]==E)return A[B]};DA.decode._makeDiff=function(A){var Q=[];if(A[0]==1)Q.push(0,1);for(var E=1;E<A.length;E++)if(A[E-1]!=A[E])Q.push(E,A[E]);return Q.push(A.length,0,A.length,1),Q};DA.decode._decodeG2=function(A,Q,E,B,I,K,J){var C=DA.decode,U=Q<<3,Y=0,H="",R=[],G=0,O=0,F=Math.ceil(K/8)*8;while(U>>>3<Q+E){var q=0;if(J==1)q=A[U>>>3]>>>7-(U&7)&1;if(J==2)q=A[U>>>3]>>>(U&7)&1;if(U++,H+=q,Y=C._lens[G][H],Y!=null){if(C._addNtimes(R,Y,G),H="",Y<64)G=1-G;if(R.length==K){if(C._writeBits(R,B,I*8+O*F),R=[],O++,G=0,(U&7)!=0)U+=8-(U&7);if(Y>=64)U+=8}}}};DA.decode._decodeG3=function(A,Q,E,B,I,K,J,C){var U=DA.decode,Y=Q<<3,H=0,R="",G=[],O=[];for(var F=0;F<K;F++)G.push(0);var q=0,W=0,Z=0,$=0,X=0,N=0,M=-1,L="",D=0,w=!0,P=Math.ceil(K/8)*8;while(Y>>>3<Q+E){$=U._findDiff(O,q+(q==0?0:1),1-N),X=U._findDiff(O,$,N);var V=0;if(J==1)V=A[Y>>>3]>>>7-(Y&7)&1;if(J==2)V=A[Y>>>3]>>>(Y&7)&1;if(Y++,R+=V,w){if(U._lens[N][R]!=null){var T=U._lens[N][R];if(R="",H+=T,T<64)U._addNtimes(G,H,N),N=1-N,H=0}}else if(L=="H"){if(U._lens[N][R]!=null){var T=U._lens[N][R];if(R="",H+=T,T<64){if(U._addNtimes(G,H,N),q+=H,N=1-N,H=0,D--,D==0)L=""}}}else{if(R=="0001")R="",U._addNtimes(G,X-q,N),q=X;if(R=="001")R="",L="H",D=2;if(U._dmap[R]!=null)W=$+U._dmap[R],U._addNtimes(G,W-q,N),q=W,R="",N=1-N}if(R.endsWith("000000000001")){if(M>=0)U._writeBits(G,B,I*8+M*P);if(C){if(J==1)w=(A[Y>>>3]>>>7-(Y&7)&1)==1;if(J==2)w=(A[Y>>>3]>>>(Y&7)&1)==1;Y++}R="",N=0,M++,q=0,O=U._makeDiff(G),G=[]}}if(G.length==K)U._writeBits(G,B,I*8+M*P)};DA.decode._addNtimes=function(A,Q,E){for(var B=0;B<Q;B++)A.push(E)};DA.decode._writeBits=function(A,Q,E){for(var B=0;B<A.length;B++)Q[E+B>>>3]|=A[B]<<7-(E+B&7)};DA.decode._decodeLZW=DA.decode._decodeLZW=function(){var A,Q,E,B,I=0,K=0,J=0,C=0,U=function(){var W=A>>>3,Z=Q[W]<<16|Q[W+1]<<8|Q[W+2],$=Z>>>24-(A&7)-K&(1<<K)-1;return A+=K,$},Y=new Uint32Array(16384),H=0,R=function(W){if(W==H)return;H=W,J=1<<W,C=J+1;for(var Z=0;Z<C+1;Z++)Y[4*Z]=Y[4*Z+3]=Z,Y[4*Z+1]=65535,Y[4*Z+2]=1},G=function(W){K=W+1,I=C+1},O=function(W){var Z=W<<2,$=Y[Z+2],X=B+$-1;while(Z!=65535)E[X--]=Y[Z],Z=Y[Z+1];B+=$},F=function(W,Z){var $=I<<2,X=W<<2;if(Y[$]=Y[(Z<<2)+3],Y[$+1]=X,Y[$+2]=Y[X+2]+1,Y[$+3]=Y[X+3],I++,I+1==1<<K&&K!=12)K++},q=function(W,Z,$,X,N,M){A=Z<<3,Q=W,E=X,B=N;var L=Z+$<<3,D=0,w=0;R(M),G(M);while(A<L&&(D=U())!=C){if(D==J){if(G(M),D=U(),D==C)break;O(D)}else if(D<I)O(D),F(w,D);else F(w,w),O(I-1);w=D}return B};return q}();DA.tags={};DA._types=function(){var A=new Array(250);A.fill(0),A=A.concat([0,0,0,0,4,3,3,3,3,3,0,0,3,0,0,0,3,0,0,2,2,2,2,4,3,0,0,3,4,4,3,3,5,5,3,2,5,5,0,0,0,0,4,4,0,0,3,3,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,3,5,5,3,0,3,3,4,4,4,3,4,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);var Q={33432:2,33434:5,33437:5,34665:4,34850:3,34853:4,34855:3,34864:3,34866:4,36864:7,36867:2,36868:2,37121:7,37377:10,37378:5,37380:10,37381:5,37383:3,37384:3,37385:3,37386:5,37510:7,37520:2,37521:2,37522:2,40960:7,40961:3,40962:4,40963:4,40965:4,41486:5,41487:5,41488:3,41985:3,41986:3,41987:3,41988:5,41989:3,41990:3,41993:3,41994:3,41995:7,41996:3,42032:2,42033:2,42034:5,42036:2,42037:2,59932:7};return{basic:{main:A,rest:Q},gps:{main:[1,2,5,2,5,1,5,5,0,9],rest:{18:2,29:2}}}}();DA._readIFD=function(A,Q,E,B,I,K){var J=A.readUshort(Q,E);E+=2;var C={};if(K.debug)log("   ".repeat(I),B.length-1,">>>----------------");for(var U=0;U<J;U++){var Y=A.readUshort(Q,E);E+=2;var H=A.readUshort(Q,E);E+=2;var R=A.readUint(Q,E);E+=4;var G=A.readUint(Q,E);E+=4;var O=[];if(H==1||H==7){var F=R<5?E-4:G;if(F+R>Q.buffer.byteLength)R=Q.buffer.byteLength-F;O=new Uint8Array(Q.buffer,F,R)}if(H==2){var q=R<5?E-4:G,W=Q[q],Z=Math.max(0,Math.min(R-1,Q.length-q));if(W<128||Z==0)O.push(A.readASCII(Q,q,Z));else O=new Uint8Array(Q.buffer,q,Z)}if(H==3)for(var $=0;$<R;$++)O.push(A.readUshort(Q,(R<3?E-4:G)+2*$));if(H==4||H==13)for(var $=0;$<R;$++)O.push(A.readUint(Q,(R<2?E-4:G)+4*$));if(H==5||H==10){var X=H==5?A.readUint:A.readInt;for(var $=0;$<R;$++)O.push([X(Q,G+$*8),X(Q,G+$*8+4)])}if(H==8)for(var $=0;$<R;$++)O.push(A.readShort(Q,(R<3?E-4:G)+2*$));if(H==9)for(var $=0;$<R;$++)O.push(A.readInt(Q,(R<2?E-4:G)+4*$));if(H==11)for(var $=0;$<R;$++)O.push(A.readFloat(Q,G+$*4));if(H==12)for(var $=0;$<R;$++)O.push(A.readDouble(Q,G+$*8));if(R!=0&&O.length==0){if(log(Y,"unknown TIFF tag type: ",H,"num:",R),U==0)return;continue}if(K.debug)log("   ".repeat(I),Y,H,DA.tags[Y],O);if(C["t"+Y]=O,Y==330&&C.t272&&C.t272[0]=="DSLR-A100");else if(Y==330||Y==34665||Y==34853||Y==50740&&A.readUshort(Q,A.readUint(O,0))<300||Y==61440){var N=Y==50740?[A.readUint(O,0)]:O,M=[];for(var $=0;$<N.length;$++)DA._readIFD(A,Q,N[$],M,I+1,K);if(Y==330)C.subIFD=M;if(Y==34665)C.exifIFD=M[0];if(Y==34853)C.gpsiIFD=M[0];if(Y==50740)C.dngPrvt=M[0];if(Y==61440)C.fujiIFD=M[0]}if(Y==37500&&K.parseMN){var L=O;if(A.readASCII(L,0,5)=="Nikon")C.makerNote=DA.decode(L.slice(10).buffer)[0];else if(A.readASCII(L,0,5)=="OLYMP"||A.readASCII(L,0,9)=="OM SYSTEM"){var D=[8208,8224,8240,8256,8272],w=[];DA._readIFD(A,L,L[1]==77?16:L[5]==85?12:8,w,I+1,K);var P=C.makerNote=w.pop();for(var $=0;$<D.length;$++){var V="t"+D[$];if(P[V]==null)continue;DA._readIFD(A,L,P[V][0],w,I+1,K),P[V]=w.pop()}if(P.t12288)DA._readIFD(A,P.t12288,0,w,I+1,K),P.t12288=w.pop()}else if(A.readUshort(Q,G)<300&&A.readUshort(Q,G+4)<=12){var w=[];DA._readIFD(A,Q,G,w,I+1,K),C.makerNote=w[0]}}}if(B.push(C),K.debug)log("   ".repeat(I),"<<<---------------");return E};DA._writeIFD=function(A,Q,E,B,I){var K=Object.keys(I),J=K.length;if(I.exifIFD)J--;if(I.gpsiIFD)J--;A.writeUshort(E,B,J),B+=2;var C=B+J*12+4;for(var U=0;U<K.length;U++){var Y=K[U];if(Y=="t34665"||Y=="t34853")continue;if(Y=="exifIFD")Y="t34665";if(Y=="gpsiIFD")Y="t34853";var H=parseInt(Y.slice(1)),R=Q.main[H];if(R==null)R=Q.rest[H];if(R==null||R==0)throw new Error("unknown type of tag: "+H);var G=I[Y];if(H==34665){var O=DA._writeIFD(A,Q,E,C,I.exifIFD);G=[C],C=O[1]}if(H==34853){var O=DA._writeIFD(A,DA._types.gps,E,C,I.gpsiIFD);G=[C],C=O[1]}if(R==2)G=G[0]+"\0";var F=G.length;A.writeUshort(E,B,H),B+=2,A.writeUshort(E,B,R),B+=2,A.writeUint(E,B,F),B+=4;var q=[-1,1,1,2,4,8,0,1,0,4,8,0,8][R]*F,W=B;if(q>4)A.writeUint(E,B,C),W=C;if(R==1||R==7)for(var Z=0;Z<F;Z++)E[W+Z]=G[Z];else if(R==2)A.writeASCII(E,W,G);else if(R==3)for(var Z=0;Z<F;Z++)A.writeUshort(E,W+2*Z,G[Z]);else if(R==4)for(var Z=0;Z<F;Z++)A.writeUint(E,W+4*Z,G[Z]);else if(R==5||R==10){var $=R==5?A.writeUint:A.writeInt;for(var Z=0;Z<F;Z++){var X=G[Z],N=X[0],M=X[1];if(N==null)throw"e";$(E,W+8*Z,N),$(E,W+8*Z+4,M)}}else if(R==9)for(var Z=0;Z<F;Z++)A.writeInt(E,W+4*Z,G[Z]);else if(R==12)for(var Z=0;Z<F;Z++)A.writeDouble(E,W+8*Z,G[Z]);else throw R;if(q>4)q+=q&1,C+=q;B+=4}return[B,C]};DA.toRGBA8=function(A,Q){function E(c){return c<0.0031308?12.92*c:1.055*Math.pow(c,0.4166666666666667)-0.055}var{width:B,height:I}=A,K=B*I,J=K*4,C=A.data,U=new Uint8Array(K*4),Y=A.t262?A.t262[0]:2,H=A.t258?Math.min(32,A.t258[0]):1;if(A.t262==null&&H==1)Y=0;var R=A.t277?A.t277[0]:A.t258?A.t258.length:[1,1,3,1,1,4,3][Y],G=A.t339?A.t339[0]:null;if(Y==1&&H==32&&G!=3)throw"e";var O=Math.ceil(R*H*B/8);if(Y==0){Q=0.00390625;for(var F=0;F<I;F++){var q=F*O,W=F*B;if(H==1)for(var Z=0;Z<B;Z++){var $=W+Z<<2,X=C[q+(Z>>3)]>>7-(Z&7)&1;U[$]=U[$+1]=U[$+2]=(1-X)*255,U[$+3]=255}if(H==4)for(var Z=0;Z<B;Z++){var $=W+Z<<2,X=C[q+(Z>>1)]>>4-4*(Z&1)&15;U[$]=U[$+1]=U[$+2]=(15-X)*17,U[$+3]=255}if(H==8)for(var Z=0;Z<B;Z++){var $=W+Z<<2,X=C[q+Z];U[$]=U[$+1]=U[$+2]=255-X,U[$+3]=255}if(H==16)for(var Z=0;Z<B;Z++){var $=W+Z<<2,N=q+2*Z,X=C[N+1]<<8|C[N];U[$]=U[$+1]=U[$+2]=Math.min(255,255-~~(X*Q)),U[$+3]=255}}}else if(Y==1){if(Q==null)Q=0.00390625;var M=(C.length&3)==0?new Float32Array(C.buffer):null;for(var F=0;F<I;F++){var q=F*O,W=F*B;if(H==1)for(var Z=0;Z<B;Z++){var $=W+Z<<2,X=C[q+(Z>>3)]>>7-(Z&7)&1;U[$]=U[$+1]=U[$+2]=X*255,U[$+3]=255}if(H==2)for(var Z=0;Z<B;Z++){var $=W+Z<<2,X=C[q+(Z>>2)]>>6-2*(Z&3)&3;U[$]=U[$+1]=U[$+2]=X*85,U[$+3]=255}if(H==8)for(var Z=0;Z<B;Z++){var $=W+Z<<2,X=C[q+Z*R];U[$]=U[$+1]=U[$+2]=X,U[$+3]=255}if(H==16)for(var Z=0;Z<B;Z++){var $=W+Z<<2,N=q+2*Z,X=C[N+1]<<8|C[N];U[$]=U[$+1]=U[$+2]=Math.min(255,~~(X*Q)),U[$+3]=255}if(H==32)for(var Z=0;Z<B;Z++){var $=W+Z<<2,N=(q>>>2)+Z,X=M[N];U[$]=U[$+1]=U[$+2]=~~(0.5+255*X),U[$+3]=255}}}else if(Y==2)if(H==8){if(R==1)for(var Z=0;Z<K;Z++)U[4*Z]=U[4*Z+1]=U[4*Z+2]=C[Z],U[4*Z+3]=255;if(R==3)for(var Z=0;Z<K;Z++){var $=Z<<2,L=Z*3;U[$]=C[L],U[$+1]=C[L+1],U[$+2]=C[L+2],U[$+3]=255}if(R>=4)for(var Z=0;Z<K;Z++){var $=Z<<2,L=Z*R;U[$]=C[L],U[$+1]=C[L+1],U[$+2]=C[L+2],U[$+3]=C[L+3]}}else if(H==16){if(R==4)for(var Z=0;Z<K;Z++){var $=Z<<2,L=Z*8+1;U[$]=C[L],U[$+1]=C[L+2],U[$+2]=C[L+4],U[$+3]=C[L+6]}if(R==3)for(var Z=0;Z<K;Z++){var $=Z<<2,L=Z*6+1;U[$]=C[L],U[$+1]=C[L+2],U[$+2]=C[L+4],U[$+3]=255}}else if(H==32){var D=new Float32Array(C.buffer),w=0;for(var Z=0;Z<D.length;Z++)w=Math.min(w,D[Z]);if(w<0)for(var Z=0;Z<C.length;Z+=4){var P=C[Z];C[Z]=C[Z+3],C[Z+3]=P,P=C[Z+1],C[Z+1]=C[Z+2],C[Z+2]=P}var V=[];for(var Z=0;Z<65536;Z++)V.push(E(Z/65535));for(var Z=0;Z<D.length;Z++){var T=Math.max(0,Math.min(1,D[Z]));D[Z]=V[~~(0.5+T*65535)]}if(R==3)for(var Z=0;Z<K;Z++){var $=Z<<2,L=Z*3;U[$]=~~(0.5+D[L]*255),U[$+1]=~~(0.5+D[L+1]*255),U[$+2]=~~(0.5+D[L+2]*255),U[$+3]=255}else if(R==4)for(var Z=0;Z<K;Z++){var $=Z<<2,L=Z*4;U[$]=~~(0.5+D[L]*255),U[$+1]=~~(0.5+D[L+1]*255),U[$+2]=~~(0.5+D[L+2]*255),U[$+3]=~~(0.5+D[L+3]*255)}else throw R}else throw H;else if(Y==3){var S=A.t320,h=1<<H,x=H==8&&R>1&&A.t338&&A.t338[0]!=0;for(var F=0;F<I;F++)for(var y=0;y<B;y++){var Z=F*B+y,$=Z<<2,j=0,v=F*O;if(H==1)j=C[v+(y>>>3)]>>>7-(y&7)&1;else if(H==2)j=C[v+(y>>>2)]>>>6-2*(y&3)&3;else if(H==4)j=C[v+(y>>>1)]>>>4-4*(y&1)&15;else if(H==8)j=C[v+y*R];else throw H;U[$]=S[j]>>8,U[$+1]=S[h+j]>>8,U[$+2]=S[h+h+j]>>8,U[$+3]=x?C[v+y*R+1]:255}}else if(Y==5){var _=R>4?1:0;for(var Z=0;Z<K;Z++){var $=Z<<2,g=Z*R;if(window.UDOC){var b=C[g],p=C[g+1],m=C[g+2],o=C[g+3],AA=UDOC.C.cmykToRgb([b*0.00392156862745098,p*0.00392156862745098,m*0.00392156862745098,o*0.00392156862745098]);U[$]=~~(0.5+255*AA[0]),U[$+1]=~~(0.5+255*AA[1]),U[$+2]=~~(0.5+255*AA[2])}else{var b=255-C[g],p=255-C[g+1],m=255-C[g+2],o=(255-C[g+3])*0.00392156862745098;U[$]=~~(b*o+0.5),U[$+1]=~~(p*o+0.5),U[$+2]=~~(m*o+0.5)}U[$+3]=255*(1-_)+C[g+4]*_}}else if(Y==6&&A.t278){var s=A.t278[0];for(var F=0;F<I;F+=s){var Z=F*B,t=s*B;for(var r=0;r<t;r++){var $=4*(Z+r),g=3*Z+4*(r>>>1),m=C[g+(r&1)],EA=C[g+2]-128,JA=C[g+3]-128,YA=m+((JA>>2)+(JA>>3)+(JA>>5)),IA=m-((EA>>2)+(EA>>4)+(EA>>5))-((JA>>1)+(JA>>3)+(JA>>4)+(JA>>5)),l=m+(EA+(EA>>1)+(EA>>2)+(EA>>6));U[$]=Math.max(0,Math.min(255,YA)),U[$+1]=Math.max(0,Math.min(255,IA)),U[$+2]=Math.max(0,Math.min(255,l)),U[$+3]=255}}}else if(Y==32845)for(var F=0;F<I;F++)for(var y=0;y<B;y++){var g=(F*B+y)*6,$=(F*B+y)*4,UA=C[g+1]<<8|C[g],UA=Math.pow(2,(UA+0.5)/256-64),BA=(C[g+3]+0.5)/410,n=(C[g+5]+0.5)/410,i=9*BA/(6*BA-16*n+12),KA=4*n/(6*BA-16*n+12),$A=UA,FA=i*$A/KA,m=$A,e=(1-i-KA)*$A/KA,YA=2.69*FA-1.276*m-0.414*e,IA=-1.022*FA+1.978*m+0.044*e,l=0.061*FA-0.224*m+1.163*e;U[$]=E(Math.min(YA,1))*255,U[$+1]=E(Math.min(IA,1))*255,U[$+2]=E(Math.min(l,1))*255,U[$+3]=255}else log("Unknown Photometric interpretation: "+Y);return U};DA.replaceIMG=function(A){if(A==null)A=document.getElementsByTagName("img");var Q=["tif","tiff","dng","cr2","nef"];for(var E=0;E<A.length;E++){var B=A[E],I=B.getAttribute("src");if(I==null)continue;var K=I.split(".").pop().toLowerCase();if(Q.indexOf(K)==-1)continue;var J=new XMLHttpRequest;DA._xhrs.push(J),DA._imgs.push(B),J.open("GET",I),J.responseType="arraybuffer",J.onload=DA._imgLoaded,J.send()}};DA._xhrs=[];DA._imgs=[];DA._imgLoaded=function(A){var Q=DA._xhrs.indexOf(A.target),E=DA._imgs[Q];DA._xhrs.splice(Q,1),DA._imgs.splice(Q,1),E.setAttribute("src",DA.bufferToURI(A.target.response))};DA.bufferToURI=function(A){var Q=DA.decode(A),E=Q,B=0,I=E[0];if(Q[0].subIFD)E=E.concat(Q[0].subIFD);for(var K=0;K<E.length;K++){var J=E[K];if(J.t258==null||J.t258.length<3)continue;var C=J.t256*J.t257;if(C>B)B=C,I=J}DA.decodeImage(A,I,Q);var U=DA.toRGBA8(I),Y=I.width,H=I.height,R=document.createElement("canvas");R.width=Y,R.height=H;var G=R.getContext("2d"),O=new ImageData(new Uint8ClampedArray(U.buffer),Y,H);return G.putImageData(O,0,0),R.toDataURL()};DA._binBE={nextZero:function(A,Q){while(A[Q]!=0)Q++;return Q},readUshort:function(A,Q){return A[Q]<<8|A[Q+1]},readShort:function(A,Q){var E=DA._binBE.ui8;return E[0]=A[Q+1],E[1]=A[Q+0],DA._binBE.i16[0]},readInt:function(A,Q){var E=DA._binBE.ui8;return E[0]=A[Q+3],E[1]=A[Q+2],E[2]=A[Q+1],E[3]=A[Q+0],DA._binBE.i32[0]},readUint:function(A,Q){var E=DA._binBE.ui8;return E[0]=A[Q+3],E[1]=A[Q+2],E[2]=A[Q+1],E[3]=A[Q+0],DA._binBE.ui32[0]},readASCII:function(A,Q,E){var B="";for(var I=0;I<E;I++)B+=String.fromCharCode(A[Q+I]);return B},readFloat:function(A,Q){var E=DA._binBE.ui8;for(var B=0;B<4;B++)E[B]=A[Q+3-B];return DA._binBE.fl32[0]},readDouble:function(A,Q){var E=DA._binBE.ui8;for(var B=0;B<8;B++)E[B]=A[Q+7-B];return DA._binBE.fl64[0]},writeUshort:function(A,Q,E){A[Q]=E>>8&255,A[Q+1]=E&255},writeInt:function(A,Q,E){var B=DA._binBE.ui8;DA._binBE.i32[0]=E,A[Q+3]=B[0],A[Q+2]=B[1],A[Q+1]=B[2],A[Q+0]=B[3]},writeUint:function(A,Q,E){A[Q]=E>>24&255,A[Q+1]=E>>16&255,A[Q+2]=E>>8&255,A[Q+3]=E>>0&255},writeASCII:function(A,Q,E){for(var B=0;B<E.length;B++)A[Q+B]=E.charCodeAt(B)},writeDouble:function(A,Q,E){DA._binBE.fl64[0]=E;for(var B=0;B<8;B++)A[Q+B]=DA._binBE.ui8[7-B]}};DA._binBE.ui8=new Uint8Array(8);DA._binBE.i16=new Int16Array(DA._binBE.ui8.buffer);DA._binBE.i32=new Int32Array(DA._binBE.ui8.buffer);DA._binBE.ui32=new Uint32Array(DA._binBE.ui8.buffer);DA._binBE.fl32=new Float32Array(DA._binBE.ui8.buffer);DA._binBE.fl64=new Float64Array(DA._binBE.ui8.buffer);DA._binLE={nextZero:DA._binBE.nextZero,readUshort:function(A,Q){return A[Q+1]<<8|A[Q]},readShort:function(A,Q){var E=DA._binBE.ui8;return E[0]=A[Q+0],E[1]=A[Q+1],DA._binBE.i16[0]},readInt:function(A,Q){var E=DA._binBE.ui8;return E[0]=A[Q+0],E[1]=A[Q+1],E[2]=A[Q+2],E[3]=A[Q+3],DA._binBE.i32[0]},readUint:function(A,Q){var E=DA._binBE.ui8;return E[0]=A[Q+0],E[1]=A[Q+1],E[2]=A[Q+2],E[3]=A[Q+3],DA._binBE.ui32[0]},readASCII:DA._binBE.readASCII,readFloat:function(A,Q){var E=DA._binBE.ui8;for(var B=0;B<4;B++)E[B]=A[Q+B];return DA._binBE.fl32[0]},readDouble:function(A,Q){var E=DA._binBE.ui8;for(var B=0;B<8;B++)E[B]=A[Q+B];return DA._binBE.fl64[0]},writeUshort:function(A,Q,E){A[Q]=E&255,A[Q+1]=E>>8&255},writeInt:function(A,Q,E){var B=DA._binBE.ui8;DA._binBE.i32[0]=E,A[Q+0]=B[0],A[Q+1]=B[1],A[Q+2]=B[2],A[Q+3]=B[3]},writeUint:function(A,Q,E){A[Q]=E>>>0&255,A[Q+1]=E>>>8&255,A[Q+2]=E>>>16&255,A[Q+3]=E>>>24&255},writeASCII:DA._binBE.writeASCII};DA._copyTile=function(A,Q,E,B,I,K,J,C){var U=Math.min(Q,I-J),Y=Math.min(E,K-C);for(var H=0;H<Y;H++){var R=(C+H)*I+J,G=H*Q;for(var O=0;O<U;O++)B[R+O]=A[G+O]}};DA._inflateRaw=function(){var A={};return A.H={},A.H.N=function(Q,E){var B=Uint8Array,I=0,K=0,J=0,C=0,U=0,Y=0,H=0,R=0,G=0,O,F;if(Q[0]==3&&Q[1]==0)return E?E:new B(0);var q=A.H,W=q.b,Z=q.e,$=q.R,X=q.n,N=q.A,M=q.Z,L=q.m,D=E==null;if(D)E=new B(Q.length>>>2<<5);while(I==0){if(I=W(Q,G,1),K=W(Q,G+1,2),G+=3,K==0){if((G&7)!=0)G+=8-(G&7);var w=(G>>>3)+4,P=Q[w-4]|Q[w-3]<<8;if(D)E=A.H.W(E,R+P);E.set(new B(Q.buffer,Q.byteOffset+w,P),R),G=w+P<<3,R+=P;continue}if(D)E=A.H.W(E,R+131072);if(K==1)O=L.J,F=L.h,Y=511,H=31;if(K==2){J=Z(Q,G,5)+257,C=Z(Q,G+5,5)+1,U=Z(Q,G+10,4)+4,G+=14;var V=G,T=1;for(var S=0;S<38;S+=2)L.Q[S]=0,L.Q[S+1]=0;for(var S=0;S<U;S++){var h=Z(Q,G+S*3,3);if(L.Q[(L.X[S]<<1)+1]=h,h>T)T=h}G+=3*U,X(L.Q,T),N(L.Q,T,L.u),O=L.w,F=L.d,G=$(L.u,(1<<T)-1,J+C,Q,G,L.v);var x=q.V(L.v,0,J,L.C);Y=(1<<x)-1;var y=q.V(L.v,J,C,L.D);H=(1<<y)-1,X(L.C,x),N(L.C,x,O),X(L.D,y),N(L.D,y,F)}while(!0){var j=O[M(Q,G)&Y];G+=j&15;var v=j>>>4;if(v>>>8==0)E[R++]=v;else if(v==256)break;else{var _=R+v-254;if(v>264){var g=L.q[v-257];_=R+(g>>>3)+Z(Q,G,g&7),G+=g&7}var b=F[M(Q,G)&H];G+=b&15;var p=b>>>4,m=L.c[p],o=(m>>>4)+W(Q,G,m&15);G+=m&15;while(R<_)E[R]=E[R++-o],E[R]=E[R++-o],E[R]=E[R++-o],E[R]=E[R++-o];R=_}}}return E.length==R?E:E.slice(0,R)},A.H.W=function(Q,E){var B=Q.length;if(E<=B)return Q;var I=new Uint8Array(B<<1);return I.set(Q,0),I},A.H.R=function(Q,E,B,I,K,J){var C=A.H.e,U=A.H.Z,Y=0;while(Y<B){var H=Q[U(I,K)&E];K+=H&15;var R=H>>>4;if(R<=15)J[Y]=R,Y++;else{var G=0,O=0;if(R==16)O=3+C(I,K,2),K+=2,G=J[Y-1];else if(R==17)O=3+C(I,K,3),K+=3;else if(R==18)O=11+C(I,K,7),K+=7;var F=Y+O;while(Y<F)J[Y]=G,Y++}}return K},A.H.V=function(Q,E,B,I){var K=0,J=0,C=I.length>>>1;while(J<B){var U=Q[J+E];if(I[J<<1]=0,I[(J<<1)+1]=U,U>K)K=U;J++}while(J<C)I[J<<1]=0,I[(J<<1)+1]=0,J++;return K},A.H.n=function(Q,E){var B=A.H.m,I=Q.length,K,J,C,U,Y,H=B.j;for(var U=0;U<=E;U++)H[U]=0;for(U=1;U<I;U+=2)H[Q[U]]++;var R=B.K;K=0,H[0]=0;for(J=1;J<=E;J++)K=K+H[J-1]<<1,R[J]=K;for(C=0;C<I;C+=2)if(Y=Q[C+1],Y!=0)Q[C]=R[Y],R[Y]++},A.H.A=function(Q,E,B){var I=Q.length,K=A.H.m,J=K.r;for(var C=0;C<I;C+=2)if(Q[C+1]!=0){var U=C>>1,Y=Q[C+1],H=U<<4|Y,R=E-Y,G=Q[C]<<R,O=G+(1<<R);while(G!=O){var F=J[G]>>>15-E;B[F]=H,G++}}},A.H.l=function(Q,E){var B=A.H.m.r,I=15-E;for(var K=0;K<Q.length;K+=2){var J=Q[K]<<E-Q[K+1];Q[K]=B[J]>>>I}},A.H.M=function(Q,E,B){B=B<<(E&7);var I=E>>>3;Q[I]|=B,Q[I+1]|=B>>>8},A.H.I=function(Q,E,B){B=B<<(E&7);var I=E>>>3;Q[I]|=B,Q[I+1]|=B>>>8,Q[I+2]|=B>>>16},A.H.e=function(Q,E,B){return(Q[E>>>3]|Q[(E>>>3)+1]<<8)>>>(E&7)&(1<<B)-1},A.H.b=function(Q,E,B){return(Q[E>>>3]|Q[(E>>>3)+1]<<8|Q[(E>>>3)+2]<<16)>>>(E&7)&(1<<B)-1},A.H.Z=function(Q,E){return(Q[E>>>3]|Q[(E>>>3)+1]<<8|Q[(E>>>3)+2]<<16)>>>(E&7)},A.H.i=function(Q,E){return(Q[E>>>3]|Q[(E>>>3)+1]<<8|Q[(E>>>3)+2]<<16|Q[(E>>>3)+3]<<24)>>>(E&7)},A.H.m=function(){var Q=Uint16Array,E=Uint32Array;return{K:new Q(16),j:new Q(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new Q(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new E(32),J:new Q(512),_:[],h:new Q(32),$:[],w:new Q(32768),C:[],v:[],d:new Q(32768),D:[],u:new Q(512),Q:[],r:new Q(32768),s:new E(286),Y:new E(30),a:new E(19),t:new E(15000),k:new Q(65536),g:new Q(32768)}}(),function(){var Q=A.H.m,E=32768;for(var B=0;B<E;B++){var I=B;I=(I&2863311530)>>>1|(I&1431655765)<<1,I=(I&3435973836)>>>2|(I&858993459)<<2,I=(I&4042322160)>>>4|(I&252645135)<<4,I=(I&4278255360)>>>8|(I&16711935)<<8,Q.r[B]=(I>>>16|I<<16)>>>17}function K(J,C,U){while(C--!=0)J.push(0,U)}for(var B=0;B<32;B++)Q.q[B]=Q.S[B]<<3|Q.T[B],Q.c[B]=Q.p[B]<<4|Q.z[B];K(Q._,144,8),K(Q._,112,9),K(Q._,24,7),K(Q._,8,8),A.H.n(Q._,9),A.H.A(Q._,9,Q.J),A.H.l(Q._,9),K(Q.$,32,5),A.H.n(Q.$,5),A.H.A(Q.$,5,Q.h),A.H.l(Q.$,5),K(Q.Q,19,0),K(Q.C,286,0),K(Q.D,30,0),K(Q.v,320,0)}(),A.H.N}();DA.LosslessJpegDecode=function(){var A,Q;function E(){return A[Q++]}function B(){return A[Q++]<<8|A[Q++]}function I(W){var Z=E(),$=[0,0,0,255],X=[],N=8;for(var M=0;M<16;M++)X[M]=E();for(var M=0;M<16;M++)for(var L=0;L<X[M];L++){var D=K($,0,M+1,1);$[D+3]=E()}var w=new Uint8Array(1<<N);W[Z]=[new Uint8Array($),w];for(var M=0;M<1<<N;M++){var P=N,V=M,T=0,S=0;while($[T+3]==255&&P!=0)S=V>>--P&1,T=$[T+S];w[M]=T}}function K(W,Z,$,X){if(W[Z+3]!=255)return 0;if($==0)return Z;for(var N=0;N<2;N++){if(W[Z+N]==0)W[Z+N]=W.length,W.push(0,0,X,255);var M=K(W,W[Z+N],$-1,X+1);if(M!=0)return M}return 0}function J(W){var{b:Z,f:$}=W;while(Z<25&&W.a<W.d){var X=W.data[W.a++];if(X==255&&!W.c)W.a++;$=$<<8|X,Z+=8}if(Z<0)throw"e";W.b=Z,W.f=$}function C(W,Z){if(Z.b<W)J(Z);return Z.f>>(Z.b-=W)&65535>>16-W}function U(W,Z){var $=W[0],X=0,N=255,M=0;if(Z.b<16)J(Z);var L=Z.f>>Z.b-8&255;X=W[1][L],N=$[X+3],Z.b-=$[X+2];while(N==255)M=Z.f>>--Z.b&1,X=$[X+M],N=$[X+3];return N}function Y(W,Z){if(W<32768>>16-Z)W+=-(1<<Z)+1;return W}function H(W,Z){var $=U(W,Z);if($==0)return 0;if($==16)return-32768;var X=C($,Z);return Y(X,$)}function R(W,Z,$,X,N,M){var L=0;for(var D=0;D<M;D++){var w=D*Z;for(var P=0;P<Z;P+=N){L++;for(var V=0;V<N;V++)W[w+P+V]=H(X[V],$)}if($.e!=0&&L%$.e==0&&D!=0){var{a:T,data:S}=$;while(S[T]!=255||!(208<=S[T+1]&&S[T+1]<=215))T--;$.a=T+2,$.f=0,$.b=0}}}function G(W,Z){return Y(C(W,Z),W)}function O(W,Z,$,X,N){var M=A.length-Q;for(var L=0;L<M;L+=4){var D=A[Q+L];A[Q+L]=A[Q+L+3],A[Q+L+3]=D;var D=A[Q+L+1];A[Q+L+1]=A[Q+L+2],A[Q+L+2]=D}for(var w=0;w<N;w++){var P=32768,V=32768;for(var T=0;T<Z;T+=2){var S=U(X,$),h=U(X,$);if(S!=0)P+=G(S,$);if(h!=0)V+=G(h,$);W[w*Z+T]=P&65535,W[w*Z+T+1]=V&65535}}}function F(W){if(A=W,Q=0,B()!=65496)throw"e";var Z=[],$=0,X=0,N=0,M=[],L=[],D=[],w=0,P=0,V=0;while(!0){var T=B();if(T==65535){Q--;continue}var S=B();if(T==65475){X=E(),P=B(),V=B(),w=E();for(var h=0;h<w;h++){var x=E(),y=E(),j=E();if(j!=0)throw"e";Z[x]=[h,y>>4,y&15]}}else if(T==65476){var v=Q+S-2;while(Q<v)I(L)}else if(T==65498){Q++;for(var h=0;h<w;h++){var _=E(),g=Z[_];D[g[0]]=L[E()>>>4],M[g[0]]=g.slice(1)}$=E(),Q+=2;break}else if(T==65501)N=B();else Q+=S-2}var b=X>8?Uint16Array:Uint8Array,p=new b(P*V*w),m={b:0,f:0,c:$==8,a:Q,data:A,d:A.length,e:N};if(m.c)O(p,V*w,m,D[0],P);else{var o=[],AA=0,s=0;for(var h=0;h<w;h++){var t=M[h],r=t[0],EA=t[1];if(r>AA)AA=r;if(EA>s)s=EA;o.push(r*EA)}if(AA!=1||s!=1){if(w!=3||o[1]!=1||o[2]!=1)throw"e";if(AA!=2||s!=1&&s!=2)throw"e";var JA=[],YA=0;for(var h=0;h<w;h++){for(var IA=0;IA<o[h];IA++)JA.push(D[h]);YA+=o[h]}var l=V/AA,UA=P/s,BA=l*UA;R(p,l*YA,m,JA,YA,UA),q(p,$,l,UA,YA-2,YA,YA,X);var n=new Uint16Array(BA*o[0]);if(AA==2&&s==2){for(var h=0;h<BA;h++)n[4*h]=p[6*h],n[4*h+1]=p[6*h+1],n[4*h+2]=p[6*h+2],n[4*h+3]=p[6*h+3];q(n,$,l*4,UA,0,1,1,X);for(var h=0;h<BA;h++)p[6*h]=n[4*h],p[6*h+1]=n[4*h+1],p[6*h+2]=n[4*h+2],p[6*h+3]=n[4*h+3]}if(AA==2&&s==1){for(var h=0;h<BA;h++)n[2*h]=p[4*h],n[2*h+1]=p[4*h+1];q(n,$,l*2,UA,0,1,1,X);for(var h=0;h<BA;h++)p[4*h]=n[2*h],p[4*h+1]=n[2*h+1]}var i=p.slice(0);for(var EA=0;EA<P;EA++)if(s==2)for(var r=0;r<V;r++){var KA=(EA*V+r)*w,$A=((EA>>>1)*l+(r>>>1))*YA,FA=(EA&1)*2+(r&1);p[KA]=i[$A+FA],p[KA+1]=i[$A+4],p[KA+2]=i[$A+5]}else for(var r=0;r<V;r++){var KA=(EA*V+r)*w,$A=(EA*l+(r>>>1))*YA,FA=r&1;p[KA]=i[$A+FA],p[KA+1]=i[$A+2],p[KA+2]=i[$A+3]}}else if(R(p,V*w,m,D,w,P),N==0)q(p,$,V,P,0,w,w,X);else{var e=Math.floor(N/V);for(var EA=0;EA<P;EA+=e){var c=p.slice(EA*V*w,(EA+e)*V*w);q(c,$,V,e,0,w,w,X),p.set(c,EA*V*w)}}}return p}function q(W,Z,$,X,N,M,L,D){var w=$*L;for(var P=N;P<M;P++)W[P]+=1<<D-1;for(var V=L;V<w;V+=L)for(var P=N;P<M;P++)W[V+P]+=W[V+P-L];for(var T=1;T<X;T++){var S=T*w;for(var P=N;P<M;P++)W[S+P]+=W[S+P-w];for(var V=L;V<w;V+=L)for(var P=N;P<M;P++){var h=S+V+P,x=h-w,y=W[h-L],j=0;if(Z==0)j=0;else if(Z==1)j=y;else if(Z==2)j=W[x];else if(Z==3)j=W[x-L];else if(Z==4)j=y+(W[x]-W[x-L]);else if(Z==5)j=y+(W[x]-W[x-L]>>>1);else if(Z==6)j=W[x]+(y-W[x-L]>>>1);else if(Z==7)j=y+W[x]>>>1;else throw Z;W[h]+=j}}}return F}();(function(){var A=0,Q=1,E=2,B=3,I=4,K=5,J=6,C=7,U=8,Y=9,H=10,R=11,G=12,O=13,F=14,q=15,W=16,Z=17,$=18;function X(_){var g=DA._binBE.readUshort,b={b:g(_,0),i:_[2],C:_[3],u:_[4],q:g(_,5),k:g(_,7),e:g(_,9),l:g(_,11),s:_[13],d:g(_,14)};if(b.b!=18771||b.i>1||b.q<6||b.q%6||b.e<768||b.e%24||b.l!=768||b.k<b.l||b.k%b.l||b.k-b.e>=b.l||b.s>16||b.s!=b.k/b.l||b.s!=Math.ceil(b.e/b.l)||b.d!=b.q/6||b.u!=12&&b.u!=14&&b.u!=16||b.C!=16&&b.C!=0)throw"Invalid data";if(b.i==0)throw"Not implemented. We need this file!";return b.h=b.C==16,b.m=(b.h?b.l*2/3:b.l>>>1)|0,b.A=b.m+2,b.f=64,b.g=(1<<b.u)-1,b.n=4*b.u,b}function N(_,g){var b=new Array(g.s),p=4*g.s,m=16+p;if(p&12)m+=16-(p&12);for(var o=0,AA=16;o<g.s;AA+=4){var s=DA._binBE.readUint(_,AA);b[o]=_.slice(m,m+s),b[o].j=0,b[o].a=0,m+=s,o++}if(m!=_.length)throw"Invalid data";return b}function M(_,g){for(var b=-g[4],p=0;b<=g[4];p++,b++)_[p]=b<=-g[3]?-4:b<=-g[2]?-3:b<=-g[1]?-2:b<-g[0]?-1:b<=g[0]?0:b<g[1]?1:b<g[2]?2:b<g[3]?3:4}function L(_,g,b){var p=[g,3*g+18,5*g+67,7*g+276,b];_.o=g,_.w=(p[4]+2*g)/(2*g+1)+1|0,_.v=Math.ceil(Math.log2(_.w)),_.t=9,M(_.c,p)}function D(_){var g={c:new Int8Array(2<<_.u)};return L(g,0,_.g),g}function w(_){var g=[[],[],[]],b=Math.max(2,_.w+32>>>6);for(var p=0;p<3;p++)for(var m=0;m<41;m++)g[p][m]=[b,1];return g}function P(_){for(var g=-1,b=0;!b;g++)if(b=_[_.j]>>>7-_.a&1,_.a++,_.a&=7,!_.a)_.j++;return g}function V(_,g){var b=0,p=8-_.a,m=_.j,o=_.a;if(g){if(g>=p)do b<<=p,g-=p,b|=_[_.j]&(1<<p)-1,_.j++,p=8;while(g>=8);if(g)b<<=g,p-=g,b|=_[_.j]>>>p&(1<<g)-1;_.a=8-p}return b}function T(_,g){var b=0;if(g<_)while(b<=14&&g<<++b<_);return b}function S(_,g,b,p,m,o,AA,s){if(s==null)s=0;var t=o+1,r=t%2,EA=0,JA=0,YA=0,IA,l,UA=p[m],BA=p[m-1],n=p[m-2][t],i=BA[t-1],KA=BA[t],$A=BA[t+1],FA=UA[t-1],e=UA[t+1],c=Math.abs,HA,XA,CA,GA;if(r)HA=c($A-KA),XA=c(n-KA),CA=c(i-KA);if(r){if(GA=HA>CA&&XA<HA?n+i:HA<CA&&XA<CA?n+$A:$A+i,GA=GA+2*KA>>>2,s){UA[t]=GA;return}IA=g.t*g.c[_.g+KA-n]+g.c[_.g+i-KA]}else GA=KA>i&&KA>$A||KA<i&&KA<$A?e+FA+2*KA>>>2:FA+e>>>1,IA=g.t*g.c[_.g+KA-i]+g.c[_.g+i-FA];l=c(IA);var uA=P(b);if(uA<_.n-g.v-1){var z=T(AA[l][0],AA[l][1]);YA=V(b,z)+(uA<<z)}else YA=V(b,g.v)+1;if(YA=YA&1?-1-(YA>>>1):YA>>>1,AA[l][0]+=c(YA),AA[l][1]==_.f)AA[l][0]>>>=1,AA[l][1]>>>=1;if(AA[l][1]++,GA=IA<0?GA-YA:GA+YA,_.i){if(GA<0)GA+=g.w;else if(GA>_.g)GA-=g.w}UA[t]=GA>=0?Math.min(GA,_.g):0}function h(_,g,b){var p=_[0].length;for(var m=g;m<=b;m++)_[m][0]=_[m-1][1],_[m][p-1]=_[m-1][p-2]}function x(_){h(_,C,G),h(_,E,I),h(_,q,Z)}function y(_,g,b,p,m,o,AA,s,t,r,EA,JA,YA){var IA=0,l=1,UA=m<O&&m>I;while(l<_.m){if(IA<_.m)S(_,g,b,p,m,IA,AA[t],_.h&&(UA&&r||!UA&&(EA||(IA&JA)==YA))),S(_,g,b,p,o,IA,AA[t],_.h&&(!UA&&r||UA&&(EA||(IA&JA)==YA))),IA+=2;if(IA>8)S(_,g,b,p,m,l,s[t]),S(_,g,b,p,o,l,s[t]),l+=2}x(p)}function j(_,g,b,p,m,o){y(_,g,b,p,E,C,m,o,0,0,1,0,8),y(_,g,b,p,U,q,m,o,1,0,1,0,8),y(_,g,b,p,B,Y,m,o,2,1,0,3,0),y(_,g,b,p,H,W,m,o,0,0,0,3,2),y(_,g,b,p,I,R,m,o,1,0,0,3,2),y(_,g,b,p,G,Z,m,o,2,1,0,3,0)}function v(_,g,b,p,m,o){var AA=o.length,s=_.l;if(m+1==_.s)s=_.e-m*_.l;var t=6*_.e*p+m*_.l;for(var r=0;r<6;r++){for(var EA=0;EA<s;EA++){var JA=o[r%AA][EA%AA],YA;if(JA==0)YA=E+(r>>>1);else if(JA==2)YA=q+(r>>>1);else YA=C+r;var IA=_.h?(EA*2/3&2147483646|EA%3&1)+(EA%3>>>1):EA>>>1;g[t+EA]=b[YA][IA+1]}t+=_.e}}DA._decompressRAF=function(_,g){var b=X(_),p=N(_,b),m=D(b),o=new Int16Array(b.e*b.q);if(g==null)g=b.h?[[1,1,0,1,1,2],[1,1,2,1,1,0],[2,0,1,0,2,1],[1,1,2,1,1,0],[1,1,0,1,1,2],[0,2,1,2,0,1]]:[[0,1],[3,2]];var AA=[[A,B],[Q,I],[K,R],[J,G],[O,W],[F,Z]],s=[];for(var t=0;t<$;t++)s[t]=new Uint16Array(b.A);for(var r=0;r<b.s;r++){var EA=w(m),JA=w(m);for(var t=0;t<$;t++)for(var YA=0;YA<b.A;YA++)s[t][YA]=0;for(var IA=0;IA<b.d;IA++){j(b,m,p[r],s,EA,JA);for(var t=0;t<6;t++)for(var YA=0;YA<b.A;YA++)s[AA[t][0]][YA]=s[AA[t][1]][YA];v(b,o,s,IA,r,g);for(var t=E;t<$;t++)if([K,J,O,F].indexOf(t)==-1)for(var YA=0;YA<b.A;YA++)s[t][YA]=0;x(s)}}return o}})();function y$(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function zV(A,Q,E,B){var I,K;for(I=0;I<E;++I)A[I]=0;for(I=0;I<30-E;++I)A[I+E]=I/E|0;for(K=B,I=0;I<30;++I)Q[I]=K,K+=1<<A[I]}function hi(A,Q){var E;for(E=0;E<7;++E)A.table[E]=0;A.table[7]=24,A.table[8]=152,A.table[9]=112;for(E=0;E<24;++E)A.trans[E]=256+E;for(E=0;E<144;++E)A.trans[24+E]=E;for(E=0;E<8;++E)A.trans[168+E]=280+E;for(E=0;E<112;++E)A.trans[176+E]=144+E;for(E=0;E<5;++E)Q.table[E]=0;Q.table[5]=32;for(E=0;E<32;++E)Q.trans[E]=E}function lK(A,Q,E,B,I){return Math.pow(1-I,3)*A+3*Math.pow(1-I,2)*I*Q+3*(1-I)*Math.pow(I,2)*E+Math.pow(I,3)*B}function aB(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function rQ(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function VV(A){throw new Error(A)}function pz(A,Q){if(!A)VV(Q)}function lE(A){return function(){return A}}function P$(A){return A>=-128&&A<=127}function yi(A,Q,E){var B=0,I=A.length;while(Q<I&&B<64&&A[Q]===0)++Q,++B;return E.push(128|B-1),Q}function xi(A,Q,E){var B=0,I=A.length,K=Q;while(K<I&&B<64){var J=A[K];if(!P$(J))break;if(J===0&&K+1<I&&A[K+1]===0)break;++K,++B}E.push(B-1);for(var C=Q;C<K;++C)E.push(A[C]+256&255);return K}function gi(A,Q,E){var B=0,I=A.length,K=Q;while(K<I&&B<64){var J=A[K];if(J===0)break;if(P$(J)&&K+1<I&&P$(A[K+1]))break;++K,++B}E.push(64|B-1);for(var C=Q;C<K;++C){var U=A[C];E.push(U+65536>>8&255,U+256&255)}return K}function I1(A,Q,E){if(Q.length&&(Q[0].name!=="coverageFormat"||Q[0].value===1))for(var B=0;B<Q.length;B+=1){var I=Q[B];this[I.name]=I.value}if(this.tableName=A,this.fields=Q,E){var K=Object.keys(E);for(var J=0;J<K.length;J+=1){var C=K[J],U=E[C];if(this[C]!==void 0)this[C]=U}}}function WC(A,Q,E){if(E===void 0)E=Q.length;var B=new Array(Q.length+1);B[0]={name:A+"Count",type:"USHORT",value:E};for(var I=0;I<Q.length;I++)B[I+1]={name:A+I,type:"USHORT",value:Q[I]};return B}function _$(A,Q,E){var B=Q.length,I=new Array(B+1);I[0]={name:A+"Count",type:"USHORT",value:B};for(var K=0;K<B;K++)I[K+1]={name:A+K,type:"TABLE",value:E(Q[K],K)};return I}function XC(A,Q,E){var B=Q.length,I=[];I[0]={name:A+"Count",type:"USHORT",value:B};for(var K=0;K<B;K++)I=I.concat(E(Q[K],K));return I}function TY(A){if(A.format===1)I1.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(WC("glyph",A.glyphs)));else if(A.format===2)I1.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(XC("rangeRecord",A.ranges,function(Q){return[{name:"startGlyphID",type:"USHORT",value:Q.start},{name:"endGlyphID",type:"USHORT",value:Q.end},{name:"startCoverageIndex",type:"USHORT",value:Q.index}]})));else O0.assert(!1,"Coverage format must be 1 or 2.")}function SY(A){I1.call(this,"scriptListTable",XC("scriptRecord",A,function(Q,E){var B=Q.script,I=B.defaultLangSys;return O0.assert(!!I,"Unable to write GSUB: script "+Q.tag+" has no default language system."),[{name:"scriptTag"+E,type:"TAG",value:Q.tag},{name:"script"+E,type:"TABLE",value:new I1("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new I1("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:I.reqFeatureIndex}].concat(WC("featureIndex",I.featureIndexes)))}].concat(XC("langSys",B.langSysRecords,function(K,J){var C=K.langSys;return[{name:"langSysTag"+J,type:"TAG",value:K.tag},{name:"langSys"+J,type:"TABLE",value:new I1("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:C.reqFeatureIndex}].concat(WC("featureIndex",C.featureIndexes)))}]})))}]}))}function PY(A){I1.call(this,"featureListTable",XC("featureRecord",A,function(Q,E){var B=Q.feature;return[{name:"featureTag"+E,type:"TAG",value:Q.tag},{name:"feature"+E,type:"TABLE",value:new I1("featureTable",[{name:"featureParams",type:"USHORT",value:B.featureParams}].concat(WC("lookupListIndex",B.lookupListIndexes)))}]}))}function _Y(A,Q){I1.call(this,"lookupListTable",_$("lookup",A,function(E){var B=Q[E.lookupType];return O0.assert(!!B,"Unable to write GSUB lookup type "+E.lookupType+" tables."),new I1("lookupTable",[{name:"lookupType",type:"USHORT",value:E.lookupType},{name:"lookupFlag",type:"USHORT",value:E.lookupFlag}].concat(_$("subtable",E.subtables,B)))}))}function dz(A,Q){return A.getUint8(Q)}function kY(A,Q){return A.getUint16(Q,!1)}function bi(A,Q){return A.getInt16(Q,!1)}function x$(A,Q){return A.getUint32(Q,!1)}function TV(A,Q){var E=A.getInt16(Q,!1),B=A.getUint16(Q+2,!1);return E+B/65535}function fi(A,Q){var E="";for(var B=Q;B<Q+4;B+=1)E+=String.fromCharCode(A.getInt8(B));return E}function ui(A,Q,E){var B=0;for(var I=0;I<E;I+=1)B<<=8,B+=A.getUint8(Q+I);return B}function pi(A,Q,E){var B=[];for(var I=Q;I<E;I+=1)B.push(A.getUint8(I));return B}function mi(A){var Q="";for(var E=0;E<A.length;E+=1)Q+=String.fromCharCode(A[E]);return Q}function VA(A,Q){this.data=A,this.offset=Q,this.relativeOffset=0}function di(A,Q){Q.parseUShort(),A.length=Q.parseULong(),A.language=Q.parseULong();var E;A.groupCount=E=Q.parseULong(),A.glyphIndexMap={};for(var B=0;B<E;B+=1){var I=Q.parseULong(),K=Q.parseULong(),J=Q.parseULong();for(var C=I;C<=K;C+=1)A.glyphIndexMap[C]=J,J++}}function li(A,Q,E,B,I){A.length=Q.parseUShort(),A.language=Q.parseUShort();var K;A.segCount=K=Q.parseUShort()>>1,Q.skip("uShort",3),A.glyphIndexMap={};var J=new T0.Parser(E,B+I+14),C=new T0.Parser(E,B+I+16+K*2),U=new T0.Parser(E,B+I+16+K*4),Y=new T0.Parser(E,B+I+16+K*6),H=B+I+16+K*8;for(var R=0;R<K-1;R+=1){var G=void 0,O=J.parseUShort(),F=C.parseUShort(),q=U.parseShort(),W=Y.parseUShort();for(var Z=F;Z<=O;Z+=1){if(W!==0){if(H=Y.offset+Y.relativeOffset-2,H+=W,H+=(Z-F)*2,G=T0.getUShort(E,H),G!==0)G=G+q&65535}else G=Z+q&65535;A.glyphIndexMap[Z]=G}}}function ni(A,Q){var E={};E.version=T0.getUShort(A,Q),O0.argument(E.version===0,"cmap table version should be 0."),E.numTables=T0.getUShort(A,Q+2);var B=-1;for(var I=E.numTables-1;I>=0;I-=1){var K=T0.getUShort(A,Q+4+I*8),J=T0.getUShort(A,Q+4+I*8+2);if(K===3&&(J===0||J===1||J===10)||K===0&&(J===0||J===1||J===2||J===3||J===4)){B=T0.getULong(A,Q+4+I*8+4);break}}if(B===-1)throw new Error("No valid cmap sub-tables found.");var C=new T0.Parser(A,Q+B);if(E.format=C.parseUShort(),E.format===12)di(E,C);else if(E.format===4)li(E,C,A,Q,B);else throw new Error("Only format 4 and 12 cmap tables are supported (found format "+E.format+").");return E}function oi(A,Q,E){A.segments.push({end:Q,start:Q,delta:-(Q-E),offset:0,glyphIndex:E})}function ii(A){A.segments.push({end:65535,start:65535,delta:1,offset:0})}function si(A){var Q=!0,E;for(E=A.length-1;E>0;E-=1){var B=A.get(E);if(B.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),Q=!1;break}}var I=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:Q?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:Q?12:20}];if(!Q)I=I.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}]);I=I.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var K=new A0.Table("cmap",I);K.segments=[];for(E=0;E<A.length;E+=1){var J=A.get(E);for(var C=0;C<J.unicodes.length;C+=1)oi(K,J.unicodes[C],E);K.segments=K.segments.sort(function($,X){return $.start-X.start})}ii(K);var U=K.segments.length,Y=0,H=[],R=[],G=[],O=[],F=[],q=[];for(E=0;E<U;E+=1){var W=K.segments[E];if(W.end<=65535&&W.start<=65535){if(H=H.concat({name:"end_"+E,type:"USHORT",value:W.end}),R=R.concat({name:"start_"+E,type:"USHORT",value:W.start}),G=G.concat({name:"idDelta_"+E,type:"SHORT",value:W.delta}),O=O.concat({name:"idRangeOffset_"+E,type:"USHORT",value:W.offset}),W.glyphId!==void 0)F=F.concat({name:"glyph_"+E,type:"USHORT",value:W.glyphId})}else Y+=1;if(!Q&&W.glyphIndex!==void 0)q=q.concat({name:"cmap12Start_"+E,type:"ULONG",value:W.start}),q=q.concat({name:"cmap12End_"+E,type:"ULONG",value:W.end}),q=q.concat({name:"cmap12Glyph_"+E,type:"ULONG",value:W.glyphIndex})}if(K.segCountX2=(U-Y)*2,K.searchRange=Math.pow(2,Math.floor(Math.log(U-Y)/Math.log(2)))*2,K.entrySelector=Math.log(K.searchRange/2)/Math.log(2),K.rangeShift=K.segCountX2-K.searchRange,K.fields=K.fields.concat(H),K.fields.push({name:"reservedPad",type:"USHORT",value:0}),K.fields=K.fields.concat(R),K.fields=K.fields.concat(G),K.fields=K.fields.concat(O),K.fields=K.fields.concat(F),K.cmap4Length=14+H.length*2+2+R.length*2+G.length*2+O.length*2+F.length*2,!Q){var Z=16+q.length*4;K.cmap12Offset=20+K.cmap4Length,K.fields=K.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:Z},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:q.length/3}]),K.fields=K.fields.concat(q)}return K}function SV(A){this.font=A}function ei(A){this.cmap=A}function jY(A,Q){this.encoding=A,this.charset=Q}function PV(A){switch(A.version){case 1:this.names=A6.slice();break;case 2:this.names=new Array(A.numberOfGlyphs);for(var Q=0;Q<A.numberOfGlyphs;Q++)if(A.glyphNameIndex[Q]<A6.length)this.names[Q]=A6[A.glyphNameIndex[Q]];else this.names[Q]=A.names[A.glyphNameIndex[Q]-A6.length];break;case 2.5:this.names=new Array(A.numberOfGlyphs);for(var E=0;E<A.numberOfGlyphs;E++)this.names[E]=A6[E+A.glyphNameIndex[E]];break;case 3:this.names=[];break;default:this.names=[];break}}function As(A,Q,E,B,I){A.beginPath(),A.moveTo(Q,E),A.lineTo(B,I),A.stroke()}function Qs(A,Q){var E=Q||new rQ;return{configurable:!0,get:function(){if(typeof E==="function")E=E();return E},set:function(B){E=B}}}function DE(A){this.bindConstructorValues(A)}function MY(A,Q,E){Object.defineProperty(A,Q,{get:function(){return A.path,A[E]},set:function(B){A[E]=B},enumerable:!0,configurable:!0})}function g$(A,Q){if(this.font=A,this.glyphs={},Array.isArray(Q))for(var E=0;E<Q.length;E++){var B=Q[E];B.path.unitsPerEm=A.unitsPerEm,this.glyphs[E]=B}this.length=Q&&Q.length||0}function Es(A,Q){return new DE({index:Q,font:A})}function Bs(A,Q,E,B,I,K){return function(){var J=new DE({index:Q,font:A});return J.path=function(){E(J,B,I);var C=K(A.glyphs,J);return C.unitsPerEm=A.unitsPerEm,C},MY(J,"xMin","_xMin"),MY(J,"xMax","_xMax"),MY(J,"yMin","_yMin"),MY(J,"yMax","_yMax"),J}}function Is(A,Q,E,B){return function(){var I=new DE({index:Q,font:A});return I.path=function(){var K=E(A,I,B);return K.unitsPerEm=A.unitsPerEm,K},I}}function _V(A,Q){if(A===Q)return!0;else if(Array.isArray(A)&&Array.isArray(Q)){if(A.length!==Q.length)return!1;for(var E=0;E<A.length;E+=1)if(!_V(A[E],Q[E]))return!1;return!0}else return!1}function k$(A){var Q;if(A.length<1240)Q=107;else if(A.length<33900)Q=1131;else Q=32768;return Q}function oB(A,Q,E){var B=[],I=[],K=T0.getCard16(A,Q),J,C;if(K!==0){var U=T0.getByte(A,Q+2);J=Q+(K+1)*U+2;var Y=Q+3;for(var H=0;H<K+1;H+=1)B.push(T0.getOffset(A,Y,U)),Y+=U;C=J+B[K]}else C=Q+2;for(var R=0;R<B.length-1;R+=1){var G=T0.getBytes(A,J+B[R],J+B[R+1]);if(E)G=E(G);I.push(G)}return{objects:I,startOffset:Q,endOffset:C}}function Ks(A,Q){var E=[],B=T0.getCard16(A,Q),I,K;if(B!==0){var J=T0.getByte(A,Q+2);I=Q+(B+1)*J+2;var C=Q+3;for(var U=0;U<B+1;U+=1)E.push(T0.getOffset(A,C,J)),C+=J;K=I+E[B]}else K=Q+2;return{offsets:E,startOffset:Q,endOffset:K}}function Js(A,Q,E,B,I){var K=T0.getCard16(E,B),J=0;if(K!==0){var C=T0.getByte(E,B+2);J=B+(K+1)*C+2}var U=T0.getBytes(E,J+Q[A],J+Q[A+1]);if(I)U=I(U);return U}function Cs(A){var Q="",E=15,B=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];while(!0){var I=A.parseByte(),K=I>>4,J=I&15;if(K===E)break;if(Q+=B[K],J===E)break;Q+=B[J]}return parseFloat(Q)}function Us(A,Q){var E,B,I,K;if(Q===28)return E=A.parseByte(),B=A.parseByte(),E<<8|B;if(Q===29)return E=A.parseByte(),B=A.parseByte(),I=A.parseByte(),K=A.parseByte(),E<<24|B<<16|I<<8|K;if(Q===30)return Cs(A);if(Q>=32&&Q<=246)return Q-139;if(Q>=247&&Q<=250)return E=A.parseByte(),(Q-247)*256+E+108;if(Q>=251&&Q<=254)return E=A.parseByte(),-(Q-251)*256-E-108;throw new Error("Invalid b0 "+Q)}function Ys(A){var Q={};for(var E=0;E<A.length;E+=1){var B=A[E][0],I=A[E][1],K=void 0;if(I.length===1)K=I[0];else K=I;if(Q.hasOwnProperty(B)&&!isNaN(Q[B]))throw new Error("Object "+Q+" already has key "+B);Q[B]=K}return Q}function kV(A,Q,E){Q=Q!==void 0?Q:0;var B=new T0.Parser(A,Q),I=[],K=[];E=E!==void 0?E:A.length;while(B.relativeOffset<E){var J=B.parseByte();if(J<=21){if(J===12)J=1200+B.parseByte();I.push([J,K]),K=[]}else K.push(Us(B,J))}return Ys(I)}function $C(A,Q){if(Q<=390)Q=zY[Q];else Q=A[Q-391];return Q}function jV(A,Q,E){var B={},I;for(var K=0;K<Q.length;K+=1){var J=Q[K];if(Array.isArray(J.type)){var C=[];C.length=J.type.length;for(var U=0;U<J.type.length;U++){if(I=A[J.op]!==void 0?A[J.op][U]:void 0,I===void 0)I=J.value!==void 0&&J.value[U]!==void 0?J.value[U]:null;if(J.type[U]==="SID")I=$C(E,I);C[U]=I}B[J.name]=C}else{if(I=A[J.op],I===void 0)I=J.value!==void 0?J.value:null;if(J.type==="SID")I=$C(E,I);B[J.name]=I}}return B}function Hs(A,Q){var E={};return E.formatMajor=T0.getCard8(A,Q),E.formatMinor=T0.getCard8(A,Q+1),E.size=T0.getCard8(A,Q+2),E.offsetSize=T0.getCard8(A,Q+3),E.startOffset=Q,E.endOffset=Q+4,E}function Gs(A,Q){var E=kV(A,0,A.byteLength);return jV(E,hV,Q)}function yV(A,Q,E,B){var I=kV(A,Q,E);return jV(I,vV,B)}function nz(A,Q,E,B){var I=[];for(var K=0;K<E.length;K+=1){var J=new DataView(new Uint8Array(E[K]).buffer),C=Gs(J,B);C._subrs=[],C._subrsBias=0,C._defaultWidthX=0,C._nominalWidthX=0;var U=C.private[0],Y=C.private[1];if(U!==0&&Y!==0){var H=yV(A,Y+Q,U,B);if(C._defaultWidthX=H.defaultWidthX,C._nominalWidthX=H.nominalWidthX,H.subrs!==0){var R=Y+H.subrs,G=oB(A,R+Q);C._subrs=G.objects,C._subrsBias=k$(C._subrs)}C._privateDict=H}I.push(C)}return I}function Zs(A,Q,E,B){var I,K,J=new T0.Parser(A,Q);E-=1;var C=[".notdef"],U=J.parseCard8();if(U===0)for(var Y=0;Y<E;Y+=1)I=J.parseSID(),C.push($C(B,I));else if(U===1)while(C.length<=E){I=J.parseSID(),K=J.parseCard8();for(var H=0;H<=K;H+=1)C.push($C(B,I)),I+=1}else if(U===2)while(C.length<=E){I=J.parseSID(),K=J.parseCard16();for(var R=0;R<=K;R+=1)C.push($C(B,I)),I+=1}else throw new Error("Unknown charset format "+U);return C}function Rs(A,Q,E){var B,I={},K=new T0.Parser(A,Q),J=K.parseCard8();if(J===0){var C=K.parseCard8();for(var U=0;U<C;U+=1)B=K.parseCard8(),I[B]=U}else if(J===1){var Y=K.parseCard8();B=1;for(var H=0;H<Y;H+=1){var R=K.parseCard8(),G=K.parseCard8();for(var O=R;O<=R+G;O+=1)I[O]=B,B+=1}}else throw new Error("Unknown encoding format "+J);return new jY(I,E)}function oz(A,Q,E){var B,I,K,J,C=new rQ,U=[],Y=0,H=!1,R=!1,G=0,O=0,F,q,W,Z;if(A.isCIDFont){var $=A.tables.cff.topDict._fdSelect[Q.index],X=A.tables.cff.topDict._fdArray[$];F=X._subrs,q=X._subrsBias,W=X._defaultWidthX,Z=X._nominalWidthX}else F=A.tables.cff.topDict._subrs,q=A.tables.cff.topDict._subrsBias,W=A.tables.cff.topDict._defaultWidthX,Z=A.tables.cff.topDict._nominalWidthX;var N=W;function M(w,P){if(R)C.closePath();C.moveTo(w,P),R=!0}function L(){var w=U.length%2!==0;if(w&&!H)N=U.shift()+Z;Y+=U.length>>1,U.length=0,H=!0}function D(w){var P,V,T,S,h,x,y,j,v,_,g,b,p=0;while(p<w.length){var m=w[p];switch(p+=1,m){case 1:L();break;case 3:L();break;case 4:if(U.length>1&&!H)N=U.shift()+Z,H=!0;O+=U.pop(),M(G,O);break;case 5:while(U.length>0)G+=U.shift(),O+=U.shift(),C.lineTo(G,O);break;case 6:while(U.length>0){if(G+=U.shift(),C.lineTo(G,O),U.length===0)break;O+=U.shift(),C.lineTo(G,O)}break;case 7:while(U.length>0){if(O+=U.shift(),C.lineTo(G,O),U.length===0)break;G+=U.shift(),C.lineTo(G,O)}break;case 8:while(U.length>0)B=G+U.shift(),I=O+U.shift(),K=B+U.shift(),J=I+U.shift(),G=K+U.shift(),O=J+U.shift(),C.curveTo(B,I,K,J,G,O);break;case 10:if(h=U.pop()+q,x=F[h],x)D(x);break;case 11:return;case 12:switch(m=w[p],p+=1,m){case 35:B=G+U.shift(),I=O+U.shift(),K=B+U.shift(),J=I+U.shift(),y=K+U.shift(),j=J+U.shift(),v=y+U.shift(),_=j+U.shift(),g=v+U.shift(),b=_+U.shift(),G=g+U.shift(),O=b+U.shift(),U.shift(),C.curveTo(B,I,K,J,y,j),C.curveTo(v,_,g,b,G,O);break;case 34:B=G+U.shift(),I=O,K=B+U.shift(),J=I+U.shift(),y=K+U.shift(),j=J,v=y+U.shift(),_=J,g=v+U.shift(),b=O,G=g+U.shift(),C.curveTo(B,I,K,J,y,j),C.curveTo(v,_,g,b,G,O);break;case 36:B=G+U.shift(),I=O+U.shift(),K=B+U.shift(),J=I+U.shift(),y=K+U.shift(),j=J,v=y+U.shift(),_=J,g=v+U.shift(),b=_+U.shift(),G=g+U.shift(),C.curveTo(B,I,K,J,y,j),C.curveTo(v,_,g,b,G,O);break;case 37:if(B=G+U.shift(),I=O+U.shift(),K=B+U.shift(),J=I+U.shift(),y=K+U.shift(),j=J+U.shift(),v=y+U.shift(),_=j+U.shift(),g=v+U.shift(),b=_+U.shift(),Math.abs(g-G)>Math.abs(b-O))G=g+U.shift();else O=b+U.shift();C.curveTo(B,I,K,J,y,j),C.curveTo(v,_,g,b,G,O);break;default:console.log("Glyph "+Q.index+": unknown operator 1200"+m),U.length=0}break;case 14:if(U.length>0&&!H)N=U.shift()+Z,H=!0;if(R)C.closePath(),R=!1;break;case 18:L();break;case 19:case 20:L(),p+=Y+7>>3;break;case 21:if(U.length>2&&!H)N=U.shift()+Z,H=!0;O+=U.pop(),G+=U.pop(),M(G,O);break;case 22:if(U.length>1&&!H)N=U.shift()+Z,H=!0;G+=U.pop(),M(G,O);break;case 23:L();break;case 24:while(U.length>2)B=G+U.shift(),I=O+U.shift(),K=B+U.shift(),J=I+U.shift(),G=K+U.shift(),O=J+U.shift(),C.curveTo(B,I,K,J,G,O);G+=U.shift(),O+=U.shift(),C.lineTo(G,O);break;case 25:while(U.length>6)G+=U.shift(),O+=U.shift(),C.lineTo(G,O);B=G+U.shift(),I=O+U.shift(),K=B+U.shift(),J=I+U.shift(),G=K+U.shift(),O=J+U.shift(),C.curveTo(B,I,K,J,G,O);break;case 26:if(U.length%2)G+=U.shift();while(U.length>0)B=G,I=O+U.shift(),K=B+U.shift(),J=I+U.shift(),G=K,O=J+U.shift(),C.curveTo(B,I,K,J,G,O);break;case 27:if(U.length%2)O+=U.shift();while(U.length>0)B=G+U.shift(),I=O,K=B+U.shift(),J=I+U.shift(),G=K+U.shift(),O=J,C.curveTo(B,I,K,J,G,O);break;case 28:P=w[p],V=w[p+1],U.push((P<<24|V<<16)>>16),p+=2;break;case 29:if(h=U.pop()+A.gsubrsBias,x=A.gsubrs[h],x)D(x);break;case 30:while(U.length>0){if(B=G,I=O+U.shift(),K=B+U.shift(),J=I+U.shift(),G=K+U.shift(),O=J+(U.length===1?U.shift():0),C.curveTo(B,I,K,J,G,O),U.length===0)break;B=G+U.shift(),I=O,K=B+U.shift(),J=I+U.shift(),O=J+U.shift(),G=K+(U.length===1?U.shift():0),C.curveTo(B,I,K,J,G,O)}break;case 31:while(U.length>0){if(B=G+U.shift(),I=O,K=B+U.shift(),J=I+U.shift(),O=J+U.shift(),G=K+(U.length===1?U.shift():0),C.curveTo(B,I,K,J,G,O),U.length===0)break;B=G,I=O+U.shift(),K=B+U.shift(),J=I+U.shift(),G=K+U.shift(),O=J+(U.length===1?U.shift():0),C.curveTo(B,I,K,J,G,O)}break;default:if(m<32)console.log("Glyph "+Q.index+": unknown operator "+m);else if(m<247)U.push(m-139);else if(m<251)P=w[p],p+=1,U.push((m-247)*256+P+108);else if(m<255)P=w[p],p+=1,U.push(-(m-251)*256-P-108);else P=w[p],V=w[p+1],T=w[p+2],S=w[p+3],p+=4,U.push((P<<24|V<<16|T<<8|S)/65536)}}}return D(E),Q.advanceWidth=N,C}function Os(A,Q,E,B){var I=[],K,J=new T0.Parser(A,Q),C=J.parseCard8();if(C===0)for(var U=0;U<E;U++){if(K=J.parseCard8(),K>=B)throw new Error("CFF table CID Font FDSelect has bad FD index value "+K+" (FD count "+B+")");I.push(K)}else if(C===3){var Y=J.parseCard16(),H=J.parseCard16();if(H!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+H);var R;for(var G=0;G<Y;G++){if(K=J.parseCard8(),R=J.parseCard16(),K>=B)throw new Error("CFF table CID Font FDSelect has bad FD index value "+K+" (FD count "+B+")");if(R>E)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+R);for(;H<R;H++)I.push(K);H=R}if(R!==E)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+R)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+C);return I}function $s(A,Q,E,B){E.tables.cff={};var I=Hs(A,Q),K=oB(A,I.endOffset,T0.bytesToString),J=oB(A,K.endOffset),C=oB(A,J.endOffset,T0.bytesToString),U=oB(A,C.endOffset);E.gsubrs=U.objects,E.gsubrsBias=k$(E.gsubrs);var Y=nz(A,Q,J.objects,C.objects);if(Y.length!==1)throw new Error("CFF table has too many fonts in \'FontSet\' - count of fonts NameIndex.length = "+Y.length);var H=Y[0];if(E.tables.cff.topDict=H,H._privateDict)E.defaultWidthX=H._privateDict.defaultWidthX,E.nominalWidthX=H._privateDict.nominalWidthX;if(H.ros[0]!==void 0&&H.ros[1]!==void 0)E.isCIDFont=!0;if(E.isCIDFont){var{fdArray:R,fdSelect:G}=H;if(R===0||G===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");R+=Q;var O=oB(A,R),F=nz(A,Q,O.objects,C.objects);H._fdArray=F,G+=Q,H._fdSelect=Os(A,G,E.numGlyphs,F.length)}var q=Q+H.private[1],W=yV(A,q,H.private[0],C.objects);if(E.defaultWidthX=W.defaultWidthX,E.nominalWidthX=W.nominalWidthX,W.subrs!==0){var Z=q+W.subrs,$=oB(A,Z);E.subrs=$.objects,E.subrsBias=k$(E.subrs)}else E.subrs=[],E.subrsBias=0;var X;if(B.lowMemory)X=Ks(A,Q+H.charStrings),E.nGlyphs=X.offsets.length;else X=oB(A,Q+H.charStrings),E.nGlyphs=X.objects.length;var N=Zs(A,Q+H.charset,E.nGlyphs,C.objects);if(H.encoding===0)E.cffEncoding=new jY(ai,N);else if(H.encoding===1)E.cffEncoding=new jY(ti,N);else E.cffEncoding=Rs(A,Q+H.encoding,N);if(E.encoding=E.encoding||E.cffEncoding,E.glyphs=new Z8.GlyphSet(E),B.lowMemory)E._push=function(D){var w=Js(D,X.offsets,A,Q+H.charStrings);E.glyphs.push(D,Z8.cffGlyphLoader(E,D,oz,w))};else for(var M=0;M<E.nGlyphs;M+=1){var L=X.objects[M];E.glyphs.push(M,Z8.cffGlyphLoader(E,M,oz,L))}}function xV(A,Q){var E,B=zY.indexOf(A);if(B>=0)E=B;if(B=Q.indexOf(A),B>=0)E=B+zY.length;else E=zY.length+Q.length,Q.push(A);return E}function Ws(){return new A0.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function Xs(A){var Q=new A0.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);Q.names=[];for(var E=0;E<A.length;E+=1)Q.names.push({name:"name_"+E,type:"NAME",value:A[E]});return Q}function gV(A,Q,E){var B={};for(var I=0;I<A.length;I+=1){var K=A[I],J=Q[K.name];if(J!==void 0&&!_V(J,K.value)){if(K.type==="SID")J=xV(J,E);B[K.op]={name:K.name,type:K.type,value:J}}}return B}function iz(A,Q){var E=new A0.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return E.dict=gV(hV,A,Q),E}function sz(A){var Q=new A0.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return Q.topDicts=[{name:"topDict_0",type:"TABLE",value:A}],Q}function Fs(A){var Q=new A0.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);Q.strings=[];for(var E=0;E<A.length;E+=1)Q.strings.push({name:"string_"+E,type:"STRING",value:A[E]});return Q}function qs(){return new A0.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function Ns(A,Q){var E=new A0.Record("Charsets",[{name:"format",type:"Card8",value:0}]);for(var B=0;B<A.length;B+=1){var I=A[B],K=xV(I,Q);E.fields.push({name:"glyph_"+B,type:"SID",value:K})}return E}function Ls(A){var Q=[],E=A.path;Q.push({name:"width",type:"NUMBER",value:A.advanceWidth});var B=0,I=0;for(var K=0;K<E.commands.length;K+=1){var J=void 0,C=void 0,U=E.commands[K];if(U.type==="Q"){var Y=0.3333333333333333,H=0.6666666666666666;U={type:"C",x:U.x,y:U.y,x1:Math.round(Y*B+H*U.x1),y1:Math.round(Y*I+H*U.y1),x2:Math.round(Y*U.x+H*U.x1),y2:Math.round(Y*U.y+H*U.y1)}}if(U.type==="M")J=Math.round(U.x-B),C=Math.round(U.y-I),Q.push({name:"dx",type:"NUMBER",value:J}),Q.push({name:"dy",type:"NUMBER",value:C}),Q.push({name:"rmoveto",type:"OP",value:21}),B=Math.round(U.x),I=Math.round(U.y);else if(U.type==="L")J=Math.round(U.x-B),C=Math.round(U.y-I),Q.push({name:"dx",type:"NUMBER",value:J}),Q.push({name:"dy",type:"NUMBER",value:C}),Q.push({name:"rlineto",type:"OP",value:5}),B=Math.round(U.x),I=Math.round(U.y);else if(U.type==="C"){var R=Math.round(U.x1-B),G=Math.round(U.y1-I),O=Math.round(U.x2-U.x1),F=Math.round(U.y2-U.y1);J=Math.round(U.x-U.x2),C=Math.round(U.y-U.y2),Q.push({name:"dx1",type:"NUMBER",value:R}),Q.push({name:"dy1",type:"NUMBER",value:G}),Q.push({name:"dx2",type:"NUMBER",value:O}),Q.push({name:"dy2",type:"NUMBER",value:F}),Q.push({name:"dx",type:"NUMBER",value:J}),Q.push({name:"dy",type:"NUMBER",value:C}),Q.push({name:"rrcurveto",type:"OP",value:8}),B=Math.round(U.x),I=Math.round(U.y)}}return Q.push({name:"endchar",type:"OP",value:14}),Q}function Ds(A){var Q=new A0.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]);for(var E=0;E<A.length;E+=1){var B=A.get(E),I=Ls(B);Q.charStrings.push({name:B.name,type:"CHARSTRING",value:I})}return Q}function Ms(A,Q){var E=new A0.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return E.dict=gV(vV,A,Q),E}function ws(A,Q){var E=new A0.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),B=1/Q.unitsPerEm,I={version:Q.version,fullName:Q.fullName,familyName:Q.familyName,weight:Q.weightName,fontBBox:Q.fontBBox||[0,0,0,0],fontMatrix:[B,0,0,B,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},K={},J=[],C;for(var U=1;U<A.length;U+=1)C=A.get(U),J.push(C.name);var Y=[];E.header=Ws(),E.nameIndex=Xs([Q.postScriptName]);var H=iz(I,Y);E.topDictIndex=sz(H),E.globalSubrIndex=qs(),E.charsets=Ns(J,Y),E.charStringsIndex=Ds(A),E.privateDict=Ms(K,Y),E.stringIndex=Fs(Y);var R=E.header.sizeOf()+E.nameIndex.sizeOf()+E.topDictIndex.sizeOf()+E.stringIndex.sizeOf()+E.globalSubrIndex.sizeOf();return I.charset=R,I.encoding=0,I.charStrings=I.charset+E.charsets.sizeOf(),I.private[1]=I.charStrings+E.charStringsIndex.sizeOf(),H=iz(I,Y),E.topDictIndex=sz(H),E}function Vs(A,Q){var E={},B=new T0.Parser(A,Q);return E.version=B.parseVersion(),E.fontRevision=Math.round(B.parseFixed()*1000)/1000,E.checkSumAdjustment=B.parseULong(),E.magicNumber=B.parseULong(),O0.argument(E.magicNumber===1594834165,"Font header has wrong magic number."),E.flags=B.parseUShort(),E.unitsPerEm=B.parseUShort(),E.created=B.parseLongDateTime(),E.modified=B.parseLongDateTime(),E.xMin=B.parseShort(),E.yMin=B.parseShort(),E.xMax=B.parseShort(),E.yMax=B.parseShort(),E.macStyle=B.parseUShort(),E.lowestRecPPEM=B.parseUShort(),E.fontDirectionHint=B.parseShort(),E.indexToLocFormat=B.parseShort(),E.glyphDataFormat=B.parseShort(),E}function Ts(A){var Q=Math.round((/*@__PURE__*/new Date()).getTime()/1000)+2082844800,E=Q;if(A.createdTimestamp)E=A.createdTimestamp+2082844800;return new A0.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1000},{name:"created",type:"LONGDATETIME",value:E},{name:"modified",type:"LONGDATETIME",value:Q},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],A)}function Ps(A,Q){var E={},B=new T0.Parser(A,Q);return E.version=B.parseVersion(),E.ascender=B.parseShort(),E.descender=B.parseShort(),E.lineGap=B.parseShort(),E.advanceWidthMax=B.parseUShort(),E.minLeftSideBearing=B.parseShort(),E.minRightSideBearing=B.parseShort(),E.xMaxExtent=B.parseShort(),E.caretSlopeRise=B.parseShort(),E.caretSlopeRun=B.parseShort(),E.caretOffset=B.parseShort(),B.relativeOffset+=8,E.metricDataFormat=B.parseShort(),E.numberOfHMetrics=B.parseUShort(),E}function _s(A){return new A0.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],A)}function js(A,Q,E,B,I){var K,J,C=new T0.Parser(A,Q);for(var U=0;U<B;U+=1){if(U<E)K=C.parseUShort(),J=C.parseShort();var Y=I.get(U);Y.advanceWidth=K,Y.leftSideBearing=J}}function hs(A,Q,E,B,I){A._hmtxTableData={};var K,J,C=new T0.Parser(Q,E);for(var U=0;U<I;U+=1){if(U<B)K=C.parseUShort(),J=C.parseShort();A._hmtxTableData[U]={advanceWidth:K,leftSideBearing:J}}}function vs(A,Q,E,B,I,K,J){if(J.lowMemory)hs(A,Q,E,B,I);else js(Q,E,B,I,K)}function ys(A){var Q=new A0.Table("hmtx",[]);for(var E=0;E<A.length;E+=1){var B=A.get(E),I=B.advanceWidth||0,K=B.leftSideBearing||0;Q.fields.push({name:"advanceWidth_"+E,type:"USHORT",value:I}),Q.fields.push({name:"leftSideBearing_"+E,type:"SHORT",value:K})}return Q}function gs(A){var Q=new A0.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:A.length}]),E="",B=12+A.length*4;for(var I=0;I<A.length;++I){var K=E.indexOf(A[I]);if(K<0)K=E.length,E+=A[I];Q.fields.push({name:"offset "+I,type:"USHORT",value:B+K}),Q.fields.push({name:"length "+I,type:"USHORT",value:A[I].length})}return Q.fields.push({name:"stringPool",type:"CHARARRAY",value:E}),Q}function bs(A,Q){var E=new T0.Parser(A,Q),B=E.parseULong();O0.argument(B===1,"Unsupported ltag table version."),E.skip("uLong",1);var I=E.parseULong(),K=[];for(var J=0;J<I;J++){var C="",U=Q+E.parseUShort(),Y=E.parseUShort();for(var H=U;H<U+Y;++H)C+=String.fromCharCode(A.getInt8(H));K.push(C)}return K}function us(A,Q){var E={},B=new T0.Parser(A,Q);if(E.version=B.parseVersion(),E.numGlyphs=B.parseUShort(),E.version===1)E.maxPoints=B.parseUShort(),E.maxContours=B.parseUShort(),E.maxCompositePoints=B.parseUShort(),E.maxCompositeContours=B.parseUShort(),E.maxZones=B.parseUShort(),E.maxTwilightPoints=B.parseUShort(),E.maxStorage=B.parseUShort(),E.maxFunctionDefs=B.parseUShort(),E.maxInstructionDefs=B.parseUShort(),E.maxStackElements=B.parseUShort(),E.maxSizeOfInstructions=B.parseUShort(),E.maxComponentElements=B.parseUShort(),E.maxComponentDepth=B.parseUShort();return E}function ps(A){return new A0.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:A}])}function ds(A,Q,E){switch(A){case 0:if(Q===65535)return"und";else if(E)return E[Q];break;case 1:return fV[Q];case 3:return uV[Q]}return}function pV(A,Q,E){switch(A){case 0:return j$;case 1:return ns[E]||ls[Q];case 3:if(Q===1||Q===10)return j$;break}return}function os(A,Q,E){var B={},I=new T0.Parser(A,Q),K=I.parseUShort(),J=I.parseUShort(),C=I.offset+I.parseUShort();for(var U=0;U<J;U++){var Y=I.parseUShort(),H=I.parseUShort(),R=I.parseUShort(),G=I.parseUShort(),O=bV[G]||G,F=I.parseUShort(),q=I.parseUShort(),W=ds(Y,R,E),Z=pV(Y,H,R);if(Z!==void 0&&W!==void 0){var $=void 0;if(Z===j$)$=oK.UTF16(A,C+q,F);else $=oK.MACSTRING(A,C+q,F,Z);if($){var X=B[O];if(X===void 0)X=B[O]={};X[W]=$}}}var N=0;if(K===1)N=I.parseUShort();return B}function N$(A){var Q={};for(var E in A)Q[A[E]]=parseInt(E);return Q}function rz(A,Q,E,B,I,K){return new A0.Record("NameRecord",[{name:"platformID",type:"USHORT",value:A},{name:"encodingID",type:"USHORT",value:Q},{name:"languageID",type:"USHORT",value:E},{name:"nameID",type:"USHORT",value:B},{name:"length",type:"USHORT",value:I},{name:"offset",type:"USHORT",value:K}])}function is(A,Q){var E=A.length,B=Q.length-E+1;A:for(var I=0;I<B;I++)for(;I<B;I++){for(var K=0;K<E;K++)if(Q[I+K]!==A[K])continue A;return I}return-1}function az(A,Q){var E=is(A,Q);if(E<0){E=Q.length;var B=0,I=A.length;for(;B<I;++B)Q.push(A[B])}return E}function ss(A,Q){var E,B=[],I={},K=N$(bV);for(var J in A){var C=K[J];if(C===void 0)C=J;if(E=parseInt(C),isNaN(E))throw new Error('Name table entry "'+J+'" does not exist, see nameTableNames for complete list.');I[E]=A[J],B.push(E)}var U=N$(fV),Y=N$(uV),H=[],R=[];for(var G=0;G<B.length;G++){E=B[G];var O=I[E];for(var F in O){var q=O[F],W=1,Z=U[F],$=cs[Z],X=pV(W,$,Z),N=sA.MACSTRING(q,X);if(N===void 0){if(W=0,Z=Q.indexOf(F),Z<0)Z=Q.length,Q.push(F);$=4,N=sA.UTF16(q)}var M=az(N,R);H.push(rz(W,$,Z,E,N.length,M));var L=Y[F];if(L!==void 0){var D=sA.UTF16(q),w=az(D,R);H.push(rz(3,1,L,E,D.length,w))}}}H.sort(function(T,S){return T.platformID-S.platformID||T.encodingID-S.encodingID||T.languageID-S.languageID||T.nameID-S.nameID});var P=new A0.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:H.length},{name:"stringOffset",type:"USHORT",value:6+H.length*12}]);for(var V=0;V<H.length;V++)P.fields.push({name:"record_"+V,type:"RECORD",value:H[V]});return P.fields.push({name:"strings",type:"LITERAL",value:R}),P}function as(A){for(var Q=0;Q<h$.length;Q+=1){var E=h$[Q];if(A>=E.begin&&A<E.end)return Q}return-1}function ts(A,Q){var E={},B=new T0.Parser(A,Q);E.version=B.parseUShort(),E.xAvgCharWidth=B.parseShort(),E.usWeightClass=B.parseUShort(),E.usWidthClass=B.parseUShort(),E.fsType=B.parseUShort(),E.ySubscriptXSize=B.parseShort(),E.ySubscriptYSize=B.parseShort(),E.ySubscriptXOffset=B.parseShort(),E.ySubscriptYOffset=B.parseShort(),E.ySuperscriptXSize=B.parseShort(),E.ySuperscriptYSize=B.parseShort(),E.ySuperscriptXOffset=B.parseShort(),E.ySuperscriptYOffset=B.parseShort(),E.yStrikeoutSize=B.parseShort(),E.yStrikeoutPosition=B.parseShort(),E.sFamilyClass=B.parseShort(),E.panose=[];for(var I=0;I<10;I++)E.panose[I]=B.parseByte();if(E.ulUnicodeRange1=B.parseULong(),E.ulUnicodeRange2=B.parseULong(),E.ulUnicodeRange3=B.parseULong(),E.ulUnicodeRange4=B.parseULong(),E.achVendID=String.fromCharCode(B.parseByte(),B.parseByte(),B.parseByte(),B.parseByte()),E.fsSelection=B.parseUShort(),E.usFirstCharIndex=B.parseUShort(),E.usLastCharIndex=B.parseUShort(),E.sTypoAscender=B.parseShort(),E.sTypoDescender=B.parseShort(),E.sTypoLineGap=B.parseShort(),E.usWinAscent=B.parseUShort(),E.usWinDescent=B.parseUShort(),E.version>=1)E.ulCodePageRange1=B.parseULong(),E.ulCodePageRange2=B.parseULong();if(E.version>=2)E.sxHeight=B.parseShort(),E.sCapHeight=B.parseShort(),E.usDefaultChar=B.parseUShort(),E.usBreakChar=B.parseUShort(),E.usMaxContent=B.parseUShort();return E}function es(A){return new A0.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],A)}function Ar(A,Q){var E={},B=new T0.Parser(A,Q);switch(E.version=B.parseVersion(),E.italicAngle=B.parseFixed(),E.underlinePosition=B.parseShort(),E.underlineThickness=B.parseShort(),E.isFixedPitch=B.parseULong(),E.minMemType42=B.parseULong(),E.maxMemType42=B.parseULong(),E.minMemType1=B.parseULong(),E.maxMemType1=B.parseULong(),E.version){case 1:E.names=A6.slice();break;case 2:E.numberOfGlyphs=B.parseUShort(),E.glyphNameIndex=new Array(E.numberOfGlyphs);for(var I=0;I<E.numberOfGlyphs;I++)E.glyphNameIndex[I]=B.parseUShort();E.names=[];for(var K=0;K<E.numberOfGlyphs;K++)if(E.glyphNameIndex[K]>=A6.length){var J=B.parseChar();E.names.push(B.parseString(J))}break;case 2.5:E.numberOfGlyphs=B.parseUShort(),E.offset=new Array(E.numberOfGlyphs);for(var C=0;C<E.numberOfGlyphs;C++)E.offset[C]=B.parseChar();break}return E}function Qr(){return new A0.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}function Br(A,Q){Q=Q||0;var E=new VA(A,Q),B=E.parseVersion(1);if(O0.argument(B===1||B===1.1,"Unsupported GSUB table version."),B===1)return{version:B,scripts:E.parseScriptList(),features:E.parseFeatureList(),lookups:E.parseLookupList(cE)};else return{version:B,scripts:E.parseScriptList(),features:E.parseFeatureList(),lookups:E.parseLookupList(cE),variations:E.parseFeatureVariationsList()}}function Ir(A){return new A0.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new A0.ScriptList(A.scripts)},{name:"features",type:"TABLE",value:new A0.FeatureList(A.features)},{name:"lookups",type:"TABLE",value:new A0.LookupList(A.lookups,iK)}])}function Jr(A,Q){var E=new T0.Parser(A,Q),B=E.parseULong();O0.argument(B===1,"Unsupported META table version."),E.parseULong(),E.parseULong();var I=E.parseULong(),K={};for(var J=0;J<I;J++){var C=E.parseTag(),U=E.parseULong(),Y=E.parseULong(),H=oK.UTF8(A,Q+U,Y);K[C]=H}return K}function Cr(A){var Q=Object.keys(A).length,E="",B=16+Q*12,I=new A0.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:B},{name:"numTags",type:"ULONG",value:Q}]);for(var K in A){var J=E.length;E+=A[K],I.fields.push({name:"tag "+K,type:"TAG",value:K}),I.fields.push({name:"offset "+K,type:"ULONG",value:B+J}),I.fields.push({name:"length "+K,type:"ULONG",value:A[K].length})}return I.fields.push({name:"stringPool",type:"CHARARRAY",value:E}),I}function Yr(A,Q){var E=new VA(A,Q),B=E.parseUShort();O0.argument(B===0,"Only COLRv0 supported.");var I=E.parseUShort(),K=E.parseOffset32(),J=E.parseOffset32(),C=E.parseUShort();E.relativeOffset=K;var U=E.parseRecordList(I,{glyphID:VA.uShort,firstLayerIndex:VA.uShort,numLayers:VA.uShort});E.relativeOffset=J;var Y=E.parseRecordList(C,{glyphID:VA.uShort,paletteIndex:VA.uShort});return{version:B,baseGlyphRecords:U,layerRecords:Y}}function Hr(A){var Q=A.version;if(Q===void 0)Q=0;var E=A.baseGlyphRecords;if(E===void 0)E=[];var B=A.layerRecords;if(B===void 0)B=[];O0.argument(Q===0,"Only COLRv0 supported.");var I=14,K=I+E.length*6;return new A0.Table("COLR",[{name:"version",type:"USHORT",value:Q},{name:"numBaseGlyphRecords",type:"USHORT",value:E.length},{name:"baseGlyphRecordsOffset",type:"ULONG",value:I},{name:"layerRecordsOffset",type:"ULONG",value:K},{name:"numLayerRecords",type:"USHORT",value:B.length}].concat(E.map(function(J,C){return[{name:"glyphID_"+C,type:"USHORT",value:J.glyphID},{name:"firstLayerIndex_"+C,type:"USHORT",value:J.firstLayerIndex},{name:"numLayers_"+C,type:"USHORT",value:J.numLayers}]}).flat(),B.map(function(J,C){return[{name:"LayerGlyphID_"+C,type:"USHORT",value:J.glyphID},{name:"paletteIndex_"+C,type:"USHORT",value:J.paletteIndex}]}).flat()))}function Zr(A,Q){var E=new VA(A,Q),B=E.parseShort(),I=E.parseShort(),K=E.parseShort(),J=E.parseShort(),C=E.parseOffset32(),U=E.parseUShortList(K);E.relativeOffset=C;var Y=E.parseULongList(J);return{version:B,numPaletteEntries:I,colorRecords:Y,colorRecordIndices:U}}function Rr(A){var Q=A.version;if(Q===void 0)Q=0;var E=A.numPaletteEntries;if(E===void 0)E=0;var B=A.colorRecords;if(B===void 0)B=[];var I=A.colorRecordIndices;if(I===void 0)I=[0];return O0.argument(Q===0,"Only CPALv0 are supported."),O0.argument(B.length,"No colorRecords given."),O0.argument(I.length,"No colorRecordIndices given."),O0.argument(!E&&I.length==1,"Can\'t infer numPaletteEntries on multiple colorRecordIndices"),new A0.Table("CPAL",[{name:"version",type:"USHORT",value:Q},{name:"numPaletteEntries",type:"USHORT",value:E||B.length},{name:"numPalettes",type:"USHORT",value:I.length},{name:"numColorRecords",type:"USHORT",value:B.length},{name:"colorRecordsArrayOffset",type:"ULONG",value:12+2*I.length}].concat(I.map(function(K,J){return{name:"colorRecordIndices_"+J,type:"USHORT",value:K}}),B.map(function(K,J){return{name:"colorRecords_"+J,type:"ULONG",value:K}})))}function ez(A){return Math.log(A)/Math.log(2)|0}function b$(A){while(A.length%4!==0)A.push(0);var Q=0;for(var E=0;E<A.length;E+=4)Q+=(A[E]<<24)+(A[E+1]<<16)+(A[E+2]<<8)+A[E+3];return Q%=Math.pow(2,32),Q}function AV(A,Q,E,B){return new A0.Record("Table Record",[{name:"tag",type:"TAG",value:A!==void 0?A:""},{name:"checkSum",type:"ULONG",value:Q!==void 0?Q:0},{name:"offset",type:"ULONG",value:E!==void 0?E:0},{name:"length",type:"ULONG",value:B!==void 0?B:0}])}function mV(A){var Q=new A0.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);Q.tables=A,Q.numTables=A.length;var E=Math.pow(2,ez(Q.numTables));Q.searchRange=16*E,Q.entrySelector=ez(E),Q.rangeShift=Q.numTables*16-Q.searchRange;var B=[],I=[],K=Q.sizeOf()+AV().sizeOf()*Q.numTables;while(K%4!==0)K+=1,I.push({name:"padding",type:"BYTE",value:0});for(var J=0;J<A.length;J+=1){var C=A[J];O0.argument(C.tableName.length===4,"Table name"+C.tableName+" is invalid.");var U=C.sizeOf(),Y=AV(C.tableName,b$(C.encode()),K,U);B.push({name:Y.tag+" Table Record",type:"RECORD",value:Y}),I.push({name:C.tableName+" table",type:"RECORD",value:C}),K+=U,O0.argument(!isNaN(K),"Something went wrong calculating the offset.");while(K%4!==0)K+=1,I.push({name:"padding",type:"BYTE",value:0})}return B.sort(function(H,R){if(H.value.tag>R.value.tag)return 1;else return-1}),Q.fields=Q.fields.concat(B),Q.fields=Q.fields.concat(I),Q}function QV(A,Q,E){for(var B=0;B<Q.length;B+=1){var I=A.charToGlyphIndex(Q[B]);if(I>0){var K=A.glyphs.get(I);return K.getMetrics()}}return E}function $r(A){var Q=0;for(var E=0;E<A.length;E+=1)Q+=A[E];return Q/A.length}function Wr(A){var Q=[],E=[],B=[],I=[],K=[],J=[],C=[],U,Y=0,H=0,R=0,G=0,O=0;for(var F=0;F<A.glyphs.length;F+=1){var q=A.glyphs.get(F),W=q.unicode|0;if(isNaN(q.advanceWidth))throw new Error("Glyph "+q.name+" ("+F+"): advanceWidth is not a number.");if(U>W||U===void 0){if(W>0)U=W}if(Y<W)Y=W;var Z=tz.getUnicodeRange(W);if(Z<32)H|=1<<Z;else if(Z<64)R|=1<<Z-32;else if(Z<96)G|=1<<Z-64;else if(Z<123)O|=1<<Z-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(q.name===".notdef")continue;var $=q.getMetrics();Q.push($.xMin),E.push($.yMin),B.push($.xMax),I.push($.yMax),J.push($.leftSideBearing),C.push($.rightSideBearing),K.push(q.advanceWidth)}var X={xMin:Math.min.apply(null,Q),yMin:Math.min.apply(null,E),xMax:Math.max.apply(null,B),yMax:Math.max.apply(null,I),advanceWidthMax:Math.max.apply(null,K),advanceWidthAvg:$r(K),minLeftSideBearing:Math.min.apply(null,J),maxLeftSideBearing:Math.max.apply(null,J),minRightSideBearing:Math.min.apply(null,C)};X.ascender=A.ascender,X.descender=A.descender;var N=Ss.make({flags:3,unitsPerEm:A.unitsPerEm,xMin:X.xMin,yMin:X.yMin,xMax:X.xMax,yMax:X.yMax,lowestRecPPEM:3,createdTimestamp:A.createdTimestamp}),M=ks.make({ascender:X.ascender,descender:X.descender,advanceWidthMax:X.advanceWidthMax,minLeftSideBearing:X.minLeftSideBearing,minRightSideBearing:X.minRightSideBearing,xMaxExtent:X.maxLeftSideBearing+(X.xMax-X.xMin),numberOfHMetrics:A.glyphs.length}),L=ms.make(A.glyphs.length),D=tz.make(Object.assign({xAvgCharWidth:Math.round(X.advanceWidthAvg),usFirstCharIndex:U,usLastCharIndex:Y,ulUnicodeRange1:H,ulUnicodeRange2:R,ulUnicodeRange3:G,ulUnicodeRange4:O,sTypoAscender:X.ascender,sTypoDescender:X.descender,sTypoLineGap:0,usWinAscent:X.yMax,usWinDescent:Math.abs(X.yMin),ulCodePageRange1:1,sxHeight:QV(A,"xyvw",{yMax:Math.round(X.ascender/2)}).yMax,sCapHeight:QV(A,"HIKLEFJMNTZBDPRAGOQSUVWXY",X).yMax,usDefaultChar:A.hasChar(" ")?32:0,usBreakChar:A.hasChar(" ")?32:0},A.tables.os2)),w=xs.make(A.glyphs),P=ri.make(A.glyphs),V=A.getEnglishName("fontFamily"),T=A.getEnglishName("fontSubfamily"),S=V+" "+T,h=A.getEnglishName("postScriptName");if(!h)h=V.replace(/\s/g,"")+"-"+T;var x={};for(var y in A.names)x[y]=A.names[y];if(!x.uniqueID)x.uniqueID={en:A.getEnglishName("manufacturer")+":"+S};if(!x.postScriptName)x.postScriptName={en:h};if(!x.preferredFamily)x.preferredFamily=A.names.fontFamily;if(!x.preferredSubfamily)x.preferredSubfamily=A.names.fontSubfamily;var j=[],v=rs.make(x,j),_=j.length>0?fs.make(j):void 0,g=Er.make(),b=zs.make(A.glyphs,{version:A.getEnglishName("version"),fullName:S,familyName:V,weightName:T,postScriptName:h,unitsPerEm:A.unitsPerEm,fontBBox:[0,X.yMin,X.ascender,X.advanceWidthMax]}),p=A.metas&&Object.keys(A.metas).length>0?Ur.make(A.metas):void 0,m=[N,M,L,D,v,P,g,b,w];if(_)m.push(_);if(A.tables.gsub)m.push(Kr.make(A.tables.gsub));if(A.tables.cpal)m.push(Or.make(A.tables.cpal));if(A.tables.colr)m.push(Gr.make(A.tables.colr));if(p)m.push(p);var o=mV(m),AA=o.encode(),s=b$(AA),t=o.fields,r=!1;for(var EA=0;EA<t.length;EA+=1)if(t[EA].name==="head table"){t[EA].value.checkSumAdjustment=2981146554-s,r=!0;break}if(!r)throw new Error("Could not find head table with checkSum to adjust.");return o}function L$(A,Q){var E=0,B=A.length-1;while(E<=B){var I=E+B>>>1,K=A[I].tag;if(K===Q)return I;else if(K<Q)E=I+1;else B=I-1}return-E-1}function EV(A,Q){var E=0,B=A.length-1;while(E<=B){var I=E+B>>>1,K=A[I];if(K===Q)return I;else if(K<Q)E=I+1;else B=I-1}return-E-1}function BV(A,Q){var E,B=0,I=A.length-1;while(B<=I){var K=B+I>>>1;E=A[K];var J=E.start;if(J===Q)return E;else if(J<Q)B=K+1;else I=K-1}if(B>0){if(E=A[B-1],Q>E.end)return 0;return E}}function qC(A,Q){this.font=A,this.tableName=Q}function NC(A){qC.call(this,A,"gpos")}function t1(A){qC.call(this,A,"gsub")}function Fr(A,Q){var E=A.length;if(E!==Q.length)return!1;for(var B=0;B<E;B++)if(A[B]!==Q[B])return!1;return!0}function f$(A,Q,E){var B=A.subtables;for(var I=0;I<B.length;I++){var K=B[I];if(K.substFormat===Q)return K}if(E)return B.push(E),E;return}function OC(A,Q){if(!A)throw Q}function IV(A,Q,E,B,I){var K;if((Q&B)>0){if(K=A.parseByte(),(Q&I)===0)K=-K;K=E+K}else if((Q&I)>0)K=E;else K=E+A.parseShort();return K}function cV(A,Q,E){var B=new T0.Parser(Q,E);A.numberOfContours=B.parseShort(),A._xMin=B.parseShort(),A._yMin=B.parseShort(),A._xMax=B.parseShort(),A._yMax=B.parseShort();var I,K;if(A.numberOfContours>0){var J=A.endPointIndices=[];for(var C=0;C<A.numberOfContours;C+=1)J.push(B.parseUShort());A.instructionLength=B.parseUShort(),A.instructions=[];for(var U=0;U<A.instructionLength;U+=1)A.instructions.push(B.parseByte());var Y=J[J.length-1]+1;I=[];for(var H=0;H<Y;H+=1)if(K=B.parseByte(),I.push(K),(K&8)>0){var R=B.parseByte();for(var G=0;G<R;G+=1)I.push(K),H+=1}if(O0.argument(I.length===Y,"Bad flags."),J.length>0){var O=[],F;if(Y>0){for(var q=0;q<Y;q+=1)K=I[q],F={},F.onCurve=!!(K&1),F.lastPointOfContour=J.indexOf(q)>=0,O.push(F);var W=0;for(var Z=0;Z<Y;Z+=1)K=I[Z],F=O[Z],F.x=IV(B,K,W,2,16),W=F.x;var $=0;for(var X=0;X<Y;X+=1)K=I[X],F=O[X],F.y=IV(B,K,$,4,32),$=F.y}A.points=O}else A.points=[]}else if(A.numberOfContours===0)A.points=[];else{A.isComposite=!0,A.points=[],A.components=[];var N=!0;while(N){I=B.parseUShort();var M={glyphIndex:B.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};if((I&1)>0)if((I&2)>0)M.dx=B.parseShort(),M.dy=B.parseShort();else M.matchedPoints=[B.parseUShort(),B.parseUShort()];else if((I&2)>0)M.dx=B.parseChar(),M.dy=B.parseChar();else M.matchedPoints=[B.parseByte(),B.parseByte()];if((I&8)>0)M.xScale=M.yScale=B.parseF2Dot14();else if((I&64)>0)M.xScale=B.parseF2Dot14(),M.yScale=B.parseF2Dot14();else if((I&128)>0)M.xScale=B.parseF2Dot14(),M.scale01=B.parseF2Dot14(),M.scale10=B.parseF2Dot14(),M.yScale=B.parseF2Dot14();A.components.push(M),N=!!(I&32)}if(I&256){A.instructionLength=B.parseUShort(),A.instructions=[];for(var L=0;L<A.instructionLength;L+=1)A.instructions.push(B.parseByte())}}}function D$(A,Q){var E=[];for(var B=0;B<A.length;B+=1){var I=A[B],K={x:Q.xScale*I.x+Q.scale01*I.y+Q.dx,y:Q.scale10*I.x+Q.yScale*I.y+Q.dy,onCurve:I.onCurve,lastPointOfContour:I.lastPointOfContour};E.push(K)}return E}function qr(A){var Q=[],E=[];for(var B=0;B<A.length;B+=1){var I=A[B];if(E.push(I),I.lastPointOfContour)Q.push(E),E=[]}return O0.argument(E.length===0,"There are still points left in the current contour."),Q}function dV(A){var Q=new rQ;if(!A)return Q;var E=qr(A);for(var B=0;B<E.length;++B){var I=E[B],K=null,J=I[I.length-1],C=I[0];if(J.onCurve)Q.moveTo(J.x,J.y);else if(C.onCurve)Q.moveTo(C.x,C.y);else{var U={x:(J.x+C.x)*0.5,y:(J.y+C.y)*0.5};Q.moveTo(U.x,U.y)}for(var Y=0;Y<I.length;++Y)if(K=J,J=C,C=I[(Y+1)%I.length],J.onCurve)Q.lineTo(J.x,J.y);else{var H=K,R=C;if(!K.onCurve)H={x:(J.x+K.x)*0.5,y:(J.y+K.y)*0.5};if(!C.onCurve)R={x:(J.x+C.x)*0.5,y:(J.y+C.y)*0.5};Q.quadraticCurveTo(J.x,J.y,R.x,R.y)}Q.closePath()}return Q}function lV(A,Q){if(Q.isComposite)for(var E=0;E<Q.components.length;E+=1){var B=Q.components[E],I=A.get(B.glyphIndex);if(I.getPath(),I.points){var K=void 0;if(B.matchedPoints===void 0)K=D$(I.points,B);else{if(B.matchedPoints[0]>Q.points.length-1||B.matchedPoints[1]>I.points.length-1)throw Error("Matched points out of range in "+Q.name);var J=Q.points[B.matchedPoints[0]],C=I.points[B.matchedPoints[1]],U={xScale:B.xScale,scale01:B.scale01,scale10:B.scale10,yScale:B.yScale,dx:0,dy:0};C=D$([C],U)[0],U.dx=J.x-C.x,U.dy=J.y-C.y,K=D$(I.points,U)}Q.points=Q.points.concat(K)}}return dV(Q.points)}function Nr(A,Q,E,B){var I=new Z8.GlyphSet(B);for(var K=0;K<E.length-1;K+=1){var J=E[K],C=E[K+1];if(J!==C)I.push(K,Z8.ttfGlyphLoader(B,K,cV,A,Q+J,lV));else I.push(K,Z8.glyphLoader(B,K))}return I}function Lr(A,Q,E,B){var I=new Z8.GlyphSet(B);return B._push=function(K){var J=E[K],C=E[K+1];if(J!==C)I.push(K,Z8.ttfGlyphLoader(B,K,cV,A,Q+J,lV));else I.push(K,Z8.glyphLoader(B,K))},I}function Dr(A,Q,E,B,I){if(I.lowMemory)return Lr(A,Q,E,B);else return Nr(A,Q,E,B)}function iV(A){this.font=A,this.getCommands=function(Q){return Mr.getPath(Q).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function wr(A){return A}function sV(A){return Math.sign(A)*Math.round(Math.abs(A))}function zr(A){return Math.sign(A)*Math.round(Math.abs(A*2))/2}function Vr(A){return Math.sign(A)*(Math.round(Math.abs(A)+0.5)-0.5)}function Tr(A){return Math.sign(A)*Math.ceil(Math.abs(A))}function Sr(A){return Math.sign(A)*Math.floor(Math.abs(A))}function LC(A,Q){this.x=A,this.y=Q,this.axis=void 0,this.slope=Q/A,this.normalSlope=-A/Q,Object.freeze(this)}function DC(A,Q){var E=Math.sqrt(A*A+Q*Q);if(A/=E,Q/=E,A===1&&Q===0)return G8;else if(A===0&&Q===1)return AB;else return new LC(A,Q)}function QB(A,Q,E,B){this.x=this.xo=Math.round(A*64)/64,this.y=this.yo=Math.round(Q*64)/64,this.lastPointOfContour=E,this.onCurve=B,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}function iB(A,Q){switch(this.env=A,this.stack=[],this.prog=Q,A){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=G8,this.round=sV}}function hY(A){var Q=A.tZone=new Array(A.gZone.length);for(var E=0;E<Q.length;E++)Q[E]=new QB(0,0)}function aV(A,Q){var{prog:E,ip:B}=A,I=1,K;do if(K=E[++B],K===88)I++;else if(K===89)I--;else if(K===64)B+=E[B+1]+1;else if(K===65)B+=2*E[B+1]+1;else if(K>=176&&K<=183)B+=K-176+1;else if(K>=184&&K<=191)B+=(K-184+1)*2;else if(Q&&I===1&&K===27)break;while(I>0);A.ip=B}function KV(A,Q){if(rJA.DEBUG)console.log(Q.step,"SVTCA["+A.axis+"]");Q.fv=Q.pv=Q.dpv=A}function JV(A,Q){if(rJA.DEBUG)console.log(Q.step,"SPVTCA["+A.axis+"]");Q.pv=Q.dpv=A}function CV(A,Q){if(rJA.DEBUG)console.log(Q.step,"SFVTCA["+A.axis+"]");Q.fv=A}function UV(A,Q){var E=Q.stack,B=E.pop(),I=E.pop(),K=Q.z2[B],J=Q.z1[I];if(rJA.DEBUG)console.log("SPVTL["+A+"]",B,I);var C,U;if(!A)C=J.x-K.x,U=J.y-K.y;else C=K.y-J.y,U=J.x-K.x;Q.pv=Q.dpv=DC(C,U)}function YV(A,Q){var E=Q.stack,B=E.pop(),I=E.pop(),K=Q.z2[B],J=Q.z1[I];if(rJA.DEBUG)console.log("SFVTL["+A+"]",B,I);var C,U;if(!A)C=J.x-K.x,U=J.y-K.y;else C=K.y-J.y,U=J.x-K.x;Q.fv=DC(C,U)}function _r(A){var Q=A.stack,E=Q.pop(),B=Q.pop();if(rJA.DEBUG)console.log(A.step,"SPVFS[]",E,B);A.pv=A.dpv=DC(B,E)}function kr(A){var Q=A.stack,E=Q.pop(),B=Q.pop();if(rJA.DEBUG)console.log(A.step,"SPVFS[]",E,B);A.fv=DC(B,E)}function jr(A){var{stack:Q,pv:E}=A;if(rJA.DEBUG)console.log(A.step,"GPV[]");Q.push(E.x*16384),Q.push(E.y*16384)}function hr(A){var{stack:Q,fv:E}=A;if(rJA.DEBUG)console.log(A.step,"GFV[]");Q.push(E.x*16384),Q.push(E.y*16384)}function vr(A){if(A.fv=A.pv,rJA.DEBUG)console.log(A.step,"SFVTPV[]")}function yr(A){var Q=A.stack,E=Q.pop(),B=Q.pop(),I=Q.pop(),K=Q.pop(),J=Q.pop(),C=A.z0,U=A.z1,Y=C[E],H=C[B],R=U[I],G=U[K],O=A.z2[J];if(rJA.DEBUG)console.log("ISECT[], ",E,B,I,K,J);var{x:F,y:q}=Y,W=H.x,Z=H.y,$=R.x,X=R.y,N=G.x,M=G.y,L=(F-W)*(X-M)-(q-Z)*($-N),D=F*Z-q*W,w=$*M-X*N;O.x=(D*($-N)-w*(F-W))/L,O.y=(D*(X-M)-w*(q-Z))/L}function xr(A){if(A.rp0=A.stack.pop(),rJA.DEBUG)console.log(A.step,"SRP0[]",A.rp0)}function gr(A){if(A.rp1=A.stack.pop(),rJA.DEBUG)console.log(A.step,"SRP1[]",A.rp1)}function br(A){if(A.rp2=A.stack.pop(),rJA.DEBUG)console.log(A.step,"SRP2[]",A.rp2)}function fr(A){var Q=A.stack.pop();if(rJA.DEBUG)console.log(A.step,"SZP0[]",Q);switch(A.zp0=Q,Q){case 0:if(!A.tZone)hY(A);A.z0=A.tZone;break;case 1:A.z0=A.gZone;break;default:throw new Error("Invalid zone pointer")}}function ur(A){var Q=A.stack.pop();if(rJA.DEBUG)console.log(A.step,"SZP1[]",Q);switch(A.zp1=Q,Q){case 0:if(!A.tZone)hY(A);A.z1=A.tZone;break;case 1:A.z1=A.gZone;break;default:throw new Error("Invalid zone pointer")}}function pr(A){var Q=A.stack.pop();if(rJA.DEBUG)console.log(A.step,"SZP2[]",Q);switch(A.zp2=Q,Q){case 0:if(!A.tZone)hY(A);A.z2=A.tZone;break;case 1:A.z2=A.gZone;break;default:throw new Error("Invalid zone pointer")}}function mr(A){var Q=A.stack.pop();if(rJA.DEBUG)console.log(A.step,"SZPS[]",Q);switch(A.zp0=A.zp1=A.zp2=Q,Q){case 0:if(!A.tZone)hY(A);A.z0=A.z1=A.z2=A.tZone;break;case 1:A.z0=A.z1=A.z2=A.gZone;break;default:throw new Error("Invalid zone pointer")}}function cr(A){if(A.loop=A.stack.pop(),rJA.DEBUG)console.log(A.step,"SLOOP[]",A.loop)}function dr(A){if(rJA.DEBUG)console.log(A.step,"RTG[]");A.round=sV}function lr(A){if(rJA.DEBUG)console.log(A.step,"RTHG[]");A.round=Vr}function nr(A){var Q=A.stack.pop();if(rJA.DEBUG)console.log(A.step,"SMD[]",Q);A.minDis=Q/64}function or(A){if(rJA.DEBUG)console.log(A.step,"ELSE[]");aV(A,!1)}function ir(A){var Q=A.stack.pop();if(rJA.DEBUG)console.log(A.step,"JMPR[]",Q);A.ip+=Q-1}function sr(A){var Q=A.stack.pop();if(rJA.DEBUG)console.log(A.step,"SCVTCI[]",Q);A.cvCutIn=Q/64}function rr(A){var Q=A.stack;if(rJA.DEBUG)console.log(A.step,"DUP[]");Q.push(Q[Q.length-1])}function M$(A){if(rJA.DEBUG)console.log(A.step,"POP[]");A.stack.pop()}function ar(A){if(rJA.DEBUG)console.log(A.step,"CLEAR[]");A.stack.length=0}function tr(A){var Q=A.stack,E=Q.pop(),B=Q.pop();if(rJA.DEBUG)console.log(A.step,"SWAP[]");Q.push(E),Q.push(B)}function er(A){var Q=A.stack;if(rJA.DEBUG)console.log(A.step,"DEPTH[]");Q.push(Q.length)}function Aa(A){var Q=A.stack,E=Q.pop(),B=Q.pop();if(rJA.DEBUG)console.log(A.step,"LOOPCALL[]",E,B);var{ip:I,prog:K}=A;A.prog=A.funcs[E];for(var J=0;J<B;J++)if(E6(A),rJA.DEBUG)console.log(++A.step,J+1<B?"next loopcall":"done loopcall",J);A.ip=I,A.prog=K}function Qa(A){var Q=A.stack.pop();if(rJA.DEBUG)console.log(A.step,"CALL[]",Q);var{ip:E,prog:B}=A;if(A.prog=A.funcs[Q],E6(A),A.ip=E,A.prog=B,rJA.DEBUG)console.log(++A.step,"returning from",Q)}function Ea(A){var Q=A.stack,E=Q.pop();if(rJA.DEBUG)console.log(A.step,"CINDEX[]",E);Q.push(Q[Q.length-E])}function Ba(A){var Q=A.stack,E=Q.pop();if(rJA.DEBUG)console.log(A.step,"MINDEX[]",E);Q.push(Q.splice(Q.length-E,1)[0])}function Ia(A){if(A.env!=="fpgm")throw new Error("FDEF not allowed here");var{stack:Q,prog:E,ip:B}=A,I=Q.pop(),K=B;if(rJA.DEBUG)console.log(A.step,"FDEF[]",I);while(E[++B]!==45);A.ip=B,A.funcs[I]=E.slice(K+1,B)}function HV(A,Q){var E=Q.stack.pop(),B=Q.z0[E],I=Q.fv,K=Q.pv;if(rJA.DEBUG)console.log(Q.step,"MDAP["+A+"]",E);var J=K.distance(B,FC);if(A)J=Q.round(J);I.setRelative(B,FC,J,K),I.touch(B),Q.rp0=Q.rp1=E}function GV(A,Q){var E=Q.z2,B=E.length-2,I,K,J;if(rJA.DEBUG)console.log(Q.step,"IUP["+A.axis+"]");for(var C=0;C<B;C++){if(I=E[C],A.touched(I))continue;if(K=I.prevTouched(A),K===I)continue;if(J=I.nextTouched(A),K===J)A.setRelative(I,I,A.distance(K,K,!1,!0),A,!0);A.interpolate(I,K,J,A)}}function ZV(A,Q){var E=Q.stack,B=A?Q.rp1:Q.rp2,I=(A?Q.z0:Q.z1)[B],K=Q.fv,J=Q.pv,C=Q.loop,U=Q.z2;while(C--){var Y=E.pop(),H=U[Y],R=J.distance(I,I,!1,!0);if(K.setRelative(H,H,R,J),K.touch(H),rJA.DEBUG)console.log(Q.step,(Q.loop>1?"loop "+(Q.loop-C)+": ":"")+"SHP["+(A?"rp1":"rp2")+"]",Y)}Q.loop=1}function RV(A,Q){var E=Q.stack,B=A?Q.rp1:Q.rp2,I=(A?Q.z0:Q.z1)[B],K=Q.fv,J=Q.pv,C=E.pop(),U=Q.z2[Q.contours[C]],Y=U;if(rJA.DEBUG)console.log(Q.step,"SHC["+A+"]",C);var H=J.distance(I,I,!1,!0);do{if(Y!==I)K.setRelative(Y,Y,H,J);Y=Y.nextPointOnContour}while(Y!==U)}function OV(A,Q){var E=Q.stack,B=A?Q.rp1:Q.rp2,I=(A?Q.z0:Q.z1)[B],K=Q.fv,J=Q.pv,C=E.pop();if(rJA.DEBUG)console.log(Q.step,"SHZ["+A+"]",C);var U;switch(C){case 0:U=Q.tZone;break;case 1:U=Q.gZone;break;default:throw new Error("Invalid zone")}var Y,H=J.distance(I,I,!1,!0),R=U.length-2;for(var G=0;G<R;G++)Y=U[G],K.setRelative(Y,Y,H,J)}function Ka(A){var{stack:Q,loop:E,fv:B}=A,I=Q.pop()/64,K=A.z2;while(E--){var J=Q.pop(),C=K[J];if(rJA.DEBUG)console.log(A.step,(A.loop>1?"loop "+(A.loop-E)+": ":"")+"SHPIX[]",J,I);B.setRelative(C,C,I),B.touch(C)}A.loop=1}function Ja(A){var{stack:Q,rp1:E,rp2:B,loop:I}=A,K=A.z0[E],J=A.z1[B],C=A.fv,U=A.dpv,Y=A.z2;while(I--){var H=Q.pop(),R=Y[H];if(rJA.DEBUG)console.log(A.step,(A.loop>1?"loop "+(A.loop-I)+": ":"")+"IP[]",H,E,"<->",B);C.interpolate(R,K,J,U),C.touch(R)}A.loop=1}function $V(A,Q){var E=Q.stack,B=E.pop()/64,I=E.pop(),K=Q.z1[I],J=Q.z0[Q.rp0],C=Q.fv,U=Q.pv;if(C.setRelative(K,J,B,U),C.touch(K),rJA.DEBUG)console.log(Q.step,"MSIRP["+A+"]",B,I);if(Q.rp1=Q.rp0,Q.rp2=I,A)Q.rp0=I}function Ca(A){var{stack:Q,rp0:E}=A,B=A.z0[E],I=A.loop,K=A.fv,J=A.pv,C=A.z1;while(I--){var U=Q.pop(),Y=C[U];if(rJA.DEBUG)console.log(A.step,(A.loop>1?"loop "+(A.loop-I)+": ":"")+"ALIGNRP[]",U);K.setRelative(Y,B,0,J),K.touch(Y)}A.loop=1}function Ua(A){if(rJA.DEBUG)console.log(A.step,"RTDG[]");A.round=zr}function WV(A,Q){var E=Q.stack,B=E.pop(),I=E.pop(),K=Q.z0[I],J=Q.fv,C=Q.pv,U=Q.cvt[B];if(rJA.DEBUG)console.log(Q.step,"MIAP["+A+"]",B,"(",U,")",I);var Y=C.distance(K,FC);if(A){if(Math.abs(Y-U)<Q.cvCutIn)Y=U;Y=Q.round(Y)}if(J.setRelative(K,FC,Y,C),Q.zp0===0)K.xo=K.x,K.yo=K.y;J.touch(K),Q.rp0=Q.rp1=I}function Ya(A){var{prog:Q,ip:E,stack:B}=A,I=Q[++E];if(rJA.DEBUG)console.log(A.step,"NPUSHB[]",I);for(var K=0;K<I;K++)B.push(Q[++E]);A.ip=E}function Ha(A){var{ip:Q,prog:E,stack:B}=A,I=E[++Q];if(rJA.DEBUG)console.log(A.step,"NPUSHW[]",I);for(var K=0;K<I;K++){var J=E[++Q]<<8|E[++Q];if(J&32768)J=-((J^65535)+1);B.push(J)}A.ip=Q}function Ga(A){var{stack:Q,store:E}=A;if(!E)E=A.store=[];var B=Q.pop(),I=Q.pop();if(rJA.DEBUG)console.log(A.step,"WS",B,I);E[I]=B}function Za(A){var{stack:Q,store:E}=A,B=Q.pop();if(rJA.DEBUG)console.log(A.step,"RS",B);var I=E&&E[B]||0;Q.push(I)}function Ra(A){var Q=A.stack,E=Q.pop(),B=Q.pop();if(rJA.DEBUG)console.log(A.step,"WCVTP",E,B);A.cvt[B]=E/64}function Oa(A){var Q=A.stack,E=Q.pop();if(rJA.DEBUG)console.log(A.step,"RCVT",E);Q.push(A.cvt[E]*64)}function XV(A,Q){var E=Q.stack,B=E.pop(),I=Q.z2[B];if(rJA.DEBUG)console.log(Q.step,"GC["+A+"]",B);E.push(Q.dpv.distance(I,FC,A,!1)*64)}function FV(A,Q){var E=Q.stack,B=E.pop(),I=E.pop(),K=Q.z1[B],J=Q.z0[I],C=Q.dpv.distance(J,K,A,A);if(rJA.DEBUG)console.log(Q.step,"MD["+A+"]",B,I,"->",C);Q.stack.push(Math.round(C*64))}function $a(A){if(rJA.DEBUG)console.log(A.step,"MPPEM[]");A.stack.push(A.ppem)}function Wa(A){if(rJA.DEBUG)console.log(A.step,"FLIPON[]");A.autoFlip=!0}function Xa(A){var Q=A.stack,E=Q.pop(),B=Q.pop();if(rJA.DEBUG)console.log(A.step,"LT[]",E,B);Q.push(B<E?1:0)}function Fa(A){var Q=A.stack,E=Q.pop(),B=Q.pop();if(rJA.DEBUG)console.log(A.step,"LTEQ[]",E,B);Q.push(B<=E?1:0)}function qa(A){var Q=A.stack,E=Q.pop(),B=Q.pop();if(rJA.DEBUG)console.log(A.step,"GT[]",E,B);Q.push(B>E?1:0)}function Na(A){var Q=A.stack,E=Q.pop(),B=Q.pop();if(rJA.DEBUG)console.log(A.step,"GTEQ[]",E,B);Q.push(B>=E?1:0)}function La(A){var Q=A.stack,E=Q.pop(),B=Q.pop();if(rJA.DEBUG)console.log(A.step,"EQ[]",E,B);Q.push(E===B?1:0)}function Da(A){var Q=A.stack,E=Q.pop(),B=Q.pop();if(rJA.DEBUG)console.log(A.step,"NEQ[]",E,B);Q.push(E!==B?1:0)}function Ma(A){var Q=A.stack,E=Q.pop();if(rJA.DEBUG)console.log(A.step,"ODD[]",E);Q.push(Math.trunc(E)%2?1:0)}function wa(A){var Q=A.stack,E=Q.pop();if(rJA.DEBUG)console.log(A.step,"EVEN[]",E);Q.push(Math.trunc(E)%2?0:1)}function za(A){var Q=A.stack.pop();if(rJA.DEBUG)console.log(A.step,"IF[]",Q);if(!Q){if(aV(A,!0),rJA.DEBUG)console.log(A.step,"EIF[]")}}function Va(A){if(rJA.DEBUG)console.log(A.step,"EIF[]")}function Ta(A){var Q=A.stack,E=Q.pop(),B=Q.pop();if(rJA.DEBUG)console.log(A.step,"AND[]",E,B);Q.push(E&&B?1:0)}function Sa(A){var Q=A.stack,E=Q.pop(),B=Q.pop();if(rJA.DEBUG)console.log(A.step,"OR[]",E,B);Q.push(E||B?1:0)}function Pa(A){var Q=A.stack,E=Q.pop();if(rJA.DEBUG)console.log(A.step,"NOT[]",E);Q.push(E?0:1)}function w$(A,Q){var E=Q.stack,B=E.pop(),I=Q.fv,K=Q.pv,J=Q.ppem,C=Q.deltaBase+(A-1)*16,U=Q.deltaShift,Y=Q.z0;if(rJA.DEBUG)console.log(Q.step,"DELTAP["+A+"]",B,E);for(var H=0;H<B;H++){var R=E.pop(),G=E.pop(),O=C+((G&240)>>4);if(O!==J)continue;var F=(G&15)-8;if(F>=0)F++;if(rJA.DEBUG)console.log(Q.step,"DELTAPFIX",R,"by",F*U);var q=Y[R];I.setRelative(q,q,F*U,K)}}function _a(A){var Q=A.stack,E=Q.pop();if(rJA.DEBUG)console.log(A.step,"SDB[]",E);A.deltaBase=E}function ka(A){var Q=A.stack,E=Q.pop();if(rJA.DEBUG)console.log(A.step,"SDS[]",E);A.deltaShift=Math.pow(0.5,E)}function ja(A){var Q=A.stack,E=Q.pop(),B=Q.pop();if(rJA.DEBUG)console.log(A.step,"ADD[]",E,B);Q.push(B+E)}function ha(A){var Q=A.stack,E=Q.pop(),B=Q.pop();if(rJA.DEBUG)console.log(A.step,"SUB[]",E,B);Q.push(B-E)}function va(A){var Q=A.stack,E=Q.pop(),B=Q.pop();if(rJA.DEBUG)console.log(A.step,"DIV[]",E,B);Q.push(B*64/E)}function ya(A){var Q=A.stack,E=Q.pop(),B=Q.pop();if(rJA.DEBUG)console.log(A.step,"MUL[]",E,B);Q.push(B*E/64)}function xa(A){var Q=A.stack,E=Q.pop();if(rJA.DEBUG)console.log(A.step,"ABS[]",E);Q.push(Math.abs(E))}function ga(A){var Q=A.stack,E=Q.pop();if(rJA.DEBUG)console.log(A.step,"NEG[]",E);Q.push(-E)}function ba(A){var Q=A.stack,E=Q.pop();if(rJA.DEBUG)console.log(A.step,"FLOOR[]",E);Q.push(Math.floor(E/64)*64)}function fa(A){var Q=A.stack,E=Q.pop();if(rJA.DEBUG)console.log(A.step,"CEILING[]",E);Q.push(Math.ceil(E/64)*64)}function wY(A,Q){var E=Q.stack,B=E.pop();if(rJA.DEBUG)console.log(Q.step,"ROUND[]");E.push(Q.round(B/64)*64)}function ua(A){var Q=A.stack,E=Q.pop(),B=Q.pop();if(rJA.DEBUG)console.log(A.step,"WCVTF[]",E,B);A.cvt[B]=E*A.ppem/A.font.unitsPerEm}function z$(A,Q){var E=Q.stack,B=E.pop(),I=Q.ppem,K=Q.deltaBase+(A-1)*16,J=Q.deltaShift;if(rJA.DEBUG)console.log(Q.step,"DELTAC["+A+"]",B,E);for(var C=0;C<B;C++){var U=E.pop(),Y=E.pop(),H=K+((Y&240)>>4);if(H!==I)continue;var R=(Y&15)-8;if(R>=0)R++;var G=R*J;if(rJA.DEBUG)console.log(Q.step,"DELTACFIX",U,"by",G);Q.cvt[U]+=G}}function pa(A){var Q=A.stack.pop();if(rJA.DEBUG)console.log(A.step,"SROUND[]",Q);A.round=rV;var E;switch(Q&192){case 0:E=0.5;break;case 64:E=1;break;case 128:E=2;break;default:throw new Error("invalid SROUND value")}switch(A.srPeriod=E,Q&48){case 0:A.srPhase=0;break;case 16:A.srPhase=0.25*E;break;case 32:A.srPhase=0.5*E;break;case 48:A.srPhase=0.75*E;break;default:throw new Error("invalid SROUND value")}if(Q&=15,Q===0)A.srThreshold=0;else A.srThreshold=(Q/8-0.5)*E}function ma(A){var Q=A.stack.pop();if(rJA.DEBUG)console.log(A.step,"S45ROUND[]",Q);A.round=rV;var E;switch(Q&192){case 0:E=Math.sqrt(2)/2;break;case 64:E=Math.sqrt(2);break;case 128:E=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(A.srPeriod=E,Q&48){case 0:A.srPhase=0;break;case 16:A.srPhase=0.25*E;break;case 32:A.srPhase=0.5*E;break;case 48:A.srPhase=0.75*E;break;default:throw new Error("invalid S45ROUND value")}if(Q&=15,Q===0)A.srThreshold=0;else A.srThreshold=(Q/8-0.5)*E}function ca(A){if(rJA.DEBUG)console.log(A.step,"ROFF[]");A.round=wr}function da(A){if(rJA.DEBUG)console.log(A.step,"RUTG[]");A.round=Tr}function la(A){if(rJA.DEBUG)console.log(A.step,"RDTG[]");A.round=Sr}function na(A){var Q=A.stack.pop();if(rJA.DEBUG)console.log(A.step,"SCANCTRL[]",Q)}function qV(A,Q){var E=Q.stack,B=E.pop(),I=E.pop(),K=Q.z2[B],J=Q.z1[I];if(rJA.DEBUG)console.log(Q.step,"SDPVTL["+A+"]",B,I);var C,U;if(!A)C=J.x-K.x,U=J.y-K.y;else C=K.y-J.y,U=J.x-K.x;Q.dpv=DC(C,U)}function oa(A){var Q=A.stack,E=Q.pop(),B=0;if(rJA.DEBUG)console.log(A.step,"GETINFO[]",E);if(E&1)B=35;if(E&32)B|=4096;Q.push(B)}function ia(A){var Q=A.stack,E=Q.pop(),B=Q.pop(),I=Q.pop();if(rJA.DEBUG)console.log(A.step,"ROLL[]");Q.push(B),Q.push(E),Q.push(I)}function sa(A){var Q=A.stack,E=Q.pop(),B=Q.pop();if(rJA.DEBUG)console.log(A.step,"MAX[]",E,B);Q.push(Math.max(B,E))}function ra(A){var Q=A.stack,E=Q.pop(),B=Q.pop();if(rJA.DEBUG)console.log(A.step,"MIN[]",E,B);Q.push(Math.min(B,E))}function aa(A){var Q=A.stack.pop();if(rJA.DEBUG)console.log(A.step,"SCANTYPE[]",Q)}function ta(A){var Q=A.stack.pop(),E=A.stack.pop();if(rJA.DEBUG)console.log(A.step,"INSTCTRL[]",Q,E);switch(Q){case 1:A.inhibitGridFit=!!E;return;case 2:A.ignoreCvt=!!E;return;default:throw new Error("invalid INSTCTRL[] selector")}}function lB(A,Q){var{stack:E,prog:B,ip:I}=Q;if(rJA.DEBUG)console.log(Q.step,"PUSHB["+A+"]");for(var K=0;K<A;K++)E.push(B[++I]);Q.ip=I}function nB(A,Q){var{ip:E,prog:B,stack:I}=Q;if(rJA.DEBUG)console.log(Q.ip,"PUSHW["+A+"]");for(var K=0;K<A;K++){var J=B[++E]<<8|B[++E];if(J&32768)J=-((J^65535)+1);I.push(J)}Q.ip=E}function Q0(A,Q,E,B,I,K){var J=K.stack,C=A&&J.pop(),U=J.pop(),Y=K.rp0,H=K.z0[Y],R=K.z1[U],G=K.minDis,O=K.fv,F=K.dpv,q,W,Z,$;if(W=q=F.distance(R,H,!0,!0),Z=W>=0?1:-1,W=Math.abs(W),A){if($=K.cvt[C],B&&Math.abs(W-$)<K.cvCutIn)W=$}if(E&&W<G)W=G;if(B)W=K.round(W);if(O.setRelative(R,H,Z*W,F),O.touch(R),rJA.DEBUG)console.log(K.step,(A?"MIRP[":"MDRP[")+(Q?"M":"m")+(E?">":"_")+(B?"R":"_")+(I===0?"Gr":I===1?"Bl":I===2?"Wh":"")+"]",A?C+"("+K.cvt[C]+","+$+")":"",U,"(d =",q,"->",Z*W,")");if(K.rp1=K.rp0,K.rp2=U,Q)K.rp0=U}function sK(A){this.char=A,this.state={},this.activeState=null}function u$(A,Q,E){this.contextName=E,this.startIndex=A,this.endOffset=Q}function ea(A,Q,E){this.contextName=A,this.openRange=null,this.ranges=[],this.checkStart=Q,this.checkEnd=E}function dE(A,Q){this.context=A,this.index=Q,this.length=A.length,this.current=A[Q],this.backtrack=A.slice(0,Q),this.lookahead=A.slice(Q+1)}function vY(A){this.eventId=A,this.subscribers=[]}function At(A){var Q=this,E=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];if(E.forEach(function(I){Object.defineProperty(Q.events,I,{value:new vY(I)})}),A)E.forEach(function(I){var K=A[I];if(typeof K==="function")Q.events[I].subscribe(K)});var B=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];B.forEach(function(I){Q.events[I].subscribe(Q.updateContextsRanges)})}function xQ(A){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],At.call(this,A)}function sB(A){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(A)}function tV(A){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(A)}function rB(A){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(A)}function VY(A){return/[A-z]/.test(A)}function Qt(A){return/\s/.test(A)}function e1(A){this.font=A,this.features={}}function Q6(A){this.id=A.id,this.tag=A.tag,this.substitution=A.substitution}function MC(A,Q){if(!A)return-1;switch(Q.format){case 1:return Q.glyphs.indexOf(A);case 2:var E=Q.ranges;for(var B=0;B<E.length;B++){var I=E[B];if(A>=I.start&&A<=I.end){var K=A-I.start;return I.index+K}}break;default:return-1}return-1}function Et(A,Q){var E=MC(A,Q.coverage);if(E===-1)return null;return A+Q.deltaGlyphId}function Bt(A,Q){var E=MC(A,Q.coverage);if(E===-1)return null;return Q.substitute[E]}function V$(A,Q){var E=[];for(var B=0;B<A.length;B++){var I=A[B],K=Q.current;K=Array.isArray(K)?K[0]:K;var J=MC(K,I);if(J!==-1)E.push(J)}if(E.length!==A.length)return-1;return E}function It(A,Q){var E=Q.inputCoverage.length+Q.lookaheadCoverage.length+Q.backtrackCoverage.length;if(A.context.length<E)return[];var B=V$(Q.inputCoverage,A);if(B===-1)return[];var I=Q.inputCoverage.length-1;if(A.lookahead.length<Q.lookaheadCoverage.length)return[];var K=A.lookahead.slice(I);while(K.length&&rB(K[0].char))K.shift();var J=new dE(K,0),C=V$(Q.lookaheadCoverage,J),U=[].concat(A.backtrack);U.reverse();while(U.length&&rB(U[0].char))U.shift();if(U.length<Q.backtrackCoverage.length)return[];var Y=new dE(U,0),H=V$(Q.backtrackCoverage,Y),R=B.length===Q.inputCoverage.length&&C.length===Q.lookaheadCoverage.length&&H.length===Q.backtrackCoverage.length,G=[];if(R)for(var O=0;O<Q.lookupRecords.length;O++){var F=Q.lookupRecords[O],q=F.lookupListIndex,W=this.getLookupByIndex(q);for(var Z=0;Z<W.subtables.length;Z++){var $=W.subtables[Z],X=this.getLookupMethod(W,$),N=this.getSubstitutionType(W,$);if(N==="12")for(var M=0;M<B.length;M++){var L=A.get(M),D=X(L);if(D)G.push(D)}}}return G}function Kt(A,Q){var E=A.current,B=MC(E,Q.coverage);if(B===-1)return null;var I,K=Q.ligatureSets[B];for(var J=0;J<K.length;J++){I=K[J];for(var C=0;C<I.components.length;C++){var U=A.lookahead[C],Y=I.components[C];if(U!==Y)break;if(C===I.components.length-1)return I}}return null}function Jt(A,Q){var E=MC(A,Q.coverage);if(E===-1)return null;return Q.sequences[E]}function Ct(A){var Q=A.current,E=A.get(-1);return E===null&&sB(Q)||!sB(E)&&sB(Q)}function Ut(A){var Q=A.get(1);return Q===null||!sB(Q)}function Ht(A){var Q=A.current,E=A.get(-1);return(sB(Q)||rB(Q))&&!sB(E)}function Gt(A){var Q=A.get(1);switch(!0){case Q===null:return!0;case(!sB(Q)&&!rB(Q)):var E=Qt(Q);if(!E)return!0;if(E){var B=!1;if(B=A.lookahead.some(function(I){return sB(I)||rB(I)}),!B)return!0}break;default:return!1}}function Rt(A,Q,E){Q[E].setState(A.tag,A.substitution)}function Ot(A,Q,E){Q[E].setState(A.tag,A.substitution)}function $t(A,Q,E){A.substitution.forEach(function(B,I){var K=Q[E+I];K.setState(A.tag,B)})}function Wt(A,Q,E){var B=Q[E];B.setState(A.tag,A.substitution.ligGlyph);var I=A.substitution.components.length;for(var K=0;K<I;K++)B=Q[E+K+1],B.setState("deleted",!0)}function p$(A,Q,E){if(A instanceof Q6&&NV[A.id])NV[A.id](A,Q,E)}function Xt(A){var Q=[].concat(A.backtrack);for(var E=Q.length-1;E>=0;E--){var B=Q[E],I=tV(B),K=rB(B);if(!I&&!K)return!0;if(I)return!1}return!1}function Ft(A){if(tV(A.current))return!1;for(var Q=0;Q<A.lookahead.length;Q++){var E=A.lookahead[Q],B=rB(E);if(!B)return!0}return!1}function qt(A){var Q=this,E="arab",B=this.featuresTags[E],I=this.tokenizer.getRangeTokens(A);if(I.length===1)return;var K=new dE(I.map(function(C){return C.getState("glyphIndex")}),0),J=new dE(I.map(function(C){return C.char}),0);I.forEach(function(C,U){if(rB(C.char))return;K.setCurrentIndex(U),J.setCurrentIndex(U);var Y=0;if(Xt(J))Y|=1;if(Ft(J))Y|=2;var H;switch(Y){case 1:H="fina";break;case 2:H="init";break;case 3:H="medi";break}if(B.indexOf(H)===-1)return;var R=Q.query.lookupFeature({tag:H,script:E,contextParams:K});if(R instanceof Error)return console.info(R.message);R.forEach(function(G,O){if(G instanceof Q6)p$(G,I,O),K.context[O]=G.substitution})})}function LV(A,Q){var E=A.map(function(B){return B.activeState.value});return new dE(E,Q||0)}function Nt(A){var Q=this,E="arab",B=this.tokenizer.getRangeTokens(A),I=LV(B);I.context.forEach(function(K,J){I.setCurrentIndex(J);var C=Q.query.lookupFeature({tag:"rlig",script:E,contextParams:I});if(C.length)C.forEach(function(U){return p$(U,B,J)}),I=LV(B)})}function Lt(A){var Q=A.current,E=A.get(-1);return E===null&&VY(Q)||!VY(E)&&VY(Q)}function Dt(A){var Q=A.get(1);return Q===null||!VY(Q)}function DV(A,Q){var E=A.map(function(B){return B.activeState.value});return new dE(E,Q||0)}function wt(A){var Q=this,E="latn",B=this.tokenizer.getRangeTokens(A),I=DV(B);I.context.forEach(function(K,J){I.setCurrentIndex(J);var C=Q.query.lookupFeature({tag:"liga",script:E,contextParams:I});if(C.length)C.forEach(function(U){return p$(U,B,J)}),I=DV(B)})}function nE(A){this.baseDir=A||"ltr",this.tokenizer=new xQ,this.featuresTags={}}function T$(A){var Q=this.contextChecks[A+"Check"];return this.tokenizer.registerContextChecker(A,Q.startCheck,Q.endCheck)}function zt(){return T$.call(this,"latinWord"),T$.call(this,"arabicWord"),T$.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function Vt(){var A=this,Q=this.tokenizer.getContextRanges("arabicSentence");Q.forEach(function(E){var B=A.tokenizer.getRangeTokens(E);A.tokenizer.replaceRange(E.startIndex,E.endOffset,B.reverse())})}function m$(){if(this.tokenizer.registeredModifiers.indexOf("glyphIndex")===-1)throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function Tt(){var A=this,Q="arab";if(!this.featuresTags.hasOwnProperty(Q))return;m$.call(this);var E=this.tokenizer.getContextRanges("arabicWord");E.forEach(function(B){qt.call(A,B)})}function St(){var A=this,Q="arab";if(!this.featuresTags.hasOwnProperty(Q))return;var E=this.featuresTags[Q];if(E.indexOf("rlig")===-1)return;m$.call(this);var B=this.tokenizer.getContextRanges("arabicWord");B.forEach(function(I){Nt.call(A,I)})}function Pt(){var A=this,Q="latn";if(!this.featuresTags.hasOwnProperty(Q))return;var E=this.featuresTags[Q];if(E.indexOf("liga")===-1)return;m$.call(this);var B=this.tokenizer.getContextRanges("latinWord");B.forEach(function(I){wt.call(A,I)})}function OQ(A){if(A=A||{},A.tables=A.tables||{},!A.empty)OC(A.familyName,"When creating a new Font object, familyName is required."),OC(A.styleName,"When creating a new Font object, styleName is required."),OC(A.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),OC(A.ascender,"When creating a new Font object, ascender is required."),OC(A.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:A.familyName||" "},fontSubfamily:{en:A.styleName||" "},fullName:{en:A.fullName||A.familyName+" "+A.styleName},postScriptName:{en:A.postScriptName||(A.familyName+A.styleName).replace(/\s/g,"")},designer:{en:A.designer||" "},designerURL:{en:A.designerURL||" "},manufacturer:{en:A.manufacturer||" "},manufacturerURL:{en:A.manufacturerURL||" "},license:{en:A.license||" "},licenseURL:{en:A.licenseURL||" "},version:{en:A.version||"Version 0.1"},description:{en:A.description||" "},copyright:{en:A.copyright||" "},trademark:{en:A.trademark||" "}},this.unitsPerEm=A.unitsPerEm||1000,this.ascender=A.ascender,this.descender=A.descender,this.createdTimestamp=A.createdTimestamp,this.tables=Object.assign(A.tables,{os2:Object.assign({usWeightClass:A.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:A.widthClass||this.usWidthClasses.MEDIUM,fsSelection:A.fsSelection||this.fsSelectionValues.REGULAR},A.tables.os2)});this.supported=!0,this.glyphs=new Z8.GlyphSet(this,A.glyphs||[]),this.encoding=new SV(this),this.position=new NC(this),this.substitution=new t1(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){if(this._hinting)return this._hinting;if(this.outlinesFormat==="truetype")return this._hinting=new iV(this)}})}/*! https://mths.be/codepointat v0.2.0 by @mathias */if(!String.prototype.codePointAt)(function(){var A=function(){try{var E={},B=Object.defineProperty,I=B(E,E,E)&&B}catch(K){}return I}(),Q=function(E){if(this==null)throw TypeError();var B=String(this),I=B.length,K=E?Number(E):0;if(K!=K)K=0;if(K<0||K>=I)return;var J=B.charCodeAt(K),C;if(J>=55296&&J<=56319&&I>K+1){if(C=B.charCodeAt(K+1),C>=56320&&C<=57343)return(J-55296)*1024+C-56320+65536}return J};if(A)A(String.prototype,"codePointAt",{value:Q,configurable:!0,writable:!0});else String.prototype.codePointAt=Q})();var Pi=new y$,_i=new y$,MV=new Uint8Array(30),wV=new Uint16Array(30),ki=new Uint8Array(30),ji=new Uint16Array(30),lJA=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),nJA=new y$,oJA=new Uint8Array(320),iJA=new Uint16Array(16);hi(Pi,_i);zV(MV,wV,4,3);zV(ki,ji,2,1);MV[28]=0;wV[28]=258;aB.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};aB.prototype.addPoint=function(A,Q){if(typeof A==="number"){if(isNaN(this.x1)||isNaN(this.x2))this.x1=A,this.x2=A;if(A<this.x1)this.x1=A;if(A>this.x2)this.x2=A}if(typeof Q==="number"){if(isNaN(this.y1)||isNaN(this.y2))this.y1=Q,this.y2=Q;if(Q<this.y1)this.y1=Q;if(Q>this.y2)this.y2=Q}};aB.prototype.addX=function(A){this.addPoint(A,null)};aB.prototype.addY=function(A){this.addPoint(null,A)};aB.prototype.addBezier=function(A,Q,E,B,I,K,J,C){var U=[A,Q],Y=[E,B],H=[I,K],R=[J,C];this.addPoint(A,Q),this.addPoint(J,C);for(var G=0;G<=1;G++){var O=6*U[G]-12*Y[G]+6*H[G],F=-3*U[G]+9*Y[G]-9*H[G]+3*R[G],q=3*Y[G]-3*U[G];if(F===0){if(O===0)continue;var W=-q/O;if(0<W&&W<1){if(G===0)this.addX(lK(U[G],Y[G],H[G],R[G],W));if(G===1)this.addY(lK(U[G],Y[G],H[G],R[G],W))}continue}var Z=Math.pow(O,2)-4*q*F;if(Z<0)continue;var $=(-O+Math.sqrt(Z))/(2*F);if(0<$&&$<1){if(G===0)this.addX(lK(U[G],Y[G],H[G],R[G],$));if(G===1)this.addY(lK(U[G],Y[G],H[G],R[G],$))}var X=(-O-Math.sqrt(Z))/(2*F);if(0<X&&X<1){if(G===0)this.addX(lK(U[G],Y[G],H[G],R[G],X));if(G===1)this.addY(lK(U[G],Y[G],H[G],R[G],X))}}};aB.prototype.addQuad=function(A,Q,E,B,I,K){var J=A+0.6666666666666666*(E-A),C=Q+0.6666666666666666*(B-Q),U=J+0.3333333333333333*(I-A),Y=C+0.3333333333333333*(K-Q);this.addBezier(A,Q,J,C,U,Y,I,K)};rQ.prototype.moveTo=function(A,Q){this.commands.push({type:"M",x:A,y:Q})};rQ.prototype.lineTo=function(A,Q){this.commands.push({type:"L",x:A,y:Q})};rQ.prototype.curveTo=rQ.prototype.bezierCurveTo=function(A,Q,E,B,I,K){this.commands.push({type:"C",x1:A,y1:Q,x2:E,y2:B,x:I,y:K})};rQ.prototype.quadTo=rQ.prototype.quadraticCurveTo=function(A,Q,E,B){this.commands.push({type:"Q",x1:A,y1:Q,x:E,y:B})};rQ.prototype.close=rQ.prototype.closePath=function(){this.commands.push({type:"Z"})};rQ.prototype.extend=function(A){if(A.commands)A=A.commands;else if(A instanceof aB){var Q=A;this.moveTo(Q.x1,Q.y1),this.lineTo(Q.x2,Q.y1),this.lineTo(Q.x2,Q.y2),this.lineTo(Q.x1,Q.y2),this.close();return}Array.prototype.push.apply(this.commands,A)};rQ.prototype.getBoundingBox=function(){var A=new aB,Q=0,E=0,B=0,I=0;for(var K=0;K<this.commands.length;K++){var J=this.commands[K];switch(J.type){case"M":A.addPoint(J.x,J.y),Q=B=J.x,E=I=J.y;break;case"L":A.addPoint(J.x,J.y),B=J.x,I=J.y;break;case"Q":A.addQuad(B,I,J.x1,J.y1,J.x,J.y),B=J.x,I=J.y;break;case"C":A.addBezier(B,I,J.x1,J.y1,J.x2,J.y2,J.x,J.y),B=J.x,I=J.y;break;case"Z":B=Q,I=E;break;default:throw new Error("Unexpected path command "+J.type)}}if(A.isEmpty())A.addPoint(0,0);return A};rQ.prototype.draw=function(A){A.beginPath();for(var Q=0;Q<this.commands.length;Q+=1){var E=this.commands[Q];if(E.type==="M")A.moveTo(E.x,E.y);else if(E.type==="L")A.lineTo(E.x,E.y);else if(E.type==="C")A.bezierCurveTo(E.x1,E.y1,E.x2,E.y2,E.x,E.y);else if(E.type==="Q")A.quadraticCurveTo(E.x1,E.y1,E.x,E.y);else if(E.type==="Z")A.closePath()}if(this.fill)A.fillStyle=this.fill,A.fill();if(this.stroke)A.strokeStyle=this.stroke,A.lineWidth=this.strokeWidth,A.stroke()};rQ.prototype.toPathData=function(A){A=A!==void 0?A:2;function Q(J){if(Math.round(J)===J)return""+Math.round(J);else return J.toFixed(A)}function E(){var J=arguments,C="";for(var U=0;U<arguments.length;U+=1){var Y=J[U];if(Y>=0&&U>0)C+=" ";C+=Q(Y)}return C}var B="";for(var I=0;I<this.commands.length;I+=1){var K=this.commands[I];if(K.type==="M")B+="M"+E(K.x,K.y);else if(K.type==="L")B+="L"+E(K.x,K.y);else if(K.type==="C")B+="C"+E(K.x1,K.y1,K.x2,K.y2,K.x,K.y);else if(K.type==="Q")B+="Q"+E(K.x1,K.y1,K.x,K.y);else if(K.type==="Z")B+="Z"}return B};rQ.prototype.toSVG=function(A){var Q='<path d="';if(Q+=this.toPathData(A),Q+='"',this.fill&&this.fill!=="black")if(this.fill===null)Q+=' fill="none"';else Q+=' fill="'+this.fill+'"';if(this.stroke)Q+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"';return Q+="/>",Q};rQ.prototype.toDOMElement=function(A){var Q=this.toPathData(A),E=document.createElementNS("http://www.w3.org/2000/svg","path");return E.setAttribute("d",Q),E};var O0={fail:VV,argument:pz,assert:pz},mz=32768,cz=2147483648,oK={},sA={},X0={};sA.BYTE=function(A){return O0.argument(A>=0&&A<=255,"Byte value should be between 0 and 255."),[A]};X0.BYTE=lE(1);sA.CHAR=function(A){return[A.charCodeAt(0)]};X0.CHAR=lE(1);sA.CHARARRAY=function(A){if(typeof A==="undefined")A="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name.");var Q=[];for(var E=0;E<A.length;E+=1)Q[E]=A.charCodeAt(E);return Q};X0.CHARARRAY=function(A){if(typeof A==="undefined")return 0;return A.length};sA.USHORT=function(A){return[A>>8&255,A&255]};X0.USHORT=lE(2);sA.SHORT=function(A){if(A>=mz)A=-(2*mz-A);return[A>>8&255,A&255]};X0.SHORT=lE(2);sA.UINT24=function(A){return[A>>16&255,A>>8&255,A&255]};X0.UINT24=lE(3);sA.ULONG=function(A){return[A>>24&255,A>>16&255,A>>8&255,A&255]};X0.ULONG=lE(4);sA.LONG=function(A){if(A>=cz)A=-(2*cz-A);return[A>>24&255,A>>16&255,A>>8&255,A&255]};X0.LONG=lE(4);sA.FIXED=sA.ULONG;X0.FIXED=X0.ULONG;sA.FWORD=sA.SHORT;X0.FWORD=X0.SHORT;sA.UFWORD=sA.USHORT;X0.UFWORD=X0.USHORT;sA.LONGDATETIME=function(A){return[0,0,0,0,A>>24&255,A>>16&255,A>>8&255,A&255]};X0.LONGDATETIME=lE(8);sA.TAG=function(A){return O0.argument(A.length===4,"Tag should be exactly 4 ASCII characters."),[A.charCodeAt(0),A.charCodeAt(1),A.charCodeAt(2),A.charCodeAt(3)]};X0.TAG=lE(4);sA.Card8=sA.BYTE;X0.Card8=X0.BYTE;sA.Card16=sA.USHORT;X0.Card16=X0.USHORT;sA.OffSize=sA.BYTE;X0.OffSize=X0.BYTE;sA.SID=sA.USHORT;X0.SID=X0.USHORT;sA.NUMBER=function(A){if(A>=-107&&A<=107)return[A+139];else if(A>=108&&A<=1131)return A=A-108,[(A>>8)+247,A&255];else if(A>=-1131&&A<=-108)return A=-A-108,[(A>>8)+251,A&255];else if(A>=-32768&&A<=32767)return sA.NUMBER16(A);else return sA.NUMBER32(A)};X0.NUMBER=function(A){return sA.NUMBER(A).length};sA.NUMBER16=function(A){return[28,A>>8&255,A&255]};X0.NUMBER16=lE(3);sA.NUMBER32=function(A){return[29,A>>24&255,A>>16&255,A>>8&255,A&255]};X0.NUMBER32=lE(5);sA.REAL=function(A){var Q=A.toString(),E=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(Q);if(E){var B=parseFloat("1e"+((E[2]?+E[2]:0)+E[1].length));Q=(Math.round(A*B)/B).toString()}var I="";for(var K=0,J=Q.length;K<J;K+=1){var C=Q[K];if(C==="e")I+=Q[++K]==="-"?"c":"b";else if(C===".")I+="a";else if(C==="-")I+="e";else I+=C}I+=I.length&1?"f":"ff";var U=[30];for(var Y=0,H=I.length;Y<H;Y+=2)U.push(parseInt(I.substr(Y,2),16));return U};X0.REAL=function(A){return sA.REAL(A).length};sA.NAME=sA.CHARARRAY;X0.NAME=X0.CHARARRAY;sA.STRING=sA.CHARARRAY;X0.STRING=X0.CHARARRAY;oK.UTF8=function(A,Q,E){var B=[],I=E;for(var K=0;K<I;K++,Q+=1)B[K]=A.getUint8(Q);return String.fromCharCode.apply(null,B)};oK.UTF16=function(A,Q,E){var B=[],I=E/2;for(var K=0;K<I;K++,Q+=2)B[K]=A.getUint16(Q);return String.fromCharCode.apply(null,B)};sA.UTF16=function(A){var Q=[];for(var E=0;E<A.length;E+=1){var B=A.charCodeAt(E);Q[Q.length]=B>>8&255,Q[Q.length]=B&255}return Q};X0.UTF16=function(A){return A.length*2};var S$={"x-mac-croatian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\u0160\u2122\xB4\xA8\u2260\u017D\xD8\u221E\xB1\u2264\u2265\u2206\xB5\u2202\u2211\u220F\u0161\u222B\xAA\xBA\u03A9\u017E\xF8"+"\xBF\xA1\xAC\u221A\u0192\u2248\u0106\xAB\u010C\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u0110\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\uF8FF\xA9\u2044\u20AC\u2039\u203A\xC6\xBB\u2013\xB7\u201A\u201E\u2030\xC2\u0107\xC1\u010D\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u0111\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u03C0\xCB\u02DA\xB8\xCA\xE6\u02C7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u2020\xB0\u0490\xA3\xA7\u2022\xB6\u0406\xAE\xA9\u2122\u0402\u0452\u2260\u0403\u0453\u221E\xB1\u2264\u2265\u0456\xB5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040A\u045A"+"\u0458\u0405\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\u040B\u045B\u040C\u045C\u0455\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u201E\u040E\u045E\u040F\u045F\u2116\u0401\u0451\u044F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E","x-mac-gaelic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u1E02\xB1\u2264\u2265\u1E03\u010A\u010B\u1E0A\u1E0B\u1E1E\u1E1F\u0120\u0121\u1E40\xE6\xF8"+"\u1E41\u1E56\u1E57\u027C\u0192\u017F\u1E60\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\u1E61\u1E9B\xFF\u0178\u1E6A\u20AC\u2039\u203A\u0176\u0177\u1E6B\xB7\u1EF2\u1EF3\u204A\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u2663\xD2\xDA\xDB\xD9\u0131\xDD\xFD\u0174\u0175\u1E84\u1E85\u1E80\u1E81\u1E82\u1E83","x-mac-greek":"\xC4\xB9\xB2\xC9\xB3\xD6\xDC\u0385\xE0\xE2\xE4\u0384\xA8\xE7\xE9\xE8\xEA\xEB\xA3\u2122\xEE\xEF\u2022\xBD\u2030\xF4\xF6\xA6\u20AC\xF9\xFB\xFC\u2020\u0393\u0394\u0398\u039B\u039E\u03A0\xDF\xAE\xA9\u03A3\u03AA\xA7\u2260\xB0\xB7\u0391\xB1\u2264\u2265\xA5\u0392\u0395\u0396\u0397\u0399\u039A\u039C\u03A6\u03AB\u03A8\u03A9"+"\u03AC\u039D\xAC\u039F\u03A1\u2248\u03A4\xAB\xBB\u2026\xA0\u03A5\u03A7\u0386\u0388\u0153\u2013\u2015\u201C\u201D\u2018\u2019\xF7\u0389\u038A\u038C\u038E\u03AD\u03AE\u03AF\u03CC\u038F\u03CD\u03B1\u03B2\u03C8\u03B4\u03B5\u03C6\u03B3\u03B7\u03B9\u03BE\u03BA\u03BB\u03BC\u03BD\u03BF\u03C0\u03CE\u03C1\u03C3\u03C4\u03B8\u03C9\u03C2\u03C7\u03C5\u03B6\u03CA\u03CB\u0390\u03B0\xAD","x-mac-icelandic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\xDD\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8"+"\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\xD0\xF0\xDE\xFE\xFD\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140A\u140B\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144E\u144F\u1450\u1451\u1455\u1456\u1466\u146D\u146E\u146F\u1470\u1472\u1473\u1483\u148B\u148C\u148D\u148E\u1490\u1491\xB0\u14A1\u14A5\u14A6\u2022\xB6\u14A7\xAE\xA9\u2122\u14A8\u14AA\u14AB\u14BB\u14C2\u14C3\u14C4\u14C5\u14C7\u14C8\u14D0\u14EF\u14F0\u14F1\u14F2\u14F4\u14F5\u1505\u14D5\u14D6\u14D7"+"\u14D8\u14DA\u14DB\u14EA\u1528\u1529\u152A\u152B\u152D\u2026\xA0\u152E\u153E\u1555\u1556\u1557\u2013\u2014\u201C\u201D\u2018\u2019\u1558\u1559\u155A\u155D\u1546\u1547\u1548\u1549\u154B\u154C\u1550\u157F\u1580\u1581\u1582\u1583\u1584\u1585\u158F\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15A0\u15A1\u15A2\u15A3\u15A4\u15A5\u15A6\u157C\u0141\u0142","x-mac-ce":"\xC4\u0100\u0101\xC9\u0104\xD6\xDC\xE1\u0105\u010C\xE4\u010D\u0106\u0107\xE9\u0179\u017A\u010E\xED\u010F\u0112\u0113\u0116\xF3\u0117\xF4\xF6\xF5\xFA\u011A\u011B\xFC\u2020\xB0\u0118\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\u0119\xA8\u2260\u0123\u012E\u012F\u012A\u2264\u2265\u012B\u0136\u2202\u2211\u0142\u013B\u013C\u013D\u013E\u0139\u013A\u0145"+"\u0146\u0143\xAC\u221A\u0144\u0147\u2206\xAB\xBB\u2026\xA0\u0148\u0150\xD5\u0151\u014C\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\u014D\u0154\u0155\u0158\u2039\u203A\u0159\u0156\u0157\u0160\u201A\u201E\u0161\u015A\u015B\xC1\u0164\u0165\xCD\u017D\u017E\u016A\xD3\xD4\u016B\u016E\xDA\u016F\u0170\u0171\u0172\u0173\xDD\xFD\u0137\u017B\u0141\u017C\u0122\u02C7",macintosh:"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8"+"\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\uFB01\uFB02\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-romanian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\u0102\u0218\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\u0103\u0219"+"\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\u021A\u021B\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-turkish":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8"+"\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u011E\u011F\u0130\u0131\u015E\u015F\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\uF8A0\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7"};oK.MACSTRING=function(A,Q,E,B){var I=S$[B];if(I===void 0)return;var K="";for(var J=0;J<E;J++){var C=A.getUint8(Q+J);if(C<=127)K+=String.fromCharCode(C);else K+=I[C&127]}return K};var NY=typeof WeakMap==="function"&&/*@__PURE__*/new WeakMap,LY,vi=function(A){if(!LY){LY={};for(var Q in S$)LY[Q]=new String(Q)}var E=LY[A];if(E===void 0)return;if(NY){var B=NY.get(E);if(B!==void 0)return B}var I=S$[A];if(I===void 0)return;var K={};for(var J=0;J<I.length;J++)K[I.charCodeAt(J)]=J+128;if(NY)NY.set(E,K);return K};sA.MACSTRING=function(A,Q){var E=vi(Q);if(E===void 0)return;var B=[];for(var I=0;I<A.length;I++){var K=A.charCodeAt(I);if(K>=128){if(K=E[K],K===void 0)return}B[I]=K}return B};X0.MACSTRING=function(A,Q){var E=sA.MACSTRING(A,Q);if(E!==void 0)return E.length;else return 0};sA.VARDELTAS=function(A){var Q=0,E=[];while(Q<A.length){var B=A[Q];if(B===0)Q=yi(A,Q,E);else if(B>=-128&&B<=127)Q=xi(A,Q,E);else Q=gi(A,Q,E)}return E};sA.INDEX=function(A){var Q=1,E=[Q],B=[];for(var I=0;I<A.length;I+=1){var K=sA.OBJECT(A[I]);Array.prototype.push.apply(B,K),Q+=K.length,E.push(Q)}if(B.length===0)return[0,0];var J=[],C=1+Math.floor(Math.log(Q)/Math.log(2))/8|0,U=[void 0,sA.BYTE,sA.USHORT,sA.UINT24,sA.ULONG][C];for(var Y=0;Y<E.length;Y+=1){var H=U(E[Y]);Array.prototype.push.apply(J,H)}return Array.prototype.concat(sA.Card16(A.length),sA.OffSize(C),J,B)};X0.INDEX=function(A){return sA.INDEX(A).length};sA.DICT=function(A){var Q=[],E=Object.keys(A),B=E.length;for(var I=0;I<B;I+=1){var K=parseInt(E[I],0),J=A[K];Q=Q.concat(sA.OPERAND(J.value,J.type)),Q=Q.concat(sA.OPERATOR(K))}return Q};X0.DICT=function(A){return sA.DICT(A).length};sA.OPERATOR=function(A){if(A<1200)return[A];else return[12,A-1200]};sA.OPERAND=function(A,Q){var E=[];if(Array.isArray(Q))for(var B=0;B<Q.length;B+=1)O0.argument(A.length===Q.length,"Not enough arguments given for type"+Q),E=E.concat(sA.OPERAND(A[B],Q[B]));else if(Q==="SID")E=E.concat(sA.NUMBER(A));else if(Q==="offset")E=E.concat(sA.NUMBER32(A));else if(Q==="number")E=E.concat(sA.NUMBER(A));else if(Q==="real")E=E.concat(sA.REAL(A));else throw new Error("Unknown operand type "+Q);return E};sA.OP=sA.BYTE;X0.OP=X0.BYTE;var DY=typeof WeakMap==="function"&&/*@__PURE__*/new WeakMap;sA.CHARSTRING=function(A){if(DY){var Q=DY.get(A);if(Q!==void 0)return Q}var E=[],B=A.length;for(var I=0;I<B;I+=1){var K=A[I];E=E.concat(sA[K.type](K.value))}if(DY)DY.set(A,E);return E};X0.CHARSTRING=function(A){return sA.CHARSTRING(A).length};sA.OBJECT=function(A){var Q=sA[A.type];return O0.argument(Q!==void 0,"No encoding function for type "+A.type),Q(A.value)};X0.OBJECT=function(A){var Q=X0[A.type];return O0.argument(Q!==void 0,"No sizeOf function for type "+A.type),Q(A.value)};sA.TABLE=function(A){var Q=[],E=A.fields.length,B=[],I=[];for(var K=0;K<E;K+=1){var J=A.fields[K],C=sA[J.type];O0.argument(C!==void 0,"No encoding function for field type "+J.type+" ("+J.name+")");var U=A[J.name];if(U===void 0)U=J.value;var Y=C(U);if(J.type==="TABLE")I.push(Q.length),Q=Q.concat([0,0]),B.push(Y);else Q=Q.concat(Y)}for(var H=0;H<B.length;H+=1){var R=I[H],G=Q.length;O0.argument(G<65536,"Table "+A.tableName+" too big."),Q[R]=G>>8,Q[R+1]=G&255,Q=Q.concat(B[H])}return Q};X0.TABLE=function(A){var Q=0,E=A.fields.length;for(var B=0;B<E;B+=1){var I=A.fields[B],K=X0[I.type];O0.argument(K!==void 0,"No sizeOf function for field type "+I.type+" ("+I.name+")");var J=A[I.name];if(J===void 0)J=I.value;if(Q+=K(J),I.type==="TABLE")Q+=2}return Q};sA.RECORD=sA.TABLE;X0.RECORD=X0.TABLE;sA.LITERAL=function(A){return A};X0.LITERAL=function(A){return A.length};I1.prototype.encode=function(){return sA.TABLE(this)};I1.prototype.sizeOf=function(){return X0.TABLE(this)};TY.prototype=Object.create(I1.prototype);TY.prototype.constructor=TY;SY.prototype=Object.create(I1.prototype);SY.prototype.constructor=SY;PY.prototype=Object.create(I1.prototype);PY.prototype.constructor=PY;_Y.prototype=Object.create(I1.prototype);_Y.prototype.constructor=_Y;var A0={Table:I1,Record:I1,Coverage:TY,ScriptList:SY,FeatureList:PY,LookupList:_Y,ushortList:WC,tableList:_$,recordList:XC},ci={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};VA.prototype.parseByte=function(){var A=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,A};VA.prototype.parseChar=function(){var A=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,A};VA.prototype.parseCard8=VA.prototype.parseByte;VA.prototype.parseUShort=function(){var A=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,A};VA.prototype.parseCard16=VA.prototype.parseUShort;VA.prototype.parseSID=VA.prototype.parseUShort;VA.prototype.parseOffset16=VA.prototype.parseUShort;VA.prototype.parseShort=function(){var A=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,A};VA.prototype.parseF2Dot14=function(){var A=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,A};VA.prototype.parseULong=function(){var A=x$(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,A};VA.prototype.parseOffset32=VA.prototype.parseULong;VA.prototype.parseFixed=function(){var A=TV(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,A};VA.prototype.parseString=function(A){var Q=this.data,E=this.offset+this.relativeOffset,B="";this.relativeOffset+=A;for(var I=0;I<A;I++)B+=String.fromCharCode(Q.getUint8(E+I));return B};VA.prototype.parseTag=function(){return this.parseString(4)};VA.prototype.parseLongDateTime=function(){var A=x$(this.data,this.offset+this.relativeOffset+4);return A-=2082844800,this.relativeOffset+=8,A};VA.prototype.parseVersion=function(A){var Q=kY(this.data,this.offset+this.relativeOffset),E=kY(this.data,this.offset+this.relativeOffset+2);if(this.relativeOffset+=4,A===void 0)A=4096;return Q+E/A/10};VA.prototype.skip=function(A,Q){if(Q===void 0)Q=1;this.relativeOffset+=ci[A]*Q};VA.prototype.parseULongList=function(A){if(A===void 0)A=this.parseULong();var Q=new Array(A),E=this.data,B=this.offset+this.relativeOffset;for(var I=0;I<A;I++)Q[I]=E.getUint32(B),B+=4;return this.relativeOffset+=A*4,Q};VA.prototype.parseOffset16List=VA.prototype.parseUShortList=function(A){if(A===void 0)A=this.parseUShort();var Q=new Array(A),E=this.data,B=this.offset+this.relativeOffset;for(var I=0;I<A;I++)Q[I]=E.getUint16(B),B+=2;return this.relativeOffset+=A*2,Q};VA.prototype.parseShortList=function(A){var Q=new Array(A),E=this.data,B=this.offset+this.relativeOffset;for(var I=0;I<A;I++)Q[I]=E.getInt16(B),B+=2;return this.relativeOffset+=A*2,Q};VA.prototype.parseByteList=function(A){var Q=new Array(A),E=this.data,B=this.offset+this.relativeOffset;for(var I=0;I<A;I++)Q[I]=E.getUint8(B++);return this.relativeOffset+=A,Q};VA.prototype.parseList=function(A,Q){if(!Q)Q=A,A=this.parseUShort();var E=new Array(A);for(var B=0;B<A;B++)E[B]=Q.call(this);return E};VA.prototype.parseList32=function(A,Q){if(!Q)Q=A,A=this.parseULong();var E=new Array(A);for(var B=0;B<A;B++)E[B]=Q.call(this);return E};VA.prototype.parseRecordList=function(A,Q){if(!Q)Q=A,A=this.parseUShort();var E=new Array(A),B=Object.keys(Q);for(var I=0;I<A;I++){var K={};for(var J=0;J<B.length;J++){var C=B[J],U=Q[C];K[C]=U.call(this)}E[I]=K}return E};VA.prototype.parseRecordList32=function(A,Q){if(!Q)Q=A,A=this.parseULong();var E=new Array(A),B=Object.keys(Q);for(var I=0;I<A;I++){var K={};for(var J=0;J<B.length;J++){var C=B[J],U=Q[C];K[C]=U.call(this)}E[I]=K}return E};VA.prototype.parseStruct=function(A){if(typeof A==="function")return A.call(this);else{var Q=Object.keys(A),E={};for(var B=0;B<Q.length;B++){var I=Q[B],K=A[I];E[I]=K.call(this)}return E}};VA.prototype.parseValueRecord=function(A){if(A===void 0)A=this.parseUShort();if(A===0)return;var Q={};if(A&1)Q.xPlacement=this.parseShort();if(A&2)Q.yPlacement=this.parseShort();if(A&4)Q.xAdvance=this.parseShort();if(A&8)Q.yAdvance=this.parseShort();if(A&16)Q.xPlaDevice=void 0,this.parseShort();if(A&32)Q.yPlaDevice=void 0,this.parseShort();if(A&64)Q.xAdvDevice=void 0,this.parseShort();if(A&128)Q.yAdvDevice=void 0,this.parseShort();return Q};VA.prototype.parseValueRecordList=function(){var A=this.parseUShort(),Q=this.parseUShort(),E=new Array(Q);for(var B=0;B<Q;B++)E[B]=this.parseValueRecord(A);return E};VA.prototype.parsePointer=function(A){var Q=this.parseOffset16();if(Q>0)return new VA(this.data,this.offset+Q).parseStruct(A);return};VA.prototype.parsePointer32=function(A){var Q=this.parseOffset32();if(Q>0)return new VA(this.data,this.offset+Q).parseStruct(A);return};VA.prototype.parseListOfLists=function(A){var Q=this.parseOffset16List(),E=Q.length,B=this.relativeOffset,I=new Array(E);for(var K=0;K<E;K++){var J=Q[K];if(J===0){I[K]=void 0;continue}if(this.relativeOffset=J,A){var C=this.parseOffset16List(),U=new Array(C.length);for(var Y=0;Y<C.length;Y++)this.relativeOffset=J+C[Y],U[Y]=A.call(this);I[K]=U}else I[K]=this.parseUShortList()}return this.relativeOffset=B,I};VA.prototype.parseCoverage=function(){var A=this.offset+this.relativeOffset,Q=this.parseUShort(),E=this.parseUShort();if(Q===1)return{format:1,glyphs:this.parseUShortList(E)};else if(Q===2){var B=new Array(E);for(var I=0;I<E;I++)B[I]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:B}}throw new Error("0x"+A.toString(16)+": Coverage format must be 1 or 2.")};VA.prototype.parseClassDef=function(){var A=this.offset+this.relativeOffset,Q=this.parseUShort();if(Q===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};else if(Q===2)return{format:2,ranges:this.parseRecordList({start:VA.uShort,end:VA.uShort,classId:VA.uShort})};throw new Error("0x"+A.toString(16)+": ClassDef format must be 1 or 2.")};VA.list=function(A,Q){return function(){return this.parseList(A,Q)}};VA.list32=function(A,Q){return function(){return this.parseList32(A,Q)}};VA.recordList=function(A,Q){return function(){return this.parseRecordList(A,Q)}};VA.recordList32=function(A,Q){return function(){return this.parseRecordList32(A,Q)}};VA.pointer=function(A){return function(){return this.parsePointer(A)}};VA.pointer32=function(A){return function(){return this.parsePointer32(A)}};VA.tag=VA.prototype.parseTag;VA.byte=VA.prototype.parseByte;VA.uShort=VA.offset16=VA.prototype.parseUShort;VA.uShortList=VA.prototype.parseUShortList;VA.uLong=VA.offset32=VA.prototype.parseULong;VA.uLongList=VA.prototype.parseULongList;VA.struct=VA.prototype.parseStruct;VA.coverage=VA.prototype.parseCoverage;VA.classDef=VA.prototype.parseClassDef;var lz={reserved:VA.uShort,reqFeatureIndex:VA.uShort,featureIndexes:VA.uShortList};VA.prototype.parseScriptList=function(){return this.parsePointer(VA.recordList({tag:VA.tag,script:VA.pointer({defaultLangSys:VA.pointer(lz),langSysRecords:VA.recordList({tag:VA.tag,langSys:VA.pointer(lz)})})}))||[]};VA.prototype.parseFeatureList=function(){return this.parsePointer(VA.recordList({tag:VA.tag,feature:VA.pointer({featureParams:VA.offset16,lookupListIndexes:VA.uShortList})}))||[]};VA.prototype.parseLookupList=function(A){return this.parsePointer(VA.list(VA.pointer(function(){var Q=this.parseUShort();O0.argument(1<=Q&&Q<=9,"GPOS/GSUB lookup type "+Q+" unknown.");var E=this.parseUShort(),B=E&16;return{lookupType:Q,lookupFlag:E,subtables:this.parseList(VA.pointer(A[Q])),markFilteringSet:B?this.parseUShort():void 0}})))||[]};VA.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var A=this.parseUShort(),Q=this.parseUShort();O0.argument(A===1&&Q<1,"GPOS/GSUB feature variations table unknown.");var E=this.parseRecordList32({conditionSetOffset:VA.offset32,featureTableSubstitutionOffset:VA.offset32});return E})||[]};var T0={getByte:dz,getCard8:dz,getUShort:kY,getCard16:kY,getShort:bi,getULong:x$,getFixed:TV,getTag:fi,getOffset:ui,getBytes:pi,bytesToString:mi,Parser:VA},ri={parse:ni,make:si},zY=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],ai=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],ti=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],A6=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];SV.prototype.charToGlyphIndex=function(A){var Q=A.codePointAt(0),E=this.font.glyphs;if(E)for(var B=0;B<E.length;B+=1){var I=E.get(B);for(var K=0;K<I.unicodes.length;K+=1)if(I.unicodes[K]===Q)return B}return null};ei.prototype.charToGlyphIndex=function(A){return this.cmap.glyphIndexMap[A.codePointAt(0)]||0};jY.prototype.charToGlyphIndex=function(A){var Q=A.codePointAt(0),E=this.encoding[Q];return this.charset.indexOf(E)};PV.prototype.nameToGlyphIndex=function(A){return this.names.indexOf(A)};PV.prototype.glyphIndexToName=function(A){return this.names[A]};var eI={line:As};DE.prototype.bindConstructorValues=function(A){if(this.index=A.index||0,this.name=A.name||null,this.unicode=A.unicode||void 0,this.unicodes=A.unicodes||A.unicode!==void 0?[A.unicode]:[],"xMin"in A)this.xMin=A.xMin;if("yMin"in A)this.yMin=A.yMin;if("xMax"in A)this.xMax=A.xMax;if("yMax"in A)this.yMax=A.yMax;if("advanceWidth"in A)this.advanceWidth=A.advanceWidth;Object.defineProperty(this,"path",Qs(this,A.path))};DE.prototype.addUnicode=function(A){if(this.unicodes.length===0)this.unicode=A;this.unicodes.push(A)};DE.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};DE.prototype.getPath=function(A,Q,E,B,I){A=A!==void 0?A:0,Q=Q!==void 0?Q:0,E=E!==void 0?E:72;var K,J;if(!B)B={};var{xScale:C,yScale:U}=B;if(B.hinting&&I&&I.hinting)J=this.path&&I.hinting.exec(this,E);if(J)K=I.hinting.getCommands(J),A=Math.round(A),Q=Math.round(Q),C=U=1;else{K=this.path.commands;var Y=1/(this.path.unitsPerEm||1000)*E;if(C===void 0)C=Y;if(U===void 0)U=Y}var H=new rQ;for(var R=0;R<K.length;R+=1){var G=K[R];if(G.type==="M")H.moveTo(A+G.x*C,Q+-G.y*U);else if(G.type==="L")H.lineTo(A+G.x*C,Q+-G.y*U);else if(G.type==="Q")H.quadraticCurveTo(A+G.x1*C,Q+-G.y1*U,A+G.x*C,Q+-G.y*U);else if(G.type==="C")H.curveTo(A+G.x1*C,Q+-G.y1*U,A+G.x2*C,Q+-G.y2*U,A+G.x*C,Q+-G.y*U);else if(G.type==="Z")H.closePath()}return H};DE.prototype.getContours=function(){if(this.points===void 0)return[];var A=[],Q=[];for(var E=0;E<this.points.length;E+=1){var B=this.points[E];if(Q.push(B),B.lastPointOfContour)A.push(Q),Q=[]}return O0.argument(Q.length===0,"There are still points left in the current contour."),A};DE.prototype.getMetrics=function(){var A=this.path.commands,Q=[],E=[];for(var B=0;B<A.length;B+=1){var I=A[B];if(I.type!=="Z")Q.push(I.x),E.push(I.y);if(I.type==="Q"||I.type==="C")Q.push(I.x1),E.push(I.y1);if(I.type==="C")Q.push(I.x2),E.push(I.y2)}var K={xMin:Math.min.apply(null,Q),yMin:Math.min.apply(null,E),xMax:Math.max.apply(null,Q),yMax:Math.max.apply(null,E),leftSideBearing:this.leftSideBearing};if(!isFinite(K.xMin))K.xMin=0;if(!isFinite(K.xMax))K.xMax=this.advanceWidth;if(!isFinite(K.yMin))K.yMin=0;if(!isFinite(K.yMax))K.yMax=0;return K.rightSideBearing=this.advanceWidth-K.leftSideBearing-(K.xMax-K.xMin),K};DE.prototype.draw=function(A,Q,E,B,I){this.getPath(Q,E,B,I).draw(A)};DE.prototype.drawPoints=function(A,Q,E,B){function I(R,G,O,F){A.beginPath();for(var q=0;q<R.length;q+=1)A.moveTo(G+R[q].x*F,O+R[q].y*F),A.arc(G+R[q].x*F,O+R[q].y*F,2,0,Math.PI*2,!1);A.closePath(),A.fill()}Q=Q!==void 0?Q:0,E=E!==void 0?E:0,B=B!==void 0?B:24;var K=1/this.path.unitsPerEm*B,J=[],C=[],U=this.path;for(var Y=0;Y<U.commands.length;Y+=1){var H=U.commands[Y];if(H.x!==void 0)J.push({x:H.x,y:-H.y});if(H.x1!==void 0)C.push({x:H.x1,y:-H.y1});if(H.x2!==void 0)C.push({x:H.x2,y:-H.y2})}A.fillStyle="blue",I(J,Q,E,K),A.fillStyle="red",I(C,Q,E,K)};DE.prototype.drawMetrics=function(A,Q,E,B){var I;Q=Q!==void 0?Q:0,E=E!==void 0?E:0,B=B!==void 0?B:24,I=1/this.path.unitsPerEm*B,A.lineWidth=1,A.strokeStyle="black",eI.line(A,Q,-1e4,Q,1e4),eI.line(A,-1e4,E,1e4,E);var K=this.xMin||0,J=this.yMin||0,C=this.xMax||0,U=this.yMax||0,Y=this.advanceWidth||0;A.strokeStyle="blue",eI.line(A,Q+K*I,-1e4,Q+K*I,1e4),eI.line(A,Q+C*I,-1e4,Q+C*I,1e4),eI.line(A,-1e4,E+-J*I,1e4,E+-J*I),eI.line(A,-1e4,E+-U*I,1e4,E+-U*I),A.strokeStyle="green",eI.line(A,Q+Y*I,-1e4,Q+Y*I,1e4)};g$.prototype.get=function(A){if(this.glyphs[A]===void 0){if(this.font._push(A),typeof this.glyphs[A]==="function")this.glyphs[A]=this.glyphs[A]();var Q=this.glyphs[A],E=this.font._IndexToUnicodeMap[A];if(E)for(var B=0;B<E.unicodes.length;B++)Q.addUnicode(E.unicodes[B]);if(this.font.cffEncoding)if(this.font.isCIDFont)Q.name="gid"+A;else Q.name=this.font.cffEncoding.charset[A];else if(this.font.glyphNames.names)Q.name=this.font.glyphNames.glyphIndexToName(A);this.glyphs[A].advanceWidth=this.font._hmtxTableData[A].advanceWidth,this.glyphs[A].leftSideBearing=this.font._hmtxTableData[A].leftSideBearing}else if(typeof this.glyphs[A]==="function")this.glyphs[A]=this.glyphs[A]();return this.glyphs[A]};g$.prototype.push=function(A,Q){this.glyphs[A]=Q,this.length++};var Z8={GlyphSet:g$,glyphLoader:Es,ttfGlyphLoader:Bs,cffGlyphLoader:Is},hV=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[0.001,0,0,0.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],vV=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}],zs={parse:$s,make:ws},Ss={parse:Vs,make:Ts},ks={parse:Ps,make:_s},xs={parse:vs,make:ys},fs={make:gs,parse:bs},ms={parse:us,make:ps},bV=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],fV={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},cs={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},uV={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},j$="utf-16",ls={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},ns={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"},rs={parse:os,make:ss},h$=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66000,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],tz={parse:ts,make:es,unicodeRanges:h$,getUnicodeRange:as},Er={parse:Ar,make:Qr},cE=new Array(9);cE[1]=function A(){var Q=this.offset+this.relativeOffset,E=this.parseUShort();if(E===1)return{substFormat:1,coverage:this.parsePointer(VA.coverage),deltaGlyphId:this.parseUShort()};else if(E===2)return{substFormat:2,coverage:this.parsePointer(VA.coverage),substitute:this.parseOffset16List()};O0.assert(!1,"0x"+Q.toString(16)+": lookup type 1 format must be 1 or 2.")};cE[2]=function A(){var Q=this.parseUShort();return O0.argument(Q===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:Q,coverage:this.parsePointer(VA.coverage),sequences:this.parseListOfLists()}};cE[3]=function A(){var Q=this.parseUShort();return O0.argument(Q===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:Q,coverage:this.parsePointer(VA.coverage),alternateSets:this.parseListOfLists()}};cE[4]=function A(){var Q=this.parseUShort();return O0.argument(Q===1,"GSUB ligature table identifier-format must be 1"),{substFormat:Q,coverage:this.parsePointer(VA.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var nK={sequenceIndex:VA.uShort,lookupListIndex:VA.uShort};cE[5]=function A(){var Q=this.offset+this.relativeOffset,E=this.parseUShort();if(E===1)return{substFormat:E,coverage:this.parsePointer(VA.coverage),ruleSets:this.parseListOfLists(function(){var K=this.parseUShort(),J=this.parseUShort();return{input:this.parseUShortList(K-1),lookupRecords:this.parseRecordList(J,nK)}})};else if(E===2)return{substFormat:E,coverage:this.parsePointer(VA.coverage),classDef:this.parsePointer(VA.classDef),classSets:this.parseListOfLists(function(){var K=this.parseUShort(),J=this.parseUShort();return{classes:this.parseUShortList(K-1),lookupRecords:this.parseRecordList(J,nK)}})};else if(E===3){var B=this.parseUShort(),I=this.parseUShort();return{substFormat:E,coverages:this.parseList(B,VA.pointer(VA.coverage)),lookupRecords:this.parseRecordList(I,nK)}}O0.assert(!1,"0x"+Q.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};cE[6]=function A(){var Q=this.offset+this.relativeOffset,E=this.parseUShort();if(E===1)return{substFormat:1,coverage:this.parsePointer(VA.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(nK)}})};else if(E===2)return{substFormat:2,coverage:this.parsePointer(VA.coverage),backtrackClassDef:this.parsePointer(VA.classDef),inputClassDef:this.parsePointer(VA.classDef),lookaheadClassDef:this.parsePointer(VA.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(nK)}})};else if(E===3)return{substFormat:3,backtrackCoverage:this.parseList(VA.pointer(VA.coverage)),inputCoverage:this.parseList(VA.pointer(VA.coverage)),lookaheadCoverage:this.parseList(VA.pointer(VA.coverage)),lookupRecords:this.parseRecordList(nK)};O0.assert(!1,"0x"+Q.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};cE[7]=function A(){var Q=this.parseUShort();O0.argument(Q===1,"GSUB Extension Substitution subtable identifier-format must be 1");var E=this.parseUShort(),B=new VA(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:E,extension:cE[E].call(B)}};cE[8]=function A(){var Q=this.parseUShort();return O0.argument(Q===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:Q,coverage:this.parsePointer(VA.coverage),backtrackCoverage:this.parseList(VA.pointer(VA.coverage)),lookaheadCoverage:this.parseList(VA.pointer(VA.coverage)),substitutes:this.parseUShortList()}};var iK=new Array(9);iK[1]=function A(Q){if(Q.substFormat===1)return new A0.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new A0.Coverage(Q.coverage)},{name:"deltaGlyphID",type:"USHORT",value:Q.deltaGlyphId}]);else return new A0.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new A0.Coverage(Q.coverage)}].concat(A0.ushortList("substitute",Q.substitute)))};iK[2]=function A(Q){return O0.assert(Q.substFormat===1,"Lookup type 2 substFormat must be 1."),new A0.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new A0.Coverage(Q.coverage)}].concat(A0.tableList("seqSet",Q.sequences,function(E){return new A0.Table("sequenceSetTable",A0.ushortList("sequence",E))})))};iK[3]=function A(Q){return O0.assert(Q.substFormat===1,"Lookup type 3 substFormat must be 1."),new A0.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new A0.Coverage(Q.coverage)}].concat(A0.tableList("altSet",Q.alternateSets,function(E){return new A0.Table("alternateSetTable",A0.ushortList("alternate",E))})))};iK[4]=function A(Q){return O0.assert(Q.substFormat===1,"Lookup type 4 substFormat must be 1."),new A0.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new A0.Coverage(Q.coverage)}].concat(A0.tableList("ligSet",Q.ligatureSets,function(E){return new A0.Table("ligatureSetTable",A0.tableList("ligature",E,function(B){return new A0.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:B.ligGlyph}].concat(A0.ushortList("component",B.components,B.components.length+1)))}))})))};iK[6]=function A(Q){if(Q.substFormat===1){var E=new A0.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:Q.substFormat},{name:"coverage",type:"TABLE",value:new A0.Coverage(Q.coverage)}].concat(A0.tableList("chainRuleSet",Q.chainRuleSets,function(K){return new A0.Table("chainRuleSetTable",A0.tableList("chainRule",K,function(J){var C=A0.ushortList("backtrackGlyph",J.backtrack,J.backtrack.length).concat(A0.ushortList("inputGlyph",J.input,J.input.length+1)).concat(A0.ushortList("lookaheadGlyph",J.lookahead,J.lookahead.length)).concat(A0.ushortList("substitution",[],J.lookupRecords.length));return J.lookupRecords.forEach(function(U,Y){C=C.concat({name:"sequenceIndex"+Y,type:"USHORT",value:U.sequenceIndex}).concat({name:"lookupListIndex"+Y,type:"USHORT",value:U.lookupListIndex})}),new A0.Table("chainRuleTable",C)}))})));return E}else if(Q.substFormat===2)O0.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(Q.substFormat===3){var B=[{name:"substFormat",type:"USHORT",value:Q.substFormat}];B.push({name:"backtrackGlyphCount",type:"USHORT",value:Q.backtrackCoverage.length}),Q.backtrackCoverage.forEach(function(K,J){B.push({name:"backtrackCoverage"+J,type:"TABLE",value:new A0.Coverage(K)})}),B.push({name:"inputGlyphCount",type:"USHORT",value:Q.inputCoverage.length}),Q.inputCoverage.forEach(function(K,J){B.push({name:"inputCoverage"+J,type:"TABLE",value:new A0.Coverage(K)})}),B.push({name:"lookaheadGlyphCount",type:"USHORT",value:Q.lookaheadCoverage.length}),Q.lookaheadCoverage.forEach(function(K,J){B.push({name:"lookaheadCoverage"+J,type:"TABLE",value:new A0.Coverage(K)})}),B.push({name:"substitutionCount",type:"USHORT",value:Q.lookupRecords.length}),Q.lookupRecords.forEach(function(K,J){B=B.concat({name:"sequenceIndex"+J,type:"USHORT",value:K.sequenceIndex}).concat({name:"lookupListIndex"+J,type:"USHORT",value:K.lookupListIndex})});var I=new A0.Table("chainContextTable",B);return I}O0.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};var Kr={parse:Br,make:Ir},Ur={parse:Jr,make:Cr},Gr={parse:Yr,make:Hr},Or={parse:Zr,make:Rr},Xr={make:mV,fontToTable:Wr,computeCheckSum:b$};qC.prototype={searchTag:L$,binSearch:EV,getTable:function(A){var Q=this.font.tables[this.tableName];if(!Q&&A)Q=this.font.tables[this.tableName]=this.createDefaultTable();return Q},getScriptNames:function(){var A=this.getTable();if(!A)return[];return A.scripts.map(function(Q){return Q.tag})},getDefaultScriptName:function(){var A=this.getTable();if(!A)return;var Q=!1;for(var E=0;E<A.scripts.length;E++){var B=A.scripts[E].tag;if(B==="DFLT")return B;if(B==="latn")Q=!0}if(Q)return"latn"},getScriptTable:function(A,Q){var E=this.getTable(Q);if(E){A=A||"DFLT";var B=E.scripts,I=L$(E.scripts,A);if(I>=0)return B[I].script;else if(Q){var K={tag:A,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return B.splice(-1-I,0,K),K.script}}},getLangSysTable:function(A,Q,E){var B=this.getScriptTable(A,E);if(B){if(!Q||Q==="dflt"||Q==="DFLT")return B.defaultLangSys;var I=L$(B.langSysRecords,Q);if(I>=0)return B.langSysRecords[I].langSys;else if(E){var K={tag:Q,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return B.langSysRecords.splice(-1-I,0,K),K.langSys}}},getFeatureTable:function(A,Q,E,B){var I=this.getLangSysTable(A,Q,B);if(I){var K,J=I.featureIndexes,C=this.font.tables[this.tableName].features;for(var U=0;U<J.length;U++)if(K=C[J[U]],K.tag===E)return K.feature;if(B){var Y=C.length;return O0.assert(Y===0||E>=C[Y-1].tag,"Features must be added in alphabetical order."),K={tag:E,feature:{params:0,lookupListIndexes:[]}},C.push(K),J.push(Y),K.feature}}},getLookupTables:function(A,Q,E,B,I){var K=this.getFeatureTable(A,Q,E,I),J=[];if(K){var C,U=K.lookupListIndexes,Y=this.font.tables[this.tableName].lookups;for(var H=0;H<U.length;H++)if(C=Y[U[H]],C.lookupType===B)J.push(C);if(J.length===0&&I){C={lookupType:B,lookupFlag:0,subtables:[],markFilteringSet:void 0};var R=Y.length;return Y.push(C),U.push(R),[C]}}return J},getGlyphClass:function(A,Q){switch(A.format){case 1:if(A.startGlyph<=Q&&Q<A.startGlyph+A.classes.length)return A.classes[Q-A.startGlyph];return 0;case 2:var E=BV(A.ranges,Q);return E?E.classId:0}},getCoverageIndex:function(A,Q){switch(A.format){case 1:var E=EV(A.glyphs,Q);return E>=0?E:-1;case 2:var B=BV(A.ranges,Q);return B?B.index+Q-B.start:-1}},expandCoverage:function(A){if(A.format===1)return A.glyphs;else{var Q=[],E=A.ranges;for(var B=0;B<E.length;B++){var I=E[B],K=I.start,J=I.end;for(var C=K;C<=J;C++)Q.push(C)}return Q}}};NC.prototype=qC.prototype;NC.prototype.init=function(){var A=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(A)};NC.prototype.getKerningValue=function(A,Q,E){for(var B=0;B<A.length;B++){var I=A[B].subtables;for(var K=0;K<I.length;K++){var J=I[K],C=this.getCoverageIndex(J.coverage,Q);if(C<0)continue;switch(J.posFormat){case 1:var U=J.pairSets[C];for(var Y=0;Y<U.length;Y++){var H=U[Y];if(H.secondGlyph===E)return H.value1&&H.value1.xAdvance||0}break;case 2:var R=this.getGlyphClass(J.classDef1,Q),G=this.getGlyphClass(J.classDef2,E),O=J.classRecords[R][G];return O.value1&&O.value1.xAdvance||0}}}return 0};NC.prototype.getKerningTables=function(A,Q){if(this.font.tables.gpos)return this.getLookupTables(A,Q,"kern",2)};t1.prototype=qC.prototype;t1.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};t1.prototype.getSingle=function(A,Q,E){var B=[],I=this.getLookupTables(Q,E,A,1);for(var K=0;K<I.length;K++){var J=I[K].subtables;for(var C=0;C<J.length;C++){var U=J[C],Y=this.expandCoverage(U.coverage),H=void 0;if(U.substFormat===1){var R=U.deltaGlyphId;for(H=0;H<Y.length;H++){var G=Y[H];B.push({sub:G,by:G+R})}}else{var O=U.substitute;for(H=0;H<Y.length;H++)B.push({sub:Y[H],by:O[H]})}}}return B};t1.prototype.getMultiple=function(A,Q,E){var B=[],I=this.getLookupTables(Q,E,A,2);for(var K=0;K<I.length;K++){var J=I[K].subtables;for(var C=0;C<J.length;C++){var U=J[C],Y=this.expandCoverage(U.coverage),H=void 0;for(H=0;H<Y.length;H++){var R=Y[H],G=U.sequences[H];B.push({sub:R,by:G})}}}return B};t1.prototype.getAlternates=function(A,Q,E){var B=[],I=this.getLookupTables(Q,E,A,3);for(var K=0;K<I.length;K++){var J=I[K].subtables;for(var C=0;C<J.length;C++){var U=J[C],Y=this.expandCoverage(U.coverage),H=U.alternateSets;for(var R=0;R<Y.length;R++)B.push({sub:Y[R],by:H[R]})}}return B};t1.prototype.getLigatures=function(A,Q,E){var B=[],I=this.getLookupTables(Q,E,A,4);for(var K=0;K<I.length;K++){var J=I[K].subtables;for(var C=0;C<J.length;C++){var U=J[C],Y=this.expandCoverage(U.coverage),H=U.ligatureSets;for(var R=0;R<Y.length;R++){var G=Y[R],O=H[R];for(var F=0;F<O.length;F++){var q=O[F];B.push({sub:[G].concat(q.components),by:q.ligGlyph})}}}}return B};t1.prototype.addSingle=function(A,Q,E,B){var I=this.getLookupTables(E,B,A,1,!0)[0],K=f$(I,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});O0.assert(K.coverage.format===1,"Single: unable to modify coverage table format "+K.coverage.format);var J=Q.sub,C=this.binSearch(K.coverage.glyphs,J);if(C<0)C=-1-C,K.coverage.glyphs.splice(C,0,J),K.substitute.splice(C,0,0);K.substitute[C]=Q.by};t1.prototype.addMultiple=function(A,Q,E,B){O0.assert(Q.by instanceof Array&&Q.by.length>1,'Multiple: "by" must be an array of two or more ids');var I=this.getLookupTables(E,B,A,2,!0)[0],K=f$(I,1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});O0.assert(K.coverage.format===1,"Multiple: unable to modify coverage table format "+K.coverage.format);var J=Q.sub,C=this.binSearch(K.coverage.glyphs,J);if(C<0)C=-1-C,K.coverage.glyphs.splice(C,0,J),K.sequences.splice(C,0,0);K.sequences[C]=Q.by};t1.prototype.addAlternate=function(A,Q,E,B){var I=this.getLookupTables(E,B,A,3,!0)[0],K=f$(I,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});O0.assert(K.coverage.format===1,"Alternate: unable to modify coverage table format "+K.coverage.format);var J=Q.sub,C=this.binSearch(K.coverage.glyphs,J);if(C<0)C=-1-C,K.coverage.glyphs.splice(C,0,J),K.alternateSets.splice(C,0,0);K.alternateSets[C]=Q.by};t1.prototype.addLigature=function(A,Q,E,B){var I=this.getLookupTables(E,B,A,4,!0)[0],K=I.subtables[0];if(!K)K={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},I.subtables[0]=K;O0.assert(K.coverage.format===1,"Ligature: unable to modify coverage table format "+K.coverage.format);var J=Q.sub[0],C=Q.sub.slice(1),U={ligGlyph:Q.by,components:C},Y=this.binSearch(K.coverage.glyphs,J);if(Y>=0){var H=K.ligatureSets[Y];for(var R=0;R<H.length;R++)if(Fr(H[R].components,C))return;H.push(U)}else Y=-1-Y,K.coverage.glyphs.splice(Y,0,J),K.ligatureSets.splice(Y,0,[U])};t1.prototype.getFeature=function(A,Q,E){if(/ss\d\d/.test(A))return this.getSingle(A,Q,E);switch(A){case"aalt":case"salt":return this.getSingle(A,Q,E).concat(this.getAlternates(A,Q,E));case"dlig":case"liga":case"rlig":return this.getLigatures(A,Q,E);case"ccmp":return this.getMultiple(A,Q,E).concat(this.getLigatures(A,Q,E));case"stch":return this.getMultiple(A,Q,E)}return};t1.prototype.add=function(A,Q,E,B){if(/ss\d\d/.test(A))return this.addSingle(A,Q,E,B);switch(A){case"aalt":case"salt":if(typeof Q.by==="number")return this.addSingle(A,Q,E,B);return this.addAlternate(A,Q,E,B);case"dlig":case"liga":case"rlig":return this.addLigature(A,Q,E,B);case"ccmp":if(Q.by instanceof Array)return this.addMultiple(A,Q,E,B);return this.addLigature(A,Q,E,B)}return};var Mr={getPath:dV,parse:Dr},nV,E6,oV,v$,rV=function(A){var Q=this.srPeriod,E=this.srPhase,B=this.srThreshold,I=1;if(A<0)A=-A,I=-1;if(A+=B-E,A=Math.trunc(A/Q)*Q,A+=E,A<0)return E*I;return A*I},G8={x:1,y:0,axis:"x",distance:function(A,Q,E,B){return(E?A.xo:A.x)-(B?Q.xo:Q.x)},interpolate:function(A,Q,E,B){var I,K,J,C,U,Y,H;if(!B||B===this){if(I=A.xo-Q.xo,K=A.xo-E.xo,U=Q.x-Q.xo,Y=E.x-E.xo,J=Math.abs(I),C=Math.abs(K),H=J+C,H===0){A.x=A.xo+(U+Y)/2;return}A.x=A.xo+(U*C+Y*J)/H;return}if(I=B.distance(A,Q,!0,!0),K=B.distance(A,E,!0,!0),U=B.distance(Q,Q,!1,!0),Y=B.distance(E,E,!1,!0),J=Math.abs(I),C=Math.abs(K),H=J+C,H===0){G8.setRelative(A,A,(U+Y)/2,B,!0);return}G8.setRelative(A,A,(U*C+Y*J)/H,B,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(A,Q,E,B,I){if(!B||B===this){A.x=(I?Q.xo:Q.x)+E;return}var K=I?Q.xo:Q.x,J=I?Q.yo:Q.y,C=K+E*B.x,U=J+E*B.y;A.x=C+(A.y-U)/B.normalSlope},slope:0,touch:function(A){A.xTouched=!0},touched:function(A){return A.xTouched},untouch:function(A){A.xTouched=!1}},AB={x:0,y:1,axis:"y",distance:function(A,Q,E,B){return(E?A.yo:A.y)-(B?Q.yo:Q.y)},interpolate:function(A,Q,E,B){var I,K,J,C,U,Y,H;if(!B||B===this){if(I=A.yo-Q.yo,K=A.yo-E.yo,U=Q.y-Q.yo,Y=E.y-E.yo,J=Math.abs(I),C=Math.abs(K),H=J+C,H===0){A.y=A.yo+(U+Y)/2;return}A.y=A.yo+(U*C+Y*J)/H;return}if(I=B.distance(A,Q,!0,!0),K=B.distance(A,E,!0,!0),U=B.distance(Q,Q,!1,!0),Y=B.distance(E,E,!1,!0),J=Math.abs(I),C=Math.abs(K),H=J+C,H===0){AB.setRelative(A,A,(U+Y)/2,B,!0);return}AB.setRelative(A,A,(U*C+Y*J)/H,B,!0)},normalSlope:0,setRelative:function(A,Q,E,B,I){if(!B||B===this){A.y=(I?Q.yo:Q.y)+E;return}var K=I?Q.xo:Q.x,J=I?Q.yo:Q.y,C=K+E*B.x,U=J+E*B.y;A.y=U+B.normalSlope*(A.x-C)},slope:Number.POSITIVE_INFINITY,touch:function(A){A.yTouched=!0},touched:function(A){return A.yTouched},untouch:function(A){A.yTouched=!1}};Object.freeze(G8);Object.freeze(AB);LC.prototype.distance=function(A,Q,E,B){return this.x*G8.distance(A,Q,E,B)+this.y*AB.distance(A,Q,E,B)};LC.prototype.interpolate=function(A,Q,E,B){var I,K,J,C,U,Y,H;if(J=B.distance(A,Q,!0,!0),C=B.distance(A,E,!0,!0),I=B.distance(Q,Q,!1,!0),K=B.distance(E,E,!1,!0),U=Math.abs(J),Y=Math.abs(C),H=U+Y,H===0){this.setRelative(A,A,(I+K)/2,B,!0);return}this.setRelative(A,A,(I*Y+K*U)/H,B,!0)};LC.prototype.setRelative=function(A,Q,E,B,I){B=B||this;var K=I?Q.xo:Q.x,J=I?Q.yo:Q.y,C=K+E*B.x,U=J+E*B.y,Y=B.normalSlope,H=this.slope,R=A.x,G=A.y;A.x=(H*R-Y*C+U-G)/(H-Y),A.y=H*(A.x-R)+G};LC.prototype.touch=function(A){A.xTouched=!0,A.yTouched=!0};QB.prototype.nextTouched=function(A){var Q=this.nextPointOnContour;while(!A.touched(Q)&&Q!==this)Q=Q.nextPointOnContour;return Q};QB.prototype.prevTouched=function(A){var Q=this.prevPointOnContour;while(!A.touched(Q)&&Q!==this)Q=Q.prevPointOnContour;return Q};var FC=Object.freeze(new QB(0,0)),Pr={cvCutIn:1.0625,deltaBase:9,deltaShift:0.125,loop:1,minDis:1,autoFlip:!0};iV.prototype.exec=function(A,Q){if(typeof Q!=="number")throw new Error("Point size is not a number!");if(this._errorState>2)return;var E=this.font,B=this._prepState;if(!B||B.ppem!==Q){var I=this._fpgmState;if(!I){if(iB.prototype=Pr,I=this._fpgmState=new iB("fpgm",E.tables.fpgm),I.funcs=[],I.font=E,rJA.DEBUG)console.log("---EXEC FPGM---"),I.step=-1;try{E6(I)}catch(Y){console.log("Hinting error in FPGM:"+Y),this._errorState=3;return}}iB.prototype=I,B=this._prepState=new iB("prep",E.tables.prep),B.ppem=Q;var K=E.tables.cvt;if(K){var J=B.cvt=new Array(K.length),C=Q/E.unitsPerEm;for(var U=0;U<K.length;U++)J[U]=K[U]*C}else B.cvt=[];if(rJA.DEBUG)console.log("---EXEC PREP---"),B.step=-1;try{E6(B)}catch(Y){if(this._errorState<2)console.log("Hinting error in PREP:"+Y);this._errorState=2}}if(this._errorState>1)return;try{return oV(A,B)}catch(Y){if(this._errorState<1)console.log("Hinting error:"+Y),console.log("Note: further hinting errors are silenced");this._errorState=1;return}};oV=function(A,Q){var E=Q.ppem/Q.font.unitsPerEm,B=E,I=A.components,K,J,C;if(iB.prototype=Q,!I){if(C=new iB("glyf",A.instructions),rJA.DEBUG)console.log("---EXEC GLYPH---"),C.step=-1;v$(A,C,E,B),J=C.gZone}else{var U=Q.font;J=[],K=[];for(var Y=0;Y<I.length;Y++){var H=I[Y],R=U.glyphs.get(H.glyphIndex);if(C=new iB("glyf",R.instructions),rJA.DEBUG)console.log("---EXEC COMP "+Y+"---"),C.step=-1;v$(R,C,E,B);var G=Math.round(H.dx*E),O=Math.round(H.dy*B),F=C.gZone,q=C.contours;for(var W=0;W<F.length;W++){var Z=F[W];Z.xTouched=Z.yTouched=!1,Z.xo=Z.x=Z.x+G,Z.yo=Z.y=Z.y+O}var $=J.length;J.push.apply(J,F);for(var X=0;X<q.length;X++)K.push(q[X]+$)}if(A.instructions&&!C.inhibitGridFit){if(C=new iB("glyf",A.instructions),C.gZone=C.z0=C.z1=C.z2=J,C.contours=K,J.push(new QB(0,0),new QB(Math.round(A.advanceWidth*E),0)),rJA.DEBUG)console.log("---EXEC COMPOSITE---"),C.step=-1;E6(C),J.length-=2}}return J};v$=function(A,Q,E,B){var I=A.points||[],K=I.length,J=Q.gZone=Q.z0=Q.z1=Q.z2=[],C=Q.contours=[],U;for(var Y=0;Y<K;Y++)U=I[Y],J[Y]=new QB(U.x*E,U.y*B,U.lastPointOfContour,U.onCurve);var H,R;for(var G=0;G<K;G++){if(U=J[G],!H)H=U,C.push(G);if(U.lastPointOfContour)U.nextPointOnContour=H,H.prevPointOnContour=U,H=void 0;else R=J[G+1],U.nextPointOnContour=R,R.prevPointOnContour=U}if(Q.inhibitGridFit)return;if(rJA.DEBUG){console.log("PROCESSING GLYPH",Q.stack);for(var O=0;O<K;O++)console.log(O,J[O].x,J[O].y)}if(J.push(new QB(0,0),new QB(Math.round(A.advanceWidth*E),0)),E6(Q),J.length-=2,rJA.DEBUG){console.log("FINISHED GLYPH",Q.stack);for(var F=0;F<K;F++)console.log(F,J[F].x,J[F].y)}};E6=function(A){var Q=A.prog;if(!Q)return;var E=Q.length,B;for(A.ip=0;A.ip<E;A.ip++){if(rJA.DEBUG)A.step++;if(B=nV[Q[A.ip]],!B)throw new Error("unknown instruction: 0x"+Number(Q[A.ip]).toString(16));B(A)}};nV=[KV.bind(void 0,AB),KV.bind(void 0,G8),JV.bind(void 0,AB),JV.bind(void 0,G8),CV.bind(void 0,AB),CV.bind(void 0,G8),UV.bind(void 0,0),UV.bind(void 0,1),YV.bind(void 0,0),YV.bind(void 0,1),_r,kr,jr,hr,vr,yr,xr,gr,br,fr,ur,pr,mr,cr,dr,lr,nr,or,ir,sr,void 0,void 0,rr,M$,ar,tr,er,Ea,Ba,void 0,void 0,void 0,Aa,Qa,Ia,void 0,HV.bind(void 0,0),HV.bind(void 0,1),GV.bind(void 0,AB),GV.bind(void 0,G8),ZV.bind(void 0,0),ZV.bind(void 0,1),RV.bind(void 0,0),RV.bind(void 0,1),OV.bind(void 0,0),OV.bind(void 0,1),Ka,Ja,$V.bind(void 0,0),$V.bind(void 0,1),Ca,Ua,WV.bind(void 0,0),WV.bind(void 0,1),Ya,Ha,Ga,Za,Ra,Oa,XV.bind(void 0,0),XV.bind(void 0,1),void 0,FV.bind(void 0,0),FV.bind(void 0,1),$a,void 0,Wa,void 0,void 0,Xa,Fa,qa,Na,La,Da,Ma,wa,za,Va,Ta,Sa,Pa,w$.bind(void 0,1),_a,ka,ja,ha,va,ya,xa,ga,ba,fa,wY.bind(void 0,0),wY.bind(void 0,1),wY.bind(void 0,2),wY.bind(void 0,3),void 0,void 0,void 0,void 0,ua,w$.bind(void 0,2),w$.bind(void 0,3),z$.bind(void 0,1),z$.bind(void 0,2),z$.bind(void 0,3),pa,ma,void 0,void 0,ca,void 0,da,la,M$,M$,void 0,void 0,void 0,void 0,void 0,na,qV.bind(void 0,0),qV.bind(void 0,1),oa,void 0,ia,sa,ra,aa,ta,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,lB.bind(void 0,1),lB.bind(void 0,2),lB.bind(void 0,3),lB.bind(void 0,4),lB.bind(void 0,5),lB.bind(void 0,6),lB.bind(void 0,7),lB.bind(void 0,8),nB.bind(void 0,1),nB.bind(void 0,2),nB.bind(void 0,3),nB.bind(void 0,4),nB.bind(void 0,5),nB.bind(void 0,6),nB.bind(void 0,7),nB.bind(void 0,8),Q0.bind(void 0,0,0,0,0,0),Q0.bind(void 0,0,0,0,0,1),Q0.bind(void 0,0,0,0,0,2),Q0.bind(void 0,0,0,0,0,3),Q0.bind(void 0,0,0,0,1,0),Q0.bind(void 0,0,0,0,1,1),Q0.bind(void 0,0,0,0,1,2),Q0.bind(void 0,0,0,0,1,3),Q0.bind(void 0,0,0,1,0,0),Q0.bind(void 0,0,0,1,0,1),Q0.bind(void 0,0,0,1,0,2),Q0.bind(void 0,0,0,1,0,3),Q0.bind(void 0,0,0,1,1,0),Q0.bind(void 0,0,0,1,1,1),Q0.bind(void 0,0,0,1,1,2),Q0.bind(void 0,0,0,1,1,3),Q0.bind(void 0,0,1,0,0,0),Q0.bind(void 0,0,1,0,0,1),Q0.bind(void 0,0,1,0,0,2),Q0.bind(void 0,0,1,0,0,3),Q0.bind(void 0,0,1,0,1,0),Q0.bind(void 0,0,1,0,1,1),Q0.bind(void 0,0,1,0,1,2),Q0.bind(void 0,0,1,0,1,3),Q0.bind(void 0,0,1,1,0,0),Q0.bind(void 0,0,1,1,0,1),Q0.bind(void 0,0,1,1,0,2),Q0.bind(void 0,0,1,1,0,3),Q0.bind(void 0,0,1,1,1,0),Q0.bind(void 0,0,1,1,1,1),Q0.bind(void 0,0,1,1,1,2),Q0.bind(void 0,0,1,1,1,3),Q0.bind(void 0,1,0,0,0,0),Q0.bind(void 0,1,0,0,0,1),Q0.bind(void 0,1,0,0,0,2),Q0.bind(void 0,1,0,0,0,3),Q0.bind(void 0,1,0,0,1,0),Q0.bind(void 0,1,0,0,1,1),Q0.bind(void 0,1,0,0,1,2),Q0.bind(void 0,1,0,0,1,3),Q0.bind(void 0,1,0,1,0,0),Q0.bind(void 0,1,0,1,0,1),Q0.bind(void 0,1,0,1,0,2),Q0.bind(void 0,1,0,1,0,3),Q0.bind(void 0,1,0,1,1,0),Q0.bind(void 0,1,0,1,1,1),Q0.bind(void 0,1,0,1,1,2),Q0.bind(void 0,1,0,1,1,3),Q0.bind(void 0,1,1,0,0,0),Q0.bind(void 0,1,1,0,0,1),Q0.bind(void 0,1,1,0,0,2),Q0.bind(void 0,1,1,0,0,3),Q0.bind(void 0,1,1,0,1,0),Q0.bind(void 0,1,1,0,1,1),Q0.bind(void 0,1,1,0,1,2),Q0.bind(void 0,1,1,0,1,3),Q0.bind(void 0,1,1,1,0,0),Q0.bind(void 0,1,1,1,0,1),Q0.bind(void 0,1,1,1,0,2),Q0.bind(void 0,1,1,1,0,3),Q0.bind(void 0,1,1,1,1,0),Q0.bind(void 0,1,1,1,1,1),Q0.bind(void 0,1,1,1,1,2),Q0.bind(void 0,1,1,1,1,3)];sK.prototype.setState=function(A,Q){return this.state[A]=Q,this.activeState={key:A,value:this.state[A]},this.activeState};sK.prototype.getState=function(A){return this.state[A]||null};xQ.prototype.inboundIndex=function(A){return A>=0&&A<this.tokens.length};xQ.prototype.composeRUD=function(A){var Q=this,E=!0,B=A.map(function(K){return Q[K[0]].apply(Q,K.slice(1).concat(E))}),I=function(K){return typeof K==="object"&&K.hasOwnProperty("FAIL")};if(B.every(I))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:B.filter(I)};this.dispatch("composeRUD",[B.filter(function(K){return!I(K)})])};xQ.prototype.replaceRange=function(A,Q,E,B){Q=Q!==null?Q:this.tokens.length;var I=E.every(function(J){return J instanceof sK});if(!isNaN(A)&&this.inboundIndex(A)&&I){var K=this.tokens.splice.apply(this.tokens,[A,Q].concat(E));if(!B)this.dispatch("replaceToken",[A,Q,E]);return[K,E]}else return{FAIL:"replaceRange: invalid tokens or startIndex."}};xQ.prototype.replaceToken=function(A,Q,E){if(!isNaN(A)&&this.inboundIndex(A)&&Q instanceof sK){var B=this.tokens.splice(A,1,Q);if(!E)this.dispatch("replaceToken",[A,Q]);return[B[0],Q]}else return{FAIL:"replaceToken: invalid token or index."}};xQ.prototype.removeRange=function(A,Q,E){Q=!isNaN(Q)?Q:this.tokens.length;var B=this.tokens.splice(A,Q);if(!E)this.dispatch("removeRange",[B,A,Q]);return B};xQ.prototype.removeToken=function(A,Q){if(!isNaN(A)&&this.inboundIndex(A)){var E=this.tokens.splice(A,1);if(!Q)this.dispatch("removeToken",[E,A]);return E}else return{FAIL:"removeToken: invalid token index."}};xQ.prototype.insertToken=function(A,Q,E){var B=A.every(function(I){return I instanceof sK});if(B){if(this.tokens.splice.apply(this.tokens,[Q,0].concat(A)),!E)this.dispatch("insertToken",[A,Q]);return A}else return{FAIL:"insertToken: invalid token(s)."}};xQ.prototype.registerModifier=function(A,Q,E){this.events.newToken.subscribe(function(B,I){var K=[B,I],J=Q===null||Q.apply(this,K)===!0,C=[B,I];if(J){var U=E.apply(this,C);B.setState(A,U)}}),this.registeredModifiers.push(A)};vY.prototype.subscribe=function(A){if(typeof A==="function")return this.subscribers.push(A)-1;else return{FAIL:"invalid '"+this.eventId+"' event handler"}};vY.prototype.unsubscribe=function(A){this.subscribers.splice(A,1)};dE.prototype.setCurrentIndex=function(A){this.index=A,this.current=this.context[A],this.backtrack=this.context.slice(0,A),this.lookahead=this.context.slice(A+1)};dE.prototype.get=function(A){switch(!0){case A===0:return this.current;case(A<0&&Math.abs(A)<=this.backtrack.length):return this.backtrack.slice(A)[0];case(A>0&&A<=this.lookahead.length):return this.lookahead[A-1];default:return null}};xQ.prototype.rangeToText=function(A){if(A instanceof u$)return this.getRangeTokens(A).map(function(Q){return Q.char}).join("")};xQ.prototype.getText=function(){return this.tokens.map(function(A){return A.char}).join("")};xQ.prototype.getContext=function(A){var Q=this.registeredContexts[A];return Q?Q:null};xQ.prototype.on=function(A,Q){var E=this.events[A];if(E)return E.subscribe(Q);else return null};xQ.prototype.dispatch=function(A,Q){var E=this,B=this.events[A];if(B instanceof vY)B.subscribers.forEach(function(I){I.apply(E,Q||[])})};xQ.prototype.registerContextChecker=function(A,Q,E){if(this.getContext(A))return{FAIL:"context name '"+A+"' is already registered."};if(typeof Q!=="function")return{FAIL:"missing context start check."};if(typeof E!=="function")return{FAIL:"missing context end check."};var B=new ea(A,Q,E);return this.registeredContexts[A]=B,this.contextCheckers.push(B),B};xQ.prototype.getRangeTokens=function(A){var Q=A.startIndex+A.endOffset;return[].concat(this.tokens.slice(A.startIndex,Q))};xQ.prototype.getContextRanges=function(A){var Q=this.getContext(A);if(Q)return Q.ranges;else return{FAIL:"context checker '"+A+"' is not registered."}};xQ.prototype.resetContextsRanges=function(){var A=this.registeredContexts;for(var Q in A)if(A.hasOwnProperty(Q)){var E=A[Q];E.ranges=[]}};xQ.prototype.updateContextsRanges=function(){this.resetContextsRanges();var A=this.tokens.map(function(B){return B.char});for(var Q=0;Q<A.length;Q++){var E=new dE(A,Q);this.runContextCheck(E)}this.dispatch("updateContextsRanges",[this.registeredContexts])};xQ.prototype.setEndOffset=function(A,Q){var E=this.getContext(Q).openRange.startIndex,B=new u$(E,A,Q),I=this.getContext(Q).ranges;return B.rangeId=Q+"."+I.length,I.push(B),this.getContext(Q).openRange=null,B};xQ.prototype.runContextCheck=function(A){var Q=this,E=A.index;this.contextCheckers.forEach(function(B){var I=B.contextName,K=Q.getContext(I).openRange;if(!K&&B.checkStart(A))K=new u$(E,null,I),Q.getContext(I).openRange=K,Q.dispatch("contextStart",[I,E]);if(!!K&&B.checkEnd(A)){var J=E-K.startIndex+1,C=Q.setEndOffset(J,I);Q.dispatch("contextEnd",[I,C])}})};xQ.prototype.tokenize=function(A){this.tokens=[],this.resetContextsRanges();var Q=Array.from(A);this.dispatch("start");for(var E=0;E<Q.length;E++){var B=Q[E],I=new dE(Q,E);this.dispatch("next",[I]),this.runContextCheck(I);var K=new sK(B);this.tokens.push(K),this.dispatch("newToken",[K,I])}return this.dispatch("end",[this.tokens]),this.tokens};e1.prototype.getDefaultScriptFeaturesIndexes=function(){var A=this.font.tables.gsub.scripts;for(var Q=0;Q<A.length;Q++){var E=A[Q];if(E.tag==="DFLT")return E.script.defaultLangSys.featureIndexes}return[]};e1.prototype.getScriptFeaturesIndexes=function(A){var Q=this.font.tables;if(!Q.gsub)return[];if(!A)return this.getDefaultScriptFeaturesIndexes();var E=this.font.tables.gsub.scripts;for(var B=0;B<E.length;B++){var I=E[B];if(I.tag===A&&I.script.defaultLangSys)return I.script.defaultLangSys.featureIndexes;else{var K=I.langSysRecords;if(K)for(var J=0;J<K.length;J++){var C=K[J];if(C.tag===A){var U=C.langSys;return U.featureIndexes}}}}return this.getDefaultScriptFeaturesIndexes()};e1.prototype.mapTagsToFeatures=function(A,Q){var E={};for(var B=0;B<A.length;B++){var I=A[B].tag,K=A[B].feature;E[I]=K}this.features[Q].tags=E};e1.prototype.getScriptFeatures=function(A){var Q=this.features[A];if(this.features.hasOwnProperty(A))return Q;var E=this.getScriptFeaturesIndexes(A);if(!E)return null;var B=this.font.tables.gsub;return Q=E.map(function(I){return B.features[I]}),this.features[A]=Q,this.mapTagsToFeatures(Q,A),Q};e1.prototype.getSubstitutionType=function(A,Q){var E=A.lookupType.toString(),B=Q.substFormat.toString();return E+B};e1.prototype.getLookupMethod=function(A,Q){var E=this,B=this.getSubstitutionType(A,Q);switch(B){case"11":return function(I){return Et.apply(E,[I,Q])};case"12":return function(I){return Bt.apply(E,[I,Q])};case"63":return function(I){return It.apply(E,[I,Q])};case"41":return function(I){return Kt.apply(E,[I,Q])};case"21":return function(I){return Jt.apply(E,[I,Q])};default:throw new Error("lookupType: "+A.lookupType+" - substFormat: "+Q.substFormat+" is not yet supported")}};e1.prototype.lookupFeature=function(A){var Q=A.contextParams,E=Q.index,B=this.getFeature({tag:A.tag,script:A.script});if(!B)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+A.tag+"' for script '"+A.script+"'.");var I=this.getFeatureLookups(B),K=[].concat(Q.context);for(var J=0;J<I.length;J++){var C=I[J],U=this.getLookupSubtables(C);for(var Y=0;Y<U.length;Y++){var H=U[Y],R=this.getSubstitutionType(C,H),G=this.getLookupMethod(C,H),O=void 0;switch(R){case"11":if(O=G(Q.current),O)K.splice(E,1,new Q6({id:11,tag:A.tag,substitution:O}));break;case"12":if(O=G(Q.current),O)K.splice(E,1,new Q6({id:12,tag:A.tag,substitution:O}));break;case"63":if(O=G(Q),Array.isArray(O)&&O.length)K.splice(E,1,new Q6({id:63,tag:A.tag,substitution:O}));break;case"41":if(O=G(Q),O)K.splice(E,1,new Q6({id:41,tag:A.tag,substitution:O}));break;case"21":if(O=G(Q.current),O)K.splice(E,1,new Q6({id:21,tag:A.tag,substitution:O}));break}if(Q=new dE(K,E),Array.isArray(O)&&!O.length)continue;O=null}}return K.length?K:null};e1.prototype.supports=function(A){if(!A.script)return!1;this.getScriptFeatures(A.script);var Q=this.features.hasOwnProperty(A.script);if(!A.tag)return Q;var E=this.features[A.script].some(function(B){return B.tag===A.tag});return Q&&E};e1.prototype.getLookupSubtables=function(A){return A.subtables||null};e1.prototype.getLookupByIndex=function(A){var Q=this.font.tables.gsub.lookups;return Q[A]||null};e1.prototype.getFeatureLookups=function(A){return A.lookupListIndexes.map(this.getLookupByIndex.bind(this))};e1.prototype.getFeature=function A(Q){if(!this.font)return{FAIL:"No font was found"};if(!this.features.hasOwnProperty(Q.script))this.getScriptFeatures(Q.script);var E=this.features[Q.script];if(!E)return{FAIL:"No feature for script "+Q.script};if(!E.tags[Q.tag])return null;return this.features[Q.script].tags[Q.tag]};var Yt={startCheck:Ct,endCheck:Ut},Zt={startCheck:Ht,endCheck:Gt},NV={11:Rt,12:Ot,63:$t,41:Wt},Mt={startCheck:Lt,endCheck:Dt};nE.prototype.setText=function(A){this.text=A};nE.prototype.contextChecks={latinWordCheck:Mt,arabicWordCheck:Yt,arabicSentenceCheck:Zt};nE.prototype.registerFeatures=function(A,Q){var E=this,B=Q.filter(function(I){return E.query.supports({script:A,tag:I})});if(!this.featuresTags.hasOwnProperty(A))this.featuresTags[A]=B;else this.featuresTags[A]=this.featuresTags[A].concat(B)};nE.prototype.applyFeatures=function(A,Q){if(!A)throw new Error("No valid font was provided to apply features");if(!this.query)this.query=new e1(A);for(var E=0;E<Q.length;E++){var B=Q[E];if(!this.query.supports({script:B.script}))continue;this.registerFeatures(B.script,B.tags)}};nE.prototype.registerModifier=function(A,Q,E){this.tokenizer.registerModifier(A,Q,E)};nE.prototype.checkContextReady=function(A){return!!this.tokenizer.getContext(A)};nE.prototype.applyFeaturesToContexts=function(){if(this.checkContextReady("arabicWord"))Tt.call(this),St.call(this);if(this.checkContextReady("latinWord"))Pt.call(this);if(this.checkContextReady("arabicSentence"))Vt.call(this)};nE.prototype.processText=function(A){if(!this.text||this.text!==A)this.setText(A),zt.call(this),this.applyFeaturesToContexts()};nE.prototype.getBidiText=function(A){return this.processText(A),this.tokenizer.getText()};nE.prototype.getTextGlyphs=function(A){this.processText(A);var Q=[];for(var E=0;E<this.tokenizer.tokens.length;E++){var B=this.tokenizer.tokens[E];if(B.state.deleted)continue;var I=B.activeState.value;Q.push(Array.isArray(I)?I[0]:I)}return Q};OQ.prototype.hasChar=function(A){return this.encoding.charToGlyphIndex(A)!==null};OQ.prototype.charToGlyphIndex=function(A){return this.encoding.charToGlyphIndex(A)};OQ.prototype.charToGlyph=function(A){var Q=this.charToGlyphIndex(A),E=this.glyphs.get(Q);if(!E)E=this.glyphs.get(0);return E};OQ.prototype.updateFeatures=function(A){return this.defaultRenderOptions.features.map(function(Q){if(Q.script==="latn")return{script:"latn",tags:Q.tags.filter(function(E){return A[E]})};else return Q})};OQ.prototype.stringToGlyphs=function(A,Q){var E=this,B=new nE,I=function(R){return E.charToGlyphIndex(R.char)};B.registerModifier("glyphIndex",null,I);var K=Q?this.updateFeatures(Q.features):this.defaultRenderOptions.features;B.applyFeatures(this,K);var J=B.getTextGlyphs(A),C=J.length,U=new Array(C),Y=this.glyphs.get(0);for(var H=0;H<C;H+=1)U[H]=this.glyphs.get(J[H])||Y;return U};OQ.prototype.nameToGlyphIndex=function(A){return this.glyphNames.nameToGlyphIndex(A)};OQ.prototype.nameToGlyph=function(A){var Q=this.nameToGlyphIndex(A),E=this.glyphs.get(Q);if(!E)E=this.glyphs.get(0);return E};OQ.prototype.glyphIndexToName=function(A){if(!this.glyphNames.glyphIndexToName)return"";return this.glyphNames.glyphIndexToName(A)};OQ.prototype.getKerningValue=function(A,Q){A=A.index||A,Q=Q.index||Q;var E=this.position.defaultKerningTables;if(E)return this.position.getKerningValue(E,A,Q);return this.kerningPairs[A+","+Q]||0};OQ.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]};OQ.prototype.forEachGlyph=function(A,Q,E,B,I,K){Q=Q!==void 0?Q:0,E=E!==void 0?E:0,B=B!==void 0?B:72,I=Object.assign({},this.defaultRenderOptions,I);var J=1/this.unitsPerEm*B,C=this.stringToGlyphs(A,I),U;if(I.kerning){var Y=I.script||this.position.getDefaultScriptName();U=this.position.getKerningTables(Y,I.language)}for(var H=0;H<C.length;H+=1){var R=C[H];if(K.call(this,R,Q,E,B,I),R.advanceWidth)Q+=R.advanceWidth*J;if(I.kerning&&H<C.length-1){var G=U?this.position.getKerningValue(U,R.index,C[H+1].index):this.getKerningValue(R,C[H+1]);Q+=G*J}if(I.letterSpacing)Q+=I.letterSpacing*B;else if(I.tracking)Q+=I.tracking/1000*B}return Q};OQ.prototype.getPath=function(A,Q,E,B,I){var K=new rQ;return this.forEachGlyph(A,Q,E,B,I,function(J,C,U,Y){var H=J.getPath(C,U,Y,I,this);K.extend(H)}),K};OQ.prototype.getPaths=function(A,Q,E,B,I){var K=[];return this.forEachGlyph(A,Q,E,B,I,function(J,C,U,Y){var H=J.getPath(C,U,Y,I,this);K.push(H)}),K};OQ.prototype.getAdvanceWidth=function(A,Q,E){return this.forEachGlyph(A,0,0,Q,E,function(){})};OQ.prototype.draw=function(A,Q,E,B,I,K){this.getPath(Q,E,B,I,K).draw(A)};OQ.prototype.drawPoints=function(A,Q,E,B,I,K){this.forEachGlyph(Q,E,B,I,K,function(J,C,U,Y){J.drawPoints(A,C,U,Y)})};OQ.prototype.drawMetrics=function(A,Q,E,B,I,K){this.forEachGlyph(Q,E,B,I,K,function(J,C,U,Y){J.drawMetrics(A,C,U,Y)})};OQ.prototype.getEnglishName=function(A){var Q=this.names[A];if(Q)return Q.en};OQ.prototype.validate=function(){var A=this;function Q(B,I){}function E(B){var I=A.getEnglishName(B);Q(I&&I.trim().length>0)}E("fontFamily"),E("weightName"),E("manufacturer"),E("copyright"),E("version"),Q(this.unitsPerEm>0)};OQ.prototype.toTables=function(){return Xr.fontToTable(this)};OQ.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};OQ.prototype.toArrayBuffer=function(){var A=this.toTables(),Q=A.encode(),E=new ArrayBuffer(Q.length),B=new Uint8Array(E);for(var I=0;I<Q.length;I++)B[I]=Q[I];return E};OQ.prototype.download=function(A){var Q=this.getEnglishName("fontFamily"),E=this.getEnglishName("fontSubfamily");A=A||Q.replace(/\s/g,"")+"-"+E+".otf";var B=this.toArrayBuffer();if(window.URL=window.URL||window.webkitURL,window.URL){var I=new DataView(B),K=new Blob([I],{type:"font/opentype"}),J=document.createElement("a");J.href=window.URL.createObjectURL(K),J.download=A;var C=document.createEvent("MouseEvents");C.initEvent("click",!0,!1),J.dispatchEvent(C)}else console.warn("Font file could not be downloaded. Try using a different browser.")};OQ.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};OQ.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};OQ.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var EB=new Array(10);EB[1]=function A(){var Q=this.offset+this.relativeOffset,E=this.parseUShort();if(E===1)return{posFormat:1,coverage:this.parsePointer(VA.coverage),value:this.parseValueRecord()};else if(E===2)return{posFormat:2,coverage:this.parsePointer(VA.coverage),values:this.parseValueRecordList()};O0.assert(!1,"0x"+Q.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};EB[2]=function A(){var Q=this.offset+this.relativeOffset,E=this.parseUShort();O0.assert(E===1||E===2,"0x"+Q.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var B=this.parsePointer(VA.coverage),I=this.parseUShort(),K=this.parseUShort();if(E===1)return{posFormat:E,coverage:B,valueFormat1:I,valueFormat2:K,pairSets:this.parseList(VA.pointer(VA.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(I),value2:this.parseValueRecord(K)}})))};else if(E===2){var J=this.parsePointer(VA.classDef),C=this.parsePointer(VA.classDef),U=this.parseUShort(),Y=this.parseUShort();return{posFormat:E,coverage:B,valueFormat1:I,valueFormat2:K,classDef1:J,classDef2:C,class1Count:U,class2Count:Y,classRecords:this.parseList(U,VA.list(Y,function(){return{value1:this.parseValueRecord(I),value2:this.parseValueRecord(K)}}))}}};EB[3]=function A(){return{error:"GPOS Lookup 3 not supported"}};EB[4]=function A(){return{error:"GPOS Lookup 4 not supported"}};EB[5]=function A(){return{error:"GPOS Lookup 5 not supported"}};EB[6]=function A(){return{error:"GPOS Lookup 6 not supported"}};EB[7]=function A(){return{error:"GPOS Lookup 7 not supported"}};EB[8]=function A(){return{error:"GPOS Lookup 8 not supported"}};EB[9]=function A(){return{error:"GPOS Lookup 9 not supported"}};var sJA=new Array(10);/*! chevrotain - v9.0.1 */var S0=(A,Q)=>()=>(Q||(Q={exports:{}},A(Q.exports,Q)),Q.exports),eV=S0((A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.VERSION=void 0,A.VERSION="9.0.1"}),r0=S0((exports,module)=>{var __spreadArray=exports&&exports.__spreadArray||function(A,Q){for(var E=0,B=Q.length,I=A.length;E<B;E++,I++)A[I]=Q[E];return A};Object.defineProperty(exports,"__esModule",{value:!0}),exports.toFastProperties=exports.timer=exports.peek=exports.isES2015MapSupported=exports.PRINT_WARNING=exports.PRINT_ERROR=exports.packArray=exports.IDENTITY=exports.NOOP=exports.merge=exports.groupBy=exports.defaults=exports.assignNoOverwrite=exports.assign=exports.zipObject=exports.sortBy=exports.indexOf=exports.some=exports.difference=exports.every=exports.isObject=exports.isRegExp=exports.isArray=exports.partial=exports.uniq=exports.compact=exports.reduce=exports.findAll=exports.find=exports.cloneObj=exports.cloneArr=exports.contains=exports.has=exports.pick=exports.reject=exports.filter=exports.dropRight=exports.drop=exports.isFunction=exports.isUndefined=exports.isString=exports.forEach=exports.last=exports.first=exports.flatten=exports.map=exports.mapValues=exports.values=exports.keys=exports.isEmpty=void 0;function isEmpty(A){return A&&A.length===0}exports.isEmpty=isEmpty;function keys(A){return A==null?[]:Object.keys(A)}exports.keys=keys;function values(A){for(var Q=[],E=Object.keys(A),B=0;B<E.length;B++)Q.push(A[E[B]]);return Q}exports.values=values;function mapValues(A,Q){for(var E=[],B=keys(A),I=0;I<B.length;I++){var K=B[I];E.push(Q.call(null,A[K],K))}return E}exports.mapValues=mapValues;function map(A,Q){for(var E=[],B=0;B<A.length;B++)E.push(Q.call(null,A[B],B));return E}exports.map=map;function flatten(A){for(var Q=[],E=0;E<A.length;E++){var B=A[E];Array.isArray(B)?Q=Q.concat(flatten(B)):Q.push(B)}return Q}exports.flatten=flatten;function first(A){return isEmpty(A)?void 0:A[0]}exports.first=first;function last(A){var Q=A&&A.length;return Q?A[Q-1]:void 0}exports.last=last;function forEach(A,Q){if(Array.isArray(A))for(var E=0;E<A.length;E++)Q.call(null,A[E],E);else if(isObject(A))for(var B=keys(A),E=0;E<B.length;E++){var I=B[E],K=A[I];Q.call(null,K,I)}else throw Error("non exhaustive match")}exports.forEach=forEach;function isString(A){return typeof A=="string"}exports.isString=isString;function isUndefined(A){return A===void 0}exports.isUndefined=isUndefined;function isFunction(A){return A instanceof Function}exports.isFunction=isFunction;function drop(A,Q){return Q===void 0&&(Q=1),A.slice(Q,A.length)}exports.drop=drop;function dropRight(A,Q){return Q===void 0&&(Q=1),A.slice(0,A.length-Q)}exports.dropRight=dropRight;function filter(A,Q){var E=[];if(Array.isArray(A))for(var B=0;B<A.length;B++){var I=A[B];Q.call(null,I)&&E.push(I)}return E}exports.filter=filter;function reject(A,Q){return filter(A,function(E){return!Q(E)})}exports.reject=reject;function pick(A,Q){for(var E=Object.keys(A),B={},I=0;I<E.length;I++){var K=E[I],J=A[K];Q(J)&&(B[K]=J)}return B}exports.pick=pick;function has(A,Q){return isObject(A)?A.hasOwnProperty(Q):!1}exports.has=has;function contains(A,Q){return find(A,function(E){return E===Q})!==void 0}exports.contains=contains;function cloneArr(A){for(var Q=[],E=0;E<A.length;E++)Q.push(A[E]);return Q}exports.cloneArr=cloneArr;function cloneObj(A){var Q={};for(var E in A)Object.prototype.hasOwnProperty.call(A,E)&&(Q[E]=A[E]);return Q}exports.cloneObj=cloneObj;function find(A,Q){for(var E=0;E<A.length;E++){var B=A[E];if(Q.call(null,B))return B}}exports.find=find;function findAll(A,Q){for(var E=[],B=0;B<A.length;B++){var I=A[B];Q.call(null,I)&&E.push(I)}return E}exports.findAll=findAll;function reduce(A,Q,E){for(var B=Array.isArray(A),I=B?A:values(A),K=B?[]:keys(A),J=E,C=0;C<I.length;C++)J=Q.call(null,J,I[C],B?C:K[C]);return J}exports.reduce=reduce;function compact(A){return reject(A,function(Q){return Q==null})}exports.compact=compact;function uniq(A,Q){Q===void 0&&(Q=function(B){return B});var E=[];return reduce(A,function(B,I){var K=Q(I);return contains(E,K)?B:(E.push(K),B.concat(I))},[])}exports.uniq=uniq;function partial(A){for(var Q=[],E=1;E<arguments.length;E++)Q[E-1]=arguments[E];var B=[null],I=B.concat(Q);return Function.bind.apply(A,I)}exports.partial=partial;function isArray(A){return Array.isArray(A)}exports.isArray=isArray;function isRegExp(A){return A instanceof RegExp}exports.isRegExp=isRegExp;function isObject(A){return A instanceof Object}exports.isObject=isObject;function every(A,Q){for(var E=0;E<A.length;E++)if(!Q(A[E],E))return!1;return!0}exports.every=every;function difference(A,Q){return reject(A,function(E){return contains(Q,E)})}exports.difference=difference;function some(A,Q){for(var E=0;E<A.length;E++)if(Q(A[E]))return!0;return!1}exports.some=some;function indexOf(A,Q){for(var E=0;E<A.length;E++)if(A[E]===Q)return E;return-1}exports.indexOf=indexOf;function sortBy(A,Q){var E=cloneArr(A);return E.sort(function(B,I){return Q(B)-Q(I)}),E}exports.sortBy=sortBy;function zipObject(A,Q){if(A.length!==Q.length)throw Error("can't zipObject with different number of keys and values!");for(var E={},B=0;B<A.length;B++)E[A[B]]=Q[B];return E}exports.zipObject=zipObject;function assign(A){for(var Q=[],E=1;E<arguments.length;E++)Q[E-1]=arguments[E];for(var B=0;B<Q.length;B++)for(var I=Q[B],K=keys(I),J=0;J<K.length;J++){var C=K[J];A[C]=I[C]}return A}exports.assign=assign;function assignNoOverwrite(A){for(var Q=[],E=1;E<arguments.length;E++)Q[E-1]=arguments[E];for(var B=0;B<Q.length;B++)for(var I=Q[B],K=keys(I),J=0;J<K.length;J++){var C=K[J];has(A,C)||(A[C]=I[C])}return A}exports.assignNoOverwrite=assignNoOverwrite;function defaults(){for(var A=[],Q=0;Q<arguments.length;Q++)A[Q]=arguments[Q];return assignNoOverwrite.apply(void 0,__spreadArray([{}],A))}exports.defaults=defaults;function groupBy(A,Q){var E={};return forEach(A,function(B){var I=Q(B),K=E[I];K?K.push(B):E[I]=[B]}),E}exports.groupBy=groupBy;function merge(A,Q){for(var E=cloneObj(A),B=keys(Q),I=0;I<B.length;I++){var K=B[I],J=Q[K];E[K]=J}return E}exports.merge=merge;function NOOP(){}exports.NOOP=NOOP;function IDENTITY(A){return A}exports.IDENTITY=IDENTITY;function packArray(A){for(var Q=[],E=0;E<A.length;E++){var B=A[E];Q.push(B!==void 0?B:void 0)}return Q}exports.packArray=packArray;function PRINT_ERROR(A){console&&console.error&&console.error("Error: "+A)}exports.PRINT_ERROR=PRINT_ERROR;function PRINT_WARNING(A){console&&console.warn&&console.warn("Warning: "+A)}exports.PRINT_WARNING=PRINT_WARNING;function isES2015MapSupported(){return typeof Map=="function"}exports.isES2015MapSupported=isES2015MapSupported;function peek(A){return A[A.length-1]}exports.peek=peek;function timer(A){var Q=(/*@__PURE__*/new Date()).getTime(),E=A(),B=(/*@__PURE__*/new Date()).getTime(),I=B-Q;return{time:I,value:E}}exports.timer=timer;function toFastProperties(toBecomeFast){function FakeConstructor(){}FakeConstructor.prototype=toBecomeFast;var fakeInstance=new FakeConstructor;function fakeAccess(){return typeof fakeInstance.bar}return fakeAccess(),fakeAccess(),toBecomeFast}exports.toFastProperties=toFastProperties}),c$=S0((A,Q)=>{(function(E,B){typeof define=="function"&&define.amd?define([],B):typeof Q=="object"&&Q.exports?Q.exports=B():E.regexpToAst=B()})(typeof self!="undefined"?self:A,function(){function E(){}E.prototype.saveState=function(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}},E.prototype.restoreState=function(W){this.idx=W.idx,this.input=W.input,this.groupIdx=W.groupIdx},E.prototype.pattern=function(W){this.idx=0,this.input=W,this.groupIdx=0,this.consumeChar("/");var Z=this.disjunction();this.consumeChar("/");for(var $={type:"Flags",loc:{begin:this.idx,end:W.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};this.isRegExpFlag();)switch(this.popChar()){case"g":U($,"global");break;case"i":U($,"ignoreCase");break;case"m":U($,"multiLine");break;case"u":U($,"unicode");break;case"y":U($,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:$,value:Z,loc:this.loc(0)}},E.prototype.disjunction=function(){var W=[],Z=this.idx;for(W.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),W.push(this.alternative());return{type:"Disjunction",value:W,loc:this.loc(Z)}},E.prototype.alternative=function(){for(var W=[],Z=this.idx;this.isTerm();)W.push(this.term());return{type:"Alternative",value:W,loc:this.loc(Z)}},E.prototype.term=function(){return this.isAssertion()?this.assertion():this.atom()},E.prototype.assertion=function(){var W=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(W)};case"$":return{type:"EndAnchor",loc:this.loc(W)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(W)};case"B":return{type:"NonWordBoundary",loc:this.loc(W)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");var Z;switch(this.popChar()){case"=":Z="Lookahead";break;case"!":Z="NegativeLookahead";break}Y(Z);var $=this.disjunction();return this.consumeChar(")"),{type:Z,value:$,loc:this.loc(W)}}H()},E.prototype.quantifier=function(W){var Z,$=this.idx;switch(this.popChar()){case"*":Z={atLeast:0,atMost:1/0};break;case"+":Z={atLeast:1,atMost:1/0};break;case"?":Z={atLeast:0,atMost:1};break;case"{":var X=this.integerIncludingZero();switch(this.popChar()){case"}":Z={atLeast:X,atMost:X};break;case",":var N;this.isDigit()?(N=this.integerIncludingZero(),Z={atLeast:X,atMost:N}):Z={atLeast:X,atMost:1/0},this.consumeChar("}");break}if(W===!0&&Z===void 0)return;Y(Z);break}if(!(W===!0&&Z===void 0))return Y(Z),this.peekChar(0)==="?"?(this.consumeChar("?"),Z.greedy=!1):Z.greedy=!0,Z.type="Quantifier",Z.loc=this.loc($),Z},E.prototype.atom=function(){var W,Z=this.idx;switch(this.peekChar()){case".":W=this.dotAll();break;case"\\":W=this.atomEscape();break;case"[":W=this.characterClass();break;case"(":W=this.group();break}return W===void 0&&this.isPatternCharacter()&&(W=this.patternCharacter()),Y(W),W.loc=this.loc(Z),this.isQuantifier()&&(W.quantifier=this.quantifier()),W},E.prototype.dotAll=function(){return this.consumeChar("."),{type:"Set",complement:!0,value:[J(`
`),J("\r"),J("\u2028"),J("\u2029")]}},E.prototype.atomEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},E.prototype.decimalEscapeAtom=function(){var W=this.positiveInteger();return{type:"GroupBackReference",value:W}},E.prototype.characterClassEscape=function(){var W,Z=!1;switch(this.popChar()){case"d":W=G;break;case"D":W=G,Z=!0;break;case"s":W=F;break;case"S":W=F,Z=!0;break;case"w":W=O;break;case"W":W=O,Z=!0;break}return Y(W),{type:"Set",value:W,complement:Z}},E.prototype.controlEscapeAtom=function(){var W;switch(this.popChar()){case"f":W=J("\f");break;case"n":W=J(`
`);break;case"r":W=J("\r");break;case"t":W=J("	");break;case"v":W=J("\v");break}return Y(W),{type:"Character",value:W}},E.prototype.controlLetterEscapeAtom=function(){this.consumeChar("c");var W=this.popChar();if(/[a-zA-Z]/.test(W)===!1)throw Error("Invalid ");var Z=W.toUpperCase().charCodeAt(0)-64;return{type:"Character",value:Z}},E.prototype.nulCharacterAtom=function(){return this.consumeChar("0"),{type:"Character",value:J("\0")}},E.prototype.hexEscapeSequenceAtom=function(){return this.consumeChar("x"),this.parseHexDigits(2)},E.prototype.regExpUnicodeEscapeSequenceAtom=function(){return this.consumeChar("u"),this.parseHexDigits(4)},E.prototype.identityEscapeAtom=function(){var W=this.popChar();return{type:"Character",value:J(W)}},E.prototype.classPatternCharacterAtom=function(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:var W=this.popChar();return{type:"Character",value:J(W)}}},E.prototype.characterClass=function(){var W=[],Z=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),Z=!0);this.isClassAtom();){var $=this.classAtom(),X=$.type==="Character";if(X&&this.isRangeDash()){this.consumeChar("-");var N=this.classAtom(),M=N.type==="Character";if(M){if(N.value<$.value)throw Error("Range out of order in character class");W.push({from:$.value,to:N.value})}else C($.value,W),W.push(J("-")),C(N.value,W)}else C($.value,W)}return this.consumeChar("]"),{type:"Set",complement:Z,value:W}},E.prototype.classAtom=function(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}},E.prototype.classEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:J("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},E.prototype.group=function(){var W=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),W=!1;break;default:this.groupIdx++;break}var Z=this.disjunction();this.consumeChar(")");var $={type:"Group",capturing:W,value:Z};return W&&($.idx=this.groupIdx),$},E.prototype.positiveInteger=function(){var W=this.popChar();if(K.test(W)===!1)throw Error("Expecting a positive integer");for(;I.test(this.peekChar(0));)W+=this.popChar();return parseInt(W,10)},E.prototype.integerIncludingZero=function(){var W=this.popChar();if(I.test(W)===!1)throw Error("Expecting an integer");for(;I.test(this.peekChar(0));)W+=this.popChar();return parseInt(W,10)},E.prototype.patternCharacter=function(){var W=this.popChar();switch(W){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:J(W)}}},E.prototype.isRegExpFlag=function(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}},E.prototype.isRangeDash=function(){return this.peekChar()==="-"&&this.isClassAtom(1)},E.prototype.isDigit=function(){return I.test(this.peekChar(0))},E.prototype.isClassAtom=function(W){switch(W===void 0&&(W=0),this.peekChar(W)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},E.prototype.isTerm=function(){return this.isAtom()||this.isAssertion()},E.prototype.isAtom=function(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}},E.prototype.isAssertion=function(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}},E.prototype.isQuantifier=function(){var W=this.saveState();try{return this.quantifier(!0)!==void 0}catch(Z){return!1}finally{this.restoreState(W)}},E.prototype.isPatternCharacter=function(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},E.prototype.parseHexDigits=function(W){for(var Z="",$=0;$<W;$++){var X=this.popChar();if(B.test(X)===!1)throw Error("Expecting a HexDecimal digits");Z+=X}var N=parseInt(Z,16);return{type:"Character",value:N}},E.prototype.peekChar=function(W){return W===void 0&&(W=0),this.input[this.idx+W]},E.prototype.popChar=function(){var W=this.peekChar(0);return this.consumeChar(),W},E.prototype.consumeChar=function(W){if(W!==void 0&&this.input[this.idx]!==W)throw Error("Expected: '"+W+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++},E.prototype.loc=function(W){return{begin:W,end:this.idx}};var B=/[0-9a-fA-F]/,I=/[0-9]/,K=/[1-9]/;function J(W){return W.charCodeAt(0)}function C(W,Z){W.length!==void 0?W.forEach(function($){Z.push($)}):Z.push(W)}function U(W,Z){if(W[Z]===!0)throw"duplicate flag "+Z;W[Z]=!0}function Y(W){if(W===void 0)throw Error("Internal Error - Should never get here!")}function H(){throw Error("Internal Error - Should never get here!")}var R,G=[];for(R=J("0");R<=J("9");R++)G.push(R);var O=[J("_")].concat(G);for(R=J("a");R<=J("z");R++)O.push(R);for(R=J("A");R<=J("Z");R++)O.push(R);var F=[J(" "),J("\f"),J(`
`),J("\r"),J("	"),J("\v"),J("	"),J("\xA0"),J("\u1680"),J("\u2000"),J("\u2001"),J("\u2002"),J("\u2003"),J("\u2004"),J("\u2005"),J("\u2006"),J("\u2007"),J("\u2008"),J("\u2009"),J("\u200A"),J("\u2028"),J("\u2029"),J("\u202F"),J("\u205F"),J("\u3000"),J("\uFEFF")];function q(){}return q.prototype.visitChildren=function(W){for(var Z in W){var $=W[Z];W.hasOwnProperty(Z)&&($.type!==void 0?this.visit($):Array.isArray($)&&$.forEach(function(X){this.visit(X)},this))}},q.prototype.visit=function(W){switch(W.type){case"Pattern":this.visitPattern(W);break;case"Flags":this.visitFlags(W);break;case"Disjunction":this.visitDisjunction(W);break;case"Alternative":this.visitAlternative(W);break;case"StartAnchor":this.visitStartAnchor(W);break;case"EndAnchor":this.visitEndAnchor(W);break;case"WordBoundary":this.visitWordBoundary(W);break;case"NonWordBoundary":this.visitNonWordBoundary(W);break;case"Lookahead":this.visitLookahead(W);break;case"NegativeLookahead":this.visitNegativeLookahead(W);break;case"Character":this.visitCharacter(W);break;case"Set":this.visitSet(W);break;case"Group":this.visitGroup(W);break;case"GroupBackReference":this.visitGroupBackReference(W);break;case"Quantifier":this.visitQuantifier(W);break}this.visitChildren(W)},q.prototype.visitPattern=function(W){},q.prototype.visitFlags=function(W){},q.prototype.visitDisjunction=function(W){},q.prototype.visitAlternative=function(W){},q.prototype.visitStartAnchor=function(W){},q.prototype.visitEndAnchor=function(W){},q.prototype.visitWordBoundary=function(W){},q.prototype.visitNonWordBoundary=function(W){},q.prototype.visitLookahead=function(W){},q.prototype.visitNegativeLookahead=function(W){},q.prototype.visitCharacter=function(W){},q.prototype.visitSet=function(W){},q.prototype.visitGroup=function(W){},q.prototype.visitGroupBackReference=function(W){},q.prototype.visitQuantifier=function(W){},{RegExpParser:E,BaseRegExpVisitor:q,VERSION:"0.5.0"}})}),d$=S0((A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.clearRegExpParserCache=A.getRegExpAst=void 0;var Q=c$(),E={},B=new Q.RegExpParser;function I(J){var C=J.toString();if(E.hasOwnProperty(C))return E[C];var U=B.pattern(C);return E[C]=U,U}A.getRegExpAst=I;function K(){E={}}A.clearRegExpParserCache=K}),_t=S0((A)=>{var Q=A&&A.__extends||function(){var q=function(W,Z){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,X){$.__proto__=X}||function($,X){for(var N in X)Object.prototype.hasOwnProperty.call(X,N)&&($[N]=X[N])},q(W,Z)};return function(W,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Class extends value "+String(Z)+" is not a constructor or null");q(W,Z);function $(){this.constructor=W}W.prototype=Z===null?Object.create(Z):($.prototype=Z.prototype,new $)}}();Object.defineProperty(A,"__esModule",{value:!0}),A.canMatchCharCode=A.firstCharOptimizedIndices=A.getOptimizedStartCodesIndices=A.failedOptimizationPrefixMsg=void 0;var E=c$(),B=r0(),I=d$(),K=AT(),J="Complement Sets are not supported for first char optimization";A.failedOptimizationPrefixMsg=`Unable to use "first char" lexer optimizations:
`;function C(q,W){W===void 0&&(W=!1);try{var Z=I.getRegExpAst(q),$=U(Z.value,{},Z.flags.ignoreCase);return $}catch(N){if(N.message===J)W&&B.PRINT_WARNING(""+A.failedOptimizationPrefixMsg+("	Unable to optimize: < "+q.toString()+` >
`)+`	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{var X="";W&&(X=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),B.PRINT_ERROR(A.failedOptimizationPrefixMsg+`
`+("	Failed parsing: < "+q.toString()+` >
`)+("	Using the regexp-to-ast library version: "+E.VERSION+`
`)+"	Please open an issue at: https://github.com/bd82/regexp-to-ast/issues"+X)}}return[]}A.getOptimizedStartCodesIndices=C;function U(q,W,Z){switch(q.type){case"Disjunction":for(var $=0;$<q.value.length;$++)U(q.value[$],W,Z);break;case"Alternative":for(var X=q.value,$=0;$<X.length;$++){var N=X[$];switch(N.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}var M=N;switch(M.type){case"Character":Y(M.value,W,Z);break;case"Set":if(M.complement===!0)throw Error(J);B.forEach(M.value,function(w){if(typeof w=="number")Y(w,W,Z);else{var P=w;if(Z===!0)for(var V=P.from;V<=P.to;V++)Y(V,W,Z);else{for(var V=P.from;V<=P.to&&V<K.minOptimizationVal;V++)Y(V,W,Z);if(P.to>=K.minOptimizationVal)for(var T=P.from>=K.minOptimizationVal?P.from:K.minOptimizationVal,S=P.to,h=K.charCodeToOptimizedIndex(T),x=K.charCodeToOptimizedIndex(S),y=h;y<=x;y++)W[y]=y}}});break;case"Group":U(M.value,W,Z);break;default:throw Error("Non Exhaustive Match")}var L=M.quantifier!==void 0&&M.quantifier.atLeast===0;if(M.type==="Group"&&G(M)===!1||M.type!=="Group"&&L===!1)break}break;default:throw Error("non exhaustive match!")}return B.values(W)}A.firstCharOptimizedIndices=U;function Y(q,W,Z){var $=K.charCodeToOptimizedIndex(q);W[$]=$,Z===!0&&H(q,W)}function H(q,W){var Z=String.fromCharCode(q),$=Z.toUpperCase();if($!==Z){var X=K.charCodeToOptimizedIndex($.charCodeAt(0));W[X]=X}else{var N=Z.toLowerCase();if(N!==Z){var X=K.charCodeToOptimizedIndex(N.charCodeAt(0));W[X]=X}}}function R(q,W){return B.find(q.value,function(Z){if(typeof Z=="number")return B.contains(W,Z);var $=Z;return B.find(W,function(X){return $.from<=X&&X<=$.to})!==void 0})}function G(q){return q.quantifier&&q.quantifier.atLeast===0?!0:q.value?B.isArray(q.value)?B.every(q.value,G):G(q.value):!1}var O=function(q){Q(W,q);function W(Z){var $=q.call(this)||this;return $.targetCharCodes=Z,$.found=!1,$}return W.prototype.visitChildren=function(Z){if(this.found!==!0){switch(Z.type){case"Lookahead":this.visitLookahead(Z);return;case"NegativeLookahead":this.visitNegativeLookahead(Z);return}q.prototype.visitChildren.call(this,Z)}},W.prototype.visitCharacter=function(Z){B.contains(this.targetCharCodes,Z.value)&&(this.found=!0)},W.prototype.visitSet=function(Z){Z.complement?R(Z,this.targetCharCodes)===void 0&&(this.found=!0):R(Z,this.targetCharCodes)!==void 0&&(this.found=!0)},W}(E.BaseRegExpVisitor);function F(q,W){if(W instanceof RegExp){var Z=I.getRegExpAst(W),$=new O(q);return $.visit(Z),$.found}else return B.find(W,function(X){return B.contains(q,X.charCodeAt(0))})!==void 0}A.canMatchCharCode=F}),AT=S0((A)=>{var Q=A&&A.__extends||function(){var s=function(t,r){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(EA,JA){EA.__proto__=JA}||function(EA,JA){for(var YA in JA)Object.prototype.hasOwnProperty.call(JA,YA)&&(EA[YA]=JA[YA])},s(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");s(t,r);function EA(){this.constructor=t}t.prototype=r===null?Object.create(r):(EA.prototype=r.prototype,new EA)}}();Object.defineProperty(A,"__esModule",{value:!0}),A.charCodeToOptimizedIndex=A.minOptimizationVal=A.buildLineBreakIssueMessage=A.LineTerminatorOptimizedTester=A.isShortPattern=A.isCustomPattern=A.cloneEmptyGroups=A.performWarningRuntimeChecks=A.performRuntimeChecks=A.addStickyFlag=A.addStartOfInput=A.findUnreachablePatterns=A.findModesThatDoNotExist=A.findInvalidGroupType=A.findDuplicatePatterns=A.findUnsupportedFlags=A.findStartOfInputAnchor=A.findEmptyMatchRegExps=A.findEndOfInputAnchor=A.findInvalidPatterns=A.findMissingPatterns=A.validatePatterns=A.analyzeTokenTypes=A.enableSticky=A.disableSticky=A.SUPPORT_STICKY=A.MODES=A.DEFAULT_MODE=void 0;var E=c$(),B=yY(),I=r0(),K=_t(),J=d$(),C="PATTERN";A.DEFAULT_MODE="defaultMode",A.MODES="modes",A.SUPPORT_STICKY=typeof new RegExp("(?:)").sticky=="boolean";function U(){A.SUPPORT_STICKY=!1}A.disableSticky=U;function Y(){A.SUPPORT_STICKY=!0}A.enableSticky=Y;function H(s,t){t=I.defaults(t,{useSticky:A.SUPPORT_STICKY,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:function(XA,CA){return CA()}});var r=t.tracer;r("initCharCodeToOptimizedIndexMap",function(){AA()});var EA;r("Reject Lexer.NA",function(){EA=I.reject(s,function(XA){return XA[C]===B.Lexer.NA})});var JA=!1,YA;r("Transform Patterns",function(){JA=!1,YA=I.map(EA,function(XA){var CA=XA[C];if(I.isRegExp(CA)){var GA=CA.source;return GA.length===1&&GA!=="^"&&GA!=="$"&&GA!=="."&&!CA.ignoreCase?GA:GA.length===2&&GA[0]==="\\"&&!I.contains(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],GA[1])?GA[1]:t.useSticky?S(CA):T(CA)}else{if(I.isFunction(CA))return JA=!0,{exec:CA};if(I.has(CA,"exec"))return JA=!0,CA;if(typeof CA=="string"){if(CA.length===1)return CA;var uA=CA.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),z=new RegExp(uA);return t.useSticky?S(z):T(z)}else throw Error("non exhaustive match")}})});var IA,l,UA,BA,n;r("misc mapping",function(){IA=I.map(EA,function(XA){return XA.tokenTypeIdx}),l=I.map(EA,function(XA){var CA=XA.GROUP;if(CA!==B.Lexer.SKIPPED){if(I.isString(CA))return CA;if(I.isUndefined(CA))return!1;throw Error("non exhaustive match")}}),UA=I.map(EA,function(XA){var CA=XA.LONGER_ALT;if(CA){var GA=I.indexOf(EA,CA);return GA}}),BA=I.map(EA,function(XA){return XA.PUSH_MODE}),n=I.map(EA,function(XA){return I.has(XA,"POP_MODE")})});var i;r("Line Terminator Handling",function(){var XA=b(t.lineTerminatorCharacters);i=I.map(EA,function(CA){return!1}),t.positionTracking!=="onlyOffset"&&(i=I.map(EA,function(CA){if(I.has(CA,"LINE_BREAKS"))return CA.LINE_BREAKS;if(_(CA,XA)===!1)return K.canMatchCharCode(XA,CA.PATTERN)}))});var KA,$A,FA,e;r("Misc Mapping #2",function(){KA=I.map(EA,j),$A=I.map(YA,v),FA=I.reduce(EA,function(XA,CA){var GA=CA.GROUP;return I.isString(GA)&&GA!==B.Lexer.SKIPPED&&(XA[GA]=[]),XA},{}),e=I.map(YA,function(XA,CA){return{pattern:YA[CA],longerAlt:UA[CA],canLineTerminator:i[CA],isCustom:KA[CA],short:$A[CA],group:l[CA],push:BA[CA],pop:n[CA],tokenTypeIdx:IA[CA],tokenType:EA[CA]}})});var c=!0,HA=[];return t.safeMode||r("First Char Optimization",function(){HA=I.reduce(EA,function(XA,CA,GA){if(typeof CA.PATTERN=="string"){var uA=CA.PATTERN.charCodeAt(0),z=o(uA);p(XA,z,e[GA])}else if(I.isArray(CA.START_CHARS_HINT)){var k;I.forEach(CA.START_CHARS_HINT,function(d){var a=typeof d=="string"?d.charCodeAt(0):d,OA=o(a);k!==OA&&(k=OA,p(XA,OA,e[GA]))})}else if(I.isRegExp(CA.PATTERN))if(CA.PATTERN.unicode)c=!1,t.ensureOptimizations&&I.PRINT_ERROR(""+K.failedOptimizationPrefixMsg+("	Unable to analyze < "+CA.PATTERN.toString()+` > pattern.
`)+`	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{var u=K.getOptimizedStartCodesIndices(CA.PATTERN,t.ensureOptimizations);I.isEmpty(u)&&(c=!1),I.forEach(u,function(d){p(XA,d,e[GA])})}else t.ensureOptimizations&&I.PRINT_ERROR(""+K.failedOptimizationPrefixMsg+("	TokenType: <"+CA.name+`> is using a custom token pattern without providing <start_chars_hint> parameter.
`)+`	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),c=!1;return XA},[])}),r("ArrayPacking",function(){HA=I.packArray(HA)}),{emptyGroups:FA,patternIdxToConfig:e,charCodeToPatternIdxToConfig:HA,hasCustom:JA,canBeOptimized:c}}A.analyzeTokenTypes=H;function R(s,t){var r=[],EA=O(s);r=r.concat(EA.errors);var JA=F(EA.valid),YA=JA.valid;return r=r.concat(JA.errors),r=r.concat(G(YA)),r=r.concat(L(YA)),r=r.concat(D(YA,t)),r=r.concat(w(YA)),r}A.validatePatterns=R;function G(s){var t=[],r=I.filter(s,function(EA){return I.isRegExp(EA[C])});return t=t.concat(W(r)),t=t.concat(X(r)),t=t.concat(N(r)),t=t.concat(M(r)),t=t.concat(Z(r)),t}function O(s){var t=I.filter(s,function(JA){return!I.has(JA,C)}),r=I.map(t,function(JA){return{message:"Token Type: ->"+JA.name+"<- missing static 'PATTERN' property",type:B.LexerDefinitionErrorType.MISSING_PATTERN,tokenTypes:[JA]}}),EA=I.difference(s,t);return{errors:r,valid:EA}}A.findMissingPatterns=O;function F(s){var t=I.filter(s,function(JA){var YA=JA[C];return!I.isRegExp(YA)&&!I.isFunction(YA)&&!I.has(YA,"exec")&&!I.isString(YA)}),r=I.map(t,function(JA){return{message:"Token Type: ->"+JA.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:B.LexerDefinitionErrorType.INVALID_PATTERN,tokenTypes:[JA]}}),EA=I.difference(s,t);return{errors:r,valid:EA}}A.findInvalidPatterns=F;var q=/[^\\][\$]/;function W(s){var t=function(JA){Q(YA,JA);function YA(){var IA=JA!==null&&JA.apply(this,arguments)||this;return IA.found=!1,IA}return YA.prototype.visitEndAnchor=function(IA){this.found=!0},YA}(E.BaseRegExpVisitor),r=I.filter(s,function(JA){var YA=JA[C];try{var IA=J.getRegExpAst(YA),l=new t;return l.visit(IA),l.found}catch(UA){return q.test(YA.source)}}),EA=I.map(r,function(JA){return{message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+JA.name+`<- static 'PATTERN' cannot contain end of input anchor '\$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:B.LexerDefinitionErrorType.EOI_ANCHOR_FOUND,tokenTypes:[JA]}});return EA}A.findEndOfInputAnchor=W;function Z(s){var t=I.filter(s,function(EA){var JA=EA[C];return JA.test("")}),r=I.map(t,function(EA){return{message:"Token Type: ->"+EA.name+"<- static 'PATTERN' must not match an empty string",type:B.LexerDefinitionErrorType.EMPTY_MATCH_PATTERN,tokenTypes:[EA]}});return r}A.findEmptyMatchRegExps=Z;var $=/[^\\[][\^]|^\^/;function X(s){var t=function(JA){Q(YA,JA);function YA(){var IA=JA!==null&&JA.apply(this,arguments)||this;return IA.found=!1,IA}return YA.prototype.visitStartAnchor=function(IA){this.found=!0},YA}(E.BaseRegExpVisitor),r=I.filter(s,function(JA){var YA=JA[C];try{var IA=J.getRegExpAst(YA),l=new t;return l.visit(IA),l.found}catch(UA){return $.test(YA.source)}}),EA=I.map(r,function(JA){return{message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+JA.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:B.LexerDefinitionErrorType.SOI_ANCHOR_FOUND,tokenTypes:[JA]}});return EA}A.findStartOfInputAnchor=X;function N(s){var t=I.filter(s,function(EA){var JA=EA[C];return JA instanceof RegExp&&(JA.multiline||JA.global)}),r=I.map(t,function(EA){return{message:"Token Type: ->"+EA.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:B.LexerDefinitionErrorType.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[EA]}});return r}A.findUnsupportedFlags=N;function M(s){var t=[],r=I.map(s,function(YA){return I.reduce(s,function(IA,l){return YA.PATTERN.source===l.PATTERN.source&&!I.contains(t,l)&&l.PATTERN!==B.Lexer.NA&&(t.push(l),IA.push(l)),IA},[])});r=I.compact(r);var EA=I.filter(r,function(YA){return YA.length>1}),JA=I.map(EA,function(YA){var IA=I.map(YA,function(UA){return UA.name}),l=I.first(YA).PATTERN;return{message:"The same RegExp pattern ->"+l+"<-"+("has been used in all of the following Token Types: "+IA.join(", ")+" <-"),type:B.LexerDefinitionErrorType.DUPLICATE_PATTERNS_FOUND,tokenTypes:YA}});return JA}A.findDuplicatePatterns=M;function L(s){var t=I.filter(s,function(EA){if(!I.has(EA,"GROUP"))return!1;var JA=EA.GROUP;return JA!==B.Lexer.SKIPPED&&JA!==B.Lexer.NA&&!I.isString(JA)}),r=I.map(t,function(EA){return{message:"Token Type: ->"+EA.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:B.LexerDefinitionErrorType.INVALID_GROUP_TYPE_FOUND,tokenTypes:[EA]}});return r}A.findInvalidGroupType=L;function D(s,t){var r=I.filter(s,function(JA){return JA.PUSH_MODE!==void 0&&!I.contains(t,JA.PUSH_MODE)}),EA=I.map(r,function(JA){var YA="Token Type: ->"+JA.name+"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->"+JA.PUSH_MODE+"<-which does not exist";return{message:YA,type:B.LexerDefinitionErrorType.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[JA]}});return EA}A.findModesThatDoNotExist=D;function w(s){var t=[],r=I.reduce(s,function(EA,JA,YA){var IA=JA.PATTERN;return IA===B.Lexer.NA||(I.isString(IA)?EA.push({str:IA,idx:YA,tokenType:JA}):I.isRegExp(IA)&&V(IA)&&EA.push({str:IA.source,idx:YA,tokenType:JA})),EA},[]);return I.forEach(s,function(EA,JA){I.forEach(r,function(YA){var{str:IA,idx:l,tokenType:UA}=YA;if(JA<l&&P(IA,EA.PATTERN)){var BA="Token: ->"+UA.name+`<- can never be matched.
`+("Because it appears AFTER the Token Type ->"+EA.name+"<-")+`in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;t.push({message:BA,type:B.LexerDefinitionErrorType.UNREACHABLE_PATTERN,tokenTypes:[EA,UA]})}})}),t}A.findUnreachablePatterns=w;function P(s,t){if(I.isRegExp(t)){var r=t.exec(s);return r!==null&&r.index===0}else{if(I.isFunction(t))return t(s,0,[],{});if(I.has(t,"exec"))return t.exec(s,0,[],{});if(typeof t=="string")return t===s;throw Error("non exhaustive match")}}function V(s){var t=[".","\\","[","]","|","^","$","(",")","?","*","+","{"];return I.find(t,function(r){return s.source.indexOf(r)!==-1})===void 0}function T(s){var t=s.ignoreCase?"i":"";return new RegExp("^(?:"+s.source+")",t)}A.addStartOfInput=T;function S(s){var t=s.ignoreCase?"iy":"y";return new RegExp(""+s.source,t)}A.addStickyFlag=S;function h(s,t,r){var EA=[];return I.has(s,A.DEFAULT_MODE)||EA.push({message:"A MultiMode Lexer cannot be initialized without a <"+A.DEFAULT_MODE+`> property in its definition
`,type:B.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),I.has(s,A.MODES)||EA.push({message:"A MultiMode Lexer cannot be initialized without a <"+A.MODES+`> property in its definition
`,type:B.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),I.has(s,A.MODES)&&I.has(s,A.DEFAULT_MODE)&&!I.has(s.modes,s.defaultMode)&&EA.push({message:"A MultiMode Lexer cannot be initialized with a "+A.DEFAULT_MODE+": <"+s.defaultMode+`>which does not exist
`,type:B.LexerDefinitionErrorType.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),I.has(s,A.MODES)&&I.forEach(s.modes,function(JA,YA){I.forEach(JA,function(IA,l){I.isUndefined(IA)&&EA.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:"+("<"+YA+"> at index: <"+l+`>
`),type:B.LexerDefinitionErrorType.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED})})}),EA}A.performRuntimeChecks=h;function x(s,t,r){var EA=[],JA=!1,YA=I.compact(I.flatten(I.mapValues(s.modes,function(UA){return UA}))),IA=I.reject(YA,function(UA){return UA[C]===B.Lexer.NA}),l=b(r);return t&&I.forEach(IA,function(UA){var BA=_(UA,l);if(BA!==!1){var n=g(UA,BA),i={message:n,type:BA.issue,tokenType:UA};EA.push(i)}else I.has(UA,"LINE_BREAKS")?UA.LINE_BREAKS===!0&&(JA=!0):K.canMatchCharCode(l,UA.PATTERN)&&(JA=!0)}),t&&!JA&&EA.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS
	for details.`,type:B.LexerDefinitionErrorType.NO_LINE_BREAKS_FLAGS}),EA}A.performWarningRuntimeChecks=x;function y(s){var t={},r=I.keys(s);return I.forEach(r,function(EA){var JA=s[EA];if(I.isArray(JA))t[EA]=[];else throw Error("non exhaustive match")}),t}A.cloneEmptyGroups=y;function j(s){var t=s.PATTERN;if(I.isRegExp(t))return!1;if(I.isFunction(t))return!0;if(I.has(t,"exec"))return!0;if(I.isString(t))return!1;throw Error("non exhaustive match")}A.isCustomPattern=j;function v(s){return I.isString(s)&&s.length===1?s.charCodeAt(0):!1}A.isShortPattern=v,A.LineTerminatorOptimizedTester={test:function(s){for(var t=s.length,r=this.lastIndex;r<t;r++){var EA=s.charCodeAt(r);if(EA===10)return this.lastIndex=r+1,!0;if(EA===13)return s.charCodeAt(r+1)===10?this.lastIndex=r+2:this.lastIndex=r+1,!0}return!1},lastIndex:0};function _(s,t){if(I.has(s,"LINE_BREAKS"))return!1;if(I.isRegExp(s.PATTERN)){try{K.canMatchCharCode(t,s.PATTERN)}catch(r){return{issue:B.LexerDefinitionErrorType.IDENTIFY_TERMINATOR,errMsg:r.message}}return!1}else{if(I.isString(s.PATTERN))return!1;if(j(s))return{issue:B.LexerDefinitionErrorType.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function g(s,t){if(t.issue===B.LexerDefinitionErrorType.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
`+("	The problem is in the <"+s.name+`> Token Type
`)+("	 Root cause: "+t.errMsg+`.
`)+"	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR";if(t.issue===B.LexerDefinitionErrorType.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
`+("	The problem is in the <"+s.name+`> Token Type
`)+"	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK";throw Error("non exhaustive match")}A.buildLineBreakIssueMessage=g;function b(s){var t=I.map(s,function(r){return I.isString(r)&&r.length>0?r.charCodeAt(0):r});return t}function p(s,t,r){s[t]===void 0?s[t]=[r]:s[t].push(r)}A.minOptimizationVal=256;var m=[];function o(s){return s<A.minOptimizationVal?s:m[s]}A.charCodeToOptimizedIndex=o;function AA(){if(I.isEmpty(m)){m=new Array(65536);for(var s=0;s<65536;s++)m[s]=s>255?255+~~(s/255):s}}}),wC=S0((A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.isTokenType=A.hasExtendingTokensTypesMapProperty=A.hasExtendingTokensTypesProperty=A.hasCategoriesProperty=A.hasShortKeyProperty=A.singleAssignCategoriesToksMap=A.assignCategoriesMapProp=A.assignCategoriesTokensProp=A.assignTokenDefaultProps=A.expandCategories=A.augmentTokenTypes=A.tokenIdxToClass=A.tokenShortNameIdx=A.tokenStructuredMatcherNoCategories=A.tokenStructuredMatcher=void 0;var Q=r0();function E(q,W){var Z=q.tokenTypeIdx;return Z===W.tokenTypeIdx?!0:W.isParent===!0&&W.categoryMatchesMap[Z]===!0}A.tokenStructuredMatcher=E;function B(q,W){return q.tokenTypeIdx===W.tokenTypeIdx}A.tokenStructuredMatcherNoCategories=B,A.tokenShortNameIdx=1,A.tokenIdxToClass={};function I(q){var W=K(q);J(W),U(W),C(W),Q.forEach(W,function(Z){Z.isParent=Z.categoryMatches.length>0})}A.augmentTokenTypes=I;function K(q){for(var W=Q.cloneArr(q),Z=q,$=!0;$;){Z=Q.compact(Q.flatten(Q.map(Z,function(N){return N.CATEGORIES})));var X=Q.difference(Z,W);W=W.concat(X),Q.isEmpty(X)?$=!1:Z=X}return W}A.expandCategories=K;function J(q){Q.forEach(q,function(W){H(W)||(A.tokenIdxToClass[A.tokenShortNameIdx]=W,W.tokenTypeIdx=A.tokenShortNameIdx++),R(W)&&!Q.isArray(W.CATEGORIES)&&(W.CATEGORIES=[W.CATEGORIES]),R(W)||(W.CATEGORIES=[]),G(W)||(W.categoryMatches=[]),O(W)||(W.categoryMatchesMap={})})}A.assignTokenDefaultProps=J;function C(q){Q.forEach(q,function(W){W.categoryMatches=[],Q.forEach(W.categoryMatchesMap,function(Z,$){W.categoryMatches.push(A.tokenIdxToClass[$].tokenTypeIdx)})})}A.assignCategoriesTokensProp=C;function U(q){Q.forEach(q,function(W){Y([],W)})}A.assignCategoriesMapProp=U;function Y(q,W){Q.forEach(q,function(Z){W.categoryMatchesMap[Z.tokenTypeIdx]=!0}),Q.forEach(W.CATEGORIES,function(Z){var $=q.concat(W);Q.contains($,Z)||Y($,Z)})}A.singleAssignCategoriesToksMap=Y;function H(q){return Q.has(q,"tokenTypeIdx")}A.hasShortKeyProperty=H;function R(q){return Q.has(q,"CATEGORIES")}A.hasCategoriesProperty=R;function G(q){return Q.has(q,"categoryMatches")}A.hasExtendingTokensTypesProperty=G;function O(q){return Q.has(q,"categoryMatchesMap")}A.hasExtendingTokensTypesMapProperty=O;function F(q){return Q.has(q,"tokenTypeIdx")}A.isTokenType=F}),QT=S0((A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.defaultLexerErrorProvider=void 0,A.defaultLexerErrorProvider={buildUnableToPopLexerModeMessage:function(Q){return"Unable to pop Lexer Mode after encountering Token ->"+Q.image+"<- The Mode Stack is empty"},buildUnexpectedCharactersMessage:function(Q,E,B,I,K){return"unexpected character: ->"+Q.charAt(E)+"<- at offset: "+E+","+(" skipped "+B+" characters.")}}}),yY=S0((A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.Lexer=A.LexerDefinitionErrorType=void 0;var Q=AT(),E=r0(),B=wC(),I=QT(),K=d$(),J;(function(Y){Y[Y.MISSING_PATTERN=0]="MISSING_PATTERN",Y[Y.INVALID_PATTERN=1]="INVALID_PATTERN",Y[Y.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",Y[Y.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",Y[Y.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",Y[Y.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",Y[Y.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",Y[Y.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",Y[Y.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",Y[Y.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",Y[Y.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",Y[Y.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",Y[Y.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",Y[Y.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",Y[Y.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",Y[Y.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",Y[Y.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK"})(J=A.LexerDefinitionErrorType||(A.LexerDefinitionErrorType={}));var C={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:I.defaultLexerErrorProvider,traceInitPerf:!1,skipValidations:!1};Object.freeze(C);var U=function(){function Y(H,R){var G=this;if(R===void 0&&(R=C),this.lexerDefinition=H,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.config=void 0,this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},typeof R=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=E.merge(C,R);var O=this.config.traceInitPerf;O===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof O=="number"&&(this.traceInitMaxIdent=O,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",function(){var F,q=!0;G.TRACE_INIT("Lexer Config handling",function(){if(G.config.lineTerminatorsPattern===C.lineTerminatorsPattern)G.config.lineTerminatorsPattern=Q.LineTerminatorOptimizedTester;else if(G.config.lineTerminatorCharacters===C.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(R.safeMode&&R.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');G.trackStartLines=/full|onlyStart/i.test(G.config.positionTracking),G.trackEndLines=/full/i.test(G.config.positionTracking),E.isArray(H)?(F={modes:{}},F.modes[Q.DEFAULT_MODE]=E.cloneArr(H),F[Q.DEFAULT_MODE]=Q.DEFAULT_MODE):(q=!1,F=E.cloneObj(H))}),G.config.skipValidations===!1&&(G.TRACE_INIT("performRuntimeChecks",function(){G.lexerDefinitionErrors=G.lexerDefinitionErrors.concat(Q.performRuntimeChecks(F,G.trackStartLines,G.config.lineTerminatorCharacters))}),G.TRACE_INIT("performWarningRuntimeChecks",function(){G.lexerDefinitionWarning=G.lexerDefinitionWarning.concat(Q.performWarningRuntimeChecks(F,G.trackStartLines,G.config.lineTerminatorCharacters))})),F.modes=F.modes?F.modes:{},E.forEach(F.modes,function(X,N){F.modes[N]=E.reject(X,function(M){return E.isUndefined(M)})});var W=E.keys(F.modes);if(E.forEach(F.modes,function(X,N){G.TRACE_INIT("Mode: <"+N+"> processing",function(){if(G.modes.push(N),G.config.skipValidations===!1&&G.TRACE_INIT("validatePatterns",function(){G.lexerDefinitionErrors=G.lexerDefinitionErrors.concat(Q.validatePatterns(X,W))}),E.isEmpty(G.lexerDefinitionErrors)){B.augmentTokenTypes(X);var M;G.TRACE_INIT("analyzeTokenTypes",function(){M=Q.analyzeTokenTypes(X,{lineTerminatorCharacters:G.config.lineTerminatorCharacters,positionTracking:R.positionTracking,ensureOptimizations:R.ensureOptimizations,safeMode:R.safeMode,tracer:G.TRACE_INIT.bind(G)})}),G.patternIdxToConfig[N]=M.patternIdxToConfig,G.charCodeToPatternIdxToConfig[N]=M.charCodeToPatternIdxToConfig,G.emptyGroups=E.merge(G.emptyGroups,M.emptyGroups),G.hasCustom=M.hasCustom||G.hasCustom,G.canModeBeOptimized[N]=M.canBeOptimized}})}),G.defaultMode=F.defaultMode,!E.isEmpty(G.lexerDefinitionErrors)&&!G.config.deferDefinitionErrorsHandling){var Z=E.map(G.lexerDefinitionErrors,function(X){return X.message}),$=Z.join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+$)}E.forEach(G.lexerDefinitionWarning,function(X){E.PRINT_WARNING(X.message)}),G.TRACE_INIT("Choosing sub-methods implementations",function(){if(Q.SUPPORT_STICKY?(G.chopInput=E.IDENTITY,G.match=G.matchWithTest):(G.updateLastIndex=E.NOOP,G.match=G.matchWithExec),q&&(G.handleModes=E.NOOP),G.trackStartLines===!1&&(G.computeNewColumn=E.IDENTITY),G.trackEndLines===!1&&(G.updateTokenEndLineColumnLocation=E.NOOP),/full/i.test(G.config.positionTracking))G.createTokenInstance=G.createFullToken;else if(/onlyStart/i.test(G.config.positionTracking))G.createTokenInstance=G.createStartOnlyToken;else if(/onlyOffset/i.test(G.config.positionTracking))G.createTokenInstance=G.createOffsetOnlyToken;else throw Error('Invalid <positionTracking> config option: "'+G.config.positionTracking+'"');G.hasCustom?(G.addToken=G.addTokenUsingPush,G.handlePayload=G.handlePayloadWithCustom):(G.addToken=G.addTokenUsingMemberAccess,G.handlePayload=G.handlePayloadNoCustom)}),G.TRACE_INIT("Failed Optimization Warnings",function(){var X=E.reduce(G.canModeBeOptimized,function(N,M,L){return M===!1&&N.push(L),N},[]);if(R.ensureOptimizations&&!E.isEmpty(X))throw Error("Lexer Modes: < "+X.join(", ")+` > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),G.TRACE_INIT("clearRegExpParserCache",function(){K.clearRegExpParserCache()}),G.TRACE_INIT("toFastProperties",function(){E.toFastProperties(G)})})}return Y.prototype.tokenize=function(H,R){if(R===void 0&&(R=this.defaultMode),!E.isEmpty(this.lexerDefinitionErrors)){var G=E.map(this.lexerDefinitionErrors,function(q){return q.message}),O=G.join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+O)}var F=this.tokenizeInternal(H,R);return F},Y.prototype.tokenizeInternal=function(H,R){var G=this,O,F,q,W,Z,$,X,N,M,L,D,w,P,V,T,S=H,h=S.length,x=0,y=0,j=this.hasCustom?0:Math.floor(H.length/10),v=new Array(j),_=[],g=this.trackStartLines?1:void 0,b=this.trackStartLines?1:void 0,p=Q.cloneEmptyGroups(this.emptyGroups),m=this.trackStartLines,o=this.config.lineTerminatorsPattern,AA=0,s=[],t=[],r=[],EA=[];Object.freeze(EA);var JA=void 0;function YA(){return s}function IA(d){var a=Q.charCodeToOptimizedIndex(d),OA=t[a];return OA===void 0?EA:OA}var l=function(d){if(r.length===1&&d.tokenType.PUSH_MODE===void 0){var a=G.config.errorMessageProvider.buildUnableToPopLexerModeMessage(d);_.push({offset:d.startOffset,line:d.startLine!==void 0?d.startLine:void 0,column:d.startColumn!==void 0?d.startColumn:void 0,length:d.image.length,message:a})}else{r.pop();var OA=E.last(r);s=G.patternIdxToConfig[OA],t=G.charCodeToPatternIdxToConfig[OA],AA=s.length;var LA=G.canModeBeOptimized[OA]&&G.config.safeMode===!1;t&&LA?JA=IA:JA=YA}};function UA(d){r.push(d),t=this.charCodeToPatternIdxToConfig[d],s=this.patternIdxToConfig[d],AA=s.length,AA=s.length;var a=this.canModeBeOptimized[d]&&this.config.safeMode===!1;t&&a?JA=IA:JA=YA}UA.call(this,R);for(var BA;x<h;){Z=null;var n=S.charCodeAt(x),i=JA(n),KA=i.length;for(O=0;O<KA;O++){BA=i[O];var $A=BA.pattern;$=null;var FA=BA.short;if(FA!==!1?n===FA&&(Z=$A):BA.isCustom===!0?(T=$A.exec(S,x,v,p),T!==null?(Z=T[0],T.payload!==void 0&&($=T.payload)):Z=null):(this.updateLastIndex($A,x),Z=this.match($A,H,x)),Z!==null){if(W=BA.longerAlt,W!==void 0){var e=s[W],c=e.pattern;X=null,e.isCustom===!0?(T=c.exec(S,x,v,p),T!==null?(q=T[0],T.payload!==void 0&&(X=T.payload)):q=null):(this.updateLastIndex(c,x),q=this.match(c,H,x)),q&&q.length>Z.length&&(Z=q,$=X,BA=e)}break}}if(Z!==null){if(N=Z.length,M=BA.group,M!==void 0&&(L=BA.tokenTypeIdx,D=this.createTokenInstance(Z,x,L,BA.tokenType,g,b,N),this.handlePayload(D,$),M===!1?y=this.addToken(v,y,D):p[M].push(D)),H=this.chopInput(H,N),x=x+N,b=this.computeNewColumn(b,N),m===!0&&BA.canLineTerminator===!0){var HA=0,XA=void 0,CA=void 0;o.lastIndex=0;do XA=o.test(Z),XA===!0&&(CA=o.lastIndex-1,HA++);while(XA===!0);HA!==0&&(g=g+HA,b=N-CA,this.updateTokenEndLineColumnLocation(D,M,CA,HA,g,b,N))}this.handleModes(BA,l,UA,D)}else{for(var GA=x,uA=g,z=b,k=!1;!k&&x<h;)for(P=S.charCodeAt(x),H=this.chopInput(H,1),x++,F=0;F<AA;F++){var u=s[F],$A=u.pattern,FA=u.short;if(FA!==!1?S.charCodeAt(x)===FA&&(k=!0):u.isCustom===!0?k=$A.exec(S,x,v,p)!==null:(this.updateLastIndex($A,x),k=$A.exec(H)!==null),k===!0)break}w=x-GA,V=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(S,GA,w,uA,z),_.push({offset:GA,line:uA,column:z,length:w,message:V})}}return this.hasCustom||(v.length=y),{tokens:v,groups:p,errors:_}},Y.prototype.handleModes=function(H,R,G,O){if(H.pop===!0){var F=H.push;R(O),F!==void 0&&G.call(this,F)}else H.push!==void 0&&G.call(this,H.push)},Y.prototype.chopInput=function(H,R){return H.substring(R)},Y.prototype.updateLastIndex=function(H,R){H.lastIndex=R},Y.prototype.updateTokenEndLineColumnLocation=function(H,R,G,O,F,q,W){var Z,$;R!==void 0&&(Z=G===W-1,$=Z?-1:0,O===1&&Z===!0||(H.endLine=F+$,H.endColumn=q-1+-$))},Y.prototype.computeNewColumn=function(H,R){return H+R},Y.prototype.createTokenInstance=function(){for(var H=[],R=0;R<arguments.length;R++)H[R]=arguments[R];return null},Y.prototype.createOffsetOnlyToken=function(H,R,G,O){return{image:H,startOffset:R,tokenTypeIdx:G,tokenType:O}},Y.prototype.createStartOnlyToken=function(H,R,G,O,F,q){return{image:H,startOffset:R,startLine:F,startColumn:q,tokenTypeIdx:G,tokenType:O}},Y.prototype.createFullToken=function(H,R,G,O,F,q,W){return{image:H,startOffset:R,endOffset:R+W-1,startLine:F,endLine:F,startColumn:q,endColumn:q+W-1,tokenTypeIdx:G,tokenType:O}},Y.prototype.addToken=function(H,R,G){return 666},Y.prototype.addTokenUsingPush=function(H,R,G){return H.push(G),R},Y.prototype.addTokenUsingMemberAccess=function(H,R,G){return H[R]=G,R++,R},Y.prototype.handlePayload=function(H,R){},Y.prototype.handlePayloadNoCustom=function(H,R){},Y.prototype.handlePayloadWithCustom=function(H,R){R!==null&&(H.payload=R)},Y.prototype.match=function(H,R,G){return null},Y.prototype.matchWithTest=function(H,R,G){var O=H.test(R);return O===!0?R.substring(G,H.lastIndex):null},Y.prototype.matchWithExec=function(H,R){var G=H.exec(R);return G!==null?G[0]:G},Y.prototype.TRACE_INIT=function(H,R){if(this.traceInitPerf===!0){this.traceInitIndent++;var G=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(G+"--> <"+H+">");var O=E.timer(R),F=O.time,q=O.value,W=F>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&W(G+"<-- <"+H+"> time: "+F+"ms"),this.traceInitIndent--,q}else return R()},Y.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",Y.NA=/NOT_APPLICABLE/,Y}();A.Lexer=U}),B6=S0((A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.tokenMatcher=A.createTokenInstance=A.EOF=A.createToken=A.hasTokenLabel=A.tokenName=A.tokenLabel=void 0;var Q=r0(),E=yY(),B=wC();function I(N){return J(N)?N.LABEL:N.name}A.tokenLabel=I;function K(N){return N.name}A.tokenName=K;function J(N){return Q.isString(N.LABEL)&&N.LABEL!==""}A.hasTokenLabel=J;var C="parent",U="categories",Y="label",H="group",R="push_mode",G="pop_mode",O="longer_alt",F="line_breaks",q="start_chars_hint";function W(N){return Z(N)}A.createToken=W;function Z(N){var M=N.pattern,L={};if(L.name=N.name,Q.isUndefined(M)||(L.PATTERN=M),Q.has(N,C))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return Q.has(N,U)&&(L.CATEGORIES=N[U]),B.augmentTokenTypes([L]),Q.has(N,Y)&&(L.LABEL=N[Y]),Q.has(N,H)&&(L.GROUP=N[H]),Q.has(N,G)&&(L.POP_MODE=N[G]),Q.has(N,R)&&(L.PUSH_MODE=N[R]),Q.has(N,O)&&(L.LONGER_ALT=N[O]),Q.has(N,F)&&(L.LINE_BREAKS=N[F]),Q.has(N,q)&&(L.START_CHARS_HINT=N[q]),L}A.EOF=W({name:"EOF",pattern:E.Lexer.NA}),B.augmentTokenTypes([A.EOF]);function $(N,M,L,D,w,P,V,T){return{image:M,startOffset:L,endOffset:D,startLine:w,endLine:P,startColumn:V,endColumn:T,tokenTypeIdx:N.tokenTypeIdx,tokenType:N}}A.createTokenInstance=$;function X(N,M){return B.tokenStructuredMatcher(N,M)}A.tokenMatcher=X}),AE=S0((A)=>{var Q=A&&A.__extends||function(){var Z=function($,X){return Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,M){N.__proto__=M}||function(N,M){for(var L in M)Object.prototype.hasOwnProperty.call(M,L)&&(N[L]=M[L])},Z($,X)};return function($,X){if(typeof X!="function"&&X!==null)throw new TypeError("Class extends value "+String(X)+" is not a constructor or null");Z($,X);function N(){this.constructor=$}$.prototype=X===null?Object.create(X):(N.prototype=X.prototype,new N)}}();Object.defineProperty(A,"__esModule",{value:!0}),A.serializeProduction=A.serializeGrammar=A.Terminal=A.Alternation=A.RepetitionWithSeparator=A.Repetition=A.RepetitionMandatoryWithSeparator=A.RepetitionMandatory=A.Option=A.Alternative=A.Rule=A.NonTerminal=A.AbstractProduction=void 0;var E=r0(),B=B6(),I=function(){function Z($){this._definition=$}return Object.defineProperty(Z.prototype,"definition",{get:function(){return this._definition},set:function($){this._definition=$},enumerable:!1,configurable:!0}),Z.prototype.accept=function($){$.visit(this),E.forEach(this.definition,function(X){X.accept($)})},Z}();A.AbstractProduction=I;var K=function(Z){Q($,Z);function $(X){var N=Z.call(this,[])||this;return N.idx=1,E.assign(N,E.pick(X,function(M){return M!==void 0})),N}return Object.defineProperty($.prototype,"definition",{get:function(){return this.referencedRule!==void 0?this.referencedRule.definition:[]},set:function(X){},enumerable:!1,configurable:!0}),$.prototype.accept=function(X){X.visit(this)},$}(I);A.NonTerminal=K;var J=function(Z){Q($,Z);function $(X){var N=Z.call(this,X.definition)||this;return N.orgText="",E.assign(N,E.pick(X,function(M){return M!==void 0})),N}return $}(I);A.Rule=J;var C=function(Z){Q($,Z);function $(X){var N=Z.call(this,X.definition)||this;return N.ignoreAmbiguities=!1,E.assign(N,E.pick(X,function(M){return M!==void 0})),N}return $}(I);A.Alternative=C;var U=function(Z){Q($,Z);function $(X){var N=Z.call(this,X.definition)||this;return N.idx=1,E.assign(N,E.pick(X,function(M){return M!==void 0})),N}return $}(I);A.Option=U;var Y=function(Z){Q($,Z);function $(X){var N=Z.call(this,X.definition)||this;return N.idx=1,E.assign(N,E.pick(X,function(M){return M!==void 0})),N}return $}(I);A.RepetitionMandatory=Y;var H=function(Z){Q($,Z);function $(X){var N=Z.call(this,X.definition)||this;return N.idx=1,E.assign(N,E.pick(X,function(M){return M!==void 0})),N}return $}(I);A.RepetitionMandatoryWithSeparator=H;var R=function(Z){Q($,Z);function $(X){var N=Z.call(this,X.definition)||this;return N.idx=1,E.assign(N,E.pick(X,function(M){return M!==void 0})),N}return $}(I);A.Repetition=R;var G=function(Z){Q($,Z);function $(X){var N=Z.call(this,X.definition)||this;return N.idx=1,E.assign(N,E.pick(X,function(M){return M!==void 0})),N}return $}(I);A.RepetitionWithSeparator=G;var O=function(Z){Q($,Z);function $(X){var N=Z.call(this,X.definition)||this;return N.idx=1,N.ignoreAmbiguities=!1,N.hasPredicates=!1,E.assign(N,E.pick(X,function(M){return M!==void 0})),N}return Object.defineProperty($.prototype,"definition",{get:function(){return this._definition},set:function(X){this._definition=X},enumerable:!1,configurable:!0}),$}(I);A.Alternation=O;var F=function(){function Z($){this.idx=1,E.assign(this,E.pick($,function(X){return X!==void 0}))}return Z.prototype.accept=function($){$.visit(this)},Z}();A.Terminal=F;function q(Z){return E.map(Z,W)}A.serializeGrammar=q;function W(Z){function $(M){return E.map(M,W)}if(Z instanceof K)return{type:"NonTerminal",name:Z.nonTerminalName,idx:Z.idx};if(Z instanceof C)return{type:"Alternative",definition:$(Z.definition)};if(Z instanceof U)return{type:"Option",idx:Z.idx,definition:$(Z.definition)};if(Z instanceof Y)return{type:"RepetitionMandatory",idx:Z.idx,definition:$(Z.definition)};if(Z instanceof H)return{type:"RepetitionMandatoryWithSeparator",idx:Z.idx,separator:W(new F({terminalType:Z.separator})),definition:$(Z.definition)};if(Z instanceof G)return{type:"RepetitionWithSeparator",idx:Z.idx,separator:W(new F({terminalType:Z.separator})),definition:$(Z.definition)};if(Z instanceof R)return{type:"Repetition",idx:Z.idx,definition:$(Z.definition)};if(Z instanceof O)return{type:"Alternation",idx:Z.idx,definition:$(Z.definition)};if(Z instanceof F){var X={type:"Terminal",name:Z.terminalType.name,label:B.tokenLabel(Z.terminalType),idx:Z.idx},N=Z.terminalType.PATTERN;return Z.terminalType.PATTERN&&(X.pattern=E.isRegExp(N)?N.source:N),X}else{if(Z instanceof J)return{type:"Rule",name:Z.name,orgText:Z.orgText,definition:$(Z.definition)};throw Error("non exhaustive match")}}A.serializeProduction=W}),l$=S0((A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.RestWalker=void 0;var Q=r0(),E=AE(),B=function(){function K(){}return K.prototype.walk=function(J,C){var U=this;C===void 0&&(C=[]),Q.forEach(J.definition,function(Y,H){var R=Q.drop(J.definition,H+1);if(Y instanceof E.NonTerminal)U.walkProdRef(Y,R,C);else if(Y instanceof E.Terminal)U.walkTerminal(Y,R,C);else if(Y instanceof E.Alternative)U.walkFlat(Y,R,C);else if(Y instanceof E.Option)U.walkOption(Y,R,C);else if(Y instanceof E.RepetitionMandatory)U.walkAtLeastOne(Y,R,C);else if(Y instanceof E.RepetitionMandatoryWithSeparator)U.walkAtLeastOneSep(Y,R,C);else if(Y instanceof E.RepetitionWithSeparator)U.walkManySep(Y,R,C);else if(Y instanceof E.Repetition)U.walkMany(Y,R,C);else if(Y instanceof E.Alternation)U.walkOr(Y,R,C);else throw Error("non exhaustive match")})},K.prototype.walkTerminal=function(J,C,U){},K.prototype.walkProdRef=function(J,C,U){},K.prototype.walkFlat=function(J,C,U){var Y=C.concat(U);this.walk(J,Y)},K.prototype.walkOption=function(J,C,U){var Y=C.concat(U);this.walk(J,Y)},K.prototype.walkAtLeastOne=function(J,C,U){var Y=[new E.Option({definition:J.definition})].concat(C,U);this.walk(J,Y)},K.prototype.walkAtLeastOneSep=function(J,C,U){var Y=I(J,C,U);this.walk(J,Y)},K.prototype.walkMany=function(J,C,U){var Y=[new E.Option({definition:J.definition})].concat(C,U);this.walk(J,Y)},K.prototype.walkManySep=function(J,C,U){var Y=I(J,C,U);this.walk(J,Y)},K.prototype.walkOr=function(J,C,U){var Y=this,H=C.concat(U);Q.forEach(J.definition,function(R){var G=new E.Alternative({definition:[R]});Y.walk(G,H)})},K}();A.RestWalker=B;function I(K,J,C){var U=[new E.Option({definition:[new E.Terminal({terminalType:K.separator})].concat(K.definition)})],Y=U.concat(J,C);return Y}}),zC=S0((A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.GAstVisitor=void 0;var Q=AE(),E=function(){function B(){}return B.prototype.visit=function(I){var K=I;switch(K.constructor){case Q.NonTerminal:return this.visitNonTerminal(K);case Q.Alternative:return this.visitAlternative(K);case Q.Option:return this.visitOption(K);case Q.RepetitionMandatory:return this.visitRepetitionMandatory(K);case Q.RepetitionMandatoryWithSeparator:return this.visitRepetitionMandatoryWithSeparator(K);case Q.RepetitionWithSeparator:return this.visitRepetitionWithSeparator(K);case Q.Repetition:return this.visitRepetition(K);case Q.Alternation:return this.visitAlternation(K);case Q.Terminal:return this.visitTerminal(K);case Q.Rule:return this.visitRule(K);default:throw Error("non exhaustive match")}},B.prototype.visitNonTerminal=function(I){},B.prototype.visitAlternative=function(I){},B.prototype.visitOption=function(I){},B.prototype.visitRepetition=function(I){},B.prototype.visitRepetitionMandatory=function(I){},B.prototype.visitRepetitionMandatoryWithSeparator=function(I){},B.prototype.visitRepetitionWithSeparator=function(I){},B.prototype.visitAlternation=function(I){},B.prototype.visitTerminal=function(I){},B.prototype.visitRule=function(I){},B}();A.GAstVisitor=E}),xY=S0((A)=>{var Q=A&&A.__extends||function(){var G=function(O,F){return G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,W){q.__proto__=W}||function(q,W){for(var Z in W)Object.prototype.hasOwnProperty.call(W,Z)&&(q[Z]=W[Z])},G(O,F)};return function(O,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");G(O,F);function q(){this.constructor=O}O.prototype=F===null?Object.create(F):(q.prototype=F.prototype,new q)}}();Object.defineProperty(A,"__esModule",{value:!0}),A.collectMethods=A.DslMethodsCollectorVisitor=A.getProductionDslName=A.isBranchingProd=A.isOptionalProd=A.isSequenceProd=void 0;var E=r0(),B=AE(),I=zC();function K(G){return G instanceof B.Alternative||G instanceof B.Option||G instanceof B.Repetition||G instanceof B.RepetitionMandatory||G instanceof B.RepetitionMandatoryWithSeparator||G instanceof B.RepetitionWithSeparator||G instanceof B.Terminal||G instanceof B.Rule}A.isSequenceProd=K;function J(G,O){O===void 0&&(O=[]);var F=G instanceof B.Option||G instanceof B.Repetition||G instanceof B.RepetitionWithSeparator;return F?!0:G instanceof B.Alternation?E.some(G.definition,function(q){return J(q,O)}):G instanceof B.NonTerminal&&E.contains(O,G)?!1:G instanceof B.AbstractProduction?(G instanceof B.NonTerminal&&O.push(G),E.every(G.definition,function(q){return J(q,O)})):!1}A.isOptionalProd=J;function C(G){return G instanceof B.Alternation}A.isBranchingProd=C;function U(G){if(G instanceof B.NonTerminal)return"SUBRULE";if(G instanceof B.Option)return"OPTION";if(G instanceof B.Alternation)return"OR";if(G instanceof B.RepetitionMandatory)return"AT_LEAST_ONE";if(G instanceof B.RepetitionMandatoryWithSeparator)return"AT_LEAST_ONE_SEP";if(G instanceof B.RepetitionWithSeparator)return"MANY_SEP";if(G instanceof B.Repetition)return"MANY";if(G instanceof B.Terminal)return"CONSUME";throw Error("non exhaustive match")}A.getProductionDslName=U;var Y=function(G){Q(O,G);function O(){var F=G!==null&&G.apply(this,arguments)||this;return F.separator="-",F.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},F}return O.prototype.reset=function(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}},O.prototype.visitTerminal=function(F){var q=F.terminalType.name+this.separator+"Terminal";E.has(this.dslMethods,q)||(this.dslMethods[q]=[]),this.dslMethods[q].push(F)},O.prototype.visitNonTerminal=function(F){var q=F.nonTerminalName+this.separator+"Terminal";E.has(this.dslMethods,q)||(this.dslMethods[q]=[]),this.dslMethods[q].push(F)},O.prototype.visitOption=function(F){this.dslMethods.option.push(F)},O.prototype.visitRepetitionWithSeparator=function(F){this.dslMethods.repetitionWithSeparator.push(F)},O.prototype.visitRepetitionMandatory=function(F){this.dslMethods.repetitionMandatory.push(F)},O.prototype.visitRepetitionMandatoryWithSeparator=function(F){this.dslMethods.repetitionMandatoryWithSeparator.push(F)},O.prototype.visitRepetition=function(F){this.dslMethods.repetition.push(F)},O.prototype.visitAlternation=function(F){this.dslMethods.alternation.push(F)},O}(I.GAstVisitor);A.DslMethodsCollectorVisitor=Y;var H=new Y;function R(G){H.reset(),G.accept(H);var O=H.dslMethods;return H.reset(),O}A.collectMethods=R}),ET=S0((A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.firstForTerminal=A.firstForBranching=A.firstForSequence=A.first=void 0;var Q=r0(),E=AE(),B=xY();function I(U){if(U instanceof E.NonTerminal)return I(U.referencedRule);if(U instanceof E.Terminal)return C(U);if(B.isSequenceProd(U))return K(U);if(B.isBranchingProd(U))return J(U);throw Error("non exhaustive match")}A.first=I;function K(U){for(var Y=[],H=U.definition,R=0,G=H.length>R,O,F=!0;G&&F;)O=H[R],F=B.isOptionalProd(O),Y=Y.concat(I(O)),R=R+1,G=H.length>R;return Q.uniq(Y)}A.firstForSequence=K;function J(U){var Y=Q.map(U.definition,function(H){return I(H)});return Q.uniq(Q.flatten(Y))}A.firstForBranching=J;function C(U){return[U.terminalType]}A.firstForTerminal=C}),BT=S0((A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.IN=void 0,A.IN="_~IN~_"}),kt=S0((A)=>{var Q=A&&A.__extends||function(){var R=function(G,O){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,q){F.__proto__=q}||function(F,q){for(var W in q)Object.prototype.hasOwnProperty.call(q,W)&&(F[W]=q[W])},R(G,O)};return function(G,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");R(G,O);function F(){this.constructor=G}G.prototype=O===null?Object.create(O):(F.prototype=O.prototype,new F)}}();Object.defineProperty(A,"__esModule",{value:!0}),A.buildInProdFollowPrefix=A.buildBetweenProdsFollowPrefix=A.computeAllProdsFollows=A.ResyncFollowsWalker=void 0;var E=l$(),B=ET(),I=r0(),K=BT(),J=AE(),C=function(R){Q(G,R);function G(O){var F=R.call(this)||this;return F.topProd=O,F.follows={},F}return G.prototype.startWalking=function(){return this.walk(this.topProd),this.follows},G.prototype.walkTerminal=function(O,F,q){},G.prototype.walkProdRef=function(O,F,q){var W=Y(O.referencedRule,O.idx)+this.topProd.name,Z=F.concat(q),$=new J.Alternative({definition:Z}),X=B.first($);this.follows[W]=X},G}(E.RestWalker);A.ResyncFollowsWalker=C;function U(R){var G={};return I.forEach(R,function(O){var F=new C(O).startWalking();I.assign(G,F)}),G}A.computeAllProdsFollows=U;function Y(R,G){return R.name+G+K.IN}A.buildBetweenProdsFollowPrefix=Y;function H(R){var G=R.terminalType.name;return G+R.idx+K.IN}A.buildInProdFollowPrefix=H}),gY=S0((A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.defaultGrammarValidatorErrorProvider=A.defaultGrammarResolverErrorProvider=A.defaultParserErrorProvider=void 0;var Q=B6(),E=r0(),B=r0(),I=AE(),K=xY();A.defaultParserErrorProvider={buildMismatchTokenMessage:function(J){var{expected:C,actual:U,previous:Y,ruleName:H}=J,R=Q.hasTokenLabel(C),G=R?"--> "+Q.tokenLabel(C)+" <--":"token of type --> "+C.name+" <--",O="Expecting "+G+" but found --> '"+U.image+"' <--";return O},buildNotAllInputParsedMessage:function(J){var{firstRedundant:C,ruleName:U}=J;return"Redundant input, expecting EOF but found: "+C.image},buildNoViableAltMessage:function(J){var{expectedPathsPerAlt:C,actual:U,previous:Y,customUserDescription:H,ruleName:R}=J,G="Expecting: ",O=B.first(U).image,F=`
but found: '`+O+"'";if(H)return G+H+F;var q=B.reduce(C,function(X,N){return X.concat(N)},[]),W=B.map(q,function(X){return"["+B.map(X,function(N){return Q.tokenLabel(N)}).join(", ")+"]"}),Z=B.map(W,function(X,N){return"  "+(N+1)+". "+X}),$=`one of these possible Token sequences:
`+Z.join(`
`);return G+$+F},buildEarlyExitMessage:function(J){var{expectedIterationPaths:C,actual:U,customUserDescription:Y,ruleName:H}=J,R="Expecting: ",G=B.first(U).image,O=`
but found: '`+G+"'";if(Y)return R+Y+O;var F=B.map(C,function(W){return"["+B.map(W,function(Z){return Q.tokenLabel(Z)}).join(",")+"]"}),q=`expecting at least one iteration which starts with one of these possible Token sequences::
  `+("<"+F.join(" ,")+">");return R+q+O}},Object.freeze(A.defaultParserErrorProvider),A.defaultGrammarResolverErrorProvider={buildRuleNotFoundError:function(J,C){var U="Invalid grammar, reference to a rule which is not defined: ->"+C.nonTerminalName+`<-
inside top level rule: ->`+J.name+"<-";return U}},A.defaultGrammarValidatorErrorProvider={buildDuplicateFoundError:function(J,C){function U(W){return W instanceof I.Terminal?W.terminalType.name:W instanceof I.NonTerminal?W.nonTerminalName:""}var Y=J.name,H=B.first(C),R=H.idx,G=K.getProductionDslName(H),O=U(H),F=R>0,q="->"+G+(F?R:"")+"<- "+(O?"with argument: ->"+O+"<-":"")+`
                  appears more than once (`+C.length+" times) in the top level rule: ->"+Y+`<-.
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES
                  `;return q=q.replace(/[ \t]+/g," "),q=q.replace(/\s\s+/g,`
`),q},buildNamespaceConflictError:function(J){var C=`Namespace conflict found in grammar.
`+("The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <"+J.name+`>.
`)+`To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`;return C},buildAlternationPrefixAmbiguityError:function(J){var C=B.map(J.prefixPath,function(H){return Q.tokenLabel(H)}).join(", "),U=J.alternation.idx===0?"":J.alternation.idx,Y="Ambiguous alternatives: <"+J.ambiguityIndices.join(" ,")+`> due to common lookahead prefix
`+("in <OR"+U+"> inside <"+J.topLevelRule.name+`> Rule,
`)+("<"+C+`> may appears as a prefix path in all these alternatives.
`)+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`;return Y},buildAlternationAmbiguityError:function(J){var C=B.map(J.prefixPath,function(H){return Q.tokenLabel(H)}).join(", "),U=J.alternation.idx===0?"":J.alternation.idx,Y="Ambiguous Alternatives Detected: <"+J.ambiguityIndices.join(" ,")+"> in <OR"+U+">"+(" inside <"+J.topLevelRule.name+`> Rule,
`)+("<"+C+`> may appears as a prefix path in all these alternatives.
`);return Y=Y+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,Y},buildEmptyRepetitionError:function(J){var C=K.getProductionDslName(J.repetition);J.repetition.idx!==0&&(C+=J.repetition.idx);var U="The repetition <"+C+"> within Rule <"+J.topLevelRule.name+`> can never consume any tokens.
This could lead to an infinite loop.`;return U},buildTokenNameError:function(J){return"deprecated"},buildEmptyAlternationError:function(J){var C="Ambiguous empty alternative: <"+(J.emptyChoiceIdx+1)+">"+(" in <OR"+J.alternation.idx+"> inside <"+J.topLevelRule.name+`> Rule.
`)+"Only the last alternative may be an empty alternative.";return C},buildTooManyAlternativesError:function(J){var C=`An Alternation cannot have more than 256 alternatives:
`+("<OR"+J.alternation.idx+"> inside <"+J.topLevelRule.name+`> Rule.
 has `+(J.alternation.definition.length+1)+" alternatives.");return C},buildLeftRecursionError:function(J){var C=J.topLevelRule.name,U=E.map(J.leftRecursionPath,function(R){return R.name}),Y=C+" --> "+U.concat([C]).join(" --> "),H=`Left Recursion found in grammar.
`+("rule: <"+C+`> can be invoked from itself (directly or indirectly)
`)+(`without consuming any Tokens. The grammar path that causes this is:
 `+Y+`
`)+` To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_Factoring.`;return H},buildInvalidRuleNameError:function(J){return"deprecated"},buildDuplicateRuleNameError:function(J){var C;J.topLevelRule instanceof I.Rule?C=J.topLevelRule.name:C=J.topLevelRule;var U="Duplicate definition, rule: ->"+C+"<- is already defined in the grammar: ->"+J.grammarName+"<-";return U}}}),jt=S0((A)=>{var Q=A&&A.__extends||function(){var C=function(U,Y){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,R){H.__proto__=R}||function(H,R){for(var G in R)Object.prototype.hasOwnProperty.call(R,G)&&(H[G]=R[G])},C(U,Y)};return function(U,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Class extends value "+String(Y)+" is not a constructor or null");C(U,Y);function H(){this.constructor=U}U.prototype=Y===null?Object.create(Y):(H.prototype=Y.prototype,new H)}}();Object.defineProperty(A,"__esModule",{value:!0}),A.GastRefResolverVisitor=A.resolveGrammar=void 0;var E=ME(),B=r0(),I=zC();function K(C,U){var Y=new J(C,U);return Y.resolveRefs(),Y.errors}A.resolveGrammar=K;var J=function(C){Q(U,C);function U(Y,H){var R=C.call(this)||this;return R.nameToTopRule=Y,R.errMsgProvider=H,R.errors=[],R}return U.prototype.resolveRefs=function(){var Y=this;B.forEach(B.values(this.nameToTopRule),function(H){Y.currTopLevel=H,H.accept(Y)})},U.prototype.visitNonTerminal=function(Y){var H=this.nameToTopRule[Y.nonTerminalName];if(H)Y.referencedRule=H;else{var R=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,Y);this.errors.push({message:R,type:E.ParserDefinitionErrorType.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:Y.nonTerminalName})}},U}(I.GAstVisitor);A.GastRefResolverVisitor=J}),bY=S0((A)=>{var Q=A&&A.__extends||function(){var W=function(Z,$){return W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,N){X.__proto__=N}||function(X,N){for(var M in N)Object.prototype.hasOwnProperty.call(N,M)&&(X[M]=N[M])},W(Z,$)};return function(Z,$){if(typeof $!="function"&&$!==null)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");W(Z,$);function X(){this.constructor=Z}Z.prototype=$===null?Object.create($):(X.prototype=$.prototype,new X)}}();Object.defineProperty(A,"__esModule",{value:!0}),A.nextPossibleTokensAfter=A.possiblePathsFrom=A.NextTerminalAfterAtLeastOneSepWalker=A.NextTerminalAfterAtLeastOneWalker=A.NextTerminalAfterManySepWalker=A.NextTerminalAfterManyWalker=A.AbstractNextTerminalAfterProductionWalker=A.NextAfterTokenWalker=A.AbstractNextPossibleTokensWalker=void 0;var E=l$(),B=r0(),I=ET(),K=AE(),J=function(W){Q(Z,W);function Z($,X){var N=W.call(this)||this;return N.topProd=$,N.path=X,N.possibleTokTypes=[],N.nextProductionName="",N.nextProductionOccurrence=0,N.found=!1,N.isAtEndOfPath=!1,N}return Z.prototype.startWalking=function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=B.cloneArr(this.path.ruleStack).reverse(),this.occurrenceStack=B.cloneArr(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes},Z.prototype.walk=function($,X){X===void 0&&(X=[]),this.found||W.prototype.walk.call(this,$,X)},Z.prototype.walkProdRef=function($,X,N){if($.referencedRule.name===this.nextProductionName&&$.idx===this.nextProductionOccurrence){var M=X.concat(N);this.updateExpectedNext(),this.walk($.referencedRule,M)}},Z.prototype.updateExpectedNext=function(){B.isEmpty(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())},Z}(E.RestWalker);A.AbstractNextPossibleTokensWalker=J;var C=function(W){Q(Z,W);function Z($,X){var N=W.call(this,$,X)||this;return N.path=X,N.nextTerminalName="",N.nextTerminalOccurrence=0,N.nextTerminalName=N.path.lastTok.name,N.nextTerminalOccurrence=N.path.lastTokOccurrence,N}return Z.prototype.walkTerminal=function($,X,N){if(this.isAtEndOfPath&&$.terminalType.name===this.nextTerminalName&&$.idx===this.nextTerminalOccurrence&&!this.found){var M=X.concat(N),L=new K.Alternative({definition:M});this.possibleTokTypes=I.first(L),this.found=!0}},Z}(J);A.NextAfterTokenWalker=C;var U=function(W){Q(Z,W);function Z($,X){var N=W.call(this)||this;return N.topRule=$,N.occurrence=X,N.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},N}return Z.prototype.startWalking=function(){return this.walk(this.topRule),this.result},Z}(E.RestWalker);A.AbstractNextTerminalAfterProductionWalker=U;var Y=function(W){Q(Z,W);function Z(){return W!==null&&W.apply(this,arguments)||this}return Z.prototype.walkMany=function($,X,N){if($.idx===this.occurrence){var M=B.first(X.concat(N));this.result.isEndOfRule=M===void 0,M instanceof K.Terminal&&(this.result.token=M.terminalType,this.result.occurrence=M.idx)}else W.prototype.walkMany.call(this,$,X,N)},Z}(U);A.NextTerminalAfterManyWalker=Y;var H=function(W){Q(Z,W);function Z(){return W!==null&&W.apply(this,arguments)||this}return Z.prototype.walkManySep=function($,X,N){if($.idx===this.occurrence){var M=B.first(X.concat(N));this.result.isEndOfRule=M===void 0,M instanceof K.Terminal&&(this.result.token=M.terminalType,this.result.occurrence=M.idx)}else W.prototype.walkManySep.call(this,$,X,N)},Z}(U);A.NextTerminalAfterManySepWalker=H;var R=function(W){Q(Z,W);function Z(){return W!==null&&W.apply(this,arguments)||this}return Z.prototype.walkAtLeastOne=function($,X,N){if($.idx===this.occurrence){var M=B.first(X.concat(N));this.result.isEndOfRule=M===void 0,M instanceof K.Terminal&&(this.result.token=M.terminalType,this.result.occurrence=M.idx)}else W.prototype.walkAtLeastOne.call(this,$,X,N)},Z}(U);A.NextTerminalAfterAtLeastOneWalker=R;var G=function(W){Q(Z,W);function Z(){return W!==null&&W.apply(this,arguments)||this}return Z.prototype.walkAtLeastOneSep=function($,X,N){if($.idx===this.occurrence){var M=B.first(X.concat(N));this.result.isEndOfRule=M===void 0,M instanceof K.Terminal&&(this.result.token=M.terminalType,this.result.occurrence=M.idx)}else W.prototype.walkAtLeastOneSep.call(this,$,X,N)},Z}(U);A.NextTerminalAfterAtLeastOneSepWalker=G;function O(W,Z,$){$===void 0&&($=[]),$=B.cloneArr($);var X=[],N=0;function M(P){return P.concat(B.drop(W,N+1))}function L(P){var V=O(M(P),Z,$);return X.concat(V)}for(;$.length<Z&&N<W.length;){var D=W[N];if(D instanceof K.Alternative)return L(D.definition);if(D instanceof K.NonTerminal)return L(D.definition);if(D instanceof K.Option)X=L(D.definition);else if(D instanceof K.RepetitionMandatory){var w=D.definition.concat([new K.Repetition({definition:D.definition})]);return L(w)}else if(D instanceof K.RepetitionMandatoryWithSeparator){var w=[new K.Alternative({definition:D.definition}),new K.Repetition({definition:[new K.Terminal({terminalType:D.separator})].concat(D.definition)})];return L(w)}else if(D instanceof K.RepetitionWithSeparator){var w=D.definition.concat([new K.Repetition({definition:[new K.Terminal({terminalType:D.separator})].concat(D.definition)})]);X=L(w)}else if(D instanceof K.Repetition){var w=D.definition.concat([new K.Repetition({definition:D.definition})]);X=L(w)}else{if(D instanceof K.Alternation)return B.forEach(D.definition,function(P){B.isEmpty(P.definition)===!1&&(X=L(P.definition))}),X;if(D instanceof K.Terminal)$.push(D.terminalType);else throw Error("non exhaustive match")}N++}return X.push({partialPath:$,suffixDef:B.drop(W,N)}),X}A.possiblePathsFrom=O;function F(W,Z,$,X){var N="EXIT_NONE_TERMINAL",M=[N],L="EXIT_ALTERNATIVE",D=!1,w=Z.length,P=w-X-1,V=[],T=[];for(T.push({idx:-1,def:W,ruleStack:[],occurrenceStack:[]});!B.isEmpty(T);){var S=T.pop();if(S===L){D&&B.last(T).idx<=P&&T.pop();continue}var{def:h,idx:x,ruleStack:y,occurrenceStack:j}=S;if(!B.isEmpty(h)){var v=h[0];if(v===N){var _={idx:x,def:B.drop(h),ruleStack:B.dropRight(y),occurrenceStack:B.dropRight(j)};T.push(_)}else if(v instanceof K.Terminal)if(x<w-1){var g=x+1,b=Z[g];if($(b,v.terminalType)){var _={idx:g,def:B.drop(h),ruleStack:y,occurrenceStack:j};T.push(_)}}else if(x===w-1)V.push({nextTokenType:v.terminalType,nextTokenOccurrence:v.idx,ruleStack:y,occurrenceStack:j}),D=!0;else throw Error("non exhaustive match");else if(v instanceof K.NonTerminal){var p=B.cloneArr(y);p.push(v.nonTerminalName);var m=B.cloneArr(j);m.push(v.idx);var _={idx:x,def:v.definition.concat(M,B.drop(h)),ruleStack:p,occurrenceStack:m};T.push(_)}else if(v instanceof K.Option){var o={idx:x,def:B.drop(h),ruleStack:y,occurrenceStack:j};T.push(o),T.push(L);var AA={idx:x,def:v.definition.concat(B.drop(h)),ruleStack:y,occurrenceStack:j};T.push(AA)}else if(v instanceof K.RepetitionMandatory){var s=new K.Repetition({definition:v.definition,idx:v.idx}),t=v.definition.concat([s],B.drop(h)),_={idx:x,def:t,ruleStack:y,occurrenceStack:j};T.push(_)}else if(v instanceof K.RepetitionMandatoryWithSeparator){var r=new K.Terminal({terminalType:v.separator}),s=new K.Repetition({definition:[r].concat(v.definition),idx:v.idx}),t=v.definition.concat([s],B.drop(h)),_={idx:x,def:t,ruleStack:y,occurrenceStack:j};T.push(_)}else if(v instanceof K.RepetitionWithSeparator){var o={idx:x,def:B.drop(h),ruleStack:y,occurrenceStack:j};T.push(o),T.push(L);var r=new K.Terminal({terminalType:v.separator}),EA=new K.Repetition({definition:[r].concat(v.definition),idx:v.idx}),t=v.definition.concat([EA],B.drop(h)),AA={idx:x,def:t,ruleStack:y,occurrenceStack:j};T.push(AA)}else if(v instanceof K.Repetition){var o={idx:x,def:B.drop(h),ruleStack:y,occurrenceStack:j};T.push(o),T.push(L);var EA=new K.Repetition({definition:v.definition,idx:v.idx}),t=v.definition.concat([EA],B.drop(h)),AA={idx:x,def:t,ruleStack:y,occurrenceStack:j};T.push(AA)}else if(v instanceof K.Alternation)for(var JA=v.definition.length-1;JA>=0;JA--){var YA=v.definition[JA],IA={idx:x,def:YA.definition.concat(B.drop(h)),ruleStack:y,occurrenceStack:j};T.push(IA),T.push(L)}else if(v instanceof K.Alternative)T.push({idx:x,def:v.definition.concat(B.drop(h)),ruleStack:y,occurrenceStack:j});else if(v instanceof K.Rule)T.push(q(v,x,y,j));else throw Error("non exhaustive match")}}return V}A.nextPossibleTokensAfter=F;function q(W,Z,$,X){var N=B.cloneArr($);N.push(W.name);var M=B.cloneArr(X);return M.push(1),{idx:Z,def:W.definition,ruleStack:N,occurrenceStack:M}}}),fY=S0((A)=>{var Q=A&&A.__extends||function(){var P=function(V,T){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,h){S.__proto__=h}||function(S,h){for(var x in h)Object.prototype.hasOwnProperty.call(h,x)&&(S[x]=h[x])},P(V,T)};return function(V,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");P(V,T);function S(){this.constructor=V}V.prototype=T===null?Object.create(T):(S.prototype=T.prototype,new S)}}();Object.defineProperty(A,"__esModule",{value:!0}),A.areTokenCategoriesNotUsed=A.isStrictPrefixOfPath=A.containsPath=A.getLookaheadPathsForOptionalProd=A.getLookaheadPathsForOr=A.lookAheadSequenceFromAlternatives=A.buildSingleAlternativeLookaheadFunction=A.buildAlternativesLookAheadFunc=A.buildLookaheadFuncForOptionalProd=A.buildLookaheadFuncForOr=A.getProdType=A.PROD_TYPE=void 0;var E=r0(),B=bY(),I=l$(),K=wC(),J=AE(),C=zC(),U;(function(P){P[P.OPTION=0]="OPTION",P[P.REPETITION=1]="REPETITION",P[P.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",P[P.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",P[P.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",P[P.ALTERNATION=5]="ALTERNATION"})(U=A.PROD_TYPE||(A.PROD_TYPE={}));function Y(P){if(P instanceof J.Option)return U.OPTION;if(P instanceof J.Repetition)return U.REPETITION;if(P instanceof J.RepetitionMandatory)return U.REPETITION_MANDATORY;if(P instanceof J.RepetitionMandatoryWithSeparator)return U.REPETITION_MANDATORY_WITH_SEPARATOR;if(P instanceof J.RepetitionWithSeparator)return U.REPETITION_WITH_SEPARATOR;if(P instanceof J.Alternation)return U.ALTERNATION;throw Error("non exhaustive match")}A.getProdType=Y;function H(P,V,T,S,h,x){var y=N(P,V,T),j=w(y)?K.tokenStructuredMatcherNoCategories:K.tokenStructuredMatcher;return x(y,S,j,h)}A.buildLookaheadFuncForOr=H;function R(P,V,T,S,h,x){var y=M(P,V,h,T),j=w(y)?K.tokenStructuredMatcherNoCategories:K.tokenStructuredMatcher;return x(y[0],j,S)}A.buildLookaheadFuncForOptionalProd=R;function G(P,V,T,S){var h=P.length,x=E.every(P,function(v){return E.every(v,function(_){return _.length===1})});if(V)return function(v){for(var _=E.map(v,function(EA){return EA.GATE}),g=0;g<h;g++){var b=P[g],p=b.length,m=_[g];if(m!==void 0&&m.call(this)===!1)continue;A:for(var o=0;o<p;o++){for(var AA=b[o],s=AA.length,t=0;t<s;t++){var r=this.LA(t+1);if(T(r,AA[t])===!1)continue A}return g}}};if(x&&!S){var y=E.map(P,function(v){return E.flatten(v)}),j=E.reduce(y,function(v,_,g){return E.forEach(_,function(b){E.has(v,b.tokenTypeIdx)||(v[b.tokenTypeIdx]=g),E.forEach(b.categoryMatches,function(p){E.has(v,p)||(v[p]=g)})}),v},[]);return function(){var v=this.LA(1);return j[v.tokenTypeIdx]}}else return function(){for(var v=0;v<h;v++){var _=P[v],g=_.length;A:for(var b=0;b<g;b++){for(var p=_[b],m=p.length,o=0;o<m;o++){var AA=this.LA(o+1);if(T(AA,p[o])===!1)continue A}return v}}}}A.buildAlternativesLookAheadFunc=G;function O(P,V,T){var S=E.every(P,function(_){return _.length===1}),h=P.length;if(S&&!T){var x=E.flatten(P);if(x.length===1&&E.isEmpty(x[0].categoryMatches)){var y=x[0],j=y.tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===j}}else{var v=E.reduce(x,function(_,g,b){return _[g.tokenTypeIdx]=!0,E.forEach(g.categoryMatches,function(p){_[p]=!0}),_},[]);return function(){var _=this.LA(1);return v[_.tokenTypeIdx]===!0}}}else return function(){A:for(var _=0;_<h;_++){for(var g=P[_],b=g.length,p=0;p<b;p++){var m=this.LA(p+1);if(V(m,g[p])===!1)continue A}return!0}return!1}}A.buildSingleAlternativeLookaheadFunction=O;var F=function(P){Q(V,P);function V(T,S,h){var x=P.call(this)||this;return x.topProd=T,x.targetOccurrence=S,x.targetProdType=h,x}return V.prototype.startWalking=function(){return this.walk(this.topProd),this.restDef},V.prototype.checkIsTarget=function(T,S,h,x){return T.idx===this.targetOccurrence&&this.targetProdType===S?(this.restDef=h.concat(x),!0):!1},V.prototype.walkOption=function(T,S,h){this.checkIsTarget(T,U.OPTION,S,h)||P.prototype.walkOption.call(this,T,S,h)},V.prototype.walkAtLeastOne=function(T,S,h){this.checkIsTarget(T,U.REPETITION_MANDATORY,S,h)||P.prototype.walkOption.call(this,T,S,h)},V.prototype.walkAtLeastOneSep=function(T,S,h){this.checkIsTarget(T,U.REPETITION_MANDATORY_WITH_SEPARATOR,S,h)||P.prototype.walkOption.call(this,T,S,h)},V.prototype.walkMany=function(T,S,h){this.checkIsTarget(T,U.REPETITION,S,h)||P.prototype.walkOption.call(this,T,S,h)},V.prototype.walkManySep=function(T,S,h){this.checkIsTarget(T,U.REPETITION_WITH_SEPARATOR,S,h)||P.prototype.walkOption.call(this,T,S,h)},V}(I.RestWalker),q=function(P){Q(V,P);function V(T,S,h){var x=P.call(this)||this;return x.targetOccurrence=T,x.targetProdType=S,x.targetRef=h,x.result=[],x}return V.prototype.checkIsTarget=function(T,S){T.idx===this.targetOccurrence&&this.targetProdType===S&&(this.targetRef===void 0||T===this.targetRef)&&(this.result=T.definition)},V.prototype.visitOption=function(T){this.checkIsTarget(T,U.OPTION)},V.prototype.visitRepetition=function(T){this.checkIsTarget(T,U.REPETITION)},V.prototype.visitRepetitionMandatory=function(T){this.checkIsTarget(T,U.REPETITION_MANDATORY)},V.prototype.visitRepetitionMandatoryWithSeparator=function(T){this.checkIsTarget(T,U.REPETITION_MANDATORY_WITH_SEPARATOR)},V.prototype.visitRepetitionWithSeparator=function(T){this.checkIsTarget(T,U.REPETITION_WITH_SEPARATOR)},V.prototype.visitAlternation=function(T){this.checkIsTarget(T,U.ALTERNATION)},V}(C.GAstVisitor);function W(P){for(var V=new Array(P),T=0;T<P;T++)V[T]=[];return V}function Z(P){for(var V=[""],T=0;T<P.length;T++){for(var S=P[T],h=[],x=0;x<V.length;x++){var y=V[x];h.push(y+"_"+S.tokenTypeIdx);for(var j=0;j<S.categoryMatches.length;j++){var v="_"+S.categoryMatches[j];h.push(y+v)}}V=h}return V}function $(P,V,T){for(var S=0;S<P.length;S++)if(S!==T)for(var h=P[S],x=0;x<V.length;x++){var y=V[x];if(h[y]===!0)return!1}return!0}function X(P,V){for(var T=E.map(P,function(g){return B.possiblePathsFrom([g],1)}),S=W(T.length),h=E.map(T,function(g){var b={};return E.forEach(g,function(p){var m=Z(p.partialPath);E.forEach(m,function(o){b[o]=!0})}),b}),x=T,y=1;y<=V;y++){var j=x;x=W(j.length);for(var v=function(g){for(var b=j[g],p=0;p<b.length;p++){var m=b[p].partialPath,o=b[p].suffixDef,AA=Z(m),s=$(h,AA,g);if(s||E.isEmpty(o)||m.length===V){var t=S[g];if(L(t,m)===!1){t.push(m);for(var r=0;r<AA.length;r++){var EA=AA[r];h[g][EA]=!0}}}else{var JA=B.possiblePathsFrom(o,y+1,m);x[g]=x[g].concat(JA),E.forEach(JA,function(YA){var IA=Z(YA.partialPath);E.forEach(IA,function(l){h[g][l]=!0})})}}},_=0;_<j.length;_++)v(_)}return S}A.lookAheadSequenceFromAlternatives=X;function N(P,V,T,S){var h=new q(P,U.ALTERNATION,S);return V.accept(h),X(h.result,T)}A.getLookaheadPathsForOr=N;function M(P,V,T,S){var h=new q(P,T);V.accept(h);var x=h.result,y=new F(V,P,T),j=y.startWalking(),v=new J.Alternative({definition:x}),_=new J.Alternative({definition:j});return X([v,_],S)}A.getLookaheadPathsForOptionalProd=M;function L(P,V){A:for(var T=0;T<P.length;T++){var S=P[T];if(S.length===V.length){for(var h=0;h<S.length;h++){var x=V[h],y=S[h],j=x===y||y.categoryMatchesMap[x.tokenTypeIdx]!==void 0;if(j===!1)continue A}return!0}}return!1}A.containsPath=L;function D(P,V){return P.length<V.length&&E.every(P,function(T,S){var h=V[S];return T===h||h.categoryMatchesMap[T.tokenTypeIdx]})}A.isStrictPrefixOfPath=D;function w(P){return E.every(P,function(V){return E.every(V,function(T){return E.every(T,function(S){return E.isEmpty(S.categoryMatches)})})})}A.areTokenCategoriesNotUsed=w}),IT=S0((A)=>{var Q=A&&A.__extends||function(){var S=function(h,x){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,j){y.__proto__=j}||function(y,j){for(var v in j)Object.prototype.hasOwnProperty.call(j,v)&&(y[v]=j[v])},S(h,x)};return function(h,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");S(h,x);function y(){this.constructor=h}h.prototype=x===null?Object.create(x):(y.prototype=x.prototype,new y)}}();Object.defineProperty(A,"__esModule",{value:!0}),A.checkPrefixAlternativesAmbiguities=A.validateSomeNonEmptyLookaheadPath=A.validateTooManyAlts=A.RepetionCollector=A.validateAmbiguousAlternationAlternatives=A.validateEmptyOrAlternative=A.getFirstNoneTerminal=A.validateNoLeftRecursion=A.validateRuleIsOverridden=A.validateRuleDoesNotAlreadyExist=A.OccurrenceValidationCollector=A.identifyProductionForDuplicates=A.validateGrammar=void 0;var E=r0(),B=r0(),I=ME(),K=xY(),J=fY(),C=bY(),U=AE(),Y=zC();function H(S,h,x,y,j){var v=E.map(S,function(s){return R(s,y)}),_=E.map(S,function(s){return Z(s,s,y)}),g=[],b=[],p=[];B.every(_,B.isEmpty)&&(g=B.map(S,function(s){return N(s,y)}),b=B.map(S,function(s){return M(s,h,y)}),p=w(S,h,y));var m=T(S,x,y),o=B.map(S,function(s){return D(s,y)}),AA=B.map(S,function(s){return q(s,S,j,y)});return E.flatten(v.concat(p,_,g,b,m,o,AA))}A.validateGrammar=H;function R(S,h){var x=new F;S.accept(x);var y=x.allProductions,j=E.groupBy(y,G),v=E.pick(j,function(g){return g.length>1}),_=E.map(E.values(v),function(g){var b=E.first(g),p=h.buildDuplicateFoundError(S,g),m=K.getProductionDslName(b),o={message:p,type:I.ParserDefinitionErrorType.DUPLICATE_PRODUCTIONS,ruleName:S.name,dslName:m,occurrence:b.idx},AA=O(b);return AA&&(o.parameter=AA),o});return _}function G(S){return K.getProductionDslName(S)+"_#_"+S.idx+"_#_"+O(S)}A.identifyProductionForDuplicates=G;function O(S){return S instanceof U.Terminal?S.terminalType.name:S instanceof U.NonTerminal?S.nonTerminalName:""}var F=function(S){Q(h,S);function h(){var x=S!==null&&S.apply(this,arguments)||this;return x.allProductions=[],x}return h.prototype.visitNonTerminal=function(x){this.allProductions.push(x)},h.prototype.visitOption=function(x){this.allProductions.push(x)},h.prototype.visitRepetitionWithSeparator=function(x){this.allProductions.push(x)},h.prototype.visitRepetitionMandatory=function(x){this.allProductions.push(x)},h.prototype.visitRepetitionMandatoryWithSeparator=function(x){this.allProductions.push(x)},h.prototype.visitRepetition=function(x){this.allProductions.push(x)},h.prototype.visitAlternation=function(x){this.allProductions.push(x)},h.prototype.visitTerminal=function(x){this.allProductions.push(x)},h}(Y.GAstVisitor);A.OccurrenceValidationCollector=F;function q(S,h,x,y){var j=[],v=B.reduce(h,function(g,b){return b.name===S.name?g+1:g},0);if(v>1){var _=y.buildDuplicateRuleNameError({topLevelRule:S,grammarName:x});j.push({message:_,type:I.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:S.name})}return j}A.validateRuleDoesNotAlreadyExist=q;function W(S,h,x){var y=[],j;return E.contains(h,S)||(j="Invalid rule override, rule: ->"+S+"<- cannot be overridden in the grammar: ->"+x+"<-as it is not defined in any of the super grammars ",y.push({message:j,type:I.ParserDefinitionErrorType.INVALID_RULE_OVERRIDE,ruleName:S})),y}A.validateRuleIsOverridden=W;function Z(S,h,x,y){y===void 0&&(y=[]);var j=[],v=$(h.definition);if(E.isEmpty(v))return[];var _=S.name,g=E.contains(v,S);g&&j.push({message:x.buildLeftRecursionError({topLevelRule:S,leftRecursionPath:y}),type:I.ParserDefinitionErrorType.LEFT_RECURSION,ruleName:_});var b=E.difference(v,y.concat([S])),p=E.map(b,function(m){var o=E.cloneArr(y);return o.push(m),Z(S,m,x,o)});return j.concat(E.flatten(p))}A.validateNoLeftRecursion=Z;function $(S){var h=[];if(E.isEmpty(S))return h;var x=E.first(S);if(x instanceof U.NonTerminal)h.push(x.referencedRule);else if(x instanceof U.Alternative||x instanceof U.Option||x instanceof U.RepetitionMandatory||x instanceof U.RepetitionMandatoryWithSeparator||x instanceof U.RepetitionWithSeparator||x instanceof U.Repetition)h=h.concat($(x.definition));else if(x instanceof U.Alternation)h=E.flatten(E.map(x.definition,function(_){return $(_.definition)}));else if(!(x instanceof U.Terminal))throw Error("non exhaustive match");var y=K.isOptionalProd(x),j=S.length>1;if(y&&j){var v=E.drop(S);return h.concat($(v))}else return h}A.getFirstNoneTerminal=$;var X=function(S){Q(h,S);function h(){var x=S!==null&&S.apply(this,arguments)||this;return x.alternations=[],x}return h.prototype.visitAlternation=function(x){this.alternations.push(x)},h}(Y.GAstVisitor);function N(S,h){var x=new X;S.accept(x);var y=x.alternations,j=E.reduce(y,function(v,_){var g=E.dropRight(_.definition),b=E.map(g,function(p,m){var o=C.nextPossibleTokensAfter([p],[],null,1);return E.isEmpty(o)?{message:h.buildEmptyAlternationError({topLevelRule:S,alternation:_,emptyChoiceIdx:m}),type:I.ParserDefinitionErrorType.NONE_LAST_EMPTY_ALT,ruleName:S.name,occurrence:_.idx,alternative:m+1}:null});return v.concat(E.compact(b))},[]);return j}A.validateEmptyOrAlternative=N;function M(S,h,x){var y=new X;S.accept(y);var j=y.alternations;j=B.reject(j,function(_){return _.ignoreAmbiguities===!0});var v=E.reduce(j,function(_,g){var b=g.idx,p=g.maxLookahead||h,m=J.getLookaheadPathsForOr(b,S,p,g),o=P(m,g,S,x),AA=V(m,g,S,x);return _.concat(o,AA)},[]);return v}A.validateAmbiguousAlternationAlternatives=M;var L=function(S){Q(h,S);function h(){var x=S!==null&&S.apply(this,arguments)||this;return x.allProductions=[],x}return h.prototype.visitRepetitionWithSeparator=function(x){this.allProductions.push(x)},h.prototype.visitRepetitionMandatory=function(x){this.allProductions.push(x)},h.prototype.visitRepetitionMandatoryWithSeparator=function(x){this.allProductions.push(x)},h.prototype.visitRepetition=function(x){this.allProductions.push(x)},h}(Y.GAstVisitor);A.RepetionCollector=L;function D(S,h){var x=new X;S.accept(x);var y=x.alternations,j=E.reduce(y,function(v,_){return _.definition.length>255&&v.push({message:h.buildTooManyAlternativesError({topLevelRule:S,alternation:_}),type:I.ParserDefinitionErrorType.TOO_MANY_ALTS,ruleName:S.name,occurrence:_.idx}),v},[]);return j}A.validateTooManyAlts=D;function w(S,h,x){var y=[];return B.forEach(S,function(j){var v=new L;j.accept(v);var _=v.allProductions;B.forEach(_,function(g){var b=J.getProdType(g),p=g.maxLookahead||h,m=g.idx,o=J.getLookaheadPathsForOptionalProd(m,j,b,p),AA=o[0];if(B.isEmpty(B.flatten(AA))){var s=x.buildEmptyRepetitionError({topLevelRule:j,repetition:g});y.push({message:s,type:I.ParserDefinitionErrorType.NO_NON_EMPTY_LOOKAHEAD,ruleName:j.name})}})}),y}A.validateSomeNonEmptyLookaheadPath=w;function P(S,h,x,y){var j=[],v=B.reduce(S,function(g,b,p){return h.definition[p].ignoreAmbiguities===!0||B.forEach(b,function(m){var o=[p];B.forEach(S,function(AA,s){p!==s&&J.containsPath(AA,m)&&h.definition[s].ignoreAmbiguities!==!0&&o.push(s)}),o.length>1&&!J.containsPath(j,m)&&(j.push(m),g.push({alts:o,path:m}))}),g},[]),_=E.map(v,function(g){var b=B.map(g.alts,function(m){return m+1}),p=y.buildAlternationAmbiguityError({topLevelRule:x,alternation:h,ambiguityIndices:b,prefixPath:g.path});return{message:p,type:I.ParserDefinitionErrorType.AMBIGUOUS_ALTS,ruleName:x.name,occurrence:h.idx,alternatives:[g.alts]}});return _}function V(S,h,x,y){var j=[],v=B.reduce(S,function(_,g,b){var p=B.map(g,function(m){return{idx:b,path:m}});return _.concat(p)},[]);return B.forEach(v,function(_){var g=h.definition[_.idx];if(g.ignoreAmbiguities!==!0){var{idx:b,path:p}=_,m=B.findAll(v,function(AA){return h.definition[AA.idx].ignoreAmbiguities!==!0&&AA.idx<b&&J.isStrictPrefixOfPath(AA.path,p)}),o=B.map(m,function(AA){var s=[AA.idx+1,b+1],t=h.idx===0?"":h.idx,r=y.buildAlternationPrefixAmbiguityError({topLevelRule:x,alternation:h,ambiguityIndices:s,prefixPath:AA.path});return{message:r,type:I.ParserDefinitionErrorType.AMBIGUOUS_PREFIX_ALTS,ruleName:x.name,occurrence:t,alternatives:s}});j=j.concat(o)}}),j}A.checkPrefixAlternativesAmbiguities=V;function T(S,h,x){var y=[],j=B.map(h,function(v){return v.name});return B.forEach(S,function(v){var _=v.name;if(B.contains(j,_)){var g=x.buildNamespaceConflictError(v);y.push({message:g,type:I.ParserDefinitionErrorType.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:_})}}),y}}),ht=S0((A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.validateGrammar=A.resolveGrammar=void 0;var Q=r0(),E=jt(),B=IT(),I=gY();function K(C){C=Q.defaults(C,{errMsgProvider:I.defaultGrammarResolverErrorProvider});var U={};return Q.forEach(C.rules,function(Y){U[Y.name]=Y}),E.resolveGrammar(U,C.errMsgProvider)}A.resolveGrammar=K;function J(C){return C=Q.defaults(C,{errMsgProvider:I.defaultGrammarValidatorErrorProvider}),B.validateGrammar(C.rules,C.maxLookahead,C.tokenTypes,C.errMsgProvider,C.grammarName)}A.validateGrammar=J}),VC=S0((A)=>{var Q=A&&A.__extends||function(){var F=function(q,W){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,$){Z.__proto__=$}||function(Z,$){for(var X in $)Object.prototype.hasOwnProperty.call($,X)&&(Z[X]=$[X])},F(q,W)};return function(q,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");F(q,W);function Z(){this.constructor=q}q.prototype=W===null?Object.create(W):(Z.prototype=W.prototype,new Z)}}();Object.defineProperty(A,"__esModule",{value:!0}),A.EarlyExitException=A.NotAllInputParsedException=A.NoViableAltException=A.MismatchedTokenException=A.isRecognitionException=void 0;var E=r0(),B="MismatchedTokenException",I="NoViableAltException",K="EarlyExitException",J="NotAllInputParsedException",C=[B,I,K,J];Object.freeze(C);function U(F){return E.contains(C,F.name)}A.isRecognitionException=U;var Y=function(F){Q(q,F);function q(W,Z){var $=this.constructor,X=F.call(this,W)||this;return X.token=Z,X.resyncedTokens=[],Object.setPrototypeOf(X,$.prototype),Error.captureStackTrace&&Error.captureStackTrace(X,X.constructor),X}return q}(Error),H=function(F){Q(q,F);function q(W,Z,$){var X=F.call(this,W,Z)||this;return X.previousToken=$,X.name=B,X}return q}(Y);A.MismatchedTokenException=H;var R=function(F){Q(q,F);function q(W,Z,$){var X=F.call(this,W,Z)||this;return X.previousToken=$,X.name=I,X}return q}(Y);A.NoViableAltException=R;var G=function(F){Q(q,F);function q(W,Z){var $=F.call(this,W,Z)||this;return $.name=J,$}return q}(Y);A.NotAllInputParsedException=G;var O=function(F){Q(q,F);function q(W,Z,$){var X=F.call(this,W,Z)||this;return X.previousToken=$,X.name=K,X}return q}(Y);A.EarlyExitException=O}),KT=S0((A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.attemptInRepetitionRecovery=A.Recoverable=A.InRuleRecoveryException=A.IN_RULE_RECOVERY_EXCEPTION=A.EOF_FOLLOW_KEY=void 0;var Q=B6(),E=r0(),B=VC(),I=BT(),K=ME();A.EOF_FOLLOW_KEY={},A.IN_RULE_RECOVERY_EXCEPTION="InRuleRecoveryException";function J(Y){this.name=A.IN_RULE_RECOVERY_EXCEPTION,this.message=Y}A.InRuleRecoveryException=J,J.prototype=Error.prototype;var C=function(){function Y(){}return Y.prototype.initRecoverable=function(H){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=E.has(H,"recoveryEnabled")?H.recoveryEnabled:K.DEFAULT_PARSER_CONFIG.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=U)},Y.prototype.getTokenToInsert=function(H){var R=Q.createTokenInstance(H,"",NaN,NaN,NaN,NaN,NaN,NaN);return R.isInsertedInRecovery=!0,R},Y.prototype.canTokenTypeBeInsertedInRecovery=function(H){return!0},Y.prototype.tryInRepetitionRecovery=function(H,R,G,O){for(var F=this,q=this.findReSyncTokenType(),W=this.exportLexerState(),Z=[],$=!1,X=this.LA(1),N=this.LA(1),M=function(){var L=F.LA(0),D=F.errorMessageProvider.buildMismatchTokenMessage({expected:O,actual:X,previous:L,ruleName:F.getCurrRuleFullName()}),w=new B.MismatchedTokenException(D,X,F.LA(0));w.resyncedTokens=E.dropRight(Z),F.SAVE_ERROR(w)};!$;)if(this.tokenMatcher(N,O)){M();return}else if(G.call(this)){M(),H.apply(this,R);return}else this.tokenMatcher(N,q)?$=!0:(N=this.SKIP_TOKEN(),this.addToResyncTokens(N,Z));this.importLexerState(W)},Y.prototype.shouldInRepetitionRecoveryBeTried=function(H,R,G){return!(G===!1||H===void 0||R===void 0||this.tokenMatcher(this.LA(1),H)||this.isBackTracking()||this.canPerformInRuleRecovery(H,this.getFollowsForInRuleRecovery(H,R)))},Y.prototype.getFollowsForInRuleRecovery=function(H,R){var G=this.getCurrentGrammarPath(H,R),O=this.getNextPossibleTokenTypes(G);return O},Y.prototype.tryInRuleRecovery=function(H,R){if(this.canRecoverWithSingleTokenInsertion(H,R)){var G=this.getTokenToInsert(H);return G}if(this.canRecoverWithSingleTokenDeletion(H)){var O=this.SKIP_TOKEN();return this.consumeToken(),O}throw new J("sad sad panda")},Y.prototype.canPerformInRuleRecovery=function(H,R){return this.canRecoverWithSingleTokenInsertion(H,R)||this.canRecoverWithSingleTokenDeletion(H)},Y.prototype.canRecoverWithSingleTokenInsertion=function(H,R){var G=this;if(!this.canTokenTypeBeInsertedInRecovery(H)||E.isEmpty(R))return!1;var O=this.LA(1),F=E.find(R,function(q){return G.tokenMatcher(O,q)})!==void 0;return F},Y.prototype.canRecoverWithSingleTokenDeletion=function(H){var R=this.tokenMatcher(this.LA(2),H);return R},Y.prototype.isInCurrentRuleReSyncSet=function(H){var R=this.getCurrFollowKey(),G=this.getFollowSetFromFollowKey(R);return E.contains(G,H)},Y.prototype.findReSyncTokenType=function(){for(var H=this.flattenFollowSet(),R=this.LA(1),G=2;;){var O=R.tokenType;if(E.contains(H,O))return O;R=this.LA(G),G++}},Y.prototype.getCurrFollowKey=function(){if(this.RULE_STACK.length===1)return A.EOF_FOLLOW_KEY;var H=this.getLastExplicitRuleShortName(),R=this.getLastExplicitRuleOccurrenceIndex(),G=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(H),idxInCallingRule:R,inRule:this.shortRuleNameToFullName(G)}},Y.prototype.buildFullFollowKeyStack=function(){var H=this,R=this.RULE_STACK,G=this.RULE_OCCURRENCE_STACK;return E.map(R,function(O,F){return F===0?A.EOF_FOLLOW_KEY:{ruleName:H.shortRuleNameToFullName(O),idxInCallingRule:G[F],inRule:H.shortRuleNameToFullName(R[F-1])}})},Y.prototype.flattenFollowSet=function(){var H=this,R=E.map(this.buildFullFollowKeyStack(),function(G){return H.getFollowSetFromFollowKey(G)});return E.flatten(R)},Y.prototype.getFollowSetFromFollowKey=function(H){if(H===A.EOF_FOLLOW_KEY)return[Q.EOF];var R=H.ruleName+H.idxInCallingRule+I.IN+H.inRule;return this.resyncFollows[R]},Y.prototype.addToResyncTokens=function(H,R){return this.tokenMatcher(H,Q.EOF)||R.push(H),R},Y.prototype.reSyncTo=function(H){for(var R=[],G=this.LA(1);this.tokenMatcher(G,H)===!1;)G=this.SKIP_TOKEN(),this.addToResyncTokens(G,R);return E.dropRight(R)},Y.prototype.attemptInRepetitionRecovery=function(H,R,G,O,F,q,W){},Y.prototype.getCurrentGrammarPath=function(H,R){var G=this.getHumanReadableRuleStack(),O=E.cloneArr(this.RULE_OCCURRENCE_STACK),F={ruleStack:G,occurrenceStack:O,lastTok:H,lastTokOccurrence:R};return F},Y.prototype.getHumanReadableRuleStack=function(){var H=this;return E.map(this.RULE_STACK,function(R){return H.shortRuleNameToFullName(R)})},Y}();A.Recoverable=C;function U(Y,H,R,G,O,F,q){var W=this.getKeyForAutomaticLookahead(G,O),Z=this.firstAfterRepMap[W];if(Z===void 0){var $=this.getCurrRuleFullName(),X=this.getGAstProductions()[$],N=new F(X,O);Z=N.startWalking(),this.firstAfterRepMap[W]=Z}var{token:M,occurrence:L,isEndOfRule:D}=Z;this.RULE_STACK.length===1&&D&&M===void 0&&(M=Q.EOF,L=1),this.shouldInRepetitionRecoveryBeTried(M,L,q)&&this.tryInRepetitionRecovery(Y,H,R,M)}A.attemptInRepetitionRecovery=U}),n$=S0((A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.getKeyForAutomaticLookahead=A.AT_LEAST_ONE_SEP_IDX=A.MANY_SEP_IDX=A.AT_LEAST_ONE_IDX=A.MANY_IDX=A.OPTION_IDX=A.OR_IDX=A.BITS_FOR_ALT_IDX=A.BITS_FOR_RULE_IDX=A.BITS_FOR_OCCURRENCE_IDX=A.BITS_FOR_METHOD_TYPE=void 0,A.BITS_FOR_METHOD_TYPE=4,A.BITS_FOR_OCCURRENCE_IDX=8,A.BITS_FOR_RULE_IDX=12,A.BITS_FOR_ALT_IDX=8,A.OR_IDX=1<<A.BITS_FOR_OCCURRENCE_IDX,A.OPTION_IDX=2<<A.BITS_FOR_OCCURRENCE_IDX,A.MANY_IDX=3<<A.BITS_FOR_OCCURRENCE_IDX,A.AT_LEAST_ONE_IDX=4<<A.BITS_FOR_OCCURRENCE_IDX,A.MANY_SEP_IDX=5<<A.BITS_FOR_OCCURRENCE_IDX,A.AT_LEAST_ONE_SEP_IDX=6<<A.BITS_FOR_OCCURRENCE_IDX;function Q(B,I,K){return K|I|B}A.getKeyForAutomaticLookahead=Q;var E=32-A.BITS_FOR_ALT_IDX}),vt=S0((A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.LooksAhead=void 0;var Q=fY(),E=r0(),B=ME(),I=n$(),K=xY(),J=function(){function C(){}return C.prototype.initLooksAhead=function(U){this.dynamicTokensEnabled=E.has(U,"dynamicTokensEnabled")?U.dynamicTokensEnabled:B.DEFAULT_PARSER_CONFIG.dynamicTokensEnabled,this.maxLookahead=E.has(U,"maxLookahead")?U.maxLookahead:B.DEFAULT_PARSER_CONFIG.maxLookahead,this.lookAheadFuncsCache=E.isES2015MapSupported()?/*@__PURE__*/new Map:[],E.isES2015MapSupported()?(this.getLaFuncFromCache=this.getLaFuncFromMap,this.setLaFuncCache=this.setLaFuncCacheUsingMap):(this.getLaFuncFromCache=this.getLaFuncFromObj,this.setLaFuncCache=this.setLaFuncUsingObj)},C.prototype.preComputeLookaheadFunctions=function(U){var Y=this;E.forEach(U,function(H){Y.TRACE_INIT(H.name+" Rule Lookahead",function(){var R=K.collectMethods(H),G=R.alternation,O=R.repetition,F=R.option,q=R.repetitionMandatory,W=R.repetitionMandatoryWithSeparator,Z=R.repetitionWithSeparator;E.forEach(G,function($){var X=$.idx===0?"":$.idx;Y.TRACE_INIT(""+K.getProductionDslName($)+X,function(){var N=Q.buildLookaheadFuncForOr($.idx,H,$.maxLookahead||Y.maxLookahead,$.hasPredicates,Y.dynamicTokensEnabled,Y.lookAheadBuilderForAlternatives),M=I.getKeyForAutomaticLookahead(Y.fullRuleNameToShort[H.name],I.OR_IDX,$.idx);Y.setLaFuncCache(M,N)})}),E.forEach(O,function($){Y.computeLookaheadFunc(H,$.idx,I.MANY_IDX,Q.PROD_TYPE.REPETITION,$.maxLookahead,K.getProductionDslName($))}),E.forEach(F,function($){Y.computeLookaheadFunc(H,$.idx,I.OPTION_IDX,Q.PROD_TYPE.OPTION,$.maxLookahead,K.getProductionDslName($))}),E.forEach(q,function($){Y.computeLookaheadFunc(H,$.idx,I.AT_LEAST_ONE_IDX,Q.PROD_TYPE.REPETITION_MANDATORY,$.maxLookahead,K.getProductionDslName($))}),E.forEach(W,function($){Y.computeLookaheadFunc(H,$.idx,I.AT_LEAST_ONE_SEP_IDX,Q.PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR,$.maxLookahead,K.getProductionDslName($))}),E.forEach(Z,function($){Y.computeLookaheadFunc(H,$.idx,I.MANY_SEP_IDX,Q.PROD_TYPE.REPETITION_WITH_SEPARATOR,$.maxLookahead,K.getProductionDslName($))})})})},C.prototype.computeLookaheadFunc=function(U,Y,H,R,G,O){var F=this;this.TRACE_INIT(""+O+(Y===0?"":Y),function(){var q=Q.buildLookaheadFuncForOptionalProd(Y,U,G||F.maxLookahead,F.dynamicTokensEnabled,R,F.lookAheadBuilderForOptional),W=I.getKeyForAutomaticLookahead(F.fullRuleNameToShort[U.name],H,Y);F.setLaFuncCache(W,q)})},C.prototype.lookAheadBuilderForOptional=function(U,Y,H){return Q.buildSingleAlternativeLookaheadFunction(U,Y,H)},C.prototype.lookAheadBuilderForAlternatives=function(U,Y,H,R){return Q.buildAlternativesLookAheadFunc(U,Y,H,R)},C.prototype.getKeyForAutomaticLookahead=function(U,Y){var H=this.getLastExplicitRuleShortName();return I.getKeyForAutomaticLookahead(H,U,Y)},C.prototype.getLaFuncFromCache=function(U){},C.prototype.getLaFuncFromMap=function(U){return this.lookAheadFuncsCache.get(U)},C.prototype.getLaFuncFromObj=function(U){return this.lookAheadFuncsCache[U]},C.prototype.setLaFuncCache=function(U,Y){},C.prototype.setLaFuncCacheUsingMap=function(U,Y){this.lookAheadFuncsCache.set(U,Y)},C.prototype.setLaFuncUsingObj=function(U,Y){this.lookAheadFuncsCache[U]=Y},C}();A.LooksAhead=J}),yt=S0((A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.addNoneTerminalToCst=A.addTerminalToCst=A.setNodeLocationFull=A.setNodeLocationOnlyOffset=void 0;function Q(K,J){isNaN(K.startOffset)===!0?(K.startOffset=J.startOffset,K.endOffset=J.endOffset):K.endOffset<J.endOffset&&(K.endOffset=J.endOffset)}A.setNodeLocationOnlyOffset=Q;function E(K,J){isNaN(K.startOffset)===!0?(K.startOffset=J.startOffset,K.startColumn=J.startColumn,K.startLine=J.startLine,K.endOffset=J.endOffset,K.endColumn=J.endColumn,K.endLine=J.endLine):K.endOffset<J.endOffset&&(K.endOffset=J.endOffset,K.endColumn=J.endColumn,K.endLine=J.endLine)}A.setNodeLocationFull=E;function B(K,J,C){K.children[C]===void 0?K.children[C]=[J]:K.children[C].push(J)}A.addTerminalToCst=B;function I(K,J,C){K.children[J]===void 0?K.children[J]=[C]:K.children[J].push(C)}A.addNoneTerminalToCst=I}),JT=S0((A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.defineNameProp=A.functionName=A.classNameFromInstance=void 0;var Q=r0();function E(J){return I(J.constructor)}A.classNameFromInstance=E;var B="name";function I(J){var C=J.name;return C||"anonymous"}A.functionName=I;function K(J,C){var U=Object.getOwnPropertyDescriptor(J,B);return Q.isUndefined(U)||U.configurable?(Object.defineProperty(J,B,{enumerable:!1,configurable:!0,writable:!1,value:C}),!0):!1}A.defineNameProp=K}),xt=S0((A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.validateRedundantMethods=A.validateMissingCstMethods=A.validateVisitor=A.CstVisitorDefinitionError=A.createBaseVisitorConstructorWithDefaults=A.createBaseSemanticVisitorConstructor=A.defaultVisit=void 0;var Q=r0(),E=JT();function B(R,G){for(var O=Q.keys(R),F=O.length,q=0;q<F;q++)for(var W=O[q],Z=R[W],$=Z.length,X=0;X<$;X++){var N=Z[X];N.tokenTypeIdx===void 0&&this[N.name](N.children,G)}}A.defaultVisit=B;function I(R,G){var O=function(){};E.defineNameProp(O,R+"BaseSemantics");var F={visit:function(q,W){if(Q.isArray(q)&&(q=q[0]),!Q.isUndefined(q))return this[q.name](q.children,W)},validateVisitor:function(){var q=C(this,G);if(!Q.isEmpty(q)){var W=Q.map(q,function(Z){return Z.msg});throw Error("Errors Detected in CST Visitor <"+E.functionName(this.constructor)+`>:
	`+(""+W.join(`

`).replace(/\n/g,`
	`)))}}};return O.prototype=F,O.prototype.constructor=O,O._RULE_NAMES=G,O}A.createBaseSemanticVisitorConstructor=I;function K(R,G,O){var F=function(){};E.defineNameProp(F,R+"BaseSemanticsWithDefaults");var q=Object.create(O.prototype);return Q.forEach(G,function(W){q[W]=B}),F.prototype=q,F.prototype.constructor=F,F}A.createBaseVisitorConstructorWithDefaults=K;var J;(function(R){R[R.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",R[R.MISSING_METHOD=1]="MISSING_METHOD"})(J=A.CstVisitorDefinitionError||(A.CstVisitorDefinitionError={}));function C(R,G){var O=U(R,G),F=H(R,G);return O.concat(F)}A.validateVisitor=C;function U(R,G){var O=Q.map(G,function(F){if(!Q.isFunction(R[F]))return{msg:"Missing visitor method: <"+F+"> on "+E.functionName(R.constructor)+" CST Visitor.",type:J.MISSING_METHOD,methodName:F}});return Q.compact(O)}A.validateMissingCstMethods=U;var Y=["constructor","visit","validateVisitor"];function H(R,G){var O=[];for(var F in R)Q.isFunction(R[F])&&!Q.contains(Y,F)&&!Q.contains(G,F)&&O.push({msg:"Redundant visitor method: <"+F+"> on "+E.functionName(R.constructor)+` CST Visitor
There is no Grammar Rule corresponding to this method's name.
`,type:J.REDUNDANT_METHOD,methodName:F});return O}A.validateRedundantMethods=H}),gt=S0((A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.TreeBuilder=void 0;var Q=yt(),E=r0(),B=xt(),I=ME(),K=function(){function J(){}return J.prototype.initTreeBuilder=function(C){if(this.CST_STACK=[],this.outputCst=C.outputCst,this.nodeLocationTracking=E.has(C,"nodeLocationTracking")?C.nodeLocationTracking:I.DEFAULT_PARSER_CONFIG.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=E.NOOP,this.cstFinallyStateUpdate=E.NOOP,this.cstPostTerminal=E.NOOP,this.cstPostNonTerminal=E.NOOP,this.cstPostRule=E.NOOP;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Q.setNodeLocationFull,this.setNodeLocationFromNode=Q.setNodeLocationFull,this.cstPostRule=E.NOOP,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=E.NOOP,this.setNodeLocationFromNode=E.NOOP,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Q.setNodeLocationOnlyOffset,this.setNodeLocationFromNode=Q.setNodeLocationOnlyOffset,this.cstPostRule=E.NOOP,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=E.NOOP,this.setNodeLocationFromNode=E.NOOP,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=E.NOOP,this.setNodeLocationFromNode=E.NOOP,this.cstPostRule=E.NOOP,this.setInitialNodeLocation=E.NOOP;else throw Error('Invalid <nodeLocationTracking> config option: "'+C.nodeLocationTracking+'"')},J.prototype.setInitialNodeLocationOnlyOffsetRecovery=function(C){C.location={startOffset:NaN,endOffset:NaN}},J.prototype.setInitialNodeLocationOnlyOffsetRegular=function(C){C.location={startOffset:this.LA(1).startOffset,endOffset:NaN}},J.prototype.setInitialNodeLocationFullRecovery=function(C){C.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}},J.prototype.setInitialNodeLocationFullRegular=function(C){var U=this.LA(1);C.location={startOffset:U.startOffset,startLine:U.startLine,startColumn:U.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}},J.prototype.cstInvocationStateUpdate=function(C,U){var Y={name:C,children:{}};this.setInitialNodeLocation(Y),this.CST_STACK.push(Y)},J.prototype.cstFinallyStateUpdate=function(){this.CST_STACK.pop()},J.prototype.cstPostRuleFull=function(C){var U=this.LA(0),Y=C.location;Y.startOffset<=U.startOffset?(Y.endOffset=U.endOffset,Y.endLine=U.endLine,Y.endColumn=U.endColumn):(Y.startOffset=NaN,Y.startLine=NaN,Y.startColumn=NaN)},J.prototype.cstPostRuleOnlyOffset=function(C){var U=this.LA(0),Y=C.location;Y.startOffset<=U.startOffset?Y.endOffset=U.endOffset:Y.startOffset=NaN},J.prototype.cstPostTerminal=function(C,U){var Y=this.CST_STACK[this.CST_STACK.length-1];Q.addTerminalToCst(Y,U,C),this.setNodeLocationFromToken(Y.location,U)},J.prototype.cstPostNonTerminal=function(C,U){var Y=this.CST_STACK[this.CST_STACK.length-1];Q.addNoneTerminalToCst(Y,U,C),this.setNodeLocationFromNode(Y.location,C.location)},J.prototype.getBaseCstVisitorConstructor=function(){if(E.isUndefined(this.baseCstVisitorConstructor)){var C=B.createBaseSemanticVisitorConstructor(this.className,E.keys(this.gastProductionsCache));return this.baseCstVisitorConstructor=C,C}return this.baseCstVisitorConstructor},J.prototype.getBaseCstVisitorConstructorWithDefaults=function(){if(E.isUndefined(this.baseCstVisitorWithDefaultsConstructor)){var C=B.createBaseVisitorConstructorWithDefaults(this.className,E.keys(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=C,C}return this.baseCstVisitorWithDefaultsConstructor},J.prototype.getLastExplicitRuleShortName=function(){var C=this.RULE_STACK;return C[C.length-1]},J.prototype.getPreviousExplicitRuleShortName=function(){var C=this.RULE_STACK;return C[C.length-2]},J.prototype.getLastExplicitRuleOccurrenceIndex=function(){var C=this.RULE_OCCURRENCE_STACK;return C[C.length-1]},J}();A.TreeBuilder=K}),bt=S0((A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.LexerAdapter=void 0;var Q=ME(),E=function(){function B(){}return B.prototype.initLexerAdapter=function(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1},Object.defineProperty(B.prototype,"input",{get:function(){return this.tokVector},set:function(I){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=I,this.tokVectorLength=I.length},enumerable:!1,configurable:!0}),B.prototype.SKIP_TOKEN=function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Q.END_OF_FILE},B.prototype.LA=function(I){var K=this.currIdx+I;return K<0||this.tokVectorLength<=K?Q.END_OF_FILE:this.tokVector[K]},B.prototype.consumeToken=function(){this.currIdx++},B.prototype.exportLexerState=function(){return this.currIdx},B.prototype.importLexerState=function(I){this.currIdx=I},B.prototype.resetLexerState=function(){this.currIdx=-1},B.prototype.moveToTerminatedState=function(){this.currIdx=this.tokVector.length-1},B.prototype.getLexerPosition=function(){return this.exportLexerState()},B}();A.LexerAdapter=E}),ft=S0((A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.RecognizerApi=void 0;var Q=r0(),E=VC(),B=ME(),I=gY(),K=IT(),J=AE(),C=function(){function U(){}return U.prototype.ACTION=function(Y){return Y.call(this)},U.prototype.consume=function(Y,H,R){return this.consumeInternal(H,Y,R)},U.prototype.subrule=function(Y,H,R){return this.subruleInternal(H,Y,R)},U.prototype.option=function(Y,H){return this.optionInternal(H,Y)},U.prototype.or=function(Y,H){return this.orInternal(H,Y)},U.prototype.many=function(Y,H){return this.manyInternal(Y,H)},U.prototype.atLeastOne=function(Y,H){return this.atLeastOneInternal(Y,H)},U.prototype.CONSUME=function(Y,H){return this.consumeInternal(Y,0,H)},U.prototype.CONSUME1=function(Y,H){return this.consumeInternal(Y,1,H)},U.prototype.CONSUME2=function(Y,H){return this.consumeInternal(Y,2,H)},U.prototype.CONSUME3=function(Y,H){return this.consumeInternal(Y,3,H)},U.prototype.CONSUME4=function(Y,H){return this.consumeInternal(Y,4,H)},U.prototype.CONSUME5=function(Y,H){return this.consumeInternal(Y,5,H)},U.prototype.CONSUME6=function(Y,H){return this.consumeInternal(Y,6,H)},U.prototype.CONSUME7=function(Y,H){return this.consumeInternal(Y,7,H)},U.prototype.CONSUME8=function(Y,H){return this.consumeInternal(Y,8,H)},U.prototype.CONSUME9=function(Y,H){return this.consumeInternal(Y,9,H)},U.prototype.SUBRULE=function(Y,H){return this.subruleInternal(Y,0,H)},U.prototype.SUBRULE1=function(Y,H){return this.subruleInternal(Y,1,H)},U.prototype.SUBRULE2=function(Y,H){return this.subruleInternal(Y,2,H)},U.prototype.SUBRULE3=function(Y,H){return this.subruleInternal(Y,3,H)},U.prototype.SUBRULE4=function(Y,H){return this.subruleInternal(Y,4,H)},U.prototype.SUBRULE5=function(Y,H){return this.subruleInternal(Y,5,H)},U.prototype.SUBRULE6=function(Y,H){return this.subruleInternal(Y,6,H)},U.prototype.SUBRULE7=function(Y,H){return this.subruleInternal(Y,7,H)},U.prototype.SUBRULE8=function(Y,H){return this.subruleInternal(Y,8,H)},U.prototype.SUBRULE9=function(Y,H){return this.subruleInternal(Y,9,H)},U.prototype.OPTION=function(Y){return this.optionInternal(Y,0)},U.prototype.OPTION1=function(Y){return this.optionInternal(Y,1)},U.prototype.OPTION2=function(Y){return this.optionInternal(Y,2)},U.prototype.OPTION3=function(Y){return this.optionInternal(Y,3)},U.prototype.OPTION4=function(Y){return this.optionInternal(Y,4)},U.prototype.OPTION5=function(Y){return this.optionInternal(Y,5)},U.prototype.OPTION6=function(Y){return this.optionInternal(Y,6)},U.prototype.OPTION7=function(Y){return this.optionInternal(Y,7)},U.prototype.OPTION8=function(Y){return this.optionInternal(Y,8)},U.prototype.OPTION9=function(Y){return this.optionInternal(Y,9)},U.prototype.OR=function(Y){return this.orInternal(Y,0)},U.prototype.OR1=function(Y){return this.orInternal(Y,1)},U.prototype.OR2=function(Y){return this.orInternal(Y,2)},U.prototype.OR3=function(Y){return this.orInternal(Y,3)},U.prototype.OR4=function(Y){return this.orInternal(Y,4)},U.prototype.OR5=function(Y){return this.orInternal(Y,5)},U.prototype.OR6=function(Y){return this.orInternal(Y,6)},U.prototype.OR7=function(Y){return this.orInternal(Y,7)},U.prototype.OR8=function(Y){return this.orInternal(Y,8)},U.prototype.OR9=function(Y){return this.orInternal(Y,9)},U.prototype.MANY=function(Y){this.manyInternal(0,Y)},U.prototype.MANY1=function(Y){this.manyInternal(1,Y)},U.prototype.MANY2=function(Y){this.manyInternal(2,Y)},U.prototype.MANY3=function(Y){this.manyInternal(3,Y)},U.prototype.MANY4=function(Y){this.manyInternal(4,Y)},U.prototype.MANY5=function(Y){this.manyInternal(5,Y)},U.prototype.MANY6=function(Y){this.manyInternal(6,Y)},U.prototype.MANY7=function(Y){this.manyInternal(7,Y)},U.prototype.MANY8=function(Y){this.manyInternal(8,Y)},U.prototype.MANY9=function(Y){this.manyInternal(9,Y)},U.prototype.MANY_SEP=function(Y){this.manySepFirstInternal(0,Y)},U.prototype.MANY_SEP1=function(Y){this.manySepFirstInternal(1,Y)},U.prototype.MANY_SEP2=function(Y){this.manySepFirstInternal(2,Y)},U.prototype.MANY_SEP3=function(Y){this.manySepFirstInternal(3,Y)},U.prototype.MANY_SEP4=function(Y){this.manySepFirstInternal(4,Y)},U.prototype.MANY_SEP5=function(Y){this.manySepFirstInternal(5,Y)},U.prototype.MANY_SEP6=function(Y){this.manySepFirstInternal(6,Y)},U.prototype.MANY_SEP7=function(Y){this.manySepFirstInternal(7,Y)},U.prototype.MANY_SEP8=function(Y){this.manySepFirstInternal(8,Y)},U.prototype.MANY_SEP9=function(Y){this.manySepFirstInternal(9,Y)},U.prototype.AT_LEAST_ONE=function(Y){this.atLeastOneInternal(0,Y)},U.prototype.AT_LEAST_ONE1=function(Y){return this.atLeastOneInternal(1,Y)},U.prototype.AT_LEAST_ONE2=function(Y){this.atLeastOneInternal(2,Y)},U.prototype.AT_LEAST_ONE3=function(Y){this.atLeastOneInternal(3,Y)},U.prototype.AT_LEAST_ONE4=function(Y){this.atLeastOneInternal(4,Y)},U.prototype.AT_LEAST_ONE5=function(Y){this.atLeastOneInternal(5,Y)},U.prototype.AT_LEAST_ONE6=function(Y){this.atLeastOneInternal(6,Y)},U.prototype.AT_LEAST_ONE7=function(Y){this.atLeastOneInternal(7,Y)},U.prototype.AT_LEAST_ONE8=function(Y){this.atLeastOneInternal(8,Y)},U.prototype.AT_LEAST_ONE9=function(Y){this.atLeastOneInternal(9,Y)},U.prototype.AT_LEAST_ONE_SEP=function(Y){this.atLeastOneSepFirstInternal(0,Y)},U.prototype.AT_LEAST_ONE_SEP1=function(Y){this.atLeastOneSepFirstInternal(1,Y)},U.prototype.AT_LEAST_ONE_SEP2=function(Y){this.atLeastOneSepFirstInternal(2,Y)},U.prototype.AT_LEAST_ONE_SEP3=function(Y){this.atLeastOneSepFirstInternal(3,Y)},U.prototype.AT_LEAST_ONE_SEP4=function(Y){this.atLeastOneSepFirstInternal(4,Y)},U.prototype.AT_LEAST_ONE_SEP5=function(Y){this.atLeastOneSepFirstInternal(5,Y)},U.prototype.AT_LEAST_ONE_SEP6=function(Y){this.atLeastOneSepFirstInternal(6,Y)},U.prototype.AT_LEAST_ONE_SEP7=function(Y){this.atLeastOneSepFirstInternal(7,Y)},U.prototype.AT_LEAST_ONE_SEP8=function(Y){this.atLeastOneSepFirstInternal(8,Y)},U.prototype.AT_LEAST_ONE_SEP9=function(Y){this.atLeastOneSepFirstInternal(9,Y)},U.prototype.RULE=function(Y,H,R){if(R===void 0&&(R=B.DEFAULT_RULE_CONFIG),Q.contains(this.definedRulesNames,Y)){var G=I.defaultGrammarValidatorErrorProvider.buildDuplicateRuleNameError({topLevelRule:Y,grammarName:this.className}),O={message:G,type:B.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:Y};this.definitionErrors.push(O)}this.definedRulesNames.push(Y);var F=this.defineRule(Y,H,R);return this[Y]=F,F},U.prototype.OVERRIDE_RULE=function(Y,H,R){R===void 0&&(R=B.DEFAULT_RULE_CONFIG);var G=[];G=G.concat(K.validateRuleIsOverridden(Y,this.definedRulesNames,this.className)),this.definitionErrors=this.definitionErrors.concat(G);var O=this.defineRule(Y,H,R);return this[Y]=O,O},U.prototype.BACKTRACK=function(Y,H){return function(){this.isBackTrackingStack.push(1);var R=this.saveRecogState();try{return Y.apply(this,H),!0}catch(G){if(E.isRecognitionException(G))return!1;throw G}finally{this.reloadRecogState(R),this.isBackTrackingStack.pop()}}},U.prototype.getGAstProductions=function(){return this.gastProductionsCache},U.prototype.getSerializedGastProductions=function(){return J.serializeGrammar(Q.values(this.gastProductionsCache))},U}();A.RecognizerApi=C}),ut=S0((A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.RecognizerEngine=void 0;var Q=r0(),E=n$(),B=VC(),I=fY(),K=bY(),J=ME(),C=KT(),U=B6(),Y=wC(),H=JT(),R=function(){function G(){}return G.prototype.initRecognizerEngine=function(O,F){if(this.className=H.classNameFromInstance(this),this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Y.tokenStructuredMatcherNoCategories,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Q.has(F,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(Q.isArray(O)){if(Q.isEmpty(O))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof O[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(Q.isArray(O))this.tokensMap=Q.reduce(O,function($,X){return $[X.name]=X,$},{});else if(Q.has(O,"modes")&&Q.every(Q.flatten(Q.values(O.modes)),Y.isTokenType)){var q=Q.flatten(Q.values(O.modes)),W=Q.uniq(q);this.tokensMap=Q.reduce(W,function($,X){return $[X.name]=X,$},{})}else if(Q.isObject(O))this.tokensMap=Q.cloneObj(O);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=U.EOF;var Z=Q.every(Q.values(O),function($){return Q.isEmpty($.categoryMatches)});this.tokenMatcher=Z?Y.tokenStructuredMatcherNoCategories:Y.tokenStructuredMatcher,Y.augmentTokenTypes(Q.values(this.tokensMap))},G.prototype.defineRule=function(O,F,q){if(this.selfAnalysisDone)throw Error("Grammar rule <"+O+`> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);var W=Q.has(q,"resyncEnabled")?q.resyncEnabled:J.DEFAULT_RULE_CONFIG.resyncEnabled,Z=Q.has(q,"recoveryValueFunc")?q.recoveryValueFunc:J.DEFAULT_RULE_CONFIG.recoveryValueFunc,$=this.ruleShortNameIdx<<E.BITS_FOR_METHOD_TYPE+E.BITS_FOR_OCCURRENCE_IDX;this.ruleShortNameIdx++,this.shortRuleNameToFull[$]=O,this.fullRuleNameToShort[O]=$;function X(L){try{if(this.outputCst===!0){F.apply(this,L);var D=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(D),D}else return F.apply(this,L)}catch(w){return this.invokeRuleCatch(w,W,Z)}finally{this.ruleFinallyStateUpdate()}}var N=function(L,D){return L===void 0&&(L=0),this.ruleInvocationStateUpdate($,O,L),X.call(this,D)},M="ruleName";return N[M]=O,N.originalGrammarAction=F,N},G.prototype.invokeRuleCatch=function(O,F,q){var W=this.RULE_STACK.length===1,Z=F&&!this.isBackTracking()&&this.recoveryEnabled;if(B.isRecognitionException(O)){var $=O;if(Z){var X=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(X))if($.resyncedTokens=this.reSyncTo(X),this.outputCst){var N=this.CST_STACK[this.CST_STACK.length-1];return N.recoveredNode=!0,N}else return q();else{if(this.outputCst){var N=this.CST_STACK[this.CST_STACK.length-1];N.recoveredNode=!0,$.partialCstResult=N}throw $}}else{if(W)return this.moveToTerminatedState(),q();throw $}}else throw O},G.prototype.optionInternal=function(O,F){var q=this.getKeyForAutomaticLookahead(E.OPTION_IDX,F);return this.optionInternalLogic(O,F,q)},G.prototype.optionInternalLogic=function(O,F,q){var W=this,Z=this.getLaFuncFromCache(q),$,X;if(O.DEF!==void 0){if($=O.DEF,X=O.GATE,X!==void 0){var N=Z;Z=function(){return X.call(W)&&N.call(W)}}}else $=O;if(Z.call(this)===!0)return $.call(this)},G.prototype.atLeastOneInternal=function(O,F){var q=this.getKeyForAutomaticLookahead(E.AT_LEAST_ONE_IDX,O);return this.atLeastOneInternalLogic(O,F,q)},G.prototype.atLeastOneInternalLogic=function(O,F,q){var W=this,Z=this.getLaFuncFromCache(q),$,X;if(F.DEF!==void 0){if($=F.DEF,X=F.GATE,X!==void 0){var N=Z;Z=function(){return X.call(W)&&N.call(W)}}}else $=F;if(Z.call(this)===!0)for(var M=this.doSingleRepetition($);Z.call(this)===!0&&M===!0;)M=this.doSingleRepetition($);else throw this.raiseEarlyExitException(O,I.PROD_TYPE.REPETITION_MANDATORY,F.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[O,F],Z,E.AT_LEAST_ONE_IDX,O,K.NextTerminalAfterAtLeastOneWalker)},G.prototype.atLeastOneSepFirstInternal=function(O,F){var q=this.getKeyForAutomaticLookahead(E.AT_LEAST_ONE_SEP_IDX,O);this.atLeastOneSepFirstInternalLogic(O,F,q)},G.prototype.atLeastOneSepFirstInternalLogic=function(O,F,q){var W=this,Z=F.DEF,$=F.SEP,X=this.getLaFuncFromCache(q);if(X.call(this)===!0){Z.call(this);for(var N=function(){return W.tokenMatcher(W.LA(1),$)};this.tokenMatcher(this.LA(1),$)===!0;)this.CONSUME($),Z.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[O,$,N,Z,K.NextTerminalAfterAtLeastOneSepWalker],N,E.AT_LEAST_ONE_SEP_IDX,O,K.NextTerminalAfterAtLeastOneSepWalker)}else throw this.raiseEarlyExitException(O,I.PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR,F.ERR_MSG)},G.prototype.manyInternal=function(O,F){var q=this.getKeyForAutomaticLookahead(E.MANY_IDX,O);return this.manyInternalLogic(O,F,q)},G.prototype.manyInternalLogic=function(O,F,q){var W=this,Z=this.getLaFuncFromCache(q),$,X;if(F.DEF!==void 0){if($=F.DEF,X=F.GATE,X!==void 0){var N=Z;Z=function(){return X.call(W)&&N.call(W)}}}else $=F;for(var M=!0;Z.call(this)===!0&&M===!0;)M=this.doSingleRepetition($);this.attemptInRepetitionRecovery(this.manyInternal,[O,F],Z,E.MANY_IDX,O,K.NextTerminalAfterManyWalker,M)},G.prototype.manySepFirstInternal=function(O,F){var q=this.getKeyForAutomaticLookahead(E.MANY_SEP_IDX,O);this.manySepFirstInternalLogic(O,F,q)},G.prototype.manySepFirstInternalLogic=function(O,F,q){var W=this,Z=F.DEF,$=F.SEP,X=this.getLaFuncFromCache(q);if(X.call(this)===!0){Z.call(this);for(var N=function(){return W.tokenMatcher(W.LA(1),$)};this.tokenMatcher(this.LA(1),$)===!0;)this.CONSUME($),Z.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[O,$,N,Z,K.NextTerminalAfterManySepWalker],N,E.MANY_SEP_IDX,O,K.NextTerminalAfterManySepWalker)}},G.prototype.repetitionSepSecondInternal=function(O,F,q,W,Z){for(;q();)this.CONSUME(F),W.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[O,F,q,W,Z],q,E.AT_LEAST_ONE_SEP_IDX,O,Z)},G.prototype.doSingleRepetition=function(O){var F=this.getLexerPosition();O.call(this);var q=this.getLexerPosition();return q>F},G.prototype.orInternal=function(O,F){var q=this.getKeyForAutomaticLookahead(E.OR_IDX,F),W=Q.isArray(O)?O:O.DEF,Z=this.getLaFuncFromCache(q),$=Z.call(this,W);if($!==void 0){var X=W[$];return X.ALT.call(this)}this.raiseNoAltException(F,O.ERR_MSG)},G.prototype.ruleFinallyStateUpdate=function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){var O=this.LA(1),F=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:O,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new B.NotAllInputParsedException(F,O))}},G.prototype.subruleInternal=function(O,F,q){var W;try{var Z=q!==void 0?q.ARGS:void 0;return W=O.call(this,F,Z),this.cstPostNonTerminal(W,q!==void 0&&q.LABEL!==void 0?q.LABEL:O.ruleName),W}catch($){this.subruleInternalError($,q,O.ruleName)}},G.prototype.subruleInternalError=function(O,F,q){throw B.isRecognitionException(O)&&O.partialCstResult!==void 0&&(this.cstPostNonTerminal(O.partialCstResult,F!==void 0&&F.LABEL!==void 0?F.LABEL:q),delete O.partialCstResult),O},G.prototype.consumeInternal=function(O,F,q){var W;try{var Z=this.LA(1);this.tokenMatcher(Z,O)===!0?(this.consumeToken(),W=Z):this.consumeInternalError(O,Z,q)}catch($){W=this.consumeInternalRecovery(O,F,$)}return this.cstPostTerminal(q!==void 0&&q.LABEL!==void 0?q.LABEL:O.name,W),W},G.prototype.consumeInternalError=function(O,F,q){var W,Z=this.LA(0);throw q!==void 0&&q.ERR_MSG?W=q.ERR_MSG:W=this.errorMessageProvider.buildMismatchTokenMessage({expected:O,actual:F,previous:Z,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new B.MismatchedTokenException(W,F,Z))},G.prototype.consumeInternalRecovery=function(O,F,q){if(this.recoveryEnabled&&q.name==="MismatchedTokenException"&&!this.isBackTracking()){var W=this.getFollowsForInRuleRecovery(O,F);try{return this.tryInRuleRecovery(O,W)}catch(Z){throw Z.name===C.IN_RULE_RECOVERY_EXCEPTION?q:Z}}else throw q},G.prototype.saveRecogState=function(){var O=this.errors,F=Q.cloneArr(this.RULE_STACK);return{errors:O,lexerState:this.exportLexerState(),RULE_STACK:F,CST_STACK:this.CST_STACK}},G.prototype.reloadRecogState=function(O){this.errors=O.errors,this.importLexerState(O.lexerState),this.RULE_STACK=O.RULE_STACK},G.prototype.ruleInvocationStateUpdate=function(O,F,q){this.RULE_OCCURRENCE_STACK.push(q),this.RULE_STACK.push(O),this.cstInvocationStateUpdate(F,O)},G.prototype.isBackTracking=function(){return this.isBackTrackingStack.length!==0},G.prototype.getCurrRuleFullName=function(){var O=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[O]},G.prototype.shortRuleNameToFullName=function(O){return this.shortRuleNameToFull[O]},G.prototype.isAtEndOfInput=function(){return this.tokenMatcher(this.LA(1),U.EOF)},G.prototype.reset=function(){this.resetLexerState(),this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]},G}();A.RecognizerEngine=R}),pt=S0((A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.ErrorHandler=void 0;var Q=VC(),E=r0(),B=fY(),I=ME(),K=function(){function J(){}return J.prototype.initErrorHandler=function(C){this._errors=[],this.errorMessageProvider=E.has(C,"errorMessageProvider")?C.errorMessageProvider:I.DEFAULT_PARSER_CONFIG.errorMessageProvider},J.prototype.SAVE_ERROR=function(C){if(Q.isRecognitionException(C))return C.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:E.cloneArr(this.RULE_OCCURRENCE_STACK)},this._errors.push(C),C;throw Error("Trying to save an Error which is not a RecognitionException")},Object.defineProperty(J.prototype,"errors",{get:function(){return E.cloneArr(this._errors)},set:function(C){this._errors=C},enumerable:!1,configurable:!0}),J.prototype.raiseEarlyExitException=function(C,U,Y){for(var H=this.getCurrRuleFullName(),R=this.getGAstProductions()[H],G=B.getLookaheadPathsForOptionalProd(C,R,U,this.maxLookahead),O=G[0],F=[],q=1;q<=this.maxLookahead;q++)F.push(this.LA(q));var W=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:O,actual:F,previous:this.LA(0),customUserDescription:Y,ruleName:H});throw this.SAVE_ERROR(new Q.EarlyExitException(W,this.LA(1),this.LA(0)))},J.prototype.raiseNoAltException=function(C,U){for(var Y=this.getCurrRuleFullName(),H=this.getGAstProductions()[Y],R=B.getLookaheadPathsForOr(C,H,this.maxLookahead),G=[],O=1;O<=this.maxLookahead;O++)G.push(this.LA(O));var F=this.LA(0),q=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:R,actual:G,previous:F,customUserDescription:U,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new Q.NoViableAltException(q,this.LA(1),F))},J}();A.ErrorHandler=K}),mt=S0((A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.ContentAssist=void 0;var Q=bY(),E=r0(),B=function(){function I(){}return I.prototype.initContentAssist=function(){},I.prototype.computeContentAssist=function(K,J){var C=this.gastProductionsCache[K];if(E.isUndefined(C))throw Error("Rule ->"+K+"<- does not exist in this grammar.");return Q.nextPossibleTokensAfter([C],J,this.tokenMatcher,this.maxLookahead)},I.prototype.getNextPossibleTokenTypes=function(K){var J=E.first(K.ruleStack),C=this.getGAstProductions(),U=C[J],Y=new Q.NextAfterTokenWalker(U,K).startWalking();return Y},I}();A.ContentAssist=B}),ct=S0((A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.GastRecorder=void 0;var Q=r0(),E=AE(),B=yY(),I=wC(),K=B6(),J=ME(),C=n$(),U={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(U);var Y=!0,H=Math.pow(2,C.BITS_FOR_OCCURRENCE_IDX)-1,R=K.createToken({name:"RECORDING_PHASE_TOKEN",pattern:B.Lexer.NA});I.augmentTokenTypes([R]);var G=K.createTokenInstance(R,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(G);var O={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}},F=function(){function X(){}return X.prototype.initGastRecorder=function(N){this.recordingProdStack=[],this.RECORDING_PHASE=!1},X.prototype.enableRecording=function(){var N=this;this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",function(){for(var M=function(D){var w=D>0?D:"";N["CONSUME"+w]=function(P,V){return this.consumeInternalRecord(P,D,V)},N["SUBRULE"+w]=function(P,V){return this.subruleInternalRecord(P,D,V)},N["OPTION"+w]=function(P){return this.optionInternalRecord(P,D)},N["OR"+w]=function(P){return this.orInternalRecord(P,D)},N["MANY"+w]=function(P){this.manyInternalRecord(D,P)},N["MANY_SEP"+w]=function(P){this.manySepFirstInternalRecord(D,P)},N["AT_LEAST_ONE"+w]=function(P){this.atLeastOneInternalRecord(D,P)},N["AT_LEAST_ONE_SEP"+w]=function(P){this.atLeastOneSepFirstInternalRecord(D,P)}},L=0;L<10;L++)M(L);N.consume=function(D,w,P){return this.consumeInternalRecord(w,D,P)},N.subrule=function(D,w,P){return this.subruleInternalRecord(w,D,P)},N.option=function(D,w){return this.optionInternalRecord(w,D)},N.or=function(D,w){return this.orInternalRecord(w,D)},N.many=function(D,w){this.manyInternalRecord(D,w)},N.atLeastOne=function(D,w){this.atLeastOneInternalRecord(D,w)},N.ACTION=N.ACTION_RECORD,N.BACKTRACK=N.BACKTRACK_RECORD,N.LA=N.LA_RECORD})},X.prototype.disableRecording=function(){var N=this;this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",function(){for(var M=0;M<10;M++){var L=M>0?M:"";delete N["CONSUME"+L],delete N["SUBRULE"+L],delete N["OPTION"+L],delete N["OR"+L],delete N["MANY"+L],delete N["MANY_SEP"+L],delete N["AT_LEAST_ONE"+L],delete N["AT_LEAST_ONE_SEP"+L]}delete N.consume,delete N.subrule,delete N.option,delete N.or,delete N.many,delete N.atLeastOne,delete N.ACTION,delete N.BACKTRACK,delete N.LA})},X.prototype.ACTION_RECORD=function(N){},X.prototype.BACKTRACK_RECORD=function(N,M){return function(){return!0}},X.prototype.LA_RECORD=function(N){return J.END_OF_FILE},X.prototype.topLevelRuleRecord=function(N,M){try{var L=new E.Rule({definition:[],name:N});return L.name=N,this.recordingProdStack.push(L),M.call(this),this.recordingProdStack.pop(),L}catch(D){if(D.KNOWN_RECORDER_ERROR!==!0)try{D.message=D.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch(w){throw D}throw D}},X.prototype.optionInternalRecord=function(N,M){return q.call(this,E.Option,N,M)},X.prototype.atLeastOneInternalRecord=function(N,M){q.call(this,E.RepetitionMandatory,M,N)},X.prototype.atLeastOneSepFirstInternalRecord=function(N,M){q.call(this,E.RepetitionMandatoryWithSeparator,M,N,Y)},X.prototype.manyInternalRecord=function(N,M){q.call(this,E.Repetition,M,N)},X.prototype.manySepFirstInternalRecord=function(N,M){q.call(this,E.RepetitionWithSeparator,M,N,Y)},X.prototype.orInternalRecord=function(N,M){return W.call(this,N,M)},X.prototype.subruleInternalRecord=function(N,M,L){if($(M),!N||Q.has(N,"ruleName")===!1){var D=new Error("<SUBRULE"+Z(M)+"> argument is invalid"+(" expecting a Parser method reference but got: <"+JSON.stringify(N)+">")+(`
 inside top level rule: <`+this.recordingProdStack[0].name+">"));throw D.KNOWN_RECORDER_ERROR=!0,D}var w=Q.peek(this.recordingProdStack),P=N.ruleName,V=new E.NonTerminal({idx:M,nonTerminalName:P,referencedRule:void 0});return w.definition.push(V),this.outputCst?O:U},X.prototype.consumeInternalRecord=function(N,M,L){if($(M),!I.hasShortKeyProperty(N)){var D=new Error("<CONSUME"+Z(M)+"> argument is invalid"+(" expecting a TokenType reference but got: <"+JSON.stringify(N)+">")+(`
 inside top level rule: <`+this.recordingProdStack[0].name+">"));throw D.KNOWN_RECORDER_ERROR=!0,D}var w=Q.peek(this.recordingProdStack),P=new E.Terminal({idx:M,terminalType:N});return w.definition.push(P),G},X}();A.GastRecorder=F;function q(X,N,M,L){L===void 0&&(L=!1),$(M);var D=Q.peek(this.recordingProdStack),w=Q.isFunction(N)?N:N.DEF,P=new X({definition:[],idx:M});return L&&(P.separator=N.SEP),Q.has(N,"MAX_LOOKAHEAD")&&(P.maxLookahead=N.MAX_LOOKAHEAD),this.recordingProdStack.push(P),w.call(this),D.definition.push(P),this.recordingProdStack.pop(),U}function W(X,N){var M=this;$(N);var L=Q.peek(this.recordingProdStack),D=Q.isArray(X)===!1,w=D===!1?X:X.DEF,P=new E.Alternation({definition:[],idx:N,ignoreAmbiguities:D&&X.IGNORE_AMBIGUITIES===!0});Q.has(X,"MAX_LOOKAHEAD")&&(P.maxLookahead=X.MAX_LOOKAHEAD);var V=Q.some(w,function(T){return Q.isFunction(T.GATE)});return P.hasPredicates=V,L.definition.push(P),Q.forEach(w,function(T){var S=new E.Alternative({definition:[]});P.definition.push(S),Q.has(T,"IGNORE_AMBIGUITIES")?S.ignoreAmbiguities=T.IGNORE_AMBIGUITIES:Q.has(T,"GATE")&&(S.ignoreAmbiguities=!0),M.recordingProdStack.push(S),T.ALT.call(M),M.recordingProdStack.pop()}),U}function Z(X){return X===0?"":""+X}function $(X){if(X<0||X>H){var N=new Error("Invalid DSL Method idx value: <"+X+`>
	`+("Idx value must be a none negative value smaller than "+(H+1)));throw N.KNOWN_RECORDER_ERROR=!0,N}}}),dt=S0((A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.PerformanceTracer=void 0;var Q=r0(),E=ME(),B=function(){function I(){}return I.prototype.initPerformanceTracer=function(K){if(Q.has(K,"traceInitPerf")){var J=K.traceInitPerf,C=typeof J=="number";this.traceInitMaxIdent=C?J:1/0,this.traceInitPerf=C?J>0:J}else this.traceInitMaxIdent=0,this.traceInitPerf=E.DEFAULT_PARSER_CONFIG.traceInitPerf;this.traceInitIndent=-1},I.prototype.TRACE_INIT=function(K,J){if(this.traceInitPerf===!0){this.traceInitIndent++;var C=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(C+"--> <"+K+">");var U=Q.timer(J),Y=U.time,H=U.value,R=Y>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&R(C+"<-- <"+K+"> time: "+Y+"ms"),this.traceInitIndent--,H}else return J()},I}();A.PerformanceTracer=B}),lt=S0((A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.applyMixins=void 0;function Q(E,B){B.forEach(function(I){var K=I.prototype;Object.getOwnPropertyNames(K).forEach(function(J){if(J!=="constructor"){var C=Object.getOwnPropertyDescriptor(K,J);C&&(C.get||C.set)?Object.defineProperty(E.prototype,J,C):E.prototype[J]=I.prototype[J]}})})}A.applyMixins=Q}),ME=S0((A)=>{var Q=A&&A.__extends||function(){var D=function(w,P){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,T){V.__proto__=T}||function(V,T){for(var S in T)Object.prototype.hasOwnProperty.call(T,S)&&(V[S]=T[S])},D(w,P)};return function(w,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");D(w,P);function V(){this.constructor=w}w.prototype=P===null?Object.create(P):(V.prototype=P.prototype,new V)}}();Object.defineProperty(A,"__esModule",{value:!0}),A.EmbeddedActionsParser=A.CstParser=A.Parser=A.EMPTY_ALT=A.ParserDefinitionErrorType=A.DEFAULT_RULE_CONFIG=A.DEFAULT_PARSER_CONFIG=A.END_OF_FILE=void 0;var E=r0(),B=kt(),I=B6(),K=gY(),J=ht(),C=KT(),U=vt(),Y=gt(),H=bt(),R=ft(),G=ut(),O=pt(),F=mt(),q=ct(),W=dt(),Z=lt();A.END_OF_FILE=I.createTokenInstance(I.EOF,"",NaN,NaN,NaN,NaN,NaN,NaN),Object.freeze(A.END_OF_FILE),A.DEFAULT_PARSER_CONFIG=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:K.defaultParserErrorProvider,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),A.DEFAULT_RULE_CONFIG=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0});var $;(function(D){D[D.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",D[D.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",D[D.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",D[D.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",D[D.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",D[D.LEFT_RECURSION=5]="LEFT_RECURSION",D[D.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",D[D.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",D[D.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",D[D.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",D[D.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",D[D.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",D[D.TOO_MANY_ALTS=12]="TOO_MANY_ALTS"})($=A.ParserDefinitionErrorType||(A.ParserDefinitionErrorType={}));function X(D){return D===void 0&&(D=void 0),function(){return D}}A.EMPTY_ALT=X;var N=function(){function D(w,P){this.definitionErrors=[],this.selfAnalysisDone=!1;var V=this;if(V.initErrorHandler(P),V.initLexerAdapter(),V.initLooksAhead(P),V.initRecognizerEngine(w,P),V.initRecoverable(P),V.initTreeBuilder(P),V.initContentAssist(),V.initGastRecorder(P),V.initPerformanceTracer(P),E.has(P,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=E.has(P,"skipValidations")?P.skipValidations:A.DEFAULT_PARSER_CONFIG.skipValidations}return D.performSelfAnalysis=function(w){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")},D.prototype.performSelfAnalysis=function(){var w=this;this.TRACE_INIT("performSelfAnalysis",function(){var P;w.selfAnalysisDone=!0;var V=w.className;w.TRACE_INIT("toFastProps",function(){E.toFastProperties(w)}),w.TRACE_INIT("Grammar Recording",function(){try{w.enableRecording(),E.forEach(w.definedRulesNames,function(S){var h=w[S],x=h.originalGrammarAction,y=void 0;w.TRACE_INIT(S+" Rule",function(){y=w.topLevelRuleRecord(S,x)}),w.gastProductionsCache[S]=y})}finally{w.disableRecording()}});var T=[];if(w.TRACE_INIT("Grammar Resolving",function(){T=J.resolveGrammar({rules:E.values(w.gastProductionsCache)}),w.definitionErrors=w.definitionErrors.concat(T)}),w.TRACE_INIT("Grammar Validations",function(){if(E.isEmpty(T)&&w.skipValidations===!1){var S=J.validateGrammar({rules:E.values(w.gastProductionsCache),maxLookahead:w.maxLookahead,tokenTypes:E.values(w.tokensMap),errMsgProvider:K.defaultGrammarValidatorErrorProvider,grammarName:V});w.definitionErrors=w.definitionErrors.concat(S)}}),E.isEmpty(w.definitionErrors)&&(w.recoveryEnabled&&w.TRACE_INIT("computeAllProdsFollows",function(){var S=B.computeAllProdsFollows(E.values(w.gastProductionsCache));w.resyncFollows=S}),w.TRACE_INIT("ComputeLookaheadFunctions",function(){w.preComputeLookaheadFunctions(E.values(w.gastProductionsCache))})),!D.DEFER_DEFINITION_ERRORS_HANDLING&&!E.isEmpty(w.definitionErrors))throw P=E.map(w.definitionErrors,function(S){return S.message}),new Error(`Parser Definition Errors detected:
 `+P.join(`
-------------------------------
`))})},D.DEFER_DEFINITION_ERRORS_HANDLING=!1,D}();A.Parser=N,Z.applyMixins(N,[C.Recoverable,U.LooksAhead,Y.TreeBuilder,H.LexerAdapter,G.RecognizerEngine,R.RecognizerApi,O.ErrorHandler,F.ContentAssist,q.GastRecorder,W.PerformanceTracer]);var M=function(D){Q(w,D);function w(P,V){V===void 0&&(V=A.DEFAULT_PARSER_CONFIG);var T=this,S=E.cloneObj(V);return S.outputCst=!0,T=D.call(this,P,S)||this,T}return w}(N);A.CstParser=M;var L=function(D){Q(w,D);function w(P,V){V===void 0&&(V=A.DEFAULT_PARSER_CONFIG);var T=this,S=E.cloneObj(V);return S.outputCst=!1,T=D.call(this,P,S)||this,T}return w}(N);A.EmbeddedActionsParser=L}),nt=S0((A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.createSyntaxDiagramsCode=void 0;var Q=eV();function E(B,I){var K=I===void 0?{}:I,J=K.resourceBase,C=J===void 0?"https://unpkg.com/chevrotain@"+Q.VERSION+"/diagrams/":J,U=K.css,Y=U===void 0?"https://unpkg.com/chevrotain@"+Q.VERSION+"/diagrams/diagrams.css":U,H=`
<!-- This is a generated file -->
<!DOCTYPE html>
<meta charset="utf-8">
<style>
  body {
    background-color: hsl(30, 20%, 95%)
  }
</style>

`,R=`
<link rel='stylesheet' href='`+Y+`'>
`,G=`
<script src='`+C+`vendor/railroad-diagrams.js'></script>
<script src='`+C+`src/diagrams_builder.js'></script>
<script src='`+C+`src/diagrams_behavior.js'></script>
<script src='`+C+`src/main.js'></script>
`,O=`
<div id="diagrams" align="center"></div>
`,F=`
<script>
    window.serializedGrammar = `+JSON.stringify(B,null,"  ")+`;
</script>
`,q=`
<script>
    var diagramsDiv = document.getElementById("diagrams");
    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);
</script>
`;return H+R+G+O+F+q}A.createSyntaxDiagramsCode=E}),ot=S0((A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.Parser=A.createSyntaxDiagramsCode=A.clearCache=A.GAstVisitor=A.serializeProduction=A.serializeGrammar=A.Terminal=A.Rule=A.RepetitionWithSeparator=A.RepetitionMandatoryWithSeparator=A.RepetitionMandatory=A.Repetition=A.Option=A.NonTerminal=A.Alternative=A.Alternation=A.defaultLexerErrorProvider=A.NoViableAltException=A.NotAllInputParsedException=A.MismatchedTokenException=A.isRecognitionException=A.EarlyExitException=A.defaultParserErrorProvider=A.tokenName=A.tokenMatcher=A.tokenLabel=A.EOF=A.createTokenInstance=A.createToken=A.LexerDefinitionErrorType=A.Lexer=A.EMPTY_ALT=A.ParserDefinitionErrorType=A.EmbeddedActionsParser=A.CstParser=A.VERSION=void 0;var Q=eV();Object.defineProperty(A,"VERSION",{enumerable:!0,get:function(){return Q.VERSION}});var E=ME();Object.defineProperty(A,"CstParser",{enumerable:!0,get:function(){return E.CstParser}}),Object.defineProperty(A,"EmbeddedActionsParser",{enumerable:!0,get:function(){return E.EmbeddedActionsParser}}),Object.defineProperty(A,"ParserDefinitionErrorType",{enumerable:!0,get:function(){return E.ParserDefinitionErrorType}}),Object.defineProperty(A,"EMPTY_ALT",{enumerable:!0,get:function(){return E.EMPTY_ALT}});var B=yY();Object.defineProperty(A,"Lexer",{enumerable:!0,get:function(){return B.Lexer}}),Object.defineProperty(A,"LexerDefinitionErrorType",{enumerable:!0,get:function(){return B.LexerDefinitionErrorType}});var I=B6();Object.defineProperty(A,"createToken",{enumerable:!0,get:function(){return I.createToken}}),Object.defineProperty(A,"createTokenInstance",{enumerable:!0,get:function(){return I.createTokenInstance}}),Object.defineProperty(A,"EOF",{enumerable:!0,get:function(){return I.EOF}}),Object.defineProperty(A,"tokenLabel",{enumerable:!0,get:function(){return I.tokenLabel}}),Object.defineProperty(A,"tokenMatcher",{enumerable:!0,get:function(){return I.tokenMatcher}}),Object.defineProperty(A,"tokenName",{enumerable:!0,get:function(){return I.tokenName}});var K=gY();Object.defineProperty(A,"defaultParserErrorProvider",{enumerable:!0,get:function(){return K.defaultParserErrorProvider}});var J=VC();Object.defineProperty(A,"EarlyExitException",{enumerable:!0,get:function(){return J.EarlyExitException}}),Object.defineProperty(A,"isRecognitionException",{enumerable:!0,get:function(){return J.isRecognitionException}}),Object.defineProperty(A,"MismatchedTokenException",{enumerable:!0,get:function(){return J.MismatchedTokenException}}),Object.defineProperty(A,"NotAllInputParsedException",{enumerable:!0,get:function(){return J.NotAllInputParsedException}}),Object.defineProperty(A,"NoViableAltException",{enumerable:!0,get:function(){return J.NoViableAltException}});var C=QT();Object.defineProperty(A,"defaultLexerErrorProvider",{enumerable:!0,get:function(){return C.defaultLexerErrorProvider}});var U=AE();Object.defineProperty(A,"Alternation",{enumerable:!0,get:function(){return U.Alternation}}),Object.defineProperty(A,"Alternative",{enumerable:!0,get:function(){return U.Alternative}}),Object.defineProperty(A,"NonTerminal",{enumerable:!0,get:function(){return U.NonTerminal}}),Object.defineProperty(A,"Option",{enumerable:!0,get:function(){return U.Option}}),Object.defineProperty(A,"Repetition",{enumerable:!0,get:function(){return U.Repetition}}),Object.defineProperty(A,"RepetitionMandatory",{enumerable:!0,get:function(){return U.RepetitionMandatory}}),Object.defineProperty(A,"RepetitionMandatoryWithSeparator",{enumerable:!0,get:function(){return U.RepetitionMandatoryWithSeparator}}),Object.defineProperty(A,"RepetitionWithSeparator",{enumerable:!0,get:function(){return U.RepetitionWithSeparator}}),Object.defineProperty(A,"Rule",{enumerable:!0,get:function(){return U.Rule}}),Object.defineProperty(A,"Terminal",{enumerable:!0,get:function(){return U.Terminal}});var Y=AE();Object.defineProperty(A,"serializeGrammar",{enumerable:!0,get:function(){return Y.serializeGrammar}}),Object.defineProperty(A,"serializeProduction",{enumerable:!0,get:function(){return Y.serializeProduction}});var H=zC();Object.defineProperty(A,"GAstVisitor",{enumerable:!0,get:function(){return H.GAstVisitor}});function R(){console.warn(`The clearCache function was 'soft' removed from the Chevrotain API.
	 It performs no action other than printing this message.
	 Please avoid using it as it will be completely removed in the future`)}A.clearCache=R;var G=nt();Object.defineProperty(A,"createSyntaxDiagramsCode",{enumerable:!0,get:function(){return G.createSyntaxDiagramsCode}});var O=function(){function F(){throw new Error(`The Parser class has been deprecated, use CstParser or EmbeddedActionsParser instead.
See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_7-0-0`)}return F}();A.Parser=O}),CT=ot();var U9A=CT.CstParser;var $9A={name:"GouraudShader",uniforms:rA.merge([fA.common,fA.specularmap,fA.envmap,fA.aomap,fA.lightmap,fA.emissivemap,fA.fog,fA.lights,{emissive:{value:new WA(0)}}]),vertexShader:`

		#define GOURAUD

		varying vec3 vLightFront;
		varying vec3 vIndirectFront;

		#ifdef DOUBLE_SIDED
			varying vec3 vLightBack;
			varying vec3 vIndirectBack;
		#endif

		#include <common>
		#include <uv_pars_vertex>
		#include <envmap_pars_vertex>
		#include <bsdfs>
		#include <lights_pars_begin>
		#include <color_pars_vertex>
		#include <fog_pars_vertex>
		#include <morphtarget_pars_vertex>
		#include <skinning_pars_vertex>
		#include <shadowmap_pars_vertex>
		#include <logdepthbuf_pars_vertex>
		#include <clipping_planes_pars_vertex>

		void main() {

			#include <uv_vertex>
			#include <color_vertex>
			#include <morphcolor_vertex>

			#include <beginnormal_vertex>
			#include <morphnormal_vertex>
			#include <skinbase_vertex>
			#include <skinnormal_vertex>
			#include <defaultnormal_vertex>

			#include <begin_vertex>
			#include <morphtarget_vertex>
			#include <skinning_vertex>
			#include <project_vertex>
			#include <logdepthbuf_vertex>
			#include <clipping_planes_vertex>

			#include <worldpos_vertex>
			#include <envmap_vertex>

			// inlining legacy <lights_lambert_vertex>

			vec3 diffuse = vec3( 1.0 );

			vec3 geometryPosition = mvPosition.xyz;
			vec3 geometryNormal = normalize( transformedNormal );
			vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );

			vec3 backGeometryNormal = - geometryNormal;

			vLightFront = vec3( 0.0 );
			vIndirectFront = vec3( 0.0 );
			#ifdef DOUBLE_SIDED
				vLightBack = vec3( 0.0 );
				vIndirectBack = vec3( 0.0 );
			#endif

			IncidentLight directLight;
			float dotNL;
			vec3 directLightColor_Diffuse;

			vIndirectFront += getAmbientLightIrradiance( ambientLightColor );

			#if defined( USE_LIGHT_PROBES )

				vIndirectFront += getLightProbeIrradiance( lightProbe, geometryNormal );

			#endif

			#ifdef DOUBLE_SIDED

				vIndirectBack += getAmbientLightIrradiance( ambientLightColor );

				#if defined( USE_LIGHT_PROBES )

					vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometryNormal );

				#endif

			#endif

			#if NUM_POINT_LIGHTS > 0

				#pragma unroll_loop_start
				for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {

					getPointLightInfo( pointLights[ i ], geometryPosition, directLight );

					dotNL = dot( geometryNormal, directLight.direction );
					directLightColor_Diffuse = directLight.color;

					vLightFront += saturate( dotNL ) * directLightColor_Diffuse;

					#ifdef DOUBLE_SIDED

						vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;

					#endif

				}
				#pragma unroll_loop_end

			#endif

			#if NUM_SPOT_LIGHTS > 0

				#pragma unroll_loop_start
				for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {

					getSpotLightInfo( spotLights[ i ], geometryPosition, directLight );

					dotNL = dot( geometryNormal, directLight.direction );
					directLightColor_Diffuse = directLight.color;

					vLightFront += saturate( dotNL ) * directLightColor_Diffuse;

					#ifdef DOUBLE_SIDED

						vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;

					#endif
				}
				#pragma unroll_loop_end

			#endif

			#if NUM_DIR_LIGHTS > 0

				#pragma unroll_loop_start
				for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {

					getDirectionalLightInfo( directionalLights[ i ], directLight );

					dotNL = dot( geometryNormal, directLight.direction );
					directLightColor_Diffuse = directLight.color;

					vLightFront += saturate( dotNL ) * directLightColor_Diffuse;

					#ifdef DOUBLE_SIDED

						vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;

					#endif

				}
				#pragma unroll_loop_end

			#endif

			#if NUM_HEMI_LIGHTS > 0

				#pragma unroll_loop_start
				for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {

					vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );

					#ifdef DOUBLE_SIDED

						vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometryNormal );

					#endif

				}
				#pragma unroll_loop_end

			#endif

			#include <shadowmap_vertex>
			#include <fog_vertex>

		}`,fragmentShader:`

		#define GOURAUD

		uniform vec3 diffuse;
		uniform vec3 emissive;
		uniform float opacity;

		varying vec3 vLightFront;
		varying vec3 vIndirectFront;

		#ifdef DOUBLE_SIDED
			varying vec3 vLightBack;
			varying vec3 vIndirectBack;
		#endif

		#include <common>
		#include <packing>
		#include <dithering_pars_fragment>
		#include <color_pars_fragment>
		#include <uv_pars_fragment>
		#include <map_pars_fragment>
		#include <alphamap_pars_fragment>
		#include <alphatest_pars_fragment>
		#include <aomap_pars_fragment>
		#include <lightmap_pars_fragment>
		#include <emissivemap_pars_fragment>
		#include <envmap_common_pars_fragment>
		#include <envmap_pars_fragment>
		#include <bsdfs>
		#include <lights_pars_begin>
		#include <fog_pars_fragment>
		#include <shadowmap_pars_fragment>
		#include <shadowmask_pars_fragment>
		#include <specularmap_pars_fragment>
		#include <logdepthbuf_pars_fragment>
		#include <clipping_planes_pars_fragment>

		void main() {

			#include <clipping_planes_fragment>

			vec4 diffuseColor = vec4( diffuse, opacity );
			ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
			vec3 totalEmissiveRadiance = emissive;

			#include <logdepthbuf_fragment>
			#include <map_fragment>
			#include <color_fragment>
			#include <alphamap_fragment>
			#include <alphatest_fragment>
			#include <specularmap_fragment>
			#include <emissivemap_fragment>

			// accumulation

			#ifdef DOUBLE_SIDED

				reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;

			#else

				reflectedLight.indirectDiffuse += vIndirectFront;

			#endif

			#ifdef USE_LIGHTMAP

				vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
				vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
				reflectedLight.indirectDiffuse += lightMapIrradiance;

			#endif

			reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );

			#ifdef DOUBLE_SIDED

				reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;

			#else

				reflectedLight.directDiffuse = vLightFront;

			#endif

			reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();

			// modulation

			#include <aomap_fragment>

			vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;

			#include <envmap_fragment>

			#include <opaque_fragment>
			#include <tonemapping_fragment>
			#include <colorspace_fragment>
			#include <fog_fragment>
			#include <premultiplied_alpha_fragment>
			#include <dithering_fragment>

		}`};class uY{constructor(A=new f(0,0,0),Q=new f(0,1,0),E=1){this.start=A,this.end=Q,this.radius=E}clone(){return new uY(this.start.clone(),this.end.clone(),this.radius)}set(A,Q,E){this.start.copy(A),this.end.copy(Q),this.radius=E}copy(A){this.start.copy(A.start),this.end.copy(A.end),this.radius=A.radius}getCenter(A){return A.copy(this.end).add(this.start).multiplyScalar(0.5)}translate(A){this.start.add(A),this.end.add(A)}checkAABBAxis(A,Q,E,B,I,K,J,C,U){return(I-A<U||I-E<U)&&(A-K<U||E-K<U)&&(J-Q<U||J-B<U)&&(Q-C<U||B-C<U)}intersectsBox(A){return this.checkAABBAxis(this.start.x,this.start.y,this.end.x,this.end.y,A.min.x,A.max.x,A.min.y,A.max.y,this.radius)&&this.checkAABBAxis(this.start.x,this.start.z,this.end.x,this.end.z,A.min.x,A.max.x,A.min.z,A.max.z,this.radius)&&this.checkAABBAxis(this.start.y,this.start.z,this.end.y,this.end.z,A.min.y,A.max.y,A.min.z,A.max.z,this.radius)}}var UT=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180];for(let A=0;A<256;A++)UT[256+A]=UT[A];var z9A=new nQ,V9A=new f,T9A=new RA,S9A=new RA,P9A=new RA;var u0={c:null,u:[new f,new f,new f],e:[]},a0={c:null,u:[new f,new f,new f],e:[]},SQ=[[],[],[]],w0=[[],[],[]],DQ=[],I6=new f,K6=new f,J6=new f,aQ=new f,YT=new f,HT=new f,oE=new J0,GT=new p0,pY=new MA,ZT=new MA,RT=new i1;class OT{constructor(A=new f,Q=new f,E=new J0){this.center=A,this.halfSize=Q,this.rotation=E}set(A,Q,E){return this.center=A,this.halfSize=Q,this.rotation=E,this}copy(A){return this.center.copy(A.center),this.halfSize.copy(A.halfSize),this.rotation.copy(A.rotation),this}clone(){return new this.constructor().copy(this)}getSize(A){return A.copy(this.halfSize).multiplyScalar(2)}clampPoint(A,Q){const E=this.halfSize;aQ.subVectors(A,this.center),this.rotation.extractBasis(I6,K6,J6),Q.copy(this.center);const B=EQ.clamp(aQ.dot(I6),-E.x,E.x);Q.add(I6.multiplyScalar(B));const I=EQ.clamp(aQ.dot(K6),-E.y,E.y);Q.add(K6.multiplyScalar(I));const K=EQ.clamp(aQ.dot(J6),-E.z,E.z);return Q.add(J6.multiplyScalar(K)),Q}containsPoint(A){return aQ.subVectors(A,this.center),this.rotation.extractBasis(I6,K6,J6),Math.abs(aQ.dot(I6))<=this.halfSize.x&&Math.abs(aQ.dot(K6))<=this.halfSize.y&&Math.abs(aQ.dot(J6))<=this.halfSize.z}intersectsBox3(A){return this.intersectsOBB(it.fromBox3(A))}intersectsSphere(A){return this.clampPoint(A.center,HT),HT.distanceToSquared(A.center)<=A.radius*A.radius}intersectsOBB(A,Q=Number.EPSILON){u0.c=this.center,u0.e[0]=this.halfSize.x,u0.e[1]=this.halfSize.y,u0.e[2]=this.halfSize.z,this.rotation.extractBasis(u0.u[0],u0.u[1],u0.u[2]),a0.c=A.center,a0.e[0]=A.halfSize.x,a0.e[1]=A.halfSize.y,a0.e[2]=A.halfSize.z,A.rotation.extractBasis(a0.u[0],a0.u[1],a0.u[2]);for(let I=0;I<3;I++)for(let K=0;K<3;K++)SQ[I][K]=u0.u[I].dot(a0.u[K]);aQ.subVectors(a0.c,u0.c),DQ[0]=aQ.dot(u0.u[0]),DQ[1]=aQ.dot(u0.u[1]),DQ[2]=aQ.dot(u0.u[2]);for(let I=0;I<3;I++)for(let K=0;K<3;K++)w0[I][K]=Math.abs(SQ[I][K])+Q;let E,B;for(let I=0;I<3;I++)if(E=u0.e[I],B=a0.e[0]*w0[I][0]+a0.e[1]*w0[I][1]+a0.e[2]*w0[I][2],Math.abs(DQ[I])>E+B)return!1;for(let I=0;I<3;I++)if(E=u0.e[0]*w0[0][I]+u0.e[1]*w0[1][I]+u0.e[2]*w0[2][I],B=a0.e[I],Math.abs(DQ[0]*SQ[0][I]+DQ[1]*SQ[1][I]+DQ[2]*SQ[2][I])>E+B)return!1;if(E=u0.e[1]*w0[2][0]+u0.e[2]*w0[1][0],B=a0.e[1]*w0[0][2]+a0.e[2]*w0[0][1],Math.abs(DQ[2]*SQ[1][0]-DQ[1]*SQ[2][0])>E+B)return!1;if(E=u0.e[1]*w0[2][1]+u0.e[2]*w0[1][1],B=a0.e[0]*w0[0][2]+a0.e[2]*w0[0][0],Math.abs(DQ[2]*SQ[1][1]-DQ[1]*SQ[2][1])>E+B)return!1;if(E=u0.e[1]*w0[2][2]+u0.e[2]*w0[1][2],B=a0.e[0]*w0[0][1]+a0.e[1]*w0[0][0],Math.abs(DQ[2]*SQ[1][2]-DQ[1]*SQ[2][2])>E+B)return!1;if(E=u0.e[0]*w0[2][0]+u0.e[2]*w0[0][0],B=a0.e[1]*w0[1][2]+a0.e[2]*w0[1][1],Math.abs(DQ[0]*SQ[2][0]-DQ[2]*SQ[0][0])>E+B)return!1;if(E=u0.e[0]*w0[2][1]+u0.e[2]*w0[0][1],B=a0.e[0]*w0[1][2]+a0.e[2]*w0[1][0],Math.abs(DQ[0]*SQ[2][1]-DQ[2]*SQ[0][1])>E+B)return!1;if(E=u0.e[0]*w0[2][2]+u0.e[2]*w0[0][2],B=a0.e[0]*w0[1][1]+a0.e[1]*w0[1][0],Math.abs(DQ[0]*SQ[2][2]-DQ[2]*SQ[0][2])>E+B)return!1;if(E=u0.e[0]*w0[1][0]+u0.e[1]*w0[0][0],B=a0.e[1]*w0[2][2]+a0.e[2]*w0[2][1],Math.abs(DQ[1]*SQ[0][0]-DQ[0]*SQ[1][0])>E+B)return!1;if(E=u0.e[0]*w0[1][1]+u0.e[1]*w0[0][1],B=a0.e[0]*w0[2][2]+a0.e[2]*w0[2][0],Math.abs(DQ[1]*SQ[0][1]-DQ[0]*SQ[1][1])>E+B)return!1;if(E=u0.e[0]*w0[1][2]+u0.e[1]*w0[0][2],B=a0.e[0]*w0[2][1]+a0.e[1]*w0[2][0],Math.abs(DQ[1]*SQ[0][2]-DQ[0]*SQ[1][2])>E+B)return!1;return!0}intersectsPlane(A){this.rotation.extractBasis(I6,K6,J6);const Q=this.halfSize.x*Math.abs(A.normal.dot(I6))+this.halfSize.y*Math.abs(A.normal.dot(K6))+this.halfSize.z*Math.abs(A.normal.dot(J6)),E=A.normal.dot(this.center)-A.constant;return Math.abs(E)<=Q}intersectRay(A,Q){if(this.getSize(YT),GT.setFromCenterAndSize(aQ.set(0,0,0),YT),pY.setFromMatrix3(this.rotation),pY.setPosition(this.center),ZT.copy(pY).invert(),RT.copy(A).applyMatrix4(ZT),RT.intersectBox(GT,Q))return Q.applyMatrix4(pY);else return null}intersectsRay(A){return this.intersectRay(A,aQ)!==null}fromBox3(A){return A.getCenter(this.center),A.getSize(this.halfSize).multiplyScalar(0.5),this.rotation.identity(),this}equals(A){return A.center.equals(this.center)&&A.halfSize.equals(this.halfSize)&&A.rotation.equals(this.rotation)}applyMatrix4(A){const Q=A.elements;let E=aQ.set(Q[0],Q[1],Q[2]).length();const B=aQ.set(Q[4],Q[5],Q[6]).length(),I=aQ.set(Q[8],Q[9],Q[10]).length();if(A.determinant()<0)E=-E;oE.setFromMatrix4(A);const J=1/E,C=1/B,U=1/I;return oE.elements[0]*=J,oE.elements[1]*=J,oE.elements[2]*=J,oE.elements[3]*=C,oE.elements[4]*=C,oE.elements[5]*=C,oE.elements[6]*=U,oE.elements[7]*=U,oE.elements[8]*=U,this.rotation.multiply(oE),this.halfSize.x*=E,this.halfSize.y*=B,this.halfSize.z*=I,aQ.setFromMatrixPosition(A),this.center.add(aQ),this}}var it=new OT;var y9A=new f,x9A=new f,g9A=new f,b9A=new f,f9A=new ZQ,u9A=new Y8,p9A=new Y8,m9A=new YQ,c9A=new uY,d9A=new f,l9A=new f,n9A=new f;class TC{constructor(A=Math){this.grad3=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],this.grad4=[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]],this.p=[];for(let Q=0;Q<256;Q++)this.p[Q]=Math.floor(A.random()*256);this.perm=[];for(let Q=0;Q<512;Q++)this.perm[Q]=this.p[Q&255];this.simplex=[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]]}dot(A,Q,E){return A[0]*Q+A[1]*E}dot3(A,Q,E,B){return A[0]*Q+A[1]*E+A[2]*B}dot4(A,Q,E,B,I){return A[0]*Q+A[1]*E+A[2]*B+A[3]*I}noise(A,Q){let E,B,I;const K=0.5*(Math.sqrt(3)-1),J=(A+Q)*K,C=Math.floor(A+J),U=Math.floor(Q+J),Y=(3-Math.sqrt(3))/6,H=(C+U)*Y,R=C-H,G=U-H,O=A-R,F=Q-G;let q,W;if(O>F)q=1,W=0;else q=0,W=1;const Z=O-q+Y,$=F-W+Y,X=O-1+2*Y,N=F-1+2*Y,M=C&255,L=U&255,D=this.perm[M+this.perm[L]]%12,w=this.perm[M+q+this.perm[L+W]]%12,P=this.perm[M+1+this.perm[L+1]]%12;let V=0.5-O*O-F*F;if(V<0)E=0;else V*=V,E=V*V*this.dot(this.grad3[D],O,F);let T=0.5-Z*Z-$*$;if(T<0)B=0;else T*=T,B=T*T*this.dot(this.grad3[w],Z,$);let S=0.5-X*X-N*N;if(S<0)I=0;else S*=S,I=S*S*this.dot(this.grad3[P],X,N);return 70*(E+B+I)}noise3d(A,Q,E){let B,I,K,J;const C=0.3333333333333333,U=(A+Q+E)*0.3333333333333333,Y=Math.floor(A+U),H=Math.floor(Q+U),R=Math.floor(E+U),G=0.16666666666666666,O=(Y+H+R)*0.16666666666666666,F=Y-O,q=H-O,W=R-O,Z=A-F,$=Q-q,X=E-W;let N,M,L,D,w,P;if(Z>=$)if($>=X)N=1,M=0,L=0,D=1,w=1,P=0;else if(Z>=X)N=1,M=0,L=0,D=1,w=0,P=1;else N=0,M=0,L=1,D=1,w=0,P=1;else if($<X)N=0,M=0,L=1,D=0,w=1,P=1;else if(Z<X)N=0,M=1,L=0,D=0,w=1,P=1;else N=0,M=1,L=0,D=1,w=1,P=0;const V=Z-N+0.16666666666666666,T=$-M+0.16666666666666666,S=X-L+0.16666666666666666,h=Z-D+0.3333333333333333,x=$-w+0.3333333333333333,y=X-P+0.3333333333333333,j=Z-1+0.5,v=$-1+0.5,_=X-1+0.5,g=Y&255,b=H&255,p=R&255,m=this.perm[g+this.perm[b+this.perm[p]]]%12,o=this.perm[g+N+this.perm[b+M+this.perm[p+L]]]%12,AA=this.perm[g+D+this.perm[b+w+this.perm[p+P]]]%12,s=this.perm[g+1+this.perm[b+1+this.perm[p+1]]]%12;let t=0.6-Z*Z-$*$-X*X;if(t<0)B=0;else t*=t,B=t*t*this.dot3(this.grad3[m],Z,$,X);let r=0.6-V*V-T*T-S*S;if(r<0)I=0;else r*=r,I=r*r*this.dot3(this.grad3[o],V,T,S);let EA=0.6-h*h-x*x-y*y;if(EA<0)K=0;else EA*=EA,K=EA*EA*this.dot3(this.grad3[AA],h,x,y);let JA=0.6-j*j-v*v-_*_;if(JA<0)J=0;else JA*=JA,J=JA*JA*this.dot3(this.grad3[s],j,v,_);return 32*(B+I+K+J)}noise4d(A,Q,E,B){const I=this.grad4,K=this.simplex,J=this.perm,C=(Math.sqrt(5)-1)/4,U=(5-Math.sqrt(5))/20;let Y,H,R,G,O;const F=(A+Q+E+B)*C,q=Math.floor(A+F),W=Math.floor(Q+F),Z=Math.floor(E+F),$=Math.floor(B+F),X=(q+W+Z+$)*U,N=q-X,M=W-X,L=Z-X,D=$-X,w=A-N,P=Q-M,V=E-L,T=B-D,S=w>P?32:0,h=w>V?16:0,x=P>V?8:0,y=w>T?4:0,j=P>T?2:0,v=V>T?1:0,_=S+h+x+y+j+v,g=K[_][0]>=3?1:0,b=K[_][1]>=3?1:0,p=K[_][2]>=3?1:0,m=K[_][3]>=3?1:0,o=K[_][0]>=2?1:0,AA=K[_][1]>=2?1:0,s=K[_][2]>=2?1:0,t=K[_][3]>=2?1:0,r=K[_][0]>=1?1:0,EA=K[_][1]>=1?1:0,JA=K[_][2]>=1?1:0,YA=K[_][3]>=1?1:0,IA=w-g+U,l=P-b+U,UA=V-p+U,BA=T-m+U,n=w-o+2*U,i=P-AA+2*U,KA=V-s+2*U,$A=T-t+2*U,FA=w-r+3*U,e=P-EA+3*U,c=V-JA+3*U,HA=T-YA+3*U,XA=w-1+4*U,CA=P-1+4*U,GA=V-1+4*U,uA=T-1+4*U,z=q&255,k=W&255,u=Z&255,d=$&255,a=J[z+J[k+J[u+J[d]]]]%32,OA=J[z+g+J[k+b+J[u+p+J[d+m]]]]%32,LA=J[z+o+J[k+AA+J[u+s+J[d+t]]]]%32,SA=J[z+r+J[k+EA+J[u+JA+J[d+YA]]]]%32,dA=J[z+1+J[k+1+J[u+1+J[d+1]]]]%32;let yA=0.6-w*w-P*P-V*V-T*T;if(yA<0)Y=0;else yA*=yA,Y=yA*yA*this.dot4(I[a],w,P,V,T);let lA=0.6-IA*IA-l*l-UA*UA-BA*BA;if(lA<0)H=0;else lA*=lA,H=lA*lA*this.dot4(I[OA],IA,l,UA,BA);let ZA=0.6-n*n-i*i-KA*KA-$A*$A;if(ZA<0)R=0;else ZA*=ZA,R=ZA*ZA*this.dot4(I[LA],n,i,KA,$A);let xA=0.6-FA*FA-e*e-c*c-HA*HA;if(xA<0)G=0;else xA*=xA,G=xA*xA*this.dot4(I[SA],FA,e,c,HA);let TA=0.6-XA*XA-CA*CA-GA*GA-uA*uA;if(TA<0)O=0;else TA*=TA,O=TA*TA*this.dot4(I[dA],XA,CA,GA,uA);return 27*(Y+H+R+G+O)}}var t9A=new f;var ICA=new f,KCA=new C0,JCA=new f,CCA=new f,UCA=new C0,YCA=new f;var hCA=new MA;var xCA=new f,gCA=new f,bCA=new f;var pCA=new f,mCA=new f;class mY extends mA{constructor(){super(mY.Geometry,new V0({opacity:0,transparent:!0}));this.isLensflare=!0,this.type="Lensflare",this.frustumCulled=!1,this.renderOrder=1/0;const A=new f,Q=new f,E=new p9(16,16),B=new p9(16,16);let I=qQ;const K=mY.Geometry,J=new bB({uniforms:{scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;

				void main() {

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				void main() {

					gl_FragColor = vec4( 1.0, 0.0, 1.0, 1.0 );

				}`,depthTest:!0,depthWrite:!1,transparent:!1}),C=new bB({uniforms:{map:{value:E},scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;
				attribute vec2 uv;

				varying vec2 vUV;

				void main() {

					vUV = uv;

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				uniform sampler2D map;

				varying vec2 vUV;

				void main() {

					gl_FragColor = texture2D( map, vUV );

				}`,depthTest:!1,depthWrite:!1,transparent:!1}),U=new mA(K,J),Y=[],H=o$.Shader,R=new bB({name:H.name,uniforms:{map:{value:null},occlusionMap:{value:B},color:{value:new WA(16777215)},scale:{value:new RA},screenPosition:{value:new f}},vertexShader:H.vertexShader,fragmentShader:H.fragmentShader,blending:gE,transparent:!0,depthWrite:!1}),G=new mA(K,R);this.addElement=function(Z){Y.push(Z)};const O=new RA,F=new RA,q=new PK,W=new gA;this.onBeforeRender=function(Z,$,X){Z.getCurrentViewport(W);const N=Z.getRenderTarget(),M=N!==null?N.texture.type:qQ;if(I!==M)E.dispose(),B.dispose(),E.type=B.type=M,I=M;const L=W.w/W.z,D=W.z/2,w=W.w/2;let P=16/W.w;if(O.set(P*L,P),q.min.set(W.x,W.y),q.max.set(W.x+(W.z-16),W.y+(W.w-16)),Q.setFromMatrixPosition(this.matrixWorld),Q.applyMatrix4(X.matrixWorldInverse),Q.z>0)return;if(A.copy(Q).applyMatrix4(X.projectionMatrix),F.x=W.x+A.x*D+D-8,F.y=W.y+A.y*w+w-8,q.containsPoint(F)){Z.copyFramebufferToTexture(E,F);let V=J.uniforms;V.scale.value=O,V.screenPosition.value=A,Z.renderBufferDirect(X,null,K,J,U,null),Z.copyFramebufferToTexture(B,F),V=C.uniforms,V.scale.value=O,V.screenPosition.value=A,Z.renderBufferDirect(X,null,K,C,U,null);const T=-A.x*2,S=-A.y*2;for(let h=0,x=Y.length;h<x;h++){const y=Y[h],j=R.uniforms;j.color.value.copy(y.color),j.map.value=y.texture,j.screenPosition.value.x=A.x+T*y.distance,j.screenPosition.value.y=A.y+S*y.distance,P=y.size/W.w;const v=W.w/W.z;j.scale.value.set(P*v,P),R.uniformsNeedUpdate=!0,Z.renderBufferDirect(X,null,K,R,G,null)}}},this.dispose=function(){J.dispose(),C.dispose(),R.dispose(),E.dispose(),B.dispose();for(let Z=0,$=Y.length;Z<$;Z++)Y[Z].texture.dispose()}}}class o${constructor(A,Q=1,E=0,B=new WA(16777215)){this.texture=A,this.size=Q,this.distance=E,this.color=B}}o$.Shader={name:"LensflareElementShader",uniforms:{map:{value:null},occlusionMap:{value:null},color:{value:null},scale:{value:null},screenPosition:{value:null}},vertexShader:`

		precision highp float;

		uniform vec3 screenPosition;
		uniform vec2 scale;

		uniform sampler2D occlusionMap;

		attribute vec3 position;
		attribute vec2 uv;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vUV = uv;

			vec2 pos = position.xy;

			vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );

			vVisibility =        visibility.r / 9.0;
			vVisibility *= 1.0 - visibility.g / 9.0;
			vVisibility *=       visibility.b / 9.0;

			gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );

		}`,fragmentShader:`

		precision highp float;

		uniform sampler2D map;
		uniform vec3 color;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vec4 texture = texture2D( map, vUV );
			texture.a *= vVisibility;
			gl_FragColor = texture;
			gl_FragColor.rgb *= color;

		}`};mY.Geometry=function(){const A=new pA,Q=new Float32Array([-1,-1,0,0,0,1,-1,0,1,0,1,1,0,1,1,-1,1,0,0,1]),E=new K8(Q,5);return A.setIndex([0,1,2,0,2,3]),A.setAttribute("position",new X1(E,3,0,!1)),A.setAttribute("uv",new X1(E,2,3,!1)),A}();var aCA=new Int32Array([0,265,515,778,1030,1295,1541,1804,2060,2309,2575,2822,3082,3331,3593,3840,400,153,915,666,1430,1183,1941,1692,2460,2197,2975,2710,3482,3219,3993,3728,560,825,51,314,1590,1855,1077,1340,2620,2869,2111,2358,3642,3891,3129,3376,928,681,419,170,1958,1711,1445,1196,2988,2725,2479,2214,4010,3747,3497,3232,1120,1385,1635,1898,102,367,613,876,3180,3429,3695,3942,2154,2403,2665,2912,1520,1273,2035,1786,502,255,1013,764,3580,3317,4095,3830,2554,2291,3065,2800,1616,1881,1107,1370,598,863,85,348,3676,3925,3167,3414,2650,2899,2137,2384,1984,1737,1475,1226,966,719,453,204,4044,3781,3535,3270,3018,2755,2505,2240,2240,2505,2755,3018,3270,3535,3781,4044,204,453,719,966,1226,1475,1737,1984,2384,2137,2899,2650,3414,3167,3925,3676,348,85,863,598,1370,1107,1881,1616,2800,3065,2291,2554,3830,4095,3317,3580,764,1013,255,502,1786,2035,1273,1520,2912,2665,2403,2154,3942,3695,3429,3180,876,613,367,102,1898,1635,1385,1120,3232,3497,3747,4010,2214,2479,2725,2988,1196,1445,1711,1958,170,419,681,928,3376,3129,3891,3642,2358,2111,2869,2620,1340,1077,1855,1590,314,51,825,560,3728,3993,3219,3482,2710,2975,2197,2460,1692,1941,1183,1430,666,915,153,400,3840,3593,3331,3082,2822,2575,2309,2060,1804,1541,1295,1030,778,515,265,0]),tCA=new Int32Array([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,8,3,9,8,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,2,10,0,2,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,8,3,2,10,8,10,9,8,-1,-1,-1,-1,-1,-1,-1,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,11,2,8,11,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,9,0,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,11,2,1,9,11,9,8,11,-1,-1,-1,-1,-1,-1,-1,3,10,1,11,10,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,10,1,0,8,10,8,11,10,-1,-1,-1,-1,-1,-1,-1,3,9,0,3,11,9,11,10,9,-1,-1,-1,-1,-1,-1,-1,9,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,3,0,7,3,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,1,9,4,7,1,7,3,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,4,7,3,0,4,1,2,10,-1,-1,-1,-1,-1,-1,-1,9,2,10,9,0,2,8,4,7,-1,-1,-1,-1,-1,-1,-1,2,10,9,2,9,7,2,7,3,7,9,4,-1,-1,-1,-1,8,4,7,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,4,7,11,2,4,2,0,4,-1,-1,-1,-1,-1,-1,-1,9,0,1,8,4,7,2,3,11,-1,-1,-1,-1,-1,-1,-1,4,7,11,9,4,11,9,11,2,9,2,1,-1,-1,-1,-1,3,10,1,3,11,10,7,8,4,-1,-1,-1,-1,-1,-1,-1,1,11,10,1,4,11,1,0,4,7,11,4,-1,-1,-1,-1,4,7,8,9,0,11,9,11,10,11,0,3,-1,-1,-1,-1,4,7,11,4,11,9,9,11,10,-1,-1,-1,-1,-1,-1,-1,9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,5,4,0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,5,4,1,5,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,5,4,8,3,5,3,1,5,-1,-1,-1,-1,-1,-1,-1,1,2,10,9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,8,1,2,10,4,9,5,-1,-1,-1,-1,-1,-1,-1,5,2,10,5,4,2,4,0,2,-1,-1,-1,-1,-1,-1,-1,2,10,5,3,2,5,3,5,4,3,4,8,-1,-1,-1,-1,9,5,4,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,11,2,0,8,11,4,9,5,-1,-1,-1,-1,-1,-1,-1,0,5,4,0,1,5,2,3,11,-1,-1,-1,-1,-1,-1,-1,2,1,5,2,5,8,2,8,11,4,8,5,-1,-1,-1,-1,10,3,11,10,1,3,9,5,4,-1,-1,-1,-1,-1,-1,-1,4,9,5,0,8,1,8,10,1,8,11,10,-1,-1,-1,-1,5,4,0,5,0,11,5,11,10,11,0,3,-1,-1,-1,-1,5,4,8,5,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1,9,7,8,5,7,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,3,0,9,5,3,5,7,3,-1,-1,-1,-1,-1,-1,-1,0,7,8,0,1,7,1,5,7,-1,-1,-1,-1,-1,-1,-1,1,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,7,8,9,5,7,10,1,2,-1,-1,-1,-1,-1,-1,-1,10,1,2,9,5,0,5,3,0,5,7,3,-1,-1,-1,-1,8,0,2,8,2,5,8,5,7,10,5,2,-1,-1,-1,-1,2,10,5,2,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,7,9,5,7,8,9,3,11,2,-1,-1,-1,-1,-1,-1,-1,9,5,7,9,7,2,9,2,0,2,7,11,-1,-1,-1,-1,2,3,11,0,1,8,1,7,8,1,5,7,-1,-1,-1,-1,11,2,1,11,1,7,7,1,5,-1,-1,-1,-1,-1,-1,-1,9,5,8,8,5,7,10,1,3,10,3,11,-1,-1,-1,-1,5,7,0,5,0,9,7,11,0,1,0,10,11,10,0,-1,11,10,0,11,0,3,10,5,0,8,0,7,5,7,0,-1,11,10,5,7,11,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,0,1,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,8,3,1,9,8,5,10,6,-1,-1,-1,-1,-1,-1,-1,1,6,5,2,6,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,6,5,1,2,6,3,0,8,-1,-1,-1,-1,-1,-1,-1,9,6,5,9,0,6,0,2,6,-1,-1,-1,-1,-1,-1,-1,5,9,8,5,8,2,5,2,6,3,2,8,-1,-1,-1,-1,2,3,11,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,0,8,11,2,0,10,6,5,-1,-1,-1,-1,-1,-1,-1,0,1,9,2,3,11,5,10,6,-1,-1,-1,-1,-1,-1,-1,5,10,6,1,9,2,9,11,2,9,8,11,-1,-1,-1,-1,6,3,11,6,5,3,5,1,3,-1,-1,-1,-1,-1,-1,-1,0,8,11,0,11,5,0,5,1,5,11,6,-1,-1,-1,-1,3,11,6,0,3,6,0,6,5,0,5,9,-1,-1,-1,-1,6,5,9,6,9,11,11,9,8,-1,-1,-1,-1,-1,-1,-1,5,10,6,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,3,0,4,7,3,6,5,10,-1,-1,-1,-1,-1,-1,-1,1,9,0,5,10,6,8,4,7,-1,-1,-1,-1,-1,-1,-1,10,6,5,1,9,7,1,7,3,7,9,4,-1,-1,-1,-1,6,1,2,6,5,1,4,7,8,-1,-1,-1,-1,-1,-1,-1,1,2,5,5,2,6,3,0,4,3,4,7,-1,-1,-1,-1,8,4,7,9,0,5,0,6,5,0,2,6,-1,-1,-1,-1,7,3,9,7,9,4,3,2,9,5,9,6,2,6,9,-1,3,11,2,7,8,4,10,6,5,-1,-1,-1,-1,-1,-1,-1,5,10,6,4,7,2,4,2,0,2,7,11,-1,-1,-1,-1,0,1,9,4,7,8,2,3,11,5,10,6,-1,-1,-1,-1,9,2,1,9,11,2,9,4,11,7,11,4,5,10,6,-1,8,4,7,3,11,5,3,5,1,5,11,6,-1,-1,-1,-1,5,1,11,5,11,6,1,0,11,7,11,4,0,4,11,-1,0,5,9,0,6,5,0,3,6,11,6,3,8,4,7,-1,6,5,9,6,9,11,4,7,9,7,11,9,-1,-1,-1,-1,10,4,9,6,4,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,10,6,4,9,10,0,8,3,-1,-1,-1,-1,-1,-1,-1,10,0,1,10,6,0,6,4,0,-1,-1,-1,-1,-1,-1,-1,8,3,1,8,1,6,8,6,4,6,1,10,-1,-1,-1,-1,1,4,9,1,2,4,2,6,4,-1,-1,-1,-1,-1,-1,-1,3,0,8,1,2,9,2,4,9,2,6,4,-1,-1,-1,-1,0,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,3,2,8,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,10,4,9,10,6,4,11,2,3,-1,-1,-1,-1,-1,-1,-1,0,8,2,2,8,11,4,9,10,4,10,6,-1,-1,-1,-1,3,11,2,0,1,6,0,6,4,6,1,10,-1,-1,-1,-1,6,4,1,6,1,10,4,8,1,2,1,11,8,11,1,-1,9,6,4,9,3,6,9,1,3,11,6,3,-1,-1,-1,-1,8,11,1,8,1,0,11,6,1,9,1,4,6,4,1,-1,3,11,6,3,6,0,0,6,4,-1,-1,-1,-1,-1,-1,-1,6,4,8,11,6,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,10,6,7,8,10,8,9,10,-1,-1,-1,-1,-1,-1,-1,0,7,3,0,10,7,0,9,10,6,7,10,-1,-1,-1,-1,10,6,7,1,10,7,1,7,8,1,8,0,-1,-1,-1,-1,10,6,7,10,7,1,1,7,3,-1,-1,-1,-1,-1,-1,-1,1,2,6,1,6,8,1,8,9,8,6,7,-1,-1,-1,-1,2,6,9,2,9,1,6,7,9,0,9,3,7,3,9,-1,7,8,0,7,0,6,6,0,2,-1,-1,-1,-1,-1,-1,-1,7,3,2,6,7,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,11,10,6,8,10,8,9,8,6,7,-1,-1,-1,-1,2,0,7,2,7,11,0,9,7,6,7,10,9,10,7,-1,1,8,0,1,7,8,1,10,7,6,7,10,2,3,11,-1,11,2,1,11,1,7,10,6,1,6,7,1,-1,-1,-1,-1,8,9,6,8,6,7,9,1,6,11,6,3,1,3,6,-1,0,9,1,11,6,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,8,0,7,0,6,3,11,0,11,6,0,-1,-1,-1,-1,7,11,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,8,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,1,9,8,3,1,11,7,6,-1,-1,-1,-1,-1,-1,-1,10,1,2,6,11,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,10,3,0,8,6,11,7,-1,-1,-1,-1,-1,-1,-1,2,9,0,2,10,9,6,11,7,-1,-1,-1,-1,-1,-1,-1,6,11,7,2,10,3,10,8,3,10,9,8,-1,-1,-1,-1,7,2,3,6,2,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,0,8,7,6,0,6,2,0,-1,-1,-1,-1,-1,-1,-1,2,7,6,2,3,7,0,1,9,-1,-1,-1,-1,-1,-1,-1,1,6,2,1,8,6,1,9,8,8,7,6,-1,-1,-1,-1,10,7,6,10,1,7,1,3,7,-1,-1,-1,-1,-1,-1,-1,10,7,6,1,7,10,1,8,7,1,0,8,-1,-1,-1,-1,0,3,7,0,7,10,0,10,9,6,10,7,-1,-1,-1,-1,7,6,10,7,10,8,8,10,9,-1,-1,-1,-1,-1,-1,-1,6,8,4,11,8,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,6,11,3,0,6,0,4,6,-1,-1,-1,-1,-1,-1,-1,8,6,11,8,4,6,9,0,1,-1,-1,-1,-1,-1,-1,-1,9,4,6,9,6,3,9,3,1,11,3,6,-1,-1,-1,-1,6,8,4,6,11,8,2,10,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,3,0,11,0,6,11,0,4,6,-1,-1,-1,-1,4,11,8,4,6,11,0,2,9,2,10,9,-1,-1,-1,-1,10,9,3,10,3,2,9,4,3,11,3,6,4,6,3,-1,8,2,3,8,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,0,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,9,0,2,3,4,2,4,6,4,3,8,-1,-1,-1,-1,1,9,4,1,4,2,2,4,6,-1,-1,-1,-1,-1,-1,-1,8,1,3,8,6,1,8,4,6,6,10,1,-1,-1,-1,-1,10,1,0,10,0,6,6,0,4,-1,-1,-1,-1,-1,-1,-1,4,6,3,4,3,8,6,10,3,0,3,9,10,9,3,-1,10,9,4,6,10,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,9,5,7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,4,9,5,11,7,6,-1,-1,-1,-1,-1,-1,-1,5,0,1,5,4,0,7,6,11,-1,-1,-1,-1,-1,-1,-1,11,7,6,8,3,4,3,5,4,3,1,5,-1,-1,-1,-1,9,5,4,10,1,2,7,6,11,-1,-1,-1,-1,-1,-1,-1,6,11,7,1,2,10,0,8,3,4,9,5,-1,-1,-1,-1,7,6,11,5,4,10,4,2,10,4,0,2,-1,-1,-1,-1,3,4,8,3,5,4,3,2,5,10,5,2,11,7,6,-1,7,2,3,7,6,2,5,4,9,-1,-1,-1,-1,-1,-1,-1,9,5,4,0,8,6,0,6,2,6,8,7,-1,-1,-1,-1,3,6,2,3,7,6,1,5,0,5,4,0,-1,-1,-1,-1,6,2,8,6,8,7,2,1,8,4,8,5,1,5,8,-1,9,5,4,10,1,6,1,7,6,1,3,7,-1,-1,-1,-1,1,6,10,1,7,6,1,0,7,8,7,0,9,5,4,-1,4,0,10,4,10,5,0,3,10,6,10,7,3,7,10,-1,7,6,10,7,10,8,5,4,10,4,8,10,-1,-1,-1,-1,6,9,5,6,11,9,11,8,9,-1,-1,-1,-1,-1,-1,-1,3,6,11,0,6,3,0,5,6,0,9,5,-1,-1,-1,-1,0,11,8,0,5,11,0,1,5,5,6,11,-1,-1,-1,-1,6,11,3,6,3,5,5,3,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,9,5,11,9,11,8,11,5,6,-1,-1,-1,-1,0,11,3,0,6,11,0,9,6,5,6,9,1,2,10,-1,11,8,5,11,5,6,8,0,5,10,5,2,0,2,5,-1,6,11,3,6,3,5,2,10,3,10,5,3,-1,-1,-1,-1,5,8,9,5,2,8,5,6,2,3,8,2,-1,-1,-1,-1,9,5,6,9,6,0,0,6,2,-1,-1,-1,-1,-1,-1,-1,1,5,8,1,8,0,5,6,8,3,8,2,6,2,8,-1,1,5,6,2,1,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,3,6,1,6,10,3,8,6,5,6,9,8,9,6,-1,10,1,0,10,0,6,9,5,0,5,6,0,-1,-1,-1,-1,0,3,8,5,6,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,5,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,5,10,7,5,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,5,10,11,7,5,8,3,0,-1,-1,-1,-1,-1,-1,-1,5,11,7,5,10,11,1,9,0,-1,-1,-1,-1,-1,-1,-1,10,7,5,10,11,7,9,8,1,8,3,1,-1,-1,-1,-1,11,1,2,11,7,1,7,5,1,-1,-1,-1,-1,-1,-1,-1,0,8,3,1,2,7,1,7,5,7,2,11,-1,-1,-1,-1,9,7,5,9,2,7,9,0,2,2,11,7,-1,-1,-1,-1,7,5,2,7,2,11,5,9,2,3,2,8,9,8,2,-1,2,5,10,2,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,8,2,0,8,5,2,8,7,5,10,2,5,-1,-1,-1,-1,9,0,1,5,10,3,5,3,7,3,10,2,-1,-1,-1,-1,9,8,2,9,2,1,8,7,2,10,2,5,7,5,2,-1,1,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,7,0,7,1,1,7,5,-1,-1,-1,-1,-1,-1,-1,9,0,3,9,3,5,5,3,7,-1,-1,-1,-1,-1,-1,-1,9,8,7,5,9,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5,8,4,5,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1,5,0,4,5,11,0,5,10,11,11,3,0,-1,-1,-1,-1,0,1,9,8,4,10,8,10,11,10,4,5,-1,-1,-1,-1,10,11,4,10,4,5,11,3,4,9,4,1,3,1,4,-1,2,5,1,2,8,5,2,11,8,4,5,8,-1,-1,-1,-1,0,4,11,0,11,3,4,5,11,2,11,1,5,1,11,-1,0,2,5,0,5,9,2,11,5,4,5,8,11,8,5,-1,9,4,5,2,11,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,5,10,3,5,2,3,4,5,3,8,4,-1,-1,-1,-1,5,10,2,5,2,4,4,2,0,-1,-1,-1,-1,-1,-1,-1,3,10,2,3,5,10,3,8,5,4,5,8,0,1,9,-1,5,10,2,5,2,4,1,9,2,9,4,2,-1,-1,-1,-1,8,4,5,8,5,3,3,5,1,-1,-1,-1,-1,-1,-1,-1,0,4,5,1,0,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,4,5,8,5,3,9,0,5,0,3,5,-1,-1,-1,-1,9,4,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,11,7,4,9,11,9,10,11,-1,-1,-1,-1,-1,-1,-1,0,8,3,4,9,7,9,11,7,9,10,11,-1,-1,-1,-1,1,10,11,1,11,4,1,4,0,7,4,11,-1,-1,-1,-1,3,1,4,3,4,8,1,10,4,7,4,11,10,11,4,-1,4,11,7,9,11,4,9,2,11,9,1,2,-1,-1,-1,-1,9,7,4,9,11,7,9,1,11,2,11,1,0,8,3,-1,11,7,4,11,4,2,2,4,0,-1,-1,-1,-1,-1,-1,-1,11,7,4,11,4,2,8,3,4,3,2,4,-1,-1,-1,-1,2,9,10,2,7,9,2,3,7,7,4,9,-1,-1,-1,-1,9,10,7,9,7,4,10,2,7,8,7,0,2,0,7,-1,3,7,10,3,10,2,7,4,10,1,10,0,4,0,10,-1,1,10,2,8,7,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,9,1,4,1,7,7,1,3,-1,-1,-1,-1,-1,-1,-1,4,9,1,4,1,7,0,8,1,8,7,1,-1,-1,-1,-1,4,0,3,7,4,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,8,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,9,3,9,11,11,9,10,-1,-1,-1,-1,-1,-1,-1,0,1,10,0,10,8,8,10,11,-1,-1,-1,-1,-1,-1,-1,3,1,10,11,3,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,11,1,11,9,9,11,8,-1,-1,-1,-1,-1,-1,-1,3,0,9,3,9,11,1,2,9,2,11,9,-1,-1,-1,-1,0,2,11,8,0,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,2,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,8,2,8,10,10,8,9,-1,-1,-1,-1,-1,-1,-1,9,10,2,0,9,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,8,2,8,10,0,1,8,1,10,8,-1,-1,-1,-1,1,10,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,3,8,9,1,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,9,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,3,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]);class rK extends mA{constructor(A,Q={}){super(A);this.isReflector=!0,this.type="Reflector",this.camera=new y0;const E=this,B=Q.color!==void 0?new WA(Q.color):new WA(8355711),I=Q.textureWidth||512,K=Q.textureHeight||512,J=Q.clipBias||0,C=Q.shader||rK.ReflectorShader,U=Q.multisample!==void 0?Q.multisample:4,Y=new ZQ,H=new f,R=new f,G=new f,O=new MA,F=new f(0,0,-1),q=new gA,W=new f,Z=new f,$=new gA,X=new MA,N=this.camera,M=new B0(I,K,{samples:U,type:eA}),L=new cA({name:C.name!==void 0?C.name:"unspecified",uniforms:rA.clone(C.uniforms),fragmentShader:C.fragmentShader,vertexShader:C.vertexShader});L.uniforms.tDiffuse.value=M.texture,L.uniforms.color.value=B,L.uniforms.textureMatrix.value=X,this.material=L,this.onBeforeRender=function(D,w,P){if(R.setFromMatrixPosition(E.matrixWorld),G.setFromMatrixPosition(P.matrixWorld),O.extractRotation(E.matrixWorld),H.set(0,0,1),H.applyMatrix4(O),W.subVectors(R,G),W.dot(H)>0)return;W.reflect(H).negate(),W.add(R),O.extractRotation(P.matrixWorld),F.set(0,0,-1),F.applyMatrix4(O),F.add(G),Z.subVectors(R,F),Z.reflect(H).negate(),Z.add(R),N.position.copy(W),N.up.set(0,1,0),N.up.applyMatrix4(O),N.up.reflect(H),N.lookAt(Z),N.far=P.far,N.updateMatrixWorld(),N.projectionMatrix.copy(P.projectionMatrix),X.set(0.5,0,0,0.5,0,0.5,0,0.5,0,0,0.5,0.5,0,0,0,1),X.multiply(N.projectionMatrix),X.multiply(N.matrixWorldInverse),X.multiply(E.matrixWorld),Y.setFromNormalAndCoplanarPoint(H,R),Y.applyMatrix4(N.matrixWorldInverse),q.set(Y.normal.x,Y.normal.y,Y.normal.z,Y.constant);const V=N.projectionMatrix;$.x=(Math.sign(q.x)+V.elements[8])/V.elements[0],$.y=(Math.sign(q.y)+V.elements[9])/V.elements[5],$.z=-1,$.w=(1+V.elements[10])/V.elements[14],q.multiplyScalar(2/q.dot($)),V.elements[2]=q.x,V.elements[6]=q.y,V.elements[10]=q.z+1-J,V.elements[14]=q.w,E.visible=!1;const T=D.getRenderTarget(),S=D.xr.enabled,h=D.shadowMap.autoUpdate;if(D.xr.enabled=!1,D.shadowMap.autoUpdate=!1,D.setRenderTarget(M),D.state.buffers.depth.setMask(!0),D.autoClear===!1)D.clear();D.render(w,N),D.xr.enabled=S,D.shadowMap.autoUpdate=h,D.setRenderTarget(T);const x=P.viewport;if(x!==void 0)D.state.viewport(x);E.visible=!0},this.getRenderTarget=function(){return M},this.dispose=function(){M.dispose(),E.material.dispose()}}}rK.ReflectorShader={name:"ReflectorShader",uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:`
		uniform mat4 textureMatrix;
		varying vec4 vUv;

		#include <common>
		#include <logdepthbuf_pars_vertex>

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

			#include <logdepthbuf_vertex>

		}`,fragmentShader:`
		uniform vec3 color;
		uniform sampler2D tDiffuse;
		varying vec4 vUv;

		#include <logdepthbuf_pars_fragment>

		float blendOverlay( float base, float blend ) {

			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );

		}

		vec3 blendOverlay( vec3 base, vec3 blend ) {

			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );

		}

		void main() {

			#include <logdepthbuf_fragment>

			vec4 base = texture2DProj( tDiffuse, vUv );
			gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>

		}`};class tB extends mA{constructor(A,Q={}){super(A);this.isReflectorForSSRPass=!0,this.type="ReflectorForSSRPass";const E=this,B=Q.color!==void 0?new WA(Q.color):new WA(8355711),I=Q.textureWidth||512,K=Q.textureHeight||512,J=Q.clipBias||0,C=Q.shader||tB.ReflectorShader,U=Q.useDepthTexture===!0,Y=new f(0,1,0),H=new f,R=new f;E.needsUpdate=!1,E.maxDistance=tB.ReflectorShader.uniforms.maxDistance.value,E.opacity=tB.ReflectorShader.uniforms.opacity.value,E.color=B,E.resolution=Q.resolution||new RA(window.innerWidth,window.innerHeight),E._distanceAttenuation=tB.ReflectorShader.defines.DISTANCE_ATTENUATION,Object.defineProperty(E,"distanceAttenuation",{get(){return E._distanceAttenuation},set(T){if(E._distanceAttenuation===T)return;E._distanceAttenuation=T,E.material.defines.DISTANCE_ATTENUATION=T,E.material.needsUpdate=!0}}),E._fresnel=tB.ReflectorShader.defines.FRESNEL,Object.defineProperty(E,"fresnel",{get(){return E._fresnel},set(T){if(E._fresnel===T)return;E._fresnel=T,E.material.defines.FRESNEL=T,E.material.needsUpdate=!0}});const G=new f,O=new f,F=new f,q=new MA,W=new f(0,0,-1),Z=new f,$=new f,X=new MA,N=new y0;let M;if(U)M=new S1,M.type=j9,M.minFilter=L0,M.magFilter=L0;const D=new B0(I,K,{depthTexture:U?M:null,type:eA}),w=new cA({name:C.name!==void 0?C.name:"unspecified",transparent:U,defines:Object.assign({},tB.ReflectorShader.defines,{useDepthTexture:U}),uniforms:rA.clone(C.uniforms),fragmentShader:C.fragmentShader,vertexShader:C.vertexShader});if(w.uniforms.tDiffuse.value=D.texture,w.uniforms.color.value=E.color,w.uniforms.textureMatrix.value=X,U)w.uniforms.tDepth.value=D.depthTexture;this.material=w;const V=[new ZQ(new f(0,1,0),J)];this.doRender=function(T,S,h){if(w.uniforms.maxDistance.value=E.maxDistance,w.uniforms.color.value=E.color,w.uniforms.opacity.value=E.opacity,H.copy(h.position).normalize(),R.copy(H).reflect(Y),w.uniforms.fresnelCoe.value=(H.dot(R)+1)/2,O.setFromMatrixPosition(E.matrixWorld),F.setFromMatrixPosition(h.matrixWorld),q.extractRotation(E.matrixWorld),G.set(0,0,1),G.applyMatrix4(q),Z.subVectors(O,F),Z.dot(G)>0)return;Z.reflect(G).negate(),Z.add(O),q.extractRotation(h.matrixWorld),W.set(0,0,-1),W.applyMatrix4(q),W.add(F),$.subVectors(O,W),$.reflect(G).negate(),$.add(O),N.position.copy(Z),N.up.set(0,1,0),N.up.applyMatrix4(q),N.up.reflect(G),N.lookAt($),N.far=h.far,N.updateMatrixWorld(),N.projectionMatrix.copy(h.projectionMatrix),w.uniforms.virtualCameraNear.value=h.near,w.uniforms.virtualCameraFar.value=h.far,w.uniforms.virtualCameraMatrixWorld.value=N.matrixWorld,w.uniforms.virtualCameraProjectionMatrix.value=h.projectionMatrix,w.uniforms.virtualCameraProjectionMatrixInverse.value=h.projectionMatrixInverse,w.uniforms.resolution.value=E.resolution,X.set(0.5,0,0,0.5,0,0.5,0,0.5,0,0,0.5,0.5,0,0,0,1),X.multiply(N.projectionMatrix),X.multiply(N.matrixWorldInverse),X.multiply(E.matrixWorld);const x=T.getRenderTarget(),y=T.xr.enabled,j=T.shadowMap.autoUpdate,v=T.clippingPlanes;if(T.xr.enabled=!1,T.shadowMap.autoUpdate=!1,T.clippingPlanes=V,T.setRenderTarget(D),T.state.buffers.depth.setMask(!0),T.autoClear===!1)T.clear();T.render(S,N),T.xr.enabled=y,T.shadowMap.autoUpdate=j,T.clippingPlanes=v,T.setRenderTarget(x);const _=h.viewport;if(_!==void 0)T.state.viewport(_)},this.getRenderTarget=function(){return D}}}tB.ReflectorShader={name:"ReflectorShader",defines:{DISTANCE_ATTENUATION:!0,FRESNEL:!0},uniforms:{color:{value:null},tDiffuse:{value:null},tDepth:{value:null},textureMatrix:{value:new MA},maxDistance:{value:180},opacity:{value:0.5},fresnelCoe:{value:null},virtualCameraNear:{value:null},virtualCameraFar:{value:null},virtualCameraProjectionMatrix:{value:new MA},virtualCameraMatrixWorld:{value:new MA},virtualCameraProjectionMatrixInverse:{value:new MA},resolution:{value:new RA}},vertexShader:`
		uniform mat4 textureMatrix;
		varying vec4 vUv;

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`
		uniform vec3 color;
		uniform sampler2D tDiffuse;
		uniform sampler2D tDepth;
		uniform float maxDistance;
		uniform float opacity;
		uniform float fresnelCoe;
		uniform float virtualCameraNear;
		uniform float virtualCameraFar;
		uniform mat4 virtualCameraProjectionMatrix;
		uniform mat4 virtualCameraProjectionMatrixInverse;
		uniform mat4 virtualCameraMatrixWorld;
		uniform vec2 resolution;
		varying vec4 vUv;
		#include <packing>
		float blendOverlay( float base, float blend ) {
			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );
		}
		vec3 blendOverlay( vec3 base, vec3 blend ) {
			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );
		}
		float getDepth( const in vec2 uv ) {
			return texture2D( tDepth, uv ).x;
		}
		float getViewZ( const in float depth ) {
			return perspectiveDepthToViewZ( depth, virtualCameraNear, virtualCameraFar );
		}
		vec3 getViewPosition( const in vec2 uv, const in float depth/*clip space*/, const in float clipW ) {
			vec4 clipPosition = vec4( ( vec3( uv, depth ) - 0.5 ) * 2.0, 1.0 );//ndc
			clipPosition *= clipW; //clip
			return ( virtualCameraProjectionMatrixInverse * clipPosition ).xyz;//view
		}
		void main() {
			vec4 base = texture2DProj( tDiffuse, vUv );
			#ifdef useDepthTexture
				vec2 uv=(gl_FragCoord.xy-.5)/resolution.xy;
				uv.x=1.-uv.x;
				float depth = texture2DProj( tDepth, vUv ).r;
				float viewZ = getViewZ( depth );
				float clipW = virtualCameraProjectionMatrix[2][3] * viewZ+virtualCameraProjectionMatrix[3][3];
				vec3 viewPosition=getViewPosition( uv, depth, clipW );
				vec3 worldPosition=(virtualCameraMatrixWorld*vec4(viewPosition,1)).xyz;
				if(worldPosition.y>maxDistance) discard;
				float op=opacity;
				#ifdef DISTANCE_ATTENUATION
					float ratio=1.-(worldPosition.y/maxDistance);
					float attenuation=ratio*ratio;
					op=opacity*attenuation;
				#endif
				#ifdef FRESNEL
					op*=fresnelCoe;
				#endif
				gl_FragColor = vec4( blendOverlay( base.rgb, color ), op );
			#else
				gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );
			#endif
		}
	`};class aK extends mA{constructor(A,Q={}){super(A);this.isRefractor=!0,this.type="Refractor",this.camera=new y0;const E=this,B=Q.color!==void 0?new WA(Q.color):new WA(8355711),I=Q.textureWidth||512,K=Q.textureHeight||512,J=Q.clipBias||0,C=Q.shader||aK.RefractorShader,U=Q.multisample!==void 0?Q.multisample:4,Y=this.camera;Y.matrixAutoUpdate=!1,Y.userData.refractor=!0;const H=new ZQ,R=new MA,G=new B0(I,K,{samples:U,type:eA});this.material=new cA({name:C.name!==void 0?C.name:"unspecified",uniforms:rA.clone(C.uniforms),vertexShader:C.vertexShader,fragmentShader:C.fragmentShader,transparent:!0}),this.material.uniforms.color.value=B,this.material.uniforms.tDiffuse.value=G.texture,this.material.uniforms.textureMatrix.value=R;const O=function(){const $=new f,X=new f,N=new MA,M=new f,L=new f;return function D(w){return $.setFromMatrixPosition(E.matrixWorld),X.setFromMatrixPosition(w.matrixWorld),M.subVectors($,X),N.extractRotation(E.matrixWorld),L.set(0,0,1),L.applyMatrix4(N),M.dot(L)<0}}(),F=function(){const $=new f,X=new f,N=new C0,M=new f;return function L(){E.matrixWorld.decompose(X,N,M),$.set(0,0,1).applyQuaternion(N).normalize(),$.negate(),H.setFromNormalAndCoplanarPoint($,X)}}(),q=function(){const $=new ZQ,X=new gA,N=new gA;return function M(L){Y.matrixWorld.copy(L.matrixWorld),Y.matrixWorldInverse.copy(Y.matrixWorld).invert(),Y.projectionMatrix.copy(L.projectionMatrix),Y.far=L.far,$.copy(H),$.applyMatrix4(Y.matrixWorldInverse),X.set($.normal.x,$.normal.y,$.normal.z,$.constant);const D=Y.projectionMatrix;N.x=(Math.sign(X.x)+D.elements[8])/D.elements[0],N.y=(Math.sign(X.y)+D.elements[9])/D.elements[5],N.z=-1,N.w=(1+D.elements[10])/D.elements[14],X.multiplyScalar(2/X.dot(N)),D.elements[2]=X.x,D.elements[6]=X.y,D.elements[10]=X.z+1-J,D.elements[14]=X.w}}();function W($){R.set(0.5,0,0,0.5,0,0.5,0,0.5,0,0,0.5,0.5,0,0,0,1),R.multiply($.projectionMatrix),R.multiply($.matrixWorldInverse),R.multiply(E.matrixWorld)}function Z($,X,N){E.visible=!1;const M=$.getRenderTarget(),L=$.xr.enabled,D=$.shadowMap.autoUpdate;if($.xr.enabled=!1,$.shadowMap.autoUpdate=!1,$.setRenderTarget(G),$.autoClear===!1)$.clear();$.render(X,Y),$.xr.enabled=L,$.shadowMap.autoUpdate=D,$.setRenderTarget(M);const w=N.viewport;if(w!==void 0)$.state.viewport(w);E.visible=!0}this.onBeforeRender=function($,X,N){if(N.userData.refractor===!0)return;if(!O(N)===!0)return;F(),W(N),q(N),Z($,X,N)},this.getRenderTarget=function(){return G},this.dispose=function(){G.dispose(),E.material.dispose()}}}aK.RefractorShader={name:"RefractorShader",uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:`

		uniform mat4 textureMatrix;

		varying vec4 vUv;

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform vec3 color;
		uniform sampler2D tDiffuse;

		varying vec4 vUv;

		float blendOverlay( float base, float blend ) {

			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );

		}

		vec3 blendOverlay( vec3 base, vec3 blend ) {

			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );

		}

		void main() {

			vec4 base = texture2DProj( tDiffuse, vUv );
			gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>

		}`};var CUA=new MA;class i$ extends mA{constructor(){const A=i$.SkyShader,Q=new cA({name:A.name,uniforms:rA.clone(A.uniforms),vertexShader:A.vertexShader,fragmentShader:A.fragmentShader,side:ZE,depthWrite:!1});super(new uQ(1,1,1),Q);this.isSky=!0}}i$.SkyShader={name:"SkyShader",uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:0.005},mieDirectionalG:{value:0.8},sunPosition:{value:new f},up:{value:new f(0,1,0)}},vertexShader:`
		uniform vec3 sunPosition;
		uniform float rayleigh;
		uniform float turbidity;
		uniform float mieCoefficient;
		uniform vec3 up;

		varying vec3 vWorldPosition;
		varying vec3 vSunDirection;
		varying float vSunfade;
		varying vec3 vBetaR;
		varying vec3 vBetaM;
		varying float vSunE;

		// constants for atmospheric scattering
		const float e = 2.71828182845904523536028747135266249775724709369995957;
		const float pi = 3.141592653589793238462643383279502884197169;

		// wavelength of used primaries, according to preetham
		const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
		// this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
		// (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
		const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

		// mie stuff
		// K coefficient for the primaries
		const float v = 4.0;
		const vec3 K = vec3( 0.686, 0.678, 0.666 );
		// MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
		const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

		// earth shadow hack
		// cutoffAngle = pi / 1.95;
		const float cutoffAngle = 1.6110731556870734;
		const float steepness = 1.5;
		const float EE = 1000.0;

		float sunIntensity( float zenithAngleCos ) {
			zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
			return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
		}

		vec3 totalMie( float T ) {
			float c = ( 0.2 * T ) * 10E-18;
			return 0.434 * c * MieConst;
		}

		void main() {

			vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
			vWorldPosition = worldPosition.xyz;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			gl_Position.z = gl_Position.w; // set z to camera.far

			vSunDirection = normalize( sunPosition );

			vSunE = sunIntensity( dot( vSunDirection, up ) );

			vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

			float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

			// extinction (absorbtion + out scattering)
			// rayleigh coefficients
			vBetaR = totalRayleigh * rayleighCoefficient;

			// mie coefficients
			vBetaM = totalMie( turbidity ) * mieCoefficient;

		}`,fragmentShader:`
		varying vec3 vWorldPosition;
		varying vec3 vSunDirection;
		varying float vSunfade;
		varying vec3 vBetaR;
		varying vec3 vBetaM;
		varying float vSunE;

		uniform float mieDirectionalG;
		uniform vec3 up;

		// constants for atmospheric scattering
		const float pi = 3.141592653589793238462643383279502884197169;

		const float n = 1.0003; // refractive index of air
		const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

		// optical length at zenith for molecules
		const float rayleighZenithLength = 8.4E3;
		const float mieZenithLength = 1.25E3;
		// 66 arc seconds -> degrees, and the cosine of that
		const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

		// 3.0 / ( 16.0 * pi )
		const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
		// 1.0 / ( 4.0 * pi )
		const float ONE_OVER_FOURPI = 0.07957747154594767;

		float rayleighPhase( float cosTheta ) {
			return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
		}

		float hgPhase( float cosTheta, float g ) {
			float g2 = pow( g, 2.0 );
			float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
			return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
		}

		void main() {

			vec3 direction = normalize( vWorldPosition - cameraPosition );

			// optical length
			// cutoff angle at 90 to avoid singularity in next formula.
			float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
			float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
			float sR = rayleighZenithLength * inverse;
			float sM = mieZenithLength * inverse;

			// combined extinction factor
			vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

			// in scattering
			float cosTheta = dot( direction, vSunDirection );

			float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
			vec3 betaRTheta = vBetaR * rPhase;

			float mPhase = hgPhase( cosTheta, mieDirectionalG );
			vec3 betaMTheta = vBetaM * mPhase;

			vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
			Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

			// nightsky
			float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
			float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
			vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
			vec3 L0 = vec3( 0.1 ) * Fex;

			// composition + solar disc
			float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
			L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

			vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

			vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

			gl_FragColor = vec4( retColor, 1.0 );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>

		}`};class cY extends mA{constructor(A,Q={}){super(A);this.isWater=!0,this.type="Water";const E=this,B=Q.color!==void 0?new WA(Q.color):new WA(16777215),I=Q.textureWidth!==void 0?Q.textureWidth:512,K=Q.textureHeight!==void 0?Q.textureHeight:512,J=Q.clipBias!==void 0?Q.clipBias:0,C=Q.flowDirection!==void 0?Q.flowDirection:new RA(1,0),U=Q.flowSpeed!==void 0?Q.flowSpeed:0.03,Y=Q.reflectivity!==void 0?Q.reflectivity:0.02,H=Q.scale!==void 0?Q.scale:1,R=Q.shader!==void 0?Q.shader:cY.WaterShader,G=new cQ,O=Q.flowMap||void 0,F=Q.normalMap0||G.load("textures/water/Water_1_M_Normal.jpg"),q=Q.normalMap1||G.load("textures/water/Water_2_M_Normal.jpg"),W=0.15,Z=W*0.5,$=new MA,X=new i8;if(rK===void 0){console.error("THREE.Water: Required component Reflector not found.");return}if(aK===void 0){console.error("THREE.Water: Required component Refractor not found.");return}const N=new rK(A,{textureWidth:I,textureHeight:K,clipBias:J}),M=new aK(A,{textureWidth:I,textureHeight:K,clipBias:J});if(N.matrixAutoUpdate=!1,M.matrixAutoUpdate=!1,this.material=new cA({name:R.name,uniforms:rA.merge([fA.fog,R.uniforms]),vertexShader:R.vertexShader,fragmentShader:R.fragmentShader,transparent:!0,fog:!0}),O!==void 0)this.material.defines.USE_FLOWMAP="",this.material.uniforms.tFlowMap={type:"t",value:O};else this.material.uniforms.flowDirection={type:"v2",value:C};F.wrapS=F.wrapT=CQ,q.wrapS=q.wrapT=CQ,this.material.uniforms.tReflectionMap.value=N.getRenderTarget().texture,this.material.uniforms.tRefractionMap.value=M.getRenderTarget().texture,this.material.uniforms.tNormalMap0.value=F,this.material.uniforms.tNormalMap1.value=q,this.material.uniforms.color.value=B,this.material.uniforms.reflectivity.value=Y,this.material.uniforms.textureMatrix.value=$,this.material.uniforms.config.value.x=0,this.material.uniforms.config.value.y=Z,this.material.uniforms.config.value.z=Z,this.material.uniforms.config.value.w=H;function L(w){$.set(0.5,0,0,0.5,0,0.5,0,0.5,0,0,0.5,0.5,0,0,0,1),$.multiply(w.projectionMatrix),$.multiply(w.matrixWorldInverse),$.multiply(E.matrixWorld)}function D(){const w=X.getDelta(),P=E.material.uniforms.config;if(P.value.x+=U*w,P.value.y=P.value.x+Z,P.value.x>=W)P.value.x=0,P.value.y=Z;else if(P.value.y>=W)P.value.y=P.value.y-W}this.onBeforeRender=function(w,P,V){L(V),D(),E.visible=!1,N.matrixWorld.copy(E.matrixWorld),M.matrixWorld.copy(E.matrixWorld),N.onBeforeRender(w,P,V),M.onBeforeRender(w,P,V),E.visible=!0}}}cY.WaterShader={name:"WaterShader",uniforms:{color:{type:"c",value:null},reflectivity:{type:"f",value:0},tReflectionMap:{type:"t",value:null},tRefractionMap:{type:"t",value:null},tNormalMap0:{type:"t",value:null},tNormalMap1:{type:"t",value:null},textureMatrix:{type:"m4",value:null},config:{type:"v4",value:new gA}},vertexShader:`

		#include <common>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>

		uniform mat4 textureMatrix;

		varying vec4 vCoord;
		varying vec2 vUv;
		varying vec3 vToEye;

		void main() {

			vUv = uv;
			vCoord = textureMatrix * vec4( position, 1.0 );

			vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
			vToEye = cameraPosition - worldPosition.xyz;

			vec4 mvPosition =  viewMatrix * worldPosition; // used in fog_vertex
			gl_Position = projectionMatrix * mvPosition;

			#include <logdepthbuf_vertex>
			#include <fog_vertex>

		}`,fragmentShader:`

		#include <common>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>

		uniform sampler2D tReflectionMap;
		uniform sampler2D tRefractionMap;
		uniform sampler2D tNormalMap0;
		uniform sampler2D tNormalMap1;

		#ifdef USE_FLOWMAP
			uniform sampler2D tFlowMap;
		#else
			uniform vec2 flowDirection;
		#endif

		uniform vec3 color;
		uniform float reflectivity;
		uniform vec4 config;

		varying vec4 vCoord;
		varying vec2 vUv;
		varying vec3 vToEye;

		void main() {

			#include <logdepthbuf_fragment>

			float flowMapOffset0 = config.x;
			float flowMapOffset1 = config.y;
			float halfCycle = config.z;
			float scale = config.w;

			vec3 toEye = normalize( vToEye );

			// determine flow direction
			vec2 flow;
			#ifdef USE_FLOWMAP
				flow = texture2D( tFlowMap, vUv ).rg * 2.0 - 1.0;
			#else
				flow = flowDirection;
			#endif
			flow.x *= - 1.0;

			// sample normal maps (distort uvs with flowdata)
			vec4 normalColor0 = texture2D( tNormalMap0, ( vUv * scale ) + flow * flowMapOffset0 );
			vec4 normalColor1 = texture2D( tNormalMap1, ( vUv * scale ) + flow * flowMapOffset1 );

			// linear interpolate to get the final normal color
			float flowLerp = abs( halfCycle - flowMapOffset0 ) / halfCycle;
			vec4 normalColor = mix( normalColor0, normalColor1, flowLerp );

			// calculate normal vector
			vec3 normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );

			// calculate the fresnel term to blend reflection and refraction maps
			float theta = max( dot( toEye, normal ), 0.0 );
			float reflectance = reflectivity + ( 1.0 - reflectivity ) * pow( ( 1.0 - theta ), 5.0 );

			// calculate final uv coords
			vec3 coord = vCoord.xyz / vCoord.w;
			vec2 uv = coord.xy + coord.z * normal.xz * 0.05;

			vec4 reflectColor = texture2D( tReflectionMap, vec2( 1.0 - uv.x, uv.y ) );
			vec4 refractColor = texture2D( tRefractionMap, uv );

			// multiply water color with the mix of both textures
			gl_FragColor = vec4( color, 1.0 ) * mix( refractColor, reflectColor, reflectance );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>
			#include <fog_fragment>

		}`};var qUA=new f(1,1,1),NUA=new f;function at(A,Q){return Math.exp(-(A*A)/(2*Q*Q))}var s$={name:"ConvolutionShader",defines:{KERNEL_SIZE_FLOAT:"25.0",KERNEL_SIZE_INT:"25"},uniforms:{tDiffuse:{value:null},uImageIncrement:{value:new RA(0.001953125,0)},cKernel:{value:[]}},vertexShader:`

		uniform vec2 uImageIncrement;

		varying vec2 vUv;

		void main() {

			vUv = uv - ( ( KERNEL_SIZE_FLOAT - 1.0 ) / 2.0 ) * uImageIncrement;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float cKernel[ KERNEL_SIZE_INT ];

		uniform sampler2D tDiffuse;
		uniform vec2 uImageIncrement;

		varying vec2 vUv;

		void main() {

			vec2 imageCoord = vUv;
			vec4 sum = vec4( 0.0, 0.0, 0.0, 0.0 );

			for( int i = 0; i < KERNEL_SIZE_INT; i ++ ) {

				sum += texture2D( tDiffuse, imageCoord ) * cKernel[ i ];
				imageCoord += uImageIncrement;

			}

			gl_FragColor = sum;

		}`,buildKernel:function(A){let E=2*Math.ceil(A*3)+1;if(E>25)E=25;const B=(E-1)*0.5,I=new Array(E);let K=0;for(let J=0;J<E;++J)I[J]=at(J-B,A),K+=I[J];for(let J=0;J<E;++J)I[J]/=K;return I}};class tK extends n0{constructor(A=1,Q=25,E=4){super();this.renderTargetX=new B0(1,1,{type:eA}),this.renderTargetX.texture.name="BloomPass.x",this.renderTargetY=new B0(1,1,{type:eA}),this.renderTargetY.texture.name="BloomPass.y",this.combineUniforms=rA.clone(dY.uniforms),this.combineUniforms.strength.value=A,this.materialCombine=new cA({name:dY.name,uniforms:this.combineUniforms,vertexShader:dY.vertexShader,fragmentShader:dY.fragmentShader,blending:gE,transparent:!0});const B=s$;this.convolutionUniforms=rA.clone(B.uniforms),this.convolutionUniforms.uImageIncrement.value=tK.blurX,this.convolutionUniforms.cKernel.value=s$.buildKernel(E),this.materialConvolution=new cA({name:B.name,uniforms:this.convolutionUniforms,vertexShader:B.vertexShader,fragmentShader:B.fragmentShader,defines:{KERNEL_SIZE_FLOAT:Q.toFixed(1),KERNEL_SIZE_INT:Q.toFixed(0)}}),this.needsSwap=!1,this.fsQuad=new i0(null)}render(A,Q,E,B,I){if(I)A.state.buffers.stencil.setTest(!1);if(this.fsQuad.material=this.materialConvolution,this.convolutionUniforms.tDiffuse.value=E.texture,this.convolutionUniforms.uImageIncrement.value=tK.blurX,A.setRenderTarget(this.renderTargetX),A.clear(),this.fsQuad.render(A),this.convolutionUniforms.tDiffuse.value=this.renderTargetX.texture,this.convolutionUniforms.uImageIncrement.value=tK.blurY,A.setRenderTarget(this.renderTargetY),A.clear(),this.fsQuad.render(A),this.fsQuad.material=this.materialCombine,this.combineUniforms.tDiffuse.value=this.renderTargetY.texture,I)A.state.buffers.stencil.setTest(!0);if(A.setRenderTarget(E),this.clear)A.clear();this.fsQuad.render(A)}setSize(A,Q){this.renderTargetX.setSize(A,Q),this.renderTargetY.setSize(A,Q)}dispose(){this.renderTargetX.dispose(),this.renderTargetY.dispose(),this.materialCombine.dispose(),this.materialConvolution.dispose(),this.fsQuad.dispose()}}var dY={name:"CombineShader",uniforms:{tDiffuse:{value:null},strength:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float strength;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = strength * texel;

		}`};tK.blurX=new RA(0.001953125,0);tK.blurY=new RA(0,0.001953125);var tt={name:"DotScreenShader",uniforms:{tDiffuse:{value:null},tSize:{value:new RA(256,256)},center:{value:new RA(0.5,0.5)},angle:{value:1.57},scale:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform vec2 center;
		uniform float angle;
		uniform float scale;
		uniform vec2 tSize;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		float pattern() {

			float s = sin( angle ), c = cos( angle );

			vec2 tex = vUv * tSize - center;
			vec2 point = vec2( c * tex.x - s * tex.y, s * tex.x + c * tex.y ) * scale;

			return ( sin( point.x ) * sin( point.y ) ) * 4.0;

		}

		void main() {

			vec4 color = texture2D( tDiffuse, vUv );

			float average = ( color.r + color.g + color.b ) / 3.0;

			gl_FragColor = vec4( vec3( average * 10.0 - 5.0 + pattern() ), color.a );

		}`};var zQ={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`};function $T(A=5){const Q=Math.floor(A)%2===0?Math.floor(A)+1:Math.floor(A),E=Ae(Q),B=E.length,I=new Uint8Array(B*4);for(let J=0;J<B;++J){const C=E[J],U=2*Math.PI*C/B,Y=new f(Math.cos(U),Math.sin(U),0).normalize();I[J*4]=(Y.x*0.5+0.5)*255,I[J*4+1]=(Y.y*0.5+0.5)*255,I[J*4+2]=127,I[J*4+3]=255}const K=new d0(I,Q,Q);return K.wrapS=CQ,K.wrapT=CQ,K.needsUpdate=!0,K}function Ae(A){const Q=Math.floor(A)%2===0?Math.floor(A)+1:Math.floor(A),E=Q*Q,B=Array(E).fill(0);let I=Math.floor(Q/2),K=Q-1;for(let J=1;J<=E;){if(I===-1&&K===Q)K=Q-2,I=0;else{if(K===Q)K=0;if(I<0)I=Q-1}if(B[I*Q+K]!==0){K-=2,I++;continue}else B[I*Q+K]=J++;K++,I--}return B}var SC={name:"GTAOShader",defines:{PERSPECTIVE_CAMERA:1,SAMPLES:16,NORMAL_VECTOR_TYPE:1,DEPTH_SWIZZLING:"x",SCREEN_SPACE_RADIUS:0,SCREEN_SPACE_RADIUS_SCALE:100,SCENE_CLIP_BOX:0},uniforms:{tNormal:{value:null},tDepth:{value:null},tNoise:{value:null},resolution:{value:new RA},cameraNear:{value:null},cameraFar:{value:null},cameraProjectionMatrix:{value:new MA},cameraProjectionMatrixInverse:{value:new MA},cameraWorldMatrix:{value:new MA},radius:{value:0.25},distanceExponent:{value:1},thickness:{value:1},distanceFallOff:{value:1},scale:{value:1},sceneBoxMin:{value:new f(-1,-1,-1)},sceneBoxMax:{value:new f(1,1,1)}},vertexShader:`

		varying vec2 vUv;

		void main() {
			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
		}`,fragmentShader:`
		varying vec2 vUv;
		uniform highp sampler2D tNormal;
		uniform highp sampler2D tDepth;
		uniform sampler2D tNoise;
		uniform vec2 resolution;
		uniform float cameraNear;
		uniform float cameraFar;
		uniform mat4 cameraProjectionMatrix;
		uniform mat4 cameraProjectionMatrixInverse;		
		uniform mat4 cameraWorldMatrix;
		uniform float radius;
		uniform float distanceExponent;
		uniform float thickness;
		uniform float distanceFallOff;
		uniform float scale;
		#if SCENE_CLIP_BOX == 1
			uniform vec3 sceneBoxMin;
			uniform vec3 sceneBoxMax;
		#endif
		
		#include <common>
		#include <packing>

		#ifndef FRAGMENT_OUTPUT
		#define FRAGMENT_OUTPUT vec4(vec3(ao), 1.)
		#endif

		vec3 getViewPosition(const in vec2 screenPosition, const in float depth) {
			vec4 clipSpacePosition = vec4(vec3(screenPosition, depth) * 2.0 - 1.0, 1.0);
			vec4 viewSpacePosition = cameraProjectionMatrixInverse * clipSpacePosition;
			return viewSpacePosition.xyz / viewSpacePosition.w;
		}

		float getDepth(const vec2 uv) {  
			return textureLod(tDepth, uv.xy, 0.0).DEPTH_SWIZZLING;
		}

		float fetchDepth(const ivec2 uv) {   
			return texelFetch(tDepth, uv.xy, 0).DEPTH_SWIZZLING;
		}

		float getViewZ(const in float depth) {
			#if PERSPECTIVE_CAMERA == 1
				return perspectiveDepthToViewZ(depth, cameraNear, cameraFar);
			#else
				return orthographicDepthToViewZ(depth, cameraNear, cameraFar);
			#endif
		}

		vec3 computeNormalFromDepth(const vec2 uv) {
			vec2 size = vec2(textureSize(tDepth, 0));
			ivec2 p = ivec2(uv * size);
			float c0 = fetchDepth(p);
			float l2 = fetchDepth(p - ivec2(2, 0));
			float l1 = fetchDepth(p - ivec2(1, 0));
			float r1 = fetchDepth(p + ivec2(1, 0));
			float r2 = fetchDepth(p + ivec2(2, 0));
			float b2 = fetchDepth(p - ivec2(0, 2));
			float b1 = fetchDepth(p - ivec2(0, 1));
			float t1 = fetchDepth(p + ivec2(0, 1));
			float t2 = fetchDepth(p + ivec2(0, 2));
			float dl = abs((2.0 * l1 - l2) - c0);
			float dr = abs((2.0 * r1 - r2) - c0);
			float db = abs((2.0 * b1 - b2) - c0);
			float dt = abs((2.0 * t1 - t2) - c0);
			vec3 ce = getViewPosition(uv, c0).xyz;
			vec3 dpdx = (dl < dr) ? ce - getViewPosition((uv - vec2(1.0 / size.x, 0.0)), l1).xyz : -ce + getViewPosition((uv + vec2(1.0 / size.x, 0.0)), r1).xyz;
			vec3 dpdy = (db < dt) ? ce - getViewPosition((uv - vec2(0.0, 1.0 / size.y)), b1).xyz : -ce + getViewPosition((uv + vec2(0.0, 1.0 / size.y)), t1).xyz;
			return normalize(cross(dpdx, dpdy));
		}

		vec3 getViewNormal(const vec2 uv) {
			#if NORMAL_VECTOR_TYPE == 2
				return normalize(textureLod(tNormal, uv, 0.).rgb);
			#elif NORMAL_VECTOR_TYPE == 1
				return unpackRGBToNormal(textureLod(tNormal, uv, 0.).rgb);
			#else
				return computeNormalFromDepth(uv);
			#endif
		}

		vec3 getSceneUvAndDepth(vec3 sampleViewPos) {
			vec4 sampleClipPos = cameraProjectionMatrix * vec4(sampleViewPos, 1.);
			vec2 sampleUv = sampleClipPos.xy / sampleClipPos.w * 0.5 + 0.5;
			float sampleSceneDepth = getDepth(sampleUv);
			return vec3(sampleUv, sampleSceneDepth);
		}
		
		void main() {
			float depth = getDepth(vUv.xy);
			if (depth >= 1.0) {
				discard;
				return;
			}
			vec3 viewPos = getViewPosition(vUv, depth);
			vec3 viewNormal = getViewNormal(vUv);

			float radiusToUse = radius;
			float distanceFalloffToUse = thickness;
			#if SCREEN_SPACE_RADIUS == 1
				float radiusScale = getViewPosition(vec2(0.5 + float(SCREEN_SPACE_RADIUS_SCALE) / resolution.x, 0.0), depth).x;
				radiusToUse *= radiusScale;
				distanceFalloffToUse *= radiusScale;
			#endif

			#if SCENE_CLIP_BOX == 1
				vec3 worldPos = (cameraWorldMatrix * vec4(viewPos, 1.0)).xyz;
				float boxDistance = length(max(vec3(0.0), max(sceneBoxMin - worldPos, worldPos - sceneBoxMax)));
				if (boxDistance > radiusToUse) {
					discard;
					return;
				}
			#endif
			
			vec2 noiseResolution = vec2(textureSize(tNoise, 0));
			vec2 noiseUv = vUv * resolution / noiseResolution;
			vec4 noiseTexel = textureLod(tNoise, noiseUv, 0.0);
			vec3 randomVec = noiseTexel.xyz * 2.0 - 1.0;
			vec3 tangent = normalize(vec3(randomVec.xy, 0.));
			vec3 bitangent = vec3(-tangent.y, tangent.x, 0.);
			mat3 kernelMatrix = mat3(tangent, bitangent, vec3(0., 0., 1.));

			const int DIRECTIONS = SAMPLES < 30 ? 3 : 5;
			const int STEPS = (SAMPLES + DIRECTIONS - 1) / DIRECTIONS;
			float ao = 0.0;
			for (int i = 0; i < DIRECTIONS; ++i) {
				
				float angle = float(i) / float(DIRECTIONS) * PI;
				vec4 sampleDir = vec4(cos(angle), sin(angle), 0., 0.5 + 0.5 * noiseTexel.w); 
				sampleDir.xyz = normalize(kernelMatrix * sampleDir.xyz);

				vec3 viewDir = normalize(-viewPos.xyz);
				vec3 sliceBitangent = normalize(cross(sampleDir.xyz, viewDir));
				vec3 sliceTangent = cross(sliceBitangent, viewDir);
				vec3 normalInSlice = normalize(viewNormal - sliceBitangent * dot(viewNormal, sliceBitangent));
				
				vec3 tangentToNormalInSlice = cross(normalInSlice, sliceBitangent);
				vec2 cosHorizons = vec2(dot(viewDir, tangentToNormalInSlice), dot(viewDir, -tangentToNormalInSlice));
				
				for (int j = 0; j < STEPS; ++j) {
					vec3 sampleViewOffset = sampleDir.xyz * radiusToUse * sampleDir.w * pow(float(j + 1) / float(STEPS), distanceExponent);	

					vec3 sampleSceneUvDepth = getSceneUvAndDepth(viewPos + sampleViewOffset);
					vec3 sampleSceneViewPos = getViewPosition(sampleSceneUvDepth.xy, sampleSceneUvDepth.z);
					vec3 viewDelta = sampleSceneViewPos - viewPos;
					if (abs(viewDelta.z) < thickness) {
						float sampleCosHorizon = dot(viewDir, normalize(viewDelta));
						cosHorizons.x += max(0., (sampleCosHorizon - cosHorizons.x) * mix(1., 2. / float(j + 2), distanceFallOff));
					}		

					sampleSceneUvDepth = getSceneUvAndDepth(viewPos - sampleViewOffset);
					sampleSceneViewPos = getViewPosition(sampleSceneUvDepth.xy, sampleSceneUvDepth.z);
					viewDelta = sampleSceneViewPos - viewPos;
					if (abs(viewDelta.z) < thickness) {
						float sampleCosHorizon = dot(viewDir, normalize(viewDelta));
						cosHorizons.y += max(0., (sampleCosHorizon - cosHorizons.y) * mix(1., 2. / float(j + 2), distanceFallOff));
					}
				}

				vec2 sinHorizons = sqrt(1. - cosHorizons * cosHorizons);
				float nx = dot(normalInSlice, sliceTangent);
				float ny = dot(normalInSlice, viewDir);
				float nxb = 1. / 2. * (acos(cosHorizons.y) - acos(cosHorizons.x) + sinHorizons.x * cosHorizons.x - sinHorizons.y * cosHorizons.y);
				float nyb = 1. / 2. * (2. - cosHorizons.x * cosHorizons.x - cosHorizons.y * cosHorizons.y);
				float occlusion = nx * nxb + ny * nyb;
				ao += occlusion;
			}

			ao = clamp(ao / float(DIRECTIONS), 0., 1.);		
		#if SCENE_CLIP_BOX == 1
			ao = mix(ao, 1., smoothstep(0., radiusToUse, boxDistance));
		#endif
			ao = pow(ao, scale);

			gl_FragColor = FRAGMENT_OUTPUT;
		}`},PC={name:"GTAODepthShader",defines:{PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null}},vertexShader:`
		varying vec2 vUv;

		void main() {
			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
		}`,fragmentShader:`
		uniform sampler2D tDepth;
		uniform float cameraNear;
		uniform float cameraFar;
		varying vec2 vUv;

		#include <packing>

		float getLinearDepth( const in vec2 screenPosition ) {
			#if PERSPECTIVE_CAMERA == 1
				float fragCoordZ = texture2D( tDepth, screenPosition ).x;
				float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );
				return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );
			#else
				return texture2D( tDepth, screenPosition ).x;
			#endif
		}

		void main() {
			float depth = getLinearDepth( vUv );
			gl_FragColor = vec4( vec3( 1.0 - depth ), 1.0 );

		}`},lY={name:"GTAOBlendShader",uniforms:{tDiffuse:{value:null},intensity:{value:1}},vertexShader:`
		varying vec2 vUv;

		void main() {
			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
		}`,fragmentShader:`
		uniform float intensity;
		uniform sampler2D tDiffuse;
		varying vec2 vUv;

		void main() {
			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = vec4(mix(vec3(1.), texel.rgb, intensity), texel.a);
		}`};function r$(A,Q,E){const B=Qe(A,Q,E);let I="vec3[SAMPLES](";for(let K=0;K<A;K++){const J=B[K];I+=`vec3(${J.x}, ${J.y}, ${J.z})${K<A-1?",":")"}`}return I}function Qe(A,Q,E){const B=[];for(let I=0;I<A;I++){const K=2*Math.PI*Q*I/A,J=Math.pow(I/(A-1),E);B.push(new f(Math.cos(K),Math.sin(K),J))}return B}var _C={name:"PoissonDenoiseShader",defines:{SAMPLES:16,SAMPLE_VECTORS:r$(16,2,1),NORMAL_VECTOR_TYPE:1,DEPTH_VALUE_SOURCE:0},uniforms:{tDiffuse:{value:null},tNormal:{value:null},tDepth:{value:null},tNoise:{value:null},resolution:{value:new RA},cameraProjectionMatrixInverse:{value:new MA},lumaPhi:{value:5},depthPhi:{value:5},normalPhi:{value:5},radius:{value:4},index:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {
			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
		}`,fragmentShader:`

		varying vec2 vUv;

		uniform sampler2D tDiffuse;
		uniform sampler2D tNormal;
		uniform sampler2D tDepth;
		uniform sampler2D tNoise;
		uniform vec2 resolution;
		uniform mat4 cameraProjectionMatrixInverse;
		uniform float lumaPhi;
		uniform float depthPhi;
		uniform float normalPhi;
		uniform float radius;
		uniform int index;
		
		#include <common>
		#include <packing>

		#ifndef SAMPLE_LUMINANCE
		#define SAMPLE_LUMINANCE dot(vec3(0.2125, 0.7154, 0.0721), a)
		#endif

		#ifndef FRAGMENT_OUTPUT
		#define FRAGMENT_OUTPUT vec4(denoised, 1.)
		#endif

		float getLuminance(const in vec3 a) {
			return SAMPLE_LUMINANCE;
		}

		const vec3 poissonDisk[SAMPLES] = SAMPLE_VECTORS;

		vec3 getViewPosition(const in vec2 screenPosition, const in float depth) {
			vec4 clipSpacePosition = vec4(vec3(screenPosition, depth) * 2.0 - 1.0, 1.0);
			vec4 viewSpacePosition = cameraProjectionMatrixInverse * clipSpacePosition;
			return viewSpacePosition.xyz / viewSpacePosition.w;
		}
		
		float getDepth(const vec2 uv) {
		#if DEPTH_VALUE_SOURCE == 1    
			return textureLod(tDepth, uv.xy, 0.0).a;
		#else
			return textureLod(tDepth, uv.xy, 0.0).r;
		#endif
		}

		float fetchDepth(const ivec2 uv) {
			#if DEPTH_VALUE_SOURCE == 1    
				return texelFetch(tDepth, uv.xy, 0).a;
			#else
				return texelFetch(tDepth, uv.xy, 0).r;
			#endif
		}

		vec3 computeNormalFromDepth(const vec2 uv) {
			vec2 size = vec2(textureSize(tDepth, 0));
			ivec2 p = ivec2(uv * size);
			float c0 = fetchDepth(p);
			float l2 = fetchDepth(p - ivec2(2, 0));
			float l1 = fetchDepth(p - ivec2(1, 0));
			float r1 = fetchDepth(p + ivec2(1, 0));
			float r2 = fetchDepth(p + ivec2(2, 0));
			float b2 = fetchDepth(p - ivec2(0, 2));
			float b1 = fetchDepth(p - ivec2(0, 1));
			float t1 = fetchDepth(p + ivec2(0, 1));
			float t2 = fetchDepth(p + ivec2(0, 2));
			float dl = abs((2.0 * l1 - l2) - c0);
			float dr = abs((2.0 * r1 - r2) - c0);
			float db = abs((2.0 * b1 - b2) - c0);
			float dt = abs((2.0 * t1 - t2) - c0);
			vec3 ce = getViewPosition(uv, c0).xyz;
			vec3 dpdx = (dl < dr) ?  ce - getViewPosition((uv - vec2(1.0 / size.x, 0.0)), l1).xyz
									: -ce + getViewPosition((uv + vec2(1.0 / size.x, 0.0)), r1).xyz;
			vec3 dpdy = (db < dt) ?  ce - getViewPosition((uv - vec2(0.0, 1.0 / size.y)), b1).xyz
									: -ce + getViewPosition((uv + vec2(0.0, 1.0 / size.y)), t1).xyz;
			return normalize(cross(dpdx, dpdy));
		}

		vec3 getViewNormal(const vec2 uv) {
		#if NORMAL_VECTOR_TYPE == 2
			return normalize(textureLod(tNormal, uv, 0.).rgb);
		#elif NORMAL_VECTOR_TYPE == 1
			return unpackRGBToNormal(textureLod(tNormal, uv, 0.).rgb);
		#else
			return computeNormalFromDepth(uv);
		#endif
		}

		void denoiseSample(in vec3 center, in vec3 viewNormal, in vec3 viewPos, in vec2 sampleUv, inout vec3 denoised, inout float totalWeight) {
			vec4 sampleTexel = textureLod(tDiffuse, sampleUv, 0.0);
			float sampleDepth = getDepth(sampleUv);
			vec3 sampleNormal = getViewNormal(sampleUv);
			vec3 neighborColor = sampleTexel.rgb;
			vec3 viewPosSample = getViewPosition(sampleUv, sampleDepth);
			
			float normalDiff = dot(viewNormal, sampleNormal);
			float normalSimilarity = pow(max(normalDiff, 0.), normalPhi);
			float lumaDiff = abs(getLuminance(neighborColor) - getLuminance(center));
			float lumaSimilarity = max(1.0 - lumaDiff / lumaPhi, 0.0);
			float depthDiff = abs(dot(viewPos - viewPosSample, viewNormal));
			float depthSimilarity = max(1. - depthDiff / depthPhi, 0.);
			float w = lumaSimilarity * depthSimilarity * normalSimilarity;
		
			denoised += w * neighborColor;
			totalWeight += w;
		}
		
		void main() {
			float depth = getDepth(vUv.xy);	
			vec3 viewNormal = getViewNormal(vUv);	
			if (depth == 1. || dot(viewNormal, viewNormal) == 0.) {
				discard;
				return;
			}
			vec4 texel = textureLod(tDiffuse, vUv, 0.0);
			vec3 center = texel.rgb;
			vec3 viewPos = getViewPosition(vUv, depth);

			vec2 noiseResolution = vec2(textureSize(tNoise, 0));
			vec2 noiseUv = vUv * resolution / noiseResolution;
			vec4 noiseTexel = textureLod(tNoise, noiseUv, 0.0);
      		vec2 noiseVec = vec2(sin(noiseTexel[index % 4] * 2. * PI), cos(noiseTexel[index % 4] * 2. * PI));
    		mat2 rotationMatrix = mat2(noiseVec.x, -noiseVec.y, noiseVec.x, noiseVec.y);
		
			float totalWeight = 1.0;
			vec3 denoised = texel.rgb;
			for (int i = 0; i < SAMPLES; i++) {
				vec3 sampleDir = poissonDisk[i];
				vec2 offset = rotationMatrix * (sampleDir.xy * (1. + sampleDir.z * (radius - 1.)) / resolution);
				vec2 sampleUv = vUv + offset;
				denoiseSample(center, viewNormal, viewPos, sampleUv, denoised, totalWeight);
			}
		
			if (totalWeight > 0.) { 
				denoised /= totalWeight;
			}
			gl_FragColor = FRAGMENT_OUTPUT;
		}`};class BB extends n0{constructor(A,Q,E,B,I,K,J){super();if(this.width=E!==void 0?E:512,this.height=B!==void 0?B:512,this.clear=!0,this.camera=Q,this.scene=A,this.output=0,this._renderGBuffer=!0,this._visibilityCache=/*@__PURE__*/new Map,this.blendIntensity=1,this.pdRings=2,this.pdRadiusExponent=2,this.pdSamples=16,this.gtaoNoiseTexture=$T(),this.pdNoiseTexture=this.generateNoise(),this.gtaoRenderTarget=new B0(this.width,this.height,{type:eA}),this.pdRenderTarget=this.gtaoRenderTarget.clone(),this.gtaoMaterial=new cA({defines:Object.assign({},SC.defines),uniforms:rA.clone(SC.uniforms),vertexShader:SC.vertexShader,fragmentShader:SC.fragmentShader,blending:M0,depthTest:!1,depthWrite:!1}),this.gtaoMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.gtaoMaterial.uniforms.tNoise.value=this.gtaoNoiseTexture,this.gtaoMaterial.uniforms.resolution.value.set(this.width,this.height),this.gtaoMaterial.uniforms.cameraNear.value=this.camera.near,this.gtaoMaterial.uniforms.cameraFar.value=this.camera.far,this.normalMaterial=new WE,this.normalMaterial.blending=M0,this.pdMaterial=new cA({defines:Object.assign({},_C.defines),uniforms:rA.clone(_C.uniforms),vertexShader:_C.vertexShader,fragmentShader:_C.fragmentShader,depthTest:!1,depthWrite:!1}),this.pdMaterial.uniforms.tDiffuse.value=this.gtaoRenderTarget.texture,this.pdMaterial.uniforms.tNoise.value=this.pdNoiseTexture,this.pdMaterial.uniforms.resolution.value.set(this.width,this.height),this.pdMaterial.uniforms.lumaPhi.value=10,this.pdMaterial.uniforms.depthPhi.value=2,this.pdMaterial.uniforms.normalPhi.value=3,this.pdMaterial.uniforms.radius.value=8,this.depthRenderMaterial=new cA({defines:Object.assign({},PC.defines),uniforms:rA.clone(PC.uniforms),vertexShader:PC.vertexShader,fragmentShader:PC.fragmentShader,blending:M0}),this.depthRenderMaterial.uniforms.cameraNear.value=this.camera.near,this.depthRenderMaterial.uniforms.cameraFar.value=this.camera.far,this.copyMaterial=new cA({uniforms:rA.clone(zQ.uniforms),vertexShader:zQ.vertexShader,fragmentShader:zQ.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1,blendSrc:hB,blendDst:RE,blendEquation:V1,blendSrcAlpha:b8,blendDstAlpha:RE,blendEquationAlpha:V1}),this.blendMaterial=new cA({uniforms:rA.clone(lY.uniforms),vertexShader:lY.vertexShader,fragmentShader:lY.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1,blending:bE,blendSrc:hB,blendDst:RE,blendEquation:V1,blendSrcAlpha:b8,blendDstAlpha:RE,blendEquationAlpha:V1}),this.fsQuad=new i0(null),this.originalClearColor=new WA,this.setGBuffer(I?I.depthTexture:void 0,I?I.normalTexture:void 0),K!==void 0)this.updateGtaoMaterial(K);if(J!==void 0)this.updatePdMaterial(J)}dispose(){this.gtaoNoiseTexture.dispose(),this.pdNoiseTexture.dispose(),this.normalRenderTarget.dispose(),this.gtaoRenderTarget.dispose(),this.pdRenderTarget.dispose(),this.normalMaterial.dispose(),this.pdMaterial.dispose(),this.copyMaterial.dispose(),this.depthRenderMaterial.dispose(),this.fsQuad.dispose()}get gtaoMap(){return this.pdRenderTarget.texture}setGBuffer(A,Q){if(A!==void 0)this.depthTexture=A,this.normalTexture=Q,this._renderGBuffer=!1;else this.depthTexture=new S1,this.depthTexture.format=lI,this.depthTexture.type=dI,this.normalRenderTarget=new B0(this.width,this.height,{minFilter:L0,magFilter:L0,type:eA,depthTexture:this.depthTexture}),this.normalTexture=this.normalRenderTarget.texture,this._renderGBuffer=!0;const E=this.normalTexture?1:0,B=this.depthTexture===this.normalTexture?"w":"x";this.gtaoMaterial.defines.NORMAL_VECTOR_TYPE=E,this.gtaoMaterial.defines.DEPTH_SWIZZLING=B,this.gtaoMaterial.uniforms.tNormal.value=this.normalTexture,this.gtaoMaterial.uniforms.tDepth.value=this.depthTexture,this.pdMaterial.defines.NORMAL_VECTOR_TYPE=E,this.pdMaterial.defines.DEPTH_SWIZZLING=B,this.pdMaterial.uniforms.tNormal.value=this.normalTexture,this.pdMaterial.uniforms.tDepth.value=this.depthTexture,this.depthRenderMaterial.uniforms.tDepth.value=this.normalRenderTarget.depthTexture}setSceneClipBox(A){if(A)this.gtaoMaterial.needsUpdate=this.gtaoMaterial.defines.SCENE_CLIP_BOX!==1,this.gtaoMaterial.defines.SCENE_CLIP_BOX=1,this.gtaoMaterial.uniforms.sceneBoxMin.value.copy(A.min),this.gtaoMaterial.uniforms.sceneBoxMax.value.copy(A.max);else this.gtaoMaterial.needsUpdate=this.gtaoMaterial.defines.SCENE_CLIP_BOX===0,this.gtaoMaterial.defines.SCENE_CLIP_BOX=0}updateGtaoMaterial(A){if(A.radius!==void 0)this.gtaoMaterial.uniforms.radius.value=A.radius;if(A.distanceExponent!==void 0)this.gtaoMaterial.uniforms.distanceExponent.value=A.distanceExponent;if(A.thickness!==void 0)this.gtaoMaterial.uniforms.thickness.value=A.thickness;if(A.distanceFallOff!==void 0)this.gtaoMaterial.uniforms.distanceFallOff.value=A.distanceFallOff,this.gtaoMaterial.needsUpdate=!0;if(A.scale!==void 0)this.gtaoMaterial.uniforms.scale.value=A.scale;if(A.samples!==void 0&&A.samples!==this.gtaoMaterial.defines.SAMPLES)this.gtaoMaterial.defines.SAMPLES=A.samples,this.gtaoMaterial.needsUpdate=!0;if(A.screenSpaceRadius!==void 0&&(A.screenSpaceRadius?1:0)!==this.gtaoMaterial.defines.SCREEN_SPACE_RADIUS)this.gtaoMaterial.defines.SCREEN_SPACE_RADIUS=A.screenSpaceRadius?1:0,this.gtaoMaterial.needsUpdate=!0}updatePdMaterial(A){let Q=!1;if(A.lumaPhi!==void 0)this.pdMaterial.uniforms.lumaPhi.value=A.lumaPhi;if(A.depthPhi!==void 0)this.pdMaterial.uniforms.depthPhi.value=A.depthPhi;if(A.normalPhi!==void 0)this.pdMaterial.uniforms.normalPhi.value=A.normalPhi;if(A.radius!==void 0&&A.radius!==this.radius)this.pdMaterial.uniforms.radius.value=A.radius;if(A.radiusExponent!==void 0&&A.radiusExponent!==this.pdRadiusExponent)this.pdRadiusExponent=A.radiusExponent,Q=!0;if(A.rings!==void 0&&A.rings!==this.pdRings)this.pdRings=A.rings,Q=!0;if(A.samples!==void 0&&A.samples!==this.pdSamples)this.pdSamples=A.samples,Q=!0;if(Q)this.pdMaterial.defines.SAMPLES=this.pdSamples,this.pdMaterial.defines.SAMPLE_VECTORS=r$(this.pdSamples,this.pdRings,this.pdRadiusExponent),this.pdMaterial.needsUpdate=!0}render(A,Q,E){if(this._renderGBuffer)this.overrideVisibility(),this.renderOverride(A,this.normalMaterial,this.normalRenderTarget,7829503,1),this.restoreVisibility();switch(this.gtaoMaterial.uniforms.cameraNear.value=this.camera.near,this.gtaoMaterial.uniforms.cameraFar.value=this.camera.far,this.gtaoMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.gtaoMaterial.uniforms.cameraProjectionMatrixInverse.value.copy(this.camera.projectionMatrixInverse),this.gtaoMaterial.uniforms.cameraWorldMatrix.value.copy(this.camera.matrixWorld),this.renderPass(A,this.gtaoMaterial,this.gtaoRenderTarget,16777215,1),this.pdMaterial.uniforms.cameraProjectionMatrixInverse.value.copy(this.camera.projectionMatrixInverse),this.renderPass(A,this.pdMaterial,this.pdRenderTarget,16777215,1),this.output){case BB.OUTPUT.Off:break;case BB.OUTPUT.Diffuse:this.copyMaterial.uniforms.tDiffuse.value=E.texture,this.copyMaterial.blending=M0,this.renderPass(A,this.copyMaterial,this.renderToScreen?null:Q);break;case BB.OUTPUT.AO:this.copyMaterial.uniforms.tDiffuse.value=this.gtaoRenderTarget.texture,this.copyMaterial.blending=M0,this.renderPass(A,this.copyMaterial,this.renderToScreen?null:Q);break;case BB.OUTPUT.Denoise:this.copyMaterial.uniforms.tDiffuse.value=this.pdRenderTarget.texture,this.copyMaterial.blending=M0,this.renderPass(A,this.copyMaterial,this.renderToScreen?null:Q);break;case BB.OUTPUT.Depth:this.depthRenderMaterial.uniforms.cameraNear.value=this.camera.near,this.depthRenderMaterial.uniforms.cameraFar.value=this.camera.far,this.renderPass(A,this.depthRenderMaterial,this.renderToScreen?null:Q);break;case BB.OUTPUT.Normal:this.copyMaterial.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.copyMaterial.blending=M0,this.renderPass(A,this.copyMaterial,this.renderToScreen?null:Q);break;case BB.OUTPUT.Default:this.copyMaterial.uniforms.tDiffuse.value=E.texture,this.copyMaterial.blending=M0,this.renderPass(A,this.copyMaterial,this.renderToScreen?null:Q),this.blendMaterial.uniforms.intensity.value=this.blendIntensity,this.blendMaterial.uniforms.tDiffuse.value=this.pdRenderTarget.texture,this.renderPass(A,this.blendMaterial,this.renderToScreen?null:Q);break;default:console.warn("THREE.GTAOPass: Unknown output type.")}}renderPass(A,Q,E,B,I){A.getClearColor(this.originalClearColor);const K=A.getClearAlpha(),J=A.autoClear;if(A.setRenderTarget(E),A.autoClear=!1,B!==void 0&&B!==null)A.setClearColor(B),A.setClearAlpha(I||0),A.clear();this.fsQuad.material=Q,this.fsQuad.render(A),A.autoClear=J,A.setClearColor(this.originalClearColor),A.setClearAlpha(K)}renderOverride(A,Q,E,B,I){A.getClearColor(this.originalClearColor);const K=A.getClearAlpha(),J=A.autoClear;if(A.setRenderTarget(E),A.autoClear=!1,B=Q.clearColor||B,I=Q.clearAlpha||I,B!==void 0&&B!==null)A.setClearColor(B),A.setClearAlpha(I||0),A.clear();this.scene.overrideMaterial=Q,A.render(this.scene,this.camera),this.scene.overrideMaterial=null,A.autoClear=J,A.setClearColor(this.originalClearColor),A.setClearAlpha(K)}setSize(A,Q){this.width=A,this.height=Q,this.gtaoRenderTarget.setSize(A,Q),this.normalRenderTarget.setSize(A,Q),this.pdRenderTarget.setSize(A,Q),this.gtaoMaterial.uniforms.resolution.value.set(A,Q),this.gtaoMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.gtaoMaterial.uniforms.cameraProjectionMatrixInverse.value.copy(this.camera.projectionMatrixInverse),this.pdMaterial.uniforms.resolution.value.set(A,Q),this.pdMaterial.uniforms.cameraProjectionMatrixInverse.value.copy(this.camera.projectionMatrixInverse)}overrideVisibility(){const A=this.scene,Q=this._visibilityCache;A.traverse(function(E){if(Q.set(E,E.visible),E.isPoints||E.isLine)E.visible=!1})}restoreVisibility(){const A=this.scene,Q=this._visibilityCache;A.traverse(function(E){const B=Q.get(E);E.visible=B}),Q.clear()}generateNoise(A=64){const Q=new TC,E=A*A*4,B=new Uint8Array(E);for(let K=0;K<A;K++)for(let J=0;J<A;J++){const C=K,U=J;B[(K*A+J)*4]=(Q.noise(C,U)*0.5+0.5)*255,B[(K*A+J)*4+1]=(Q.noise(C+A,U)*0.5+0.5)*255,B[(K*A+J)*4+2]=(Q.noise(C,U+A)*0.5+0.5)*255,B[(K*A+J)*4+3]=(Q.noise(C+A,U+A)*0.5+0.5)*255}const I=new d0(B,A,A,UQ,qQ);return I.wrapS=CQ,I.wrapT=CQ,I.needsUpdate=!0,I}}BB.OUTPUT={Off:-1,Default:0,Diffuse:1,Depth:2,Normal:3,AO:4,Denoise:5};var Ee={name:"HalftoneShader",uniforms:{tDiffuse:{value:null},shape:{value:1},radius:{value:4},rotateR:{value:Math.PI/12*1},rotateG:{value:Math.PI/12*2},rotateB:{value:Math.PI/12*3},scatter:{value:0},width:{value:1},height:{value:1},blending:{value:1},blendingMode:{value:1},greyscale:{value:!1},disable:{value:!1}},vertexShader:`

		varying vec2 vUV;

		void main() {

			vUV = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);

		}`,fragmentShader:`

		#define SQRT2_MINUS_ONE 0.41421356
		#define SQRT2_HALF_MINUS_ONE 0.20710678
		#define PI2 6.28318531
		#define SHAPE_DOT 1
		#define SHAPE_ELLIPSE 2
		#define SHAPE_LINE 3
		#define SHAPE_SQUARE 4
		#define BLENDING_LINEAR 1
		#define BLENDING_MULTIPLY 2
		#define BLENDING_ADD 3
		#define BLENDING_LIGHTER 4
		#define BLENDING_DARKER 5
		uniform sampler2D tDiffuse;
		uniform float radius;
		uniform float rotateR;
		uniform float rotateG;
		uniform float rotateB;
		uniform float scatter;
		uniform float width;
		uniform float height;
		uniform int shape;
		uniform bool disable;
		uniform float blending;
		uniform int blendingMode;
		varying vec2 vUV;
		uniform bool greyscale;
		const int samples = 8;

		float blend( float a, float b, float t ) {

		// linear blend
			return a * ( 1.0 - t ) + b * t;

		}

		float hypot( float x, float y ) {

		// vector magnitude
			return sqrt( x * x + y * y );

		}

		float rand( vec2 seed ){

		// get pseudo-random number
			return fract( sin( dot( seed.xy, vec2( 12.9898, 78.233 ) ) ) * 43758.5453 );

		}

		float distanceToDotRadius( float channel, vec2 coord, vec2 normal, vec2 p, float angle, float rad_max ) {

		// apply shape-specific transforms
			float dist = hypot( coord.x - p.x, coord.y - p.y );
			float rad = channel;

			if ( shape == SHAPE_DOT ) {

				rad = pow( abs( rad ), 1.125 ) * rad_max;

			} else if ( shape == SHAPE_ELLIPSE ) {

				rad = pow( abs( rad ), 1.125 ) * rad_max;

				if ( dist != 0.0 ) {
					float dot_p = abs( ( p.x - coord.x ) / dist * normal.x + ( p.y - coord.y ) / dist * normal.y );
					dist = ( dist * ( 1.0 - SQRT2_HALF_MINUS_ONE ) ) + dot_p * dist * SQRT2_MINUS_ONE;
				}

			} else if ( shape == SHAPE_LINE ) {

				rad = pow( abs( rad ), 1.5) * rad_max;
				float dot_p = ( p.x - coord.x ) * normal.x + ( p.y - coord.y ) * normal.y;
				dist = hypot( normal.x * dot_p, normal.y * dot_p );

			} else if ( shape == SHAPE_SQUARE ) {

				float theta = atan( p.y - coord.y, p.x - coord.x ) - angle;
				float sin_t = abs( sin( theta ) );
				float cos_t = abs( cos( theta ) );
				rad = pow( abs( rad ), 1.4 );
				rad = rad_max * ( rad + ( ( sin_t > cos_t ) ? rad - sin_t * rad : rad - cos_t * rad ) );

			}

			return rad - dist;

		}

		struct Cell {

		// grid sample positions
			vec2 normal;
			vec2 p1;
			vec2 p2;
			vec2 p3;
			vec2 p4;
			float samp2;
			float samp1;
			float samp3;
			float samp4;

		};

		vec4 getSample( vec2 point ) {

		// multi-sampled point
			vec4 tex = texture2D( tDiffuse, vec2( point.x / width, point.y / height ) );
			float base = rand( vec2( floor( point.x ), floor( point.y ) ) ) * PI2;
			float step = PI2 / float( samples );
			float dist = radius * 0.66;

			for ( int i = 0; i < samples; ++i ) {

				float r = base + step * float( i );
				vec2 coord = point + vec2( cos( r ) * dist, sin( r ) * dist );
				tex += texture2D( tDiffuse, vec2( coord.x / width, coord.y / height ) );

			}

			tex /= float( samples ) + 1.0;
			return tex;

		}

		float getDotColour( Cell c, vec2 p, int channel, float angle, float aa ) {

		// get colour for given point
			float dist_c_1, dist_c_2, dist_c_3, dist_c_4, res;

			if ( channel == 0 ) {

				c.samp1 = getSample( c.p1 ).r;
				c.samp2 = getSample( c.p2 ).r;
				c.samp3 = getSample( c.p3 ).r;
				c.samp4 = getSample( c.p4 ).r;

			} else if (channel == 1) {

				c.samp1 = getSample( c.p1 ).g;
				c.samp2 = getSample( c.p2 ).g;
				c.samp3 = getSample( c.p3 ).g;
				c.samp4 = getSample( c.p4 ).g;

			} else {

				c.samp1 = getSample( c.p1 ).b;
				c.samp3 = getSample( c.p3 ).b;
				c.samp2 = getSample( c.p2 ).b;
				c.samp4 = getSample( c.p4 ).b;

			}

			dist_c_1 = distanceToDotRadius( c.samp1, c.p1, c.normal, p, angle, radius );
			dist_c_2 = distanceToDotRadius( c.samp2, c.p2, c.normal, p, angle, radius );
			dist_c_3 = distanceToDotRadius( c.samp3, c.p3, c.normal, p, angle, radius );
			dist_c_4 = distanceToDotRadius( c.samp4, c.p4, c.normal, p, angle, radius );
			res = ( dist_c_1 > 0.0 ) ? clamp( dist_c_1 / aa, 0.0, 1.0 ) : 0.0;
			res += ( dist_c_2 > 0.0 ) ? clamp( dist_c_2 / aa, 0.0, 1.0 ) : 0.0;
			res += ( dist_c_3 > 0.0 ) ? clamp( dist_c_3 / aa, 0.0, 1.0 ) : 0.0;
			res += ( dist_c_4 > 0.0 ) ? clamp( dist_c_4 / aa, 0.0, 1.0 ) : 0.0;
			res = clamp( res, 0.0, 1.0 );

			return res;

		}

		Cell getReferenceCell( vec2 p, vec2 origin, float grid_angle, float step ) {

		// get containing cell
			Cell c;

		// calc grid
			vec2 n = vec2( cos( grid_angle ), sin( grid_angle ) );
			float threshold = step * 0.5;
			float dot_normal = n.x * ( p.x - origin.x ) + n.y * ( p.y - origin.y );
			float dot_line = -n.y * ( p.x - origin.x ) + n.x * ( p.y - origin.y );
			vec2 offset = vec2( n.x * dot_normal, n.y * dot_normal );
			float offset_normal = mod( hypot( offset.x, offset.y ), step );
			float normal_dir = ( dot_normal < 0.0 ) ? 1.0 : -1.0;
			float normal_scale = ( ( offset_normal < threshold ) ? -offset_normal : step - offset_normal ) * normal_dir;
			float offset_line = mod( hypot( ( p.x - offset.x ) - origin.x, ( p.y - offset.y ) - origin.y ), step );
			float line_dir = ( dot_line < 0.0 ) ? 1.0 : -1.0;
			float line_scale = ( ( offset_line < threshold ) ? -offset_line : step - offset_line ) * line_dir;

		// get closest corner
			c.normal = n;
			c.p1.x = p.x - n.x * normal_scale + n.y * line_scale;
			c.p1.y = p.y - n.y * normal_scale - n.x * line_scale;

		// scatter
			if ( scatter != 0.0 ) {

				float off_mag = scatter * threshold * 0.5;
				float off_angle = rand( vec2( floor( c.p1.x ), floor( c.p1.y ) ) ) * PI2;
				c.p1.x += cos( off_angle ) * off_mag;
				c.p1.y += sin( off_angle ) * off_mag;

			}

		// find corners
			float normal_step = normal_dir * ( ( offset_normal < threshold ) ? step : -step );
			float line_step = line_dir * ( ( offset_line < threshold ) ? step : -step );
			c.p2.x = c.p1.x - n.x * normal_step;
			c.p2.y = c.p1.y - n.y * normal_step;
			c.p3.x = c.p1.x + n.y * line_step;
			c.p3.y = c.p1.y - n.x * line_step;
			c.p4.x = c.p1.x - n.x * normal_step + n.y * line_step;
			c.p4.y = c.p1.y - n.y * normal_step - n.x * line_step;

			return c;

		}

		float blendColour( float a, float b, float t ) {

		// blend colours
			if ( blendingMode == BLENDING_LINEAR ) {
				return blend( a, b, 1.0 - t );
			} else if ( blendingMode == BLENDING_ADD ) {
				return blend( a, min( 1.0, a + b ), t );
			} else if ( blendingMode == BLENDING_MULTIPLY ) {
				return blend( a, max( 0.0, a * b ), t );
			} else if ( blendingMode == BLENDING_LIGHTER ) {
				return blend( a, max( a, b ), t );
			} else if ( blendingMode == BLENDING_DARKER ) {
				return blend( a, min( a, b ), t );
			} else {
				return blend( a, b, 1.0 - t );
			}

		}

		void main() {

			if ( ! disable ) {

		// setup
				vec2 p = vec2( vUV.x * width, vUV.y * height );
				vec2 origin = vec2( 0, 0 );
				float aa = ( radius < 2.5 ) ? radius * 0.5 : 1.25;

		// get channel samples
				Cell cell_r = getReferenceCell( p, origin, rotateR, radius );
				Cell cell_g = getReferenceCell( p, origin, rotateG, radius );
				Cell cell_b = getReferenceCell( p, origin, rotateB, radius );
				float r = getDotColour( cell_r, p, 0, rotateR, aa );
				float g = getDotColour( cell_g, p, 1, rotateG, aa );
				float b = getDotColour( cell_b, p, 2, rotateB, aa );

		// blend with original
				vec4 colour = texture2D( tDiffuse, vUV );
				r = blendColour( r, colour.r, blending );
				g = blendColour( g, colour.g, blending );
				b = blendColour( b, colour.b, blending );

				if ( greyscale ) {
					r = g = b = (r + b + g) / 3.0;
				}

				gl_FragColor = vec4( r, g, b, 1.0 );

			} else {

				gl_FragColor = texture2D( tDiffuse, vUV );

			}

		}`};class C6 extends n0{constructor(A,Q,E,B){super();this.renderScene=Q,this.renderCamera=E,this.selectedObjects=B!==void 0?B:[],this.visibleEdgeColor=new WA(1,1,1),this.hiddenEdgeColor=new WA(0.1,0.04,0.02),this.edgeGlow=0,this.usePatternTexture=!1,this.edgeThickness=1,this.edgeStrength=3,this.downSampleRatio=2,this.pulsePeriod=0,this._visibilityCache=/*@__PURE__*/new Map,this._selectionCache=/*@__PURE__*/new Set,this.resolution=A!==void 0?new RA(A.x,A.y):new RA(256,256);const I=Math.round(this.resolution.x/this.downSampleRatio),K=Math.round(this.resolution.y/this.downSampleRatio);this.renderTargetMaskBuffer=new B0(this.resolution.x,this.resolution.y),this.renderTargetMaskBuffer.texture.name="OutlinePass.mask",this.renderTargetMaskBuffer.texture.generateMipmaps=!1,this.depthMaterial=new nI,this.depthMaterial.side=FQ,this.depthMaterial.depthPacking=v5,this.depthMaterial.blending=M0,this.prepareMaskMaterial=this.getPrepareMaskMaterial(),this.prepareMaskMaterial.side=FQ,this.prepareMaskMaterial.fragmentShader=Y(this.prepareMaskMaterial.fragmentShader,this.renderCamera),this.renderTargetDepthBuffer=new B0(this.resolution.x,this.resolution.y,{type:eA}),this.renderTargetDepthBuffer.texture.name="OutlinePass.depth",this.renderTargetDepthBuffer.texture.generateMipmaps=!1,this.renderTargetMaskDownSampleBuffer=new B0(I,K,{type:eA}),this.renderTargetMaskDownSampleBuffer.texture.name="OutlinePass.depthDownSample",this.renderTargetMaskDownSampleBuffer.texture.generateMipmaps=!1,this.renderTargetBlurBuffer1=new B0(I,K,{type:eA}),this.renderTargetBlurBuffer1.texture.name="OutlinePass.blur1",this.renderTargetBlurBuffer1.texture.generateMipmaps=!1,this.renderTargetBlurBuffer2=new B0(Math.round(I/2),Math.round(K/2),{type:eA}),this.renderTargetBlurBuffer2.texture.name="OutlinePass.blur2",this.renderTargetBlurBuffer2.texture.generateMipmaps=!1,this.edgeDetectionMaterial=this.getEdgeDetectionMaterial(),this.renderTargetEdgeBuffer1=new B0(I,K,{type:eA}),this.renderTargetEdgeBuffer1.texture.name="OutlinePass.edge1",this.renderTargetEdgeBuffer1.texture.generateMipmaps=!1,this.renderTargetEdgeBuffer2=new B0(Math.round(I/2),Math.round(K/2),{type:eA}),this.renderTargetEdgeBuffer2.texture.name="OutlinePass.edge2",this.renderTargetEdgeBuffer2.texture.generateMipmaps=!1;const J=4,C=4;this.separableBlurMaterial1=this.getSeperableBlurMaterial(J),this.separableBlurMaterial1.uniforms.texSize.value.set(I,K),this.separableBlurMaterial1.uniforms.kernelRadius.value=1,this.separableBlurMaterial2=this.getSeperableBlurMaterial(C),this.separableBlurMaterial2.uniforms.texSize.value.set(Math.round(I/2),Math.round(K/2)),this.separableBlurMaterial2.uniforms.kernelRadius.value=C,this.overlayMaterial=this.getOverlayMaterial();const U=zQ;this.copyUniforms=rA.clone(U.uniforms),this.materialCopy=new cA({uniforms:this.copyUniforms,vertexShader:U.vertexShader,fragmentShader:U.fragmentShader,blending:M0,depthTest:!1,depthWrite:!1}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new WA,this.oldClearAlpha=1,this.fsQuad=new i0(null),this.tempPulseColor1=new WA,this.tempPulseColor2=new WA,this.textureMatrix=new MA;function Y(H,R){const G=R.isPerspectiveCamera?"perspective":"orthographic";return H.replace(/DEPTH_TO_VIEW_Z/g,G+"DepthToViewZ")}}dispose(){this.renderTargetMaskBuffer.dispose(),this.renderTargetDepthBuffer.dispose(),this.renderTargetMaskDownSampleBuffer.dispose(),this.renderTargetBlurBuffer1.dispose(),this.renderTargetBlurBuffer2.dispose(),this.renderTargetEdgeBuffer1.dispose(),this.renderTargetEdgeBuffer2.dispose(),this.depthMaterial.dispose(),this.prepareMaskMaterial.dispose(),this.edgeDetectionMaterial.dispose(),this.separableBlurMaterial1.dispose(),this.separableBlurMaterial2.dispose(),this.overlayMaterial.dispose(),this.materialCopy.dispose(),this.fsQuad.dispose()}setSize(A,Q){this.renderTargetMaskBuffer.setSize(A,Q),this.renderTargetDepthBuffer.setSize(A,Q);let E=Math.round(A/this.downSampleRatio),B=Math.round(Q/this.downSampleRatio);this.renderTargetMaskDownSampleBuffer.setSize(E,B),this.renderTargetBlurBuffer1.setSize(E,B),this.renderTargetEdgeBuffer1.setSize(E,B),this.separableBlurMaterial1.uniforms.texSize.value.set(E,B),E=Math.round(E/2),B=Math.round(B/2),this.renderTargetBlurBuffer2.setSize(E,B),this.renderTargetEdgeBuffer2.setSize(E,B),this.separableBlurMaterial2.uniforms.texSize.value.set(E,B)}updateSelectionCache(){const A=this._selectionCache;function Q(E){if(E.isMesh)A.add(E)}A.clear();for(let E=0;E<this.selectedObjects.length;E++)this.selectedObjects[E].traverse(Q)}changeVisibilityOfSelectedObjects(A){const Q=this._visibilityCache;for(let E of this._selectionCache)if(A===!0)E.visible=Q.get(E);else Q.set(E,E.visible),E.visible=A}changeVisibilityOfNonSelectedObjects(A){const Q=this._visibilityCache,E=this._selectionCache;function B(I){if(I.isMesh||I.isSprite){if(!E.has(I)){const K=I.visible;if(A===!1||Q.get(I)===!0)I.visible=A;Q.set(I,K)}}else if(I.isPoints||I.isLine)if(A===!0)I.visible=Q.get(I);else Q.set(I,I.visible),I.visible=A}this.renderScene.traverse(B)}updateTextureMatrix(){this.textureMatrix.set(0.5,0,0,0.5,0,0.5,0,0.5,0,0,0.5,0.5,0,0,0,1),this.textureMatrix.multiply(this.renderCamera.projectionMatrix),this.textureMatrix.multiply(this.renderCamera.matrixWorldInverse)}render(A,Q,E,B,I){if(this.selectedObjects.length>0){A.getClearColor(this._oldClearColor),this.oldClearAlpha=A.getClearAlpha();const K=A.autoClear;if(A.autoClear=!1,I)A.state.buffers.stencil.setTest(!1);A.setClearColor(16777215,1),this.updateSelectionCache(),this.changeVisibilityOfSelectedObjects(!1);const J=this.renderScene.background;if(this.renderScene.background=null,this.renderScene.overrideMaterial=this.depthMaterial,A.setRenderTarget(this.renderTargetDepthBuffer),A.clear(),A.render(this.renderScene,this.renderCamera),this.changeVisibilityOfSelectedObjects(!0),this._visibilityCache.clear(),this.updateTextureMatrix(),this.changeVisibilityOfNonSelectedObjects(!1),this.renderScene.overrideMaterial=this.prepareMaskMaterial,this.prepareMaskMaterial.uniforms.cameraNearFar.value.set(this.renderCamera.near,this.renderCamera.far),this.prepareMaskMaterial.uniforms.depthTexture.value=this.renderTargetDepthBuffer.texture,this.prepareMaskMaterial.uniforms.textureMatrix.value=this.textureMatrix,A.setRenderTarget(this.renderTargetMaskBuffer),A.clear(),A.render(this.renderScene,this.renderCamera),this.renderScene.overrideMaterial=null,this.changeVisibilityOfNonSelectedObjects(!0),this._visibilityCache.clear(),this._selectionCache.clear(),this.renderScene.background=J,this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetMaskBuffer.texture,A.setRenderTarget(this.renderTargetMaskDownSampleBuffer),A.clear(),this.fsQuad.render(A),this.tempPulseColor1.copy(this.visibleEdgeColor),this.tempPulseColor2.copy(this.hiddenEdgeColor),this.pulsePeriod>0){const C=0.625+Math.cos(performance.now()*0.01/this.pulsePeriod)*0.75/2;this.tempPulseColor1.multiplyScalar(C),this.tempPulseColor2.multiplyScalar(C)}if(this.fsQuad.material=this.edgeDetectionMaterial,this.edgeDetectionMaterial.uniforms.maskTexture.value=this.renderTargetMaskDownSampleBuffer.texture,this.edgeDetectionMaterial.uniforms.texSize.value.set(this.renderTargetMaskDownSampleBuffer.width,this.renderTargetMaskDownSampleBuffer.height),this.edgeDetectionMaterial.uniforms.visibleEdgeColor.value=this.tempPulseColor1,this.edgeDetectionMaterial.uniforms.hiddenEdgeColor.value=this.tempPulseColor2,A.setRenderTarget(this.renderTargetEdgeBuffer1),A.clear(),this.fsQuad.render(A),this.fsQuad.material=this.separableBlurMaterial1,this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=C6.BlurDirectionX,this.separableBlurMaterial1.uniforms.kernelRadius.value=this.edgeThickness,A.setRenderTarget(this.renderTargetBlurBuffer1),A.clear(),this.fsQuad.render(A),this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetBlurBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=C6.BlurDirectionY,A.setRenderTarget(this.renderTargetEdgeBuffer1),A.clear(),this.fsQuad.render(A),this.fsQuad.material=this.separableBlurMaterial2,this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial2.uniforms.direction.value=C6.BlurDirectionX,A.setRenderTarget(this.renderTargetBlurBuffer2),A.clear(),this.fsQuad.render(A),this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetBlurBuffer2.texture,this.separableBlurMaterial2.uniforms.direction.value=C6.BlurDirectionY,A.setRenderTarget(this.renderTargetEdgeBuffer2),A.clear(),this.fsQuad.render(A),this.fsQuad.material=this.overlayMaterial,this.overlayMaterial.uniforms.maskTexture.value=this.renderTargetMaskBuffer.texture,this.overlayMaterial.uniforms.edgeTexture1.value=this.renderTargetEdgeBuffer1.texture,this.overlayMaterial.uniforms.edgeTexture2.value=this.renderTargetEdgeBuffer2.texture,this.overlayMaterial.uniforms.patternTexture.value=this.patternTexture,this.overlayMaterial.uniforms.edgeStrength.value=this.edgeStrength,this.overlayMaterial.uniforms.edgeGlow.value=this.edgeGlow,this.overlayMaterial.uniforms.usePatternTexture.value=this.usePatternTexture,I)A.state.buffers.stencil.setTest(!0);A.setRenderTarget(E),this.fsQuad.render(A),A.setClearColor(this._oldClearColor,this.oldClearAlpha),A.autoClear=K}if(this.renderToScreen)this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=E.texture,A.setRenderTarget(null),this.fsQuad.render(A)}getPrepareMaskMaterial(){return new cA({uniforms:{depthTexture:{value:null},cameraNearFar:{value:new RA(0.5,0.5)},textureMatrix:{value:null}},vertexShader:`#include <morphtarget_pars_vertex>
				#include <skinning_pars_vertex>

				varying vec4 projTexCoord;
				varying vec4 vPosition;
				uniform mat4 textureMatrix;

				void main() {

					#include <skinbase_vertex>
					#include <begin_vertex>
					#include <morphtarget_vertex>
					#include <skinning_vertex>
					#include <project_vertex>

					vPosition = mvPosition;

					vec4 worldPosition = vec4( transformed, 1.0 );

					#ifdef USE_INSTANCING

						worldPosition = instanceMatrix * worldPosition;

					#endif

					worldPosition = modelMatrix * worldPosition;

					projTexCoord = textureMatrix * worldPosition;

				}`,fragmentShader:`#include <packing>
				varying vec4 vPosition;
				varying vec4 projTexCoord;
				uniform sampler2D depthTexture;
				uniform vec2 cameraNearFar;

				void main() {

					float depth = unpackRGBAToDepth(texture2DProj( depthTexture, projTexCoord ));
					float viewZ = - DEPTH_TO_VIEW_Z( depth, cameraNearFar.x, cameraNearFar.y );
					float depthTest = (-vPosition.z > viewZ) ? 1.0 : 0.0;
					gl_FragColor = vec4(0.0, depthTest, 1.0, 1.0);

				}`})}getEdgeDetectionMaterial(){return new cA({uniforms:{maskTexture:{value:null},texSize:{value:new RA(0.5,0.5)},visibleEdgeColor:{value:new f(1,1,1)},hiddenEdgeColor:{value:new f(1,1,1)}},vertexShader:`varying vec2 vUv;

				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;

				uniform sampler2D maskTexture;
				uniform vec2 texSize;
				uniform vec3 visibleEdgeColor;
				uniform vec3 hiddenEdgeColor;

				void main() {
					vec2 invSize = 1.0 / texSize;
					vec4 uvOffset = vec4(1.0, 0.0, 0.0, 1.0) * vec4(invSize, invSize);
					vec4 c1 = texture2D( maskTexture, vUv + uvOffset.xy);
					vec4 c2 = texture2D( maskTexture, vUv - uvOffset.xy);
					vec4 c3 = texture2D( maskTexture, vUv + uvOffset.yw);
					vec4 c4 = texture2D( maskTexture, vUv - uvOffset.yw);
					float diff1 = (c1.r - c2.r)*0.5;
					float diff2 = (c3.r - c4.r)*0.5;
					float d = length( vec2(diff1, diff2) );
					float a1 = min(c1.g, c2.g);
					float a2 = min(c3.g, c4.g);
					float visibilityFactor = min(a1, a2);
					vec3 edgeColor = 1.0 - visibilityFactor > 0.001 ? visibleEdgeColor : hiddenEdgeColor;
					gl_FragColor = vec4(edgeColor, 1.0) * vec4(d);
				}`})}getSeperableBlurMaterial(A){return new cA({defines:{MAX_RADIUS:A},uniforms:{colorTexture:{value:null},texSize:{value:new RA(0.5,0.5)},direction:{value:new RA(0.5,0.5)},kernelRadius:{value:1}},vertexShader:`varying vec2 vUv;

				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 texSize;
				uniform vec2 direction;
				uniform float kernelRadius;

				float gaussianPdf(in float x, in float sigma) {
					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;
				}

				void main() {
					vec2 invSize = 1.0 / texSize;
					float sigma = kernelRadius/2.0;
					float weightSum = gaussianPdf(0.0, sigma);
					vec4 diffuseSum = texture2D( colorTexture, vUv) * weightSum;
					vec2 delta = direction * invSize * kernelRadius/float(MAX_RADIUS);
					vec2 uvOffset = delta;
					for( int i = 1; i <= MAX_RADIUS; i ++ ) {
						float x = kernelRadius * float(i) / float(MAX_RADIUS);
						float w = gaussianPdf(x, sigma);
						vec4 sample1 = texture2D( colorTexture, vUv + uvOffset);
						vec4 sample2 = texture2D( colorTexture, vUv - uvOffset);
						diffuseSum += ((sample1 + sample2) * w);
						weightSum += (2.0 * w);
						uvOffset += delta;
					}
					gl_FragColor = diffuseSum/weightSum;
				}`})}getOverlayMaterial(){return new cA({uniforms:{maskTexture:{value:null},edgeTexture1:{value:null},edgeTexture2:{value:null},patternTexture:{value:null},edgeStrength:{value:1},edgeGlow:{value:1},usePatternTexture:{value:0}},vertexShader:`varying vec2 vUv;

				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;

				uniform sampler2D maskTexture;
				uniform sampler2D edgeTexture1;
				uniform sampler2D edgeTexture2;
				uniform sampler2D patternTexture;
				uniform float edgeStrength;
				uniform float edgeGlow;
				uniform bool usePatternTexture;

				void main() {
					vec4 edgeValue1 = texture2D(edgeTexture1, vUv);
					vec4 edgeValue2 = texture2D(edgeTexture2, vUv);
					vec4 maskColor = texture2D(maskTexture, vUv);
					vec4 patternColor = texture2D(patternTexture, 6.0 * vUv);
					float visibilityFactor = 1.0 - maskColor.g > 0.0 ? 1.0 : 0.5;
					vec4 edgeValue = edgeValue1 + edgeValue2 * edgeGlow;
					vec4 finalColor = edgeStrength * maskColor.r * edgeValue;
					if(usePatternTexture)
						finalColor += + visibilityFactor * (1.0 - maskColor.r) * (1.0 - patternColor.r);
					gl_FragColor = finalColor;
				}`,blending:gE,depthTest:!1,depthWrite:!1,transparent:!0})}}C6.BlurDirectionX=new RA(1,0);C6.BlurDirectionY=new RA(0,1);var kC={name:"SAOShader",defines:{NUM_SAMPLES:7,NUM_RINGS:4,DIFFUSE_TEXTURE:0,PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},tDiffuse:{value:null},tNormal:{value:null},size:{value:new RA(512,512)},cameraNear:{value:1},cameraFar:{value:100},cameraProjectionMatrix:{value:new MA},cameraInverseProjectionMatrix:{value:new MA},scale:{value:1},intensity:{value:0.1},bias:{value:0.5},minResolution:{value:0},kernelRadius:{value:100},randomSeed:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {
			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
		}`,fragmentShader:`
		#include <common>

		varying vec2 vUv;

		#if DIFFUSE_TEXTURE == 1
		uniform sampler2D tDiffuse;
		#endif

		uniform highp sampler2D tDepth;
		uniform highp sampler2D tNormal;

		uniform float cameraNear;
		uniform float cameraFar;
		uniform mat4 cameraProjectionMatrix;
		uniform mat4 cameraInverseProjectionMatrix;

		uniform float scale;
		uniform float intensity;
		uniform float bias;
		uniform float kernelRadius;
		uniform float minResolution;
		uniform vec2 size;
		uniform float randomSeed;

		// RGBA depth

		#include <packing>

		vec4 getDefaultColor( const in vec2 screenPosition ) {
			#if DIFFUSE_TEXTURE == 1
			return texture2D( tDiffuse, vUv );
			#else
			return vec4( 1.0 );
			#endif
		}

		float getDepth( const in vec2 screenPosition ) {
			return texture2D( tDepth, screenPosition ).x;
		}

		float getViewZ( const in float depth ) {
			#if PERSPECTIVE_CAMERA == 1
			return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );
			#else
			return orthographicDepthToViewZ( depth, cameraNear, cameraFar );
			#endif
		}

		vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {
			float clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];
			vec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );
			clipPosition *= clipW; // unprojection.

			return ( cameraInverseProjectionMatrix * clipPosition ).xyz;
		}

		vec3 getViewNormal( const in vec3 viewPosition, const in vec2 screenPosition ) {
			return unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );
		}

		float scaleDividedByCameraFar;
		float minResolutionMultipliedByCameraFar;

		float getOcclusion( const in vec3 centerViewPosition, const in vec3 centerViewNormal, const in vec3 sampleViewPosition ) {
			vec3 viewDelta = sampleViewPosition - centerViewPosition;
			float viewDistance = length( viewDelta );
			float scaledScreenDistance = scaleDividedByCameraFar * viewDistance;

			return max(0.0, (dot(centerViewNormal, viewDelta) - minResolutionMultipliedByCameraFar) / scaledScreenDistance - bias) / (1.0 + pow2( scaledScreenDistance ) );
		}

		// moving costly divides into consts
		const float ANGLE_STEP = PI2 * float( NUM_RINGS ) / float( NUM_SAMPLES );
		const float INV_NUM_SAMPLES = 1.0 / float( NUM_SAMPLES );

		float getAmbientOcclusion( const in vec3 centerViewPosition ) {
			// precompute some variables require in getOcclusion.
			scaleDividedByCameraFar = scale / cameraFar;
			minResolutionMultipliedByCameraFar = minResolution * cameraFar;
			vec3 centerViewNormal = getViewNormal( centerViewPosition, vUv );

			// jsfiddle that shows sample pattern: https://jsfiddle.net/a16ff1p7/
			float angle = rand( vUv + randomSeed ) * PI2;
			vec2 radius = vec2( kernelRadius * INV_NUM_SAMPLES ) / size;
			vec2 radiusStep = radius;

			float occlusionSum = 0.0;
			float weightSum = 0.0;

			for( int i = 0; i < NUM_SAMPLES; i ++ ) {
				vec2 sampleUv = vUv + vec2( cos( angle ), sin( angle ) ) * radius;
				radius += radiusStep;
				angle += ANGLE_STEP;

				float sampleDepth = getDepth( sampleUv );
				if( sampleDepth >= ( 1.0 - EPSILON ) ) {
					continue;
				}

				float sampleViewZ = getViewZ( sampleDepth );
				vec3 sampleViewPosition = getViewPosition( sampleUv, sampleDepth, sampleViewZ );
				occlusionSum += getOcclusion( centerViewPosition, centerViewNormal, sampleViewPosition );
				weightSum += 1.0;
			}

			if( weightSum == 0.0 ) discard;

			return occlusionSum * ( intensity / weightSum );
		}

		void main() {
			float centerDepth = getDepth( vUv );
			if( centerDepth >= ( 1.0 - EPSILON ) ) {
				discard;
			}

			float centerViewZ = getViewZ( centerDepth );
			vec3 viewPosition = getViewPosition( vUv, centerDepth, centerViewZ );

			float ambientOcclusion = getAmbientOcclusion( viewPosition );

			gl_FragColor = getDefaultColor( vUv );
			gl_FragColor.xyz *=  1.0 - ambientOcclusion;
		}`};function Be(A,Q){return Math.exp(-(A*A)/(2*(Q*Q)))/(Math.sqrt(2*Math.PI)*Q)}var IB={name:"DepthLimitedBlurShader",defines:{KERNEL_RADIUS:4,DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDiffuse:{value:null},size:{value:new RA(512,512)},sampleUvOffsets:{value:[new RA(0,0)]},sampleWeights:{value:[1]},tDepth:{value:null},cameraNear:{value:10},cameraFar:{value:1000},depthCutoff:{value:10}},vertexShader:`

		#include <common>

		uniform vec2 size;

		varying vec2 vUv;
		varying vec2 vInvSize;

		void main() {
			vUv = uv;
			vInvSize = 1.0 / size;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
		}`,fragmentShader:`

		#include <common>
		#include <packing>

		uniform sampler2D tDiffuse;
		uniform sampler2D tDepth;

		uniform float cameraNear;
		uniform float cameraFar;
		uniform float depthCutoff;

		uniform vec2 sampleUvOffsets[ KERNEL_RADIUS + 1 ];
		uniform float sampleWeights[ KERNEL_RADIUS + 1 ];

		varying vec2 vUv;
		varying vec2 vInvSize;

		float getDepth( const in vec2 screenPosition ) {
			#if DEPTH_PACKING == 1
			return unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );
			#else
			return texture2D( tDepth, screenPosition ).x;
			#endif
		}

		float getViewZ( const in float depth ) {
			#if PERSPECTIVE_CAMERA == 1
			return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );
			#else
			return orthographicDepthToViewZ( depth, cameraNear, cameraFar );
			#endif
		}

		void main() {
			float depth = getDepth( vUv );
			if( depth >= ( 1.0 - EPSILON ) ) {
				discard;
			}

			float centerViewZ = -getViewZ( depth );
			bool rBreak = false, lBreak = false;

			float weightSum = sampleWeights[0];
			vec4 diffuseSum = texture2D( tDiffuse, vUv ) * weightSum;

			for( int i = 1; i <= KERNEL_RADIUS; i ++ ) {

				float sampleWeight = sampleWeights[i];
				vec2 sampleUvOffset = sampleUvOffsets[i] * vInvSize;

				vec2 sampleUv = vUv + sampleUvOffset;
				float viewZ = -getViewZ( getDepth( sampleUv ) );

				if( abs( viewZ - centerViewZ ) > depthCutoff ) rBreak = true;

				if( ! rBreak ) {
					diffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;
					weightSum += sampleWeight;
				}

				sampleUv = vUv - sampleUvOffset;
				viewZ = -getViewZ( getDepth( sampleUv ) );

				if( abs( viewZ - centerViewZ ) > depthCutoff ) lBreak = true;

				if( ! lBreak ) {
					diffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;
					weightSum += sampleWeight;
				}

			}

			gl_FragColor = diffuseSum / weightSum;
		}`},jC={createSampleWeights:function(A,Q){const E=[];for(let B=0;B<=A;B++)E.push(Be(B,Q));return E},createSampleOffsets:function(A,Q){const E=[];for(let B=0;B<=A;B++)E.push(Q.clone().multiplyScalar(B));return E},configure:function(A,Q,E,B){A.defines.KERNEL_RADIUS=Q,A.uniforms.sampleUvOffsets.value=jC.createSampleOffsets(Q,B),A.uniforms.sampleWeights.value=jC.createSampleWeights(Q,E),A.needsUpdate=!0}};class nY extends n0{constructor(A,Q,E=new RA(256,256)){super();this.scene=A,this.camera=Q,this.clear=!0,this.needsSwap=!1,this.originalClearColor=new WA,this._oldClearColor=new WA,this.oldClearAlpha=1,this.params={output:0,saoBias:0.5,saoIntensity:0.18,saoScale:1,saoKernelRadius:100,saoMinResolution:0,saoBlur:!0,saoBlurRadius:8,saoBlurStdDev:4,saoBlurDepthCutoff:0.01},this.resolution=new RA(E.x,E.y),this.saoRenderTarget=new B0(this.resolution.x,this.resolution.y,{type:eA}),this.blurIntermediateRenderTarget=this.saoRenderTarget.clone();const B=new S1;B.format=lI,B.type=dI,this.normalRenderTarget=new B0(this.resolution.x,this.resolution.y,{minFilter:L0,magFilter:L0,type:eA,depthTexture:B}),this.normalMaterial=new WE,this.normalMaterial.blending=M0,this.saoMaterial=new cA({defines:Object.assign({},kC.defines),fragmentShader:kC.fragmentShader,vertexShader:kC.vertexShader,uniforms:rA.clone(kC.uniforms)}),this.saoMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.saoMaterial.uniforms.tDepth.value=B,this.saoMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.saoMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.saoMaterial.uniforms.cameraProjectionMatrix.value=this.camera.projectionMatrix,this.saoMaterial.blending=M0,this.vBlurMaterial=new cA({uniforms:rA.clone(IB.uniforms),defines:Object.assign({},IB.defines),vertexShader:IB.vertexShader,fragmentShader:IB.fragmentShader}),this.vBlurMaterial.defines.DEPTH_PACKING=0,this.vBlurMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.vBlurMaterial.uniforms.tDiffuse.value=this.saoRenderTarget.texture,this.vBlurMaterial.uniforms.tDepth.value=B,this.vBlurMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.vBlurMaterial.blending=M0,this.hBlurMaterial=new cA({uniforms:rA.clone(IB.uniforms),defines:Object.assign({},IB.defines),vertexShader:IB.vertexShader,fragmentShader:IB.fragmentShader}),this.hBlurMaterial.defines.DEPTH_PACKING=0,this.hBlurMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.hBlurMaterial.uniforms.tDiffuse.value=this.blurIntermediateRenderTarget.texture,this.hBlurMaterial.uniforms.tDepth.value=B,this.hBlurMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.hBlurMaterial.blending=M0,this.materialCopy=new cA({uniforms:rA.clone(zQ.uniforms),vertexShader:zQ.vertexShader,fragmentShader:zQ.fragmentShader,blending:M0}),this.materialCopy.transparent=!0,this.materialCopy.depthTest=!1,this.materialCopy.depthWrite=!1,this.materialCopy.blending=bE,this.materialCopy.blendSrc=hB,this.materialCopy.blendDst=RE,this.materialCopy.blendEquation=V1,this.materialCopy.blendSrcAlpha=b8,this.materialCopy.blendDstAlpha=RE,this.materialCopy.blendEquationAlpha=V1,this.fsQuad=new i0(null)}render(A,Q,E){if(this.renderToScreen)this.materialCopy.blending=M0,this.materialCopy.uniforms.tDiffuse.value=E.texture,this.materialCopy.needsUpdate=!0,this.renderPass(A,this.materialCopy,null);A.getClearColor(this._oldClearColor),this.oldClearAlpha=A.getClearAlpha();const B=A.autoClear;A.autoClear=!1,this.saoMaterial.uniforms.bias.value=this.params.saoBias,this.saoMaterial.uniforms.intensity.value=this.params.saoIntensity,this.saoMaterial.uniforms.scale.value=this.params.saoScale,this.saoMaterial.uniforms.kernelRadius.value=this.params.saoKernelRadius,this.saoMaterial.uniforms.minResolution.value=this.params.saoMinResolution,this.saoMaterial.uniforms.cameraNear.value=this.camera.near,this.saoMaterial.uniforms.cameraFar.value=this.camera.far;const I=this.params.saoBlurDepthCutoff*(this.camera.far-this.camera.near);if(this.vBlurMaterial.uniforms.depthCutoff.value=I,this.hBlurMaterial.uniforms.depthCutoff.value=I,this.vBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.vBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.hBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.hBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.params.saoBlurRadius=Math.floor(this.params.saoBlurRadius),this.prevStdDev!==this.params.saoBlurStdDev||this.prevNumSamples!==this.params.saoBlurRadius)jC.configure(this.vBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new RA(0,1)),jC.configure(this.hBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new RA(1,0)),this.prevStdDev=this.params.saoBlurStdDev,this.prevNumSamples=this.params.saoBlurRadius;if(this.renderOverride(A,this.normalMaterial,this.normalRenderTarget,7829503,1),this.renderPass(A,this.saoMaterial,this.saoRenderTarget,16777215,1),this.params.saoBlur)this.renderPass(A,this.vBlurMaterial,this.blurIntermediateRenderTarget,16777215,1),this.renderPass(A,this.hBlurMaterial,this.saoRenderTarget,16777215,1);const K=this.materialCopy;if(this.params.output===nY.OUTPUT.Normal)this.materialCopy.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.materialCopy.needsUpdate=!0;else this.materialCopy.uniforms.tDiffuse.value=this.saoRenderTarget.texture,this.materialCopy.needsUpdate=!0;if(this.params.output===nY.OUTPUT.Default)K.blending=bE;else K.blending=M0;this.renderPass(A,K,this.renderToScreen?null:E),A.setClearColor(this._oldClearColor,this.oldClearAlpha),A.autoClear=B}renderPass(A,Q,E,B,I){A.getClearColor(this.originalClearColor);const K=A.getClearAlpha(),J=A.autoClear;if(A.setRenderTarget(E),A.autoClear=!1,B!==void 0&&B!==null)A.setClearColor(B),A.setClearAlpha(I||0),A.clear();this.fsQuad.material=Q,this.fsQuad.render(A),A.autoClear=J,A.setClearColor(this.originalClearColor),A.setClearAlpha(K)}renderOverride(A,Q,E,B,I){A.getClearColor(this.originalClearColor);const K=A.getClearAlpha(),J=A.autoClear;if(A.setRenderTarget(E),A.autoClear=!1,B=Q.clearColor||B,I=Q.clearAlpha||I,B!==void 0&&B!==null)A.setClearColor(B),A.setClearAlpha(I||0),A.clear();this.scene.overrideMaterial=Q,A.render(this.scene,this.camera),this.scene.overrideMaterial=null,A.autoClear=J,A.setClearColor(this.originalClearColor),A.setClearAlpha(K)}setSize(A,Q){this.saoRenderTarget.setSize(A,Q),this.blurIntermediateRenderTarget.setSize(A,Q),this.normalRenderTarget.setSize(A,Q),this.saoMaterial.uniforms.size.value.set(A,Q),this.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.saoMaterial.uniforms.cameraProjectionMatrix.value=this.camera.projectionMatrix,this.saoMaterial.needsUpdate=!0,this.vBlurMaterial.uniforms.size.value.set(A,Q),this.vBlurMaterial.needsUpdate=!0,this.hBlurMaterial.uniforms.size.value.set(A,Q),this.hBlurMaterial.needsUpdate=!0}dispose(){this.saoRenderTarget.dispose(),this.blurIntermediateRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.normalMaterial.dispose(),this.saoMaterial.dispose(),this.vBlurMaterial.dispose(),this.hBlurMaterial.dispose(),this.materialCopy.dispose(),this.fsQuad.dispose()}}nY.OUTPUT={Default:0,SAO:1,Normal:2};var Ie={name:"SMAAEdgesShader",defines:{SMAA_THRESHOLD:"0.1"},uniforms:{tDiffuse:{value:null},resolution:{value:new RA(0.0009765625,0.001953125)}},vertexShader:`

		uniform vec2 resolution;

		varying vec2 vUv;
		varying vec4 vOffset[ 3 ];

		void SMAAEdgeDetectionVS( vec2 texcoord ) {
			vOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -1.0, 0.0, 0.0,  1.0 ); // WebGL port note: Changed sign in W component
			vOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4(  1.0, 0.0, 0.0, -1.0 ); // WebGL port note: Changed sign in W component
			vOffset[ 2 ] = texcoord.xyxy + resolution.xyxy * vec4( -2.0, 0.0, 0.0,  2.0 ); // WebGL port note: Changed sign in W component
		}

		void main() {

			vUv = uv;

			SMAAEdgeDetectionVS( vUv );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;

		varying vec2 vUv;
		varying vec4 vOffset[ 3 ];

		vec4 SMAAColorEdgeDetectionPS( vec2 texcoord, vec4 offset[3], sampler2D colorTex ) {
			vec2 threshold = vec2( SMAA_THRESHOLD, SMAA_THRESHOLD );

			// Calculate color deltas:
			vec4 delta;
			vec3 C = texture2D( colorTex, texcoord ).rgb;

			vec3 Cleft = texture2D( colorTex, offset[0].xy ).rgb;
			vec3 t = abs( C - Cleft );
			delta.x = max( max( t.r, t.g ), t.b );

			vec3 Ctop = texture2D( colorTex, offset[0].zw ).rgb;
			t = abs( C - Ctop );
			delta.y = max( max( t.r, t.g ), t.b );

			// We do the usual threshold:
			vec2 edges = step( threshold, delta.xy );

			// Then discard if there is no edge:
			if ( dot( edges, vec2( 1.0, 1.0 ) ) == 0.0 )
				discard;

			// Calculate right and bottom deltas:
			vec3 Cright = texture2D( colorTex, offset[1].xy ).rgb;
			t = abs( C - Cright );
			delta.z = max( max( t.r, t.g ), t.b );

			vec3 Cbottom  = texture2D( colorTex, offset[1].zw ).rgb;
			t = abs( C - Cbottom );
			delta.w = max( max( t.r, t.g ), t.b );

			// Calculate the maximum delta in the direct neighborhood:
			float maxDelta = max( max( max( delta.x, delta.y ), delta.z ), delta.w );

			// Calculate left-left and top-top deltas:
			vec3 Cleftleft  = texture2D( colorTex, offset[2].xy ).rgb;
			t = abs( C - Cleftleft );
			delta.z = max( max( t.r, t.g ), t.b );

			vec3 Ctoptop = texture2D( colorTex, offset[2].zw ).rgb;
			t = abs( C - Ctoptop );
			delta.w = max( max( t.r, t.g ), t.b );

			// Calculate the final maximum delta:
			maxDelta = max( max( maxDelta, delta.z ), delta.w );

			// Local contrast adaptation in action:
			edges.xy *= step( 0.5 * maxDelta, delta.xy );

			return vec4( edges, 0.0, 0.0 );
		}

		void main() {

			gl_FragColor = SMAAColorEdgeDetectionPS( vUv, vOffset, tDiffuse );

		}`},Ke={name:"SMAAWeightsShader",defines:{SMAA_MAX_SEARCH_STEPS:"8",SMAA_AREATEX_MAX_DISTANCE:"16",SMAA_AREATEX_PIXEL_SIZE:"( 1.0 / vec2( 160.0, 560.0 ) )",SMAA_AREATEX_SUBTEX_SIZE:"( 1.0 / 7.0 )"},uniforms:{tDiffuse:{value:null},tArea:{value:null},tSearch:{value:null},resolution:{value:new RA(0.0009765625,0.001953125)}},vertexShader:`

		uniform vec2 resolution;

		varying vec2 vUv;
		varying vec4 vOffset[ 3 ];
		varying vec2 vPixcoord;

		void SMAABlendingWeightCalculationVS( vec2 texcoord ) {
			vPixcoord = texcoord / resolution;

			// We will use these offsets for the searches later on (see @PSEUDO_GATHER4):
			vOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -0.25, 0.125, 1.25, 0.125 ); // WebGL port note: Changed sign in Y and W components
			vOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4( -0.125, 0.25, -0.125, -1.25 ); // WebGL port note: Changed sign in Y and W components

			// And these for the searches, they indicate the ends of the loops:
			vOffset[ 2 ] = vec4( vOffset[ 0 ].xz, vOffset[ 1 ].yw ) + vec4( -2.0, 2.0, -2.0, 2.0 ) * resolution.xxyy * float( SMAA_MAX_SEARCH_STEPS );

		}

		void main() {

			vUv = uv;

			SMAABlendingWeightCalculationVS( vUv );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		#define SMAASampleLevelZeroOffset( tex, coord, offset ) texture2D( tex, coord + float( offset ) * resolution, 0.0 )

		uniform sampler2D tDiffuse;
		uniform sampler2D tArea;
		uniform sampler2D tSearch;
		uniform vec2 resolution;

		varying vec2 vUv;
		varying vec4 vOffset[3];
		varying vec2 vPixcoord;

		#if __VERSION__ == 100
		vec2 round( vec2 x ) {
			return sign( x ) * floor( abs( x ) + 0.5 );
		}
		#endif

		float SMAASearchLength( sampler2D searchTex, vec2 e, float bias, float scale ) {
			// Not required if searchTex accesses are set to point:
			// float2 SEARCH_TEX_PIXEL_SIZE = 1.0 / float2(66.0, 33.0);
			// e = float2(bias, 0.0) + 0.5 * SEARCH_TEX_PIXEL_SIZE +
			//     e * float2(scale, 1.0) * float2(64.0, 32.0) * SEARCH_TEX_PIXEL_SIZE;
			e.r = bias + e.r * scale;
			return 255.0 * texture2D( searchTex, e, 0.0 ).r;
		}

		float SMAASearchXLeft( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {
			/**
				* @PSEUDO_GATHER4
				* This texcoord has been offset by (-0.25, -0.125) in the vertex shader to
				* sample between edge, thus fetching four edges in a row.
				* Sampling with different offsets in each direction allows to disambiguate
				* which edges are active from the four fetched ones.
				*/
			vec2 e = vec2( 0.0, 1.0 );

			for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) { // WebGL port note: Changed while to for
				e = texture2D( edgesTex, texcoord, 0.0 ).rg;
				texcoord -= vec2( 2.0, 0.0 ) * resolution;
				if ( ! ( texcoord.x > end && e.g > 0.8281 && e.r == 0.0 ) ) break;
			}

			// We correct the previous (-0.25, -0.125) offset we applied:
			texcoord.x += 0.25 * resolution.x;

			// The searches are bias by 1, so adjust the coords accordingly:
			texcoord.x += resolution.x;

			// Disambiguate the length added by the last step:
			texcoord.x += 2.0 * resolution.x; // Undo last step
			texcoord.x -= resolution.x * SMAASearchLength(searchTex, e, 0.0, 0.5);

			return texcoord.x;
		}

		float SMAASearchXRight( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {
			vec2 e = vec2( 0.0, 1.0 );

			for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) { // WebGL port note: Changed while to for
				e = texture2D( edgesTex, texcoord, 0.0 ).rg;
				texcoord += vec2( 2.0, 0.0 ) * resolution;
				if ( ! ( texcoord.x < end && e.g > 0.8281 && e.r == 0.0 ) ) break;
			}

			texcoord.x -= 0.25 * resolution.x;
			texcoord.x -= resolution.x;
			texcoord.x -= 2.0 * resolution.x;
			texcoord.x += resolution.x * SMAASearchLength( searchTex, e, 0.5, 0.5 );

			return texcoord.x;
		}

		float SMAASearchYUp( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {
			vec2 e = vec2( 1.0, 0.0 );

			for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) { // WebGL port note: Changed while to for
				e = texture2D( edgesTex, texcoord, 0.0 ).rg;
				texcoord += vec2( 0.0, 2.0 ) * resolution; // WebGL port note: Changed sign
				if ( ! ( texcoord.y > end && e.r > 0.8281 && e.g == 0.0 ) ) break;
			}

			texcoord.y -= 0.25 * resolution.y; // WebGL port note: Changed sign
			texcoord.y -= resolution.y; // WebGL port note: Changed sign
			texcoord.y -= 2.0 * resolution.y; // WebGL port note: Changed sign
			texcoord.y += resolution.y * SMAASearchLength( searchTex, e.gr, 0.0, 0.5 ); // WebGL port note: Changed sign

			return texcoord.y;
		}

		float SMAASearchYDown( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {
			vec2 e = vec2( 1.0, 0.0 );

			for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) { // WebGL port note: Changed while to for
				e = texture2D( edgesTex, texcoord, 0.0 ).rg;
				texcoord -= vec2( 0.0, 2.0 ) * resolution; // WebGL port note: Changed sign
				if ( ! ( texcoord.y < end && e.r > 0.8281 && e.g == 0.0 ) ) break;
			}

			texcoord.y += 0.25 * resolution.y; // WebGL port note: Changed sign
			texcoord.y += resolution.y; // WebGL port note: Changed sign
			texcoord.y += 2.0 * resolution.y; // WebGL port note: Changed sign
			texcoord.y -= resolution.y * SMAASearchLength( searchTex, e.gr, 0.5, 0.5 ); // WebGL port note: Changed sign

			return texcoord.y;
		}

		vec2 SMAAArea( sampler2D areaTex, vec2 dist, float e1, float e2, float offset ) {
			// Rounding prevents precision errors of bilinear filtering:
			vec2 texcoord = float( SMAA_AREATEX_MAX_DISTANCE ) * round( 4.0 * vec2( e1, e2 ) ) + dist;

			// We do a scale and bias for mapping to texel space:
			texcoord = SMAA_AREATEX_PIXEL_SIZE * texcoord + ( 0.5 * SMAA_AREATEX_PIXEL_SIZE );

			// Move to proper place, according to the subpixel offset:
			texcoord.y += SMAA_AREATEX_SUBTEX_SIZE * offset;

			return texture2D( areaTex, texcoord, 0.0 ).rg;
		}

		vec4 SMAABlendingWeightCalculationPS( vec2 texcoord, vec2 pixcoord, vec4 offset[ 3 ], sampler2D edgesTex, sampler2D areaTex, sampler2D searchTex, ivec4 subsampleIndices ) {
			vec4 weights = vec4( 0.0, 0.0, 0.0, 0.0 );

			vec2 e = texture2D( edgesTex, texcoord ).rg;

			if ( e.g > 0.0 ) { // Edge at north
				vec2 d;

				// Find the distance to the left:
				vec2 coords;
				coords.x = SMAASearchXLeft( edgesTex, searchTex, offset[ 0 ].xy, offset[ 2 ].x );
				coords.y = offset[ 1 ].y; // offset[1].y = texcoord.y - 0.25 * resolution.y (@CROSSING_OFFSET)
				d.x = coords.x;

				// Now fetch the left crossing edges, two at a time using bilinear
				// filtering. Sampling at -0.25 (see @CROSSING_OFFSET) enables to
				// discern what value each edge has:
				float e1 = texture2D( edgesTex, coords, 0.0 ).r;

				// Find the distance to the right:
				coords.x = SMAASearchXRight( edgesTex, searchTex, offset[ 0 ].zw, offset[ 2 ].y );
				d.y = coords.x;

				// We want the distances to be in pixel units (doing this here allow to
				// better interleave arithmetic and memory accesses):
				d = d / resolution.x - pixcoord.x;

				// SMAAArea below needs a sqrt, as the areas texture is compressed
				// quadratically:
				vec2 sqrt_d = sqrt( abs( d ) );

				// Fetch the right crossing edges:
				coords.y -= 1.0 * resolution.y; // WebGL port note: Added
				float e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 1, 0 ) ).r;

				// Ok, we know how this pattern looks like, now it is time for getting
				// the actual area:
				weights.rg = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.y ) );
			}

			if ( e.r > 0.0 ) { // Edge at west
				vec2 d;

				// Find the distance to the top:
				vec2 coords;

				coords.y = SMAASearchYUp( edgesTex, searchTex, offset[ 1 ].xy, offset[ 2 ].z );
				coords.x = offset[ 0 ].x; // offset[1].x = texcoord.x - 0.25 * resolution.x;
				d.x = coords.y;

				// Fetch the top crossing edges:
				float e1 = texture2D( edgesTex, coords, 0.0 ).g;

				// Find the distance to the bottom:
				coords.y = SMAASearchYDown( edgesTex, searchTex, offset[ 1 ].zw, offset[ 2 ].w );
				d.y = coords.y;

				// We want the distances to be in pixel units:
				d = d / resolution.y - pixcoord.y;

				// SMAAArea below needs a sqrt, as the areas texture is compressed
				// quadratically:
				vec2 sqrt_d = sqrt( abs( d ) );

				// Fetch the bottom crossing edges:
				coords.y -= 1.0 * resolution.y; // WebGL port note: Added
				float e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 0, 1 ) ).g;

				// Get the area for this direction:
				weights.ba = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.x ) );
			}

			return weights;
		}

		void main() {

			gl_FragColor = SMAABlendingWeightCalculationPS( vUv, vPixcoord, vOffset, tDiffuse, tArea, tSearch, ivec4( 0.0 ) );

		}`},Je={name:"SMAABlendShader",uniforms:{tDiffuse:{value:null},tColor:{value:null},resolution:{value:new RA(0.0009765625,0.001953125)}},vertexShader:`

		uniform vec2 resolution;

		varying vec2 vUv;
		varying vec4 vOffset[ 2 ];

		void SMAANeighborhoodBlendingVS( vec2 texcoord ) {
			vOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -1.0, 0.0, 0.0, 1.0 ); // WebGL port note: Changed sign in W component
			vOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4( 1.0, 0.0, 0.0, -1.0 ); // WebGL port note: Changed sign in W component
		}

		void main() {

			vUv = uv;

			SMAANeighborhoodBlendingVS( vUv );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform sampler2D tColor;
		uniform vec2 resolution;

		varying vec2 vUv;
		varying vec4 vOffset[ 2 ];

		vec4 SMAANeighborhoodBlendingPS( vec2 texcoord, vec4 offset[ 2 ], sampler2D colorTex, sampler2D blendTex ) {
			// Fetch the blending weights for current pixel:
			vec4 a;
			a.xz = texture2D( blendTex, texcoord ).xz;
			a.y = texture2D( blendTex, offset[ 1 ].zw ).g;
			a.w = texture2D( blendTex, offset[ 1 ].xy ).a;

			// Is there any blending weight with a value greater than 0.0?
			if ( dot(a, vec4( 1.0, 1.0, 1.0, 1.0 )) < 1e-5 ) {
				return texture2D( colorTex, texcoord, 0.0 );
			} else {
				// Up to 4 lines can be crossing a pixel (one through each edge). We
				// favor blending by choosing the line with the maximum weight for each
				// direction:
				vec2 offset;
				offset.x = a.a > a.b ? a.a : -a.b; // left vs. right
				offset.y = a.g > a.r ? -a.g : a.r; // top vs. bottom // WebGL port note: Changed signs

				// Then we go in the direction that has the maximum weight:
				if ( abs( offset.x ) > abs( offset.y )) { // horizontal vs. vertical
					offset.y = 0.0;
				} else {
					offset.x = 0.0;
				}

				// Fetch the opposite color and lerp by hand:
				vec4 C = texture2D( colorTex, texcoord, 0.0 );
				texcoord += sign( offset ) * resolution;
				vec4 Cop = texture2D( colorTex, texcoord, 0.0 );
				float s = abs( offset.x ) > abs( offset.y ) ? abs( offset.x ) : abs( offset.y );

				// WebGL port note: Added gamma correction
				C.xyz = pow(C.xyz, vec3(2.2));
				Cop.xyz = pow(Cop.xyz, vec3(2.2));
				vec4 mixed = mix(C, Cop, s);
				mixed.xyz = pow(mixed.xyz, vec3(1.0 / 2.2));

				return mixed;
			}
		}

		void main() {

			gl_FragColor = SMAANeighborhoodBlendingPS( vUv, vOffset, tColor, tDiffuse );

		}`};var hC={name:"SSAOShader",defines:{PERSPECTIVE_CAMERA:1,KERNEL_SIZE:32},uniforms:{tNormal:{value:null},tDepth:{value:null},tNoise:{value:null},kernel:{value:null},cameraNear:{value:null},cameraFar:{value:null},resolution:{value:new RA},cameraProjectionMatrix:{value:new MA},cameraInverseProjectionMatrix:{value:new MA},kernelRadius:{value:8},minDistance:{value:0.005},maxDistance:{value:0.05}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`
		uniform highp sampler2D tNormal;
		uniform highp sampler2D tDepth;
		uniform sampler2D tNoise;

		uniform vec3 kernel[ KERNEL_SIZE ];

		uniform vec2 resolution;

		uniform float cameraNear;
		uniform float cameraFar;
		uniform mat4 cameraProjectionMatrix;
		uniform mat4 cameraInverseProjectionMatrix;

		uniform float kernelRadius;
		uniform float minDistance; // avoid artifacts caused by neighbour fragments with minimal depth difference
		uniform float maxDistance; // avoid the influence of fragments which are too far away

		varying vec2 vUv;

		#include <packing>

		float getDepth( const in vec2 screenPosition ) {

			return texture2D( tDepth, screenPosition ).x;

		}

		float getLinearDepth( const in vec2 screenPosition ) {

			#if PERSPECTIVE_CAMERA == 1

				float fragCoordZ = texture2D( tDepth, screenPosition ).x;
				float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );
				return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );

			#else

				return texture2D( tDepth, screenPosition ).x;

			#endif

		}

		float getViewZ( const in float depth ) {

			#if PERSPECTIVE_CAMERA == 1

				return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );

			#else

				return orthographicDepthToViewZ( depth, cameraNear, cameraFar );

			#endif

		}

		vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {

			float clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];

			vec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );

			clipPosition *= clipW; // unprojection.

			return ( cameraInverseProjectionMatrix * clipPosition ).xyz;

		}

		vec3 getViewNormal( const in vec2 screenPosition ) {

			return unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );

		}

		void main() {

			float depth = getDepth( vUv );

			if ( depth == 1.0 ) {

				gl_FragColor = vec4( 1.0 ); // don't influence background
				
			} else {

				float viewZ = getViewZ( depth );

				vec3 viewPosition = getViewPosition( vUv, depth, viewZ );
				vec3 viewNormal = getViewNormal( vUv );

				vec2 noiseScale = vec2( resolution.x / 4.0, resolution.y / 4.0 );
				vec3 random = vec3( texture2D( tNoise, vUv * noiseScale ).r );

				// compute matrix used to reorient a kernel vector

				vec3 tangent = normalize( random - viewNormal * dot( random, viewNormal ) );
				vec3 bitangent = cross( viewNormal, tangent );
				mat3 kernelMatrix = mat3( tangent, bitangent, viewNormal );

				float occlusion = 0.0;

				for ( int i = 0; i < KERNEL_SIZE; i ++ ) {

					vec3 sampleVector = kernelMatrix * kernel[ i ]; // reorient sample vector in view space
					vec3 samplePoint = viewPosition + ( sampleVector * kernelRadius ); // calculate sample point

					vec4 samplePointNDC = cameraProjectionMatrix * vec4( samplePoint, 1.0 ); // project point and calculate NDC
					samplePointNDC /= samplePointNDC.w;

					vec2 samplePointUv = samplePointNDC.xy * 0.5 + 0.5; // compute uv coordinates

					float realDepth = getLinearDepth( samplePointUv ); // get linear depth from depth texture
					float sampleDepth = viewZToOrthographicDepth( samplePoint.z, cameraNear, cameraFar ); // compute linear depth of the sample view Z value
					float delta = sampleDepth - realDepth;

					if ( delta > minDistance && delta < maxDistance ) { // if fragment is before sample point, increase occlusion

						occlusion += 1.0;

					}

				}

				occlusion = clamp( occlusion / float( KERNEL_SIZE ), 0.0, 1.0 );

				gl_FragColor = vec4( vec3( 1.0 - occlusion ), 1.0 );

			}

		}`},vC={name:"SSAODepthShader",defines:{PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null}},vertexShader:`varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`uniform sampler2D tDepth;

		uniform float cameraNear;
		uniform float cameraFar;

		varying vec2 vUv;

		#include <packing>

		float getLinearDepth( const in vec2 screenPosition ) {

			#if PERSPECTIVE_CAMERA == 1

				float fragCoordZ = texture2D( tDepth, screenPosition ).x;
				float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );
				return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );

			#else

				return texture2D( tDepth, screenPosition ).x;

			#endif

		}

		void main() {

			float depth = getLinearDepth( vUv );
			gl_FragColor = vec4( vec3( 1.0 - depth ), 1.0 );

		}`},yC={name:"SSAOBlurShader",uniforms:{tDiffuse:{value:null},resolution:{value:new RA}},vertexShader:`varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`uniform sampler2D tDiffuse;

		uniform vec2 resolution;

		varying vec2 vUv;

		void main() {

			vec2 texelSize = ( 1.0 / resolution );
			float result = 0.0;

			for ( int i = - 2; i <= 2; i ++ ) {

				for ( int j = - 2; j <= 2; j ++ ) {

					vec2 offset = ( vec2( float( i ), float( j ) ) ) * texelSize;
					result += texture2D( tDiffuse, vUv + offset ).r;

				}

			}

			gl_FragColor = vec4( vec3( result / ( 5.0 * 5.0 ) ), 1.0 );

		}`};class U6 extends n0{constructor(A,Q,E,B,I=32){super();this.width=E!==void 0?E:512,this.height=B!==void 0?B:512,this.clear=!0,this.needsSwap=!1,this.camera=Q,this.scene=A,this.kernelRadius=8,this.kernel=[],this.noiseTexture=null,this.output=0,this.minDistance=0.005,this.maxDistance=0.1,this._visibilityCache=/*@__PURE__*/new Map,this.generateSampleKernel(I),this.generateRandomKernelRotations();const K=new S1;K.format=lI,K.type=dI,this.normalRenderTarget=new B0(this.width,this.height,{minFilter:L0,magFilter:L0,type:eA,depthTexture:K}),this.ssaoRenderTarget=new B0(this.width,this.height,{type:eA}),this.blurRenderTarget=this.ssaoRenderTarget.clone(),this.ssaoMaterial=new cA({defines:Object.assign({},hC.defines),uniforms:rA.clone(hC.uniforms),vertexShader:hC.vertexShader,fragmentShader:hC.fragmentShader,blending:M0}),this.ssaoMaterial.defines.KERNEL_SIZE=I,this.ssaoMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.ssaoMaterial.uniforms.tDepth.value=this.normalRenderTarget.depthTexture,this.ssaoMaterial.uniforms.tNoise.value=this.noiseTexture,this.ssaoMaterial.uniforms.kernel.value=this.kernel,this.ssaoMaterial.uniforms.cameraNear.value=this.camera.near,this.ssaoMaterial.uniforms.cameraFar.value=this.camera.far,this.ssaoMaterial.uniforms.resolution.value.set(this.width,this.height),this.ssaoMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssaoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.normalMaterial=new WE,this.normalMaterial.blending=M0,this.blurMaterial=new cA({defines:Object.assign({},yC.defines),uniforms:rA.clone(yC.uniforms),vertexShader:yC.vertexShader,fragmentShader:yC.fragmentShader}),this.blurMaterial.uniforms.tDiffuse.value=this.ssaoRenderTarget.texture,this.blurMaterial.uniforms.resolution.value.set(this.width,this.height),this.depthRenderMaterial=new cA({defines:Object.assign({},vC.defines),uniforms:rA.clone(vC.uniforms),vertexShader:vC.vertexShader,fragmentShader:vC.fragmentShader,blending:M0}),this.depthRenderMaterial.uniforms.tDepth.value=this.normalRenderTarget.depthTexture,this.depthRenderMaterial.uniforms.cameraNear.value=this.camera.near,this.depthRenderMaterial.uniforms.cameraFar.value=this.camera.far,this.copyMaterial=new cA({uniforms:rA.clone(zQ.uniforms),vertexShader:zQ.vertexShader,fragmentShader:zQ.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1,blendSrc:hB,blendDst:RE,blendEquation:V1,blendSrcAlpha:b8,blendDstAlpha:RE,blendEquationAlpha:V1}),this.fsQuad=new i0(null),this.originalClearColor=new WA}dispose(){this.normalRenderTarget.dispose(),this.ssaoRenderTarget.dispose(),this.blurRenderTarget.dispose(),this.normalMaterial.dispose(),this.blurMaterial.dispose(),this.copyMaterial.dispose(),this.depthRenderMaterial.dispose(),this.fsQuad.dispose()}render(A,Q,E){switch(this.overrideVisibility(),this.renderOverride(A,this.normalMaterial,this.normalRenderTarget,7829503,1),this.restoreVisibility(),this.ssaoMaterial.uniforms.kernelRadius.value=this.kernelRadius,this.ssaoMaterial.uniforms.minDistance.value=this.minDistance,this.ssaoMaterial.uniforms.maxDistance.value=this.maxDistance,this.renderPass(A,this.ssaoMaterial,this.ssaoRenderTarget),this.renderPass(A,this.blurMaterial,this.blurRenderTarget),this.output){case U6.OUTPUT.SSAO:this.copyMaterial.uniforms.tDiffuse.value=this.ssaoRenderTarget.texture,this.copyMaterial.blending=M0,this.renderPass(A,this.copyMaterial,this.renderToScreen?null:E);break;case U6.OUTPUT.Blur:this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.copyMaterial.blending=M0,this.renderPass(A,this.copyMaterial,this.renderToScreen?null:E);break;case U6.OUTPUT.Depth:this.renderPass(A,this.depthRenderMaterial,this.renderToScreen?null:E);break;case U6.OUTPUT.Normal:this.copyMaterial.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.copyMaterial.blending=M0,this.renderPass(A,this.copyMaterial,this.renderToScreen?null:E);break;case U6.OUTPUT.Default:this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.copyMaterial.blending=bE,this.renderPass(A,this.copyMaterial,this.renderToScreen?null:E);break;default:console.warn("THREE.SSAOPass: Unknown output type.")}}renderPass(A,Q,E,B,I){A.getClearColor(this.originalClearColor);const K=A.getClearAlpha(),J=A.autoClear;if(A.setRenderTarget(E),A.autoClear=!1,B!==void 0&&B!==null)A.setClearColor(B),A.setClearAlpha(I||0),A.clear();this.fsQuad.material=Q,this.fsQuad.render(A),A.autoClear=J,A.setClearColor(this.originalClearColor),A.setClearAlpha(K)}renderOverride(A,Q,E,B,I){A.getClearColor(this.originalClearColor);const K=A.getClearAlpha(),J=A.autoClear;if(A.setRenderTarget(E),A.autoClear=!1,B=Q.clearColor||B,I=Q.clearAlpha||I,B!==void 0&&B!==null)A.setClearColor(B),A.setClearAlpha(I||0),A.clear();this.scene.overrideMaterial=Q,A.render(this.scene,this.camera),this.scene.overrideMaterial=null,A.autoClear=J,A.setClearColor(this.originalClearColor),A.setClearAlpha(K)}setSize(A,Q){this.width=A,this.height=Q,this.ssaoRenderTarget.setSize(A,Q),this.normalRenderTarget.setSize(A,Q),this.blurRenderTarget.setSize(A,Q),this.ssaoMaterial.uniforms.resolution.value.set(A,Q),this.ssaoMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssaoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.blurMaterial.uniforms.resolution.value.set(A,Q)}generateSampleKernel(A){const Q=this.kernel;for(let E=0;E<A;E++){const B=new f;B.x=Math.random()*2-1,B.y=Math.random()*2-1,B.z=Math.random(),B.normalize();let I=E/A;I=EQ.lerp(0.1,1,I*I),B.multiplyScalar(I),Q.push(B)}}generateRandomKernelRotations(){const E=new TC,I=new Float32Array(16);for(let K=0;K<16;K++){const J=Math.random()*2-1,C=Math.random()*2-1;I[K]=E.noise3d(J,C,0)}this.noiseTexture=new d0(I,4,4,T1,NQ),this.noiseTexture.wrapS=CQ,this.noiseTexture.wrapT=CQ,this.noiseTexture.needsUpdate=!0}overrideVisibility(){const A=this.scene,Q=this._visibilityCache;A.traverse(function(E){if(Q.set(E,E.visible),E.isPoints||E.isLine)E.visible=!1})}restoreVisibility(){const A=this.scene,Q=this._visibilityCache;A.traverse(function(E){const B=Q.get(E);E.visible=B}),Q.clear()}}U6.OUTPUT={Default:0,SSAO:1,Blur:2,Depth:3,Normal:4};var iE={name:"SSRShader",defines:{MAX_STEP:0,PERSPECTIVE_CAMERA:!0,DISTANCE_ATTENUATION:!0,FRESNEL:!0,INFINITE_THICK:!1,SELECTIVE:!1},uniforms:{tDiffuse:{value:null},tNormal:{value:null},tMetalness:{value:null},tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null},resolution:{value:new RA},cameraProjectionMatrix:{value:new MA},cameraInverseProjectionMatrix:{value:new MA},opacity:{value:0.5},maxDistance:{value:180},cameraRange:{value:0},thickness:{value:0.018}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}

	`,fragmentShader:`
		// precision highp float;
		precision highp sampler2D;
		varying vec2 vUv;
		uniform sampler2D tDepth;
		uniform sampler2D tNormal;
		uniform sampler2D tMetalness;
		uniform sampler2D tDiffuse;
		uniform float cameraRange;
		uniform vec2 resolution;
		uniform float opacity;
		uniform float cameraNear;
		uniform float cameraFar;
		uniform float maxDistance;
		uniform float thickness;
		uniform mat4 cameraProjectionMatrix;
		uniform mat4 cameraInverseProjectionMatrix;
		#include <packing>
		float pointToLineDistance(vec3 x0, vec3 x1, vec3 x2) {
			//x0: point, x1: linePointA, x2: linePointB
			//https://mathworld.wolfram.com/Point-LineDistance3-Dimensional.html
			return length(cross(x0-x1,x0-x2))/length(x2-x1);
		}
		float pointPlaneDistance(vec3 point,vec3 planePoint,vec3 planeNormal){
			// https://mathworld.wolfram.com/Point-PlaneDistance.html
			//// https://en.wikipedia.org/wiki/Plane_(geometry)
			//// http://paulbourke.net/geometry/pointlineplane/
			float a=planeNormal.x,b=planeNormal.y,c=planeNormal.z;
			float x0=point.x,y0=point.y,z0=point.z;
			float x=planePoint.x,y=planePoint.y,z=planePoint.z;
			float d=-(a*x+b*y+c*z);
			float distance=(a*x0+b*y0+c*z0+d)/sqrt(a*a+b*b+c*c);
			return distance;
		}
		float getDepth( const in vec2 uv ) {
			return texture2D( tDepth, uv ).x;
		}
		float getViewZ( const in float depth ) {
			#ifdef PERSPECTIVE_CAMERA
				return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );
			#else
				return orthographicDepthToViewZ( depth, cameraNear, cameraFar );
			#endif
		}
		vec3 getViewPosition( const in vec2 uv, const in float depth/*clip space*/, const in float clipW ) {
			vec4 clipPosition = vec4( ( vec3( uv, depth ) - 0.5 ) * 2.0, 1.0 );//ndc
			clipPosition *= clipW; //clip
			return ( cameraInverseProjectionMatrix * clipPosition ).xyz;//view
		}
		vec3 getViewNormal( const in vec2 uv ) {
			return unpackRGBToNormal( texture2D( tNormal, uv ).xyz );
		}
		vec2 viewPositionToXY(vec3 viewPosition){
			vec2 xy;
			vec4 clip=cameraProjectionMatrix*vec4(viewPosition,1);
			xy=clip.xy;//clip
			float clipW=clip.w;
			xy/=clipW;//NDC
			xy=(xy+1.)/2.;//uv
			xy*=resolution;//screen
			return xy;
		}
		void main(){
			#ifdef SELECTIVE
				float metalness=texture2D(tMetalness,vUv).r;
				if(metalness==0.) return;
			#endif

			float depth = getDepth( vUv );
			float viewZ = getViewZ( depth );
			if(-viewZ>=cameraFar) return;

			float clipW = cameraProjectionMatrix[2][3] * viewZ+cameraProjectionMatrix[3][3];
			vec3 viewPosition=getViewPosition( vUv, depth, clipW );

			vec2 d0=gl_FragCoord.xy;
			vec2 d1;

			vec3 viewNormal=getViewNormal( vUv );

			#ifdef PERSPECTIVE_CAMERA
				vec3 viewIncidentDir=normalize(viewPosition);
				vec3 viewReflectDir=reflect(viewIncidentDir,viewNormal);
			#else
				vec3 viewIncidentDir=vec3(0,0,-1);
				vec3 viewReflectDir=reflect(viewIncidentDir,viewNormal);
			#endif

			float maxReflectRayLen=maxDistance/dot(-viewIncidentDir,viewNormal);
			// dot(a,b)==length(a)*length(b)*cos(theta) // https://www.mathsisfun.com/algebra/vectors-dot-product.html
			// if(a.isNormalized&&b.isNormalized) dot(a,b)==cos(theta)
			// maxDistance/maxReflectRayLen=cos(theta)
			// maxDistance/maxReflectRayLen==dot(a,b)
			// maxReflectRayLen==maxDistance/dot(a,b)

			vec3 d1viewPosition=viewPosition+viewReflectDir*maxReflectRayLen;
			#ifdef PERSPECTIVE_CAMERA
				if(d1viewPosition.z>-cameraNear){
					//https://tutorial.math.lamar.edu/Classes/CalcIII/EqnsOfLines.aspx
					float t=(-cameraNear-viewPosition.z)/viewReflectDir.z;
					d1viewPosition=viewPosition+viewReflectDir*t;
				}
			#endif
			d1=viewPositionToXY(d1viewPosition);

			float totalLen=length(d1-d0);
			float xLen=d1.x-d0.x;
			float yLen=d1.y-d0.y;
			float totalStep=max(abs(xLen),abs(yLen));
			float xSpan=xLen/totalStep;
			float ySpan=yLen/totalStep;
			for(float i=0.;i<float(MAX_STEP);i++){
				if(i>=totalStep) break;
				vec2 xy=vec2(d0.x+i*xSpan,d0.y+i*ySpan);
				if(xy.x<0.||xy.x>resolution.x||xy.y<0.||xy.y>resolution.y) break;
				float s=length(xy-d0)/totalLen;
				vec2 uv=xy/resolution;

				float d = getDepth(uv);
				float vZ = getViewZ( d );
				if(-vZ>=cameraFar) continue;
				float cW = cameraProjectionMatrix[2][3] * vZ+cameraProjectionMatrix[3][3];
				vec3 vP=getViewPosition( uv, d, cW );

				#ifdef PERSPECTIVE_CAMERA
					// https://comp.nus.edu.sg/~lowkl/publications/lowk_persp_interp_techrep.pdf
					float recipVPZ=1./viewPosition.z;
					float viewReflectRayZ=1./(recipVPZ+s*(1./d1viewPosition.z-recipVPZ));
				#else
					float viewReflectRayZ=viewPosition.z+s*(d1viewPosition.z-viewPosition.z);
				#endif

				// if(viewReflectRayZ>vZ) continue; // will cause "npm run make-screenshot webgl_postprocessing_ssr" high probability hang.
				// https://github.com/mrdoob/three.js/pull/21539#issuecomment-821061164
				if(viewReflectRayZ<=vZ){

					bool hit;
					#ifdef INFINITE_THICK
						hit=true;
					#else
						float away=pointToLineDistance(vP,viewPosition,d1viewPosition);

						float minThickness;
						vec2 xyNeighbor=xy;
						xyNeighbor.x+=1.;
						vec2 uvNeighbor=xyNeighbor/resolution;
						vec3 vPNeighbor=getViewPosition(uvNeighbor,d,cW);
						minThickness=vPNeighbor.x-vP.x;
						minThickness*=3.;
						float tk=max(minThickness,thickness);

						hit=away<=tk;
					#endif

					if(hit){
						vec3 vN=getViewNormal( uv );
						if(dot(viewReflectDir,vN)>=0.) continue;
						float distance=pointPlaneDistance(vP,viewPosition,viewNormal);
						if(distance>maxDistance) break;
						float op=opacity;
						#ifdef DISTANCE_ATTENUATION
							float ratio=1.-(distance/maxDistance);
							float attenuation=ratio*ratio;
							op=opacity*attenuation;
						#endif
						#ifdef FRESNEL
							float fresnelCoe=(dot(viewIncidentDir,viewReflectDir)+1.)/2.;
							op*=fresnelCoe;
						#endif
						vec4 reflectColor=texture2D(tDiffuse,uv);
						gl_FragColor.xyz=reflectColor.xyz;
						gl_FragColor.a=op;
						break;
					}
				}
			}
		}
	`},xC={name:"SSRDepthShader",defines:{PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}

	`,fragmentShader:`

		uniform sampler2D tDepth;

		uniform float cameraNear;
		uniform float cameraFar;

		varying vec2 vUv;

		#include <packing>

		float getLinearDepth( const in vec2 uv ) {

			#if PERSPECTIVE_CAMERA == 1

				float fragCoordZ = texture2D( tDepth, uv ).x;
				float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );
				return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );

			#else

				return texture2D( tDepth, uv ).x;

			#endif

		}

		void main() {

			float depth = getLinearDepth( vUv );
			float d = 1.0 - depth;
			// d=(d-.999)*1000.;
			gl_FragColor = vec4( vec3( d ), 1.0 );

		}

	`},KB={name:"SSRBlurShader",uniforms:{tDiffuse:{value:null},resolution:{value:new RA},opacity:{value:0.5}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}

	`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec2 resolution;
		varying vec2 vUv;
		void main() {
			//reverse engineering from PhotoShop blur filter, then change coefficient

			vec2 texelSize = ( 1.0 / resolution );

			vec4 c=texture2D(tDiffuse,vUv);

			vec2 offset;

			offset=(vec2(-1,0))*texelSize;
			vec4 cl=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(1,0))*texelSize;
			vec4 cr=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(0,-1))*texelSize;
			vec4 cb=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(0,1))*texelSize;
			vec4 ct=texture2D(tDiffuse,vUv+offset);

			// float coeCenter=.5;
			// float coeSide=.125;
			float coeCenter=.2;
			float coeSide=.2;
			float a=c.a*coeCenter+cl.a*coeSide+cr.a*coeSide+cb.a*coeSide+ct.a*coeSide;
			vec3 rgb=(c.rgb*c.a*coeCenter+cl.rgb*cl.a*coeSide+cr.rgb*cr.a*coeSide+cb.rgb*cb.a*coeSide+ct.rgb*ct.a*coeSide)/a;
			gl_FragColor=vec4(rgb,a);

		}
	`};class eB extends n0{constructor({renderer:A,scene:Q,camera:E,width:B,height:I,selects:K,bouncing:J=!1,groundReflector:C}){super();this.width=B!==void 0?B:512,this.height=I!==void 0?I:512,this.clear=!0,this.renderer=A,this.scene=Q,this.camera=E,this.groundReflector=C,this.opacity=iE.uniforms.opacity.value,this.output=0,this.maxDistance=iE.uniforms.maxDistance.value,this.thickness=iE.uniforms.thickness.value,this.tempColor=new WA,this._selects=K,this.selective=Array.isArray(this._selects),Object.defineProperty(this,"selects",{get(){return this._selects},set(Y){if(this._selects===Y)return;if(this._selects=Y,Array.isArray(Y))this.selective=!0,this.ssrMaterial.defines.SELECTIVE=!0,this.ssrMaterial.needsUpdate=!0;else this.selective=!1,this.ssrMaterial.defines.SELECTIVE=!1,this.ssrMaterial.needsUpdate=!0}}),this._bouncing=J,Object.defineProperty(this,"bouncing",{get(){return this._bouncing},set(Y){if(this._bouncing===Y)return;if(this._bouncing=Y,Y)this.ssrMaterial.uniforms.tDiffuse.value=this.prevRenderTarget.texture;else this.ssrMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture}}),this.blur=!0,this._distanceAttenuation=iE.defines.DISTANCE_ATTENUATION,Object.defineProperty(this,"distanceAttenuation",{get(){return this._distanceAttenuation},set(Y){if(this._distanceAttenuation===Y)return;this._distanceAttenuation=Y,this.ssrMaterial.defines.DISTANCE_ATTENUATION=Y,this.ssrMaterial.needsUpdate=!0}}),this._fresnel=iE.defines.FRESNEL,Object.defineProperty(this,"fresnel",{get(){return this._fresnel},set(Y){if(this._fresnel===Y)return;this._fresnel=Y,this.ssrMaterial.defines.FRESNEL=Y,this.ssrMaterial.needsUpdate=!0}}),this._infiniteThick=iE.defines.INFINITE_THICK,Object.defineProperty(this,"infiniteThick",{get(){return this._infiniteThick},set(Y){if(this._infiniteThick===Y)return;this._infiniteThick=Y,this.ssrMaterial.defines.INFINITE_THICK=Y,this.ssrMaterial.needsUpdate=!0}});const U=new S1;U.type=j9,U.minFilter=L0,U.magFilter=L0,this.beautyRenderTarget=new B0(this.width,this.height,{minFilter:L0,magFilter:L0,type:eA,depthTexture:U,depthBuffer:!0}),this.prevRenderTarget=new B0(this.width,this.height,{minFilter:L0,magFilter:L0}),this.normalRenderTarget=new B0(this.width,this.height,{minFilter:L0,magFilter:L0,type:eA}),this.metalnessRenderTarget=new B0(this.width,this.height,{minFilter:L0,magFilter:L0,type:eA}),this.ssrRenderTarget=new B0(this.width,this.height,{minFilter:L0,magFilter:L0}),this.blurRenderTarget=this.ssrRenderTarget.clone(),this.blurRenderTarget2=this.ssrRenderTarget.clone(),this.ssrMaterial=new cA({defines:Object.assign({},iE.defines,{MAX_STEP:Math.sqrt(this.width*this.width+this.height*this.height)}),uniforms:rA.clone(iE.uniforms),vertexShader:iE.vertexShader,fragmentShader:iE.fragmentShader,blending:M0}),this.ssrMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.ssrMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.ssrMaterial.defines.SELECTIVE=this.selective,this.ssrMaterial.needsUpdate=!0,this.ssrMaterial.uniforms.tMetalness.value=this.metalnessRenderTarget.texture,this.ssrMaterial.uniforms.tDepth.value=this.beautyRenderTarget.depthTexture,this.ssrMaterial.uniforms.cameraNear.value=this.camera.near,this.ssrMaterial.uniforms.cameraFar.value=this.camera.far,this.ssrMaterial.uniforms.thickness.value=this.thickness,this.ssrMaterial.uniforms.resolution.value.set(this.width,this.height),this.ssrMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssrMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.normalMaterial=new WE,this.normalMaterial.blending=M0,this.metalnessOnMaterial=new V0({color:"white"}),this.metalnessOffMaterial=new V0({color:"black"}),this.blurMaterial=new cA({defines:Object.assign({},KB.defines),uniforms:rA.clone(KB.uniforms),vertexShader:KB.vertexShader,fragmentShader:KB.fragmentShader}),this.blurMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.blurMaterial.uniforms.resolution.value.set(this.width,this.height),this.blurMaterial2=new cA({defines:Object.assign({},KB.defines),uniforms:rA.clone(KB.uniforms),vertexShader:KB.vertexShader,fragmentShader:KB.fragmentShader}),this.blurMaterial2.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.blurMaterial2.uniforms.resolution.value.set(this.width,this.height),this.depthRenderMaterial=new cA({defines:Object.assign({},xC.defines),uniforms:rA.clone(xC.uniforms),vertexShader:xC.vertexShader,fragmentShader:xC.fragmentShader,blending:M0}),this.depthRenderMaterial.uniforms.tDepth.value=this.beautyRenderTarget.depthTexture,this.depthRenderMaterial.uniforms.cameraNear.value=this.camera.near,this.depthRenderMaterial.uniforms.cameraFar.value=this.camera.far,this.copyMaterial=new cA({uniforms:rA.clone(zQ.uniforms),vertexShader:zQ.vertexShader,fragmentShader:zQ.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1,blendSrc:T9,blendDst:S9,blendEquation:V1,blendSrcAlpha:T9,blendDstAlpha:S9,blendEquationAlpha:V1}),this.fsQuad=new i0(null),this.originalClearColor=new WA}dispose(){this.beautyRenderTarget.dispose(),this.prevRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.metalnessRenderTarget.dispose(),this.ssrRenderTarget.dispose(),this.blurRenderTarget.dispose(),this.blurRenderTarget2.dispose(),this.normalMaterial.dispose(),this.metalnessOnMaterial.dispose(),this.metalnessOffMaterial.dispose(),this.blurMaterial.dispose(),this.blurMaterial2.dispose(),this.copyMaterial.dispose(),this.depthRenderMaterial.dispose(),this.fsQuad.dispose()}render(A,Q){if(A.setRenderTarget(this.beautyRenderTarget),A.clear(),this.groundReflector)this.groundReflector.visible=!1,this.groundReflector.doRender(this.renderer,this.scene,this.camera),this.groundReflector.visible=!0;if(A.render(this.scene,this.camera),this.groundReflector)this.groundReflector.visible=!1;if(this.renderOverride(A,this.normalMaterial,this.normalRenderTarget,0,0),this.selective)this.renderMetalness(A,this.metalnessOnMaterial,this.metalnessRenderTarget,0,0);if(this.ssrMaterial.uniforms.opacity.value=this.opacity,this.ssrMaterial.uniforms.maxDistance.value=this.maxDistance,this.ssrMaterial.uniforms.thickness.value=this.thickness,this.renderPass(A,this.ssrMaterial,this.ssrRenderTarget),this.blur)this.renderPass(A,this.blurMaterial,this.blurRenderTarget),this.renderPass(A,this.blurMaterial2,this.blurRenderTarget2);switch(this.output){case eB.OUTPUT.Default:if(this.bouncing){if(this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=M0,this.renderPass(A,this.copyMaterial,this.prevRenderTarget),this.blur)this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture;else this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture;this.copyMaterial.blending=V9,this.renderPass(A,this.copyMaterial,this.prevRenderTarget),this.copyMaterial.uniforms.tDiffuse.value=this.prevRenderTarget.texture,this.copyMaterial.blending=M0,this.renderPass(A,this.copyMaterial,this.renderToScreen?null:Q)}else{if(this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=M0,this.renderPass(A,this.copyMaterial,this.renderToScreen?null:Q),this.blur)this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture;else this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture;this.copyMaterial.blending=V9,this.renderPass(A,this.copyMaterial,this.renderToScreen?null:Q)}break;case eB.OUTPUT.SSR:if(this.blur)this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture;else this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture;if(this.copyMaterial.blending=M0,this.renderPass(A,this.copyMaterial,this.renderToScreen?null:Q),this.bouncing){if(this.blur)this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture;else this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture;this.copyMaterial.blending=M0,this.renderPass(A,this.copyMaterial,this.prevRenderTarget),this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=V9,this.renderPass(A,this.copyMaterial,this.prevRenderTarget)}break;case eB.OUTPUT.Beauty:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=M0,this.renderPass(A,this.copyMaterial,this.renderToScreen?null:Q);break;case eB.OUTPUT.Depth:this.renderPass(A,this.depthRenderMaterial,this.renderToScreen?null:Q);break;case eB.OUTPUT.Normal:this.copyMaterial.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.copyMaterial.blending=M0,this.renderPass(A,this.copyMaterial,this.renderToScreen?null:Q);break;case eB.OUTPUT.Metalness:this.copyMaterial.uniforms.tDiffuse.value=this.metalnessRenderTarget.texture,this.copyMaterial.blending=M0,this.renderPass(A,this.copyMaterial,this.renderToScreen?null:Q);break;default:console.warn("THREE.SSRPass: Unknown output type.")}}renderPass(A,Q,E,B,I){this.originalClearColor.copy(A.getClearColor(this.tempColor));const K=A.getClearAlpha(this.tempColor),J=A.autoClear;if(A.setRenderTarget(E),A.autoClear=!1,B!==void 0&&B!==null)A.setClearColor(B),A.setClearAlpha(I||0),A.clear();this.fsQuad.material=Q,this.fsQuad.render(A),A.autoClear=J,A.setClearColor(this.originalClearColor),A.setClearAlpha(K)}renderOverride(A,Q,E,B,I){this.originalClearColor.copy(A.getClearColor(this.tempColor));const K=A.getClearAlpha(this.tempColor),J=A.autoClear;if(A.setRenderTarget(E),A.autoClear=!1,B=Q.clearColor||B,I=Q.clearAlpha||I,B!==void 0&&B!==null)A.setClearColor(B),A.setClearAlpha(I||0),A.clear();this.scene.overrideMaterial=Q,A.render(this.scene,this.camera),this.scene.overrideMaterial=null,A.autoClear=J,A.setClearColor(this.originalClearColor),A.setClearAlpha(K)}renderMetalness(A,Q,E,B,I){this.originalClearColor.copy(A.getClearColor(this.tempColor));const K=A.getClearAlpha(this.tempColor),J=A.autoClear;if(A.setRenderTarget(E),A.autoClear=!1,B=Q.clearColor||B,I=Q.clearAlpha||I,B!==void 0&&B!==null)A.setClearColor(B),A.setClearAlpha(I||0),A.clear();this.scene.traverseVisible((C)=>{if(C._SSRPassBackupMaterial=C.material,this._selects.includes(C))C.material=this.metalnessOnMaterial;else C.material=this.metalnessOffMaterial}),A.render(this.scene,this.camera),this.scene.traverseVisible((C)=>{C.material=C._SSRPassBackupMaterial}),A.autoClear=J,A.setClearColor(this.originalClearColor),A.setClearAlpha(K)}setSize(A,Q){this.width=A,this.height=Q,this.ssrMaterial.defines.MAX_STEP=Math.sqrt(A*A+Q*Q),this.ssrMaterial.needsUpdate=!0,this.beautyRenderTarget.setSize(A,Q),this.prevRenderTarget.setSize(A,Q),this.ssrRenderTarget.setSize(A,Q),this.normalRenderTarget.setSize(A,Q),this.metalnessRenderTarget.setSize(A,Q),this.blurRenderTarget.setSize(A,Q),this.blurRenderTarget2.setSize(A,Q),this.ssrMaterial.uniforms.resolution.value.set(A,Q),this.ssrMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssrMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.blurMaterial.uniforms.resolution.value.set(A,Q),this.blurMaterial2.uniforms.resolution.value.set(A,Q)}}eB.OUTPUT={Default:0,SSR:1,Beauty:3,Depth:4,Normal:5,Metalness:7};var WT={name:"LuminosityHighPassShader",shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new WA(0)},defaultOpacity:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 defaultColor;
		uniform float defaultOpacity;
		uniform float luminosityThreshold;
		uniform float smoothWidth;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			float v = luminance( texel.xyz );

			vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

			float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

			gl_FragColor = mix( outputColor, texel, alpha );

		}`};class gC extends n0{constructor(A,Q,E,B){super();this.strength=Q!==void 0?Q:1,this.radius=E,this.threshold=B,this.resolution=A!==void 0?new RA(A.x,A.y):new RA(256,256),this.clearColor=new WA(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let I=Math.round(this.resolution.x/2),K=Math.round(this.resolution.y/2);this.renderTargetBright=new B0(I,K,{type:eA}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let H=0;H<this.nMips;H++){const R=new B0(I,K,{type:eA});R.texture.name="UnrealBloomPass.h"+H,R.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(R);const G=new B0(I,K,{type:eA});G.texture.name="UnrealBloomPass.v"+H,G.texture.generateMipmaps=!1,this.renderTargetsVertical.push(G),I=Math.round(I/2),K=Math.round(K/2)}const J=WT;this.highPassUniforms=rA.clone(J.uniforms),this.highPassUniforms.luminosityThreshold.value=B,this.highPassUniforms.smoothWidth.value=0.01,this.materialHighPassFilter=new cA({uniforms:this.highPassUniforms,vertexShader:J.vertexShader,fragmentShader:J.fragmentShader}),this.separableBlurMaterials=[];const C=[3,5,7,9,11];I=Math.round(this.resolution.x/2),K=Math.round(this.resolution.y/2);for(let H=0;H<this.nMips;H++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(C[H])),this.separableBlurMaterials[H].uniforms.invSize.value=new RA(1/I,1/K),I=Math.round(I/2),K=Math.round(K/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=Q,this.compositeMaterial.uniforms.bloomRadius.value=0.1;const U=[1,0.8,0.6,0.4,0.2];this.compositeMaterial.uniforms.bloomFactors.value=U,this.bloomTintColors=[new f(1,1,1),new f(1,1,1),new f(1,1,1),new f(1,1,1),new f(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const Y=zQ;this.copyUniforms=rA.clone(Y.uniforms),this.blendMaterial=new cA({uniforms:this.copyUniforms,vertexShader:Y.vertexShader,fragmentShader:Y.fragmentShader,blending:gE,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new WA,this.oldClearAlpha=1,this.basic=new V0,this.fsQuad=new i0(null)}dispose(){for(let A=0;A<this.renderTargetsHorizontal.length;A++)this.renderTargetsHorizontal[A].dispose();for(let A=0;A<this.renderTargetsVertical.length;A++)this.renderTargetsVertical[A].dispose();this.renderTargetBright.dispose();for(let A=0;A<this.separableBlurMaterials.length;A++)this.separableBlurMaterials[A].dispose();this.compositeMaterial.dispose(),this.blendMaterial.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(A,Q){let E=Math.round(A/2),B=Math.round(Q/2);this.renderTargetBright.setSize(E,B);for(let I=0;I<this.nMips;I++)this.renderTargetsHorizontal[I].setSize(E,B),this.renderTargetsVertical[I].setSize(E,B),this.separableBlurMaterials[I].uniforms.invSize.value=new RA(1/E,1/B),E=Math.round(E/2),B=Math.round(B/2)}render(A,Q,E,B,I){A.getClearColor(this._oldClearColor),this.oldClearAlpha=A.getClearAlpha();const K=A.autoClear;if(A.autoClear=!1,A.setClearColor(this.clearColor,0),I)A.state.buffers.stencil.setTest(!1);if(this.renderToScreen)this.fsQuad.material=this.basic,this.basic.map=E.texture,A.setRenderTarget(null),A.clear(),this.fsQuad.render(A);this.highPassUniforms.tDiffuse.value=E.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,A.setRenderTarget(this.renderTargetBright),A.clear(),this.fsQuad.render(A);let J=this.renderTargetBright;for(let C=0;C<this.nMips;C++)this.fsQuad.material=this.separableBlurMaterials[C],this.separableBlurMaterials[C].uniforms.colorTexture.value=J.texture,this.separableBlurMaterials[C].uniforms.direction.value=gC.BlurDirectionX,A.setRenderTarget(this.renderTargetsHorizontal[C]),A.clear(),this.fsQuad.render(A),this.separableBlurMaterials[C].uniforms.colorTexture.value=this.renderTargetsHorizontal[C].texture,this.separableBlurMaterials[C].uniforms.direction.value=gC.BlurDirectionY,A.setRenderTarget(this.renderTargetsVertical[C]),A.clear(),this.fsQuad.render(A),J=this.renderTargetsVertical[C];if(this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,A.setRenderTarget(this.renderTargetsHorizontal[0]),A.clear(),this.fsQuad.render(A),this.fsQuad.material=this.blendMaterial,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,I)A.state.buffers.stencil.setTest(!0);if(this.renderToScreen)A.setRenderTarget(null),this.fsQuad.render(A);else A.setRenderTarget(E),this.fsQuad.render(A);A.setClearColor(this._oldClearColor,this.oldClearAlpha),A.autoClear=K}getSeperableBlurMaterial(A){const Q=[];for(let E=0;E<A;E++)Q.push(0.39894*Math.exp(-0.5*E*E/(A*A))/A);return new cA({defines:{KERNEL_RADIUS:A},uniforms:{colorTexture:{value:null},invSize:{value:new RA(0.5,0.5)},direction:{value:new RA(0.5,0.5)},gaussianCoefficients:{value:Q}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 invSize;
				uniform vec2 direction;
				uniform float gaussianCoefficients[KERNEL_RADIUS];

				void main() {
					float weightSum = gaussianCoefficients[0];
					vec3 diffuseSum = texture2D( colorTexture, vUv ).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianCoefficients[i];
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset ).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset ).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(A){return new cA({defines:{NUM_MIPS:A},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}}gC.BlurDirectionX=new RA(1,0);gC.BlurDirectionY=new RA(0,1);var ZYA=new f,RYA=new MA,OYA=new MA,$YA=new f,WYA=new f;var qYA=new f,NYA=new C0,LYA=new f;var DYA=new MA,MYA=new MA;var cYA={name:"ColorCorrectionShader",uniforms:{tDiffuse:{value:null},powRGB:{value:new f(2,2,2)},mulRGB:{value:new f(1,1,1)},addRGB:{value:new f(0,0,0)}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 powRGB;
		uniform vec3 mulRGB;
		uniform vec3 addRGB;

		varying vec2 vUv;

		void main() {

			gl_FragColor = texture2D( tDiffuse, vUv );
			gl_FragColor.rgb = mulRGB * pow( ( gl_FragColor.rgb + addRGB ), powRGB );

		}`};var nYA={name:"ColorifyShader",uniforms:{tDiffuse:{value:null},color:{value:new WA(16777215)}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform vec3 color;
		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			float v = luminance( texel.xyz );

			gl_FragColor = vec4( v * color, texel.w );

		}`};var aYA={name:"FXAAShader",uniforms:{tDiffuse:{value:null},resolution:{value:new RA(0.0009765625,0.001953125)}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`
		precision highp float;

		uniform sampler2D tDiffuse;

		uniform vec2 resolution;

		varying vec2 vUv;

		// FXAA 3.11 implementation by NVIDIA, ported to WebGL by Agost Biro (biro@archilogic.com)

		//----------------------------------------------------------------------------------
		// File:        es3-keplerFXAAassetsshaders/FXAA_DefaultES.frag
		// SDK Version: v3.00
		// Email:       gameworks@nvidia.com
		// Site:        http://developer.nvidia.com/
		//
		// Copyright (c) 2014-2015, NVIDIA CORPORATION. All rights reserved.
		//
		// Redistribution and use in source and binary forms, with or without
		// modification, are permitted provided that the following conditions
		// are met:
		//  * Redistributions of source code must retain the above copyright
		//    notice, this list of conditions and the following disclaimer.
		//  * Redistributions in binary form must reproduce the above copyright
		//    notice, this list of conditions and the following disclaimer in the
		//    documentation and/or other materials provided with the distribution.
		//  * Neither the name of NVIDIA CORPORATION nor the names of its
		//    contributors may be used to endorse or promote products derived
		//    from this software without specific prior written permission.
		//
		// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS ''AS IS'' AND ANY
		// EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
		// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
		// PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR
		// CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
		// EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
		// PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
		// PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
		// OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
		// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
		// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
		//
		//----------------------------------------------------------------------------------

		#ifndef FXAA_DISCARD
			//
			// Only valid for PC OpenGL currently.
			// Probably will not work when FXAA_GREEN_AS_LUMA = 1.
			//
			// 1 = Use discard on pixels which don't need AA.
			//     For APIs which enable concurrent TEX+ROP from same surface.
			// 0 = Return unchanged color on pixels which don't need AA.
			//
			#define FXAA_DISCARD 0
		#endif

		/*--------------------------------------------------------------------------*/
		#define FxaaTexTop(t, p) texture2D(t, p, -100.0)
		#define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r), -100.0)
		/*--------------------------------------------------------------------------*/

		#define NUM_SAMPLES 5

		// assumes colors have premultipliedAlpha, so that the calculated color contrast is scaled by alpha
		float contrast( vec4 a, vec4 b ) {
			vec4 diff = abs( a - b );
			return max( max( max( diff.r, diff.g ), diff.b ), diff.a );
		}

		/*============================================================================

									FXAA3 QUALITY - PC

		============================================================================*/

		/*--------------------------------------------------------------------------*/
		vec4 FxaaPixelShader(
			vec2 posM,
			sampler2D tex,
			vec2 fxaaQualityRcpFrame,
			float fxaaQualityEdgeThreshold,
			float fxaaQualityinvEdgeThreshold
		) {
			vec4 rgbaM = FxaaTexTop(tex, posM);
			vec4 rgbaS = FxaaTexOff(tex, posM, vec2( 0.0, 1.0), fxaaQualityRcpFrame.xy);
			vec4 rgbaE = FxaaTexOff(tex, posM, vec2( 1.0, 0.0), fxaaQualityRcpFrame.xy);
			vec4 rgbaN = FxaaTexOff(tex, posM, vec2( 0.0,-1.0), fxaaQualityRcpFrame.xy);
			vec4 rgbaW = FxaaTexOff(tex, posM, vec2(-1.0, 0.0), fxaaQualityRcpFrame.xy);
			// . S .
			// W M E
			// . N .

			bool earlyExit = max( max( max(
					contrast( rgbaM, rgbaN ),
					contrast( rgbaM, rgbaS ) ),
					contrast( rgbaM, rgbaE ) ),
					contrast( rgbaM, rgbaW ) )
					< fxaaQualityEdgeThreshold;
			// . 0 .
			// 0 0 0
			// . 0 .

			#if (FXAA_DISCARD == 1)
				if(earlyExit) FxaaDiscard;
			#else
				if(earlyExit) return rgbaM;
			#endif

			float contrastN = contrast( rgbaM, rgbaN );
			float contrastS = contrast( rgbaM, rgbaS );
			float contrastE = contrast( rgbaM, rgbaE );
			float contrastW = contrast( rgbaM, rgbaW );

			float relativeVContrast = ( contrastN + contrastS ) - ( contrastE + contrastW );
			relativeVContrast *= fxaaQualityinvEdgeThreshold;

			bool horzSpan = relativeVContrast > 0.;
			// . 1 .
			// 0 0 0
			// . 1 .

			// 45 deg edge detection and corners of objects, aka V/H contrast is too similar
			if( abs( relativeVContrast ) < .3 ) {
				// locate the edge
				vec2 dirToEdge;
				dirToEdge.x = contrastE > contrastW ? 1. : -1.;
				dirToEdge.y = contrastS > contrastN ? 1. : -1.;
				// . 2 .      . 1 .
				// 1 0 2  ~=  0 0 1
				// . 1 .      . 0 .

				// tap 2 pixels and see which ones are "outside" the edge, to
				// determine if the edge is vertical or horizontal

				vec4 rgbaAlongH = FxaaTexOff(tex, posM, vec2( dirToEdge.x, -dirToEdge.y ), fxaaQualityRcpFrame.xy);
				float matchAlongH = contrast( rgbaM, rgbaAlongH );
				// . 1 .
				// 0 0 1
				// . 0 H

				vec4 rgbaAlongV = FxaaTexOff(tex, posM, vec2( -dirToEdge.x, dirToEdge.y ), fxaaQualityRcpFrame.xy);
				float matchAlongV = contrast( rgbaM, rgbaAlongV );
				// V 1 .
				// 0 0 1
				// . 0 .

				relativeVContrast = matchAlongV - matchAlongH;
				relativeVContrast *= fxaaQualityinvEdgeThreshold;

				if( abs( relativeVContrast ) < .3 ) { // 45 deg edge
					// 1 1 .
					// 0 0 1
					// . 0 1

					// do a simple blur
					return mix(
						rgbaM,
						(rgbaN + rgbaS + rgbaE + rgbaW) * .25,
						.4
					);
				}

				horzSpan = relativeVContrast > 0.;
			}

			if(!horzSpan) rgbaN = rgbaW;
			if(!horzSpan) rgbaS = rgbaE;
			// . 0 .      1
			// 1 0 1  ->  0
			// . 0 .      1

			bool pairN = contrast( rgbaM, rgbaN ) > contrast( rgbaM, rgbaS );
			if(!pairN) rgbaN = rgbaS;

			vec2 offNP;
			offNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;
			offNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;

			bool doneN = false;
			bool doneP = false;

			float nDist = 0.;
			float pDist = 0.;

			vec2 posN = posM;
			vec2 posP = posM;

			int iterationsUsedN = 0;
			int iterationsUsedP = 0;
			for( int i = 0; i < NUM_SAMPLES; i++ ) {

				float increment = float(i + 1);

				if(!doneN) {
					nDist += increment;
					posN = posM + offNP * nDist;
					vec4 rgbaEndN = FxaaTexTop(tex, posN.xy);
					doneN = contrast( rgbaEndN, rgbaM ) > contrast( rgbaEndN, rgbaN );
					iterationsUsedN = i;
				}

				if(!doneP) {
					pDist += increment;
					posP = posM - offNP * pDist;
					vec4 rgbaEndP = FxaaTexTop(tex, posP.xy);
					doneP = contrast( rgbaEndP, rgbaM ) > contrast( rgbaEndP, rgbaN );
					iterationsUsedP = i;
				}

				if(doneN || doneP) break;
			}


			if ( !doneP && !doneN ) return rgbaM; // failed to find end of edge

			float dist = min(
				doneN ? float( iterationsUsedN ) / float( NUM_SAMPLES - 1 ) : 1.,
				doneP ? float( iterationsUsedP ) / float( NUM_SAMPLES - 1 ) : 1.
			);

			// hacky way of reduces blurriness of mostly diagonal edges
			// but reduces AA quality
			dist = pow(dist, .5);

			dist = 1. - dist;

			return mix(
				rgbaM,
				rgbaN,
				dist * .5
			);
		}

		void main() {
			const float edgeDetectionQuality = .2;
			const float invEdgeDetectionQuality = 1. / edgeDetectionQuality;

			gl_FragColor = FxaaPixelShader(
				vUv,
				tDiffuse,
				resolution,
				edgeDetectionQuality, // [0,1] contrast needed, otherwise early discard
				invEdgeDetectionQuality
			);

		}
	`};var QHA={name:"FreiChenShader",uniforms:{tDiffuse:{value:null},aspect:{value:new RA(512,512)}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		varying vec2 vUv;

		uniform vec2 aspect;

		vec2 texel = vec2( 1.0 / aspect.x, 1.0 / aspect.y );


		mat3 G[9];

		// hard coded matrix values!!!! as suggested in https://github.com/neilmendoza/ofxPostProcessing/blob/master/src/EdgePass.cpp#L45

		const mat3 g0 = mat3( 0.3535533845424652, 0, -0.3535533845424652, 0.5, 0, -0.5, 0.3535533845424652, 0, -0.3535533845424652 );
		const mat3 g1 = mat3( 0.3535533845424652, 0.5, 0.3535533845424652, 0, 0, 0, -0.3535533845424652, -0.5, -0.3535533845424652 );
		const mat3 g2 = mat3( 0, 0.3535533845424652, -0.5, -0.3535533845424652, 0, 0.3535533845424652, 0.5, -0.3535533845424652, 0 );
		const mat3 g3 = mat3( 0.5, -0.3535533845424652, 0, -0.3535533845424652, 0, 0.3535533845424652, 0, 0.3535533845424652, -0.5 );
		const mat3 g4 = mat3( 0, -0.5, 0, 0.5, 0, 0.5, 0, -0.5, 0 );
		const mat3 g5 = mat3( -0.5, 0, 0.5, 0, 0, 0, 0.5, 0, -0.5 );
		const mat3 g6 = mat3( 0.1666666716337204, -0.3333333432674408, 0.1666666716337204, -0.3333333432674408, 0.6666666865348816, -0.3333333432674408, 0.1666666716337204, -0.3333333432674408, 0.1666666716337204 );
		const mat3 g7 = mat3( -0.3333333432674408, 0.1666666716337204, -0.3333333432674408, 0.1666666716337204, 0.6666666865348816, 0.1666666716337204, -0.3333333432674408, 0.1666666716337204, -0.3333333432674408 );
		const mat3 g8 = mat3( 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408 );

		void main(void)
		{

			G[0] = g0,
			G[1] = g1,
			G[2] = g2,
			G[3] = g3,
			G[4] = g4,
			G[5] = g5,
			G[6] = g6,
			G[7] = g7,
			G[8] = g8;

			mat3 I;
			float cnv[9];
			vec3 sample;

		/* fetch the 3x3 neighbourhood and use the RGB vector's length as intensity value */
			for (float i=0.0; i<3.0; i++) {
				for (float j=0.0; j<3.0; j++) {
					sample = texture2D(tDiffuse, vUv + texel * vec2(i-1.0,j-1.0) ).rgb;
					I[int(i)][int(j)] = length(sample);
				}
			}

		/* calculate the convolution values for all the masks */
			for (int i=0; i<9; i++) {
				float dp3 = dot(G[i][0], I[0]) + dot(G[i][1], I[1]) + dot(G[i][2], I[2]);
				cnv[i] = dp3 * dp3;
			}

			float M = (cnv[0] + cnv[1]) + (cnv[2] + cnv[3]);
			float S = (cnv[4] + cnv[5]) + (cnv[6] + cnv[7]) + (cnv[8] + M);

			gl_FragColor = vec4(vec3(sqrt(M/S)), 1.0);
		}`};var KHA={name:"GodRaysGenerateShader",uniforms:{tInput:{value:null},fStepSize:{value:1},vSunPositionScreenSpace:{value:new f}},vertexShader:`

		varying vec2 vUv;

		void main() {

		 vUv = uv;
		 gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

	 }`,fragmentShader:`

		#define TAPS_PER_PASS 6.0

		varying vec2 vUv;

		uniform sampler2D tInput;

		uniform vec3 vSunPositionScreenSpace;
		uniform float fStepSize; // filter step size

		void main() {

		// delta from current pixel to "sun" position

			vec2 delta = vSunPositionScreenSpace.xy - vUv;
			float dist = length( delta );

		// Step vector (uv space)

			vec2 stepv = fStepSize * delta / dist;

		// Number of iterations between pixel and sun

			float iters = dist/fStepSize;

			vec2 uv = vUv.xy;
			float col = 0.0;

		// This breaks ANGLE in Chrome 22
		//	- see http://code.google.com/p/chromium/issues/detail?id=153105

		/*
		// Unrolling didnt do much on my hardware (ATI Mobility Radeon 3450),
		// so i've just left the loop

		"for ( float i = 0.0; i < TAPS_PER_PASS; i += 1.0 ) {",

		// Accumulate samples, making sure we dont walk past the light source.

		// The check for uv.y < 1 would not be necessary with "border" UV wrap
		// mode, with a black border color. I don't think this is currently
		// exposed by three.js. As a result there might be artifacts when the
		// sun is to the left, right or bottom of screen as these cases are
		// not specifically handled.

		"	col += ( i <= iters && uv.y < 1.0 ? texture2D( tInput, uv ).r : 0.0 );",
		"	uv += stepv;",

		"}",
		*/

		// Unrolling loop manually makes it work in ANGLE

			float f = min( 1.0, max( vSunPositionScreenSpace.z / 1000.0, 0.0 ) ); // used to fade out godrays

			if ( 0.0 <= iters && uv.y < 1.0 ) col += texture2D( tInput, uv ).r * f;
			uv += stepv;

			if ( 1.0 <= iters && uv.y < 1.0 ) col += texture2D( tInput, uv ).r * f;
			uv += stepv;

			if ( 2.0 <= iters && uv.y < 1.0 ) col += texture2D( tInput, uv ).r * f;
			uv += stepv;

			if ( 3.0 <= iters && uv.y < 1.0 ) col += texture2D( tInput, uv ).r * f;
			uv += stepv;

			if ( 4.0 <= iters && uv.y < 1.0 ) col += texture2D( tInput, uv ).r * f;
			uv += stepv;

			if ( 5.0 <= iters && uv.y < 1.0 ) col += texture2D( tInput, uv ).r * f;
			uv += stepv;

		// Should technically be dividing by 'iters but 'TAPS_PER_PASS' smooths out
		// objectionable artifacts, in particular near the sun position. The side
		// effect is that the result is darker than it should be around the sun, as
		// TAPS_PER_PASS is greater than the number of samples actually accumulated.
		// When the result is inverted (in the shader 'godrays_combine this produces
		// a slight bright spot at the position of the sun, even when it is occluded.

			gl_FragColor = vec4( col/TAPS_PER_PASS );
			gl_FragColor.a = 1.0;

		}`};var JHA={name:"GodRaysFakeSunShader",uniforms:{vSunPositionScreenSpace:{value:new f},fAspect:{value:1},sunColor:{value:new WA(16772608)},bgColor:{value:new WA(0)}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		varying vec2 vUv;

		uniform vec3 vSunPositionScreenSpace;
		uniform float fAspect;

		uniform vec3 sunColor;
		uniform vec3 bgColor;

		void main() {

			vec2 diff = vUv - vSunPositionScreenSpace.xy;

		// Correct for aspect ratio

			diff.x *= fAspect;

			float prop = clamp( length( diff ) / 0.5, 0.0, 1.0 );
			prop = 0.35 * pow( 1.0 - prop, 3.0 );

			gl_FragColor.xyz = ( vSunPositionScreenSpace.z > 0.0 ) ? mix( sunColor, bgColor, 1.0 - prop ) : bgColor;
			gl_FragColor.w = 1.0;

		}`};var $HA={name:"NormalMapShader",uniforms:{heightMap:{value:null},resolution:{value:new RA(512,512)},scale:{value:new RA(1,1)},height:{value:0.05}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float height;
		uniform vec2 resolution;
		uniform sampler2D heightMap;

		varying vec2 vUv;

		void main() {

			float val = texture2D( heightMap, vUv ).x;

			float valU = texture2D( heightMap, vUv + vec2( 1.0 / resolution.x, 0.0 ) ).x;
			float valV = texture2D( heightMap, vUv + vec2( 0.0, 1.0 / resolution.y ) ).x;

			gl_FragColor = vec4( ( 0.5 * normalize( vec3( val - valU, val - valV, height  ) ) + 0.5 ), 1.0 );

		}`};var NHA={name:"SobelOperatorShader",uniforms:{tDiffuse:{value:null},resolution:{value:new RA}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec2 resolution;
		varying vec2 vUv;

		void main() {

			vec2 texel = vec2( 1.0 / resolution.x, 1.0 / resolution.y );

		// kernel definition (in glsl matrices are filled in column-major order)

			const mat3 Gx = mat3( -1, -2, -1, 0, 0, 0, 1, 2, 1 ); // x direction kernel
			const mat3 Gy = mat3( -1, 0, 1, -2, 0, 2, -1, 0, 1 ); // y direction kernel

		// fetch the 3x3 neighbourhood of a fragment

		// first column

			float tx0y0 = texture2D( tDiffuse, vUv + texel * vec2( -1, -1 ) ).r;
			float tx0y1 = texture2D( tDiffuse, vUv + texel * vec2( -1,  0 ) ).r;
			float tx0y2 = texture2D( tDiffuse, vUv + texel * vec2( -1,  1 ) ).r;

		// second column

			float tx1y0 = texture2D( tDiffuse, vUv + texel * vec2(  0, -1 ) ).r;
			float tx1y1 = texture2D( tDiffuse, vUv + texel * vec2(  0,  0 ) ).r;
			float tx1y2 = texture2D( tDiffuse, vUv + texel * vec2(  0,  1 ) ).r;

		// third column

			float tx2y0 = texture2D( tDiffuse, vUv + texel * vec2(  1, -1 ) ).r;
			float tx2y1 = texture2D( tDiffuse, vUv + texel * vec2(  1,  0 ) ).r;
			float tx2y2 = texture2D( tDiffuse, vUv + texel * vec2(  1,  1 ) ).r;

		// gradient value in x direction

			float valueGx = Gx[0][0] * tx0y0 + Gx[1][0] * tx1y0 + Gx[2][0] * tx2y0 +
				Gx[0][1] * tx0y1 + Gx[1][1] * tx1y1 + Gx[2][1] * tx2y1 +
				Gx[0][2] * tx0y2 + Gx[1][2] * tx1y2 + Gx[2][2] * tx2y2;

		// gradient value in y direction

			float valueGy = Gy[0][0] * tx0y0 + Gy[1][0] * tx1y0 + Gy[2][0] * tx2y0 +
				Gy[0][1] * tx0y1 + Gy[1][1] * tx1y1 + Gy[2][1] * tx2y1 +
				Gy[0][2] * tx0y2 + Gy[1][2] * tx1y2 + Gy[2][2] * tx2y2;

		// magnitute of the total gradient

			float G = sqrt( ( valueGx * valueGx ) + ( valueGy * valueGy ) );

			gl_FragColor = vec4( vec3( G ), 1 );

		}`};function Ce(A,Q,E){return A.split(Q).join(E)}var Ue=R0.meshphong_frag.slice(0,R0.meshphong_frag.indexOf("void main() {")),Ye=R0.meshphong_frag.slice(R0.meshphong_frag.indexOf("void main() {")),MHA={name:"SubsurfaceScatteringShader",uniforms:rA.merge([hQ.phong.uniforms,{thicknessMap:{value:null},thicknessColor:{value:new WA(16777215)},thicknessDistortion:{value:0.1},thicknessAmbient:{value:0},thicknessAttenuation:{value:0.1},thicknessPower:{value:2},thicknessScale:{value:10}}]),vertexShader:["#define USE_UV",R0.meshphong_vert].join("\n"),fragmentShader:["#define USE_UV","#define SUBSURFACE",Ue,"uniform sampler2D thicknessMap;","uniform float thicknessPower;","uniform float thicknessScale;","uniform float thicknessDistortion;","uniform float thicknessAmbient;","uniform float thicknessAttenuation;","uniform vec3 thicknessColor;","void RE_Direct_Scattering(const in IncidentLight directLight, const in vec2 uv, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, inout ReflectedLight reflectedLight) {","	vec3 thickness = thicknessColor * texture2D(thicknessMap, uv).r;","	vec3 scatteringHalf = normalize(directLight.direction + (geometryNormal * thicknessDistortion));","	float scatteringDot = pow(saturate(dot(geometryViewDir, -scatteringHalf)), thicknessPower) * thicknessScale;","	vec3 scatteringIllu = (scatteringDot + thicknessAmbient) * thickness;","	reflectedLight.directDiffuse += scatteringIllu * thicknessAttenuation * directLight.color;","}",Ye.replace("#include <lights_fragment_begin>",Ce(R0.lights_fragment_begin,"RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );",["RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );","#if defined( SUBSURFACE ) && defined( USE_UV )"," RE_Direct_Scattering(directLight, vUv, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, reflectedLight);","#endif"].join("\n")))].join("\n")};var THA={uniforms:{uDirLightPos:{value:new f},uDirLightColor:{value:new WA(15658734)},uAmbientLightColor:{value:new WA(328965)},uBaseColor:{value:new WA(16777215)}},vertexShader:`

		varying vec3 vNormal;
		varying vec3 vRefract;

		void main() {

			vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
			vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
			vec3 worldNormal = normalize ( mat3( modelMatrix[0].xyz, modelMatrix[1].xyz, modelMatrix[2].xyz ) * normal );

			vNormal = normalize( normalMatrix * normal );

			vec3 I = worldPosition.xyz - cameraPosition;
			vRefract = refract( normalize( I ), worldNormal, 1.02 );

			gl_Position = projectionMatrix * mvPosition;

		}`,fragmentShader:`

		uniform vec3 uBaseColor;

		uniform vec3 uDirLightPos;
		uniform vec3 uDirLightColor;

		uniform vec3 uAmbientLightColor;

		varying vec3 vNormal;

		varying vec3 vRefract;

		void main() {

			float directionalLightWeighting = max( dot( normalize( vNormal ), uDirLightPos ), 0.0);
			vec3 lightWeighting = uAmbientLightColor + uDirLightColor * directionalLightWeighting;

			float intensity = smoothstep( - 0.5, 1.0, pow( length(lightWeighting), 20.0 ) );
			intensity += length(lightWeighting) * 0.2;

			float cameraWeighting = dot( normalize( vNormal ), vRefract );
			intensity += pow( 1.0 - length( cameraWeighting ), 6.0 );
			intensity = intensity * 0.2 + 0.3;

			if ( intensity < 0.50 ) {

				gl_FragColor = vec4( 2.0 * intensity * uBaseColor, 1.0 );

			} else {

				gl_FragColor = vec4( 1.0 - 2.0 * ( 1.0 - intensity ) * ( 1.0 - uBaseColor ), 1.0 );

			}

			#include <colorspace_fragment>

		}`},SHA={uniforms:{uDirLightPos:{value:new f},uDirLightColor:{value:new WA(15658734)},uAmbientLightColor:{value:new WA(328965)},uBaseColor:{value:new WA(15658734)},uLineColor1:{value:new WA(8421504)},uLineColor2:{value:new WA(0)},uLineColor3:{value:new WA(0)},uLineColor4:{value:new WA(0)}},vertexShader:`

		varying vec3 vNormal;

		void main() {

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			vNormal = normalize( normalMatrix * normal );

		}`,fragmentShader:`

		uniform vec3 uBaseColor;
		uniform vec3 uLineColor1;
		uniform vec3 uLineColor2;
		uniform vec3 uLineColor3;
		uniform vec3 uLineColor4;

		uniform vec3 uDirLightPos;
		uniform vec3 uDirLightColor;

		uniform vec3 uAmbientLightColor;

		varying vec3 vNormal;

		void main() {

			float camera = max( dot( normalize( vNormal ), vec3( 0.0, 0.0, 1.0 ) ), 0.4);
			float light = max( dot( normalize( vNormal ), uDirLightPos ), 0.0);

			gl_FragColor = vec4( uBaseColor, 1.0 );

			if ( length(uAmbientLightColor + uDirLightColor * light) < 1.00 ) {

				gl_FragColor *= vec4( uLineColor1, 1.0 );

			}

			if ( length(uAmbientLightColor + uDirLightColor * camera) < 0.50 ) {

				gl_FragColor *= vec4( uLineColor2, 1.0 );

			}

			#include <colorspace_fragment>

		}`},PHA={uniforms:{uDirLightPos:{value:new f},uDirLightColor:{value:new WA(15658734)},uAmbientLightColor:{value:new WA(328965)},uBaseColor:{value:new WA(16777215)},uLineColor1:{value:new WA(0)},uLineColor2:{value:new WA(0)},uLineColor3:{value:new WA(0)},uLineColor4:{value:new WA(0)}},vertexShader:`

		varying vec3 vNormal;

		void main() {

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			vNormal = normalize( normalMatrix * normal );

		}`,fragmentShader:`

		uniform vec3 uBaseColor;
		uniform vec3 uLineColor1;
		uniform vec3 uLineColor2;
		uniform vec3 uLineColor3;
		uniform vec3 uLineColor4;

		uniform vec3 uDirLightPos;
		uniform vec3 uDirLightColor;

		uniform vec3 uAmbientLightColor;

		varying vec3 vNormal;

		void main() {

			float directionalLightWeighting = max( dot( normalize(vNormal), uDirLightPos ), 0.0);
			vec3 lightWeighting = uAmbientLightColor + uDirLightColor * directionalLightWeighting;

			gl_FragColor = vec4( uBaseColor, 1.0 );

			if ( length(lightWeighting) < 1.00 ) {

				if ( mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0) {

					gl_FragColor = vec4( uLineColor1, 1.0 );

				}

			}

			if ( length(lightWeighting) < 0.75 ) {

				if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0) {

					gl_FragColor = vec4( uLineColor2, 1.0 );

				}

			}

			if ( length(lightWeighting) < 0.50 ) {

				if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0) {

					gl_FragColor = vec4( uLineColor3, 1.0 );

				}

			}

			if ( length(lightWeighting) < 0.3465 ) {

				if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0) {

					gl_FragColor = vec4( uLineColor4, 1.0 );

			}

			}

			#include <colorspace_fragment>

		}`},_HA={uniforms:{uDirLightPos:{value:new f},uDirLightColor:{value:new WA(15658734)},uAmbientLightColor:{value:new WA(328965)},uBaseColor:{value:new WA(16777215)},uLineColor1:{value:new WA(0)}},vertexShader:`

		varying vec3 vNormal;

		void main() {

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			vNormal = normalize( normalMatrix * normal );

		}`,fragmentShader:`

		uniform vec3 uBaseColor;
		uniform vec3 uLineColor1;
		uniform vec3 uLineColor2;
		uniform vec3 uLineColor3;
		uniform vec3 uLineColor4;

		uniform vec3 uDirLightPos;
		uniform vec3 uDirLightColor;

		uniform vec3 uAmbientLightColor;

		varying vec3 vNormal;

		void main() {

			float directionalLightWeighting = max( dot( normalize(vNormal), uDirLightPos ), 0.0);
			vec3 lightWeighting = uAmbientLightColor + uDirLightColor * directionalLightWeighting;

			gl_FragColor = vec4( uBaseColor, 1.0 );

			if ( length(lightWeighting) < 1.00 ) {

				if ( ( mod(gl_FragCoord.x, 4.001) + mod(gl_FragCoord.y, 4.0) ) > 6.00 ) {

					gl_FragColor = vec4( uLineColor1, 1.0 );

				}

			}

			if ( length(lightWeighting) < 0.50 ) {

				if ( ( mod(gl_FragCoord.x + 2.0, 4.001) + mod(gl_FragCoord.y + 2.0, 4.0) ) > 6.00 ) {

					gl_FragColor = vec4( uLineColor1, 1.0 );

				}

			}

			#include <colorspace_fragment>

		}`};var hHA={name:"TriangleBlurShader",uniforms:{texture:{value:null},delta:{value:new RA(1,1)}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		#include <common>

		#define ITERATIONS 10.0

		uniform sampler2D texture;
		uniform vec2 delta;

		varying vec2 vUv;

		void main() {

			vec4 color = vec4( 0.0 );

			float total = 0.0;

		// randomize the lookup values to hide the fixed number of samples

			float offset = rand( vUv );

			for ( float t = -ITERATIONS; t <= ITERATIONS; t ++ ) {

				float percent = ( t + offset - 0.5 ) / ITERATIONS;
				float weight = 1.0 - abs( percent );

				color += texture2D( texture, vUv + delta * percent ) * weight;
				total += weight;

			}

			gl_FragColor = color / total;

		}`};var gHA={name:"VelocityShader",uniforms:rA.merge([fA.common,fA.displacementmap,{modelMatrixPrev:{value:new MA},currentProjectionViewMatrix:{value:new MA},previousProjectionViewMatrix:{value:new MA}}]),vertexShader:`
#define NORMAL

#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )

	varying vec3 vViewPosition;

#endif

#include <common>
#include <packing>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>

uniform mat4 previousProjectionViewMatrix;
uniform mat4 currentProjectionViewMatrix;

uniform mat4 modelMatrixPrev;

varying vec4 clipPositionCurrent;
varying vec4 clipPositionPrevious;

void main() {


	#include <uv_vertex>

	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>

	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <displacementmap_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>

#ifdef USE_SKINNING

	vec4 mvPosition = modelViewMatrix * skinned;
	clipPositionCurrent  = currentProjectionViewMatrix * modelMatrix * skinned;
	clipPositionPrevious = previousProjectionViewMatrix * modelMatrixPrev * skinned;

#else

	vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );
	clipPositionCurrent  = currentProjectionViewMatrix * modelMatrix * vec4( transformed, 1.0 );
	clipPositionPrevious = previousProjectionViewMatrix * modelMatrixPrev * vec4( transformed, 1.0 );

#endif

	gl_Position = projectionMatrix * mvPosition;

	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
}
`,fragmentShader:`
#define NORMAL

uniform float opacity;

#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>

varying vec4 clipPositionCurrent;
varying vec4 clipPositionPrevious;

void main() {

	vec4 diffuseColor = vec4( 1.0 );
	diffuseColor.a = opacity;

	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>

	vec2 ndcPositionCurrent  = clipPositionCurrent.xy/clipPositionCurrent.w;
	vec2 ndcPositionPrevious = clipPositionPrevious.xy/clipPositionPrevious.w;
	vec2 vel = ( ndcPositionCurrent - ndcPositionPrevious ) * 0.5;
	vel = vel * 0.5 + 0.5;
	vec2 v1 = packDepthToRG(vel.x);
	vec2 v2 = packDepthToRG(vel.y);
	gl_FragColor = vec4(v1.x, v1.y, v2.x, v2.y);

	#include <logdepthbuf_fragment>

}

`};var cHA={uniforms:{u_size:{value:new f(1,1,1)},u_renderstyle:{value:0},u_renderthreshold:{value:0.5},u_clim:{value:new RA(1,1)},u_data:{value:null},u_cmdata:{value:null}},vertexShader:`

		varying vec4 v_nearpos;
		varying vec4 v_farpos;
		varying vec3 v_position;

		void main() {
				// Prepare transforms to map to "camera view". See also:
				// https://threejs.org/docs/#api/renderers/webgl/WebGLProgram
				mat4 viewtransformf = modelViewMatrix;
				mat4 viewtransformi = inverse(modelViewMatrix);

				// Project local vertex coordinate to camera position. Then do a step
				// backward (in cam coords) to the near clipping plane, and project back. Do
				// the same for the far clipping plane. This gives us all the information we
				// need to calculate the ray and truncate it to the viewing cone.
				vec4 position4 = vec4(position, 1.0);
				vec4 pos_in_cam = viewtransformf * position4;

				// Intersection of ray and near clipping plane (z = -1 in clip coords)
				pos_in_cam.z = -pos_in_cam.w;
				v_nearpos = viewtransformi * pos_in_cam;

				// Intersection of ray and far clipping plane (z = +1 in clip coords)
				pos_in_cam.z = pos_in_cam.w;
				v_farpos = viewtransformi * pos_in_cam;

				// Set varyings and output pos
				v_position = position;
				gl_Position = projectionMatrix * viewMatrix * modelMatrix * position4;
		}`,fragmentShader:`

				precision highp float;
				precision mediump sampler3D;

				uniform vec3 u_size;
				uniform int u_renderstyle;
				uniform float u_renderthreshold;
				uniform vec2 u_clim;

				uniform sampler3D u_data;
				uniform sampler2D u_cmdata;

				varying vec3 v_position;
				varying vec4 v_nearpos;
				varying vec4 v_farpos;

				// The maximum distance through our rendering volume is sqrt(3).
				const int MAX_STEPS = 887;	// 887 for 512^3, 1774 for 1024^3
				const int REFINEMENT_STEPS = 4;
				const float relative_step_size = 1.0;
				const vec4 ambient_color = vec4(0.2, 0.4, 0.2, 1.0);
				const vec4 diffuse_color = vec4(0.8, 0.2, 0.2, 1.0);
				const vec4 specular_color = vec4(1.0, 1.0, 1.0, 1.0);
				const float shininess = 40.0;

				void cast_mip(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray);
				void cast_iso(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray);

				float sample1(vec3 texcoords);
				vec4 apply_colormap(float val);
				vec4 add_lighting(float val, vec3 loc, vec3 step, vec3 view_ray);


				void main() {
						// Normalize clipping plane info
						vec3 farpos = v_farpos.xyz / v_farpos.w;
						vec3 nearpos = v_nearpos.xyz / v_nearpos.w;

						// Calculate unit vector pointing in the view direction through this fragment.
						vec3 view_ray = normalize(nearpos.xyz - farpos.xyz);

						// Compute the (negative) distance to the front surface or near clipping plane.
						// v_position is the back face of the cuboid, so the initial distance calculated in the dot
						// product below is the distance from near clip plane to the back of the cuboid
						float distance = dot(nearpos - v_position, view_ray);
						distance = max(distance, min((-0.5 - v_position.x) / view_ray.x,
																				(u_size.x - 0.5 - v_position.x) / view_ray.x));
						distance = max(distance, min((-0.5 - v_position.y) / view_ray.y,
																				(u_size.y - 0.5 - v_position.y) / view_ray.y));
						distance = max(distance, min((-0.5 - v_position.z) / view_ray.z,
																				(u_size.z - 0.5 - v_position.z) / view_ray.z));

						// Now we have the starting position on the front surface
						vec3 front = v_position + view_ray * distance;

						// Decide how many steps to take
						int nsteps = int(-distance / relative_step_size + 0.5);
						if ( nsteps < 1 )
								discard;

						// Get starting location and step vector in texture coordinates
						vec3 step = ((v_position - front) / u_size) / float(nsteps);
						vec3 start_loc = front / u_size;

						// For testing: show the number of steps. This helps to establish
						// whether the rays are correctly oriented
						//'gl_FragColor = vec4(0.0, float(nsteps) / 1.0 / u_size.x, 1.0, 1.0);
						//'return;

						if (u_renderstyle == 0)
								cast_mip(start_loc, step, nsteps, view_ray);
						else if (u_renderstyle == 1)
								cast_iso(start_loc, step, nsteps, view_ray);

						if (gl_FragColor.a < 0.05)
								discard;
				}


				float sample1(vec3 texcoords) {
						/* Sample float value from a 3D texture. Assumes intensity data. */
						return texture(u_data, texcoords.xyz).r;
				}


				vec4 apply_colormap(float val) {
						val = (val - u_clim[0]) / (u_clim[1] - u_clim[0]);
						return texture2D(u_cmdata, vec2(val, 0.5));
				}


				void cast_mip(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray) {

						float max_val = -1e6;
						int max_i = 100;
						vec3 loc = start_loc;

						// Enter the raycasting loop. In WebGL 1 the loop index cannot be compared with
						// non-constant expression. So we use a hard-coded max, and an additional condition
						// inside the loop.
						for (int iter=0; iter<MAX_STEPS; iter++) {
								if (iter >= nsteps)
										break;
								// Sample from the 3D texture
								float val = sample1(loc);
								// Apply MIP operation
								if (val > max_val) {
										max_val = val;
										max_i = iter;
								}
								// Advance location deeper into the volume
								loc += step;
						}

						// Refine location, gives crispier images
						vec3 iloc = start_loc + step * (float(max_i) - 0.5);
						vec3 istep = step / float(REFINEMENT_STEPS);
						for (int i=0; i<REFINEMENT_STEPS; i++) {
								max_val = max(max_val, sample1(iloc));
								iloc += istep;
						}

						// Resolve final color
						gl_FragColor = apply_colormap(max_val);
				}


				void cast_iso(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray) {

						gl_FragColor = vec4(0.0);	// init transparent
						vec4 color3 = vec4(0.0);	// final color
						vec3 dstep = 1.5 / u_size;	// step to sample derivative
						vec3 loc = start_loc;

						float low_threshold = u_renderthreshold - 0.02 * (u_clim[1] - u_clim[0]);

						// Enter the raycasting loop. In WebGL 1 the loop index cannot be compared with
						// non-constant expression. So we use a hard-coded max, and an additional condition
						// inside the loop.
						for (int iter=0; iter<MAX_STEPS; iter++) {
								if (iter >= nsteps)
										break;

								// Sample from the 3D texture
								float val = sample1(loc);

								if (val > low_threshold) {
										// Take the last interval in smaller steps
										vec3 iloc = loc - 0.5 * step;
										vec3 istep = step / float(REFINEMENT_STEPS);
										for (int i=0; i<REFINEMENT_STEPS; i++) {
												val = sample1(iloc);
												if (val > u_renderthreshold) {
														gl_FragColor = add_lighting(val, iloc, dstep, view_ray);
														return;
												}
												iloc += istep;
										}
								}

								// Advance location deeper into the volume
								loc += step;
						}
				}


				vec4 add_lighting(float val, vec3 loc, vec3 step, vec3 view_ray)
				{
					// Calculate color by incorporating lighting

						// View direction
						vec3 V = normalize(view_ray);

						// calculate normal vector from gradient
						vec3 N;
						float val1, val2;
						val1 = sample1(loc + vec3(-step[0], 0.0, 0.0));
						val2 = sample1(loc + vec3(+step[0], 0.0, 0.0));
						N[0] = val1 - val2;
						val = max(max(val1, val2), val);
						val1 = sample1(loc + vec3(0.0, -step[1], 0.0));
						val2 = sample1(loc + vec3(0.0, +step[1], 0.0));
						N[1] = val1 - val2;
						val = max(max(val1, val2), val);
						val1 = sample1(loc + vec3(0.0, 0.0, -step[2]));
						val2 = sample1(loc + vec3(0.0, 0.0, +step[2]));
						N[2] = val1 - val2;
						val = max(max(val1, val2), val);

						float gm = length(N); // gradient magnitude
						N = normalize(N);

						// Flip normal so it points towards viewer
						float Nselect = float(dot(N, V) > 0.0);
						N = (2.0 * Nselect - 1.0) * N;	// ==	Nselect * N - (1.0-Nselect)*N;

						// Init colors
						vec4 ambient_color = vec4(0.0, 0.0, 0.0, 0.0);
						vec4 diffuse_color = vec4(0.0, 0.0, 0.0, 0.0);
						vec4 specular_color = vec4(0.0, 0.0, 0.0, 0.0);

						// note: could allow multiple lights
						for (int i=0; i<1; i++)
						{
								 // Get light direction (make sure to prevent zero devision)
								vec3 L = normalize(view_ray);	//lightDirs[i];
								float lightEnabled = float( length(L) > 0.0 );
								L = normalize(L + (1.0 - lightEnabled));

								// Calculate lighting properties
								float lambertTerm = clamp(dot(N, L), 0.0, 1.0);
								vec3 H = normalize(L+V); // Halfway vector
								float specularTerm = pow(max(dot(H, N), 0.0), shininess);

								// Calculate mask
								float mask1 = lightEnabled;

								// Calculate colors
								ambient_color +=	mask1 * ambient_color;	// * gl_LightSource[i].ambient;
								diffuse_color +=	mask1 * lambertTerm;
								specular_color += mask1 * specularTerm * specular_color;
						}

						// Calculate final color by componing different components
						vec4 final_color;
						vec4 color = apply_colormap(val);
						final_color = color * (ambient_color + diffuse_color) + specular_color;
						final_color.a = color.a;
						return final_color;
				}`};var $e=new Array(4),We=new ArrayBuffer(5120),XT=0;for(let A=0;A<5;A++)$e[A]=new Uint32Array(We,XT,256),XT+=1024;class bC{static createButton(A,Q={}){const E=document.createElement("button");function B(){let U=null;async function Y(G){G.addEventListener("end",H),await A.xr.setSession(G),E.textContent="EXIT VR",U=G}function H(){U.removeEventListener("end",H),E.textContent="ENTER VR",U=null}E.style.display="",E.style.cursor="pointer",E.style.left="calc(50% - 50px)",E.style.width="100px",E.textContent="ENTER VR";const R={...Q,optionalFeatures:["local-floor","bounded-floor","layers",...Q.optionalFeatures||[]]};if(E.onmouseenter=function(){E.style.opacity="1.0"},E.onmouseleave=function(){E.style.opacity="0.5"},E.onclick=function(){if(U===null)navigator.xr.requestSession("immersive-vr",R).then(Y);else if(U.end(),navigator.xr.offerSession!==void 0)navigator.xr.offerSession("immersive-vr",R).then(Y).catch((G)=>{console.warn(G)})},navigator.xr.offerSession!==void 0)navigator.xr.offerSession("immersive-vr",R).then(Y).catch((G)=>{console.warn(G)})}function I(){E.style.display="",E.style.cursor="auto",E.style.left="calc(50% - 75px)",E.style.width="150px",E.onmouseenter=null,E.onmouseleave=null,E.onclick=null}function K(){I(),E.textContent="VR NOT SUPPORTED"}function J(U){I(),console.warn("Exception when trying to call xr.isSessionSupported",U),E.textContent="VR NOT ALLOWED"}function C(U){U.style.position="absolute",U.style.bottom="20px",U.style.padding="12px 6px",U.style.border="1px solid #fff",U.style.borderRadius="4px",U.style.background="rgba(0,0,0,0.1)",U.style.color="#fff",U.style.font="normal 13px sans-serif",U.style.textAlign="center",U.style.opacity="0.5",U.style.outline="none",U.style.zIndex="999"}if("xr"in navigator)return E.id="VRButton",E.style.display="none",C(E),navigator.xr.isSessionSupported("immersive-vr").then(function(U){if(U?B():K(),U&&bC.xrSessionIsGranted)E.click()}).catch(J),E;else{const U=document.createElement("a");if(window.isSecureContext===!1)U.href=document.location.href.replace(/^http:/,"https:"),U.innerHTML="WEBXR NEEDS HTTPS";else U.href="https://immersiveweb.dev/",U.innerHTML="WEBXR NOT AVAILABLE";return U.style.left="calc(50% - 90px)",U.style.width="180px",U.style.textDecoration="none",C(U),U}}static registerSessionGrantedListener(){if(typeof navigator!=="undefined"&&"xr"in navigator){if(/WebXRViewer\//i.test(navigator.userAgent))return;navigator.xr.addEventListener("sessiongranted",()=>{bC.xrSessionIsGranted=!0})}}}bC.xrSessionIsGranted=!1;bC.registerSessionGrantedListener();var FT={Handedness:Object.freeze({NONE:"none",LEFT:"left",RIGHT:"right"}),ComponentState:Object.freeze({DEFAULT:"default",TOUCHED:"touched",PRESSED:"pressed"}),ComponentProperty:Object.freeze({BUTTON:"button",X_AXIS:"xAxis",Y_AXIS:"yAxis",STATE:"state"}),ComponentType:Object.freeze({TRIGGER:"trigger",SQUEEZE:"squeeze",TOUCHPAD:"touchpad",THUMBSTICK:"thumbstick",BUTTON:"button"}),ButtonTouchThreshold:0.05,AxisTouchThreshold:0.1,VisualResponseProperty:Object.freeze({TRANSFORM:"transform",VISIBILITY:"visibility"})},NGA={xAxis:0,yAxis:0,button:0,state:FT.ComponentState.DEFAULT};var kGA=new MA,jGA=new f;function qT(A,Q){A.traverse((E)=>{const B=E;if(B.isMesh&&B.geometry){if(!B.geometry.attributes.normal)B.geometry.computeVertexNormals(),console.log("computing vertex normals for",B.name);B.material=Q,console.log("adding material to",B.name)}})}function NT(A,Q){A.traverse((E)=>{const B=E;if(B.isMesh)B.geometry.userData=Q})}function LT(A,Q){A.traverse((E)=>{const B=E;if(B.isMesh)B.scale.set(...Q)})}function oY(A,Q){A.traverse((E)=>{const B=E;if(B.isMesh)B.position.set(...Q)})}async function DT(A,Q){return new Promise((E,B)=>{const K=document.createElement("canvas").getContext("2d"),J=new Image;J.onload=()=>{if(K.save(),Q===!0)K.scale(-1,1),K.drawImage(J,0,0,J.width*-1,J.height);else K.scale(1,1),K.drawImage(J,0,0,J.width,J.height);K.restore();const C=K.getImageData(0,0,J.width,J.height);E(C)},J.onerror=()=>{B(new Error("Failed to load image"))},J.src=A})}function MT(A,Q,E,B){const I=A.data;let K=0;for(let J=0;J<I.length;J+=4){const C=I[J],U=I[J+1],Y=I[J+2];if(I[J+3]===0)continue;if(C===0&&U===0&&Y===0)continue;K++;const R=C+U+Y,G=C/R*100,O=U/R*100,F=Y/R*100,q={red:Q,green:E,blue:B};let W;if(G>=O&&G>=F)W=q.red;else if(O>=G&&O>=F)W=q.green;else W=q.blue;let Z;if(G>O&&G>F)Z=O>F?q.green:q.blue;else if(O>G&&O>F)Z=G>F?q.red:q.blue;else Z=G>O?q.red:q.green;I[J]=W[0]*255,I[J+1]=W[1]*255,I[J+2]=W[2]*255}return rI(K,"iterations for replaceColorChannels"),A}function wT(A){return new Promise(async(Q,E)=>{rI("mii eyes:",A.eyeType);const B=new tI,I=new cQ,K=vO(A),J={pos:{x:0,y:0},scale:{x:0,y:0},rot:0,originPos:0};let C={rawMaskPartsDescEye:[J,J],rawMaskPartsDescEyebrow:[J,J],rawMaskPartsDescMole:J,rawMaskPartsDescMouth:J,rawMaskPartsDescMustache:[J,J]};qw(C,vO(A),312,K.parts.eyeType,K.parts.eyeType),rI("EDITED MASK",C);const U=rq();let Y=URL.createObjectURL(U[ww+A.eyeType].data),H=await DT(Y,!1),R=await DT(Y,!0);URL.revokeObjectURL(Y),H=MT(H,[0,1,1],[1,1,1],gO[A.eyeColor]),R=MT(R,[0,1,1],[1,1,1],gO[A.eyeColor]);const G=document.createElement("canvas");G.style.position="absolute",G.style.top="50px",G.style.left="50px",G.width=312,G.height=312,G.style.background="white",document.body.appendChild(G);const O=G.getContext("2d");console.log(C.rawMaskPartsDescEye[0].pos.x,G.width-C.rawMaskPartsDescEye[1].pos.x);function F(q,W,Z,$,X,N,M,L=!1){const D=document.createElement("canvas"),w=D.getContext("2d");D.width=q.width,D.height=q.height,w.putImageData(q,0,0),O.save();let P=G.width/2-q.width/2;switch(W){case 0:P=G.width/2-q.width/2;break;case 1:P=G.width-q.width,P-=Z;break;case 2:P=0,P+=Z;break}if(W===0){if(L===!1)P=Z-G.width/2;else P=Z;O.translate(P,0),O.drawImage(D,G.width/2-q.width/2,G.height/2-q.height/2,X*3,N*3)}O.restore()}F(H,C.rawMaskPartsDescEye[0].originPos,C.rawMaskPartsDescEye[0].pos.x,C.rawMaskPartsDescEye[0].pos.y,C.rawMaskPartsDescEye[0].scale.x,C.rawMaskPartsDescEye[0].scale.y,C.rawMaskPartsDescEye[0].rot),F(R,C.rawMaskPartsDescEye[1].originPos,C.rawMaskPartsDescEye[1].pos.x,C.rawMaskPartsDescEye[1].pos.y,C.rawMaskPartsDescEye[1].scale.x,C.rawMaskPartsDescEye[1].scale.y,C.rawMaskPartsDescEye[1].rot,!0),G.toBlob(async(q)=>{const W=URL.createObjectURL(q),Z=URL.createObjectURL(jU()[Lw+K.parts.faceType].data),$=await B.loadAsync(Z),X=$.scene.children[0];X.geometry.computeVertexNormals(),setTimeout(async()=>{X.geometry.userData={cullMode:1,modulateColor:[1,1,1,1],modulateMode:1,modulateType:6},X.scale.set(0.1,0.1,0.1),URL.revokeObjectURL(Z);const N=await I.loadAsync(W);return console.log("texture:",N),N.colorSpace=f0,N.wrapS=1002,N.wrapT=1002,X.material=new LQ({map:N}),oY($.scene,[0,-1,0]),Q(X)},300)})})}var iY=[{ambient:new gA(0.85,0.75,0.75,1),diffuse:new gA(0.75,0.75,0.75,1),specular:new gA(0.3,0.3,0.3,1),specularPower:1.2,specularMode:0},{ambient:new gA(1,1,1,1),diffuse:new gA(0.7,0.7,0.7,1),specular:new gA(0,0,0,1),specularPower:40,specularMode:1},{ambient:new gA(0.9,0.85,0.85,1),diffuse:new gA(0.75,0.75,0.75,1),specular:new gA(0.22,0.22,0.22,1),specularPower:1.5,specularMode:0},{ambient:new gA(0.85,0.75,0.75,1),diffuse:new gA(0.75,0.75,0.75,1),specular:new gA(0.3,0.3,0.3,1),specularPower:1.2,specularMode:0},{ambient:new gA(1,1,1,1),diffuse:new gA(0.7,0.7,0.7,1),specular:new gA(0.35,0.35,0.35,1),specularPower:10,specularMode:1},{ambient:new gA(0.75,0.75,0.75,1),diffuse:new gA(0.72,0.72,0.72,1),specular:new gA(0.3,0.3,0.3,1),specularPower:1.5,specularMode:0},{ambient:new gA(1,1,1,1),diffuse:new gA(0.7,0.7,0.7,1),specular:new gA(0,0,0,1),specularPower:40,specularMode:1},{ambient:new gA(1,1,1,1),diffuse:new gA(0.7,0.7,0.7,1),specular:new gA(0,0,0,1),specularPower:40,specularMode:1},{ambient:new gA(1,1,1,1),diffuse:new gA(0.7,0.7,0.7,1),specular:new gA(0,0,0,1),specularPower:40,specularMode:1},{ambient:new gA(0.95622,0.95622,0.95622,1),diffuse:new gA(0.49673,0.49673,0.49673,1),specular:new gA(0.24099,0.24099,0.24099,1),specularPower:3,specularMode:0},{ambient:new gA(0.95622,0.95622,0.95622,1),diffuse:new gA(1.08497,1.08497,1.08497,1),specular:new gA(0.2409,0.2409,0.2409,1),specularPower:3,specularMode:0}],zT=new gA(0.73,0.73,0.73,1),VT=new gA(0.6,0.6,0.6,1),TT=new gA(0.7,0.7,0.7,1),ST=new f(-0.4531539381,0.4226179123,0.7848858833),PT=new gA(0.3,0.3,0.3,1),_T=2;async function kT(A){const Q=new tI,E=new QQ;async function B(H,R,G,O){const F=URL.createObjectURL(jU()[H].data),q=await Q.loadAsync(F);return URL.revokeObjectURL(F),oY(q.scene,[0,-1,0]),LT(q.scene,[0.1,0.1,0.1]),NT(q.scene,{cullMode:1,modulateColor:[...G,1],modulateMode:0,modulateType:O}),qT(q.scene,R),E.add(q.scene),q.scene}const I=await B(A.faceType+Nw,new LQ({metalness:0.5,roughness:0.5,color:EC[A.skinColor]}),EC[A.skinColor],0),K=await B(A.hairType+Dw,new LQ({metalness:0.5,roughness:0.5,color:xO[A.hairColor]}),xO[A.hairColor],5);console.log(A.noseType+bO);let J=!1,C;if(A.noseType!==0&&A.noseType!==2){let H=A.noseType;if(A.noseType===1)H=0;C=await B(H+bO,new LQ({metalness:1,roughness:1}),EC[A.skinColor],2),C.position.set(0,2,2.7)}let U=await B(A.hairType+Mw,new LQ({metalness:1,roughness:1}),EC[A.skinColor],3);rI(I,K);const Y=await wT(A);return E.add(Y),window.faceDebug={headModel:I,hairModel:K,noseModel:C,faceline:Y},rI("loaded mii:",A),E}function Y6(A){return A.isPerspectiveCamera}function AI(A){return A.isOrthographicCamera}function sE(A,Q,E){return Math.max(Q,Math.min(E,A))}function $Q(A,Q=uT){return Math.abs(A)<Q}function IQ(A,Q,E=uT){return $Q(A-Q,E)}function hT(A,Q){return Math.round(A/Q)*Q}function uC(A){if(isFinite(A))return A;if(A<0)return-Number.MAX_VALUE;return Number.MAX_VALUE}function pC(A){if(Math.abs(A)<Number.MAX_VALUE)return A;return A*(1/0)}function sY(A,Q,E,B,I=1/0,K){B=Math.max(0.0001,B);const J=2/B,C=J*K,U=1/(1+C+0.48*C*C+0.235*C*C*C);let Y=A-Q;const H=Q,R=I*B;Y=sE(Y,-R,R),Q=A-Y;const G=(E.value+J*Y)*K;E.value=(E.value-J*G)*U;let O=Q+(Y+G)*U;if(H-A>0===O>H)O=H,E.value=(O-H)/K;return O}function vT(A,Q,E,B,I=1/0,K,J){B=Math.max(0.0001,B);const C=2/B,U=C*K,Y=1/(1+U+0.48*U*U+0.235*U*U*U);let{x:H,y:R,z:G}=Q,O=A.x-H,F=A.y-R,q=A.z-G;const W=H,Z=R,$=G,X=I*B,N=X*X,M=O*O+F*F+q*q;if(M>N){const y=Math.sqrt(M);O=O/y*X,F=F/y*X,q=q/y*X}H=A.x-O,R=A.y-F,G=A.z-q;const L=(E.x+C*O)*K,D=(E.y+C*F)*K,w=(E.z+C*q)*K;E.x=(E.x-C*L)*Y,E.y=(E.y-C*D)*Y,E.z=(E.z-C*w)*Y,J.x=H+(O+L)*Y,J.y=R+(F+D)*Y,J.z=G+(q+w)*Y;const P=W-A.x,V=Z-A.y,T=$-A.z,S=J.x-W,h=J.y-Z,x=J.z-$;if(P*S+V*h+T*x>0)J.x=W,J.y=Z,J.z=$,E.x=(J.x-W)/K,E.y=(J.y-Z)/K,E.z=(J.z-$)/K;return J}function a$(A,Q){Q.set(0,0),A.forEach((E)=>{Q.x+=E.clientX,Q.y+=E.clientY}),Q.x/=A.length,Q.y/=A.length}function t$(A,Q){if(AI(A))return console.warn(`${Q} is not supported in OrthographicCamera`),!0;return!1}/*!
 * camera-controls
 * https://github.com/yomotsu/camera-controls
 * (c) 2017 @yomotsu
 * Released under the MIT License.
 */var PQ={LEFT:1,RIGHT:2,MIDDLE:4},_A=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,OFFSET:4,DOLLY:8,ZOOM:16,TOUCH_ROTATE:32,TOUCH_TRUCK:64,TOUCH_OFFSET:128,TOUCH_DOLLY:256,TOUCH_ZOOM:512,TOUCH_DOLLY_TRUCK:1024,TOUCH_DOLLY_OFFSET:2048,TOUCH_DOLLY_ROTATE:4096,TOUCH_ZOOM_TRUCK:8192,TOUCH_ZOOM_OFFSET:16384,TOUCH_ZOOM_ROTATE:32768}),eK={NONE:0,IN:1,OUT:-1},AJ=Math.PI*2,jT=Math.PI/2,uT=0.00001,fC=Math.PI/180;class pT{constructor(){this._listeners={}}addEventListener(A,Q){const E=this._listeners;if(E[A]===void 0)E[A]=[];if(E[A].indexOf(Q)===-1)E[A].push(Q)}hasEventListener(A,Q){const E=this._listeners;return E[A]!==void 0&&E[A].indexOf(Q)!==-1}removeEventListener(A,Q){const B=this._listeners[A];if(B!==void 0){const I=B.indexOf(Q);if(I!==-1)B.splice(I,1)}}removeAllEventListeners(A){if(!A){this._listeners={};return}if(Array.isArray(this._listeners[A]))this._listeners[A].length=0}dispatchEvent(A){const E=this._listeners[A.type];if(E!==void 0){A.target=this;const B=E.slice(0);for(let I=0,K=B.length;I<K;I++)B[I].call(this,A)}}}var e$,qe="2.9.0",rY=0.125,Ne=/Mac/.test((e$=globalThis===null||globalThis===void 0?void 0:globalThis.navigator)===null||e$===void 0?void 0:e$.platform),F0,yT,aY,AW,b1,_0,o0,QJ,mC,R8,O8,H6,xT,gT,wE,cC,EJ,bT,QW,fT,EW,BW,tY;class BJ extends pT{static install(A){F0=A.THREE,yT=Object.freeze(new F0.Vector3(0,0,0)),aY=Object.freeze(new F0.Vector3(0,1,0)),AW=Object.freeze(new F0.Vector3(0,0,1)),b1=new F0.Vector2,_0=new F0.Vector3,o0=new F0.Vector3,QJ=new F0.Vector3,mC=new F0.Vector3,R8=new F0.Vector3,O8=new F0.Vector3,H6=new F0.Vector3,xT=new F0.Vector3,gT=new F0.Vector3,wE=new F0.Spherical,cC=new F0.Spherical,EJ=new F0.Box3,bT=new F0.Box3,QW=new F0.Sphere,fT=new F0.Quaternion,EW=new F0.Quaternion,BW=new F0.Matrix4,tY=new F0.Raycaster}static get ACTION(){return _A}constructor(A,Q){super();if(this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=Number.EPSILON,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=0.01,this.maxZoom=1/0,this.smoothTime=0.25,this.draggingSmoothTime=0.125,this.maxSpeed=1/0,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.dollyDragInverted=!1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.verticalDragToForward=!1,this.boundaryFriction=0,this.restThreshold=0.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=_A.NONE,this._viewport=null,this._changedDolly=0,this._changedZoom=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._isDragging=!1,this._dragNeedsUpdate=!0,this._activePointers=[],this._lockedPointer=null,this._interactiveArea=new DOMRect(0,0,1,1),this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._isUserControllingOffset=!1,this._isUserControllingZoom=!1,this._lastDollyDirection=eK.NONE,this._thetaVelocity={value:0},this._phiVelocity={value:0},this._radiusVelocity={value:0},this._targetVelocity=new F0.Vector3,this._focalOffsetVelocity=new F0.Vector3,this._zoomVelocity={value:0},this._truckInternal=(W,Z,$)=>{let X,N;if(Y6(this._camera)){const M=_0.copy(this._camera.position).sub(this._target),L=this._camera.getEffectiveFOV()*fC,D=M.length()*Math.tan(L*0.5);X=this.truckSpeed*W*D/this._elementRect.height,N=this.truckSpeed*Z*D/this._elementRect.height}else if(AI(this._camera)){const M=this._camera;X=W*(M.right-M.left)/M.zoom/this._elementRect.width,N=Z*(M.top-M.bottom)/M.zoom/this._elementRect.height}else return;if(this.verticalDragToForward)$?this.setFocalOffset(this._focalOffsetEnd.x+X,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(X,0,!0),this.forward(-N,!0);else $?this.setFocalOffset(this._focalOffsetEnd.x+X,this._focalOffsetEnd.y+N,this._focalOffsetEnd.z,!0):this.truck(X,N,!0)},this._rotateInternal=(W,Z)=>{const $=AJ*this.azimuthRotateSpeed*W/this._elementRect.height,X=AJ*this.polarRotateSpeed*Z/this._elementRect.height;this.rotate($,X,!0)},this._dollyInternal=(W,Z,$)=>{const X=Math.pow(0.95,-W*this.dollySpeed),N=this._sphericalEnd.radius,M=this._sphericalEnd.radius*X,L=sE(M,this.minDistance,this.maxDistance),D=L-M;if(this.infinityDolly&&this.dollyToCursor)this._dollyToNoClamp(M,!0);else if(this.infinityDolly&&!this.dollyToCursor)this.dollyInFixed(D,!0),this._dollyToNoClamp(L,!0);else this._dollyToNoClamp(L,!0);if(this.dollyToCursor)this._changedDolly+=(this.infinityDolly?M:L)-N,this._dollyControlCoord.set(Z,$);this._lastDollyDirection=Math.sign(-W)},this._zoomInternal=(W,Z,$)=>{const X=Math.pow(0.95,W*this.dollySpeed),N=this._zoom,M=this._zoom*X;if(this.zoomTo(M,!0),this.dollyToCursor)this._changedZoom+=M-N,this._dollyControlCoord.set(Z,$)},typeof F0==="undefined")console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information.");this._camera=A,this._yAxisUpSpace=new F0.Quaternion().setFromUnitVectors(this._camera.up,aY),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=_A.NONE,this._target=new F0.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new F0.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new F0.Spherical().setFromVector3(_0.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._lastDistance=this._spherical.radius,this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._lastZoom=this._zoom,this._nearPlaneCorners=[new F0.Vector3,new F0.Vector3,new F0.Vector3,new F0.Vector3],this._updateNearPlaneCorners(),this._boundary=new F0.Box3(new F0.Vector3(-1/0,-1/0,-1/0),new F0.Vector3(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlCoord=new F0.Vector2,this.mouseButtons={left:_A.ROTATE,middle:_A.DOLLY,right:_A.TRUCK,wheel:Y6(this._camera)?_A.DOLLY:AI(this._camera)?_A.ZOOM:_A.NONE},this.touches={one:_A.TOUCH_ROTATE,two:Y6(this._camera)?_A.TOUCH_DOLLY_TRUCK:AI(this._camera)?_A.TOUCH_ZOOM_TRUCK:_A.NONE,three:_A.TOUCH_TRUCK};const E=new F0.Vector2,B=new F0.Vector2,I=new F0.Vector2,K=(W)=>{if(!this._enabled||!this._domElement)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const X=this._domElement.getBoundingClientRect(),N=W.clientX/X.width,M=W.clientY/X.height;if(N<this._interactiveArea.left||N>this._interactiveArea.right||M<this._interactiveArea.top||M>this._interactiveArea.bottom)return}const Z=W.pointerType!=="mouse"?null:(W.buttons&PQ.LEFT)===PQ.LEFT?PQ.LEFT:(W.buttons&PQ.MIDDLE)===PQ.MIDDLE?PQ.MIDDLE:(W.buttons&PQ.RIGHT)===PQ.RIGHT?PQ.RIGHT:null;if(Z!==null){const X=this._findPointerByMouseButton(Z);X&&this._disposePointer(X)}if((W.buttons&PQ.LEFT)===PQ.LEFT&&this._lockedPointer)return;const $={pointerId:W.pointerId,clientX:W.clientX,clientY:W.clientY,deltaX:0,deltaY:0,mouseButton:Z};this._activePointers.push($),this._domElement.ownerDocument.removeEventListener("pointermove",J,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",C),this._domElement.ownerDocument.addEventListener("pointermove",J,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",C),this._isDragging=!0,R(W)},J=(W)=>{if(W.cancelable)W.preventDefault();const Z=W.pointerId,$=this._lockedPointer||this._findPointerById(Z);if(!$)return;if($.clientX=W.clientX,$.clientY=W.clientY,$.deltaX=W.movementX,$.deltaY=W.movementY,this._state=0,W.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else{if(!this._isDragging&&this._lockedPointer||this._isDragging&&(W.buttons&PQ.LEFT)===PQ.LEFT)this._state=this._state|this.mouseButtons.left;if(this._isDragging&&(W.buttons&PQ.MIDDLE)===PQ.MIDDLE)this._state=this._state|this.mouseButtons.middle;if(this._isDragging&&(W.buttons&PQ.RIGHT)===PQ.RIGHT)this._state=this._state|this.mouseButtons.right}G()},C=(W)=>{const Z=this._findPointerById(W.pointerId);if(Z&&Z===this._lockedPointer)return;if(Z&&this._disposePointer(Z),W.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=_A.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=_A.NONE;O()};let U=-1;const Y=(W)=>{if(!this._domElement)return;if(!this._enabled||this.mouseButtons.wheel===_A.NONE)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const M=this._domElement.getBoundingClientRect(),L=W.clientX/M.width,D=W.clientY/M.height;if(L<this._interactiveArea.left||L>this._interactiveArea.right||D<this._interactiveArea.top||D>this._interactiveArea.bottom)return}if(W.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===_A.ROTATE||this.mouseButtons.wheel===_A.TRUCK){const M=performance.now();if(U-M<1000)this._getClientRect(this._elementRect);U=M}const Z=Ne?-1:-3,$=W.deltaMode===1?W.deltaY/Z:W.deltaY/(Z*10),X=this.dollyToCursor?(W.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,N=this.dollyToCursor?(W.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case _A.ROTATE:{this._rotateInternal(W.deltaX,W.deltaY),this._isUserControllingRotate=!0;break}case _A.TRUCK:{this._truckInternal(W.deltaX,W.deltaY,!1),this._isUserControllingTruck=!0;break}case _A.OFFSET:{this._truckInternal(W.deltaX,W.deltaY,!0),this._isUserControllingOffset=!0;break}case _A.DOLLY:{this._dollyInternal(-$,X,N),this._isUserControllingDolly=!0;break}case _A.ZOOM:{this._zoomInternal(-$,X,N),this._isUserControllingZoom=!0;break}}this.dispatchEvent({type:"control"})},H=(W)=>{if(!this._domElement||!this._enabled)return;if(this.mouseButtons.right===BJ.ACTION.NONE){const Z=W instanceof PointerEvent?W.pointerId:0,$=this._findPointerById(Z);$&&this._disposePointer($),this._domElement.ownerDocument.removeEventListener("pointermove",J,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",C);return}W.preventDefault()},R=(W)=>{if(!this._enabled)return;if(a$(this._activePointers,b1),this._getClientRect(this._elementRect),E.copy(b1),B.copy(b1),this._activePointers.length>=2){const $=b1.x-this._activePointers[1].clientX,X=b1.y-this._activePointers[1].clientY,N=Math.sqrt($*$+X*X);I.set(0,N);const M=(this._activePointers[0].clientX+this._activePointers[1].clientX)*0.5,L=(this._activePointers[0].clientY+this._activePointers[1].clientY)*0.5;B.set(M,L)}if(this._state=0,!W){if(this._lockedPointer)this._state=this._state|this.mouseButtons.left}else if("pointerType"in W&&W.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else{if(!this._lockedPointer&&(W.buttons&PQ.LEFT)===PQ.LEFT)this._state=this._state|this.mouseButtons.left;if((W.buttons&PQ.MIDDLE)===PQ.MIDDLE)this._state=this._state|this.mouseButtons.middle;if((W.buttons&PQ.RIGHT)===PQ.RIGHT)this._state=this._state|this.mouseButtons.right}if((this._state&_A.ROTATE)===_A.ROTATE||(this._state&_A.TOUCH_ROTATE)===_A.TOUCH_ROTATE||(this._state&_A.TOUCH_DOLLY_ROTATE)===_A.TOUCH_DOLLY_ROTATE||(this._state&_A.TOUCH_ZOOM_ROTATE)===_A.TOUCH_ZOOM_ROTATE)this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0;if((this._state&_A.TRUCK)===_A.TRUCK||(this._state&_A.TOUCH_TRUCK)===_A.TOUCH_TRUCK||(this._state&_A.TOUCH_DOLLY_TRUCK)===_A.TOUCH_DOLLY_TRUCK||(this._state&_A.TOUCH_ZOOM_TRUCK)===_A.TOUCH_ZOOM_TRUCK)this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0);if((this._state&_A.DOLLY)===_A.DOLLY||(this._state&_A.TOUCH_DOLLY)===_A.TOUCH_DOLLY||(this._state&_A.TOUCH_DOLLY_TRUCK)===_A.TOUCH_DOLLY_TRUCK||(this._state&_A.TOUCH_DOLLY_OFFSET)===_A.TOUCH_DOLLY_OFFSET||(this._state&_A.TOUCH_DOLLY_ROTATE)===_A.TOUCH_DOLLY_ROTATE)this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0;if((this._state&_A.ZOOM)===_A.ZOOM||(this._state&_A.TOUCH_ZOOM)===_A.TOUCH_ZOOM||(this._state&_A.TOUCH_ZOOM_TRUCK)===_A.TOUCH_ZOOM_TRUCK||(this._state&_A.TOUCH_ZOOM_OFFSET)===_A.TOUCH_ZOOM_OFFSET||(this._state&_A.TOUCH_ZOOM_ROTATE)===_A.TOUCH_ZOOM_ROTATE)this._zoomEnd=this._zoom,this._zoomVelocity.value=0;if((this._state&_A.OFFSET)===_A.OFFSET||(this._state&_A.TOUCH_OFFSET)===_A.TOUCH_OFFSET||(this._state&_A.TOUCH_DOLLY_OFFSET)===_A.TOUCH_DOLLY_OFFSET||(this._state&_A.TOUCH_ZOOM_OFFSET)===_A.TOUCH_ZOOM_OFFSET)this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0);this.dispatchEvent({type:"controlstart"})},G=()=>{if(!this._enabled||!this._dragNeedsUpdate)return;this._dragNeedsUpdate=!1,a$(this._activePointers,b1);const Z=this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement?this._lockedPointer||this._activePointers[0]:null,$=Z?-Z.deltaX:B.x-b1.x,X=Z?-Z.deltaY:B.y-b1.y;if(B.copy(b1),(this._state&_A.ROTATE)===_A.ROTATE||(this._state&_A.TOUCH_ROTATE)===_A.TOUCH_ROTATE||(this._state&_A.TOUCH_DOLLY_ROTATE)===_A.TOUCH_DOLLY_ROTATE||(this._state&_A.TOUCH_ZOOM_ROTATE)===_A.TOUCH_ZOOM_ROTATE)this._rotateInternal($,X),this._isUserControllingRotate=!0;if((this._state&_A.DOLLY)===_A.DOLLY||(this._state&_A.ZOOM)===_A.ZOOM){const N=this.dollyToCursor?(E.x-this._elementRect.x)/this._elementRect.width*2-1:0,M=this.dollyToCursor?(E.y-this._elementRect.y)/this._elementRect.height*-2+1:0,L=this.dollyDragInverted?-1:1;if((this._state&_A.DOLLY)===_A.DOLLY)this._dollyInternal(L*X*rY,N,M),this._isUserControllingDolly=!0;else this._zoomInternal(L*X*rY,N,M),this._isUserControllingZoom=!0}if((this._state&_A.TOUCH_DOLLY)===_A.TOUCH_DOLLY||(this._state&_A.TOUCH_ZOOM)===_A.TOUCH_ZOOM||(this._state&_A.TOUCH_DOLLY_TRUCK)===_A.TOUCH_DOLLY_TRUCK||(this._state&_A.TOUCH_ZOOM_TRUCK)===_A.TOUCH_ZOOM_TRUCK||(this._state&_A.TOUCH_DOLLY_OFFSET)===_A.TOUCH_DOLLY_OFFSET||(this._state&_A.TOUCH_ZOOM_OFFSET)===_A.TOUCH_ZOOM_OFFSET||(this._state&_A.TOUCH_DOLLY_ROTATE)===_A.TOUCH_DOLLY_ROTATE||(this._state&_A.TOUCH_ZOOM_ROTATE)===_A.TOUCH_ZOOM_ROTATE){const N=b1.x-this._activePointers[1].clientX,M=b1.y-this._activePointers[1].clientY,L=Math.sqrt(N*N+M*M),D=I.y-L;I.set(0,L);const w=this.dollyToCursor?(B.x-this._elementRect.x)/this._elementRect.width*2-1:0,P=this.dollyToCursor?(B.y-this._elementRect.y)/this._elementRect.height*-2+1:0;if((this._state&_A.TOUCH_DOLLY)===_A.TOUCH_DOLLY||(this._state&_A.TOUCH_DOLLY_ROTATE)===_A.TOUCH_DOLLY_ROTATE||(this._state&_A.TOUCH_DOLLY_TRUCK)===_A.TOUCH_DOLLY_TRUCK||(this._state&_A.TOUCH_DOLLY_OFFSET)===_A.TOUCH_DOLLY_OFFSET)this._dollyInternal(D*rY,w,P),this._isUserControllingDolly=!0;else this._zoomInternal(D*rY,w,P),this._isUserControllingZoom=!0}if((this._state&_A.TRUCK)===_A.TRUCK||(this._state&_A.TOUCH_TRUCK)===_A.TOUCH_TRUCK||(this._state&_A.TOUCH_DOLLY_TRUCK)===_A.TOUCH_DOLLY_TRUCK||(this._state&_A.TOUCH_ZOOM_TRUCK)===_A.TOUCH_ZOOM_TRUCK)this._truckInternal($,X,!1),this._isUserControllingTruck=!0;if((this._state&_A.OFFSET)===_A.OFFSET||(this._state&_A.TOUCH_OFFSET)===_A.TOUCH_OFFSET||(this._state&_A.TOUCH_DOLLY_OFFSET)===_A.TOUCH_DOLLY_OFFSET||(this._state&_A.TOUCH_ZOOM_OFFSET)===_A.TOUCH_ZOOM_OFFSET)this._truckInternal($,X,!0),this._isUserControllingOffset=!0;this.dispatchEvent({type:"control"})},O=()=>{if(a$(this._activePointers,b1),B.copy(b1),this._dragNeedsUpdate=!1,this._activePointers.length===0||this._activePointers.length===1&&this._activePointers[0]===this._lockedPointer)this._isDragging=!1;if(this._activePointers.length===0&&this._domElement)this._domElement.ownerDocument.removeEventListener("pointermove",J,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",C),this.dispatchEvent({type:"controlend"})};this.lockPointer=()=>{if(!this._enabled||!this._domElement)return;this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",J,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",C),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",F),this._domElement.ownerDocument.addEventListener("pointerlockerror",q),this._domElement.ownerDocument.addEventListener("pointermove",J,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",C),R()},this.unlockPointer=()=>{var W,Z,$;if(this._lockedPointer!==null)this._disposePointer(this._lockedPointer),this._lockedPointer=null;(W=this._domElement)===null||W===void 0||W.ownerDocument.exitPointerLock(),(Z=this._domElement)===null||Z===void 0||Z.ownerDocument.removeEventListener("pointerlockchange",F),($=this._domElement)===null||$===void 0||$.ownerDocument.removeEventListener("pointerlockerror",q),this.cancel()};const F=()=>{if(!(this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement))this.unlockPointer()},q=()=>{this.unlockPointer()};if(this._addAllEventListeners=(W)=>{this._domElement=W,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",K),this._domElement.addEventListener("pointercancel",C),this._domElement.addEventListener("wheel",Y,{passive:!1}),this._domElement.addEventListener("contextmenu",H)},this._removeAllEventListeners=()=>{if(!this._domElement)return;this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",K),this._domElement.removeEventListener("pointercancel",C),this._domElement.removeEventListener("wheel",Y,{passive:!1}),this._domElement.removeEventListener("contextmenu",H),this._domElement.ownerDocument.removeEventListener("pointermove",J,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",C),this._domElement.ownerDocument.removeEventListener("pointerlockchange",F),this._domElement.ownerDocument.removeEventListener("pointerlockerror",q)},this.cancel=()=>{if(this._state===_A.NONE)return;this._state=_A.NONE,this._activePointers.length=0,O()},Q)this.connect(Q);this.update(0)}get camera(){return this._camera}set camera(A){this._camera=A,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(A){if(this._enabled=A,!this._domElement)return;if(A)this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none";else this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(A){if(this._spherical.radius===A&&this._sphericalEnd.radius===A)return;this._spherical.radius=A,this._sphericalEnd.radius=A,this._needsUpdate=!0}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(A){if(this._spherical.theta===A&&this._sphericalEnd.theta===A)return;this._spherical.theta=A,this._sphericalEnd.theta=A,this._needsUpdate=!0}get polarAngle(){return this._spherical.phi}set polarAngle(A){if(this._spherical.phi===A&&this._sphericalEnd.phi===A)return;this._spherical.phi=A,this._sphericalEnd.phi=A,this._needsUpdate=!0}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(A){this._boundaryEnclosesCamera=A,this._needsUpdate=!0}set interactiveArea(A){this._interactiveArea.width=sE(A.width,0,1),this._interactiveArea.height=sE(A.height,0,1),this._interactiveArea.x=sE(A.x,0,1-this._interactiveArea.width),this._interactiveArea.y=sE(A.y,0,1-this._interactiveArea.height)}addEventListener(A,Q){super.addEventListener(A,Q)}removeEventListener(A,Q){super.removeEventListener(A,Q)}rotate(A,Q,E=!1){return this.rotateTo(this._sphericalEnd.theta+A,this._sphericalEnd.phi+Q,E)}rotateAzimuthTo(A,Q=!1){return this.rotateTo(A,this._sphericalEnd.phi,Q)}rotatePolarTo(A,Q=!1){return this.rotateTo(this._sphericalEnd.theta,A,Q)}rotateTo(A,Q,E=!1){this._isUserControllingRotate=!1;const B=sE(A,this.minAzimuthAngle,this.maxAzimuthAngle),I=sE(Q,this.minPolarAngle,this.maxPolarAngle);if(this._sphericalEnd.theta=B,this._sphericalEnd.phi=I,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,!E)this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi;const K=!E||IQ(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&IQ(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(K)}dolly(A,Q=!1){return this.dollyTo(this._sphericalEnd.radius-A,Q)}dollyTo(A,Q=!1){return this._isUserControllingDolly=!1,this._lastDollyDirection=eK.NONE,this._changedDolly=0,this._dollyToNoClamp(sE(A,this.minDistance,this.maxDistance),Q)}_dollyToNoClamp(A,Q=!1){const E=this._sphericalEnd.radius;if(this.colliderMeshes.length>=1){const K=this._collisionTest(),J=IQ(K,this._spherical.radius);if(!(E>A)&&J)return Promise.resolve();this._sphericalEnd.radius=Math.min(A,K)}else this._sphericalEnd.radius=A;if(this._needsUpdate=!0,!Q)this._spherical.radius=this._sphericalEnd.radius;const I=!Q||IQ(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(I)}dollyInFixed(A,Q=!1){if(this._targetEnd.add(this._getCameraDirection(mC).multiplyScalar(A)),!Q)this._target.copy(this._targetEnd);const E=!Q||IQ(this._target.x,this._targetEnd.x,this.restThreshold)&&IQ(this._target.y,this._targetEnd.y,this.restThreshold)&&IQ(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(E)}zoom(A,Q=!1){return this.zoomTo(this._zoomEnd+A,Q)}zoomTo(A,Q=!1){if(this._isUserControllingZoom=!1,this._zoomEnd=sE(A,this.minZoom,this.maxZoom),this._needsUpdate=!0,!Q)this._zoom=this._zoomEnd;const E=!Q||IQ(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(E)}pan(A,Q,E=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(A,Q,E)}truck(A,Q,E=!1){this._camera.updateMatrix(),R8.setFromMatrixColumn(this._camera.matrix,0),O8.setFromMatrixColumn(this._camera.matrix,1),R8.multiplyScalar(A),O8.multiplyScalar(-Q);const B=_0.copy(R8).add(O8),I=o0.copy(this._targetEnd).add(B);return this.moveTo(I.x,I.y,I.z,E)}forward(A,Q=!1){_0.setFromMatrixColumn(this._camera.matrix,0),_0.crossVectors(this._camera.up,_0),_0.multiplyScalar(A);const E=o0.copy(this._targetEnd).add(_0);return this.moveTo(E.x,E.y,E.z,Q)}elevate(A,Q=!1){return _0.copy(this._camera.up).multiplyScalar(A),this.moveTo(this._targetEnd.x+_0.x,this._targetEnd.y+_0.y,this._targetEnd.z+_0.z,Q)}moveTo(A,Q,E,B=!1){this._isUserControllingTruck=!1;const I=_0.set(A,Q,E).sub(this._targetEnd);if(this._encloseToBoundary(this._targetEnd,I,this.boundaryFriction),this._needsUpdate=!0,!B)this._target.copy(this._targetEnd);const K=!B||IQ(this._target.x,this._targetEnd.x,this.restThreshold)&&IQ(this._target.y,this._targetEnd.y,this.restThreshold)&&IQ(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(K)}lookInDirectionOf(A,Q,E,B=!1){const J=_0.set(A,Q,E).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius).add(this._targetEnd);return this.setPosition(J.x,J.y,J.z,B)}fitToBox(A,Q,{cover:E=!1,paddingLeft:B=0,paddingRight:I=0,paddingBottom:K=0,paddingTop:J=0}={}){const C=[],U=A.isBox3?EJ.copy(A):EJ.setFromObject(A);if(U.isEmpty())console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve();const Y=hT(this._sphericalEnd.theta,jT),H=hT(this._sphericalEnd.phi,jT);C.push(this.rotateTo(Y,H,Q));const R=_0.setFromSpherical(this._sphericalEnd).normalize(),G=fT.setFromUnitVectors(R,AW),O=IQ(Math.abs(R.y),1);if(O)G.multiply(EW.setFromAxisAngle(aY,Y));G.multiply(this._yAxisUpSpaceInverse);const F=bT.makeEmpty();if(o0.copy(U.min).applyQuaternion(G),F.expandByPoint(o0),o0.copy(U.min).setX(U.max.x).applyQuaternion(G),F.expandByPoint(o0),o0.copy(U.min).setY(U.max.y).applyQuaternion(G),F.expandByPoint(o0),o0.copy(U.max).setZ(U.min.z).applyQuaternion(G),F.expandByPoint(o0),o0.copy(U.min).setZ(U.max.z).applyQuaternion(G),F.expandByPoint(o0),o0.copy(U.max).setY(U.min.y).applyQuaternion(G),F.expandByPoint(o0),o0.copy(U.max).setX(U.min.x).applyQuaternion(G),F.expandByPoint(o0),o0.copy(U.max).applyQuaternion(G),F.expandByPoint(o0),F.min.x-=B,F.min.y-=K,F.max.x+=I,F.max.y+=J,G.setFromUnitVectors(AW,R),O)G.premultiply(EW.invert());G.premultiply(this._yAxisUpSpace);const q=F.getSize(_0),W=F.getCenter(o0).applyQuaternion(G);if(Y6(this._camera)){const Z=this.getDistanceToFitBox(q.x,q.y,q.z,E);C.push(this.moveTo(W.x,W.y,W.z,Q)),C.push(this.dollyTo(Z,Q)),C.push(this.setFocalOffset(0,0,0,Q))}else if(AI(this._camera)){const Z=this._camera,$=Z.right-Z.left,X=Z.top-Z.bottom,N=E?Math.max($/q.x,X/q.y):Math.min($/q.x,X/q.y);C.push(this.moveTo(W.x,W.y,W.z,Q)),C.push(this.zoomTo(N,Q)),C.push(this.setFocalOffset(0,0,0,Q))}return Promise.all(C)}fitToSphere(A,Q){const E=[],I="isObject3D"in A?BJ.createBoundingSphere(A,QW):QW.copy(A);if(E.push(this.moveTo(I.center.x,I.center.y,I.center.z,Q)),Y6(this._camera)){const K=this.getDistanceToFitSphere(I.radius);E.push(this.dollyTo(K,Q))}else if(AI(this._camera)){const K=this._camera.right-this._camera.left,J=this._camera.top-this._camera.bottom,C=2*I.radius,U=Math.min(K/C,J/C);E.push(this.zoomTo(U,Q))}return E.push(this.setFocalOffset(0,0,0,Q)),Promise.all(E)}setLookAt(A,Q,E,B,I,K,J=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=eK.NONE,this._changedDolly=0;const C=o0.set(B,I,K),U=_0.set(A,Q,E);if(this._targetEnd.copy(C),this._sphericalEnd.setFromVector3(U.sub(C).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,!J)this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd);const Y=!J||IQ(this._target.x,this._targetEnd.x,this.restThreshold)&&IQ(this._target.y,this._targetEnd.y,this.restThreshold)&&IQ(this._target.z,this._targetEnd.z,this.restThreshold)&&IQ(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&IQ(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&IQ(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(Y)}lerpLookAt(A,Q,E,B,I,K,J,C,U,Y,H,R,G,O=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=eK.NONE,this._changedDolly=0;const F=_0.set(B,I,K),q=o0.set(A,Q,E);wE.setFromVector3(q.sub(F).applyQuaternion(this._yAxisUpSpace));const W=QJ.set(Y,H,R),Z=o0.set(J,C,U);cC.setFromVector3(Z.sub(W).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(F.lerp(W,G));const $=cC.theta-wE.theta,X=cC.phi-wE.phi,N=cC.radius-wE.radius;if(this._sphericalEnd.set(wE.radius+N*G,wE.phi+X*G,wE.theta+$*G),this.normalizeRotations(),this._needsUpdate=!0,!O)this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd);const M=!O||IQ(this._target.x,this._targetEnd.x,this.restThreshold)&&IQ(this._target.y,this._targetEnd.y,this.restThreshold)&&IQ(this._target.z,this._targetEnd.z,this.restThreshold)&&IQ(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&IQ(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&IQ(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(M)}setPosition(A,Q,E,B=!1){return this.setLookAt(A,Q,E,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,B)}setTarget(A,Q,E,B=!1){const I=this.getPosition(_0),K=this.setLookAt(I.x,I.y,I.z,A,Q,E,B);return this._sphericalEnd.phi=sE(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),K}setFocalOffset(A,Q,E,B=!1){if(this._isUserControllingOffset=!1,this._focalOffsetEnd.set(A,Q,E),this._needsUpdate=!0,!B)this._focalOffset.copy(this._focalOffsetEnd);const I=!B||IQ(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&IQ(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&IQ(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(I)}setOrbitPoint(A,Q,E){this._camera.updateMatrixWorld(),R8.setFromMatrixColumn(this._camera.matrixWorldInverse,0),O8.setFromMatrixColumn(this._camera.matrixWorldInverse,1),H6.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const B=_0.set(A,Q,E),I=B.distanceTo(this._camera.position),K=B.sub(this._camera.position);R8.multiplyScalar(K.x),O8.multiplyScalar(K.y),H6.multiplyScalar(K.z),_0.copy(R8).add(O8).add(H6),_0.z=_0.z+I,this.dollyTo(I,!1),this.setFocalOffset(-_0.x,_0.y,-_0.z,!1),this.moveTo(A,Q,E,!1)}setBoundary(A){if(!A){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(A),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(A,Q,E,B){if(A===null){this._viewport=null;return}if(this._viewport=this._viewport||new F0.Vector4,typeof A==="number")this._viewport.set(A,Q,E,B);else this._viewport.copy(A)}getDistanceToFitBox(A,Q,E,B=!1){if(t$(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const I=A/Q,K=this._camera.getEffectiveFOV()*fC,J=this._camera.aspect;return((B?I>J:I<J)?Q:A/J)*0.5/Math.tan(K*0.5)+E*0.5}getDistanceToFitSphere(A){if(t$(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const Q=this._camera.getEffectiveFOV()*fC,E=Math.atan(Math.tan(Q*0.5)*this._camera.aspect)*2,B=1<this._camera.aspect?Q:E;return A/Math.sin(B*0.5)}getTarget(A,Q=!0){return(!!A&&A.isVector3?A:new F0.Vector3).copy(Q?this._targetEnd:this._target)}getPosition(A,Q=!0){return(!!A&&A.isVector3?A:new F0.Vector3).setFromSpherical(Q?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(Q?this._targetEnd:this._target)}getSpherical(A,Q=!0){return(A||new F0.Spherical).copy(Q?this._sphericalEnd:this._spherical)}getFocalOffset(A,Q=!0){return(!!A&&A.isVector3?A:new F0.Vector3).copy(Q?this._focalOffsetEnd:this._focalOffset)}normalizeRotations(){if(this._sphericalEnd.theta=this._sphericalEnd.theta%AJ,this._sphericalEnd.theta<0)this._sphericalEnd.theta+=AJ;this._spherical.theta+=AJ*Math.round((this._sphericalEnd.theta-this._spherical.theta)/AJ)}stop(){this._focalOffset.copy(this._focalOffsetEnd),this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd),this._zoom=this._zoomEnd}reset(A=!1){if(!IQ(this._camera.up.x,this._cameraUp0.x)||!IQ(this._camera.up.y,this._cameraUp0.y)||!IQ(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);const E=this.getPosition(_0);this.updateCameraUp(),this.setPosition(E.x,E.y,E.z)}const Q=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,A),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,A),this.zoomTo(this._zoom0,A)];return Promise.all(Q)}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,aY),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){const A=_0.subVectors(this._target,this._camera.position).normalize(),Q=o0.crossVectors(A,this._camera.up);this._camera.up.crossVectors(Q,A).normalize(),this._camera.updateMatrixWorld();const E=this.getPosition(_0);this.updateCameraUp(),this.setPosition(E.x,E.y,E.z)}update(A){const Q=this._sphericalEnd.theta-this._spherical.theta,E=this._sphericalEnd.phi-this._spherical.phi,B=this._sphericalEnd.radius-this._spherical.radius,I=xT.subVectors(this._targetEnd,this._target),K=gT.subVectors(this._focalOffsetEnd,this._focalOffset),J=this._zoomEnd-this._zoom;if($Q(Q))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{const H=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=sY(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,H,1/0,A),this._needsUpdate=!0}if($Q(E))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{const H=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=sY(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,H,1/0,A),this._needsUpdate=!0}if($Q(B))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{const H=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=sY(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,H,this.maxSpeed,A),this._needsUpdate=!0}if($Q(I.x)&&$Q(I.y)&&$Q(I.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{const H=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;vT(this._target,this._targetEnd,this._targetVelocity,H,this.maxSpeed,A,this._target),this._needsUpdate=!0}if($Q(K.x)&&$Q(K.y)&&$Q(K.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{const H=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;vT(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,H,this.maxSpeed,A,this._focalOffset),this._needsUpdate=!0}if($Q(J))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{const H=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=sY(this._zoom,this._zoomEnd,this._zoomVelocity,H,1/0,A)}if(this.dollyToCursor){if(Y6(this._camera)&&this._changedDolly!==0){const H=this._spherical.radius-this._lastDistance,R=this._camera,G=this._getCameraDirection(mC),O=_0.copy(G).cross(R.up).normalize();if(O.lengthSq()===0)O.x=1;const F=o0.crossVectors(O,G),q=this._sphericalEnd.radius*Math.tan(R.getEffectiveFOV()*fC*0.5),Z=(this._sphericalEnd.radius-H-this._sphericalEnd.radius)/this._sphericalEnd.radius,$=QJ.copy(this._targetEnd).add(O.multiplyScalar(this._dollyControlCoord.x*q*R.aspect)).add(F.multiplyScalar(this._dollyControlCoord.y*q)),X=_0.copy(this._targetEnd).lerp($,Z),N=this._lastDollyDirection===eK.IN&&this._spherical.radius<=this.minDistance,M=this._lastDollyDirection===eK.OUT&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(N||M)){this._sphericalEnd.radius-=H,this._spherical.radius-=H;const D=o0.copy(G).multiplyScalar(-H);X.add(D)}this._boundary.clampPoint(X,X);const L=o0.subVectors(X,this._targetEnd);if(this._targetEnd.copy(X),this._target.add(L),this._changedDolly-=H,$Q(this._changedDolly))this._changedDolly=0}else if(AI(this._camera)&&this._changedZoom!==0){const H=this._zoom-this._lastZoom,R=this._camera,G=_0.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(R.near+R.far)/(R.near-R.far)).unproject(R),O=o0.set(0,0,-1).applyQuaternion(R.quaternion),F=QJ.copy(G).add(O.multiplyScalar(-G.dot(R.up))),W=-(this._zoom-H-this._zoom)/this._zoom,Z=this._getCameraDirection(mC),$=this._targetEnd.dot(Z),X=_0.copy(this._targetEnd).lerp(F,W),N=X.dot(Z),M=Z.multiplyScalar(N-$);X.sub(M),this._boundary.clampPoint(X,X);const L=o0.subVectors(X,this._targetEnd);if(this._targetEnd.copy(X),this._target.add(L),this._changedZoom-=H,$Q(this._changedZoom))this._changedZoom=0}}if(this._camera.zoom!==this._zoom)this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0;this._dragNeedsUpdate=!0;const C=this._collisionTest();if(this._spherical.radius=Math.min(this._spherical.radius,C),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),!$Q(this._focalOffset.x)||!$Q(this._focalOffset.y)||!$Q(this._focalOffset.z))this._camera.updateMatrixWorld(),R8.setFromMatrixColumn(this._camera.matrix,0),O8.setFromMatrixColumn(this._camera.matrix,1),H6.setFromMatrixColumn(this._camera.matrix,2),R8.multiplyScalar(this._focalOffset.x),O8.multiplyScalar(-this._focalOffset.y),H6.multiplyScalar(this._focalOffset.z),_0.copy(R8).add(O8).add(H6),this._camera.position.add(_0);if(this._boundaryEnclosesCamera)this._encloseToBoundary(this._camera.position.copy(this._target),_0.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const Y=this._needsUpdate;if(Y&&!this._updatedLastTime)this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"});else if(Y){if(this.dispatchEvent({type:"update"}),$Q(Q,this.restThreshold)&&$Q(E,this.restThreshold)&&$Q(B,this.restThreshold)&&$Q(I.x,this.restThreshold)&&$Q(I.y,this.restThreshold)&&$Q(I.z,this.restThreshold)&&$Q(K.x,this.restThreshold)&&$Q(K.y,this.restThreshold)&&$Q(K.z,this.restThreshold)&&$Q(J,this.restThreshold)&&!this._hasRested)this._hasRested=!0,this.dispatchEvent({type:"rest"})}else if(!Y&&this._updatedLastTime)this.dispatchEvent({type:"sleep"});return this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=Y,this._needsUpdate=!1,Y}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:uC(this.maxDistance),minZoom:this.minZoom,maxZoom:uC(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:uC(this.maxPolarAngle),minAzimuthAngle:uC(this.minAzimuthAngle),maxAzimuthAngle:uC(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:_0.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(A,Q=!1){const E=JSON.parse(A);this.enabled=E.enabled,this.minDistance=E.minDistance,this.maxDistance=pC(E.maxDistance),this.minZoom=E.minZoom,this.maxZoom=pC(E.maxZoom),this.minPolarAngle=E.minPolarAngle,this.maxPolarAngle=pC(E.maxPolarAngle),this.minAzimuthAngle=pC(E.minAzimuthAngle),this.maxAzimuthAngle=pC(E.maxAzimuthAngle),this.smoothTime=E.smoothTime,this.draggingSmoothTime=E.draggingSmoothTime,this.dollySpeed=E.dollySpeed,this.truckSpeed=E.truckSpeed,this.dollyToCursor=E.dollyToCursor,this.verticalDragToForward=E.verticalDragToForward,this._target0.fromArray(E.target0),this._position0.fromArray(E.position0),this._zoom0=E.zoom0,this._focalOffset0.fromArray(E.focalOffset0),this.moveTo(E.target[0],E.target[1],E.target[2],Q),wE.setFromVector3(_0.fromArray(E.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(wE.theta,wE.phi,Q),this.dollyTo(wE.radius,Q),this.zoomTo(E.zoom,Q),this.setFocalOffset(E.focalOffset[0],E.focalOffset[1],E.focalOffset[2],Q),this._needsUpdate=!0}connect(A){if(this._domElement){console.warn("camera-controls is already connected.");return}A.setAttribute("data-camera-controls-version",qe),this._addAllEventListeners(A),this._getClientRect(this._elementRect)}disconnect(){if(this.cancel(),this._removeAllEventListeners(),this._domElement)this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0}dispose(){this.removeAllEventListeners(),this.disconnect()}_getTargetDirection(A){return A.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}_getCameraDirection(A){return this._getTargetDirection(A).negate()}_findPointerById(A){return this._activePointers.find((Q)=>Q.pointerId===A)}_findPointerByMouseButton(A){return this._activePointers.find((Q)=>Q.mouseButton===A)}_disposePointer(A){this._activePointers.splice(this._activePointers.indexOf(A),1)}_encloseToBoundary(A,Q,E){const B=Q.lengthSq();if(B===0)return A;const I=o0.copy(Q).add(A),J=this._boundary.clampPoint(I,QJ).sub(I),C=J.lengthSq();if(C===0)return A.add(Q);else if(C===B)return A;else if(E===0)return A.add(Q).add(J);else{const U=1+E*C/Q.dot(J);return A.add(o0.copy(Q).multiplyScalar(U)).add(J.multiplyScalar(1-E))}}_updateNearPlaneCorners(){if(Y6(this._camera)){const A=this._camera,Q=A.near,E=A.getEffectiveFOV()*fC,B=Math.tan(E*0.5)*Q,I=B*A.aspect;this._nearPlaneCorners[0].set(-I,-B,0),this._nearPlaneCorners[1].set(I,-B,0),this._nearPlaneCorners[2].set(I,B,0),this._nearPlaneCorners[3].set(-I,B,0)}else if(AI(this._camera)){const A=this._camera,Q=1/A.zoom,E=A.left*Q,B=A.right*Q,I=A.top*Q,K=A.bottom*Q;this._nearPlaneCorners[0].set(E,I,0),this._nearPlaneCorners[1].set(B,I,0),this._nearPlaneCorners[2].set(B,K,0),this._nearPlaneCorners[3].set(E,K,0)}}_collisionTest(){let A=1/0;if(!(this.colliderMeshes.length>=1))return A;if(t$(this._camera,"_collisionTest"))return A;const E=this._getTargetDirection(mC);BW.lookAt(yT,E,this._camera.up);for(let B=0;B<4;B++){const I=o0.copy(this._nearPlaneCorners[B]);I.applyMatrix4(BW);const K=QJ.addVectors(this._target,I);tY.set(K,E),tY.far=this._spherical.radius+1;const J=tY.intersectObjects(this.colliderMeshes);if(J.length!==0&&J[0].distance<A)A=J[0].distance}return A}_getClientRect(A){if(!this._domElement)return;const Q=this._domElement.getBoundingClientRect();if(A.x=Q.left,A.y=Q.top,this._viewport)A.x+=this._viewport.x,A.y+=Q.height-this._viewport.w-this._viewport.y,A.width=this._viewport.z,A.height=this._viewport.w;else A.width=Q.width,A.height=Q.height;return A}_createOnRestPromise(A){if(A)return Promise.resolve();return this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise((Q)=>{const E=()=>{this.removeEventListener("rest",E),Q()};this.addEventListener("rest",E)})}_addAllEventListeners(A){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(A){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(A){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}static createBoundingSphere(A,Q=new F0.Sphere){const E=Q,B=E.center;EJ.makeEmpty(),A.traverseVisible((K)=>{if(!K.isMesh)return;EJ.expandByObject(K)}),EJ.getCenter(B);let I=0;return A.traverseVisible((K)=>{if(!K.isMesh)return;const J=K,C=J.geometry.clone();C.applyMatrix4(J.matrixWorld);const Y=C.attributes.position;for(let H=0,R=Y.count;H<R;H++)_0.fromBufferAttribute(Y,H),I=Math.max(I,B.distanceToSquared(_0))}),E.radius=Math.sqrt(I),E}}var IW="// https://jsfiddle.net/arian_/8gvynrdu/6/\r\n// position, texCoord (uv), normal are all provided by three.js\r\n\r\n// 頂点シェーダーに入力される attribute 変数\r\n//attribute vec4 position;       //!< 入力: 位置情報\r\n//attribute vec2 uv;             //!< 入力: テクスチャー座標\r\n//attribute vec3 normal;         //!< 入力: 法線ベクトル\r\n\r\n// color is not actually the vertex color, as such\r\n// it is a custom attribute _COLOR in the glTF\r\n\r\nattribute vec4 _color;           //!< 入力: 頂点の色\r\nattribute vec3 tangent;          //!< 入力: 異方位\r\n\r\n// フラグメントシェーダーへの入力\r\nvarying   vec4 v_color;          //!< 出力: 頂点の色\r\nvarying   vec4 v_position;       //!< 出力: 位置情報\r\nvarying   vec3 v_normal;         //!< 出力: 法線ベクトル\r\nvarying   vec3 v_tangent;        //!< 出力: 異方位\r\nvarying   vec2 v_texCoord;       //!< 出力: テクスチャー座標\r\n\r\n// normalMatrix, modelViewMatrix, and projectionMatrix are provided by three.js\r\n// ユニフォーム\r\n//uniform mat3 normalMatrix;     //!< ユニフォーム: モデルの法線用行列\r\n//uniform mat4 modelViewMatrix;  //!< ユニフォーム: プロジェクション行列\r\n//uniform mat4 projectionMatrix; //!< ユニフォーム: モデル行列\r\n\r\nvoid main()\r\n{\r\n//#ifdef FFL_COORDINATE_MODE_NORMAL\r\n    // 頂点座標を変換\r\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n    v_position = modelViewMatrix * vec4(position, 1.0);\r\n\r\n    // 法線も変換\r\n    //v_normal = mat3(inverse(u_mv)) * a_normal;\r\n    v_normal = normalize(normalMatrix * normal);\r\n//#elif defined(FFL_COORDINATE_MODE_NONE)\r\n//    // 頂点座標を変換\r\n//    gl_Position = vec4(a_position.x, a_position.y * -1.0, a_position.z, a_position.w);\r\n//    v_position = a_position;\r\n//\r\n//    v_normal = a_normal;\r\n//#endif\r\n\r\n     // その他の情報も書き出す\r\n    v_texCoord = uv;\r\n    v_tangent = normalize(normalMatrix * tangent.xyz);\r\n    v_color = _color;\r\n}";var KW="// https://jsfiddle.net/arian_/8gvynrdu/6/\r\n//\r\n//  定数定義ファイル\r\n//\r\n\r\n/// シェーダーモード\r\n#define FFL_SHADER_MODE_UR 0\r\n#define FFL_SHADER_MODE_UB 1\r\n\r\n/// 変調処理のマクロ\r\n#define FFL_MODULATE_MODE_CONSTANT        0\r\n#define FFL_MODULATE_MODE_TEXTURE_DIRECT  1\r\n#define FFL_MODULATE_MODE_RGB_LAYERED     2\r\n#define FFL_MODULATE_MODE_ALPHA           3\r\n#define FFL_MODULATE_MODE_LUMINANCE_ALPHA 4\r\n#define FFL_MODULATE_MODE_ALPHA_OPA       5\r\n\r\n/// スペキュラのモード\r\n#define FFL_SPECULAR_MODE_BLINN 0\r\n#define FFL_SPECULAR_MODE_ANISO 1\r\n\r\n/// ライトのON/OFF\r\n#define FFL_LIGHT_MODE_DISABLE 0\r\n#define FFL_LIGHT_MODE_ENABLE 1\r\n\r\n/// フラグメントのディスカードモード\r\n#define FFL_DISCARD_FRAGMENT_DISABLE 0\r\n#define FFL_DISCARD_FRAGMENT_ENABLE  1\r\n\r\n/// 座標変換モード\r\n#define FFL_COORDINATE_MODE_NONE   0\r\n#define FFL_COORDINATE_MODE_NORMAL 1\r\n\r\n//\r\n//  関数の定義ファイル\r\n//\r\n\r\n/**\r\n * @brief 異方性反射の反射率を計算します。\r\n * @param[in] light   ライトの向き\r\n * @param[in] tangent 接線\r\n * @param[in] eye     視線の向き\r\n * @param[in] power   鋭さ\r\n */\r\nmediump float calculateAnisotropicSpecular(mediump vec3 light, mediump vec3 tangent, mediump vec3 eye, mediump float power )\r\n{\r\n\tmediump float dotLT = dot(light, tangent);\r\n\tmediump float dotVT = dot(eye, tangent);\r\n\tmediump float dotLN = sqrt(1.0 - dotLT * dotLT);\r\n\tmediump float dotVR = dotLN*sqrt(1.0 - dotVT * dotVT) - dotLT * dotVT;\r\n\r\n\treturn pow(max(0.0, dotVR), power);\r\n}\r\n\r\n/**\r\n * @brief 異方性反射の反射率を計算します。\r\n * @param[in] light   ライトの向き\r\n * @param[in] normal  法線\r\n * @param[in] eye     視線の向き\r\n * @param[in] power   鋭さ\r\n */\r\nmediump float calculateBlinnSpecular(mediump vec3 light, mediump vec3 normal, mediump vec3 eye, mediump float power)\r\n{\r\n\treturn pow(max(dot(reflect(-light, normal), eye), 0.0), power);\r\n}\r\n\r\n/**\r\n * @brief 異方性反射、ブリン反射をブレンドします。\r\n * @param[in] blend ブレンド率\r\n * @param[in] blinn ブリンの値\r\n * @param[in] aniso 異方性の値\r\n */\r\nmediump float calculateSpecularBlend(mediump float blend, mediump float blinn, mediump float aniso)\r\n{\r\n\treturn mix(aniso, blinn, blend);\r\n}\r\n\r\n/**\r\n * @brief アンビエントを計算します。\r\n * @param[in] light    ライト\r\n * @param[in] material マテリアル\r\n */\r\nmediump vec3 calculateAmbientColor(mediump vec3 light, mediump vec3 material)\r\n{\r\n\treturn light * material;\r\n}\r\n\r\n/**\r\n * @brief 拡散を計算します。\r\n * @param[in] light    ライト\r\n * @param[in] material マテリアル\r\n * @param[in] ln       ライトと法線の内積\r\n */\r\nmediump vec3 calculateDiffuseColor(mediump vec3 light, mediump vec3 material, mediump float ln)\r\n{\r\n\treturn light * material * ln;\r\n}\r\n\r\n/**\r\n * @brief 鏡面反射を計算します。\r\n * @param[in] light      ライト\r\n * @param[in] material   マテリアル\r\n * @param[in] reflection 反射率\r\n * @param[in] strength   幅\r\n */\r\nmediump vec3 calculateSpecularColor(mediump vec3 light, mediump vec3 material, mediump float reflection, mediump float strength)\r\n{\r\n\treturn light * material * reflection * strength;\r\n}\r\n\r\n/**\r\n * @brief リムを計算します。\r\n * @param[in] color   リム色\r\n * @param[in] normalZ 法線のZ方向\r\n * @param[in] width   リム幅\r\n * @param[in] power   リムの鋭さ\r\n */\r\nmediump vec3 calculateRimColor(mediump vec3 color, mediump float normalZ, mediump float width, mediump float power)\r\n{\r\n\treturn color * pow(width * (1.0 - abs(normalZ)), power);\r\n}\r\n\r\n/**\r\n * @brief ライト方向と法線の内積を求める\r\n * @note 特殊な実装になっています。\r\n */\r\nmediump float calculateDot(mediump vec3 light, mediump vec3 normal)\r\n{\r\n\treturn max(dot(light, normal), 0.1);\r\n}\r\n\r\n// フラグメントシェーダーに入力される varying 変数\r\nvarying mediump vec4 v_color;          //!< 出力: 頂点の色\r\nvarying mediump vec4 v_position;       //!< 出力: 位置情報\r\nvarying mediump vec3 v_normal;         //!< 出力: 法線ベクトル\r\nvarying mediump vec3 v_tangent;        //!< 出力: 異方位\r\nvarying mediump vec2 v_texCoord;       //!< 出力: テクスチャー座標\r\n\r\n/// constカラー\r\nuniform mediump vec4  u_const1; ///< constカラー1\r\n/*\r\nuniform mediump vec4  u_const2; ///< constカラー2\r\nuniform mediump vec4  u_const3; ///< constカラー3\r\n*/\r\n\r\n/// ライト設定\r\nuniform mediump vec4 u_light_ambient;  ///< カメラ空間のライト方向\r\nuniform mediump vec4 u_light_diffuse;  ///< 拡散光用ライト\r\nuniform mediump vec3 u_light_dir;\r\nuniform bool u_light_enable;\r\nuniform mediump vec4 u_light_specular; ///< 鏡面反射用ライト強度\r\n\r\n/// マテリアル設定\r\nuniform mediump vec4 u_material_ambient;         ///< 環境光用マテリアル設定\r\nuniform mediump vec4 u_material_diffuse;         ///< 拡散光用マテリアル設定\r\nuniform mediump vec4 u_material_specular;        ///< 鏡面反射用マテリアル設定\r\nuniform int u_material_specular_mode;            ///< スペキュラの反射モード(CharModelに依存する設定のためub_modulateにしている)\r\nuniform mediump float u_material_specular_power; ///< スペキュラの鋭さ(0.0を指定すると頂点カラーの設定が利用される)\r\n\r\n/// 変調設定\r\nuniform int u_mode;   ///< 描画モード\r\n\r\n/// リム設定\r\nuniform mediump vec4  u_rim_color;\r\nuniform mediump float u_rim_power;\r\n\r\n// サンプラー\r\nuniform sampler2D s_texture;\r\n\r\n// -------------------------------------------------------\r\n// メイン文\r\nvoid main()\r\n{\r\n    mediump vec4 color;\r\n\r\n    mediump float specularPower    = u_material_specular_power;\r\n    mediump float rimWidth         = v_color.a;\r\n\r\n//#ifdef FFL_MODULATE_MODE_CONSTANT\r\n    if(u_mode == FFL_MODULATE_MODE_CONSTANT)\r\n    {\r\n        color = u_const1;\r\n    }\r\n//#elif defined(FFL_MODULATE_MODE_TEXTURE_DIRECT)\r\n    else if(u_mode > FFL_MODULATE_MODE_CONSTANT)// == FFL_MODULATE_MODE_TEXTURE_DIRECT)\r\n    {\r\n        color = texture2D(s_texture, v_texCoord);\r\n    }\r\n    /*\r\n//#elif defined(FFL_MODULATE_MODE_RGB_LAYERED)\r\n    else if(u_mode == FFL_MODULATE_MODE_RGB_LAYERED)\r\n    {\r\n        color = texture2D(s_texture, v_texCoord);\r\n        color = vec4(color.r * u_const1.rgb + color.g * u_const2.rgb + color.b * u_const3.rgb, color.a);\r\n    }\r\n//#elif defined(FFL_MODULATE_MODE_ALPHA)\r\n    else if(u_mode == FFL_MODULATE_MODE_ALPHA)\r\n    {\r\n        color = texture2D(s_texture, v_texCoord);\r\n        color = vec4(u_const1.rgb, color.r);\r\n    }\r\n//#elif defined(FFL_MODULATE_MODE_LUMINANCE_ALPHA)\r\n    else if(u_mode == FFL_MODULATE_MODE_LUMINANCE_ALPHA)\r\n    {\r\n        color = texture2D(s_texture, v_texCoord);\r\n        color = vec4(color.g * u_const1.rgb, color.r);\r\n    }\r\n//#elif defined(FFL_MODULATE_MODE_ALPHA_OPA)\r\n    else if(u_mode == FFL_MODULATE_MODE_ALPHA_OPA)\r\n    {\r\n        color = texture2D(s_texture, v_texCoord);\r\n        color = vec4(color.r * u_const1.rgb, 1.0);\r\n    }\r\n    */\r\n//#endif\r\n\r\n    // avoids little outline around mask elements\r\n    if(color.a == 0.0f)\r\n    {\r\n        discard;\r\n    }\r\n\r\n//#ifdef FFL_LIGHT_MODE_ENABLE\r\n    if(u_light_enable)\r\n    {\r\n        /// 環境光の計算\r\n        mediump vec3 ambient = calculateAmbientColor(u_light_ambient.xyz, u_material_ambient.xyz);\r\n\r\n        /// 法線ベクトルの正規化\r\n        mediump vec3 norm = normalize(v_normal);\r\n\r\n        /// 視線ベクトル\r\n        mediump vec3 eye = normalize(-v_position.xyz);\r\n\r\n        // ライトの向き\r\n        mediump float fDot = calculateDot(u_light_dir, norm);\r\n\r\n        /// Diffuse計算\r\n        mediump vec3 diffuse = calculateDiffuseColor(u_light_diffuse.xyz, u_material_diffuse.xyz, fDot);\r\n\r\n        /// Specular計算\r\n        mediump float specularBlinn = calculateBlinnSpecular(u_light_dir, norm, eye, u_material_specular_power);\r\n\r\n        /// Specularの値を確保する変数を宣言\r\n        mediump float reflection;\r\n        mediump float strength = v_color.g;\r\n        if(u_material_specular_mode == 0)\r\n        {\r\n            /// Blinnモデルの場合\r\n            strength = 1.0;\r\n            reflection = specularBlinn;\r\n        }\r\n        else\r\n        {\r\n            /// Aisoモデルの場合\r\n            mediump float specularAniso = calculateAnisotropicSpecular(u_light_dir, v_tangent, eye, u_material_specular_power);\r\n            reflection = calculateSpecularBlend(v_color.r, specularBlinn, specularAniso);\r\n        }\r\n        /// Specularの色を取得\r\n        mediump vec3 specular = calculateSpecularColor(u_light_specular.xyz, u_material_specular.xyz, reflection, strength);\r\n\r\n        // リムの色を計算\r\n        mediump vec3 rimColor = calculateRimColor(u_rim_color.rgb, norm.z, v_color.a, u_rim_power);\r\n\r\n        // カラーの計算\r\n        color.rgb = (ambient + diffuse) * color.rgb + specular + rimColor;\r\n    }\r\n//#endif\r\n\r\n    gl_FragColor = color;\r\n}";function dT(A){A.traverse((Q)=>{const E=Q;if(E.isMesh)_e(E)})}function _e(A){const Q=A.material,E=A.geometry.userData,B=E.modulateType;if(E.modulateType===void 0)console.warn(`Mesh "${A.name}" is missing "modulateType" in userData.`);const I=B>5?!1:!0,K=B!==void 0?B&&B<9?iY[B]:iY[0]:iY[0],J=E.modulateMode===void 0?0:E.modulateMode;let C;if(!E.modulateColor)console.warn(`Mesh "${A.name}" is missing "modulateColor" in userData.`),C=new gA(...[1,0,0],1);else C=new gA(...E.modulateColor,1);console.log(A.name,E);const U={};if(Q.map)U.USE_MAP="",Q.map.colorSpace=f0;let Y=Q.side;if(E.cullMode!==void 0)switch(E.cullMode){case 0:Y=FQ;break;case 1:Y=xE;break;case 2:Y=ZE;break}const H=new cA({vertexShader:IW,fragmentShader:KW,uniforms:{u_const1:{value:C},u_light_ambient:{value:zT},u_light_diffuse:{value:VT},u_light_specular:{value:TT},u_light_dir:{value:ST},u_light_enable:{value:I},u_material_ambient:{value:K.ambient},u_material_diffuse:{value:K.diffuse},u_material_specular:{value:K.specular},u_material_specular_mode:{value:K.specularMode},u_material_specular_power:{value:K.specularPower},u_mode:{value:J},u_rim_color:{value:PT},u_rim_power:{value:_T},s_texture:{value:Q.map}},defines:U,side:Y,blending:bE,blendDstAlpha:uR,transparent:Q.transparent,alphaTest:Q.alphaTest});A.material=H}var G6=new B1,JJ=new y0(45,window.innerWidth/window.innerHeight,0.1,1000);JJ.position.set(0,0,25);JJ.rotation.set(0,Math.PI,0);var QI=new wK({antialias:!0}),SXA=()=>QI;QI.setSize(window.innerWidth,window.innerHeight);var eY=document.createElement("div");eY.classList.add("ui-base");eY.style.padding="0";eY.appendChild(QI.domElement);document.body.appendChild(eY);window.addEventListener("resize",()=>{JJ.aspect=window.innerWidth/window.innerHeight,JJ.updateProjectionMatrix(),QI.setSize(window.innerWidth,window.innerHeight)});BJ.install({THREE:mB});var Me=new BJ(JJ,QI.domElement),we=new i8,ze=new IY;ze.loadAsync(["cube_map.png","cube_map.png","cube_map.png","cube_map.png","cube_map.png","cube_map.png"]).then((A)=>{G6.environment=A,G6.environmentIntensity=0.25});var JW=/*@__PURE__*/new Map,Ve=(A)=>{const Q=we.getDelta();QI.render(G6,JJ),JW.forEach((E)=>E(A,Q))},IJ=1000,KJ=5;JW.set("controls",(A,Q)=>Me.update(Q));var Te=new sI(6710886,1);G6.add(Te);var CW=new FE(15466239,3.14),Se=new RY(CW,2);CW.position.set(10,10,10);G6.add(CW,Se);var mT=[[1,0,0]];for(let A=0;A<mT.length;A++){let Q=A+1;const E=new uQ,B=new LQ;E.userData={cullMode:1,modulateColor:[...mT[A],1],modulateMode:0,modulateType:1};const I=new mA(E,B);G6.add(I),dT(I),JW.set(`cube${A}`,(K,J)=>{I.rotation.set(K/IJ/Q*KJ*Q,K/IJ/Q*KJ*Q,K/IJ/Q*KJ*Q),I.position.set(Math.sin(K*Q/IJ)*((Q+2)/KJ)*10,Math.sin(K*Q/IJ)*((Q+2)/KJ)*10,Math.cos(K*Q/IJ)*((Q+2)/KJ)*10)})}QI.setClearColor(6710886);QI.setAnimationLoop(Ve);await aq();var Pe=new P7(A1.from("AwAFMG0rAiKJRLe1nDWwN5i26X5uuAAAY0FjAGgAYQByAGwAaQBuAGUAAAAAAEwmApBlBttoRBggNEYUgRITYg0AACkAUkhQYwBoAGEAcgBsAGkAbgBlAAAAAAAAAHLb","base64")),cT=await kT(Pe);dT(cT);G6.add(cT);export{_e as traverseMesh,SXA as getRenderer};
